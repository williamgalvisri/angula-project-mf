var __webpack_modules__={7277:()=>{!function(e){const n=e.performance;function a(B){n&&n.mark&&n.mark(B)}function r(B,y){n&&n.measure&&n.measure(B,y)}a("Zone");const c=e.__Zone_symbol_prefix||"__zone_symbol__";function p(B){return c+B}const m=!0===e[p("forceDuplicateZoneCheck")];if(e.Zone){if(m||"function"!=typeof e.Zone.__symbol__)throw new Error("Zone already loaded.");return e.Zone}let T=(()=>{class B{constructor(t,o){this._parent=t,this._name=o?o.name||"unnamed":"<root>",this._properties=o&&o.properties||{},this._zoneDelegate=new P(this,this._parent&&this._parent._zoneDelegate,o)}static assertZonePatched(){if(e.Promise!==ke.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let t=B.current;for(;t.parent;)t=t.parent;return t}static get current(){return re.zone}static get currentTask(){return Se}static __load_patch(t,o,S=!1){if(ke.hasOwnProperty(t)){if(!S&&m)throw Error("Already loaded patch: "+t)}else if(!e["__Zone_disable_"+t]){const L="Zone:"+t;a(L),ke[t]=o(e,B,Ne),r(L,L)}}get parent(){return this._parent}get name(){return this._name}get(t){const o=this.getZoneWith(t);if(o)return o._properties[t]}getZoneWith(t){let o=this;for(;o;){if(o._properties.hasOwnProperty(t))return o;o=o._parent}return null}fork(t){if(!t)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,t)}wrap(t,o){if("function"!=typeof t)throw new Error("Expecting function got: "+t);const S=this._zoneDelegate.intercept(this,t,o),L=this;return function(){return L.runGuarded(S,this,arguments,o)}}run(t,o,S,L){re={parent:re,zone:this};try{return this._zoneDelegate.invoke(this,t,o,S,L)}finally{re=re.parent}}runGuarded(t,o=null,S,L){re={parent:re,zone:this};try{try{return this._zoneDelegate.invoke(this,t,o,S,L)}catch(ve){if(this._zoneDelegate.handleError(this,ve))throw ve}}finally{re=re.parent}}runTask(t,o,S){if(t.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(t.zone||oe).name+"; Execution: "+this.name+")");if(t.state===Q&&(t.type===I||t.type===W))return;const L=t.state!=_e;L&&t._transitionTo(_e,G),t.runCount++;const ve=Se;Se=t,re={parent:re,zone:this};try{t.type==W&&t.data&&!t.data.isPeriodic&&(t.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,t,o,S)}catch(h){if(this._zoneDelegate.handleError(this,h))throw h}}finally{t.state!==Q&&t.state!==me&&(t.type==I||t.data&&t.data.isPeriodic?L&&t._transitionTo(G,_e):(t.runCount=0,this._updateTaskCount(t,-1),L&&t._transitionTo(Q,_e,Q))),re=re.parent,Se=ve}}scheduleTask(t){if(t.zone&&t.zone!==this){let S=this;for(;S;){if(S===t.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${t.zone.name}`);S=S.parent}}t._transitionTo(de,Q);const o=[];t._zoneDelegates=o,t._zone=this;try{t=this._zoneDelegate.scheduleTask(this,t)}catch(S){throw t._transitionTo(me,de,Q),this._zoneDelegate.handleError(this,S),S}return t._zoneDelegates===o&&this._updateTaskCount(t,1),t.state==de&&t._transitionTo(G,de),t}scheduleMicroTask(t,o,S,L){return this.scheduleTask(new k(D,t,o,S,L,void 0))}scheduleMacroTask(t,o,S,L,ve){return this.scheduleTask(new k(W,t,o,S,L,ve))}scheduleEventTask(t,o,S,L,ve){return this.scheduleTask(new k(I,t,o,S,L,ve))}cancelTask(t){if(t.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(t.zone||oe).name+"; Execution: "+this.name+")");t._transitionTo(J,G,_e);try{this._zoneDelegate.cancelTask(this,t)}catch(o){throw t._transitionTo(me,J),this._zoneDelegate.handleError(this,o),o}return this._updateTaskCount(t,-1),t._transitionTo(Q,J),t.runCount=0,t}_updateTaskCount(t,o){const S=t._zoneDelegates;-1==o&&(t._zoneDelegates=null);for(let L=0;L<S.length;L++)S[L]._updateTaskCount(t.type,o)}}return B.__symbol__=p,B})();const O={name:"",onHasTask:(B,y,t,o)=>B.hasTask(t,o),onScheduleTask:(B,y,t,o)=>B.scheduleTask(t,o),onInvokeTask:(B,y,t,o,S,L)=>B.invokeTask(t,o,S,L),onCancelTask:(B,y,t,o)=>B.cancelTask(t,o)};class P{constructor(y,t,o){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=y,this._parentDelegate=t,this._forkZS=o&&(o&&o.onFork?o:t._forkZS),this._forkDlgt=o&&(o.onFork?t:t._forkDlgt),this._forkCurrZone=o&&(o.onFork?this.zone:t._forkCurrZone),this._interceptZS=o&&(o.onIntercept?o:t._interceptZS),this._interceptDlgt=o&&(o.onIntercept?t:t._interceptDlgt),this._interceptCurrZone=o&&(o.onIntercept?this.zone:t._interceptCurrZone),this._invokeZS=o&&(o.onInvoke?o:t._invokeZS),this._invokeDlgt=o&&(o.onInvoke?t:t._invokeDlgt),this._invokeCurrZone=o&&(o.onInvoke?this.zone:t._invokeCurrZone),this._handleErrorZS=o&&(o.onHandleError?o:t._handleErrorZS),this._handleErrorDlgt=o&&(o.onHandleError?t:t._handleErrorDlgt),this._handleErrorCurrZone=o&&(o.onHandleError?this.zone:t._handleErrorCurrZone),this._scheduleTaskZS=o&&(o.onScheduleTask?o:t._scheduleTaskZS),this._scheduleTaskDlgt=o&&(o.onScheduleTask?t:t._scheduleTaskDlgt),this._scheduleTaskCurrZone=o&&(o.onScheduleTask?this.zone:t._scheduleTaskCurrZone),this._invokeTaskZS=o&&(o.onInvokeTask?o:t._invokeTaskZS),this._invokeTaskDlgt=o&&(o.onInvokeTask?t:t._invokeTaskDlgt),this._invokeTaskCurrZone=o&&(o.onInvokeTask?this.zone:t._invokeTaskCurrZone),this._cancelTaskZS=o&&(o.onCancelTask?o:t._cancelTaskZS),this._cancelTaskDlgt=o&&(o.onCancelTask?t:t._cancelTaskDlgt),this._cancelTaskCurrZone=o&&(o.onCancelTask?this.zone:t._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const S=o&&o.onHasTask;(S||t&&t._hasTaskZS)&&(this._hasTaskZS=S?o:O,this._hasTaskDlgt=t,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=y,o.onScheduleTask||(this._scheduleTaskZS=O,this._scheduleTaskDlgt=t,this._scheduleTaskCurrZone=this.zone),o.onInvokeTask||(this._invokeTaskZS=O,this._invokeTaskDlgt=t,this._invokeTaskCurrZone=this.zone),o.onCancelTask||(this._cancelTaskZS=O,this._cancelTaskDlgt=t,this._cancelTaskCurrZone=this.zone))}fork(y,t){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,y,t):new T(y,t)}intercept(y,t,o){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,y,t,o):t}invoke(y,t,o,S,L){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,y,t,o,S,L):t.apply(o,S)}handleError(y,t){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,y,t)}scheduleTask(y,t){let o=t;if(this._scheduleTaskZS)this._hasTaskZS&&o._zoneDelegates.push(this._hasTaskDlgtOwner),o=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,y,t),o||(o=t);else if(t.scheduleFn)t.scheduleFn(t);else{if(t.type!=D)throw new Error("Task is missing scheduleFn.");v(t)}return o}invokeTask(y,t,o,S){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,y,t,o,S):t.callback.apply(o,S)}cancelTask(y,t){let o;if(this._cancelTaskZS)o=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,y,t);else{if(!t.cancelFn)throw Error("Task is not cancelable");o=t.cancelFn(t)}return o}hasTask(y,t){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,y,t)}catch(o){this.handleError(y,o)}}_updateTaskCount(y,t){const o=this._taskCounts,S=o[y],L=o[y]=S+t;if(L<0)throw new Error("More tasks executed then were scheduled.");0!=S&&0!=L||this.hasTask(this.zone,{microTask:o.microTask>0,macroTask:o.macroTask>0,eventTask:o.eventTask>0,change:y})}}class k{constructor(y,t,o,S,L,ve){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=y,this.source=t,this.data=S,this.scheduleFn=L,this.cancelFn=ve,!o)throw new Error("callback is not defined");this.callback=o;const h=this;this.invoke=y===I&&S&&S.useG?k.invokeTask:function(){return k.invokeTask.call(e,h,this,arguments)}}static invokeTask(y,t,o){y||(y=this),Ce++;try{return y.runCount++,y.zone.runTask(y,t,o)}finally{1==Ce&&q(),Ce--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(Q,de)}_transitionTo(y,t,o){if(this._state!==t&&this._state!==o)throw new Error(`${this.type} '${this.source}': can not transition to '${y}', expecting state '${t}'${o?" or '"+o+"'":""}, was '${this._state}'.`);this._state=y,y==Q&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const F=p("setTimeout"),H=p("Promise"),z=p("then");let b,ae=[],te=!1;function v(B){if(0===Ce&&0===ae.length)if(b||e[H]&&(b=e[H].resolve(0)),b){let y=b[z];y||(y=b.then),y.call(b,q)}else e[F](q,0);B&&ae.push(B)}function q(){if(!te){for(te=!0;ae.length;){const B=ae;ae=[];for(let y=0;y<B.length;y++){const t=B[y];try{t.zone.runTask(t,null,null)}catch(o){Ne.onUnhandledError(o)}}}Ne.microtaskDrainDone(),te=!1}}const oe={name:"NO ZONE"},Q="notScheduled",de="scheduling",G="scheduled",_e="running",J="canceling",me="unknown",D="microTask",W="macroTask",I="eventTask",ke={},Ne={symbol:p,currentZoneFrame:()=>re,onUnhandledError:ce,microtaskDrainDone:ce,scheduleMicroTask:v,showUncaughtError:()=>!T[p("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:ce,patchMethod:()=>ce,bindArguments:()=>[],patchThen:()=>ce,patchMacroTask:()=>ce,patchEventPrototype:()=>ce,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>ce,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>ce,wrapWithCurrentZone:()=>ce,filterProperties:()=>[],attachOriginToPatched:()=>ce,_redefineProperty:()=>ce,patchCallbacks:()=>ce};let re={parent:null,zone:new T(null,null)},Se=null,Ce=0;function ce(){}r("Zone","Zone"),e.Zone=T}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global);const x=Object.getOwnPropertyDescriptor,C=Object.defineProperty,X=Object.getPrototypeOf,ie=Object.create,se=Array.prototype.slice,V="addEventListener",ge="removeEventListener",ne=Zone.__symbol__(V),Ee=Zone.__symbol__(ge),U="true",K="false",ue=Zone.__symbol__("");function we(e,n){return Zone.current.wrap(e,n)}function Te(e,n,a,r,c){return Zone.current.scheduleMacroTask(e,n,a,r,c)}const R=Zone.__symbol__,Y="undefined"!=typeof window,Me=Y?window:void 0,pe=Y&&Me||"object"==typeof self&&self||global,ot=[null];function Be(e,n){for(let a=e.length-1;a>=0;a--)"function"==typeof e[a]&&(e[a]=we(e[a],n+"_"+a));return e}function $e(e){return!e||!1!==e.writable&&!("function"==typeof e.get&&void 0===e.set)}const Ke="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,Fe=!("nw"in pe)&&void 0!==pe.process&&"[object process]"==={}.toString.call(pe.process),qe=!Fe&&!Ke&&!(!Y||!Me.HTMLElement),Je=void 0!==pe.process&&"[object process]"==={}.toString.call(pe.process)&&!Ke&&!(!Y||!Me.HTMLElement),Oe={},De=function(e){if(!(e=e||pe.event))return;let n=Oe[e.type];n||(n=Oe[e.type]=R("ON_PROPERTY"+e.type));const a=this||e.target||pe,r=a[n];let c;if(qe&&a===Me&&"error"===e.type){const p=e;c=r&&r.call(this,p.message,p.filename,p.lineno,p.colno,p.error),!0===c&&e.preventDefault()}else c=r&&r.apply(this,arguments),null!=c&&!c&&e.preventDefault();return c};function We(e,n,a){let r=x(e,n);if(!r&&a&&x(a,n)&&(r={enumerable:!0,configurable:!0}),!r||!r.configurable)return;const c=R("on"+n+"patched");if(e.hasOwnProperty(c)&&e[c])return;delete r.writable,delete r.value;const p=r.get,m=r.set,T=n.substr(2);let O=Oe[T];O||(O=Oe[T]=R("ON_PROPERTY"+T)),r.set=function(P){let k=this;!k&&e===pe&&(k=pe),k&&(k[O]&&k.removeEventListener(T,De),m&&m.apply(k,ot),"function"==typeof P?(k[O]=P,k.addEventListener(T,De,!1)):k[O]=null)},r.get=function(){let P=this;if(!P&&e===pe&&(P=pe),!P)return null;const k=P[O];if(k)return k;if(p){let F=p&&p.call(this);if(F)return r.set.call(this,F),"function"==typeof P.removeAttribute&&P.removeAttribute(n),F}return null},C(e,n,r),e[c]=!0}function Ge(e,n,a){if(n)for(let r=0;r<n.length;r++)We(e,"on"+n[r],a);else{const r=[];for(const c in e)"on"==c.substr(0,2)&&r.push(c);for(let c=0;c<r.length;c++)We(e,r[c],a)}}const l=R("originalInstance");function u(e){const n=pe[e];if(!n)return;pe[R(e)]=n,pe[e]=function(){const c=Be(arguments,e);switch(c.length){case 0:this[l]=new n;break;case 1:this[l]=new n(c[0]);break;case 2:this[l]=new n(c[0],c[1]);break;case 3:this[l]=new n(c[0],c[1],c[2]);break;case 4:this[l]=new n(c[0],c[1],c[2],c[3]);break;default:throw new Error("Arg list too long.")}},_(pe[e],n);const a=new n(function(){});let r;for(r in a)"XMLHttpRequest"===e&&"responseBlob"===r||function(c){"function"==typeof a[c]?pe[e].prototype[c]=function(){return this[l][c].apply(this[l],arguments)}:C(pe[e].prototype,c,{set:function(p){"function"==typeof p?(this[l][c]=we(p,e+"."+c),_(this[l][c],p)):this[l][c]=p},get:function(){return this[l][c]}})}(r);for(r in n)"prototype"!==r&&n.hasOwnProperty(r)&&(pe[e][r]=n[r])}function i(e,n,a){let r=e;for(;r&&!r.hasOwnProperty(n);)r=X(r);!r&&e[n]&&(r=e);const c=R(n);let p=null;if(r&&(!(p=r[c])||!r.hasOwnProperty(c))&&(p=r[c]=r[n],$e(r&&x(r,n)))){const T=a(p,c,n);r[n]=function(){return T(this,arguments)},_(r[n],p)}return p}function d(e,n,a){let r=null;function c(p){const m=p.data;return m.args[m.cbIdx]=function(){p.invoke.apply(this,arguments)},r.apply(m.target,m.args),p}r=i(e,n,p=>function(m,T){const O=a(m,T);return O.cbIdx>=0&&"function"==typeof T[O.cbIdx]?Te(O.name,T[O.cbIdx],O,c):p.apply(m,T)})}function _(e,n){e[R("OriginalDelegate")]=n}let w=!1,$=!1;function je(){if(w)return $;w=!0;try{const e=Me.navigator.userAgent;(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/")||-1!==e.indexOf("Edge/"))&&($=!0)}catch{}return $}Zone.__load_patch("ZoneAwarePromise",(e,n,a)=>{const r=Object.getOwnPropertyDescriptor,c=Object.defineProperty,m=a.symbol,T=[],O=!0===e[m("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],P=m("Promise"),k=m("then");a.onUnhandledError=h=>{if(a.showUncaughtError()){const s=h&&h.rejection;s?console.error("Unhandled Promise rejection:",s instanceof Error?s.message:s,"; Zone:",h.zone.name,"; Task:",h.task&&h.task.source,"; Value:",s,s instanceof Error?s.stack:void 0):console.error(h)}},a.microtaskDrainDone=()=>{for(;T.length;){const h=T.shift();try{h.zone.runGuarded(()=>{throw h.throwOriginal?h.rejection:h})}catch(s){z(s)}}};const H=m("unhandledPromiseRejectionHandler");function z(h){a.onUnhandledError(h);try{const s=n[H];"function"==typeof s&&s.call(this,h)}catch{}}function ae(h){return h&&h.then}function te(h){return h}function b(h){return t.reject(h)}const v=m("state"),q=m("value"),oe=m("finally"),Q=m("parentPromiseValue"),de=m("parentPromiseState"),_e=null,J=!0,me=!1;function W(h,s){return f=>{try{re(h,s,f)}catch(E){re(h,!1,E)}}}const Ne=m("currentTaskTrace");function re(h,s,f){const E=function(){let h=!1;return function(f){return function(){h||(h=!0,f.apply(null,arguments))}}}();if(h===f)throw new TypeError("Promise resolved with itself");if(h[v]===_e){let M=null;try{("object"==typeof f||"function"==typeof f)&&(M=f&&f.then)}catch(j){return E(()=>{re(h,!1,j)})(),h}if(s!==me&&f instanceof t&&f.hasOwnProperty(v)&&f.hasOwnProperty(q)&&f[v]!==_e)Ce(f),re(h,f[v],f[q]);else if(s!==me&&"function"==typeof M)try{M.call(f,E(W(h,s)),E(W(h,!1)))}catch(j){E(()=>{re(h,!1,j)})()}else{h[v]=s;const j=h[q];if(h[q]=f,h[oe]===oe&&s===J&&(h[v]=h[de],h[q]=h[Q]),s===me&&f instanceof Error){const N=n.currentTask&&n.currentTask.data&&n.currentTask.data.__creationTrace__;N&&c(f,Ne,{configurable:!0,enumerable:!1,writable:!0,value:N})}for(let N=0;N<j.length;)ce(h,j[N++],j[N++],j[N++],j[N++]);if(0==j.length&&s==me){h[v]=0;let N=f;try{throw new Error("Uncaught (in promise): "+function p(h){return h&&h.toString===Object.prototype.toString?(h.constructor&&h.constructor.name||"")+": "+JSON.stringify(h):h?h.toString():Object.prototype.toString.call(h)}(f)+(f&&f.stack?"\n"+f.stack:""))}catch(Z){N=Z}O&&(N.throwOriginal=!0),N.rejection=f,N.promise=h,N.zone=n.current,N.task=n.currentTask,T.push(N),a.scheduleMicroTask()}}}return h}const Se=m("rejectionHandledHandler");function Ce(h){if(0===h[v]){try{const s=n[Se];s&&"function"==typeof s&&s.call(this,{rejection:h[q],promise:h})}catch{}h[v]=me;for(let s=0;s<T.length;s++)h===T[s].promise&&T.splice(s,1)}}function ce(h,s,f,E,M){Ce(h);const j=h[v],N=j?"function"==typeof E?E:te:"function"==typeof M?M:b;s.scheduleMicroTask("Promise.then",()=>{try{const Z=h[q],A=!!f&&oe===f[oe];A&&(f[Q]=Z,f[de]=j);const ee=s.run(N,void 0,A&&N!==b&&N!==te?[]:[Z]);re(f,!0,ee)}catch(Z){re(f,!1,Z)}},f)}const y=function(){};class t{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(s){return re(new this(null),J,s)}static reject(s){return re(new this(null),me,s)}static race(s){let f,E,M=new this((Z,A)=>{f=Z,E=A});function j(Z){f(Z)}function N(Z){E(Z)}for(let Z of s)ae(Z)||(Z=this.resolve(Z)),Z.then(j,N);return M}static all(s){return t.allWithCallback(s)}static allSettled(s){return(this&&this.prototype instanceof t?this:t).allWithCallback(s,{thenCallback:E=>({status:"fulfilled",value:E}),errorCallback:E=>({status:"rejected",reason:E})})}static allWithCallback(s,f){let E,M,j=new this((ee,le)=>{E=ee,M=le}),N=2,Z=0;const A=[];for(let ee of s){ae(ee)||(ee=this.resolve(ee));const le=Z;try{ee.then(be=>{A[le]=f?f.thenCallback(be):be,N--,0===N&&E(A)},be=>{f?(A[le]=f.errorCallback(be),N--,0===N&&E(A)):M(be)})}catch(be){M(be)}N++,Z++}return N-=2,0===N&&E(A),j}constructor(s){const f=this;if(!(f instanceof t))throw new Error("Must be an instanceof Promise.");f[v]=_e,f[q]=[];try{s&&s(W(f,J),W(f,me))}catch(E){re(f,!1,E)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return t}then(s,f){let E=this.constructor[Symbol.species];(!E||"function"!=typeof E)&&(E=this.constructor||t);const M=new E(y),j=n.current;return this[v]==_e?this[q].push(j,M,s,f):ce(this,j,M,s,f),M}catch(s){return this.then(null,s)}finally(s){let f=this.constructor[Symbol.species];(!f||"function"!=typeof f)&&(f=t);const E=new f(y);E[oe]=oe;const M=n.current;return this[v]==_e?this[q].push(M,E,s,s):ce(this,M,E,s,s),E}}t.resolve=t.resolve,t.reject=t.reject,t.race=t.race,t.all=t.all;const o=e[P]=e.Promise;e.Promise=t;const S=m("thenPatched");function L(h){const s=h.prototype,f=r(s,"then");if(f&&(!1===f.writable||!f.configurable))return;const E=s.then;s[k]=E,h.prototype.then=function(M,j){return new t((Z,A)=>{E.call(this,Z,A)}).then(M,j)},h[S]=!0}return a.patchThen=L,o&&(L(o),i(e,"fetch",h=>function ve(h){return function(s,f){let E=h.apply(s,f);if(E instanceof t)return E;let M=E.constructor;return M[S]||L(M),E}}(h))),Promise[n.__symbol__("uncaughtPromiseErrors")]=T,t}),Zone.__load_patch("toString",e=>{const n=Function.prototype.toString,a=R("OriginalDelegate"),r=R("Promise"),c=R("Error"),p=function(){if("function"==typeof this){const P=this[a];if(P)return"function"==typeof P?n.call(P):Object.prototype.toString.call(P);if(this===Promise){const k=e[r];if(k)return n.call(k)}if(this===Error){const k=e[c];if(k)return n.call(k)}}return n.call(this)};p[a]=n,Function.prototype.toString=p;const m=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":m.call(this)}});let ye=!1;if("undefined"!=typeof window)try{const e=Object.defineProperty({},"passive",{get:function(){ye=!0}});window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch{ye=!1}const Ue={useG:!0},he={},Le={},it=new RegExp("^"+ue+"(\\w+)(true|false)$"),Qe=R("propagationStopped");function at(e,n){const a=(n?n(e):e)+K,r=(n?n(e):e)+U,c=ue+a,p=ue+r;he[e]={},he[e][K]=c,he[e][U]=p}function gt(e,n,a){const r=a&&a.add||V,c=a&&a.rm||ge,p=a&&a.listeners||"eventListeners",m=a&&a.rmAll||"removeAllListeners",T=R(r),O="."+r+":",F=function(b,v,q){if(b.isRemoved)return;const oe=b.callback;"object"==typeof oe&&oe.handleEvent&&(b.callback=de=>oe.handleEvent(de),b.originalDelegate=oe),b.invoke(b,v,[q]);const Q=b.options;Q&&"object"==typeof Q&&Q.once&&v[c].call(v,q.type,b.originalDelegate?b.originalDelegate:b.callback,Q)},H=function(b){if(!(b=b||e.event))return;const v=this||b.target||e,q=v[he[b.type][K]];if(q)if(1===q.length)F(q[0],v,b);else{const oe=q.slice();for(let Q=0;Q<oe.length&&(!b||!0!==b[Qe]);Q++)F(oe[Q],v,b)}},z=function(b){if(!(b=b||e.event))return;const v=this||b.target||e,q=v[he[b.type][U]];if(q)if(1===q.length)F(q[0],v,b);else{const oe=q.slice();for(let Q=0;Q<oe.length&&(!b||!0!==b[Qe]);Q++)F(oe[Q],v,b)}};function ae(b,v){if(!b)return!1;let q=!0;v&&void 0!==v.useG&&(q=v.useG);const oe=v&&v.vh;let Q=!0;v&&void 0!==v.chkDup&&(Q=v.chkDup);let de=!1;v&&void 0!==v.rt&&(de=v.rt);let G=b;for(;G&&!G.hasOwnProperty(r);)G=X(G);if(!G&&b[r]&&(G=b),!G||G[T])return!1;const _e=v&&v.eventNameToString,J={},me=G[T]=G[r],D=G[R(c)]=G[c],W=G[R(p)]=G[p],I=G[R(m)]=G[m];let ke;function Ne(s,f){return!ye&&"object"==typeof s&&s?!!s.capture:ye&&f?"boolean"==typeof s?{capture:s,passive:!0}:s?"object"==typeof s&&!1!==s.passive?Object.assign(Object.assign({},s),{passive:!0}):s:{passive:!0}:s}v&&v.prepend&&(ke=G[R(v.prepend)]=G[v.prepend]);const y=q?function(s){if(!J.isExisting)return me.call(J.target,J.eventName,J.capture?z:H,J.options)}:function(s){return me.call(J.target,J.eventName,s.invoke,J.options)},t=q?function(s){if(!s.isRemoved){const f=he[s.eventName];let E;f&&(E=f[s.capture?U:K]);const M=E&&s.target[E];if(M)for(let j=0;j<M.length;j++)if(M[j]===s){M.splice(j,1),s.isRemoved=!0,0===M.length&&(s.allRemoved=!0,s.target[E]=null);break}}if(s.allRemoved)return D.call(s.target,s.eventName,s.capture?z:H,s.options)}:function(s){return D.call(s.target,s.eventName,s.invoke,s.options)},S=v&&v.diff?v.diff:function(s,f){const E=typeof f;return"function"===E&&s.callback===f||"object"===E&&s.originalDelegate===f},L=Zone[R("UNPATCHED_EVENTS")],ve=e[R("PASSIVE_EVENTS")],h=function(s,f,E,M,j=!1,N=!1){return function(){const Z=this||e;let A=arguments[0];v&&v.transferEventName&&(A=v.transferEventName(A));let ee=arguments[1];if(!ee)return s.apply(this,arguments);if(Fe&&"uncaughtException"===A)return s.apply(this,arguments);let le=!1;if("function"!=typeof ee){if(!ee.handleEvent)return s.apply(this,arguments);le=!0}if(oe&&!oe(s,ee,Z,arguments))return;const be=ye&&!!ve&&-1!==ve.indexOf(A),Re=Ne(arguments[2],be);if(L)for(let Ie=0;Ie<L.length;Ie++)if(A===L[Ie])return be?s.call(Z,A,ee,Re):s.apply(this,arguments);const tt=!!Re&&("boolean"==typeof Re||Re.capture),dt=!(!Re||"object"!=typeof Re)&&Re.once,jt=Zone.current;let nt=he[A];nt||(at(A,_e),nt=he[A]);const pt=nt[tt?U:K];let Ye,Ve=Z[pt],_t=!1;if(Ve){if(_t=!0,Q)for(let Ie=0;Ie<Ve.length;Ie++)if(S(Ve[Ie],ee))return}else Ve=Z[pt]=[];const mt=Z.constructor.name,Et=Le[mt];Et&&(Ye=Et[A]),Ye||(Ye=mt+f+(_e?_e(A):A)),J.options=Re,dt&&(J.options.once=!1),J.target=Z,J.capture=tt,J.eventName=A,J.isExisting=_t;const ze=q?Ue:void 0;ze&&(ze.taskData=J);const Ze=jt.scheduleEventTask(Ye,ee,ze,E,M);return J.target=null,ze&&(ze.taskData=null),dt&&(Re.once=!0),!ye&&"boolean"==typeof Ze.options||(Ze.options=Re),Ze.target=Z,Ze.capture=tt,Ze.eventName=A,le&&(Ze.originalDelegate=ee),N?Ve.unshift(Ze):Ve.push(Ze),j?Z:void 0}};return G[r]=h(me,O,y,t,de),ke&&(G.prependListener=h(ke,".prependListener:",function(s){return ke.call(J.target,J.eventName,s.invoke,J.options)},t,de,!0)),G[c]=function(){const s=this||e;let f=arguments[0];v&&v.transferEventName&&(f=v.transferEventName(f));const E=arguments[2],M=!!E&&("boolean"==typeof E||E.capture),j=arguments[1];if(!j)return D.apply(this,arguments);if(oe&&!oe(D,j,s,arguments))return;const N=he[f];let Z;N&&(Z=N[M?U:K]);const A=Z&&s[Z];if(A)for(let ee=0;ee<A.length;ee++){const le=A[ee];if(S(le,j))return A.splice(ee,1),le.isRemoved=!0,0===A.length&&(le.allRemoved=!0,s[Z]=null,"string"==typeof f)&&(s[ue+"ON_PROPERTY"+f]=null),le.zone.cancelTask(le),de?s:void 0}return D.apply(this,arguments)},G[p]=function(){const s=this||e;let f=arguments[0];v&&v.transferEventName&&(f=v.transferEventName(f));const E=[],M=ct(s,_e?_e(f):f);for(let j=0;j<M.length;j++){const N=M[j];E.push(N.originalDelegate?N.originalDelegate:N.callback)}return E},G[m]=function(){const s=this||e;let f=arguments[0];if(f){v&&v.transferEventName&&(f=v.transferEventName(f));const E=he[f];if(E){const N=s[E[K]],Z=s[E[U]];if(N){const A=N.slice();for(let ee=0;ee<A.length;ee++){const le=A[ee];this[c].call(this,f,le.originalDelegate?le.originalDelegate:le.callback,le.options)}}if(Z){const A=Z.slice();for(let ee=0;ee<A.length;ee++){const le=A[ee];this[c].call(this,f,le.originalDelegate?le.originalDelegate:le.callback,le.options)}}}}else{const E=Object.keys(s);for(let M=0;M<E.length;M++){const N=it.exec(E[M]);let Z=N&&N[1];Z&&"removeListener"!==Z&&this[m].call(this,Z)}this[m].call(this,"removeListener")}if(de)return this},_(G[r],me),_(G[c],D),I&&_(G[m],I),W&&_(G[p],W),!0}let te=[];for(let b=0;b<n.length;b++)te[b]=ae(n[b],a);return te}function ct(e,n){if(!n){const p=[];for(let m in e){const T=it.exec(m);let O=T&&T[1];if(O&&(!n||O===n)){const P=e[m];if(P)for(let k=0;k<P.length;k++)p.push(P[k])}}return p}let a=he[n];a||(at(n),a=he[n]);const r=e[a[K]],c=e[a[U]];return r?c?r.concat(c):r.slice():c?c.slice():[]}function vt(e,n){const a=e.Event;a&&a.prototype&&n.patchMethod(a.prototype,"stopImmediatePropagation",r=>function(c,p){c[Qe]=!0,r&&r.apply(c,p)})}function Tt(e,n,a,r,c){const p=Zone.__symbol__(r);if(n[p])return;const m=n[p]=n[r];n[r]=function(T,O,P){return O&&O.prototype&&c.forEach(function(k){const F=`${a}.${r}::`+k,H=O.prototype;if(H.hasOwnProperty(k)){const z=e.ObjectGetOwnPropertyDescriptor(H,k);z&&z.value?(z.value=e.wrapWithCurrentZone(z.value,F),e._redefineProperty(O.prototype,k,z)):H[k]&&(H[k]=e.wrapWithCurrentZone(H[k],F))}else H[k]&&(H[k]=e.wrapWithCurrentZone(H[k],F))}),m.call(n,T,O,P)},e.attachOriginToPatched(n[r],m)}const et=["absolutedeviceorientation","afterinput","afterprint","appinstalled","beforeinstallprompt","beforeprint","beforeunload","devicelight","devicemotion","deviceorientation","deviceorientationabsolute","deviceproximity","hashchange","languagechange","message","mozbeforepaint","offline","online","paint","pageshow","pagehide","popstate","rejectionhandled","storage","unhandledrejection","unload","userproximity","vrdisplayconnected","vrdisplaydisconnected","vrdisplaypresentchange"],wt=["encrypted","waitingforkey","msneedkey","mozinterruptbegin","mozinterruptend"],lt=["load"],ut=["blur","error","focus","load","resize","scroll","messageerror"],Ot=["bounce","finish","start"],ft=["loadstart","progress","abort","error","load","progress","timeout","loadend","readystatechange"],Ae=["upgradeneeded","complete","abort","success","error","blocked","versionchange","close"],Nt=["close","error","open","message"],Dt=["error","message"],xe=["abort","animationcancel","animationend","animationiteration","auxclick","beforeinput","blur","cancel","canplay","canplaythrough","change","compositionstart","compositionupdate","compositionend","cuechange","click","close","contextmenu","curechange","dblclick","drag","dragend","dragenter","dragexit","dragleave","dragover","drop","durationchange","emptied","ended","error","focus","focusin","focusout","gotpointercapture","input","invalid","keydown","keypress","keyup","load","loadstart","loadeddata","loadedmetadata","lostpointercapture","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","orientationchange","pause","play","playing","pointercancel","pointerdown","pointerenter","pointerleave","pointerlockchange","mozpointerlockchange","webkitpointerlockerchange","pointerlockerror","mozpointerlockerror","webkitpointerlockerror","pointermove","pointout","pointerover","pointerup","progress","ratechange","reset","resize","scroll","seeked","seeking","select","selectionchange","selectstart","show","sort","stalled","submit","suspend","timeupdate","volumechange","touchcancel","touchmove","touchstart","touchend","transitioncancel","transitionend","waiting","wheel"].concat(["webglcontextrestored","webglcontextlost","webglcontextcreationerror"],["autocomplete","autocompleteerror"],["toggle"],["afterscriptexecute","beforescriptexecute","DOMContentLoaded","freeze","fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange","fullscreenerror","mozfullscreenerror","webkitfullscreenerror","msfullscreenerror","readystatechange","visibilitychange","resume"],et,["beforecopy","beforecut","beforepaste","copy","cut","paste","dragstart","loadend","animationstart","search","transitionrun","transitionstart","webkitanimationend","webkitanimationiteration","webkitanimationstart","webkittransitionend"],["activate","afterupdate","ariarequest","beforeactivate","beforedeactivate","beforeeditfocus","beforeupdate","cellchange","controlselect","dataavailable","datasetchanged","datasetcomplete","errorupdate","filterchange","layoutcomplete","losecapture","move","moveend","movestart","propertychange","resizeend","resizestart","rowenter","rowexit","rowsdelete","rowsinserted","command","compassneedscalibration","deactivate","help","mscontentzoom","msmanipulationstatechanged","msgesturechange","msgesturedoubletap","msgestureend","msgesturehold","msgesturestart","msgesturetap","msgotpointercapture","msinertiastart","mslostpointercapture","mspointercancel","mspointerdown","mspointerenter","mspointerhover","mspointerleave","mspointermove","mspointerout","mspointerover","mspointerup","pointerout","mssitemodejumplistitemremoved","msthumbnailclick","stop","storagecommit"]);function ht(e,n,a){if(!a||0===a.length)return n;const r=a.filter(p=>p.target===e);if(!r||0===r.length)return n;const c=r[0].ignoreProperties;return n.filter(p=>-1===c.indexOf(p))}function fe(e,n,a,r){e&&Ge(e,ht(e,n,a),r)}Zone.__load_patch("util",(e,n,a)=>{a.patchOnProperties=Ge,a.patchMethod=i,a.bindArguments=Be,a.patchMacroTask=d;const r=n.__symbol__("BLACK_LISTED_EVENTS"),c=n.__symbol__("UNPATCHED_EVENTS");e[c]&&(e[r]=e[c]),e[r]&&(n[r]=n[c]=e[r]),a.patchEventPrototype=vt,a.patchEventTarget=gt,a.isIEOrEdge=je,a.ObjectDefineProperty=C,a.ObjectGetOwnPropertyDescriptor=x,a.ObjectCreate=ie,a.ArraySlice=se,a.patchClass=u,a.wrapWithCurrentZone=we,a.filterProperties=ht,a.attachOriginToPatched=_,a._redefineProperty=Object.defineProperty,a.patchCallbacks=Tt,a.getGlobalObjects=()=>({globalSources:Le,zoneSymbolEventNames:he,eventNames:xe,isBrowser:qe,isMix:Je,isNode:Fe,TRUE_STR:U,FALSE_STR:K,ZONE_SYMBOL_PREFIX:ue,ADD_EVENT_LISTENER_STR:V,REMOVE_EVENT_LISTENER_STR:ge})});const Xe=R("zoneTask");function He(e,n,a,r){let c=null,p=null;a+=r;const m={};function T(P){const k=P.data;return k.args[0]=function(){return P.invoke.apply(this,arguments)},k.handleId=c.apply(e,k.args),P}function O(P){return p.call(e,P.data.handleId)}c=i(e,n+=r,P=>function(k,F){if("function"==typeof F[0]){const H={isPeriodic:"Interval"===r,delay:"Timeout"===r||"Interval"===r?F[1]||0:void 0,args:F},z=F[0];F[0]=function(){try{return z.apply(this,arguments)}finally{H.isPeriodic||("number"==typeof H.handleId?delete m[H.handleId]:H.handleId&&(H.handleId[Xe]=null))}};const ae=Te(n,F[0],H,T,O);if(!ae)return ae;const te=ae.data.handleId;return"number"==typeof te?m[te]=ae:te&&(te[Xe]=ae),te&&te.ref&&te.unref&&"function"==typeof te.ref&&"function"==typeof te.unref&&(ae.ref=te.ref.bind(te),ae.unref=te.unref.bind(te)),"number"==typeof te||te?te:ae}return P.apply(e,F)}),p=i(e,a,P=>function(k,F){const H=F[0];let z;"number"==typeof H?z=m[H]:(z=H&&H[Xe],z||(z=H)),z&&"string"==typeof z.type?"notScheduled"!==z.state&&(z.cancelFn&&z.data.isPeriodic||0===z.runCount)&&("number"==typeof H?delete m[H]:H&&(H[Xe]=null),z.zone.cancelTask(z)):P.apply(e,F)})}Zone.__load_patch("legacy",e=>{const n=e[Zone.__symbol__("legacyPatch")];n&&n()}),Zone.__load_patch("queueMicrotask",(e,n,a)=>{a.patchMethod(e,"queueMicrotask",r=>function(c,p){n.current.scheduleMicroTask("queueMicrotask",p[0])})}),Zone.__load_patch("timers",e=>{const n="set",a="clear";He(e,n,a,"Timeout"),He(e,n,a,"Interval"),He(e,n,a,"Immediate")}),Zone.__load_patch("requestAnimationFrame",e=>{He(e,"request","cancel","AnimationFrame"),He(e,"mozRequest","mozCancel","AnimationFrame"),He(e,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(e,n)=>{const a=["alert","prompt","confirm"];for(let r=0;r<a.length;r++)i(e,a[r],(p,m,T)=>function(O,P){return n.current.run(p,e,P,T)})}),Zone.__load_patch("EventTarget",(e,n,a)=>{(function It(e,n){n.patchEventPrototype(e,n)})(e,a),function Lt(e,n){if(Zone[n.symbol("patchEventTarget")])return;const{eventNames:a,zoneSymbolEventNames:r,TRUE_STR:c,FALSE_STR:p,ZONE_SYMBOL_PREFIX:m}=n.getGlobalObjects();for(let O=0;O<a.length;O++){const P=a[O],H=m+(P+p),z=m+(P+c);r[P]={},r[P][p]=H,r[P][c]=z}const T=e.EventTarget;T&&T.prototype&&n.patchEventTarget(e,[T&&T.prototype])}(e,a);const r=e.XMLHttpRequestEventTarget;r&&r.prototype&&a.patchEventTarget(e,[r.prototype])}),Zone.__load_patch("MutationObserver",(e,n,a)=>{u("MutationObserver"),u("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(e,n,a)=>{u("IntersectionObserver")}),Zone.__load_patch("FileReader",(e,n,a)=>{u("FileReader")}),Zone.__load_patch("on_property",(e,n,a)=>{!function Zt(e,n){if(Fe&&!Je||Zone[e.symbol("patchEvents")])return;const a="undefined"!=typeof WebSocket,r=n.__Zone_ignore_on_properties;if(qe){const m=window,T=function Pe(){try{const e=Me.navigator.userAgent;if(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/"))return!0}catch{}return!1}()?[{target:m,ignoreProperties:["error"]}]:[];fe(m,xe.concat(["messageerror"]),r&&r.concat(T),X(m)),fe(Document.prototype,xe,r),void 0!==m.SVGElement&&fe(m.SVGElement.prototype,xe,r),fe(Element.prototype,xe,r),fe(HTMLElement.prototype,xe,r),fe(HTMLMediaElement.prototype,wt,r),fe(HTMLFrameSetElement.prototype,et.concat(ut),r),fe(HTMLBodyElement.prototype,et.concat(ut),r),fe(HTMLFrameElement.prototype,lt,r),fe(HTMLIFrameElement.prototype,lt,r);const O=m.HTMLMarqueeElement;O&&fe(O.prototype,Ot,r);const P=m.Worker;P&&fe(P.prototype,Dt,r)}const c=n.XMLHttpRequest;c&&fe(c.prototype,ft,r);const p=n.XMLHttpRequestEventTarget;p&&fe(p&&p.prototype,ft,r),"undefined"!=typeof IDBIndex&&(fe(IDBIndex.prototype,Ae,r),fe(IDBRequest.prototype,Ae,r),fe(IDBOpenDBRequest.prototype,Ae,r),fe(IDBDatabase.prototype,Ae,r),fe(IDBTransaction.prototype,Ae,r),fe(IDBCursor.prototype,Ae,r)),a&&fe(WebSocket.prototype,Nt,r)}(a,e)}),Zone.__load_patch("customElements",(e,n,a)=>{!function Mt(e,n){const{isBrowser:a,isMix:r}=n.getGlobalObjects();(a||r)&&e.customElements&&"customElements"in e&&n.patchCallbacks(n,e.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(e,a)}),Zone.__load_patch("XHR",(e,n)=>{!function O(P){const k=P.XMLHttpRequest;if(!k)return;const F=k.prototype;let z=F[ne],ae=F[Ee];if(!z){const D=P.XMLHttpRequestEventTarget;if(D){const W=D.prototype;z=W[ne],ae=W[Ee]}}const te="readystatechange",b="scheduled";function v(D){const W=D.data,I=W.target;I[p]=!1,I[T]=!1;const ke=I[c];z||(z=I[ne],ae=I[Ee]),ke&&ae.call(I,te,ke);const Ne=I[c]=()=>{if(I.readyState===I.DONE)if(!W.aborted&&I[p]&&D.state===b){const Se=I[n.__symbol__("loadfalse")];if(0!==I.status&&Se&&Se.length>0){const Ce=D.invoke;D.invoke=function(){const ce=I[n.__symbol__("loadfalse")];for(let B=0;B<ce.length;B++)ce[B]===D&&ce.splice(B,1);!W.aborted&&D.state===b&&Ce.call(D)},Se.push(D)}else D.invoke()}else!W.aborted&&!1===I[p]&&(I[T]=!0)};return z.call(I,te,Ne),I[a]||(I[a]=D),J.apply(I,W.args),I[p]=!0,D}function q(){}function oe(D){const W=D.data;return W.aborted=!0,me.apply(W.target,W.args)}const Q=i(F,"open",()=>function(D,W){return D[r]=0==W[2],D[m]=W[1],Q.apply(D,W)}),G=R("fetchTaskAborting"),_e=R("fetchTaskScheduling"),J=i(F,"send",()=>function(D,W){if(!0===n.current[_e]||D[r])return J.apply(D,W);{const I={target:D,url:D[m],isPeriodic:!1,args:W,aborted:!1},ke=Te("XMLHttpRequest.send",q,I,v,oe);D&&!0===D[T]&&!I.aborted&&ke.state===b&&ke.invoke()}}),me=i(F,"abort",()=>function(D,W){const I=function H(D){return D[a]}(D);if(I&&"string"==typeof I.type){if(null==I.cancelFn||I.data&&I.data.aborted)return;I.zone.cancelTask(I)}else if(!0===n.current[G])return me.apply(D,W)})}(e);const a=R("xhrTask"),r=R("xhrSync"),c=R("xhrListener"),p=R("xhrScheduled"),m=R("xhrURL"),T=R("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",e=>{e.navigator&&e.navigator.geolocation&&function st(e,n){const a=e.constructor.name;for(let r=0;r<n.length;r++){const c=n[r],p=e[c];if(p){if(!$e(x(e,c)))continue;e[c]=(T=>{const O=function(){return T.apply(this,Be(arguments,a+"."+c))};return _(O,T),O})(p)}}}(e.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(e,n)=>{function a(r){return function(c){ct(e,r).forEach(m=>{const T=e.PromiseRejectionEvent;if(T){const O=new T(r,{promise:c.promise,reason:c.rejection});m.invoke(O)}})}}e.PromiseRejectionEvent&&(n[R("unhandledPromiseRejectionHandler")]=a("unhandledrejection"),n[R("rejectionHandledHandler")]=a("rejectionhandled"))})},935:(g,x,C)=>{C(7277)}},__webpack_module_cache__={};function __webpack_require__(g){var x=__webpack_module_cache__[g];if(void 0!==x)return x.exports;var C=__webpack_module_cache__[g]={exports:{}};return __webpack_modules__[g](C,C.exports,__webpack_require__),C.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.c=__webpack_module_cache__,__webpack_require__.n=g=>{var x=g&&g.__esModule?()=>g.default:()=>g;return __webpack_require__.d(x,{a:x}),x},__webpack_require__.d=(g,x)=>{for(var C in x)__webpack_require__.o(x,C)&&!__webpack_require__.o(g,C)&&Object.defineProperty(g,C,{enumerable:!0,get:x[C]})},__webpack_require__.f={},__webpack_require__.e=g=>Promise.all(Object.keys(__webpack_require__.f).reduce((x,C)=>(__webpack_require__.f[C](g,x),x),[])),__webpack_require__.u=g=>g+".js",__webpack_require__.miniCssF=g=>{},__webpack_require__.o=(g,x)=>Object.prototype.hasOwnProperty.call(g,x),(()=>{var g={},x="mfComponents:";__webpack_require__.l=(C,X,ie,se)=>{if(g[C])g[C].push(X);else{var V,ge;if(void 0!==ie)for(var ne=document.getElementsByTagName("script"),Ee=0;Ee<ne.length;Ee++){var U=ne[Ee];if(U.getAttribute("src")==C||U.getAttribute("data-webpack")==x+ie){V=U;break}}V||(ge=!0,(V=document.createElement("script")).type="module",V.charset="utf-8",V.timeout=120,__webpack_require__.nc&&V.setAttribute("nonce",__webpack_require__.nc),V.setAttribute("data-webpack",x+ie),V.src=__webpack_require__.tu(C)),g[C]=[X];var K=(we,Te)=>{V.onerror=V.onload=null,clearTimeout(ue);var R=g[C];if(delete g[C],V.parentNode&&V.parentNode.removeChild(V),R&&R.forEach(Y=>Y(Te)),we)return we(Te)},ue=setTimeout(K.bind(null,void 0,{type:"timeout",target:V}),12e4);V.onerror=K.bind(null,V.onerror),V.onload=K.bind(null,V.onload),ge&&document.head.appendChild(V)}}})(),__webpack_require__.r=g=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},__webpack_require__.j=429,(()=>{__webpack_require__.S={};var g={},x={};__webpack_require__.I=(C,X)=>{X||(X=[]);var ie=x[C];if(ie||(ie=x[C]={}),!(X.indexOf(ie)>=0)){if(X.push(ie),g[C])return g[C];__webpack_require__.o(__webpack_require__.S,C)||(__webpack_require__.S[C]={});var se=__webpack_require__.S[C],ge="mfComponents",ne=(K,ue,we,Te)=>{var R=se[K]=se[K]||{},Y=R[ue];(!Y||!Y.loaded&&(!Te!=!Y.eager?Te:ge>Y.from))&&(R[ue]={get:we,from:ge,eager:!!Te})},U=[];return"default"===C&&(ne("@angular/common/http","13.1.2",()=>__webpack_require__.e(695).then(()=>()=>__webpack_require__(5732))),ne("@angular/common","13.1.2",()=>__webpack_require__.e(692).then(()=>()=>__webpack_require__(8692))),ne("@angular/core","13.1.2",()=>__webpack_require__.e(537).then(()=>()=>__webpack_require__(4537))),ne("@angular/router","13.1.2",()=>__webpack_require__.e(59).then(()=>()=>__webpack_require__(7976))),ne("ngx-mask","13.1.1",()=>__webpack_require__.e(507).then(()=>()=>__webpack_require__(7734))),ne("rxjs/operators","6.6.7",()=>__webpack_require__.e(26).then(()=>()=>__webpack_require__(9026))),ne("rxjs","6.6.7",()=>__webpack_require__.e(92).then(()=>()=>__webpack_require__(8092)))),g[C]=U.length?Promise.all(U).then(()=>g[C]=1):1}}})(),(()=>{var g;__webpack_require__.tu=x=>(void 0===g&&(g={createScriptURL:C=>C},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(g=trustedTypes.createPolicy("angular#bundler",g))),g.createScriptURL(x))})(),(()=>{var g;if("string"==typeof import.meta.url&&(g=import.meta.url),!g)throw new Error("Automatic publicPath is not supported in this browser");g=g.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=g})(),(()=>{var g=l=>{var u=_=>_.split(".").map(w=>+w==w?+w:w),i=/^([^-+]+)?(?:-([^+]+))?(?:\+(.+))?$/.exec(l),d=i[1]?u(i[1]):[];return i[2]&&(d.length++,d.push.apply(d,u(i[2]))),i[3]&&(d.push([]),d.push.apply(d,u(i[3]))),d},C=l=>{var u=l[0],i="";if(1===l.length)return"*";if(u+.5){i+=0==u?">=":-1==u?"<":1==u?"^":2==u?"~":u>0?"=":"!=";for(var d=1,_=1;_<l.length;_++)d--,i+="u"==(typeof($=l[_]))[0]?"-":(d>0?".":"")+(d=2,$);return i}var w=[];for(_=1;_<l.length;_++){var $=l[_];w.push(0===$?"not("+Pe()+")":1===$?"("+Pe()+" || "+Pe()+")":2===$?w.pop()+" "+w.pop():C($))}return Pe();function Pe(){return w.pop().replace(/^\((.+)\)$/,"$1")}},X=(l,u)=>{if(0 in l){u=g(u);var i=l[0],d=i<0;d&&(i=-i-1);for(var _=0,w=1,$=!0;;w++,_++){var Pe,je,ye=w<l.length?(typeof l[w])[0]:"";if(_>=u.length||"o"==(je=(typeof(Pe=u[_]))[0]))return!$||("u"==ye?w>i&&!d:""==ye!=d);if("u"==je){if(!$||"u"!=ye)return!1}else if($)if(ye==je)if(w<=i){if(Pe!=l[w])return!1}else{if(d?Pe>l[w]:Pe<l[w])return!1;Pe!=l[w]&&($=!1)}else if("s"!=ye&&"n"!=ye){if(d||w<=i)return!1;$=!1,w--}else{if(w<=i||je<ye!=d)return!1;$=!1}else"s"!=ye&&"n"!=ye&&($=!1,w--)}}var Ue=[],he=Ue.pop.bind(Ue);for(_=1;_<l.length;_++){var Le=l[_];Ue.push(1==Le?he()|he():2==Le?he()&he():Le?X(Le,u):!he())}return!!he()},V=(l,u)=>{var i=l[u];return Object.keys(i).reduce((d,_)=>!d||!i[d].loaded&&((l,u)=>{l=g(l),u=g(u);for(var i=0;;){if(i>=l.length)return i<u.length&&"u"!=(typeof u[i])[0];var d=l[i],_=(typeof d)[0];if(i>=u.length)return"u"==_;var w=u[i],$=(typeof w)[0];if(_!=$)return"o"==_&&"n"==$||"s"==$||"u"==_;if("o"!=_&&"u"!=_&&d!=w)return d<w;i++}})(d,_)?_:d,0)},U=(l,u,i,d)=>{var _=V(l,i);if(!X(d,_))throw new Error(((l,u,i,d)=>"Unsatisfied version "+i+" from "+(i&&l[u][i].from)+" of shared singleton module "+u+" (required "+C(d)+")")(l,i,_,d));return R(l[i][_])},R=l=>(l.loaded=1,l.get()),Oe=(l=>function(u,i,d,_){var w=__webpack_require__.I(u);return w&&w.then?w.then(l.bind(l,u,__webpack_require__.S[u],i,d,_)):l(u,__webpack_require__.S[u],i,d,_)})((l,u,i,d,_)=>u&&__webpack_require__.o(u,i)?U(u,0,i,d):_()),De={},We={824:()=>Oe("default","rxjs",[2,6,6,0],()=>__webpack_require__.e(92).then(()=>()=>__webpack_require__(8092))),3192:()=>Oe("default","@angular/common",[2,13,1,2],()=>__webpack_require__.e(42).then(()=>()=>__webpack_require__(8692))),5033:()=>Oe("default","rxjs/operators",[2,6,6,0],()=>__webpack_require__.e(26).then(()=>()=>__webpack_require__(9026))),7451:()=>Oe("default","@angular/core",[2,13,1,2],()=>__webpack_require__.e(537).then(()=>()=>__webpack_require__(4537)))},Ge={59:[824,3192,5033,7451],507:[824,3192,5033,7451],537:[824,5033],692:[7451],695:[824,3192,5033,7451]};__webpack_require__.f.consumes=(l,u)=>{__webpack_require__.o(Ge,l)&&Ge[l].forEach(i=>{if(__webpack_require__.o(De,i))return u.push(De[i]);var d=$=>{De[i]=0,__webpack_require__.m[i]=Pe=>{delete __webpack_require__.c[i],Pe.exports=$()}},_=$=>{delete De[i],__webpack_require__.m[i]=Pe=>{throw delete __webpack_require__.c[i],$}};try{var w=We[i]();w.then?u.push(De[i]=w.then(d).catch(_)):d(w)}catch($){_($)}})}})(),(()=>{var g={429:0};__webpack_require__.f.j=(X,ie)=>{var se=__webpack_require__.o(g,X)?g[X]:void 0;if(0!==se)if(se)ie.push(se[2]);else{var V=new Promise((U,K)=>se=g[X]=[U,K]);ie.push(se[2]=V);var ge=__webpack_require__.p+__webpack_require__.u(X),ne=new Error;__webpack_require__.l(ge,U=>{if(__webpack_require__.o(g,X)&&(0!==(se=g[X])&&(g[X]=void 0),se)){var K=U&&("load"===U.type?"missing":U.type),ue=U&&U.target&&U.target.src;ne.message="Loading chunk "+X+" failed.\n("+K+": "+ue+")",ne.name="ChunkLoadError",ne.type=K,ne.request=ue,se[1](ne)}},"chunk-"+X,X)}};var x=(X,ie)=>{var ne,Ee,[se,V,ge]=ie,U=0;if(se.some(ue=>0!==g[ue])){for(ne in V)__webpack_require__.o(V,ne)&&(__webpack_require__.m[ne]=V[ne]);ge&&ge(__webpack_require__)}for(X&&X(ie);U<se.length;U++)__webpack_require__.o(g,Ee=se[U])&&g[Ee]&&g[Ee][0](),g[se[U]]=0},C=self.webpackChunkmfComponents=self.webpackChunkmfComponents||[];C.forEach(x.bind(null,0)),C.push=x.bind(null,C.push.bind(C))})();var __webpack_exports__=__webpack_require__(935);
var __webpack_modules__={8425:(o,f,i)=>{i.e(306).then(i.bind(i,8306)).catch(s=>console.error(s))}},__webpack_module_cache__={};function __webpack_require__(o){var f=__webpack_module_cache__[o];if(void 0!==f)return f.exports;var i=__webpack_module_cache__[o]={exports:{}};return __webpack_modules__[o](i,i.exports,__webpack_require__),i.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.c=__webpack_module_cache__,__webpack_require__.n=o=>{var f=o&&o.__esModule?()=>o.default:()=>o;return __webpack_require__.d(f,{a:f}),f},__webpack_require__.d=(o,f)=>{for(var i in f)__webpack_require__.o(f,i)&&!__webpack_require__.o(o,i)&&Object.defineProperty(o,i,{enumerable:!0,get:f[i]})},__webpack_require__.f={},__webpack_require__.e=o=>Promise.all(Object.keys(__webpack_require__.f).reduce((f,i)=>(__webpack_require__.f[i](o,f),f),[])),__webpack_require__.u=o=>o+".js",__webpack_require__.miniCssF=o=>{},__webpack_require__.o=(o,f)=>Object.prototype.hasOwnProperty.call(o,f),(()=>{var o={},f="mfComponents:";__webpack_require__.l=(i,s,g,p)=>{if(o[i])o[i].push(s);else{var l,_;if(void 0!==g)for(var c=document.getElementsByTagName("script"),S=0;S<c.length;S++){var h=c[S];if(h.getAttribute("src")==i||h.getAttribute("data-webpack")==f+g){l=h;break}}l||(_=!0,(l=document.createElement("script")).type="module",l.charset="utf-8",l.timeout=120,__webpack_require__.nc&&l.setAttribute("nonce",__webpack_require__.nc),l.setAttribute("data-webpack",f+g),l.src=__webpack_require__.tu(i)),o[i]=[s];var m=(x,V)=>{l.onerror=l.onload=null,clearTimeout(w);var b=o[i];if(delete o[i],l.parentNode&&l.parentNode.removeChild(l),b&&b.forEach(v=>v(V)),x)return x(V)},w=setTimeout(m.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=m.bind(null,l.onerror),l.onload=m.bind(null,l.onload),_&&document.head.appendChild(l)}}})(),__webpack_require__.r=o=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},__webpack_require__.j=179,(()=>{__webpack_require__.S={};var o={},f={};__webpack_require__.I=(i,s)=>{s||(s=[]);var g=f[i];if(g||(g=f[i]={}),!(s.indexOf(g)>=0)){if(s.push(g),o[i])return o[i];__webpack_require__.o(__webpack_require__.S,i)||(__webpack_require__.S[i]={});var p=__webpack_require__.S[i],_="mfComponents",c=(m,w,x,V)=>{var b=p[m]=p[m]||{},v=b[w];(!v||!v.loaded&&(!V!=!v.eager?V:_>v.from))&&(b[w]={get:x,from:_,eager:!!V})},h=[];return"default"===i&&(c("@angular/common/http","13.1.2",()=>__webpack_require__.e(695).then(()=>()=>__webpack_require__(5732))),c("@angular/common","13.1.2",()=>__webpack_require__.e(692).then(()=>()=>__webpack_require__(8692))),c("@angular/core","13.1.2",()=>__webpack_require__.e(537).then(()=>()=>__webpack_require__(4537))),c("@angular/router","13.1.2",()=>__webpack_require__.e(59).then(()=>()=>__webpack_require__(7976))),c("ngx-mask","13.1.1",()=>__webpack_require__.e(507).then(()=>()=>__webpack_require__(7734))),c("rxjs/operators","6.6.7",()=>__webpack_require__.e(26).then(()=>()=>__webpack_require__(9026))),c("rxjs","6.6.7",()=>__webpack_require__.e(92).then(()=>()=>__webpack_require__(8092)))),o[i]=h.length?Promise.all(h).then(()=>o[i]=1):1}}})(),(()=>{var o;__webpack_require__.tu=f=>(void 0===o&&(o={createScriptURL:i=>i},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(o=trustedTypes.createPolicy("angular#bundler",o))),o.createScriptURL(f))})(),(()=>{var o;if("string"==typeof import.meta.url&&(o=import.meta.url),!o)throw new Error("Automatic publicPath is not supported in this browser");o=o.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=o})(),(()=>{var o=e=>{var t=a=>a.split(".").map(u=>+u==u?+u:u),r=/^([^-+]+)?(?:-([^+]+))?(?:\+(.+))?$/.exec(e),n=r[1]?t(r[1]):[];return r[2]&&(n.length++,n.push.apply(n,t(r[2]))),r[3]&&(n.push([]),n.push.apply(n,t(r[3]))),n},i=e=>{var t=e[0],r="";if(1===e.length)return"*";if(t+.5){r+=0==t?">=":-1==t?"<":1==t?"^":2==t?"~":t>0?"=":"!=";for(var n=1,a=1;a<e.length;a++)n--,r+="u"==(typeof(d=e[a]))[0]?"-":(n>0?".":"")+(n=2,d);return r}var u=[];for(a=1;a<e.length;a++){var d=e[a];u.push(0===d?"not("+C()+")":1===d?"("+C()+" || "+C()+")":2===d?u.pop()+" "+u.pop():i(d))}return C();function C(){return u.pop().replace(/^\((.+)\)$/,"$1")}},s=(e,t)=>{if(0 in e){t=o(t);var r=e[0],n=r<0;n&&(r=-r-1);for(var a=0,u=1,d=!0;;u++,a++){var C,P,y=u<e.length?(typeof e[u])[0]:"";if(a>=t.length||"o"==(P=(typeof(C=t[a]))[0]))return!d||("u"==y?u>r&&!n:""==y!=n);if("u"==P){if(!d||"u"!=y)return!1}else if(d)if(y==P)if(u<=r){if(C!=e[u])return!1}else{if(n?C>e[u]:C<e[u])return!1;C!=e[u]&&(d=!1)}else if("s"!=y&&"n"!=y){if(n||u<=r)return!1;d=!1,u--}else{if(u<=r||P<y!=n)return!1;d=!1}else"s"!=y&&"n"!=y&&(d=!1,u--)}}var T=[],E=T.pop.bind(T);for(a=1;a<e.length;a++){var O=e[a];T.push(1==O?E()|E():2==O?E()&E():O?s(O,t):!E())}return!!E()},l=(e,t)=>{var r=e[t];return Object.keys(r).reduce((n,a)=>!n||!r[n].loaded&&((e,t)=>{e=o(e),t=o(t);for(var r=0;;){if(r>=e.length)return r<t.length&&"u"!=(typeof t[r])[0];var n=e[r],a=(typeof n)[0];if(r>=t.length)return"u"==a;var u=t[r],d=(typeof u)[0];if(a!=d)return"o"==a&&"n"==d||"s"==d||"u"==a;if("o"!=a&&"u"!=a&&n!=u)return n<u;r++}})(n,a)?a:n,0)},h=(e,t,r,n)=>{var a=l(e,r);if(!s(n,a))throw new Error(((e,t,r,n)=>"Unsatisfied version "+r+" from "+(r&&e[t][r].from)+" of shared singleton module "+t+" (required "+i(n)+")")(e,r,a,n));return b(e[r][a])},b=e=>(e.loaded=1,e.get()),j=(e=>function(t,r,n,a){var u=__webpack_require__.I(t);return u&&u.then?u.then(e.bind(e,t,__webpack_require__.S[t],r,n,a)):e(t,__webpack_require__.S[t],r,n,a)})((e,t,r,n,a)=>t&&__webpack_require__.o(t,r)?h(t,0,r,n):a()),k={},A={824:()=>j("default","rxjs",[2,6,6,0],()=>__webpack_require__.e(92).then(()=>()=>__webpack_require__(8092))),3192:()=>j("default","@angular/common",[2,13,1,2],()=>__webpack_require__.e(42).then(()=>()=>__webpack_require__(8692))),5033:()=>j("default","rxjs/operators",[2,6,6,0],()=>__webpack_require__.e(26).then(()=>()=>__webpack_require__(9026))),5207:()=>j("default","ngx-mask",[1,13,1,1],()=>__webpack_require__.e(734).then(()=>()=>__webpack_require__(7734))),6152:()=>j("default","@angular/common/http",[2,13,1,2],()=>__webpack_require__.e(732).then(()=>()=>__webpack_require__(5732))),7451:()=>j("default","@angular/core",[2,13,1,2],()=>__webpack_require__.e(537).then(()=>()=>__webpack_require__(4537))),8433:()=>j("default","@angular/router",[2,13,1,2],()=>__webpack_require__.e(976).then(()=>()=>__webpack_require__(7976)))},M={59:[824,3192,5033,7451],306:[824,3192,5033,5207,6152,7451,8433],507:[824,3192,5033,7451],537:[824,5033],692:[7451],695:[824,3192,5033,7451]};__webpack_require__.f.consumes=(e,t)=>{__webpack_require__.o(M,e)&&M[e].forEach(r=>{if(__webpack_require__.o(k,r))return t.push(k[r]);var n=d=>{k[r]=0,__webpack_require__.m[r]=C=>{delete __webpack_require__.c[r],C.exports=d()}},a=d=>{delete k[r],__webpack_require__.m[r]=C=>{throw delete __webpack_require__.c[r],d}};try{var u=A[r]();u.then?t.push(k[r]=u.then(n).catch(a)):n(u)}catch(d){a(d)}})}})(),(()=>{var o={179:0};__webpack_require__.f.j=(s,g)=>{var p=__webpack_require__.o(o,s)?o[s]:void 0;if(0!==p)if(p)g.push(p[2]);else{var l=new Promise((h,m)=>p=o[s]=[h,m]);g.push(p[2]=l);var _=__webpack_require__.p+__webpack_require__.u(s),c=new Error;__webpack_require__.l(_,h=>{if(__webpack_require__.o(o,s)&&(0!==(p=o[s])&&(o[s]=void 0),p)){var m=h&&("load"===h.type?"missing":h.type),w=h&&h.target&&h.target.src;c.message="Loading chunk "+s+" failed.\n("+m+": "+w+")",c.name="ChunkLoadError",c.type=m,c.request=w,p[1](c)}},"chunk-"+s,s)}};var f=(s,g)=>{var c,S,[p,l,_]=g,h=0;if(p.some(w=>0!==o[w])){for(c in l)__webpack_require__.o(l,c)&&(__webpack_require__.m[c]=l[c]);_&&_(__webpack_require__)}for(s&&s(g);h<p.length;h++)__webpack_require__.o(o,S=p[h])&&o[S]&&o[S][0](),o[p[h]]=0},i=self.webpackChunkmfComponents=self.webpackChunkmfComponents||[];i.forEach(f.bind(null,0)),i.push=f.bind(null,i.push.bind(i))})();var __webpack_exports__=__webpack_require__(8425);
(self.webpackChunkmfComponents=self.webpackChunkmfComponents||[]).push([[26],{8660:(O,y,n)=>{n.d(y,{c:()=>E});var c=n(9765),p=n(826);class E extends c.xQ{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(a){return this.hasError?(a.error(this.thrownError),p.w.EMPTY):this.hasCompleted&&this.hasNext?(a.next(this.value),a.complete(),p.w.EMPTY):super._subscribe(a)}next(a){this.hasCompleted||(this.value=a,this.hasNext=!0)}error(a){this.hasCompleted||super.error(a)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}},6215:(O,y,n)=>{n.d(y,{X:()=>E});var c=n(9765),p=n(7971);class E extends c.xQ{constructor(a){super(),this._value=a}get value(){return this.getValue()}_subscribe(a){const b=super._subscribe(a);return b&&!b.closed&&a.next(this._value),b}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new p.N;return this._value}next(a){super.next(this._value=a)}}},3098:(O,y,n)=>{n.d(y,{W:()=>_,P:()=>a});var c=n(9193),p=n(5917),E=n(205),_=(()=>{return(b=_||(_={})).NEXT="N",b.ERROR="E",b.COMPLETE="C",_;var b})();class a{constructor(x,m,f){this.kind=x,this.value=m,this.error=f,this.hasValue="N"===x}observe(x){switch(this.kind){case"N":return x.next&&x.next(this.value);case"E":return x.error&&x.error(this.error);case"C":return x.complete&&x.complete()}}do(x,m,f){switch(this.kind){case"N":return x&&x(this.value);case"E":return m&&m(this.error);case"C":return f&&f()}}accept(x,m,f){return x&&"function"==typeof x.next?this.observe(x):this.do(x,m,f)}toObservable(){switch(this.kind){case"N":return(0,p.of)(this.value);case"E":return(0,E._)(this.error);case"C":return(0,c.c)()}throw new Error("unexpected notification kind value")}static createNext(x){return void 0!==x?new a("N",x):a.undefinedValueNotification}static createError(x){return new a("E",void 0,x)}static createComplete(){return a.completeNotification}}a.completeNotification=new a("C"),a.undefinedValueNotification=new a("N",void 0)},3414:(O,y,n)=>{n.d(y,{y:()=>f});var c=n(3179),p=n(7393),E=n(9181),_=n(6490),b=n(6554),x=n(4022),m=n(2494);let f=(()=>{class o{constructor(u){this._isScalar=!1,u&&(this._subscribe=u)}lift(u){const d=new o;return d.source=this,d.operator=u,d}subscribe(u,d,S){const{operator:g}=this,T=function a(o,h,u){if(o){if(o instanceof p.L)return o;if(o[E.b])return o[E.b]()}return o||h||u?new p.L(o,h,u):new p.L(_.c)}(u,d,S);if(T.add(g?g.call(T,this.source):this.source||m.v.useDeprecatedSynchronousErrorHandling&&!T.syncErrorThrowable?this._subscribe(T):this._trySubscribe(T)),m.v.useDeprecatedSynchronousErrorHandling&&T.syncErrorThrowable&&(T.syncErrorThrowable=!1,T.syncErrorThrown))throw T.syncErrorValue;return T}_trySubscribe(u){try{return this._subscribe(u)}catch(d){m.v.useDeprecatedSynchronousErrorHandling&&(u.syncErrorThrown=!0,u.syncErrorValue=d),(0,c._)(u)?u.error(d):console.warn(d)}}forEach(u,d){return new(d=l(d))((S,g)=>{let T;T=this.subscribe(C=>{try{u(C)}catch(P){g(P),T&&T.unsubscribe()}},g,S)})}_subscribe(u){const{source:d}=this;return d&&d.subscribe(u)}[b.L](){return this}pipe(...u){return 0===u.length?this:(0,x.U)(u)(this)}toPromise(u){return new(u=l(u))((d,S)=>{let g;this.subscribe(T=>g=T,T=>S(T),()=>d(g))})}}return o.create=h=>new o(h),o})();function l(o){if(o||(o=m.v.Promise||Promise),!o)throw new Error("no Promise impl found");return o}},6490:(O,y,n)=>{n.d(y,{c:()=>E});var c=n(2494),p=n(4449);const E={closed:!0,next(_){},error(_){if(c.v.useDeprecatedSynchronousErrorHandling)throw _;(0,p.z)(_)},complete(){}}},5197:(O,y,n)=>{n.d(y,{L:()=>p});var c=n(7393);class p extends c.L{notifyNext(_,a,b,x,m){this.destination.next(a)}notifyError(_,a){this.destination.error(_)}notifyComplete(_){this.destination.complete()}}},8229:(O,y,n)=>{n.d(y,{t:()=>x});var c=n(9765),p=n(3951),E=n(826),_=n(9746),a=n(7971),b=n(8858);class x extends c.xQ{constructor(l=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,h){super(),this.scheduler=h,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=l<1?1:l,this._windowTime=o<1?1:o,o===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(l){if(!this.isStopped){const o=this._events;o.push(l),o.length>this._bufferSize&&o.shift()}super.next(l)}nextTimeWindow(l){this.isStopped||(this._events.push(new m(this._getNow(),l)),this._trimBufferThenGetEvents()),super.next(l)}_subscribe(l){const o=this._infiniteTimeWindow,h=o?this._events:this._trimBufferThenGetEvents(),u=this.scheduler,d=h.length;let S;if(this.closed)throw new a.N;if(this.isStopped||this.hasError?S=E.w.EMPTY:(this.observers.push(l),S=new b.W(this,l)),u&&l.add(l=new _.ht(l,u)),o)for(let g=0;g<d&&!l.closed;g++)l.next(h[g]);else for(let g=0;g<d&&!l.closed;g++)l.next(h[g].value);return this.hasError?l.error(this.thrownError):this.isStopped&&l.complete(),S}_getNow(){return(this.scheduler||p.c).now()}_trimBufferThenGetEvents(){const l=this._getNow(),o=this._bufferSize,h=this._windowTime,u=this._events,d=u.length;let S=0;for(;S<d&&!(l-u[S].time<h);)S++;return d>o&&(S=Math.max(S,d-o)),S>0&&u.splice(0,S),u}}class m{constructor(l,o){this.time=l,this.value=o}}},2217:(O,y,n)=>{n.d(y,{b:()=>c});let c=(()=>{class p{constructor(_,a=p.now){this.SchedulerAction=_,this.now=a}schedule(_,a=0,b){return new this.SchedulerAction(this,_).schedule(b,a)}}return p.now=()=>Date.now(),p})()},9765:(O,y,n)=>{n.d(y,{Yc:()=>x,xQ:()=>m});var c=n(3414),p=n(7393),E=n(826),_=n(7971),a=n(8858),b=n(9181);class x extends p.L{constructor(o){super(o),this.destination=o}}let m=(()=>{class l extends c.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[b.b](){return new x(this)}lift(h){const u=new f(this,this);return u.operator=h,u}next(h){if(this.closed)throw new _.N;if(!this.isStopped){const{observers:u}=this,d=u.length,S=u.slice();for(let g=0;g<d;g++)S[g].next(h)}}error(h){if(this.closed)throw new _.N;this.hasError=!0,this.thrownError=h,this.isStopped=!0;const{observers:u}=this,d=u.length,S=u.slice();for(let g=0;g<d;g++)S[g].error(h);this.observers.length=0}complete(){if(this.closed)throw new _.N;this.isStopped=!0;const{observers:h}=this,u=h.length,d=h.slice();for(let S=0;S<u;S++)d[S].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(h){if(this.closed)throw new _.N;return super._trySubscribe(h)}_subscribe(h){if(this.closed)throw new _.N;return this.hasError?(h.error(this.thrownError),E.w.EMPTY):this.isStopped?(h.complete(),E.w.EMPTY):(this.observers.push(h),new a.W(this,h))}asObservable(){const h=new c.y;return h.source=this,h}}return l.create=(o,h)=>new f(o,h),l})();class f extends m{constructor(o,h){super(),this.destination=o,this.source=h}next(o){const{destination:h}=this;h&&h.next&&h.next(o)}error(o){const{destination:h}=this;h&&h.error&&this.destination.error(o)}complete(){const{destination:o}=this;o&&o.complete&&this.destination.complete()}_subscribe(o){const{source:h}=this;return h?this.source.subscribe(o):E.w.EMPTY}}},8858:(O,y,n)=>{n.d(y,{W:()=>p});var c=n(826);class p extends c.w{constructor(_,a){super(),this.subject=_,this.subscriber=a,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const _=this.subject,a=_.observers;if(this.subject=null,!a||0===a.length||_.isStopped||_.closed)return;const b=a.indexOf(this.subscriber);-1!==b&&a.splice(b,1)}}},7393:(O,y,n)=>{n.d(y,{L:()=>x});var c=n(9105),p=n(6490),E=n(826),_=n(9181),a=n(2494),b=n(4449);class x extends E.w{constructor(l,o,h){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=p.c;break;case 1:if(!l){this.destination=p.c;break}if("object"==typeof l){l instanceof x?(this.syncErrorThrowable=l.syncErrorThrowable,this.destination=l,l.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,l));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,l,o,h)}}[_.b](){return this}static create(l,o,h){const u=new x(l,o,h);return u.syncErrorThrowable=!1,u}next(l){this.isStopped||this._next(l)}error(l){this.isStopped||(this.isStopped=!0,this._error(l))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(l){this.destination.next(l)}_error(l){this.destination.error(l),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:l}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=l,this}}class m extends x{constructor(l,o,h,u){super(),this._parentSubscriber=l;let d,S=this;(0,c.m)(o)?d=o:o&&(d=o.next,h=o.error,u=o.complete,o!==p.c&&(S=Object.create(o),(0,c.m)(S.unsubscribe)&&this.add(S.unsubscribe.bind(S)),S.unsubscribe=this.unsubscribe.bind(this))),this._context=S,this._next=d,this._error=h,this._complete=u}next(l){if(!this.isStopped&&this._next){const{_parentSubscriber:o}=this;a.v.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable?this.__tryOrSetError(o,this._next,l)&&this.unsubscribe():this.__tryOrUnsub(this._next,l)}}error(l){if(!this.isStopped){const{_parentSubscriber:o}=this,{useDeprecatedSynchronousErrorHandling:h}=a.v;if(this._error)h&&o.syncErrorThrowable?(this.__tryOrSetError(o,this._error,l),this.unsubscribe()):(this.__tryOrUnsub(this._error,l),this.unsubscribe());else if(o.syncErrorThrowable)h?(o.syncErrorValue=l,o.syncErrorThrown=!0):(0,b.z)(l),this.unsubscribe();else{if(this.unsubscribe(),h)throw l;(0,b.z)(l)}}}complete(){if(!this.isStopped){const{_parentSubscriber:l}=this;if(this._complete){const o=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&l.syncErrorThrowable?(this.__tryOrSetError(l,o),this.unsubscribe()):(this.__tryOrUnsub(o),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(l,o){try{l.call(this._context,o)}catch(h){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw h;(0,b.z)(h)}}__tryOrSetError(l,o,h){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{o.call(this._context,h)}catch(u){return a.v.useDeprecatedSynchronousErrorHandling?(l.syncErrorValue=u,l.syncErrorThrown=!0,!0):((0,b.z)(u),!0)}return!1}_unsubscribe(){const{_parentSubscriber:l}=this;this._context=null,this._parentSubscriber=null,l.unsubscribe()}}},826:(O,y,n)=>{n.d(y,{w:()=>a});var x,c=n(9796),p=n(1555),E=n(9105),_=n(7744);class a{constructor(m){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,m&&(this._ctorUnsubscribe=!0,this._unsubscribe=m)}unsubscribe(){let m;if(this.closed)return;let{_parentOrParents:f,_ctorUnsubscribe:l,_unsubscribe:o,_subscriptions:h}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,f instanceof a)f.remove(this);else if(null!==f)for(let u=0;u<f.length;++u)f[u].remove(this);if((0,E.m)(o)){l&&(this._unsubscribe=void 0);try{o.call(this)}catch(u){m=u instanceof _.B?b(u.errors):[u]}}if((0,c.k)(h)){let u=-1,d=h.length;for(;++u<d;){const S=h[u];if((0,p.K)(S))try{S.unsubscribe()}catch(g){m=m||[],g instanceof _.B?m=m.concat(b(g.errors)):m.push(g)}}}if(m)throw new _.B(m)}add(m){let f=m;if(!m)return a.EMPTY;switch(typeof m){case"function":f=new a(m);case"object":if(f===this||f.closed||"function"!=typeof f.unsubscribe)return f;if(this.closed)return f.unsubscribe(),f;if(!(f instanceof a)){const h=f;f=new a,f._subscriptions=[h]}break;default:throw new Error("unrecognized teardown "+m+" added to Subscription.")}let{_parentOrParents:l}=f;if(null===l)f._parentOrParents=this;else if(l instanceof a){if(l===this)return f;f._parentOrParents=[l,this]}else{if(-1!==l.indexOf(this))return f;l.push(this)}const o=this._subscriptions;return null===o?this._subscriptions=[f]:o.push(f),f}remove(m){const f=this._subscriptions;if(f){const l=f.indexOf(m);-1!==l&&f.splice(l,1)}}}function b(x){return x.reduce((m,f)=>m.concat(f instanceof _.B?f.errors:f),[])}a.EMPTY=((x=new a).closed=!0,x)},2494:(O,y,n)=>{n.d(y,{v:()=>p});let c=!1;const p={Promise:void 0,set useDeprecatedSynchronousErrorHandling(E){if(E){const _=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+_.stack)}else c&&console.log("RxJS: Back to a better error behavior. Thank you. <3");c=E},get useDeprecatedSynchronousErrorHandling(){return c}}},5345:(O,y,n)=>{n.d(y,{IY:()=>_,Ds:()=>b,ft:()=>m});var c=n(7393),p=n(3414),E=n(9846);class _ extends c.L{constructor(l){super(),this.parent=l}_next(l){this.parent.notifyNext(l)}_error(l){this.parent.notifyError(l),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class b extends c.L{notifyNext(l){this.destination.next(l)}notifyError(l){this.destination.error(l)}notifyComplete(){this.destination.complete()}}function m(f,l){if(l.closed)return;if(f instanceof p.y)return f.subscribe(l);let o;try{o=(0,E.s)(f)(l)}catch(h){l.error(h)}return o}},2441:(O,y,n)=>{n.d(y,{c:()=>a,N:()=>b});var c=n(9765),p=n(3414),E=n(826),_=n(1307);class a extends p.y{constructor(o,h){super(),this.source=o,this.subjectFactory=h,this._refCount=0,this._isComplete=!1}_subscribe(o){return this.getSubject().subscribe(o)}getSubject(){const o=this._subject;return(!o||o.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let o=this._connection;return o||(this._isComplete=!1,o=this._connection=new E.w,o.add(this.source.subscribe(new x(this.getSubject(),this))),o.closed&&(this._connection=null,o=E.w.EMPTY)),o}refCount(){return(0,_.x)()(this)}}const b=(()=>{const l=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:l._subscribe},_isComplete:{value:l._isComplete,writable:!0},getSubject:{value:l.getSubject},connect:{value:l.connect},refCount:{value:l.refCount}}})();class x extends c.Yc{constructor(o,h){super(o),this.connectable=h}_error(o){this._unsubscribe(),super._error(o)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const o=this.connectable;if(o){this.connectable=null;const h=o._connection;o._refCount=0,o._subject=null,o._connection=null,h&&h.unsubscribe()}}}},9112:(O,y,n)=>{n.d(y,{aj:()=>x,Ms:()=>m});var c=n(4869),p=n(9796),E=n(5197),_=n(3960),a=n(6693);const b={};function x(...l){let o,h;return(0,c.K)(l[l.length-1])&&(h=l.pop()),"function"==typeof l[l.length-1]&&(o=l.pop()),1===l.length&&(0,p.k)(l[0])&&(l=l[0]),(0,a.n)(l,h).lift(new m(o))}class m{constructor(o){this.resultSelector=o}call(o,h){return h.subscribe(new f(o,this.resultSelector))}}class f extends E.L{constructor(o,h){super(o),this.resultSelector=h,this.active=0,this.values=[],this.observables=[]}_next(o){this.values.push(b),this.observables.push(o)}_complete(){const o=this.observables,h=o.length;if(0===h)this.destination.complete();else{this.active=h,this.toRespond=h;for(let u=0;u<h;u++)this.add((0,_.D)(this,o[u],void 0,u))}}notifyComplete(o){0==(this.active-=1)&&this.destination.complete()}notifyNext(o,h,u){const d=this.values,g=this.toRespond?d[u]===b?--this.toRespond:this.toRespond:0;d[u]=h,0===g&&(this.resultSelector?this._tryResultSelector(d):this.destination.next(d.slice()))}_tryResultSelector(o){let h;try{h=this.resultSelector.apply(this,o)}catch(u){return void this.destination.error(u)}this.destination.next(h)}}},9923:(O,y,n)=>{n.d(y,{z:()=>E});var c=n(5917),p=n(5766);function E(..._){return(0,p.u)()((0,c.of)(..._))}},1439:(O,y,n)=>{n.d(y,{P:()=>_});var c=n(3414),p=n(9412),E=n(9193);function _(a){return new c.y(b=>{let x;try{x=a()}catch(f){return void b.error(f)}return(x?(0,p.D)(x):(0,E.c)()).subscribe(b)})}},9193:(O,y,n)=>{n.d(y,{E:()=>p,c:()=>E});var c=n(3414);const p=new c.y(a=>a.complete());function E(a){return a?function _(a){return new c.y(b=>a.schedule(()=>b.complete()))}(a):p}},9412:(O,y,n)=>{n.d(y,{D:()=>_});var c=n(3414),p=n(9846),E=n(4542);function _(a,b){return b?(0,E.x)(a,b):a instanceof c.y?a:new c.y((0,p.s)(a))}},6693:(O,y,n)=>{n.d(y,{n:()=>_});var c=n(3414),p=n(5015),E=n(4087);function _(a,b){return b?(0,E.r)(a,b):new c.y((0,p.V)(a))}},6682:(O,y,n)=>{n.d(y,{T:()=>a});var c=n(3414),p=n(4869),E=n(3282),_=n(6693);function a(...b){let x=Number.POSITIVE_INFINITY,m=null,f=b[b.length-1];return(0,p.K)(f)?(m=b.pop(),b.length>1&&"number"==typeof b[b.length-1]&&(x=b.pop())):"number"==typeof f&&(x=b.pop()),null===m&&1===b.length&&b[0]instanceof c.y?b[0]:(0,E.J)(x)((0,_.n)(b,m))}},5917:(O,y,n)=>{n.d(y,{of:()=>_});var c=n(4869),p=n(6693),E=n(4087);function _(...a){let b=a[a.length-1];return(0,c.K)(b)?(a.pop(),(0,E.r)(a,b)):(0,p.n)(a)}},8085:(O,y,n)=>{n.d(y,{S3:()=>a});var c=n(9796),p=n(6693),E=n(5197),_=n(3960);function a(...m){if(1===m.length){if(!(0,c.k)(m[0]))return m[0];m=m[0]}return(0,p.n)(m,void 0).lift(new b)}class b{call(f,l){return l.subscribe(new x(f))}}class x extends E.L{constructor(f){super(f),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(f){this.observables.push(f)}_complete(){const f=this.observables,l=f.length;if(0===l)this.destination.complete();else{for(let o=0;o<l&&!this.hasFirst;o++){const u=(0,_.D)(this,f[o],void 0,o);this.subscriptions&&this.subscriptions.push(u),this.add(u)}this.observables=null}}notifyNext(f,l,o){if(!this.hasFirst){this.hasFirst=!0;for(let h=0;h<this.subscriptions.length;h++)if(h!==o){let u=this.subscriptions[h];u.unsubscribe(),this.remove(u)}this.subscriptions=null}this.destination.next(l)}}},205:(O,y,n)=>{n.d(y,{_:()=>p});var c=n(3414);function p(_,a){return new c.y(a?b=>a.schedule(E,0,{error:_,subscriber:b}):b=>b.error(_))}function E({error:_,subscriber:a}){a.error(_)}},6797:(O,y,n)=>{n.d(y,{H:()=>a});var c=n(3414),p=n(3637),E=n(6561),_=n(4869);function a(x=0,m,f){let l=-1;return(0,E.k)(m)?l=Number(m)<1?1:Number(m):(0,_.K)(m)&&(f=m),(0,_.K)(f)||(f=p.P),new c.y(o=>{const h=(0,E.k)(x)?x:+x-f.now();return f.schedule(b,h,{index:0,period:l,subscriber:o})})}function b(x){const{index:m,period:f,subscriber:l}=x;if(l.next(m),!l.closed){if(-1===f)return l.complete();x.index=m+1,this.schedule(x,f)}}},1571:(O,y,n)=>{n.d(y,{$R:()=>b,mx:()=>x});var c=n(6693),p=n(9796),E=n(7393),_=n(377),a=n(5345);function b(...h){const u=h[h.length-1];return"function"==typeof u&&h.pop(),(0,c.n)(h,void 0).lift(new x(u))}class x{constructor(u){this.resultSelector=u}call(u,d){return d.subscribe(new m(u,this.resultSelector))}}class m extends E.L{constructor(u,d,S=Object.create(null)){super(u),this.resultSelector=d,this.iterators=[],this.active=0,this.resultSelector="function"==typeof d?d:void 0}_next(u){const d=this.iterators;(0,p.k)(u)?d.push(new l(u)):d.push("function"==typeof u[_.hZ]?new f(u[_.hZ]()):new o(this.destination,this,u))}_complete(){const u=this.iterators,d=u.length;if(this.unsubscribe(),0!==d){this.active=d;for(let S=0;S<d;S++){let g=u[S];g.stillUnsubscribed?this.destination.add(g.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const u=this.iterators,d=u.length,S=this.destination;for(let C=0;C<d;C++){let P=u[C];if("function"==typeof P.hasValue&&!P.hasValue())return}let g=!1;const T=[];for(let C=0;C<d;C++){let P=u[C],L=P.next();if(P.hasCompleted()&&(g=!0),L.done)return void S.complete();T.push(L.value)}this.resultSelector?this._tryresultSelector(T):S.next(T),g&&S.complete()}_tryresultSelector(u){let d;try{d=this.resultSelector.apply(this,u)}catch(S){return void this.destination.error(S)}this.destination.next(d)}}class f{constructor(u){this.iterator=u,this.nextResult=u.next()}hasValue(){return!0}next(){const u=this.nextResult;return this.nextResult=this.iterator.next(),u}hasCompleted(){const u=this.nextResult;return Boolean(u&&u.done)}}class l{constructor(u){this.array=u,this.index=0,this.length=0,this.length=u.length}[_.hZ](){return this}next(u){const d=this.index++;return d<this.length?{value:this.array[d],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class o extends a.Ds{constructor(u,d,S){super(u),this.parent=d,this.observable=S,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[_.hZ](){return this}next(){const u=this.buffer;return 0===u.length&&this.isComplete?{value:null,done:!0}:{value:u.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(u){this.buffer.push(u),this.parent.checkIterators()}subscribe(){return(0,a.ft)(this.observable,new a.IY(this))}}},5766:(O,y,n)=>{n.d(y,{u:()=>p});var c=n(3282);function p(){return(0,c.J)(1)}},5435:(O,y,n)=>{n.d(y,{h:()=>p});var c=n(7393);function p(a,b){return function(m){return m.lift(new E(a,b))}}class E{constructor(b,x){this.predicate=b,this.thisArg=x}call(b,x){return x.subscribe(new _(b,this.predicate,this.thisArg))}}class _ extends c.L{constructor(b,x,m){super(b),this.predicate=x,this.thisArg=m,this.count=0}_next(b){let x;try{x=this.predicate.call(this.thisArg,b,this.count++)}catch(m){return void this.destination.error(m)}x&&this.destination.next(b)}}},304:(O,y,n)=>{n.d(y,{v:()=>a,T:()=>f});var c=n(7393),p=n(826),E=n(3414),_=n(9765);function a(o,h,u,d){return S=>S.lift(new b(o,h,u,d))}class b{constructor(h,u,d,S){this.keySelector=h,this.elementSelector=u,this.durationSelector=d,this.subjectSelector=S}call(h,u){return u.subscribe(new x(h,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class x extends c.L{constructor(h,u,d,S,g){super(h),this.keySelector=u,this.elementSelector=d,this.durationSelector=S,this.subjectSelector=g,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(h){let u;try{u=this.keySelector(h)}catch(d){return void this.error(d)}this._group(h,u)}_group(h,u){let d=this.groups;d||(d=this.groups=new Map);let g,S=d.get(u);if(this.elementSelector)try{g=this.elementSelector(h)}catch(T){this.error(T)}else g=h;if(!S){S=this.subjectSelector?this.subjectSelector():new _.xQ,d.set(u,S);const T=new f(u,S,this);if(this.destination.next(T),this.durationSelector){let C;try{C=this.durationSelector(new f(u,S))}catch(P){return void this.error(P)}this.add(C.subscribe(new m(u,S,this)))}}S.closed||S.next(g)}_error(h){const u=this.groups;u&&(u.forEach((d,S)=>{d.error(h)}),u.clear()),this.destination.error(h)}_complete(){const h=this.groups;h&&(h.forEach((u,d)=>{u.complete()}),h.clear()),this.destination.complete()}removeGroup(h){this.groups.delete(h)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class m extends c.L{constructor(h,u,d){super(u),this.key=h,this.group=u,this.parent=d}_next(h){this.complete()}_unsubscribe(){const{parent:h,key:u}=this;this.key=this.parent=null,h&&h.removeGroup(u)}}class f extends E.y{constructor(h,u,d){super(),this.key=h,this.groupSubject=u,this.refCountSubscription=d}_subscribe(h){const u=new p.w,{refCountSubscription:d,groupSubject:S}=this;return d&&!d.closed&&u.add(new l(d)),u.add(S.subscribe(h)),u}}class l extends p.w{constructor(h){super(),this.parent=h,h.count++}unsubscribe(){const h=this.parent;!h.closed&&!this.closed&&(super.unsubscribe(),h.count-=1,0===h.count&&h.attemptedToUnsubscribe&&h.unsubscribe())}}},8002:(O,y,n)=>{n.d(y,{U:()=>p});var c=n(7393);function p(a,b){return function(m){if("function"!=typeof a)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return m.lift(new E(a,b))}}class E{constructor(b,x){this.project=b,this.thisArg=x}call(b,x){return x.subscribe(new _(b,this.project,this.thisArg))}}class _ extends c.L{constructor(b,x,m){super(b),this.project=x,this.count=0,this.thisArg=m||this}_next(b){let x;try{x=this.project.call(this.thisArg,b,this.count++)}catch(m){return void this.destination.error(m)}this.destination.next(x)}}},3282:(O,y,n)=>{n.d(y,{J:()=>E});var c=n(9773),p=n(4487);function E(_=Number.POSITIVE_INFINITY){return(0,c.zg)(p.y,_)}},9773:(O,y,n)=>{n.d(y,{zg:()=>_,VS:()=>x});var c=n(8002),p=n(9412),E=n(5345);function _(m,f,l=Number.POSITIVE_INFINITY){return"function"==typeof f?o=>o.pipe(_((h,u)=>(0,p.D)(m(h,u)).pipe((0,c.U)((d,S)=>f(h,d,u,S))),l)):("number"==typeof f&&(l=f),o=>o.lift(new a(m,l)))}class a{constructor(f,l=Number.POSITIVE_INFINITY){this.project=f,this.concurrent=l}call(f,l){return l.subscribe(new b(f,this.project,this.concurrent))}}class b extends E.Ds{constructor(f,l,o=Number.POSITIVE_INFINITY){super(f),this.project=l,this.concurrent=o,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(f){this.active<this.concurrent?this._tryNext(f):this.buffer.push(f)}_tryNext(f){let l;const o=this.index++;try{l=this.project(f,o)}catch(h){return void this.destination.error(h)}this.active++,this._innerSub(l)}_innerSub(f){const l=new E.IY(this),o=this.destination;o.add(l);const h=(0,E.ft)(f,l);h!==l&&o.add(h)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(f){this.destination.next(f)}notifyComplete(){const f=this.buffer;this.active--,f.length>0?this._next(f.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}const x=_},9746:(O,y,n)=>{n.d(y,{QV:()=>E,ht:()=>a});var c=n(7393),p=n(3098);function E(x,m=0){return function(l){return l.lift(new _(x,m))}}class _{constructor(m,f=0){this.scheduler=m,this.delay=f}call(m,f){return f.subscribe(new a(m,this.scheduler,this.delay))}}class a extends c.L{constructor(m,f,l=0){super(m),this.scheduler=f,this.delay=l}static dispatch(m){const{notification:f,destination:l}=m;f.observe(l),this.unsubscribe()}scheduleMessage(m){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new b(m,this.destination)))}_next(m){this.scheduleMessage(p.P.createNext(m))}_error(m){this.scheduleMessage(p.P.createError(m)),this.unsubscribe()}_complete(){this.scheduleMessage(p.P.createComplete()),this.unsubscribe()}}class b{constructor(m,f){this.notification=m,this.destination=f}}},1307:(O,y,n)=>{n.d(y,{x:()=>p});var c=n(7393);function p(){return function(b){return b.lift(new E(b))}}class E{constructor(b){this.connectable=b}call(b,x){const{connectable:m}=this;m._refCount++;const f=new _(b,m),l=x.subscribe(f);return f.closed||(f.connection=m.connect()),l}}class _ extends c.L{constructor(b,x){super(b),this.connectable=x}_unsubscribe(){const{connectable:b}=this;if(!b)return void(this.connection=null);this.connectable=null;const x=b._refCount;if(x<=0)return void(this.connection=null);if(b._refCount=x-1,x>1)return void(this.connection=null);const{connection:m}=this,f=b._connection;this.connection=null,f&&(!m||f===m)&&f.unsubscribe()}}},4087:(O,y,n)=>{n.d(y,{r:()=>E});var c=n(3414),p=n(826);function E(_,a){return new c.y(b=>{const x=new p.w;let m=0;return x.add(a.schedule(function(){m!==_.length?(b.next(_[m++]),b.closed||x.add(this.schedule())):b.complete()})),x})}},4542:(O,y,n)=>{n.d(y,{x:()=>u});var c=n(3414),p=n(826),E=n(6554),b=n(4087),x=n(377),l=n(4072),o=n(9489);function u(d,S){if(null!=d){if(function f(d){return d&&"function"==typeof d[E.L]}(d))return function _(d,S){return new c.y(g=>{const T=new p.w;return T.add(S.schedule(()=>{const C=d[E.L]();T.add(C.subscribe({next(P){T.add(S.schedule(()=>g.next(P)))},error(P){T.add(S.schedule(()=>g.error(P)))},complete(){T.add(S.schedule(()=>g.complete()))}}))})),T})}(d,S);if((0,l.t)(d))return function a(d,S){return new c.y(g=>{const T=new p.w;return T.add(S.schedule(()=>d.then(C=>{T.add(S.schedule(()=>{g.next(C),T.add(S.schedule(()=>g.complete()))}))},C=>{T.add(S.schedule(()=>g.error(C)))}))),T})}(d,S);if((0,o.z)(d))return(0,b.r)(d,S);if(function h(d){return d&&"function"==typeof d[x.hZ]}(d)||"string"==typeof d)return function m(d,S){if(!d)throw new Error("Iterable cannot be null");return new c.y(g=>{const T=new p.w;let C;return T.add(()=>{C&&"function"==typeof C.return&&C.return()}),T.add(S.schedule(()=>{C=d[x.hZ](),T.add(S.schedule(function(){if(g.closed)return;let P,L;try{const R=C.next();P=R.value,L=R.done}catch(R){return void g.error(R)}L?g.complete():(g.next(P),this.schedule())}))})),T})}(d,S)}throw new TypeError((null!==d&&typeof d||d)+" is not observable")}},3989:(O,y,n)=>{n.d(y,{o:()=>E});var c=n(826);class p extends c.w{constructor(a,b){super()}schedule(a,b=0){return this}}class E extends p{constructor(a,b){super(a,b),this.scheduler=a,this.work=b,this.pending=!1}schedule(a,b=0){if(this.closed)return this;this.state=a;const x=this.id,m=this.scheduler;return null!=x&&(this.id=this.recycleAsyncId(m,x,b)),this.pending=!0,this.delay=b,this.id=this.id||this.requestAsyncId(m,this.id,b),this}requestAsyncId(a,b,x=0){return setInterval(a.flush.bind(a,this),x)}recycleAsyncId(a,b,x=0){if(null!==x&&this.delay===x&&!1===this.pending)return b;clearInterval(b)}execute(a,b){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const x=this._execute(a,b);if(x)return x;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(a,b){let m,x=!1;try{this.work(a)}catch(f){x=!0,m=!!f&&f||new Error(f)}if(x)return this.unsubscribe(),m}_unsubscribe(){const a=this.id,b=this.scheduler,x=b.actions,m=x.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==m&&x.splice(m,1),null!=a&&(this.id=this.recycleAsyncId(b,a,null)),this.delay=null}}},4548:(O,y,n)=>{n.d(y,{v:()=>p});var c=n(2217);class p extends c.b{constructor(_,a=c.b.now){super(_,()=>p.delegate&&p.delegate!==this?p.delegate.now():a()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(_,a=0,b){return p.delegate&&p.delegate!==this?p.delegate.schedule(_,a,b):super.schedule(_,a,b)}flush(_){const{actions:a}=this;if(this.active)return void a.push(_);let b;this.active=!0;do{if(b=_.execute(_.state,_.delay))break}while(_=a.shift());if(this.active=!1,b){for(;_=a.shift();)_.unsubscribe();throw b}}}},4713:(O,y,n)=>{n.d(y,{e:()=>h,E:()=>o});let c=1;const p=Promise.resolve(),E={};function _(u){return u in E&&(delete E[u],!0)}const a={setImmediate(u){const d=c++;return E[d]=!0,p.then(()=>_(d)&&u()),d},clearImmediate(u){_(u)}};var x=n(3989),f=n(4548);const o=new class l extends f.v{flush(d){this.active=!0,this.scheduled=void 0;const{actions:S}=this;let g,T=-1,C=S.length;d=d||S.shift();do{if(g=d.execute(d.state,d.delay))break}while(++T<C&&(d=S.shift()));if(this.active=!1,g){for(;++T<C&&(d=S.shift());)d.unsubscribe();throw g}}}(class m extends x.o{constructor(d,S){super(d,S),this.scheduler=d,this.work=S}requestAsyncId(d,S,g=0){return null!==g&&g>0?super.requestAsyncId(d,S,g):(d.actions.push(this),d.scheduled||(d.scheduled=a.setImmediate(d.flush.bind(d,null))))}recycleAsyncId(d,S,g=0){if(null!==g&&g>0||null===g&&this.delay>0)return super.recycleAsyncId(d,S,g);0===d.actions.length&&(a.clearImmediate(S),d.scheduled=void 0)}}),h=o},3637:(O,y,n)=>{n.d(y,{z:()=>E,P:()=>_});var c=n(3989);const E=new(n(4548).v)(c.o),_=E},3951:(O,y,n)=>{n.d(y,{c:()=>b,N:()=>a});var c=n(3989),E=n(4548);const a=new class _ extends E.v{}(class p extends c.o{constructor(m,f){super(m,f),this.scheduler=m,this.work=f}schedule(m,f=0){return f>0?super.schedule(m,f):(this.delay=f,this.state=m,this.scheduler.flush(this),this)}execute(m,f){return f>0||this.closed?super.execute(m,f):this._execute(m,f)}requestAsyncId(m,f,l=0){return null!==l&&l>0||null===l&&this.delay>0?super.requestAsyncId(m,f,l):m.flush(this)}}),b=a},377:(O,y,n)=>{n.d(y,{hZ:()=>p});const p=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},6554:(O,y,n)=>{n.d(y,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(O,y,n)=>{n.d(y,{b:()=>c});const c="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(O,y,n)=>{n.d(y,{W:()=>p});const p=(()=>{function E(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return E.prototype=Object.create(Error.prototype),E})()},3410:(O,y,n)=>{n.d(y,{K:()=>p});const p=(()=>{function E(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return E.prototype=Object.create(Error.prototype),E})()},7971:(O,y,n)=>{n.d(y,{N:()=>p});const p=(()=>{function E(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return E.prototype=Object.create(Error.prototype),E})()},5587:(O,y,n)=>{n.d(y,{W:()=>p});const p=(()=>{function E(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return E.prototype=Object.create(Error.prototype),E})()},7744:(O,y,n)=>{n.d(y,{B:()=>p});const p=(()=>{function E(_){return Error.call(this),this.message=_?`${_.length} errors occurred during unsubscription:\n${_.map((a,b)=>`${b+1}) ${a.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=_,this}return E.prototype=Object.create(Error.prototype),E})()},3179:(O,y,n)=>{n.d(y,{_:()=>p});var c=n(7393);function p(E){for(;E;){const{closed:_,destination:a,isStopped:b}=E;if(_||b)return!1;E=a&&a instanceof c.L?a:null}return!0}},4449:(O,y,n)=>{function c(p){setTimeout(()=>{throw p},0)}n.d(y,{z:()=>c})},4487:(O,y,n)=>{function c(p){return p}n.d(y,{y:()=>c})},9796:(O,y,n)=>{n.d(y,{k:()=>c});const c=Array.isArray||(p=>p&&"number"==typeof p.length)},9489:(O,y,n)=>{n.d(y,{z:()=>c});const c=p=>p&&"number"==typeof p.length&&"function"!=typeof p},9105:(O,y,n)=>{function c(p){return"function"==typeof p}n.d(y,{m:()=>c})},6561:(O,y,n)=>{n.d(y,{k:()=>p});var c=n(9796);function p(E){return!(0,c.k)(E)&&E-parseFloat(E)+1>=0}},1555:(O,y,n)=>{function c(p){return null!==p&&"object"==typeof p}n.d(y,{K:()=>c})},4072:(O,y,n)=>{function c(p){return!!p&&"function"!=typeof p.subscribe&&"function"==typeof p.then}n.d(y,{t:()=>c})},4869:(O,y,n)=>{function c(p){return p&&"function"==typeof p.schedule}n.d(y,{K:()=>c})},8640:(O,y,n)=>{function c(){}n.d(y,{Z:()=>c})},9264:(O,y,n)=>{function c(p,E){function _(){return!_.pred.apply(_.thisArg,arguments)}return _.pred=p,_.thisArg=E,_}n.d(y,{f:()=>c})},4022:(O,y,n)=>{n.d(y,{z:()=>p,U:()=>E});var c=n(4487);function p(..._){return E(_)}function E(_){return 0===_.length?c.y:1===_.length?_[0]:function(b){return _.reduce((x,m)=>m(x),b)}}},9846:(O,y,n)=>{n.d(y,{s:()=>o});var c=n(5015),p=n(4449),_=n(377),b=n(6554),m=n(9489),f=n(4072),l=n(1555);const o=h=>{if(h&&"function"==typeof h[b.L])return(h=>u=>{const d=h[b.L]();if("function"!=typeof d.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return d.subscribe(u)})(h);if((0,m.z)(h))return(0,c.V)(h);if((0,f.t)(h))return(h=>u=>(h.then(d=>{u.closed||(u.next(d),u.complete())},d=>u.error(d)).then(null,p.z),u))(h);if(h&&"function"==typeof h[_.hZ])return(h=>u=>{const d=h[_.hZ]();for(;;){let S;try{S=d.next()}catch(g){return u.error(g),u}if(S.done){u.complete();break}if(u.next(S.value),u.closed)break}return"function"==typeof d.return&&u.add(()=>{d.return&&d.return()}),u})(h);{const d=`You provided ${(0,l.K)(h)?"an invalid object":`'${h}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(d)}}},5015:(O,y,n)=>{n.d(y,{V:()=>c});const c=p=>E=>{for(let _=0,a=p.length;_<a&&!E.closed;_++)E.next(p[_]);E.complete()}},3960:(O,y,n)=>{n.d(y,{D:()=>a});var c=n(7393);class p extends c.L{constructor(x,m,f){super(),this.parent=x,this.outerValue=m,this.outerIndex=f,this.index=0}_next(x){this.parent.notifyNext(this.outerValue,x,this.outerIndex,this.index++,this)}_error(x){this.parent.notifyError(x,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var E=n(9846),_=n(3414);function a(b,x,m,f,l=new p(b,m,f)){if(!l.closed)return x instanceof _.y?x.subscribe(l):(0,E.s)(x)(l)}},9026:(O,y,n)=>{n.r(y),n.d(y,{audit:()=>p,auditTime:()=>x,buffer:()=>m,bufferCount:()=>h,bufferTime:()=>T,bufferToggle:()=>At,bufferWhen:()=>Rt,catchError:()=>Ut,combineAll:()=>jt,combineLatest:()=>Ft,concat:()=>zt,concatAll:()=>Yt.u,concatMap:()=>pt,concatMapTo:()=>Qt,count:()=>Zt,debounce:()=>Gt,debounceTime:()=>Xt,defaultIfEmpty:()=>F,delay:()=>ne,delayWhen:()=>ce,dematerialize:()=>ae,distinct:()=>be,distinctUntilChanged:()=>wt,distinctUntilKeyChanged:()=>we,elementAt:()=>ve,endWith:()=>Ie,every:()=>Ce,exhaust:()=>Me,exhaustMap:()=>yt,expand:()=>Ne,filter:()=>U.h,finalize:()=>Ue,find:()=>je,findIndex:()=>ze,first:()=>Ye,flatMap:()=>j.VS,groupBy:()=>Qe.v,ignoreElements:()=>Ze,isEmpty:()=>Ge,last:()=>ts,map:()=>V.U,mapTo:()=>es,materialize:()=>ns,max:()=>hs,merge:()=>as,mergeAll:()=>ds.J,mergeMap:()=>j.zg,mergeMapTo:()=>fs,mergeScan:()=>bs,min:()=>_s,multicast:()=>B,observeOn:()=>ys.QV,onErrorResumeNext:()=>Es,pairwise:()=>gs,partition:()=>Is,pluck:()=>Cs,publish:()=>Ps,publishBehavior:()=>As,publishLast:()=>Ls,publishReplay:()=>Rs,race:()=>Bs,reduce:()=>q,refCount:()=>Tt.x,repeat:()=>Us,repeatWhen:()=>Ks,retry:()=>zs,retryWhen:()=>Zs,sample:()=>Gs,sampleTime:()=>Xs,scan:()=>X,sequenceEqual:()=>si,share:()=>ci,shareReplay:()=>ui,single:()=>li,skip:()=>fi,skipLast:()=>mi,skipUntil:()=>wi,skipWhile:()=>Si,startWith:()=>vi,subscribeOn:()=>Ti,switchAll:()=>Pi,switchMap:()=>Q,switchMapTo:()=>Mi,take:()=>ot,takeLast:()=>J,takeUntil:()=>Ai,takeWhile:()=>Ri,tap:()=>Vi,throttle:()=>Fi,throttleTime:()=>Qi,throwIfEmpty:()=>k,timeInterval:()=>ki,timeout:()=>en,timeoutWith:()=>Ct,timestamp:()=>sn,toArray:()=>on,window:()=>cn,windowCount:()=>ln,windowTime:()=>fn,windowToggle:()=>wn,windowWhen:()=>Sn,withLatestFrom:()=>vn,zip:()=>Cn,zipAll:()=>Dn});var c=n(5345);function p(s){return function(e){return e.lift(new E(s))}}class E{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new _(t,this.durationSelector))}}class _ extends c.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:r}=this;e=r(t)}catch(r){return this.destination.error(r)}const i=(0,c.ft)(e,new c.IY(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var a=n(3637),b=n(6797);function x(s,t=a.P){return p(()=>(0,b.H)(s,t))}function m(s){return function(e){return e.lift(new f(s))}}class f{constructor(t){this.closingNotifier=t}call(t,e){return e.subscribe(new l(t,this.closingNotifier))}}class l extends c.Ds{constructor(t,e){super(t),this.buffer=[],this.add((0,c.ft)(e,new c.IY(this)))}_next(t){this.buffer.push(t)}notifyNext(){const t=this.buffer;this.buffer=[],this.destination.next(t)}}var o=n(7393);function h(s,t=null){return function(i){return i.lift(new u(s,t))}}class u{constructor(t,e){this.bufferSize=t,this.startBufferEvery=e,this.subscriberClass=e&&t!==e?S:d}call(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))}}class d extends o.L{constructor(t,e){super(t),this.bufferSize=e,this.buffer=[]}_next(t){const e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])}_complete(){const t=this.buffer;t.length>0&&this.destination.next(t),super._complete()}}class S extends o.L{constructor(t,e,i){super(t),this.bufferSize=e,this.startBufferEvery=i,this.buffers=[],this.count=0}_next(t){const{bufferSize:e,startBufferEvery:i,buffers:r,count:w}=this;this.count++,w%i==0&&r.push([]);for(let v=r.length;v--;){const I=r[v];I.push(t),I.length===e&&(r.splice(v,1),this.destination.next(I))}}_complete(){const{buffers:t,destination:e}=this;for(;t.length>0;){let i=t.shift();i.length>0&&e.next(i)}super._complete()}}var g=n(4869);function T(s){let t=arguments.length,e=a.P;(0,g.K)(arguments[arguments.length-1])&&(e=arguments[arguments.length-1],t--);let i=null;t>=2&&(i=arguments[1]);let r=Number.POSITIVE_INFINITY;return t>=3&&(r=arguments[2]),function(v){return v.lift(new C(s,i,r,e))}}class C{constructor(t,e,i,r){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=i,this.scheduler=r}call(t,e){return e.subscribe(new L(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))}}class P{constructor(){this.buffer=[]}}class L extends o.L{constructor(t,e,i,r,w){super(t),this.bufferTimeSpan=e,this.bufferCreationInterval=i,this.maxBufferSize=r,this.scheduler=w,this.contexts=[];const v=this.openContext();if(this.timespanOnly=null==i||i<0,this.timespanOnly)this.add(v.closeAction=w.schedule(R,e,{subscriber:this,context:v,bufferTimeSpan:e}));else{const D={bufferTimeSpan:e,bufferCreationInterval:i,subscriber:this,scheduler:w};this.add(v.closeAction=w.schedule(ft,e,{subscriber:this,context:v})),this.add(w.schedule(Mt,i,D))}}_next(t){const e=this.contexts,i=e.length;let r;for(let w=0;w<i;w++){const v=e[w],I=v.buffer;I.push(t),I.length==this.maxBufferSize&&(r=v)}r&&this.onBufferFull(r)}_error(t){this.contexts.length=0,super._error(t)}_complete(){const{contexts:t,destination:e}=this;for(;t.length>0;){const i=t.shift();e.next(i.buffer)}super._complete()}_unsubscribe(){this.contexts=null}onBufferFull(t){this.closeContext(t);const e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();const i=this.bufferTimeSpan;this.add(t.closeAction=this.scheduler.schedule(R,i,{subscriber:this,context:t,bufferTimeSpan:i}))}}openContext(){const t=new P;return this.contexts.push(t),t}closeContext(t){this.destination.next(t.buffer);const e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)}}function R(s){const t=s.subscriber,e=s.context;e&&t.closeContext(e),t.closed||(s.context=t.openContext(),s.context.closeAction=this.schedule(s,s.bufferTimeSpan))}function Mt(s){const{bufferCreationInterval:t,bufferTimeSpan:e,subscriber:i,scheduler:r}=s,w=i.openContext();i.closed||(i.add(w.closeAction=r.schedule(ft,e,{subscriber:i,context:w})),this.schedule(s,t))}function ft(s){const{subscriber:t,context:e}=s;t.closeContext(e)}var H=n(826),N=n(3960),K=n(5197);function At(s,t){return function(i){return i.lift(new Wt(s,t))}}class Wt{constructor(t,e){this.openings=t,this.closingSelector=e}call(t,e){return e.subscribe(new Lt(t,this.openings,this.closingSelector))}}class Lt extends K.L{constructor(t,e,i){super(t),this.closingSelector=i,this.contexts=[],this.add((0,N.D)(this,e))}_next(t){const e=this.contexts,i=e.length;for(let r=0;r<i;r++)e[r].buffer.push(t)}_error(t){const e=this.contexts;for(;e.length>0;){const i=e.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,super._error(t)}_complete(){const t=this.contexts;for(;t.length>0;){const e=t.shift();this.destination.next(e.buffer),e.subscription.unsubscribe(),e.buffer=null,e.subscription=null}this.contexts=null,super._complete()}notifyNext(t,e){t?this.closeBuffer(t):this.openBuffer(e)}notifyComplete(t){this.closeBuffer(t.context)}openBuffer(t){try{const i=this.closingSelector.call(this,t);i&&this.trySubscribe(i)}catch(e){this._error(e)}}closeBuffer(t){const e=this.contexts;if(e&&t){const{buffer:i,subscription:r}=t;this.destination.next(i),e.splice(e.indexOf(t),1),this.remove(r),r.unsubscribe()}}trySubscribe(t){const e=this.contexts,r=new H.w,w={buffer:[],subscription:r};e.push(w);const v=(0,N.D)(this,t,w);!v||v.closed?this.closeBuffer(w):(v.context=w,this.add(v),r.add(v))}}function Rt(s){return function(t){return t.lift(new Nt(s))}}class Nt{constructor(t){this.closingSelector=t}call(t,e){return e.subscribe(new Bt(t,this.closingSelector))}}class Bt extends c.Ds{constructor(t,e){super(t),this.closingSelector=e,this.subscribing=!1,this.openBuffer()}_next(t){this.buffer.push(t)}_complete(){const t=this.buffer;t&&this.destination.next(t),super._complete()}_unsubscribe(){this.buffer=void 0,this.subscribing=!1}notifyNext(){this.openBuffer()}notifyComplete(){this.subscribing?this.complete():this.openBuffer()}openBuffer(){let i,{closingSubscription:t}=this;t&&(this.remove(t),t.unsubscribe()),this.buffer&&this.destination.next(this.buffer),this.buffer=[];try{const{closingSelector:r}=this;i=r()}catch(r){return this.error(r)}t=new H.w,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add((0,c.ft)(i,new c.IY(this))),this.subscribing=!1}}function Ut(s){return function(e){const i=new Vt(s),r=e.lift(i);return i.caught=r}}class Vt{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Kt(t,this.selector,this.caught))}}class Kt extends c.Ds{constructor(t,e,i){super(t),this.selector=e,this.caught=i}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(w){return void super.error(w)}this._unsubscribeAndRecycle();const i=new c.IY(this);this.add(i);const r=(0,c.ft)(e,i);r!==i&&this.add(r)}}}var bt=n(9112);function jt(s){return t=>t.lift(new bt.Ms(s))}var st=n(9796),it=n(9412);function Ft(...s){let t=null;return"function"==typeof s[s.length-1]&&(t=s.pop()),1===s.length&&(0,st.k)(s[0])&&(s=s[0].slice()),e=>e.lift.call((0,it.D)([e,...s]),new bt.Ms(t))}var $=n(9923);function zt(...s){return t=>t.lift.call((0,$.z)(t,...s))}var Yt=n(5766),j=n(9773);function pt(s,t){return(0,j.zg)(s,t,1)}function Qt(s,t){return pt(()=>s,t)}function Zt(s){return t=>t.lift(new Ht(s,t))}class Ht{constructor(t,e){this.predicate=t,this.source=e}call(t,e){return e.subscribe(new $t(t,this.predicate,this.source))}}class $t extends o.L{constructor(t,e,i){super(t),this.predicate=e,this.source=i,this.count=0,this.index=0}_next(t){this.predicate?this._tryPredicate(t):this.count++}_tryPredicate(t){let e;try{e=this.predicate(t,this.index++,this.source)}catch(i){return void this.destination.error(i)}e&&this.count++}_complete(){this.destination.next(this.count),this.destination.complete()}}function Gt(s){return t=>t.lift(new kt(s))}class kt{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Jt(t,this.durationSelector))}}class Jt extends c.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){try{const e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(e){this.destination.error(e)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(t,e){let i=this.durationSubscription;this.value=t,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=(0,c.ft)(e,new c.IY(this)),i&&!i.closed&&this.add(this.durationSubscription=i)}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const t=this.value,e=this.durationSubscription;e&&(this.durationSubscription=void 0,e.unsubscribe(),this.remove(e)),this.value=void 0,this.hasValue=!1,super._next(t)}}}function Xt(s,t=a.P){return e=>e.lift(new qt(s,t))}class qt{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new te(t,this.dueTime,this.scheduler))}}class te extends o.L{constructor(t,e,i){super(t),this.dueTime=e,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ee,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function ee(s){s.debouncedNext()}function F(s=null){return t=>t.lift(new se(s))}class se{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new ie(t,this.defaultValue))}}class ie extends o.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function mt(s){return s instanceof Date&&!isNaN(+s)}var z=n(3098);function ne(s,t=a.P){const i=mt(s)?+s-t.now():Math.abs(s);return r=>r.lift(new re(i,t))}class re{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new nt(t,this.delay,this.scheduler))}}class nt extends o.L{constructor(t,e,i){super(t),this.delay=e,this.scheduler=i,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,i=e.queue,r=t.scheduler,w=t.destination;for(;i.length>0&&i[0].time-r.now()<=0;)i.shift().notification.observe(w);if(i.length>0){const v=Math.max(0,i[0].time-r.now());this.schedule(t,v)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(nt.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,i=new oe(e.now()+this.delay,t);this.queue.push(i),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(z.P.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(z.P.createComplete()),this.unsubscribe()}}class oe{constructor(t,e){this.time=t,this.notification=e}}var _t=n(3414);function ce(s,t){return t?e=>new he(e,t).lift(new xt(s)):e=>e.lift(new xt(s))}class xt{constructor(t){this.delayDurationSelector=t}call(t,e){return e.subscribe(new ue(t,this.delayDurationSelector))}}class ue extends K.L{constructor(t,e){super(t),this.delayDurationSelector=e,this.completed=!1,this.delayNotifierSubscriptions=[],this.index=0}notifyNext(t,e,i,r,w){this.destination.next(t),this.removeSubscription(w),this.tryComplete()}notifyError(t,e){this._error(t)}notifyComplete(t){const e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()}_next(t){const e=this.index++;try{const i=this.delayDurationSelector(t,e);i&&this.tryDelay(i,t)}catch(i){this.destination.error(i)}}_complete(){this.completed=!0,this.tryComplete(),this.unsubscribe()}removeSubscription(t){t.unsubscribe();const e=this.delayNotifierSubscriptions.indexOf(t);return-1!==e&&this.delayNotifierSubscriptions.splice(e,1),t.outerValue}tryDelay(t,e){const i=(0,N.D)(this,t,e);i&&!i.closed&&(this.destination.add(i),this.delayNotifierSubscriptions.push(i))}tryComplete(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}class he extends _t.y{constructor(t,e){super(),this.source=t,this.subscriptionDelay=e}_subscribe(t){this.subscriptionDelay.subscribe(new le(t,this.source))}}class le extends o.L{constructor(t,e){super(),this.parent=t,this.source=e,this.sourceSubscribed=!1}_next(t){this.subscribeToSource()}_error(t){this.unsubscribe(),this.parent.error(t)}_complete(){this.unsubscribe(),this.subscribeToSource()}subscribeToSource(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))}}function ae(){return function(t){return t.lift(new de)}}class de{call(t,e){return e.subscribe(new fe(t))}}class fe extends o.L{constructor(t){super(t)}_next(t){t.observe(this.destination)}}function be(s,t){return e=>e.lift(new pe(s,t))}class pe{constructor(t,e){this.keySelector=t,this.flushes=e}call(t,e){return e.subscribe(new me(t,this.keySelector,this.flushes))}}class me extends c.Ds{constructor(t,e,i){super(t),this.keySelector=e,this.values=new Set,i&&this.add((0,c.ft)(i,new c.IY(this)))}notifyNext(){this.values.clear()}notifyError(t){this._error(t)}_next(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)}_useKeySelector(t){let e;const{destination:i}=this;try{e=this.keySelector(t)}catch(r){return void i.error(r)}this._finalizeNext(e,t)}_finalizeNext(t,e){const{values:i}=this;i.has(t)||(i.add(t),this.destination.next(e))}}function wt(s,t){return e=>e.lift(new _e(s,t))}class _e{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new xe(t,this.compare,this.keySelector))}}class xe extends o.L{constructor(t,e,i){super(t),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:r}=this;e=r?r(t):t}catch(r){return this.destination.error(r)}let i=!1;if(this.hasKey)try{const{compare:r}=this;i=r(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}function we(s,t){return wt((e,i)=>t?t(e[s],i[s]):e[s]===i[s])}var Y=n(7108),U=n(5435),G=n(3410);function k(s=Se){return t=>t.lift(new ye(s))}class ye{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Ee(t,this.errorFactory))}}class Ee extends o.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Se(){return new G.K}var rt=n(9193);function ot(s){return t=>0===s?(0,rt.c)():t.lift(new ge(s))}class ge{constructor(t){if(this.total=t,this.total<0)throw new Y.W}call(t,e){return e.subscribe(new Oe(t,this.total))}}class Oe extends o.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function ve(s,t){if(s<0)throw new Y.W;const e=arguments.length>=2;return i=>i.pipe((0,U.h)((r,w)=>w===s),ot(1),e?F(t):k(()=>new Y.W))}var Te=n(5917);function Ie(...s){return t=>(0,$.z)(t,(0,Te.of)(...s))}function Ce(s,t){return e=>e.lift(new De(s,t,e))}class De{constructor(t,e,i){this.predicate=t,this.thisArg=e,this.source=i}call(t,e){return e.subscribe(new Pe(t,this.predicate,this.thisArg,this.source))}}class Pe extends o.L{constructor(t,e,i,r){super(t),this.predicate=e,this.thisArg=i,this.source=r,this.index=0,this.thisArg=i||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(i){return void this.destination.error(i)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Me(){return s=>s.lift(new Ae)}class Ae{call(t,e){return e.subscribe(new We(t))}}class We extends c.Ds{constructor(t){super(t),this.hasCompleted=!1,this.hasSubscription=!1}_next(t){this.hasSubscription||(this.hasSubscription=!0,this.add((0,c.ft)(t,new c.IY(this))))}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}var V=n(8002);function yt(s,t){return t?e=>e.pipe(yt((i,r)=>(0,it.D)(s(i,r)).pipe((0,V.U)((w,v)=>t(i,w,r,v))))):e=>e.lift(new Le(s))}class Le{constructor(t){this.project=t}call(t,e){return e.subscribe(new Re(t,this.project))}}class Re extends c.Ds{constructor(t,e){super(t),this.project=e,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(t){this.hasSubscription||this.tryNext(t)}tryNext(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(r){return void this.destination.error(r)}this.hasSubscription=!0,this._innerSub(e)}_innerSub(t){const e=new c.IY(this),i=this.destination;i.add(e);const r=(0,c.ft)(t,e);r!==e&&i.add(r)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}function Ne(s,t=Number.POSITIVE_INFINITY,e){return t=(t||0)<1?Number.POSITIVE_INFINITY:t,i=>i.lift(new Be(s,t,e))}class Be{constructor(t,e,i){this.project=t,this.concurrent=e,this.scheduler=i}call(t,e){return e.subscribe(new ct(t,this.project,this.concurrent,this.scheduler))}}class ct extends c.Ds{constructor(t,e,i,r){super(t),this.project=e,this.concurrent=i,this.scheduler=r,this.index=0,this.active=0,this.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(this.buffer=[])}static dispatch(t){const{subscriber:e,result:i,value:r,index:w}=t;e.subscribeToProjection(i,r,w)}_next(t){const e=this.destination;if(e.closed)return void this._complete();const i=this.index++;if(this.active<this.concurrent){e.next(t);try{const{project:r}=this,w=r(t,i);this.scheduler?this.destination.add(this.scheduler.schedule(ct.dispatch,0,{subscriber:this,result:w,value:t,index:i})):this.subscribeToProjection(w,t,i)}catch(r){e.error(r)}}else this.buffer.push(t)}subscribeToProjection(t,e,i){this.active++,this.destination.add((0,c.ft)(t,new c.IY(this)))}_complete(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this._next(t)}notifyComplete(){const t=this.buffer;this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}function Ue(s){return t=>t.lift(new Ve(s))}class Ve{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Ke(t,this.callback))}}class Ke extends o.L{constructor(t,e){super(t),this.add(new H.w(e))}}function je(s,t){if("function"!=typeof s)throw new TypeError("predicate is not a function");return e=>e.lift(new Et(s,e,!1,t))}class Et{constructor(t,e,i,r){this.predicate=t,this.source=e,this.yieldIndex=i,this.thisArg=r}call(t,e){return e.subscribe(new Fe(t,this.predicate,this.source,this.yieldIndex,this.thisArg))}}class Fe extends o.L{constructor(t,e,i,r,w){super(t),this.predicate=e,this.source=i,this.yieldIndex=r,this.thisArg=w,this.index=0}notifyComplete(t){const e=this.destination;e.next(t),e.complete(),this.unsubscribe()}_next(t){const{predicate:e,thisArg:i}=this,r=this.index++;try{e.call(i||this,t,r,this.source)&&this.notifyComplete(this.yieldIndex?r:t)}catch(w){this.destination.error(w)}}_complete(){this.notifyComplete(this.yieldIndex?-1:void 0)}}function ze(s,t){return e=>e.lift(new Et(s,e,!0,t))}var ut=n(4487);function Ye(s,t){const e=arguments.length>=2;return i=>i.pipe(s?(0,U.h)((r,w)=>s(r,w,i)):ut.y,ot(1),e?F(t):k(()=>new G.K))}var Qe=n(304);function Ze(){return function(t){return t.lift(new He)}}class He{call(t,e){return e.subscribe(new $e(t))}}class $e extends o.L{_next(t){}}function Ge(){return s=>s.lift(new ke)}class ke{call(t,e){return e.subscribe(new Je(t))}}class Je extends o.L{constructor(t){super(t)}notifyComplete(t){const e=this.destination;e.next(t),e.complete()}_next(t){this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function J(s){return function(e){return 0===s?(0,rt.c)():e.lift(new Xe(s))}}class Xe{constructor(t){if(this.total=t,this.total<0)throw new Y.W}call(t,e){return e.subscribe(new qe(t,this.total))}}class qe extends o.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,i=this.total,r=this.count++;e.length<i?e.push(t):e[r%i]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const i=this.count>=this.total?this.total:this.count,r=this.ring;for(let w=0;w<i;w++){const v=e++%i;t.next(r[v])}}t.complete()}}function ts(s,t){const e=arguments.length>=2;return i=>i.pipe(s?(0,U.h)((r,w)=>s(r,w,i)):ut.y,J(1),e?F(t):k(()=>new G.K))}function es(s){return t=>t.lift(new ss(s))}class ss{constructor(t){this.value=t}call(t,e){return e.subscribe(new is(t,this.value))}}class is extends o.L{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}function ns(){return function(t){return t.lift(new rs)}}class rs{call(t,e){return e.subscribe(new os(t))}}class os extends o.L{constructor(t){super(t)}_next(t){this.destination.next(z.P.createNext(t))}_error(t){const e=this.destination;e.next(z.P.createError(t)),e.complete()}_complete(){const t=this.destination;t.next(z.P.createComplete()),t.complete()}}function X(s,t){let e=!1;return arguments.length>=2&&(e=!0),function(r){return r.lift(new cs(s,t,e))}}class cs{constructor(t,e,i=!1){this.accumulator=t,this.seed=e,this.hasSeed=i}call(t,e){return e.subscribe(new us(t,this.accumulator,this.seed,this.hasSeed))}}class us extends o.L{constructor(t,e,i,r){super(t),this.accumulator=e,this._seed=i,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let i;try{i=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=i,this.destination.next(i)}}var St=n(4022);function q(s,t){return arguments.length>=2?function(i){return(0,St.z)(X(s,t),J(1),F(t))(i)}:function(i){return(0,St.z)(X((r,w,v)=>s(r,w,v+1)),J(1))(i)}}function hs(s){return q("function"==typeof s?(e,i)=>s(e,i)>0?e:i:(e,i)=>e>i?e:i)}var ls=n(6682);function as(...s){return t=>t.lift.call((0,ls.T)(t,...s))}var ds=n(3282);function fs(s,t,e=Number.POSITIVE_INFINITY){return"function"==typeof t?(0,j.zg)(()=>s,t,e):("number"==typeof t&&(e=t),(0,j.zg)(()=>s,e))}function bs(s,t,e=Number.POSITIVE_INFINITY){return i=>i.lift(new ps(s,t,e))}class ps{constructor(t,e,i){this.accumulator=t,this.seed=e,this.concurrent=i}call(t,e){return e.subscribe(new ms(t,this.accumulator,this.seed,this.concurrent))}}class ms extends c.Ds{constructor(t,e,i,r){super(t),this.accumulator=e,this.acc=i,this.concurrent=r,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){if(this.active<this.concurrent){const e=this.index++,i=this.destination;let r;try{const{accumulator:w}=this;r=w(this.acc,t,e)}catch(w){return i.error(w)}this.active++,this._innerSub(r)}else this.buffer.push(t)}_innerSub(t){const e=new c.IY(this),i=this.destination;i.add(e);const r=(0,c.ft)(t,e);r!==e&&i.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()}notifyNext(t){const{destination:e}=this;this.acc=t,this.hasValue=!0,e.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())}}function _s(s){return q("function"==typeof s?(e,i)=>s(e,i)<0?e:i:(e,i)=>e<i?e:i)}var xs=n(2441);function B(s,t){return function(i){let r;if(r="function"==typeof s?s:function(){return s},"function"==typeof t)return i.lift(new ws(r,t));const w=Object.create(i,xs.N);return w.source=i,w.subjectFactory=r,w}}class ws{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:i}=this,r=this.subjectFactory(),w=i(r).subscribe(t);return w.add(e.subscribe(r)),w}}var ys=n(9746);function Es(...s){return 1===s.length&&(0,st.k)(s[0])&&(s=s[0]),t=>t.lift(new gt(s))}class gt{constructor(t){this.nextSources=t}call(t,e){return e.subscribe(new Ss(t,this.nextSources))}}class Ss extends c.Ds{constructor(t,e){super(t),this.destination=t,this.nextSources=e}notifyError(){this.subscribeToNextSource()}notifyComplete(){this.subscribeToNextSource()}_error(t){this.subscribeToNextSource(),this.unsubscribe()}_complete(){this.subscribeToNextSource(),this.unsubscribe()}subscribeToNextSource(){const t=this.nextSources.shift();if(t){const e=new c.IY(this),i=this.destination;i.add(e);const r=(0,c.ft)(t,e);r!==e&&i.add(r)}else this.destination.complete()}}function gs(){return s=>s.lift(new Os)}class Os{call(t,e){return e.subscribe(new vs(t))}}class vs extends o.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var Ts=n(9264);function Is(s,t){return e=>[(0,U.h)(s,t)(e),(0,U.h)((0,Ts.f)(s,t))(e)]}function Cs(...s){const t=s.length;if(0===t)throw new Error("list of properties cannot be empty.");return e=>(0,V.U)(function Ds(s,t){return i=>{let r=i;for(let w=0;w<t;w++){const v=null!=r?r[s[w]]:void 0;if(void 0===v)return;r=v}return r}}(s,t))(e)}var M=n(9765);function Ps(s){return s?B(()=>new M.xQ,s):B(new M.xQ)}var Ms=n(6215);function As(s){return t=>B(new Ms.X(s))(t)}var Ws=n(8660);function Ls(){return s=>B(new Ws.c)(s)}var Ot=n(8229);function Rs(s,t,e,i){e&&"function"!=typeof e&&(i=e);const r="function"==typeof e?e:void 0,w=new Ot.t(s,t,i);return v=>B(()=>w,r)(v)}var Ns=n(8085);function Bs(...s){return function(e){return 1===s.length&&(0,st.k)(s[0])&&(s=s[0]),e.lift.call((0,Ns.S3)(e,...s))}}function Us(s=-1){return t=>0===s?(0,rt.c)():t.lift(new vt(s<0?-1:s-1,t))}class vt{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new Vs(t,this.count,this.source))}}class Vs extends o.L{constructor(t,e,i){super(t),this.count=e,this.source=i}complete(){if(!this.isStopped){const{source:t,count:e}=this;if(0===e)return super.complete();e>-1&&(this.count=e-1),t.subscribe(this._unsubscribeAndRecycle())}}}function Ks(s){return t=>t.lift(new js(s))}class js{constructor(t){this.notifier=t}call(t,e){return e.subscribe(new Fs(t,this.notifier,e))}}class Fs extends c.Ds{constructor(t,e,i){super(t),this.notifier=e,this.source=i,this.sourceIsBeingSubscribedTo=!0}notifyNext(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)}notifyComplete(){if(!1===this.sourceIsBeingSubscribedTo)return super.complete()}complete(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return super.complete();this._unsubscribeAndRecycle(),this.notifications.next(void 0)}}_unsubscribe(){const{notifications:t,retriesSubscription:e}=this;t&&(t.unsubscribe(),this.notifications=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}_unsubscribeAndRecycle(){const{_unsubscribe:t}=this;return this._unsubscribe=null,super._unsubscribeAndRecycle(),this._unsubscribe=t,this}subscribeToRetries(){let t;this.notifications=new M.xQ;try{const{notifier:e}=this;t=e(this.notifications)}catch{return super.complete()}this.retries=t,this.retriesSubscription=(0,c.ft)(t,new c.IY(this))}}function zs(s=-1){return t=>t.lift(new Ys(s,t))}class Ys{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new Qs(t,this.count,this.source))}}class Qs extends o.L{constructor(t,e,i){super(t),this.count=e,this.source=i}error(t){if(!this.isStopped){const{source:e,count:i}=this;if(0===i)return super.error(t);i>-1&&(this.count=i-1),e.subscribe(this._unsubscribeAndRecycle())}}}function Zs(s){return t=>t.lift(new Hs(s,t))}class Hs{constructor(t,e){this.notifier=t,this.source=e}call(t,e){return e.subscribe(new $s(t,this.notifier,this.source))}}class $s extends c.Ds{constructor(t,e,i){super(t),this.notifier=e,this.source=i}error(t){if(!this.isStopped){let e=this.errors,i=this.retries,r=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{e=new M.xQ;try{const{notifier:w}=this;i=w(e)}catch(w){return super.error(w)}r=(0,c.ft)(i,new c.IY(this))}this._unsubscribeAndRecycle(),this.errors=e,this.retries=i,this.retriesSubscription=r,e.next(t)}}_unsubscribe(){const{errors:t,retriesSubscription:e}=this;t&&(t.unsubscribe(),this.errors=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:t}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)}}var Tt=n(1307);function Gs(s){return t=>t.lift(new ks(s))}class ks{constructor(t){this.notifier=t}call(t,e){const i=new Js(t),r=e.subscribe(i);return r.add((0,c.ft)(this.notifier,new c.IY(i))),r}}class Js extends c.Ds{constructor(){super(...arguments),this.hasValue=!1}_next(t){this.value=t,this.hasValue=!0}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}function Xs(s,t=a.P){return e=>e.lift(new qs(s,t))}class qs{constructor(t,e){this.period=t,this.scheduler=e}call(t,e){return e.subscribe(new ti(t,this.period,this.scheduler))}}class ti extends o.L{constructor(t,e,i){super(t),this.period=e,this.scheduler=i,this.hasValue=!1,this.add(i.schedule(ei,e,{subscriber:this,period:e}))}_next(t){this.lastValue=t,this.hasValue=!0}notifyNext(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}function ei(s){let{subscriber:t,period:e}=s;t.notifyNext(),this.schedule(s,e)}function si(s,t){return e=>e.lift(new ii(s,t))}class ii{constructor(t,e){this.compareTo=t,this.comparator=e}call(t,e){return e.subscribe(new ni(t,this.compareTo,this.comparator))}}class ni extends o.L{constructor(t,e,i){super(t),this.compareTo=e,this.comparator=i,this._a=[],this._b=[],this._oneComplete=!1,this.destination.add(e.subscribe(new ri(t,this)))}_next(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())}_complete(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()}checkValues(){const{_a:t,_b:e,comparator:i}=this;for(;t.length>0&&e.length>0;){let r=t.shift(),w=e.shift(),v=!1;try{v=i?i(r,w):r===w}catch(I){this.destination.error(I)}v||this.emit(!1)}}emit(t){const{destination:e}=this;e.next(t),e.complete()}nextB(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())}completeB(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0}}class ri extends o.L{constructor(t,e){super(t),this.parent=e}_next(t){this.parent.nextB(t)}_error(t){this.parent.error(t),this.unsubscribe()}_complete(){this.parent.completeB(),this.unsubscribe()}}function oi(){return new M.xQ}function ci(){return s=>(0,Tt.x)()(B(oi)(s))}function ui(s,t,e){let i;return i=s&&"object"==typeof s?s:{bufferSize:s,windowTime:t,refCount:!1,scheduler:e},r=>r.lift(function hi({bufferSize:s=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:i}){let r,v,w=0,I=!1,D=!1;return function(Z){let W;w++,!r||I?(I=!1,r=new Ot.t(s,t,i),W=r.subscribe(this),v=Z.subscribe({next(dt){r.next(dt)},error(dt){I=!0,r.error(dt)},complete(){D=!0,v=void 0,r.complete()}}),D&&(v=void 0)):W=r.subscribe(this),this.add(()=>{w--,W.unsubscribe(),W=void 0,v&&!D&&e&&0===w&&(v.unsubscribe(),v=void 0,r=void 0)})}}(i))}function li(s){return t=>t.lift(new ai(s,t))}class ai{constructor(t,e){this.predicate=t,this.source=e}call(t,e){return e.subscribe(new di(t,this.predicate,this.source))}}class di extends o.L{constructor(t,e,i){super(t),this.predicate=e,this.source=i,this.seenValue=!1,this.index=0}applySingleValue(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)}_next(t){const e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)}tryNext(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(i){this.destination.error(i)}}_complete(){const t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new G.K)}}function fi(s){return t=>t.lift(new bi(s))}class bi{constructor(t){this.total=t}call(t,e){return e.subscribe(new pi(t,this.total))}}class pi extends o.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}function mi(s){return t=>t.lift(new _i(s))}class _i{constructor(t){if(this._skipCount=t,this._skipCount<0)throw new Y.W}call(t,e){return e.subscribe(0===this._skipCount?new o.L(t):new xi(t,this._skipCount))}}class xi extends o.L{constructor(t,e){super(t),this._skipCount=e,this._count=0,this._ring=new Array(e)}_next(t){const e=this._skipCount,i=this._count++;if(i<e)this._ring[i]=t;else{const r=i%e,w=this._ring,v=w[r];w[r]=t,this.destination.next(v)}}}function wi(s){return t=>t.lift(new yi(s))}class yi{constructor(t){this.notifier=t}call(t,e){return e.subscribe(new Ei(t,this.notifier))}}class Ei extends c.Ds{constructor(t,e){super(t),this.hasValue=!1;const i=new c.IY(this);this.add(i),this.innerSubscription=i;const r=(0,c.ft)(e,i);r!==i&&(this.add(r),this.innerSubscription=r)}_next(t){this.hasValue&&super._next(t)}notifyNext(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()}notifyComplete(){}}function Si(s){return t=>t.lift(new gi(s))}class gi{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new Oi(t,this.predicate))}}class Oi extends o.L{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}function vi(...s){const t=s[s.length-1];return(0,g.K)(t)?(s.pop(),e=>(0,$.z)(s,e,t)):e=>(0,$.z)(s,e)}var ht=n(4713),lt=n(6561);class tt extends _t.y{constructor(t,e=0,i=ht.e){super(),this.source=t,this.delayTime=e,this.scheduler=i,(!(0,lt.k)(e)||e<0)&&(this.delayTime=0),(!i||"function"!=typeof i.schedule)&&(this.scheduler=ht.e)}static create(t,e=0,i=ht.e){return new tt(t,e,i)}static dispatch(t){const{source:e,subscriber:i}=t;return this.add(e.subscribe(i))}_subscribe(t){return this.scheduler.schedule(tt.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function Ti(s,t=0){return function(i){return i.lift(new Ii(s,t))}}class Ii{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new tt(e,this.delay,this.scheduler).subscribe(t)}}function Q(s,t){return"function"==typeof t?e=>e.pipe(Q((i,r)=>(0,it.D)(s(i,r)).pipe((0,V.U)((w,v)=>t(i,w,r,v))))):e=>e.lift(new Ci(s))}class Ci{constructor(t){this.project=t}call(t,e){return e.subscribe(new Di(t,this.project))}}class Di extends c.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new c.IY(this),r=this.destination;r.add(i),this.innerSubscription=(0,c.ft)(t,i),this.innerSubscription!==i&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function Pi(){return Q(ut.y)}function Mi(s,t){return t?Q(()=>s,t):Q(()=>s)}function Ai(s){return t=>t.lift(new Wi(s))}class Wi{constructor(t){this.notifier=t}call(t,e){const i=new Li(t),r=(0,c.ft)(this.notifier,new c.IY(i));return r&&!i.seenValue?(i.add(r),e.subscribe(i)):i}}class Li extends c.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Ri(s,t=!1){return e=>e.lift(new Ni(s,t))}class Ni{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new Bi(t,this.predicate,this.inclusive))}}class Bi extends o.L{constructor(t,e,i){super(t),this.predicate=e,this.inclusive=i,this.index=0}_next(t){const e=this.destination;let i;try{i=this.predicate(t,this.index++)}catch(r){return void e.error(r)}this.nextOrComplete(t,i)}nextOrComplete(t,e){const i=this.destination;Boolean(e)?i.next(t):(this.inclusive&&i.next(t),i.complete())}}var A=n(8640),Ui=n(9105);function Vi(s,t,e){return function(r){return r.lift(new Ki(s,t,e))}}class Ki{constructor(t,e,i){this.nextOrObserver=t,this.error=e,this.complete=i}call(t,e){return e.subscribe(new ji(t,this.nextOrObserver,this.error,this.complete))}}class ji extends o.L{constructor(t,e,i,r){super(t),this._tapNext=A.Z,this._tapError=A.Z,this._tapComplete=A.Z,this._tapError=i||A.Z,this._tapComplete=r||A.Z,(0,Ui.m)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||A.Z,this._tapError=e.error||A.Z,this._tapComplete=e.complete||A.Z)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}const It={leading:!0,trailing:!1};function Fi(s,t=It){return e=>e.lift(new zi(s,!!t.leading,!!t.trailing))}class zi{constructor(t,e,i){this.durationSelector=t,this.leading=e,this.trailing=i}call(t,e){return e.subscribe(new Yi(t,this.durationSelector,this.leading,this.trailing))}}class Yi extends c.Ds{constructor(t,e,i,r){super(t),this.destination=t,this.durationSelector=e,this._leading=i,this._trailing=r,this._hasValue=!1}_next(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))}send(){const{_hasValue:t,_sendValue:e}=this;t&&(this.destination.next(e),this.throttle(e)),this._hasValue=!1,this._sendValue=void 0}throttle(t){const e=this.tryDurationSelector(t);e&&this.add(this._throttled=(0,c.ft)(e,new c.IY(this)))}tryDurationSelector(t){try{return this.durationSelector(t)}catch(e){return this.destination.error(e),null}}throttlingDone(){const{_throttled:t,_trailing:e}=this;t&&t.unsubscribe(),this._throttled=void 0,e&&this.send()}notifyNext(){this.throttlingDone()}notifyComplete(){this.throttlingDone()}}function Qi(s,t=a.P,e=It){return i=>i.lift(new Zi(s,t,e.leading,e.trailing))}class Zi{constructor(t,e,i,r){this.duration=t,this.scheduler=e,this.leading=i,this.trailing=r}call(t,e){return e.subscribe(new Hi(t,this.duration,this.scheduler,this.leading,this.trailing))}}class Hi extends o.L{constructor(t,e,i,r,w){super(t),this.duration=e,this.scheduler=i,this.leading=r,this.trailing=w,this._hasTrailingValue=!1,this._trailingValue=null}_next(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule($i,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}function $i(s){const{subscriber:t}=s;t.clearThrottle()}var Gi=n(1439);function ki(s=a.P){return t=>(0,Gi.P)(()=>t.pipe(X(({current:e},i)=>({value:i,current:s.now(),last:e}),{current:s.now(),value:void 0,last:void 0}),(0,V.U)(({current:e,last:i,value:r})=>new Ji(r,e-i))))}class Ji{constructor(t,e){this.value=t,this.interval=e}}var Xi=n(5587);function Ct(s,t,e=a.P){return i=>{let r=mt(s),w=r?+s-e.now():Math.abs(s);return i.lift(new qi(w,r,t,e))}}class qi{constructor(t,e,i,r){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=i,this.scheduler=r}call(t,e){return e.subscribe(new at(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class at extends c.Ds{constructor(t,e,i,r,w){super(t),this.absoluteTimeout=e,this.waitFor=i,this.withObservable=r,this.scheduler=w,this.scheduleTimeout()}static dispatchTimeout(t){const{withObservable:e}=t;t._unsubscribeAndRecycle(),t.add((0,c.ft)(e,new c.IY(t)))}scheduleTimeout(){const{action:t}=this;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(at.dispatchTimeout,this.waitFor,this))}_next(t){this.absoluteTimeout||this.scheduleTimeout(),super._next(t)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var tn=n(205);function en(s,t=a.P){return Ct(s,(0,tn._)(new Xi.W),t)}function sn(s=a.P){return(0,V.U)(t=>new nn(t,s.now()))}class nn{constructor(t,e){this.value=t,this.timestamp=e}}function rn(s,t,e){return 0===e?[t]:(s.push(t),s)}function on(){return q(rn,[])}function cn(s){return function(e){return e.lift(new un(s))}}class un{constructor(t){this.windowBoundaries=t}call(t,e){const i=new hn(t),r=e.subscribe(i);return r.closed||i.add((0,c.ft)(this.windowBoundaries,new c.IY(i))),r}}class hn extends c.Ds{constructor(t){super(t),this.window=new M.xQ,t.next(this.window)}notifyNext(){this.openWindow()}notifyError(t){this._error(t)}notifyComplete(){this._complete()}_next(t){this.window.next(t)}_error(t){this.window.error(t),this.destination.error(t)}_complete(){this.window.complete(),this.destination.complete()}_unsubscribe(){this.window=null}openWindow(){const t=this.window;t&&t.complete();const e=this.destination,i=this.window=new M.xQ;e.next(i)}}function ln(s,t=0){return function(i){return i.lift(new an(s,t))}}class an{constructor(t,e){this.windowSize=t,this.startWindowEvery=e}call(t,e){return e.subscribe(new dn(t,this.windowSize,this.startWindowEvery))}}class dn extends o.L{constructor(t,e,i){super(t),this.destination=t,this.windowSize=e,this.startWindowEvery=i,this.windows=[new M.xQ],this.count=0,t.next(this.windows[0])}_next(t){const e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,r=this.windowSize,w=this.windows,v=w.length;for(let D=0;D<v&&!this.closed;D++)w[D].next(t);const I=this.count-r+1;if(I>=0&&I%e==0&&!this.closed&&w.shift().complete(),++this.count%e==0&&!this.closed){const D=new M.xQ;w.push(D),i.next(D)}}_error(t){const e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)}_complete(){const t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()}_unsubscribe(){this.count=0,this.windows=null}}function fn(s){let t=a.P,e=null,i=Number.POSITIVE_INFINITY;return(0,g.K)(arguments[3])&&(t=arguments[3]),(0,g.K)(arguments[2])?t=arguments[2]:(0,lt.k)(arguments[2])&&(i=Number(arguments[2])),(0,g.K)(arguments[1])?t=arguments[1]:(0,lt.k)(arguments[1])&&(e=Number(arguments[1])),function(w){return w.lift(new bn(s,e,i,t))}}class bn{constructor(t,e,i,r){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=i,this.scheduler=r}call(t,e){return e.subscribe(new mn(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))}}class pn extends M.xQ{constructor(){super(...arguments),this._numberOfNextedValues=0}next(t){this._numberOfNextedValues++,super.next(t)}get numberOfNextedValues(){return this._numberOfNextedValues}}class mn extends o.L{constructor(t,e,i,r,w){super(t),this.destination=t,this.windowTimeSpan=e,this.windowCreationInterval=i,this.maxWindowSize=r,this.scheduler=w,this.windows=[];const v=this.openWindow();if(null!==i&&i>=0){const D={windowTimeSpan:e,windowCreationInterval:i,subscriber:this,scheduler:w};this.add(w.schedule(Dt,e,{subscriber:this,window:v,context:null})),this.add(w.schedule(xn,i,D))}else this.add(w.schedule(_n,e,{subscriber:this,window:v,windowTimeSpan:e}))}_next(t){const e=this.windows,i=e.length;for(let r=0;r<i;r++){const w=e[r];w.closed||(w.next(t),w.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(w))}}_error(t){const e=this.windows;for(;e.length>0;)e.shift().error(t);this.destination.error(t)}_complete(){const t=this.windows;for(;t.length>0;){const e=t.shift();e.closed||e.complete()}this.destination.complete()}openWindow(){const t=new pn;return this.windows.push(t),this.destination.next(t),t}closeWindow(t){t.complete();const e=this.windows;e.splice(e.indexOf(t),1)}}function _n(s){const{subscriber:t,windowTimeSpan:e,window:i}=s;i&&t.closeWindow(i),s.window=t.openWindow(),this.schedule(s,e)}function xn(s){const{windowTimeSpan:t,subscriber:e,scheduler:i,windowCreationInterval:r}=s,w=e.openWindow(),v=this;let I={action:v,subscription:null};I.subscription=i.schedule(Dt,t,{subscriber:e,window:w,context:I}),v.add(I.subscription),v.schedule(s,r)}function Dt(s){const{subscriber:t,window:e,context:i}=s;i&&i.action&&i.subscription&&i.action.remove(i.subscription),t.closeWindow(e)}function wn(s,t){return e=>e.lift(new yn(s,t))}class yn{constructor(t,e){this.openings=t,this.closingSelector=e}call(t,e){return e.subscribe(new En(t,this.openings,this.closingSelector))}}class En extends K.L{constructor(t,e,i){super(t),this.openings=e,this.closingSelector=i,this.contexts=[],this.add(this.openSubscription=(0,N.D)(this,e,e))}_next(t){const{contexts:e}=this;if(e){const i=e.length;for(let r=0;r<i;r++)e[r].window.next(t)}}_error(t){const{contexts:e}=this;if(this.contexts=null,e){const i=e.length;let r=-1;for(;++r<i;){const w=e[r];w.window.error(t),w.subscription.unsubscribe()}}super._error(t)}_complete(){const{contexts:t}=this;if(this.contexts=null,t){const e=t.length;let i=-1;for(;++i<e;){const r=t[i];r.window.complete(),r.subscription.unsubscribe()}}super._complete()}_unsubscribe(){const{contexts:t}=this;if(this.contexts=null,t){const e=t.length;let i=-1;for(;++i<e;){const r=t[i];r.window.unsubscribe(),r.subscription.unsubscribe()}}}notifyNext(t,e,i,r,w){if(t===this.openings){let v;try{const{closingSelector:W}=this;v=W(e)}catch(W){return this.error(W)}const I=new M.xQ,D=new H.w,et={window:I,subscription:D};this.contexts.push(et);const Z=(0,N.D)(this,v,et);Z.closed?this.closeWindow(this.contexts.length-1):(Z.context=et,D.add(Z)),this.destination.next(I)}else this.closeWindow(this.contexts.indexOf(t))}notifyError(t){this.error(t)}notifyComplete(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))}closeWindow(t){if(-1===t)return;const{contexts:e}=this,i=e[t],{window:r,subscription:w}=i;e.splice(t,1),r.complete(),w.unsubscribe()}}function Sn(s){return function(e){return e.lift(new gn(s))}}class gn{constructor(t){this.closingSelector=t}call(t,e){return e.subscribe(new On(t,this.closingSelector))}}class On extends K.L{constructor(t,e){super(t),this.destination=t,this.closingSelector=e,this.openWindow()}notifyNext(t,e,i,r,w){this.openWindow(w)}notifyError(t){this._error(t)}notifyComplete(t){this.openWindow(t)}_next(t){this.window.next(t)}_error(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()}_complete(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()}unsubscribeClosingNotification(){this.closingNotification&&this.closingNotification.unsubscribe()}openWindow(t=null){t&&(this.remove(t),t.unsubscribe());const e=this.window;e&&e.complete();const i=this.window=new M.xQ;let r;this.destination.next(i);try{const{closingSelector:w}=this;r=w()}catch(w){return this.destination.error(w),void this.window.error(w)}this.add(this.closingNotification=(0,N.D)(this,r))}}function vn(...s){return t=>{let e;return"function"==typeof s[s.length-1]&&(e=s.pop()),t.lift(new Tn(s,e))}}class Tn{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new In(t,this.observables,this.project))}}class In extends K.L{constructor(t,e,i){super(t),this.observables=e,this.project=i,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let w=0;w<r;w++)this.toRespond.push(w);for(let w=0;w<r;w++)this.add((0,N.D)(this,e[w],void 0,w))}notifyNext(t,e,i){this.values[i]=e;const r=this.toRespond;if(r.length>0){const w=r.indexOf(i);-1!==w&&r.splice(w,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}var Pt=n(1571);function Cn(...s){return function(e){return e.lift.call((0,Pt.$R)(e,...s))}}function Dn(s){return t=>t.lift(new Pt.mx(s))}}}]);
(self.webpackChunkmfComponents=self.webpackChunkmfComponents||[]).push([[42],{8692:(Tn,me,ue)=>{ue.r(me),ue.d(me,{APP_BASE_HREF:()=>oe,AsyncPipe:()=>st,CommonModule:()=>yn,CurrencyPipe:()=>Et,DATE_PIPE_DEFAULT_TIMEZONE:()=>lt,DOCUMENT:()=>k,DatePipe:()=>Dt,DecimalPipe:()=>Ct,FormStyle:()=>E,FormatWidth:()=>g,HashLocationStrategy:()=>Rt,I18nPluralPipe:()=>dt,I18nSelectPipe:()=>ht,JsonPipe:()=>gt,KeyValuePipe:()=>Ft,LOCATION_INITIALIZED:()=>Tt,Location:()=>_e,LocationStrategy:()=>x,LowerCasePipe:()=>at,NgClass:()=>Ze,NgComponentOutlet:()=>Ke,NgForOf:()=>Je,NgForOfContext:()=>Xe,NgIf:()=>qe,NgIfContext:()=>et,NgLocaleLocalization:()=>ze,NgLocalization:()=>H,NgPlural:()=>ge,NgPluralCase:()=>rt,NgStyle:()=>it,NgSwitch:()=>te,NgSwitchCase:()=>nt,NgSwitchDefault:()=>ut,NgTemplateOutlet:()=>ot,NumberFormatStyle:()=>b,NumberSymbol:()=>c,PathLocationStrategy:()=>Ae,PercentPipe:()=>mt,PlatformLocation:()=>N,Plural:()=>y,SlicePipe:()=>yt,TitleCasePipe:()=>ct,TranslationWidth:()=>D,UpperCasePipe:()=>ft,VERSION:()=>bn,ViewportScroller:()=>Ln,WeekDay:()=>w,XhrFactory:()=>vn,formatCurrency:()=>Ue,formatDate:()=>ke,formatNumber:()=>We,formatPercent:()=>He,getCurrencySymbol:()=>Re,getLocaleCurrencyCode:()=>Gt,getLocaleCurrencyName:()=>$t,getLocaleCurrencySymbol:()=>jt,getLocaleDateFormat:()=>V,getLocaleDateTimeFormat:()=>$,getLocaleDayNames:()=>Be,getLocaleDayPeriods:()=>Le,getLocaleDirection:()=>Ht,getLocaleEraNames:()=>Me,getLocaleExtraDayPeriodRules:()=>Ie,getLocaleExtraDayPeriods:()=>Ne,getLocaleFirstDayOfWeek:()=>xt,getLocaleId:()=>be,getLocaleMonthNames:()=>Pe,getLocaleNumberFormat:()=>Z,getLocaleNumberSymbol:()=>B,getLocalePluralCase:()=>ve,getLocaleTimeFormat:()=>j,getLocaleWeekEndRange:()=>Vt,getNumberOfCurrencyDigits:()=>Oe,isPlatformBrowser:()=>An,isPlatformServer:()=>_n,isPlatformWorkerApp:()=>wn,isPlatformWorkerUi:()=>Sn,registerLocaleData:()=>Dn,\u0275BrowserPlatformLocation:()=>re,\u0275DomAdapter:()=>Mt,\u0275NullViewportScroller:()=>Mn,\u0275PLATFORM_BROWSER_ID:()=>At,\u0275PLATFORM_SERVER_ID:()=>_t,\u0275PLATFORM_WORKER_APP_ID:()=>wt,\u0275PLATFORM_WORKER_UI_ID:()=>St,\u0275getDOM:()=>z,\u0275parseCookieValue:()=>dn,\u0275setRootDomAdapter:()=>Pt});var i=ue(7451);let Y=null;function z(){return Y}function Pt(e){Y||(Y=e)}class Mt{}const k=new i.InjectionToken("DocumentToken");let N=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.\u0275\u0275defineInjectable({token:e,factory:function(){return function vt(){return(0,i.\u0275\u0275inject)(re)}()},providedIn:"platform"}),e})();const Tt=new i.InjectionToken("Location Initialized");let re=(()=>{class e extends N{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return z().getBaseHref(this._doc)}onPopState(t){const u=z().getGlobalEventTarget(this._doc,"window");return u.addEventListener("popstate",t,!1),()=>u.removeEventListener("popstate",t)}onHashChange(t){const u=z().getGlobalEventTarget(this._doc,"window");return u.addEventListener("hashchange",t,!1),()=>u.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,u,r){Ee()?this._history.pushState(t,u,r):this.location.hash=r}replaceState(t,u,r){Ee()?this._history.replaceState(t,u,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275inject(k))},e.\u0275prov=i.\u0275\u0275defineInjectable({token:e,factory:function(){return function It(){return new re((0,i.\u0275\u0275inject)(k))}()},providedIn:"platform"}),e})();function Ee(){return!!window.history.pushState}function ie(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function ye(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function T(e){return e&&"?"!==e[0]?"?"+e:e}let x=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.\u0275\u0275defineInjectable({token:e,factory:function(){return function Nt(e){const n=(0,i.\u0275\u0275inject)(k).location;return new Ae((0,i.\u0275\u0275inject)(N),n&&n.origin||"")}()},providedIn:"root"}),e})();const oe=new i.InjectionToken("appBaseHref");let Ae=(()=>{class e extends x{constructor(t,u){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==u&&(u=this._platformLocation.getBaseHrefFromDOM()),null==u)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=u}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ie(this._baseHref,t)}path(t=!1){const u=this._platformLocation.pathname+T(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${u}${r}`:u}pushState(t,u,r,o){const s=this.prepareExternalUrl(r+T(o));this._platformLocation.pushState(t,u,s)}replaceState(t,u,r,o){const s=this.prepareExternalUrl(r+T(o));this._platformLocation.replaceState(t,u,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275inject(N),i.\u0275\u0275inject(oe,8))},e.\u0275prov=i.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})(),Rt=(()=>{class e extends x{constructor(t,u){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=u&&(this._baseHref=u)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let u=this._platformLocation.hash;return null==u&&(u="#"),u.length>0?u.substring(1):u}prepareExternalUrl(t){const u=ie(this._baseHref,t);return u.length>0?"#"+u:u}pushState(t,u,r,o){let s=this.prepareExternalUrl(r+T(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,u,s)}replaceState(t,u,r,o){let s=this.prepareExternalUrl(r+T(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,u,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275inject(N),i.\u0275\u0275inject(oe,8))},e.\u0275prov=i.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})(),_e=(()=>{class e{constructor(t,u){this._subject=new i.EventEmitter,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=u,this._baseHref=ye(we(r)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,u=""){return this.path()==this.normalize(t+T(u))}normalize(t){return e.stripTrailingSlash(function kt(e,n){return e&&n.startsWith(e)?n.substring(e.length):n}(this._baseHref,we(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,u="",r=null){this._platformStrategy.pushState(r,"",t,u),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+T(u)),r)}replaceState(t,u="",r=null){this._platformStrategy.replaceState(r,"",t,u),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+T(u)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){this._platformStrategy.historyGo?.(t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(u=>{this._notifyUrlChangeListeners(u.url,u.state)}))}_notifyUrlChangeListeners(t="",u){this._urlChangeListeners.forEach(r=>r(t,u))}subscribe(t,u,r){return this._subject.subscribe({next:t,error:u,complete:r})}}return e.normalizeQueryParams=T,e.joinWithSlash=ie,e.stripTrailingSlash=ye,e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275inject(x),i.\u0275\u0275inject(N))},e.\u0275prov=i.\u0275\u0275defineInjectable({token:e,factory:function(){return function Ot(){return new _e((0,i.\u0275\u0275inject)(x),(0,i.\u0275\u0275inject)(N))}()},providedIn:"root"}),e})();function we(e){return e.replace(/\/index.html$/,"")}const Se={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var b=(()=>((b=b||{})[b.Decimal=0]="Decimal",b[b.Percent=1]="Percent",b[b.Currency=2]="Currency",b[b.Scientific=3]="Scientific",b))(),y=(()=>((y=y||{})[y.Zero=0]="Zero",y[y.One=1]="One",y[y.Two=2]="Two",y[y.Few=3]="Few",y[y.Many=4]="Many",y[y.Other=5]="Other",y))(),E=(()=>((E=E||{})[E.Format=0]="Format",E[E.Standalone=1]="Standalone",E))(),D=(()=>((D=D||{})[D.Narrow=0]="Narrow",D[D.Abbreviated=1]="Abbreviated",D[D.Wide=2]="Wide",D[D.Short=3]="Short",D))(),g=(()=>((g=g||{})[g.Short=0]="Short",g[g.Medium=1]="Medium",g[g.Long=2]="Long",g[g.Full=3]="Full",g))(),c=(()=>((c=c||{})[c.Decimal=0]="Decimal",c[c.Group=1]="Group",c[c.List=2]="List",c[c.PercentSign=3]="PercentSign",c[c.PlusSign=4]="PlusSign",c[c.MinusSign=5]="MinusSign",c[c.Exponential=6]="Exponential",c[c.SuperscriptingExponent=7]="SuperscriptingExponent",c[c.PerMille=8]="PerMille",c[c.Infinity=9]="Infinity",c[c.NaN=10]="NaN",c[c.TimeSeparator=11]="TimeSeparator",c[c.CurrencyDecimal=12]="CurrencyDecimal",c[c.CurrencyGroup=13]="CurrencyGroup",c))(),w=(()=>((w=w||{})[w.Sunday=0]="Sunday",w[w.Monday=1]="Monday",w[w.Tuesday=2]="Tuesday",w[w.Wednesday=3]="Wednesday",w[w.Thursday=4]="Thursday",w[w.Friday=5]="Friday",w[w.Saturday=6]="Saturday",w))();function be(e){return(0,i.\u0275findLocaleData)(e)[i.\u0275LocaleDataIndex.LocaleId]}function Le(e,n,t){const u=(0,i.\u0275findLocaleData)(e),o=P([u[i.\u0275LocaleDataIndex.DayPeriodsFormat],u[i.\u0275LocaleDataIndex.DayPeriodsStandalone]],n);return P(o,t)}function Be(e,n,t){const u=(0,i.\u0275findLocaleData)(e),o=P([u[i.\u0275LocaleDataIndex.DaysFormat],u[i.\u0275LocaleDataIndex.DaysStandalone]],n);return P(o,t)}function Pe(e,n,t){const u=(0,i.\u0275findLocaleData)(e),o=P([u[i.\u0275LocaleDataIndex.MonthsFormat],u[i.\u0275LocaleDataIndex.MonthsStandalone]],n);return P(o,t)}function Me(e,n){return P((0,i.\u0275findLocaleData)(e)[i.\u0275LocaleDataIndex.Eras],n)}function xt(e){return(0,i.\u0275findLocaleData)(e)[i.\u0275LocaleDataIndex.FirstDayOfWeek]}function Vt(e){return(0,i.\u0275findLocaleData)(e)[i.\u0275LocaleDataIndex.WeekendRange]}function V(e,n){return P((0,i.\u0275findLocaleData)(e)[i.\u0275LocaleDataIndex.DateFormat],n)}function j(e,n){return P((0,i.\u0275findLocaleData)(e)[i.\u0275LocaleDataIndex.TimeFormat],n)}function $(e,n){return P((0,i.\u0275findLocaleData)(e)[i.\u0275LocaleDataIndex.DateTimeFormat],n)}function B(e,n){const t=(0,i.\u0275findLocaleData)(e),u=t[i.\u0275LocaleDataIndex.NumberSymbols][n];if(void 0===u){if(n===c.CurrencyDecimal)return t[i.\u0275LocaleDataIndex.NumberSymbols][c.Decimal];if(n===c.CurrencyGroup)return t[i.\u0275LocaleDataIndex.NumberSymbols][c.Group]}return u}function Z(e,n){return(0,i.\u0275findLocaleData)(e)[i.\u0275LocaleDataIndex.NumberFormats][n]}function jt(e){return(0,i.\u0275findLocaleData)(e)[i.\u0275LocaleDataIndex.CurrencySymbol]||null}function $t(e){return(0,i.\u0275findLocaleData)(e)[i.\u0275LocaleDataIndex.CurrencyName]||null}function Gt(e){return(0,i.\u0275getLocaleCurrencyCode)(e)}const ve=i.\u0275getLocalePluralCase;function Te(e){if(!e[i.\u0275LocaleDataIndex.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[i.\u0275LocaleDataIndex.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ie(e){const n=(0,i.\u0275findLocaleData)(e);return Te(n),(n[i.\u0275LocaleDataIndex.ExtraData][2]||[]).map(u=>"string"==typeof u?se(u):[se(u[0]),se(u[1])])}function Ne(e,n,t){const u=(0,i.\u0275findLocaleData)(e);Te(u);const o=P([u[i.\u0275LocaleDataIndex.ExtraData][0],u[i.\u0275LocaleDataIndex.ExtraData][1]],n)||[];return P(o,t)||[]}function Ht(e){return(0,i.\u0275findLocaleData)(e)[i.\u0275LocaleDataIndex.Directionality]}function P(e,n){for(let t=n;t>-1;t--)if(void 0!==e[t])return e[t];throw new Error("Locale data API: locale data undefined")}function se(e){const[n,t]=e.split(":");return{hours:+n,minutes:+t}}function Re(e,n,t="en"){const u=function Ut(e){return(0,i.\u0275findLocaleData)(e)[i.\u0275LocaleDataIndex.Currencies]}(t)[e]||Se[e]||[],r=u[1];return"narrow"===n&&"string"==typeof r?r:u[0]||e}function Oe(e){let n;const t=Se[e];return t&&(n=t[2]),"number"==typeof n?n:2}const Yt=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,G={},zt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var _=(()=>((_=_||{})[_.Short=0]="Short",_[_.ShortGMT=1]="ShortGMT",_[_.Long=2]="Long",_[_.Extended=3]="Extended",_))(),f=(()=>((f=f||{})[f.FullYear=0]="FullYear",f[f.Month=1]="Month",f[f.Date=2]="Date",f[f.Hours=3]="Hours",f[f.Minutes=4]="Minutes",f[f.Seconds=5]="Seconds",f[f.FractionalSeconds=6]="FractionalSeconds",f[f.Day=7]="Day",f))(),l=(()=>((l=l||{})[l.DayPeriods=0]="DayPeriods",l[l.Days=1]="Days",l[l.Months=2]="Months",l[l.Eras=3]="Eras",l))();function ke(e,n,t,u){let r=function nn(e){if(je(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[r,o=1,s=1]=e.split("-").map(a=>+a);return K(r,o-1,s)}const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let u;if(u=e.match(Yt))return function un(e){const n=new Date(0);let t=0,u=0;const r=e[8]?n.setUTCFullYear:n.setFullYear,o=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),u=Number(e[9]+e[11])),r.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));const s=Number(e[4]||0)-t,a=Number(e[5]||0)-u,F=Number(e[6]||0),p=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return o.call(n,s,a,F,p),n}(u)}const n=new Date(e);if(!je(n))throw new Error(`Unable to convert "${e}" into a date`);return n}(e);n=I(t,n)||n;let a,s=[];for(;n;){if(a=zt.exec(n),!a){s.push(n);break}{s=s.concat(a.slice(1));const C=s.pop();if(!C)break;n=C}}let F=r.getTimezoneOffset();u&&(F=Ve(u,F),r=function tn(e,n,t){const u=t?-1:1,r=e.getTimezoneOffset();return function en(e,n){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+n),e}(e,u*(Ve(n,r)-r))}(r,u,!0));let p="";return s.forEach(C=>{const d=function qt(e){if(ce[e])return ce[e];let n;switch(e){case"G":case"GG":case"GGG":n=h(l.Eras,D.Abbreviated);break;case"GGGG":n=h(l.Eras,D.Wide);break;case"GGGGG":n=h(l.Eras,D.Narrow);break;case"y":n=A(f.FullYear,1,0,!1,!0);break;case"yy":n=A(f.FullYear,2,0,!0,!0);break;case"yyy":n=A(f.FullYear,3,0,!1,!0);break;case"yyyy":n=A(f.FullYear,4,0,!1,!0);break;case"Y":n=q(1);break;case"YY":n=q(2,!0);break;case"YYY":n=q(3);break;case"YYYY":n=q(4);break;case"M":case"L":n=A(f.Month,1,1);break;case"MM":case"LL":n=A(f.Month,2,1);break;case"MMM":n=h(l.Months,D.Abbreviated);break;case"MMMM":n=h(l.Months,D.Wide);break;case"MMMMM":n=h(l.Months,D.Narrow);break;case"LLL":n=h(l.Months,D.Abbreviated,E.Standalone);break;case"LLLL":n=h(l.Months,D.Wide,E.Standalone);break;case"LLLLL":n=h(l.Months,D.Narrow,E.Standalone);break;case"w":n=ae(1);break;case"ww":n=ae(2);break;case"W":n=ae(1,!0);break;case"d":n=A(f.Date,1);break;case"dd":n=A(f.Date,2);break;case"c":case"cc":n=A(f.Day,1);break;case"ccc":n=h(l.Days,D.Abbreviated,E.Standalone);break;case"cccc":n=h(l.Days,D.Wide,E.Standalone);break;case"ccccc":n=h(l.Days,D.Narrow,E.Standalone);break;case"cccccc":n=h(l.Days,D.Short,E.Standalone);break;case"E":case"EE":case"EEE":n=h(l.Days,D.Abbreviated);break;case"EEEE":n=h(l.Days,D.Wide);break;case"EEEEE":n=h(l.Days,D.Narrow);break;case"EEEEEE":n=h(l.Days,D.Short);break;case"a":case"aa":case"aaa":n=h(l.DayPeriods,D.Abbreviated);break;case"aaaa":n=h(l.DayPeriods,D.Wide);break;case"aaaaa":n=h(l.DayPeriods,D.Narrow);break;case"b":case"bb":case"bbb":n=h(l.DayPeriods,D.Abbreviated,E.Standalone,!0);break;case"bbbb":n=h(l.DayPeriods,D.Wide,E.Standalone,!0);break;case"bbbbb":n=h(l.DayPeriods,D.Narrow,E.Standalone,!0);break;case"B":case"BB":case"BBB":n=h(l.DayPeriods,D.Abbreviated,E.Format,!0);break;case"BBBB":n=h(l.DayPeriods,D.Wide,E.Format,!0);break;case"BBBBB":n=h(l.DayPeriods,D.Narrow,E.Format,!0);break;case"h":n=A(f.Hours,1,-12);break;case"hh":n=A(f.Hours,2,-12);break;case"H":n=A(f.Hours,1);break;case"HH":n=A(f.Hours,2);break;case"m":n=A(f.Minutes,1);break;case"mm":n=A(f.Minutes,2);break;case"s":n=A(f.Seconds,1);break;case"ss":n=A(f.Seconds,2);break;case"S":n=A(f.FractionalSeconds,1);break;case"SS":n=A(f.FractionalSeconds,2);break;case"SSS":n=A(f.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=J(_.Short);break;case"ZZZZZ":n=J(_.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=J(_.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=J(_.Long);break;default:return null}return ce[e]=n,n}(C);p+=d?d(r,t,F):"''"===C?"'":C.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),p}function K(e,n,t){const u=new Date(0);return u.setFullYear(e,n,t),u.setHours(0,0,0),u}function I(e,n){const t=be(e);if(G[t]=G[t]||{},G[t][n])return G[t][n];let u="";switch(n){case"shortDate":u=V(e,g.Short);break;case"mediumDate":u=V(e,g.Medium);break;case"longDate":u=V(e,g.Long);break;case"fullDate":u=V(e,g.Full);break;case"shortTime":u=j(e,g.Short);break;case"mediumTime":u=j(e,g.Medium);break;case"longTime":u=j(e,g.Long);break;case"fullTime":u=j(e,g.Full);break;case"short":const r=I(e,"shortTime"),o=I(e,"shortDate");u=X($(e,g.Short),[r,o]);break;case"medium":const s=I(e,"mediumTime"),a=I(e,"mediumDate");u=X($(e,g.Medium),[s,a]);break;case"long":const F=I(e,"longTime"),p=I(e,"longDate");u=X($(e,g.Long),[F,p]);break;case"full":const C=I(e,"fullTime"),d=I(e,"fullDate");u=X($(e,g.Full),[C,d])}return u&&(G[t][n]=u),u}function X(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,u){return null!=n&&u in n?n[u]:t})),e}function M(e,n,t="-",u,r){let o="";(e<0||r&&e<=0)&&(r?e=1-e:(e=-e,o=t));let s=String(e);for(;s.length<n;)s="0"+s;return u&&(s=s.substr(s.length-n)),o+s}function A(e,n,t=0,u=!1,r=!1){return function(o,s){let a=function Kt(e,n){switch(e){case f.FullYear:return n.getFullYear();case f.Month:return n.getMonth();case f.Date:return n.getDate();case f.Hours:return n.getHours();case f.Minutes:return n.getMinutes();case f.Seconds:return n.getSeconds();case f.FractionalSeconds:return n.getMilliseconds();case f.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,o);if((t>0||a>-t)&&(a+=t),e===f.Hours)0===a&&-12===t&&(a=12);else if(e===f.FractionalSeconds)return function Zt(e,n){return M(e,3).substr(0,n)}(a,n);const F=B(s,c.MinusSign);return M(a,n,F,u,r)}}function h(e,n,t=E.Format,u=!1){return function(r,o){return function Xt(e,n,t,u,r,o){switch(t){case l.Months:return Pe(n,r,u)[e.getMonth()];case l.Days:return Be(n,r,u)[e.getDay()];case l.DayPeriods:const s=e.getHours(),a=e.getMinutes();if(o){const p=Ie(n),C=Ne(n,r,u),d=p.findIndex(S=>{if(Array.isArray(S)){const[m,L]=S,W=s>=m.hours&&a>=m.minutes,R=s<L.hours||s===L.hours&&a<L.minutes;if(m.hours<L.hours){if(W&&R)return!0}else if(W||R)return!0}else if(S.hours===s&&S.minutes===a)return!0;return!1});if(-1!==d)return C[d]}return Le(n,r,u)[s<12?0:1];case l.Eras:return Me(n,u)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,o,e,n,t,u)}}function J(e){return function(n,t,u){const r=-1*u,o=B(t,c.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case _.Short:return(r>=0?"+":"")+M(s,2,o)+M(Math.abs(r%60),2,o);case _.ShortGMT:return"GMT"+(r>=0?"+":"")+M(s,1,o);case _.Long:return"GMT"+(r>=0?"+":"")+M(s,2,o)+":"+M(Math.abs(r%60),2,o);case _.Extended:return 0===u?"Z":(r>=0?"+":"")+M(s,2,o)+":"+M(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}function xe(e){return K(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function ae(e,n=!1){return function(t,u){let r;if(n){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();r=1+Math.floor((s+o)/7)}else{const o=xe(t),s=function Qt(e){const n=K(e,0,1).getDay();return K(e,0,1+(n<=4?4:11)-n)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return M(r,e,B(u,c.MinusSign))}}function q(e,n=!1){return function(t,u){return M(xe(t).getFullYear(),e,B(u,c.MinusSign),n)}}const ce={};function Ve(e,n){e=e.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function je(e){return e instanceof Date&&!isNaN(e.valueOf())}const rn=/^(\d+)?\.((\d+)(-(\d+))?)?$/,U="0";function le(e,n,t,u,r,o,s=!1){let a="",F=!1;if(isFinite(e)){let p=function fn(e){let u,r,o,s,a,n=Math.abs(e)+"",t=0;for((r=n.indexOf("."))>-1&&(n=n.replace(".","")),(o=n.search(/e/i))>0?(r<0&&(r=o),r+=+n.slice(o+1),n=n.substring(0,o)):r<0&&(r=n.length),o=0;n.charAt(o)===U;o++);if(o===(a=n.length))u=[0],r=1;else{for(a--;n.charAt(a)===U;)a--;for(r-=o,u=[],s=0;o<=a;o++,s++)u[s]=Number(n.charAt(o))}return r>22&&(u=u.splice(0,21),t=r-1,r=1),{digits:u,exponent:t,integerLen:r}}(e);s&&(p=function cn(e){if(0===e.digits[0])return e;const n=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===n?e.digits.push(0,0):1===n&&e.digits.push(0),e.integerLen+=2),e}(p));let C=n.minInt,d=n.minFrac,S=n.maxFrac;if(o){const O=o.match(rn);if(null===O)throw new Error(`${o} is not a valid digit info`);const Lt=O[1],Ce=O[3],Bt=O[5];null!=Lt&&(C=de(Lt)),null!=Ce&&(d=de(Ce)),null!=Bt?S=de(Bt):null!=Ce&&d>S&&(S=d)}!function ln(e,n,t){if(n>t)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${t}).`);let u=e.digits,r=u.length-e.integerLen;const o=Math.min(Math.max(n,r),t);let s=o+e.integerLen,a=u[s];if(s>0){u.splice(Math.max(e.integerLen,s));for(let d=s;d<u.length;d++)u[d]=0}else{r=Math.max(0,r),e.integerLen=1,u.length=Math.max(1,s=o+1),u[0]=0;for(let d=1;d<s;d++)u[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)u.unshift(0),e.integerLen++;u.unshift(1),e.integerLen++}else u[s-1]++;for(;r<Math.max(0,o);r++)u.push(0);let F=0!==o;const p=n+e.integerLen,C=u.reduceRight(function(d,S,m,L){return L[m]=(S+=d)<10?S:S-10,F&&(0===L[m]&&m>=p?L.pop():F=!1),S>=10?1:0},0);C&&(u.unshift(C),e.integerLen++)}(p,d,S);let m=p.digits,L=p.integerLen;const W=p.exponent;let R=[];for(F=m.every(O=>!O);L<C;L++)m.unshift(0);for(;L<0;L++)m.unshift(0);L>0?R=m.splice(L,m.length):(R=m,m=[0]);const ne=[];for(m.length>=n.lgSize&&ne.unshift(m.splice(-n.lgSize,m.length).join(""));m.length>n.gSize;)ne.unshift(m.splice(-n.gSize,m.length).join(""));m.length&&ne.unshift(m.join("")),a=ne.join(B(t,u)),R.length&&(a+=B(t,r)+R.join("")),W&&(a+=B(t,c.Exponential)+"+"+W)}else a=B(t,c.Infinity);return a=e<0&&!F?n.negPre+a+n.negSuf:n.posPre+a+n.posSuf,a}function Ue(e,n,t,u,r){const s=De(Z(n,b.Currency),B(n,c.MinusSign));return s.minFrac=Oe(u),s.maxFrac=s.minFrac,le(e,s,n,c.CurrencyGroup,c.CurrencyDecimal,r).replace("\xa4",t).replace("\xa4","").trim()}function He(e,n,t){return le(e,De(Z(n,b.Percent),B(n,c.MinusSign)),n,c.Group,c.Decimal,t,!0).replace(new RegExp("%","g"),B(n,c.PercentSign))}function We(e,n,t){return le(e,De(Z(n,b.Decimal),B(n,c.MinusSign)),n,c.Group,c.Decimal,t)}function De(e,n="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},u=e.split(";"),r=u[0],o=u[1],s=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf(U)+1),r.substring(r.lastIndexOf(U)+1)],a=s[0],F=s[1]||"";t.posPre=a.substr(0,a.indexOf("#"));for(let C=0;C<F.length;C++){const d=F.charAt(C);d===U?t.minFrac=t.maxFrac=C+1:"#"===d?t.maxFrac=C+1:t.posSuf+=d}const p=a.split(",");if(t.gSize=p[1]?p[1].length:0,t.lgSize=p[2]||p[1]?(p[2]||p[1]).length:0,o){const C=r.length-t.posPre.length-t.posSuf.length,d=o.indexOf("#");t.negPre=o.substr(0,d).replace(/'/g,""),t.negSuf=o.substr(d+C).replace(/'/g,"")}else t.negPre=n+t.posPre,t.negSuf=t.posSuf;return t}function de(e){const n=parseInt(e);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+e);return n}class H{}function Ye(e,n,t,u){let r=`=${e}`;if(n.indexOf(r)>-1||(r=t.getPluralCategory(e,u),n.indexOf(r)>-1))return r;if(n.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${e}"`)}let ze=(()=>{class e extends H{constructor(t){super(),this.locale=t}getPluralCategory(t,u){switch(ve(u||this.locale)(t)){case y.Zero:return"zero";case y.One:return"one";case y.Two:return"two";case y.Few:return"few";case y.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275inject(i.LOCALE_ID))},e.\u0275prov=i.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})();function Dn(e,n,t){return(0,i.\u0275registerLocaleData)(e,n,t)}function dn(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const u=t.indexOf("="),[r,o]=-1==u?[t,""]:[t.slice(0,u),t.slice(u+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}let Ze=(()=>{class e{constructor(t,u,r,o){this._iterableDiffers=t,this._keyValueDiffers=u,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,i.\u0275isListLikeIterable)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(u=>this._toggleClass(u.key,u.currentValue)),t.forEachChangedItem(u=>this._toggleClass(u.key,u.currentValue)),t.forEachRemovedItem(u=>{u.previousValue&&this._toggleClass(u.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(u=>{if("string"!=typeof u.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,i.\u0275stringify)(u.item)}`);this._toggleClass(u.item,!0)}),t.forEachRemovedItem(u=>this._toggleClass(u.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(u=>this._toggleClass(u,!0)):Object.keys(t).forEach(u=>this._toggleClass(u,!!t[u])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(u=>this._toggleClass(u,!1)):Object.keys(t).forEach(u=>this._toggleClass(u,!1)))}_toggleClass(t,u){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{u?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.IterableDiffers),i.\u0275\u0275directiveInject(i.KeyValueDiffers),i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(i.Renderer2))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})(),Ke=(()=>{class e{constructor(t){this._viewContainerRef=t,this._componentRef=null,this._moduleRef=null}ngOnChanges(t){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const u=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(t.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const s=u.get(i.NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(s.injector)}else this._moduleRef=null;const o=(this._moduleRef?this._moduleRef.componentFactoryResolver:u.get(i.ComponentFactoryResolver)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(o,this._viewContainerRef.length,u,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.ViewContainerRef))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[i.\u0275\u0275NgOnChangesFeature]}),e})();class Xe{constructor(n,t,u,r){this.$implicit=n,this.ngForOf=t,this.index=u,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Je=(()=>{class e{constructor(t,u,r){this._viewContainer=t,this._template=u,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const u=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)u.createEmbeddedView(this._template,new Xe(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)u.remove(null===o?void 0:o);else if(null!==o){const a=u.get(o);u.move(a,s),Qe(a,r)}});for(let r=0,o=u.length;r<o;r++){const a=u.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Qe(u.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,u){return!0}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.ViewContainerRef),i.\u0275\u0275directiveInject(i.TemplateRef),i.\u0275\u0275directiveInject(i.IterableDiffers))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();function Qe(e,n){e.context.$implicit=n.item}let qe=(()=>{class e{constructor(t,u){this._viewContainer=t,this._context=new et,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=u}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){tt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){tt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,u){return!0}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.ViewContainerRef),i.\u0275\u0275directiveInject(i.TemplateRef))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class et{constructor(){this.$implicit=null,this.ngIf=null}}function tt(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${(0,i.\u0275stringify)(n)}'.`)}class he{constructor(n,t){this._viewContainerRef=n,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let te=(()=>{class e{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const u=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||u,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),u}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let u=0;u<this._defaultViews.length;u++)this._defaultViews[u].enforceState(t)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e})(),nt=(()=>{class e{constructor(t,u,r){this.ngSwitch=r,r._addCase(),this._view=new he(t,u)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.ViewContainerRef),i.\u0275\u0275directiveInject(i.TemplateRef),i.\u0275\u0275directiveInject(te,9))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e})(),ut=(()=>{class e{constructor(t,u,r){r._addDefault(new he(t,u))}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.ViewContainerRef),i.\u0275\u0275directiveInject(i.TemplateRef),i.\u0275\u0275directiveInject(te,9))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["","ngSwitchDefault",""]]}),e})(),ge=(()=>{class e{constructor(t){this._localization=t,this._caseViews={}}set ngPlural(t){this._switchValue=t,this._updateView()}addCase(t,u){this._caseViews[t]=u}_updateView(){this._clearViews();const t=Object.keys(this._caseViews),u=Ye(this._switchValue,t,this._localization);this._activateView(this._caseViews[u])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(t){t&&(this._activeView=t,this._activeView.create())}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(H))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),e})(),rt=(()=>{class e{constructor(t,u,r,o){this.value=t;const s=!isNaN(Number(t));o.addCase(s?`=${t}`:t,new he(r,u))}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275injectAttribute("ngPluralCase"),i.\u0275\u0275directiveInject(i.TemplateRef),i.\u0275\u0275directiveInject(i.ViewContainerRef),i.\u0275\u0275directiveInject(ge,1))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["","ngPluralCase",""]]}),e})(),it=(()=>{class e{constructor(t,u,r){this._ngEl=t,this._differs=u,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,u){const[r,o]=t.split(".");null!=(u=null!=u&&o?`${u}${o}`:u)?this._renderer.setStyle(this._ngEl.nativeElement,r,u):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(t){t.forEachRemovedItem(u=>this._setStyle(u.key,null)),t.forEachAddedItem(u=>this._setStyle(u.key,u.currentValue)),t.forEachChangedItem(u=>this._setStyle(u.key,u.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(i.KeyValueDiffers),i.\u0275\u0275directiveInject(i.Renderer2))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e})(),ot=(()=>{class e{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const u=this._viewContainerRef;this._viewRef&&u.remove(u.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?u.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.ViewContainerRef))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[i.\u0275\u0275NgOnChangesFeature]}),e})();function v(e,n){return Error(`InvalidPipeArgument: '${n}' for pipe '${(0,i.\u0275stringify)(e)}'`)}class hn{createSubscription(n,t){return n.subscribe({next:t,error:u=>{throw u}})}dispose(n){n.unsubscribe()}onDestroy(n){n.unsubscribe()}}class gn{createSubscription(n,t){return n.then(t,u=>{throw u})}dispose(n){}onDestroy(n){}}const Fn=new gn,pn=new hn;let st=(()=>{class e{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,u=>this._updateLatestValue(t,u))}_selectStrategy(t){if((0,i.\u0275isPromise)(t))return Fn;if((0,i.\u0275isSubscribable)(t))return pn;throw v(e,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,u){t===this._obj&&(this._latestValue=u,this._ref.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.ChangeDetectorRef,16))},e.\u0275pipe=i.\u0275\u0275definePipe({name:"async",type:e,pure:!1}),e})(),at=(()=>{class e{transform(t){if(null==t)return null;if("string"!=typeof t)throw v(e,t);return t.toLowerCase()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.\u0275\u0275definePipe({name:"lowercase",type:e,pure:!0}),e})();const Cn=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let ct=(()=>{class e{transform(t){if(null==t)return null;if("string"!=typeof t)throw v(e,t);return t.replace(Cn,u=>u[0].toUpperCase()+u.substr(1).toLowerCase())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.\u0275\u0275definePipe({name:"titlecase",type:e,pure:!0}),e})(),ft=(()=>{class e{transform(t){if(null==t)return null;if("string"!=typeof t)throw v(e,t);return t.toUpperCase()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.\u0275\u0275definePipe({name:"uppercase",type:e,pure:!0}),e})();const lt=new i.InjectionToken("DATE_PIPE_DEFAULT_TIMEZONE");let Dt=(()=>{class e{constructor(t,u){this.locale=t,this.defaultTimezone=u}transform(t,u="mediumDate",r,o){if(null==t||""===t||t!=t)return null;try{return ke(t,u,o||this.locale,r??this.defaultTimezone??void 0)}catch(s){throw v(e,s.message)}}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.LOCALE_ID,16),i.\u0275\u0275directiveInject(lt,24))},e.\u0275pipe=i.\u0275\u0275definePipe({name:"date",type:e,pure:!0}),e})();const mn=/#/g;let dt=(()=>{class e{constructor(t){this._localization=t}transform(t,u,r){if(null==t)return"";if("object"!=typeof u||null===u)throw v(e,u);return u[Ye(t,Object.keys(u),this._localization,r)].replace(mn,t.toString())}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(H,16))},e.\u0275pipe=i.\u0275\u0275definePipe({name:"i18nPlural",type:e,pure:!0}),e})(),ht=(()=>{class e{transform(t,u){if(null==t)return"";if("object"!=typeof u||"string"!=typeof t)throw v(e,u);return u.hasOwnProperty(t)?u[t]:u.hasOwnProperty("other")?u.other:""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.\u0275\u0275definePipe({name:"i18nSelect",type:e,pure:!0}),e})(),gt=(()=>{class e{transform(t){return JSON.stringify(t,null,2)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.\u0275\u0275definePipe({name:"json",type:e,pure:!1}),e})(),Ft=(()=>{class e{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=pt}transform(t,u=pt){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const r=this.differ.diff(t),o=u!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(s=>{this.keyValues.push(function En(e,n){return{key:e,value:n}}(s.key,s.currentValue))})),(r||o)&&(this.keyValues.sort(u),this.compareFn=u),this.keyValues}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.KeyValueDiffers,16))},e.\u0275pipe=i.\u0275\u0275definePipe({name:"keyvalue",type:e,pure:!1}),e})();function pt(e,n){const t=e.key,u=n.key;if(t===u)return 0;if(void 0===t)return 1;if(void 0===u)return-1;if(null===t)return 1;if(null===u)return-1;if("string"==typeof t&&"string"==typeof u)return t<u?-1:1;if("number"==typeof t&&"number"==typeof u)return t-u;if("boolean"==typeof t&&"boolean"==typeof u)return t<u?-1:1;const r=String(t),o=String(u);return r==o?0:r<o?-1:1}let Ct=(()=>{class e{constructor(t){this._locale=t}transform(t,u,r){if(!Fe(t))return null;r=r||this._locale;try{return We(pe(t),r,u)}catch(o){throw v(e,o.message)}}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.LOCALE_ID,16))},e.\u0275pipe=i.\u0275\u0275definePipe({name:"number",type:e,pure:!0}),e})(),mt=(()=>{class e{constructor(t){this._locale=t}transform(t,u,r){if(!Fe(t))return null;r=r||this._locale;try{return He(pe(t),r,u)}catch(o){throw v(e,o.message)}}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.LOCALE_ID,16))},e.\u0275pipe=i.\u0275\u0275definePipe({name:"percent",type:e,pure:!0}),e})(),Et=(()=>{class e{constructor(t,u="USD"){this._locale=t,this._defaultCurrencyCode=u}transform(t,u=this._defaultCurrencyCode,r="symbol",o,s){if(!Fe(t))return null;s=s||this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");let a=u||this._defaultCurrencyCode;"code"!==r&&(a="symbol"===r||"symbol-narrow"===r?Re(a,"symbol"===r?"wide":"narrow",s):r);try{return Ue(pe(t),s,a,u,o)}catch(F){throw v(e,F.message)}}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.LOCALE_ID,16),i.\u0275\u0275directiveInject(i.DEFAULT_CURRENCY_CODE,16))},e.\u0275pipe=i.\u0275\u0275definePipe({name:"currency",type:e,pure:!0}),e})();function Fe(e){return!(null==e||""===e||e!=e)}function pe(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}let yt=(()=>{class e{transform(t,u,r){if(null==t)return null;if(!this.supports(t))throw v(e,t);return t.slice(u,r)}supports(t){return"string"==typeof t||Array.isArray(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.\u0275\u0275definePipe({name:"slice",type:e,pure:!1}),e})(),yn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=i.\u0275\u0275defineInjector({providers:[{provide:H,useClass:ze}]}),e})();const At="browser",_t="server",wt="browserWorkerApp",St="browserWorkerUi";function An(e){return e===At}function _n(e){return e===_t}function wn(e){return e===wt}function Sn(e){return e===St}const bn=new i.Version("13.1.2");let Ln=(()=>{class e{}return e.\u0275prov=(0,i.\u0275\u0275defineInjectable)({token:e,providedIn:"root",factory:()=>new Bn((0,i.\u0275\u0275inject)(k),window)}),e})();class Bn{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function Pn(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const u=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=u.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}r=u.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=n)}}scrollToElement(n){const t=n.getBoundingClientRect(),u=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(u-o[0],r-o[1])}attemptFocus(n){return n.focus(),this.document.activeElement===n}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=bt(this.window.history)||bt(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function bt(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class Mn{setOffset(n){}getScrollPosition(){return[0,0]}scrollToPosition(n){}scrollToAnchor(n){}setHistoryScrollRestoration(n){}}class vn{}}}]);
(self.webpackChunkmfComponents=self.webpackChunkmfComponents||[]).push([[59,976],{7976:(Hn,Gt,j)=>{j.r(Gt),j.d(Gt,{ActivatedRoute:()=>L,ActivatedRouteSnapshot:()=>B,ActivationEnd:()=>ae,ActivationStart:()=>oe,BaseRouteReuseStrategy:()=>We,ChildActivationEnd:()=>se,ChildActivationStart:()=>ie,ChildrenOutletContexts:()=>F,DefaultUrlSerializer:()=>At,GuardsCheckEnd:()=>ee,GuardsCheckStart:()=>te,NavigationCancel:()=>Ct,NavigationEnd:()=>D,NavigationError:()=>Jt,NavigationStart:()=>X,NoPreloading:()=>Wt,OutletContext:()=>Pe,PRIMARY_OUTLET:()=>p,PreloadAllModules:()=>Ye,PreloadingStrategy:()=>Ht,ROUTER_CONFIGURATION:()=>x,ROUTER_INITIALIZER:()=>Yt,ROUTES:()=>ft,ResolveEnd:()=>ne,ResolveStart:()=>re,RouteConfigLoadEnd:()=>St,RouteConfigLoadStart:()=>Rt,RouteReuseStrategy:()=>He,Router:()=>S,RouterEvent:()=>U,RouterLink:()=>gt,RouterLinkActive:()=>Ze,RouterLinkWithHref:()=>vt,RouterModule:()=>_n,RouterOutlet:()=>jt,RouterPreloader:()=>Bt,RouterState:()=>Ot,RouterStateSnapshot:()=>It,RoutesRecognized:()=>Xt,Scroll:()=>yt,UrlHandlingStrategy:()=>Ve,UrlSegment:()=>z,UrlSegmentGroup:()=>g,UrlSerializer:()=>Ut,UrlTree:()=>O,VERSION:()=>qn,convertToParamMap:()=>k,provideRoutes:()=>Qt,\u0275EmptyOutletComponent:()=>Dt,\u0275ROUTER_PROVIDERS:()=>Ge,\u0275assignExtraOptionsToRouter:()=>Je,\u0275flatten:()=>Et});var E=j(3192),c=j(7451),h=j(824),u=j(5033);class U{constructor(e,t){this.id=e,this.url=t}}class X extends U{constructor(e,t,n="imperative",i=null){super(e,t),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class D extends U{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ct extends U{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jt extends U{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Xt extends U{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class te extends U{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ee extends U{constructor(e,t,n,i,s){super(e,t),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class re extends U{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ne extends U{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rt{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class St{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ie{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class se{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oe{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ae{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yt{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const p="primary";class Xe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function k(r){return new Xe(r)}const le="ngNavigationCancelingError";function wt(r){const e=Error("NavigationCancelingError: "+r);return e[le]=!0,e}function er(r,e,t){const n=t.path.split("/");if(n.length>r.length||"full"===t.pathMatch&&(e.hasChildren()||n.length<r.length))return null;const i={};for(let s=0;s<n.length;s++){const o=n[s],a=r[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:r.slice(0,n.length),posParams:i}}function A(r,e){const t=r?Object.keys(r):void 0,n=e?Object.keys(e):void 0;if(!t||!n||t.length!=n.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!ce(r[i],e[i]))return!1;return!0}function ce(r,e){if(Array.isArray(r)&&Array.isArray(e)){if(r.length!==e.length)return!1;const t=[...r].sort(),n=[...e].sort();return t.every((i,s)=>n[s]===i)}return r===e}function Et(r){return Array.prototype.concat.apply([],r)}function ue(r){return r.length>0?r[r.length-1]:null}function R(r,e){for(const t in r)r.hasOwnProperty(t)&&e(r[t],t)}function b(r){return(0,c.\u0275isObservable)(r)?r:(0,c.\u0275isPromise)(r)?(0,h.from)(Promise.resolve(r)):(0,h.of)(r)}const ir={exact:function fe(r,e,t){if(!M(r.segments,e.segments)||!tt(r.segments,e.segments,t)||r.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children)if(!r.children[n]||!fe(r.children[n],e.children[n],t))return!1;return!0},subset:pe},he={exact:function sr(r,e){return A(r,e)},subset:function or(r,e){return Object.keys(e).length<=Object.keys(r).length&&Object.keys(e).every(t=>ce(r[t],e[t]))},ignored:()=>!0};function de(r,e,t){return ir[t.paths](r.root,e.root,t.matrixParams)&&he[t.queryParams](r.queryParams,e.queryParams)&&!("exact"===t.fragment&&r.fragment!==e.fragment)}function pe(r,e,t){return ge(r,e,e.segments,t)}function ge(r,e,t,n){if(r.segments.length>t.length){const i=r.segments.slice(0,t.length);return!(!M(i,t)||e.hasChildren()||!tt(i,t,n))}if(r.segments.length===t.length){if(!M(r.segments,t)||!tt(r.segments,t,n))return!1;for(const i in e.children)if(!r.children[i]||!pe(r.children[i],e.children[i],n))return!1;return!0}{const i=t.slice(0,r.segments.length),s=t.slice(r.segments.length);return!!(M(r.segments,i)&&tt(r.segments,i,n)&&r.children[p])&&ge(r.children[p],e,s,n)}}function tt(r,e,t){return e.every((n,i)=>he[t](r[i].parameters,n.parameters))}class O{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=k(this.queryParams)),this._queryParamMap}toString(){return cr.serialize(this)}}class g{constructor(e,t){this.segments=e,this.children=t,this.parent=null,R(t,(n,i)=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return et(this)}}class z{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=k(this.parameters)),this._parameterMap}toString(){return Ce(this)}}function M(r,e){return r.length===e.length&&r.every((t,n)=>t.path===e[n].path)}class Ut{}class At{parse(e){const t=new Cr(e);return new O(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${W(e.root,!0)}`,n=function dr(r){const e=Object.keys(r).map(t=>{const n=r[t];return Array.isArray(n)?n.map(i=>`${rt(t)}=${rt(i)}`).join("&"):`${rt(t)}=${rt(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${n}${"string"==typeof e.fragment?`#${function ur(r){return encodeURI(r)}(e.fragment)}`:""}`}}const cr=new At;function et(r){return r.segments.map(e=>Ce(e)).join("/")}function W(r,e){if(!r.hasChildren())return et(r);if(e){const t=r.children[p]?W(r.children[p],!1):"",n=[];return R(r.children,(i,s)=>{s!==p&&n.push(`${s}:${W(i,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function lr(r,e){let t=[];return R(r.children,(n,i)=>{i===p&&(t=t.concat(e(n,i)))}),R(r.children,(n,i)=>{i!==p&&(t=t.concat(e(n,i)))}),t}(r,(n,i)=>i===p?[W(r.children[p],!1)]:[`${i}:${W(n,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[p]?`${et(r)}/${t[0]}`:`${et(r)}/(${t.join("//")})`}}function ve(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rt(r){return ve(r).replace(/%3B/gi,";")}function bt(r){return ve(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nt(r){return decodeURIComponent(r)}function me(r){return nt(r.replace(/\+/g,"%20"))}function Ce(r){return`${bt(r.path)}${function hr(r){return Object.keys(r).map(e=>`;${bt(e)}=${bt(r[e])}`).join("")}(r.parameters)}`}const fr=/^[^\/()?;=#]+/;function it(r){const e=r.match(fr);return e?e[0]:""}const pr=/^[^=?&#]+/,vr=/^[^&#]+/;class Cr{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new g([],{}):new g([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[p]=new g(e,t)),n}parseSegment(){const e=it(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new z(nt(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=it(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const i=it(this.remaining);i&&(n=i,this.capture(n))}e[nt(t)]=nt(n)}parseQueryParam(e){const t=function gr(r){const e=r.match(pr);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const o=function mr(r){const e=r.match(vr);return e?e[0]:""}(this.remaining);o&&(n=o,this.capture(n))}const i=me(t),s=me(n);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=it(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;n.indexOf(":")>-1?(s=n.substr(0,n.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=p);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[p]:new g([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Re{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Tt(e,this._root);return t?t.children.map(n=>n.value):[]}firstChild(e){const t=Tt(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Pt(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Pt(e,this._root).map(t=>t.value)}}function Tt(r,e){if(r===e.value)return e;for(const t of e.children){const n=Tt(r,t);if(n)return n}return null}function Pt(r,e){if(r===e.value)return[e];for(const t of e.children){const n=Pt(r,t);if(n.length)return n.unshift(e),n}return[]}class T{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function q(r){const e={};return r&&r.children.forEach(t=>e[t.value.outlet]=t),e}class Ot extends Re{constructor(e,t){super(e),this.snapshot=t,xt(this,e)}toString(){return this.snapshot.toString()}}function Se(r,e){const t=function Rr(r,e){const o=new B([],{},{},"",{},p,e,null,r.root,-1,{});return new It("",new T(o,[]))}(r,e),n=new h.BehaviorSubject([new z("",{})]),i=new h.BehaviorSubject({}),s=new h.BehaviorSubject({}),o=new h.BehaviorSubject({}),a=new h.BehaviorSubject(""),l=new L(n,i,o,a,s,p,e,t.root);return l.snapshot=t.root,new Ot(new T(l,[]),t)}class L{constructor(e,t,n,i,s,o,a,l){this.url=e,this.params=t,this.queryParams=n,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,u.map)(e=>k(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,u.map)(e=>k(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ye(r,e="emptyOnly"){const t=r.pathFromRoot;let n=0;if("always"!==e)for(n=t.length-1;n>=1;){const i=t[n],s=t[n-1];if(i.routeConfig&&""===i.routeConfig.path)n--;else{if(s.component)break;n--}}return function Sr(r){return r.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...e.resolve,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(n))}class B{constructor(e,t,n,i,s,o,a,l,d,m,f){this.url=e,this.params=t,this.queryParams=n,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=d,this._lastPathIndex=m,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=k(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=k(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class It extends Re{constructor(e,t){super(t),this.url=e,xt(this,t)}toString(){return we(this._root)}}function xt(r,e){e.value._routerState=r,e.children.forEach(t=>xt(r,t))}function we(r){const e=r.children.length>0?` { ${r.children.map(we).join(", ")} } `:"";return`${r.value}${e}`}function _t(r){if(r.snapshot){const e=r.snapshot,t=r._futureSnapshot;r.snapshot=t,A(e.queryParams,t.queryParams)||r.queryParams.next(t.queryParams),e.fragment!==t.fragment&&r.fragment.next(t.fragment),A(e.params,t.params)||r.params.next(t.params),function rr(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;++t)if(!A(r[t],e[t]))return!1;return!0}(e.url,t.url)||r.url.next(t.url),A(e.data,t.data)||r.data.next(t.data)}else r.snapshot=r._futureSnapshot,r.data.next(r._futureSnapshot.data)}function kt(r,e){const t=A(r.params,e.params)&&function ar(r,e){return M(r,e)&&r.every((t,n)=>A(t.parameters,e[n].parameters))}(r.url,e.url);return t&&!(!r.parent!=!e.parent)&&(!r.parent||kt(r.parent,e.parent))}function V(r,e,t){if(t&&r.shouldReuseRoute(e.value,t.value.snapshot)){const n=t.value;n._futureSnapshot=e.value;const i=function wr(r,e,t){return e.children.map(n=>{for(const i of t.children)if(r.shouldReuseRoute(n.value,i.value.snapshot))return V(r,n,i);return V(r,n)})}(r,e,t);return new T(n,i)}{if(r.shouldAttach(e.value)){const s=r.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>V(r,a)),o}}const n=function Er(r){return new L(new h.BehaviorSubject(r.url),new h.BehaviorSubject(r.params),new h.BehaviorSubject(r.queryParams),new h.BehaviorSubject(r.fragment),new h.BehaviorSubject(r.data),r.outlet,r.component,r)}(e.value),i=e.children.map(s=>V(r,s));return new T(n,i)}}function st(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function Q(r){return"object"==typeof r&&null!=r&&r.outlets}function Mt(r,e,t,n,i){let s={};return n&&R(n,(o,a)=>{s[a]=Array.isArray(o)?o.map(l=>`${l}`):`${o}`}),new O(t.root===r?e:Ee(t.root,r,e),s,i)}function Ee(r,e,t){const n={};return R(r.children,(i,s)=>{n[s]=i===e?t:Ee(i,e,t)}),new g(r.segments,n)}class Ue{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&st(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(Q);if(i&&i!==ue(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Lt{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Ae(r,e,t){if(r||(r=new g([],{})),0===r.segments.length&&r.hasChildren())return ot(r,e,t);const n=function Or(r,e,t){let n=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<r.segments.length;){if(n>=t.length)return s;const o=r.segments[i],a=t[n];if(Q(a))break;const l=`${a}`,d=n<t.length-1?t[n+1]:null;if(i>0&&void 0===l)break;if(l&&d&&"object"==typeof d&&void 0===d.outlets){if(!Te(l,d,o))return s;n+=2}else{if(!Te(l,{},o))return s;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}(r,e,t),i=t.slice(n.commandIndex);if(n.match&&n.pathIndex<r.segments.length){const s=new g(r.segments.slice(0,n.pathIndex),{});return s.children[p]=new g(r.segments.slice(n.pathIndex),r.children),ot(s,0,i)}return n.match&&0===i.length?new g(r.segments,{}):n.match&&!r.hasChildren()?$t(r,e,t):n.match?ot(r,0,i):$t(r,e,t)}function ot(r,e,t){if(0===t.length)return new g(r.segments,{});{const n=function Pr(r){return Q(r[0])?r[0].outlets:{[p]:r}}(t),i={};return R(n,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Ae(r.children[o],e,s))}),R(r.children,(s,o)=>{void 0===n[o]&&(i[o]=s)}),new g(r.segments,i)}}function $t(r,e,t){const n=r.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Q(s)){const l=Ir(s.outlets);return new g(n,l)}if(0===i&&st(t[0])){n.push(new z(r.segments[e].path,be(t[0]))),i++;continue}const o=Q(s)?s.outlets[p]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&st(a)?(n.push(new z(o,be(a))),i+=2):(n.push(new z(o,{})),i++)}return new g(n,{})}function Ir(r){const e={};return R(r,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=$t(new g([],{}),0,t))}),e}function be(r){const e={};return R(r,(t,n)=>e[n]=`${t}`),e}function Te(r,e,t){return r==t.path&&A(e,t.parameters)}class _r{constructor(e,t,n,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=i}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),_t(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const i=q(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],n),delete i[o]}),R(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(e,t,n){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=n.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else s&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet),i=n&&e.value.component?n.children:t,s=q(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(n&&n.outlet){const o=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),i=n&&e.value.component?n.children:t,s=q(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(e,t,n){const i=q(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],n),this.forwardEvent(new ae(s.value.snapshot))}),e.children.length&&this.forwardEvent(new se(e.value.snapshot))}activateRoutes(e,t,n){const i=e.value,s=t?t.value:null;if(_t(i),i===s)if(i.component){const o=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(i.component){const o=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),_t(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function kr(r){for(let e=r.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=l,o.outlet&&o.outlet.activateWith(i,l),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,n)}}class Nt{constructor(e,t){this.routes=e,this.module=t}}function I(r){return"function"==typeof r}function $(r){return r instanceof O}const Z=Symbol("INITIAL_VALUE");function Y(){return(0,u.switchMap)(r=>(0,h.combineLatest)(r.map(e=>e.pipe((0,u.take)(1),(0,u.startWith)(Z)))).pipe((0,u.scan)((e,t)=>{let n=!1;return t.reduce((i,s,o)=>i!==Z?i:(s===Z&&(n=!0),n||!1!==s&&o!==t.length-1&&!$(s)?i:s),e)},Z),(0,u.filter)(e=>e!==Z),(0,u.map)(e=>$(e)?e:!0===e),(0,u.take)(1)))}class Pe{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new F,this.attachRef=null}}class F{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Pe,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let jt=(()=>{class r{constructor(t,n,i,s,o){this.parentContexts=t,this.location=n,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.EventEmitter,this.deactivateEvents=new c.EventEmitter,this.attachEvents=new c.EventEmitter,this.detachEvents=new c.EventEmitter,this.name=s||p,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,n){this.activated=t,this._activatedRoute=n,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,n){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(n=n||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new Dr(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return r.\u0275fac=function(t){return new(t||r)(c.\u0275\u0275directiveInject(F),c.\u0275\u0275directiveInject(c.ViewContainerRef),c.\u0275\u0275directiveInject(c.ComponentFactoryResolver),c.\u0275\u0275injectAttribute("name"),c.\u0275\u0275directiveInject(c.ChangeDetectorRef))},r.\u0275dir=c.\u0275\u0275defineDirective({type:r,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),r})();class Dr{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===L?this.route:e===F?this.childContexts:this.parent.get(e,t)}}let Dt=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=c.\u0275\u0275defineComponent({type:r,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,n){1&t&&c.\u0275\u0275element(0,"router-outlet")},directives:[jt],encapsulation:2}),r})();function Oe(r,e=""){for(let t=0;t<r.length;t++){const n=r[t];zr(n,qr(e,n))}}function zr(r,e){r.children&&Oe(r.children,e)}function qr(r,e){return e?r||e.path?r&&!e.path?`${r}/`:!r&&e.path?e.path:`${r}/${e.path}`:"":r}function zt(r){const e=r.children&&r.children.map(zt),t=e?{...r,children:e}:{...r};return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==p&&(t.component=Dt),t}function y(r){return r.outlet||p}function Ie(r,e){const t=r.filter(n=>y(n)===e);return t.push(...r.filter(n=>y(n)!==e)),t}const xe={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function at(r,e,t){if(""===e.path)return"full"===e.pathMatch&&(r.hasChildren()||t.length>0)?{...xe}:{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||er)(t,r,e);if(!i)return{...xe};const s={};R(i.posParams,(a,l)=>{s[l]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:i.posParams??{}}}function lt(r,e,t,n,i="corrected"){if(t.length>0&&function Wr(r,e,t){return t.some(n=>ct(r,e,n)&&y(n)!==p)}(r,t,n)){const o=new g(e,function Hr(r,e,t,n){const i={};i[p]=n,n._sourceSegment=r,n._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&y(s)!==p){const o=new g([],{});o._sourceSegment=r,o._segmentIndexShift=e.length,i[y(s)]=o}return i}(r,e,n,new g(t,r.children)));return o._sourceSegment=r,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function Br(r,e,t){return t.some(n=>ct(r,e,n))}(r,t,n)){const o=new g(r.segments,function Fr(r,e,t,n,i,s){const o={};for(const a of n)if(ct(r,t,a)&&!i[y(a)]){const l=new g([],{});l._sourceSegment=r,l._segmentIndexShift="legacy"===s?r.segments.length:e.length,o[y(a)]=l}return{...i,...o}}(r,e,t,n,r.children,i));return o._sourceSegment=r,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new g(r.segments,r.children);return s._sourceSegment=r,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function ct(r,e,t){return(!(r.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function _e(r,e,t,n){return!!(y(r)===n||n!==p&&ct(e,t,r))&&("**"===r.path||at(e,r,t).matched)}function ke(r,e,t){return 0===e.length&&!r.children[t]}class K{constructor(e){this.segmentGroup=e||null}}class Me{constructor(e){this.urlTree=e}}function ut(r){return new h.Observable(e=>e.error(new K(r)))}function Le(r){return new h.Observable(e=>e.error(new Me(r)))}function Vr(r){return new h.Observable(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${r}'`)))}class Yr{constructor(e,t,n,i,s){this.configLoader=t,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(c.NgModuleRef)}apply(){const e=lt(this.urlTree.root,[],[],this.config).segmentGroup,t=new g(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,p).pipe((0,u.map)(s=>this.createUrlTree(qt(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,u.catchError)(s=>{if(s instanceof Me)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof K?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,p).pipe((0,u.map)(i=>this.createUrlTree(qt(i),e.queryParams,e.fragment))).pipe((0,u.catchError)(i=>{throw i instanceof K?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const i=e.segments.length>0?new g([],{[p]:e}):e;return new O(i,t,n)}expandSegmentGroup(e,t,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe((0,u.map)(s=>new g([],s))):this.expandSegment(e,n,t,n.segments,i,!0)}expandChildren(e,t,n){const i=[];for(const s of Object.keys(n.children))"primary"===s?i.unshift(s):i.push(s);return(0,h.from)(i).pipe((0,u.concatMap)(s=>{const o=n.children[s],a=Ie(t,s);return this.expandSegmentGroup(e,a,o,s).pipe((0,u.map)(l=>({segment:l,outlet:s})))}),(0,u.scan)((s,o)=>(s[o.outlet]=o.segment,s),{}),(0,u.last)())}expandSegment(e,t,n,i,s,o){return(0,h.from)(n).pipe((0,u.concatMap)(a=>this.expandSegmentAgainstRoute(e,t,n,a,i,s,o).pipe((0,u.catchError)(d=>{if(d instanceof K)return(0,h.of)(null);throw d}))),(0,u.first)(a=>!!a),(0,u.catchError)((a,l)=>{if(a instanceof h.EmptyError||"EmptyError"===a.name){if(ke(t,i,s))return(0,h.of)(new g([],{}));throw new K(t)}throw a}))}expandSegmentAgainstRoute(e,t,n,i,s,o,a){return _e(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,i,s,o):ut(t):ut(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,i){const s=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Le(s):this.lineralizeSegments(n,s).pipe((0,u.mergeMap)(o=>{const a=new g(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,s,o){const{matched:a,consumedSegments:l,lastChild:d,positionalParamSegments:m}=at(t,i,s);if(!a)return ut(t);const f=this.applyRedirectCommands(l,i.redirectTo,m);return i.redirectTo.startsWith("/")?Le(f):this.lineralizeSegments(i,f).pipe((0,u.mergeMap)(C=>this.expandSegment(e,t,n,C.concat(s.slice(d)),o,!1)))}matchSegmentAgainstRoute(e,t,n,i,s){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,h.of)(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe((0,u.map)(C=>(n._loadedConfig=C,new g(i,{})))):(0,h.of)(new g(i,{}));const{matched:o,consumedSegments:a,lastChild:l}=at(t,n,i);if(!o)return ut(t);const d=i.slice(l);return this.getChildConfig(e,n,i).pipe((0,u.mergeMap)(f=>{const C=f.module,v=f.routes,{segmentGroup:P,slicedSegments:N}=lt(t,a,d,v),w=new g(P.segments,P.children);if(0===N.length&&w.hasChildren())return this.expandChildren(C,v,w).pipe((0,u.map)(Fn=>new g(a,Fn)));if(0===v.length&&0===N.length)return(0,h.of)(new g(a,{}));const _=y(n)===s;return this.expandSegment(C,w,v,N,_?p:s,!0).pipe((0,u.map)(Kt=>new g(a.concat(Kt.segments),Kt.children)))}))}getChildConfig(e,t,n){return t.children?(0,h.of)(new Nt(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,h.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe((0,u.mergeMap)(i=>i?this.configLoader.load(e.injector,t).pipe((0,u.map)(s=>(t._loadedConfig=s,s))):function Qr(r){return new h.Observable(e=>e.error(wt(`Cannot load children because the guard of the route "path: '${r.path}'" returned false`)))}(t))):(0,h.of)(new Nt([],e))}runCanLoadGuards(e,t,n){const i=t.canLoad;if(!i||0===i.length)return(0,h.of)(!0);const s=i.map(o=>{const a=e.get(o);let l;if(function Lr(r){return r&&I(r.canLoad)}(a))l=a.canLoad(t,n);else{if(!I(a))throw new Error("Invalid CanLoad guard");l=a(t,n)}return b(l)});return(0,h.of)(s).pipe(Y(),(0,u.tap)(o=>{if(!$(o))return;const a=wt(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),(0,u.map)(o=>!0===o))}lineralizeSegments(e,t){let n=[],i=t.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return(0,h.of)(n);if(i.numberOfChildren>1||!i.children[p])return Vr(e.redirectTo);i=i.children[p]}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,i){const s=this.createSegmentGroup(e,t.root,n,i);return new O(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return R(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);n[s]=t[a]}else n[s]=i}),n}createSegmentGroup(e,t,n,i){const s=this.createSegments(e,t.segments,n,i);let o={};return R(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,n,i)}),new g(s,o)}createSegments(e,t,n,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,n))}findPosParam(e,t,n){const i=n[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let n=0;for(const i of t){if(i.path===e.path)return t.splice(n),i;n++}return e}}function qt(r){const e={};for(const n of Object.keys(r.children)){const s=qt(r.children[n]);(s.segments.length>0||s.hasChildren())&&(e[n]=s)}return function Kr(r){if(1===r.numberOfChildren&&r.children[p]){const e=r.children[p];return new g(r.segments.concat(e.segments),e.children)}return r}(new g(r.segments,e))}class $e{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ht{constructor(e,t){this.component=e,this.route=t}}function Jr(r,e,t){const n=r._root;return G(n,e?e._root:null,t,[n.value])}function dt(r,e,t){const n=function tn(r){if(!r)return null;for(let e=r.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(n?n.module.injector:t).get(r)}function G(r,e,t,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=q(e);return r.children.forEach(o=>{(function en(r,e,t,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=r.value,o=e?e.value:null,a=t?t.getContext(r.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function rn(r,e,t){if("function"==typeof t)return t(r,e);switch(t){case"pathParamsChange":return!M(r.url,e.url);case"pathParamsOrQueryParamsChange":return!M(r.url,e.url)||!A(r.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kt(r,e)||!A(r.queryParams,e.queryParams);default:return!kt(r,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new $e(n)):(s.data=o.data,s._resolvedData=o._resolvedData),G(r,e,s.component?a?a.children:null:t,n,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ht(a.outlet.component,o))}else o&&J(e,a,i),i.canActivateChecks.push(new $e(n)),G(r,null,s.component?a?a.children:null:t,n,i)})(o,s[o.value.outlet],t,n.concat([o.value]),i),delete s[o.value.outlet]}),R(s,(o,a)=>J(o,t.getContext(a),i)),i}function J(r,e,t){const n=q(r),i=r.value;R(n,(s,o)=>{J(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new ht(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class dn{}function Ne(r){return new h.Observable(e=>e.error(r))}class pn{constructor(e,t,n,i,s,o){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=lt(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,p);if(null===t)return null;const n=new B([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},p,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new T(n,t),s=new It(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,n=ye(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=Ie(e,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;n.push(...l)}const i=je(n);return function gn(r){r.sort((e,t)=>e.value.outlet===p?-1:t.value.outlet===p?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,n,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,n,i);if(null!==o)return o}return ke(t,n,i)?[]:null}processSegmentAgainstRoute(e,t,n,i){if(e.redirectTo||!_e(e,t,n,i))return null;let s,o=[],a=[];if("**"===e.path){const v=n.length>0?ue(n).parameters:{};s=new B(n,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qe(e),y(e),e.component,e,De(t),ze(t)+n.length,Fe(e))}else{const v=at(t,e,n);if(!v.matched)return null;o=v.consumedSegments,a=n.slice(v.lastChild),s=new B(o,v.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qe(e),y(e),e.component,e,De(t),ze(t)+o.length,Fe(e))}const l=function vn(r){return r.children?r.children:r.loadChildren?r._loadedConfig.routes:[]}(e),{segmentGroup:d,slicedSegments:m}=lt(t,o,a,l.filter(v=>void 0===v.redirectTo),this.relativeLinkResolution);if(0===m.length&&d.hasChildren()){const v=this.processChildren(l,d);return null===v?null:[new T(s,v)]}if(0===l.length&&0===m.length)return[new T(s,[])];const f=y(e)===i,C=this.processSegment(l,d,m,f?p:i);return null===C?null:[new T(s,C)]}}function mn(r){const e=r.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function je(r){const e=[],t=new Set;for(const n of r){if(!mn(n)){e.push(n);continue}const i=e.find(s=>n.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...n.children),t.add(i)):e.push(n)}for(const n of t){const i=je(n.children);e.push(new T(n.value,i))}return e.filter(n=>!t.has(n))}function De(r){let e=r;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ze(r){let e=r,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function qe(r){return r.data||{}}function Fe(r){return r.resolve||{}}function Ft(r){return(0,u.switchMap)(e=>{const t=r(e);return t?(0,h.from)(t).pipe((0,u.map)(()=>e)):(0,h.of)(e)})}class He{}class We{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}class En extends We{}const ft=new c.InjectionToken("ROUTES");class Be{constructor(e,t,n,i){this.injector=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,u.map)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new Nt(Et(o.injector.get(ft,void 0,c.InjectFlags.Self|c.InjectFlags.Optional)).map(zt),o)}),(0,u.catchError)(s=>{throw t._loader$=void 0,s}));return t._loader$=new h.ConnectableObservable(i,()=>new h.Subject).pipe((0,u.refCount)()),t._loader$}loadModuleFactory(e){return b(e()).pipe((0,u.mergeMap)(t=>t instanceof c.NgModuleFactory?(0,h.of)(t):(0,h.from)(this.compiler.compileModuleAsync(t))))}}class Ve{}class Un{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function An(r){throw r}function bn(r,e,t){return e.parse("/")}function Qe(r,e){return(0,h.of)(null)}const Tn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Pn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let S=(()=>{class r{constructor(t,n,i,s,o,a,l){this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=i,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new h.Subject,this.errorHandler=An,this.malformedUriErrorHandler=bn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Qe,afterPreactivation:Qe},this.urlHandlingStrategy=new Un,this.routeReuseStrategy=new En,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(c.NgModuleRef),this.console=o.get(c.\u0275Console);const f=o.get(c.NgZone);this.isNgZoneEnabled=f instanceof c.NgZone&&c.NgZone.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function nr(){return new O(new g([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Be(o,a,C=>this.triggerEvent(new Rt(C)),C=>this.triggerEvent(new St(C))),this.routerState=Se(this.currentUrlTree,this.rootComponentType),this.transitions=new h.BehaviorSubject({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const n=this.events;return t.pipe((0,u.filter)(i=>0!==i.id),(0,u.map)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),(0,u.switchMap)(i=>{let s=!1,o=!1;return(0,h.of)(i).pipe((0,u.tap)(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,u.switchMap)(a=>{const l=this.browserUrlTree.toString(),d=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||d)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return pt(a.source)&&(this.browserUrlTree=a.extractedUrl),(0,h.of)(a).pipe((0,u.switchMap)(f=>{const C=this.transitions.getValue();return n.next(new X(f.id,this.serializeUrl(f.extractedUrl),f.source,f.restoredState)),C!==this.transitions.getValue()?h.EMPTY:Promise.resolve(f)}),function Gr(r,e,t,n){return(0,u.switchMap)(i=>function Zr(r,e,t,n,i){return new Yr(r,e,t,n,i).apply()}(r,e,t,i.extractedUrl,n).pipe((0,u.map)(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,u.tap)(f=>{this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects}}),function Cn(r,e,t,n,i){return(0,u.mergeMap)(s=>function fn(r,e,t,n,i="emptyOnly",s="legacy"){try{const o=new pn(r,e,t,n,i,s).recognize();return null===o?Ne(new dn):(0,h.of)(o)}catch(o){return Ne(o)}}(r,e,s.urlAfterRedirects,t(s.urlAfterRedirects),n,i).pipe((0,u.map)(o=>({...s,targetSnapshot:o}))))}(this.rootComponentType,this.config,f=>this.serializeUrl(f),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,u.tap)(f=>{if("eager"===this.urlUpdateStrategy){if(!f.extras.skipLocationChange){const v=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl);this.setBrowserUrl(v,f)}this.browserUrlTree=f.urlAfterRedirects}const C=new Xt(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);n.next(C)}));if(d&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:C,extractedUrl:v,source:P,restoredState:N,extras:w}=a,_=new X(C,this.serializeUrl(v),P,N);n.next(_);const mt=Se(v,this.rootComponentType).snapshot;return(0,h.of)({...a,targetSnapshot:mt,urlAfterRedirects:v,extras:{...w,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),h.EMPTY}),Ft(a=>{const{targetSnapshot:l,id:d,extractedUrl:m,rawUrl:f,extras:{skipLocationChange:C,replaceUrl:v}}=a;return this.hooks.beforePreactivation(l,{navigationId:d,appliedUrlTree:m,rawUrlTree:f,skipLocationChange:!!C,replaceUrl:!!v})}),(0,u.tap)(a=>{const l=new te(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),(0,u.map)(a=>({...a,guards:Jr(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function nn(r,e){return(0,u.mergeMap)(t=>{const{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?(0,h.of)({...t,guardsResult:!0}):function sn(r,e,t,n){return(0,h.from)(r).pipe((0,u.mergeMap)(i=>function hn(r,e,t,n,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,h.of)(!0);const o=s.map(a=>{const l=dt(a,e,i);let d;if(function jr(r){return r&&I(r.canDeactivate)}(l))d=b(l.canDeactivate(r,e,t,n));else{if(!I(l))throw new Error("Invalid CanDeactivate guard");d=b(l(r,e,t,n))}return d.pipe((0,u.first)())});return(0,h.of)(o).pipe(Y())}(i.component,i.route,t,e,n)),(0,u.first)(i=>!0!==i,!0))}(o,n,i,r).pipe((0,u.mergeMap)(a=>a&&function Mr(r){return"boolean"==typeof r}(a)?function on(r,e,t,n){return(0,h.from)(e).pipe((0,u.concatMap)(i=>(0,h.concat)(function ln(r,e){return null!==r&&e&&e(new ie(r)),(0,h.of)(!0)}(i.route.parent,n),function an(r,e){return null!==r&&e&&e(new oe(r)),(0,h.of)(!0)}(i.route,n),function un(r,e,t){const n=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function Xr(r){const e=r.routeConfig?r.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:r,guards:e}:null}(o)).filter(o=>null!==o).map(o=>(0,h.defer)(()=>{const a=o.guards.map(l=>{const d=dt(l,o.node,t);let m;if(function Nr(r){return r&&I(r.canActivateChild)}(d))m=b(d.canActivateChild(n,r));else{if(!I(d))throw new Error("Invalid CanActivateChild guard");m=b(d(n,r))}return m.pipe((0,u.first)())});return(0,h.of)(a).pipe(Y())}));return(0,h.of)(s).pipe(Y())}(r,i.path,t),function cn(r,e,t){const n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||0===n.length)return(0,h.of)(!0);const i=n.map(s=>(0,h.defer)(()=>{const o=dt(s,e,t);let a;if(function $r(r){return r&&I(r.canActivate)}(o))a=b(o.canActivate(e,r));else{if(!I(o))throw new Error("Invalid CanActivate guard");a=b(o(e,r))}return a.pipe((0,u.first)())}));return(0,h.of)(i).pipe(Y())}(r,i.route,t))),(0,u.first)(i=>!0!==i,!0))}(n,s,r,e):(0,h.of)(a)),(0,u.map)(a=>({...t,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),(0,u.tap)(a=>{if($(a.guardsResult)){const d=wt(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw d.url=a.guardsResult,d}const l=new ee(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),(0,u.filter)(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Ft(a=>{if(a.guards.canActivateChecks.length)return(0,h.of)(a).pipe((0,u.tap)(l=>{const d=new re(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(d)}),(0,u.switchMap)(l=>{let d=!1;return(0,h.of)(l).pipe(function Rn(r,e){return(0,u.mergeMap)(t=>{const{targetSnapshot:n,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,h.of)(t);let s=0;return(0,h.from)(i).pipe((0,u.concatMap)(o=>function Sn(r,e,t,n){return function yn(r,e,t,n){const i=Object.keys(r);if(0===i.length)return(0,h.of)({});const s={};return(0,h.from)(i).pipe((0,u.mergeMap)(o=>function wn(r,e,t,n){const i=dt(r,e,n);return b(i.resolve?i.resolve(e,t):i(e,t))}(r[o],e,t,n).pipe((0,u.tap)(a=>{s[o]=a}))),(0,u.takeLast)(1),(0,u.mergeMap)(()=>Object.keys(s).length===i.length?(0,h.of)(s):h.EMPTY))}(r._resolve,r,e,n).pipe((0,u.map)(s=>(r._resolvedData=s,r.data={...r.data,...ye(r,t).resolve},null)))}(o.route,n,r,e)),(0,u.tap)(()=>s++),(0,u.takeLast)(1),(0,u.mergeMap)(o=>s===i.length?(0,h.of)(t):h.EMPTY))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,u.tap)({next:()=>d=!0,complete:()=>{d||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),(0,u.tap)(l=>{const d=new ne(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(d)}))}),Ft(a=>{const{targetSnapshot:l,id:d,extractedUrl:m,rawUrl:f,extras:{skipLocationChange:C,replaceUrl:v}}=a;return this.hooks.afterPreactivation(l,{navigationId:d,appliedUrlTree:m,rawUrlTree:f,skipLocationChange:!!C,replaceUrl:!!v})}),(0,u.map)(a=>{const l=function yr(r,e,t){const n=V(r,e._root,t?t._root:void 0);return new Ot(n,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return{...a,targetRouterState:l}}),(0,u.tap)(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((r,e,t)=>(0,u.map)(n=>(new _r(e,n.targetRouterState,n.currentRouterState,t).activate(r),n)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),(0,u.tap)({next(){s=!0},complete(){s=!0}}),(0,u.finalize)(()=>{s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),(0,u.catchError)(a=>{if(o=!0,function tr(r){return r&&r[le]}(a)){const l=$(a.url);l||(this.navigated=!0,this.restoreHistory(i,!0));const d=new Ct(i.id,this.serializeUrl(i.extractedUrl),a.message);n.next(d),l?setTimeout(()=>{const m=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),f={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||pt(i.source)};this.scheduleNavigation(m,"imperative",null,f,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new Jt(i.id,this.serializeUrl(i.extractedUrl),a);n.next(l);try{i.resolve(this.errorHandler(a))}catch(d){i.reject(d)}}return h.EMPTY}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const n="popstate"===t.type?"popstate":"hashchange";"popstate"===n&&setTimeout(()=>{const i={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const a={...s};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(t.url);this.scheduleNavigation(o,n,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Oe(t),this.config=t.map(zt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,n={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=n,d=i||this.routerState.root,m=l?this.currentUrlTree.fragment:o;let f=null;switch(a){case"merge":f={...this.currentUrlTree.queryParams,...s};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}return null!==f&&(f=this.removeEmptyProps(f)),function Ur(r,e,t,n,i){if(0===t.length)return Mt(e.root,e.root,e,n,i);const s=function Ar(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new Ue(!0,0,r);let e=0,t=!1;const n=r.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return R(s.outlets,(l,d)=>{a[d]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new Ue(t,e,n)}(t);if(s.toRoot())return Mt(e.root,new g([],{}),e,n,i);const o=function br(r,e,t){if(r.isAbsolute)return new Lt(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new Lt(s,s===e.root,0)}const n=st(r.commands[0])?0:1;return function Tr(r,e,t){let n=r,i=e,s=t;for(;s>i;){if(s-=i,n=n.parent,!n)throw new Error("Invalid number of '../'");i=n.segments.length}return new Lt(n,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+n,r.numberOfDoubleDots)}(s,e,r),a=o.processChildren?ot(o.segmentGroup,o.index,s.commands):Ae(o.segmentGroup,o.index,s.commands);return Mt(o.segmentGroup,a,e,n,i)}(d,this.currentUrlTree,t,f,m??null)}navigateByUrl(t,n={skipLocationChange:!1}){const i=$(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,n)}navigate(t,n={skipLocationChange:!1}){return function On(r){for(let e=0;e<r.length;e++){const t=r[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,n),n)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let n;try{n=this.urlSerializer.parse(t)}catch(i){n=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return n}isActive(t,n){let i;if(i=!0===n?{...Tn}:!1===n?{...Pn}:n,$(t))return de(this.currentUrlTree,t,i);const s=this.parseUrl(t);return de(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((n,i)=>{const s=t[i];return null!=s&&(n[i]=s),n},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new D(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,n,i,s,o){if(this.disposed)return Promise.resolve(!1);const a=this.transitions.value,l=pt(n)&&a&&!pt(a.source),d=a.rawUrl.toString()===t.toString();if(l&&d&&a.id===this.currentNavigation?.id)return Promise.resolve(!0);let C,v,P;o?(C=o.resolve,v=o.reject,P=o.promise):P=new Promise((_,mt)=>{C=_,v=mt});const N=++this.navigationId;let w;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),w=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):w=0,this.setTransition({id:N,targetPageId:w,source:n,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:C,reject:v,promise:P,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),P.catch(_=>Promise.reject(_))}setBrowserUrl(t,n){const i=this.urlSerializer.serialize(t),s={...n.extras.state,...this.generateNgRouterState(n.id,n.targetPageId)};this.location.isCurrentPathEqualTo(i)||n.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,n=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,n){const i=new Ct(t.id,this.serializeUrl(t.extractedUrl),n);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,n){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:n}:{navigationId:t}}}return r.\u0275fac=function(t){c.\u0275\u0275invalidFactory()},r.\u0275prov=c.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})();function pt(r){return"imperative"!==r}let gt=(()=>{class r{constructor(t,n,i,s,o){this.router=t,this.route=n,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new h.Subject,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const n=this.renderer,i=this.el.nativeElement;null!==t?n.setAttribute(i,"tabindex",t):n.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:H(this.skipLocationChange),replaceUrl:H(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:H(this.preserveFragment)})}}return r.\u0275fac=function(t){return new(t||r)(c.\u0275\u0275directiveInject(S),c.\u0275\u0275directiveInject(L),c.\u0275\u0275injectAttribute("tabindex"),c.\u0275\u0275directiveInject(c.Renderer2),c.\u0275\u0275directiveInject(c.ElementRef))},r.\u0275dir=c.\u0275\u0275defineDirective({type:r,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,n){1&t&&c.\u0275\u0275listener("click",function(){return n.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.\u0275\u0275NgOnChangesFeature]}),r})(),vt=(()=>{class r{constructor(t,n,i){this.router=t,this.route=n,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new h.Subject,this.subscription=t.events.subscribe(s=>{s instanceof D&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,n,i,s,o){if(0!==t||n||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:H(this.skipLocationChange),replaceUrl:H(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:H(this.preserveFragment)})}}return r.\u0275fac=function(t){return new(t||r)(c.\u0275\u0275directiveInject(S),c.\u0275\u0275directiveInject(L),c.\u0275\u0275directiveInject(E.LocationStrategy))},r.\u0275dir=c.\u0275\u0275defineDirective({type:r,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,n){1&t&&c.\u0275\u0275listener("click",function(s){return n.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&c.\u0275\u0275attribute("target",n.target)("href",n.href,c.\u0275\u0275sanitizeUrl)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.\u0275\u0275NgOnChangesFeature]}),r})();function H(r){return""===r||!!r}let Ze=(()=>{class r{constructor(t,n,i,s,o,a){this.router=t,this.element=n,this.renderer=i,this.cdr=s,this.link=o,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new c.EventEmitter,this.routerEventsSubscription=t.events.subscribe(l=>{l instanceof D&&this.update()})}ngAfterContentInit(){(0,h.of)(this.links.changes,this.linksWithHrefs.changes,(0,h.of)(null)).pipe((0,u.mergeAll)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=(0,h.from)(t).pipe((0,u.mergeAll)()).subscribe(n=>{this.isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(t){const n=Array.isArray(t)?t:t.split(" ");this.classes=n.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(n=>{t?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),this.isActiveChange.emit(t))})}isLinkActive(t){const n=function In(r){return!!r.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,n)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return r.\u0275fac=function(t){return new(t||r)(c.\u0275\u0275directiveInject(S),c.\u0275\u0275directiveInject(c.ElementRef),c.\u0275\u0275directiveInject(c.Renderer2),c.\u0275\u0275directiveInject(c.ChangeDetectorRef),c.\u0275\u0275directiveInject(gt,8),c.\u0275\u0275directiveInject(vt,8))},r.\u0275dir=c.\u0275\u0275defineDirective({type:r,selectors:[["","routerLinkActive",""]],contentQueries:function(t,n,i){if(1&t&&(c.\u0275\u0275contentQuery(i,gt,5),c.\u0275\u0275contentQuery(i,vt,5)),2&t){let s;c.\u0275\u0275queryRefresh(s=c.\u0275\u0275loadQuery())&&(n.links=s),c.\u0275\u0275queryRefresh(s=c.\u0275\u0275loadQuery())&&(n.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[c.\u0275\u0275NgOnChangesFeature]}),r})();class Ht{}class Ye{preload(e,t){return t().pipe((0,u.catchError)(()=>(0,h.of)(null)))}}class Wt{preload(e,t){return(0,h.of)(null)}}let Bt=(()=>{class r{constructor(t,n,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new Be(i,n,l=>t.triggerEvent(new Rt(l)),l=>t.triggerEvent(new St(l)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,u.filter)(t=>t instanceof D),(0,u.concatMap)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.NgModuleRef);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,n){const i=[];for(const s of n)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return(0,h.from)(i).pipe((0,u.mergeAll)(),(0,u.map)(s=>{}))}preloadConfig(t,n){return this.preloadingStrategy.preload(n,()=>(n._loadedConfig?(0,h.of)(n._loadedConfig):this.loader.load(t.injector,n)).pipe((0,u.mergeMap)(s=>(n._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return r.\u0275fac=function(t){return new(t||r)(c.\u0275\u0275inject(S),c.\u0275\u0275inject(c.Compiler),c.\u0275\u0275inject(c.Injector),c.\u0275\u0275inject(Ht))},r.\u0275prov=c.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})(),Vt=(()=>{class r{constructor(t,n,i={}){this.router=t,this.viewportScroller=n,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof X?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof D&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof yt&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,n){this.router.triggerEvent(new yt(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return r.\u0275fac=function(t){c.\u0275\u0275invalidFactory()},r.\u0275prov=c.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})();const x=new c.InjectionToken("ROUTER_CONFIGURATION"),Ke=new c.InjectionToken("ROUTER_FORROOT_GUARD"),Ge=[E.Location,{provide:Ut,useClass:At},{provide:S,useFactory:function $n(r,e,t,n,i,s,o={},a,l){const d=new S(null,r,e,t,n,i,Et(s));return a&&(d.urlHandlingStrategy=a),l&&(d.routeReuseStrategy=l),Je(o,d),o.enableTracing&&d.events.subscribe(m=>{console.group?.(`Router Event: ${m.constructor.name}`),console.log(m.toString()),console.log(m),console.groupEnd?.()}),d},deps:[Ut,F,E.Location,c.Injector,c.Compiler,ft,x,[Ve,new c.Optional],[He,new c.Optional]]},F,{provide:L,useFactory:function Nn(r){return r.routerState.root},deps:[S]},Bt,Wt,Ye,{provide:x,useValue:{enableTracing:!1}}];function xn(){return new c.NgProbeToken("Router",S)}let _n=(()=>{class r{constructor(t,n){}static forRoot(t,n){return{ngModule:r,providers:[Ge,Qt(t),{provide:Ke,useFactory:Ln,deps:[[S,new c.Optional,new c.SkipSelf]]},{provide:x,useValue:n||{}},{provide:E.LocationStrategy,useFactory:Mn,deps:[E.PlatformLocation,[new c.Inject(E.APP_BASE_HREF),new c.Optional],x]},{provide:Vt,useFactory:kn,deps:[S,E.ViewportScroller,x]},{provide:Ht,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Wt},{provide:c.NgProbeToken,multi:!0,useFactory:xn},[Zt,{provide:c.APP_INITIALIZER,multi:!0,useFactory:jn,deps:[Zt]},{provide:Yt,useFactory:Dn,deps:[Zt]},{provide:c.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:Yt}]]}}static forChild(t){return{ngModule:r,providers:[Qt(t)]}}}return r.\u0275fac=function(t){return new(t||r)(c.\u0275\u0275inject(Ke,8),c.\u0275\u0275inject(S,8))},r.\u0275mod=c.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=c.\u0275\u0275defineInjector({}),r})();function kn(r,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Vt(r,e,t)}function Mn(r,e,t={}){return t.useHash?new E.HashLocationStrategy(r,e):new E.PathLocationStrategy(r,e)}function Ln(r){return"guarded"}function Qt(r){return[{provide:c.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:r},{provide:ft,multi:!0,useValue:r}]}function Je(r,e){r.errorHandler&&(e.errorHandler=r.errorHandler),r.malformedUriErrorHandler&&(e.malformedUriErrorHandler=r.malformedUriErrorHandler),r.onSameUrlNavigation&&(e.onSameUrlNavigation=r.onSameUrlNavigation),r.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=r.paramsInheritanceStrategy),r.relativeLinkResolution&&(e.relativeLinkResolution=r.relativeLinkResolution),r.urlUpdateStrategy&&(e.urlUpdateStrategy=r.urlUpdateStrategy),r.canceledNavigationResolution&&(e.canceledNavigationResolution=r.canceledNavigationResolution)}let Zt=(()=>{class r{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new h.Subject}appInitializer(){return this.injector.get(E.LOCATION_INITIALIZED,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let n=null;const i=new Promise(a=>n=a),s=this.injector.get(S),o=this.injector.get(x);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),n(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?(0,h.of)(null):(this.initNavigation=!0,n(!0),this.resultOfPreactivationDone),s.initialNavigation()):n(!0),i})}bootstrapListener(t){const n=this.injector.get(x),i=this.injector.get(Bt),s=this.injector.get(Vt),o=this.injector.get(S),a=this.injector.get(c.ApplicationRef);t===a.components[0]&&(("enabledNonBlocking"===n.initialNavigation||void 0===n.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return r.\u0275fac=function(t){return new(t||r)(c.\u0275\u0275inject(c.Injector))},r.\u0275prov=c.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})();function jn(r){return r.appInitializer.bind(r)}function Dn(r){return r.bootstrapListener.bind(r)}const Yt=new c.InjectionToken("Router Initializer"),qn=new c.Version("13.1.2")}}]);
(self.webpackChunkmfComponents=self.webpackChunkmfComponents||[]).push([[92],{8092:(x,p,t)=>{t.r(p),t.d(p,{ArgumentOutOfRangeError:()=>ut.W,AsyncSubject:()=>l.c,BehaviorSubject:()=>c.X,ConnectableObservable:()=>h.c,EMPTY:()=>W.E,EmptyError:()=>ct.K,GroupedObservable:()=>m.T,NEVER:()=>et,Notification:()=>z.P,NotificationKind:()=>z.W,ObjectUnsubscribedError:()=>lt.N,Observable:()=>a.y,ReplaySubject:()=>f.t,Scheduler:()=>L.b,Subject:()=>i.xQ,Subscriber:()=>rt.L,Subscription:()=>w.w,TimeoutError:()=>at.W,UnsubscriptionError:()=>ht.B,VirtualAction:()=>C,VirtualTimeScheduler:()=>A,animationFrame:()=>M,animationFrameScheduler:()=>P,asap:()=>u.e,asapScheduler:()=>u.E,async:()=>e.P,asyncScheduler:()=>e.z,bindCallback:()=>$,bindNodeCallback:()=>G,combineLatest:()=>Et.aj,concat:()=>_t.z,config:()=>zt.v,defer:()=>J.P,empty:()=>W.c,forkJoin:()=>yt,from:()=>j.D,fromEvent:()=>k,fromEventPattern:()=>tt,generate:()=>xt,identity:()=>V.y,iif:()=>Mt,interval:()=>It,isObservable:()=>ot,merge:()=>At.T,never:()=>gt,noop:()=>Z.Z,observable:()=>d.L,of:()=>Ct.of,onErrorResumeNext:()=>Y,pairs:()=>Rt,partition:()=>Ut,pipe:()=>it.z,queue:()=>r.c,queueScheduler:()=>r.N,race:()=>Bt.S3,range:()=>Wt,scheduled:()=>Yt.x,throwError:()=>jt._,timer:()=>Nt.H,using:()=>Vt,zip:()=>Ft.$R});var a=t(3414),h=t(2441),m=t(304),d=t(6554),i=t(9765),c=t(6215),f=t(8229),l=t(8660),u=t(4713),e=t(3637),r=t(3951),n=t(3989),o=t(4548);const P=new class y extends o.v{flush(b){this.active=!0,this.scheduled=void 0;const{actions:_}=this;let v,O=-1,D=_.length;b=b||_.shift();do{if(v=b.execute(b.state,b.delay))break}while(++O<D&&(b=_.shift()));if(this.active=!1,v){for(;++O<D&&(b=_.shift());)b.unsubscribe();throw v}}}(class s extends n.o{constructor(b,_){super(b,_),this.scheduler=b,this.work=_}requestAsyncId(b,_,v=0){return null!==v&&v>0?super.requestAsyncId(b,_,v):(b.actions.push(this),b.scheduled||(b.scheduled=requestAnimationFrame(()=>b.flush(null))))}recycleAsyncId(b,_,v=0){if(null!==v&&v>0||null===v&&this.delay>0)return super.recycleAsyncId(b,_,v);0===b.actions.length&&(cancelAnimationFrame(_),b.scheduled=void 0)}}),M=P;let A=(()=>{class E extends o.v{constructor(_=C,v=Number.POSITIVE_INFINITY){super(_,()=>this.frame),this.maxFrames=v,this.frame=0,this.index=-1}flush(){const{actions:_,maxFrames:v}=this;let O,D;for(;(D=_[0])&&D.delay<=v&&(_.shift(),this.frame=D.delay,!(O=D.execute(D.state,D.delay))););if(O){for(;D=_.shift();)D.unsubscribe();throw O}}}return E.frameTimeFactor=10,E})();class C extends n.o{constructor(b,_,v=(b.index+=1)){super(b,_),this.scheduler=b,this.work=_,this.index=v,this.active=!0,this.index=b.index=v}schedule(b,_=0){if(!this.id)return super.schedule(b,_);this.active=!1;const v=new C(this.scheduler,this.work);return this.add(v),v.schedule(b,_)}requestAsyncId(b,_,v=0){this.delay=b.frame+v;const{actions:O}=b;return O.push(this),O.sort(C.sortActions),!0}recycleAsyncId(b,_,v=0){}_execute(b,_){if(!0===this.active)return super._execute(b,_)}static sortActions(b,_){return b.delay===_.delay?b.index===_.index?0:b.index>_.index?1:-1:b.delay>_.delay?1:-1}}var L=t(2217),w=t(826),rt=t(7393),z=t(3098),it=t(4022),Z=t(8640),V=t(4487);function ot(E){return!!E&&(E instanceof a.y||"function"==typeof E.lift&&"function"==typeof E.subscribe)}var ut=t(7108),ct=t(3410),lt=t(7971),ht=t(7744),at=t(5587),K=t(8002),H=t(3179),U=t(9796),F=t(4869);function $(E,b,_){if(b){if(!(0,F.K)(b))return(...v)=>$(E,_)(...v).pipe((0,K.U)(O=>(0,U.k)(O)?b(...O):b(O)));_=b}return function(...v){const O=this;let D;const I={context:O,subject:D,callbackFunc:E,scheduler:_};return new a.y(S=>{if(_)return _.schedule(dt,0,{args:v,subscriber:S,params:I});if(!D){D=new l.c;const R=(...T)=>{D.next(T.length<=1?T[0]:T),D.complete()};try{E.apply(O,[...v,R])}catch(T){(0,H._)(D)?D.error(T):console.warn(T)}}return D.subscribe(S)})}}function dt(E){const{args:_,subscriber:v,params:O}=E,{callbackFunc:D,context:I,scheduler:S}=O;let{subject:R}=O;if(!R){R=O.subject=new l.c;const T=(...g)=>{this.add(S.schedule(ft,0,{value:g.length<=1?g[0]:g,subject:R}))};try{D.apply(I,[..._,T])}catch(g){R.error(g)}}this.add(R.subscribe(v))}function ft(E){const{value:b,subject:_}=E;_.next(b),_.complete()}function G(E,b,_){if(b){if(!(0,F.K)(b))return(...v)=>G(E,_)(...v).pipe((0,K.U)(O=>(0,U.k)(O)?b(...O):b(O)));_=b}return function(...v){const O={subject:void 0,args:v,callbackFunc:E,scheduler:_,context:this};return new a.y(D=>{const{context:I}=O;let{subject:S}=O;if(_)return _.schedule(bt,0,{params:O,subscriber:D,context:I});if(!S){S=O.subject=new l.c;const R=(...T)=>{const g=T.shift();g?S.error(g):(S.next(T.length<=1?T[0]:T),S.complete())};try{E.apply(I,[...v,R])}catch(T){(0,H._)(S)?S.error(T):console.warn(T)}}return S.subscribe(D)})}}function bt(E){const{params:b,subscriber:_,context:v}=E,{callbackFunc:O,args:D,scheduler:I}=b;let S=b.subject;if(!S){S=b.subject=new l.c;const R=(...T)=>{const g=T.shift();this.add(g?I.schedule(Q,0,{err:g,subject:S}):I.schedule(pt,0,{value:T.length<=1?T[0]:T,subject:S}))};try{O.apply(v,[...D,R])}catch(T){this.add(I.schedule(Q,0,{err:T,subject:S}))}}this.add(S.subscribe(_))}function pt(E){const{value:b,subject:_}=E;_.next(b),_.complete()}function Q(E){const{err:b,subject:_}=E;_.error(b)}var Et=t(9112),_t=t(9923),J=t(1439),W=t(9193),mt=t(1555),j=t(9412);function yt(...E){if(1===E.length){const b=E[0];if((0,U.k)(b))return N(b,null);if((0,mt.K)(b)&&Object.getPrototypeOf(b)===Object.prototype){const _=Object.keys(b);return N(_.map(v=>b[v]),_)}}if("function"==typeof E[E.length-1]){const b=E.pop();return N(E=1===E.length&&(0,U.k)(E[0])?E[0]:E,null).pipe((0,K.U)(_=>b(..._)))}return N(E,null)}function N(E,b){return new a.y(_=>{const v=E.length;if(0===v)return void _.complete();const O=new Array(v);let D=0,I=0;for(let S=0;S<v;S++){const R=(0,j.D)(E[S]);let T=!1;_.add(R.subscribe({next:g=>{T||(T=!0,I++),O[S]=g},error:g=>_.error(g),complete:()=>{D++,(D===v||!T)&&(I===v&&_.next(b?b.reduce((g,B,Zt)=>(g[B]=O[Zt],g),{}):O),_.complete())}}))}})}var X=t(9105);function k(E,b,_,v){return(0,X.m)(_)&&(v=_,_=void 0),v?k(E,b,_).pipe((0,K.U)(O=>(0,U.k)(O)?v(...O):v(O))):new a.y(O=>{q(E,b,function D(I){O.next(arguments.length>1?Array.prototype.slice.call(arguments):I)},O,_)})}function q(E,b,_,v,O){let D;if(function Pt(E){return E&&"function"==typeof E.addEventListener&&"function"==typeof E.removeEventListener}(E)){const I=E;E.addEventListener(b,_,O),D=()=>I.removeEventListener(b,_,O)}else if(function Ot(E){return E&&"function"==typeof E.on&&"function"==typeof E.off}(E)){const I=E;E.on(b,_),D=()=>I.off(b,_)}else if(function vt(E){return E&&"function"==typeof E.addListener&&"function"==typeof E.removeListener}(E)){const I=E;E.addListener(b,_),D=()=>I.removeListener(b,_)}else{if(!E||!E.length)throw new TypeError("Invalid event target");for(let I=0,S=E.length;I<S;I++)q(E[I],b,_,v,O)}v.add(D)}function tt(E,b,_){return _?tt(E,b).pipe((0,K.U)(v=>(0,U.k)(v)?_(...v):_(v))):new a.y(v=>{const O=(...I)=>v.next(1===I.length?I[0]:I);let D;try{D=E(O)}catch(I){return void v.error(I)}if((0,X.m)(b))return()=>b(O,D)})}function xt(E,b,_,v,O){let D,I;return 1==arguments.length?(I=E.initialState,b=E.condition,_=E.iterate,D=E.resultSelector||V.y,O=E.scheduler):void 0===v||(0,F.K)(v)?(I=E,D=V.y,O=v):(I=E,D=v),new a.y(S=>{let R=I;if(O)return O.schedule(Dt,0,{subscriber:S,iterate:_,condition:b,resultSelector:D,state:R});for(;;){if(b){let g;try{g=b(R)}catch(B){return void S.error(B)}if(!g){S.complete();break}}let T;try{T=D(R)}catch(g){return void S.error(g)}if(S.next(T),S.closed)break;try{R=_(R)}catch(g){return void S.error(g)}}})}function Dt(E){const{subscriber:b,condition:_}=E;if(b.closed)return;if(E.needIterate)try{E.state=E.iterate(E.state)}catch(O){return void b.error(O)}else E.needIterate=!0;if(_){let O;try{O=_(E.state)}catch(D){return void b.error(D)}if(!O)return void b.complete();if(b.closed)return}let v;try{v=E.resultSelector(E.state)}catch(O){return void b.error(O)}return b.closed||(b.next(v),b.closed)?void 0:this.schedule(E)}function Mt(E,b=W.E,_=W.E){return(0,J.P)(()=>E()?b:_)}var St=t(6561);function It(E=0,b=e.P){return(!(0,St.k)(E)||E<0)&&(E=0),(!b||"function"!=typeof b.schedule)&&(b=e.P),new a.y(_=>(_.add(b.schedule(Tt,E,{subscriber:_,counter:0,period:E})),_))}function Tt(E){const{subscriber:b,counter:_,period:v}=E;b.next(_),this.schedule({subscriber:b,counter:_+1,period:v},v)}var At=t(6682);const et=new a.y(Z.Z);function gt(){return et}var Ct=t(5917);function Y(...E){if(0===E.length)return W.E;const[b,..._]=E;return 1===E.length&&(0,U.k)(b)?Y(...b):new a.y(v=>{const O=()=>v.add(Y(..._).subscribe(v));return(0,j.D)(b).subscribe({next(D){v.next(D)},error:O,complete:O})})}function Rt(E,b){return new a.y(b?_=>{const v=Object.keys(E),O=new w.w;return O.add(b.schedule(Lt,0,{keys:v,index:0,subscriber:_,subscription:O,obj:E})),O}:_=>{const v=Object.keys(E);for(let O=0;O<v.length&&!_.closed;O++){const D=v[O];E.hasOwnProperty(D)&&_.next([D,E[D]])}_.complete()})}function Lt(E){const{keys:b,index:_,subscriber:v,subscription:O,obj:D}=E;if(!v.closed)if(_<b.length){const I=b[_];v.next([I,D[I]]),O.add(this.schedule({keys:b,index:_+1,subscriber:v,subscription:O,obj:D}))}else v.complete()}var wt=t(9264),nt=t(9846),st=t(5435);function Ut(E,b,_){return[(0,st.h)(b,_)(new a.y((0,nt.s)(E))),(0,st.h)((0,wt.f)(b,_))(new a.y((0,nt.s)(E)))]}var Bt=t(8085);function Wt(E=0,b,_){return new a.y(v=>{void 0===b&&(b=E,E=0);let O=0,D=E;if(_)return _.schedule(Kt,0,{index:O,count:b,start:E,subscriber:v});for(;;){if(O++>=b){v.complete();break}if(v.next(D++),v.closed)break}})}function Kt(E){const{start:b,index:_,count:v,subscriber:O}=E;_>=v?O.complete():(O.next(b),!O.closed&&(E.index=_+1,E.start=b+1,this.schedule(E)))}var jt=t(205),Nt=t(6797);function Vt(E,b){return new a.y(_=>{let v,O;try{v=E()}catch(S){return void _.error(S)}try{O=b(v)}catch(S){return void _.error(S)}const I=(O?(0,j.D)(O):W.E).subscribe(_);return()=>{I.unsubscribe(),v&&v.unsubscribe()}})}var Ft=t(1571),Yt=t(4542),zt=t(2494)},8660:(x,p,t)=>{t.d(p,{c:()=>m});var a=t(9765),h=t(826);class m extends a.xQ{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(i){return this.hasError?(i.error(this.thrownError),h.w.EMPTY):this.hasCompleted&&this.hasNext?(i.next(this.value),i.complete(),h.w.EMPTY):super._subscribe(i)}next(i){this.hasCompleted||(this.value=i,this.hasNext=!0)}error(i){this.hasCompleted||super.error(i)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}},6215:(x,p,t)=>{t.d(p,{X:()=>m});var a=t(9765),h=t(7971);class m extends a.xQ{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const c=super._subscribe(i);return c&&!c.closed&&i.next(this._value),c}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new h.N;return this._value}next(i){super.next(this._value=i)}}},3098:(x,p,t)=>{t.d(p,{W:()=>d,P:()=>i});var a=t(9193),h=t(5917),m=t(205),d=(()=>{return(c=d||(d={})).NEXT="N",c.ERROR="E",c.COMPLETE="C",d;var c})();class i{constructor(f,l,u){this.kind=f,this.value=l,this.error=u,this.hasValue="N"===f}observe(f){switch(this.kind){case"N":return f.next&&f.next(this.value);case"E":return f.error&&f.error(this.error);case"C":return f.complete&&f.complete()}}do(f,l,u){switch(this.kind){case"N":return f&&f(this.value);case"E":return l&&l(this.error);case"C":return u&&u()}}accept(f,l,u){return f&&"function"==typeof f.next?this.observe(f):this.do(f,l,u)}toObservable(){switch(this.kind){case"N":return(0,h.of)(this.value);case"E":return(0,m._)(this.error);case"C":return(0,a.c)()}throw new Error("unexpected notification kind value")}static createNext(f){return void 0!==f?new i("N",f):i.undefinedValueNotification}static createError(f){return new i("E",void 0,f)}static createComplete(){return i.completeNotification}}i.completeNotification=new i("C"),i.undefinedValueNotification=new i("N",void 0)},3414:(x,p,t)=>{t.d(p,{y:()=>u});var a=t(3179),h=t(7393),m=t(9181),d=t(6490),c=t(6554),f=t(4022),l=t(2494);let u=(()=>{class r{constructor(s){this._isScalar=!1,s&&(this._subscribe=s)}lift(s){const o=new r;return o.source=this,o.operator=s,o}subscribe(s,o,y){const{operator:P}=this,M=function i(r,n,s){if(r){if(r instanceof h.L)return r;if(r[m.b])return r[m.b]()}return r||n||s?new h.L(r,n,s):new h.L(d.c)}(s,o,y);if(M.add(P?P.call(M,this.source):this.source||l.v.useDeprecatedSynchronousErrorHandling&&!M.syncErrorThrowable?this._subscribe(M):this._trySubscribe(M)),l.v.useDeprecatedSynchronousErrorHandling&&M.syncErrorThrowable&&(M.syncErrorThrowable=!1,M.syncErrorThrown))throw M.syncErrorValue;return M}_trySubscribe(s){try{return this._subscribe(s)}catch(o){l.v.useDeprecatedSynchronousErrorHandling&&(s.syncErrorThrown=!0,s.syncErrorValue=o),(0,a._)(s)?s.error(o):console.warn(o)}}forEach(s,o){return new(o=e(o))((y,P)=>{let M;M=this.subscribe(A=>{try{s(A)}catch(C){P(C),M&&M.unsubscribe()}},P,y)})}_subscribe(s){const{source:o}=this;return o&&o.subscribe(s)}[c.L](){return this}pipe(...s){return 0===s.length?this:(0,f.U)(s)(this)}toPromise(s){return new(s=e(s))((o,y)=>{let P;this.subscribe(M=>P=M,M=>y(M),()=>o(P))})}}return r.create=n=>new r(n),r})();function e(r){if(r||(r=l.v.Promise||Promise),!r)throw new Error("no Promise impl found");return r}},6490:(x,p,t)=>{t.d(p,{c:()=>m});var a=t(2494),h=t(4449);const m={closed:!0,next(d){},error(d){if(a.v.useDeprecatedSynchronousErrorHandling)throw d;(0,h.z)(d)},complete(){}}},5197:(x,p,t)=>{t.d(p,{L:()=>h});var a=t(7393);class h extends a.L{notifyNext(d,i,c,f,l){this.destination.next(i)}notifyError(d,i){this.destination.error(d)}notifyComplete(d){this.destination.complete()}}},8229:(x,p,t)=>{t.d(p,{t:()=>f});var a=t(9765),h=t(3951),m=t(826),d=t(9746),i=t(7971),c=t(8858);class f extends a.xQ{constructor(e=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const r=this._events;r.push(e),r.length>this._bufferSize&&r.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new l(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const r=this._infiniteTimeWindow,n=r?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=n.length;let y;if(this.closed)throw new i.N;if(this.isStopped||this.hasError?y=m.w.EMPTY:(this.observers.push(e),y=new c.W(this,e)),s&&e.add(e=new d.ht(e,s)),r)for(let P=0;P<o&&!e.closed;P++)e.next(n[P]);else for(let P=0;P<o&&!e.closed;P++)e.next(n[P].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),y}_getNow(){return(this.scheduler||h.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),r=this._bufferSize,n=this._windowTime,s=this._events,o=s.length;let y=0;for(;y<o&&!(e-s[y].time<n);)y++;return o>r&&(y=Math.max(y,o-r)),y>0&&s.splice(0,y),s}}class l{constructor(e,r){this.time=e,this.value=r}}},2217:(x,p,t)=>{t.d(p,{b:()=>a});let a=(()=>{class h{constructor(d,i=h.now){this.SchedulerAction=d,this.now=i}schedule(d,i=0,c){return new this.SchedulerAction(this,d).schedule(c,i)}}return h.now=()=>Date.now(),h})()},9765:(x,p,t)=>{t.d(p,{Yc:()=>f,xQ:()=>l});var a=t(3414),h=t(7393),m=t(826),d=t(7971),i=t(8858),c=t(9181);class f extends h.L{constructor(r){super(r),this.destination=r}}let l=(()=>{class e extends a.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.b](){return new f(this)}lift(n){const s=new u(this,this);return s.operator=n,s}next(n){if(this.closed)throw new d.N;if(!this.isStopped){const{observers:s}=this,o=s.length,y=s.slice();for(let P=0;P<o;P++)y[P].next(n)}}error(n){if(this.closed)throw new d.N;this.hasError=!0,this.thrownError=n,this.isStopped=!0;const{observers:s}=this,o=s.length,y=s.slice();for(let P=0;P<o;P++)y[P].error(n);this.observers.length=0}complete(){if(this.closed)throw new d.N;this.isStopped=!0;const{observers:n}=this,s=n.length,o=n.slice();for(let y=0;y<s;y++)o[y].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(n){if(this.closed)throw new d.N;return super._trySubscribe(n)}_subscribe(n){if(this.closed)throw new d.N;return this.hasError?(n.error(this.thrownError),m.w.EMPTY):this.isStopped?(n.complete(),m.w.EMPTY):(this.observers.push(n),new i.W(this,n))}asObservable(){const n=new a.y;return n.source=this,n}}return e.create=(r,n)=>new u(r,n),e})();class u extends l{constructor(r,n){super(),this.destination=r,this.source=n}next(r){const{destination:n}=this;n&&n.next&&n.next(r)}error(r){const{destination:n}=this;n&&n.error&&this.destination.error(r)}complete(){const{destination:r}=this;r&&r.complete&&this.destination.complete()}_subscribe(r){const{source:n}=this;return n?this.source.subscribe(r):m.w.EMPTY}}},8858:(x,p,t)=>{t.d(p,{W:()=>h});var a=t(826);class h extends a.w{constructor(d,i){super(),this.subject=d,this.subscriber=i,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const d=this.subject,i=d.observers;if(this.subject=null,!i||0===i.length||d.isStopped||d.closed)return;const c=i.indexOf(this.subscriber);-1!==c&&i.splice(c,1)}}},7393:(x,p,t)=>{t.d(p,{L:()=>f});var a=t(9105),h=t(6490),m=t(826),d=t(9181),i=t(2494),c=t(4449);class f extends m.w{constructor(e,r,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=h.c;break;case 1:if(!e){this.destination=h.c;break}if("object"==typeof e){e instanceof f?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,e,r,n)}}[d.b](){return this}static create(e,r,n){const s=new f(e,r,n);return s.syncErrorThrowable=!1,s}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class l extends f{constructor(e,r,n,s){super(),this._parentSubscriber=e;let o,y=this;(0,a.m)(r)?o=r:r&&(o=r.next,n=r.error,s=r.complete,r!==h.c&&(y=Object.create(r),(0,a.m)(y.unsubscribe)&&this.add(y.unsubscribe.bind(y)),y.unsubscribe=this.unsubscribe.bind(this))),this._context=y,this._next=o,this._error=n,this._complete=s}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:r}=this;i.v.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?this.__tryOrSetError(r,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:r}=this,{useDeprecatedSynchronousErrorHandling:n}=i.v;if(this._error)n&&r.syncErrorThrowable?(this.__tryOrSetError(r,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(r.syncErrorThrowable)n?(r.syncErrorValue=e,r.syncErrorThrown=!0):(0,c.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,c.z)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const r=()=>this._complete.call(this._context);i.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,r){try{e.call(this._context,r)}catch(n){if(this.unsubscribe(),i.v.useDeprecatedSynchronousErrorHandling)throw n;(0,c.z)(n)}}__tryOrSetError(e,r,n){if(!i.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{r.call(this._context,n)}catch(s){return i.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=s,e.syncErrorThrown=!0,!0):((0,c.z)(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},826:(x,p,t)=>{t.d(p,{w:()=>i});var f,a=t(9796),h=t(1555),m=t(9105),d=t(7744);class i{constructor(l){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,l&&(this._ctorUnsubscribe=!0,this._unsubscribe=l)}unsubscribe(){let l;if(this.closed)return;let{_parentOrParents:u,_ctorUnsubscribe:e,_unsubscribe:r,_subscriptions:n}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,u instanceof i)u.remove(this);else if(null!==u)for(let s=0;s<u.length;++s)u[s].remove(this);if((0,m.m)(r)){e&&(this._unsubscribe=void 0);try{r.call(this)}catch(s){l=s instanceof d.B?c(s.errors):[s]}}if((0,a.k)(n)){let s=-1,o=n.length;for(;++s<o;){const y=n[s];if((0,h.K)(y))try{y.unsubscribe()}catch(P){l=l||[],P instanceof d.B?l=l.concat(c(P.errors)):l.push(P)}}}if(l)throw new d.B(l)}add(l){let u=l;if(!l)return i.EMPTY;switch(typeof l){case"function":u=new i(l);case"object":if(u===this||u.closed||"function"!=typeof u.unsubscribe)return u;if(this.closed)return u.unsubscribe(),u;if(!(u instanceof i)){const n=u;u=new i,u._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+l+" added to Subscription.")}let{_parentOrParents:e}=u;if(null===e)u._parentOrParents=this;else if(e instanceof i){if(e===this)return u;u._parentOrParents=[e,this]}else{if(-1!==e.indexOf(this))return u;e.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[u]:r.push(u),u}remove(l){const u=this._subscriptions;if(u){const e=u.indexOf(l);-1!==e&&u.splice(e,1)}}}function c(f){return f.reduce((l,u)=>l.concat(u instanceof d.B?u.errors:u),[])}i.EMPTY=((f=new i).closed=!0,f)},2494:(x,p,t)=>{t.d(p,{v:()=>h});let a=!1;const h={Promise:void 0,set useDeprecatedSynchronousErrorHandling(m){if(m){const d=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+d.stack)}else a&&console.log("RxJS: Back to a better error behavior. Thank you. <3");a=m},get useDeprecatedSynchronousErrorHandling(){return a}}},5345:(x,p,t)=>{t.d(p,{IY:()=>d,Ds:()=>c,ft:()=>l});var a=t(7393),h=t(3414),m=t(9846);class d extends a.L{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class c extends a.L{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function l(u,e){if(e.closed)return;if(u instanceof h.y)return u.subscribe(e);let r;try{r=(0,m.s)(u)(e)}catch(n){e.error(n)}return r}},2441:(x,p,t)=>{t.d(p,{c:()=>i,N:()=>c});var a=t(9765),h=t(3414),m=t(826),d=t(1307);class i extends h.y{constructor(r,n){super(),this.source=r,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}_subscribe(r){return this.getSubject().subscribe(r)}getSubject(){const r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let r=this._connection;return r||(this._isComplete=!1,r=this._connection=new m.w,r.add(this.source.subscribe(new f(this.getSubject(),this))),r.closed&&(this._connection=null,r=m.w.EMPTY)),r}refCount(){return(0,d.x)()(this)}}const c=(()=>{const e=i.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class f extends a.Yc{constructor(r,n){super(r),this.connectable=n}_error(r){this._unsubscribe(),super._error(r)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const r=this.connectable;if(r){this.connectable=null;const n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}}}},9112:(x,p,t)=>{t.d(p,{aj:()=>f,Ms:()=>l});var a=t(4869),h=t(9796),m=t(5197),d=t(3960),i=t(6693);const c={};function f(...e){let r,n;return(0,a.K)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&(0,h.k)(e[0])&&(e=e[0]),(0,i.n)(e,n).lift(new l(r))}class l{constructor(r){this.resultSelector=r}call(r,n){return n.subscribe(new u(r,this.resultSelector))}}class u extends m.L{constructor(r,n){super(r),this.resultSelector=n,this.active=0,this.values=[],this.observables=[]}_next(r){this.values.push(c),this.observables.push(r)}_complete(){const r=this.observables,n=r.length;if(0===n)this.destination.complete();else{this.active=n,this.toRespond=n;for(let s=0;s<n;s++)this.add((0,d.D)(this,r[s],void 0,s))}}notifyComplete(r){0==(this.active-=1)&&this.destination.complete()}notifyNext(r,n,s){const o=this.values,P=this.toRespond?o[s]===c?--this.toRespond:this.toRespond:0;o[s]=n,0===P&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(r){let n;try{n=this.resultSelector.apply(this,r)}catch(s){return void this.destination.error(s)}this.destination.next(n)}}},9923:(x,p,t)=>{t.d(p,{z:()=>m});var a=t(5917),h=t(5766);function m(...d){return(0,h.u)()((0,a.of)(...d))}},1439:(x,p,t)=>{t.d(p,{P:()=>d});var a=t(3414),h=t(9412),m=t(9193);function d(i){return new a.y(c=>{let f;try{f=i()}catch(u){return void c.error(u)}return(f?(0,h.D)(f):(0,m.c)()).subscribe(c)})}},9193:(x,p,t)=>{t.d(p,{E:()=>h,c:()=>m});var a=t(3414);const h=new a.y(i=>i.complete());function m(i){return i?function d(i){return new a.y(c=>i.schedule(()=>c.complete()))}(i):h}},9412:(x,p,t)=>{t.d(p,{D:()=>d});var a=t(3414),h=t(9846),m=t(4542);function d(i,c){return c?(0,m.x)(i,c):i instanceof a.y?i:new a.y((0,h.s)(i))}},6693:(x,p,t)=>{t.d(p,{n:()=>d});var a=t(3414),h=t(5015),m=t(4087);function d(i,c){return c?(0,m.r)(i,c):new a.y((0,h.V)(i))}},6682:(x,p,t)=>{t.d(p,{T:()=>i});var a=t(3414),h=t(4869),m=t(3282),d=t(6693);function i(...c){let f=Number.POSITIVE_INFINITY,l=null,u=c[c.length-1];return(0,h.K)(u)?(l=c.pop(),c.length>1&&"number"==typeof c[c.length-1]&&(f=c.pop())):"number"==typeof u&&(f=c.pop()),null===l&&1===c.length&&c[0]instanceof a.y?c[0]:(0,m.J)(f)((0,d.n)(c,l))}},5917:(x,p,t)=>{t.d(p,{of:()=>d});var a=t(4869),h=t(6693),m=t(4087);function d(...i){let c=i[i.length-1];return(0,a.K)(c)?(i.pop(),(0,m.r)(i,c)):(0,h.n)(i)}},8085:(x,p,t)=>{t.d(p,{S3:()=>i});var a=t(9796),h=t(6693),m=t(5197),d=t(3960);function i(...l){if(1===l.length){if(!(0,a.k)(l[0]))return l[0];l=l[0]}return(0,h.n)(l,void 0).lift(new c)}class c{call(u,e){return e.subscribe(new f(u))}}class f extends m.L{constructor(u){super(u),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(u){this.observables.push(u)}_complete(){const u=this.observables,e=u.length;if(0===e)this.destination.complete();else{for(let r=0;r<e&&!this.hasFirst;r++){const s=(0,d.D)(this,u[r],void 0,r);this.subscriptions&&this.subscriptions.push(s),this.add(s)}this.observables=null}}notifyNext(u,e,r){if(!this.hasFirst){this.hasFirst=!0;for(let n=0;n<this.subscriptions.length;n++)if(n!==r){let s=this.subscriptions[n];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(e)}}},205:(x,p,t)=>{t.d(p,{_:()=>h});var a=t(3414);function h(d,i){return new a.y(i?c=>i.schedule(m,0,{error:d,subscriber:c}):c=>c.error(d))}function m({error:d,subscriber:i}){i.error(d)}},6797:(x,p,t)=>{t.d(p,{H:()=>i});var a=t(3414),h=t(3637),m=t(6561),d=t(4869);function i(f=0,l,u){let e=-1;return(0,m.k)(l)?e=Number(l)<1?1:Number(l):(0,d.K)(l)&&(u=l),(0,d.K)(u)||(u=h.P),new a.y(r=>{const n=(0,m.k)(f)?f:+f-u.now();return u.schedule(c,n,{index:0,period:e,subscriber:r})})}function c(f){const{index:l,period:u,subscriber:e}=f;if(e.next(l),!e.closed){if(-1===u)return e.complete();f.index=l+1,this.schedule(f,u)}}},1571:(x,p,t)=>{t.d(p,{$R:()=>c,mx:()=>f});var a=t(6693),h=t(9796),m=t(7393),d=t(377),i=t(5345);function c(...n){const s=n[n.length-1];return"function"==typeof s&&n.pop(),(0,a.n)(n,void 0).lift(new f(s))}class f{constructor(s){this.resultSelector=s}call(s,o){return o.subscribe(new l(s,this.resultSelector))}}class l extends m.L{constructor(s,o,y=Object.create(null)){super(s),this.resultSelector=o,this.iterators=[],this.active=0,this.resultSelector="function"==typeof o?o:void 0}_next(s){const o=this.iterators;(0,h.k)(s)?o.push(new e(s)):o.push("function"==typeof s[d.hZ]?new u(s[d.hZ]()):new r(this.destination,this,s))}_complete(){const s=this.iterators,o=s.length;if(this.unsubscribe(),0!==o){this.active=o;for(let y=0;y<o;y++){let P=s[y];P.stillUnsubscribed?this.destination.add(P.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const s=this.iterators,o=s.length,y=this.destination;for(let A=0;A<o;A++){let C=s[A];if("function"==typeof C.hasValue&&!C.hasValue())return}let P=!1;const M=[];for(let A=0;A<o;A++){let C=s[A],L=C.next();if(C.hasCompleted()&&(P=!0),L.done)return void y.complete();M.push(L.value)}this.resultSelector?this._tryresultSelector(M):y.next(M),P&&y.complete()}_tryresultSelector(s){let o;try{o=this.resultSelector.apply(this,s)}catch(y){return void this.destination.error(y)}this.destination.next(o)}}class u{constructor(s){this.iterator=s,this.nextResult=s.next()}hasValue(){return!0}next(){const s=this.nextResult;return this.nextResult=this.iterator.next(),s}hasCompleted(){const s=this.nextResult;return Boolean(s&&s.done)}}class e{constructor(s){this.array=s,this.index=0,this.length=0,this.length=s.length}[d.hZ](){return this}next(s){const o=this.index++;return o<this.length?{value:this.array[o],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class r extends i.Ds{constructor(s,o,y){super(s),this.parent=o,this.observable=y,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[d.hZ](){return this}next(){const s=this.buffer;return 0===s.length&&this.isComplete?{value:null,done:!0}:{value:s.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(s){this.buffer.push(s),this.parent.checkIterators()}subscribe(){return(0,i.ft)(this.observable,new i.IY(this))}}},5766:(x,p,t)=>{t.d(p,{u:()=>h});var a=t(3282);function h(){return(0,a.J)(1)}},5435:(x,p,t)=>{t.d(p,{h:()=>h});var a=t(7393);function h(i,c){return function(l){return l.lift(new m(i,c))}}class m{constructor(c,f){this.predicate=c,this.thisArg=f}call(c,f){return f.subscribe(new d(c,this.predicate,this.thisArg))}}class d extends a.L{constructor(c,f,l){super(c),this.predicate=f,this.thisArg=l,this.count=0}_next(c){let f;try{f=this.predicate.call(this.thisArg,c,this.count++)}catch(l){return void this.destination.error(l)}f&&this.destination.next(c)}}},304:(x,p,t)=>{t.d(p,{v:()=>i,T:()=>u});var a=t(7393),h=t(826),m=t(3414),d=t(9765);function i(r,n,s,o){return y=>y.lift(new c(r,n,s,o))}class c{constructor(n,s,o,y){this.keySelector=n,this.elementSelector=s,this.durationSelector=o,this.subjectSelector=y}call(n,s){return s.subscribe(new f(n,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class f extends a.L{constructor(n,s,o,y,P){super(n),this.keySelector=s,this.elementSelector=o,this.durationSelector=y,this.subjectSelector=P,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(n){let s;try{s=this.keySelector(n)}catch(o){return void this.error(o)}this._group(n,s)}_group(n,s){let o=this.groups;o||(o=this.groups=new Map);let P,y=o.get(s);if(this.elementSelector)try{P=this.elementSelector(n)}catch(M){this.error(M)}else P=n;if(!y){y=this.subjectSelector?this.subjectSelector():new d.xQ,o.set(s,y);const M=new u(s,y,this);if(this.destination.next(M),this.durationSelector){let A;try{A=this.durationSelector(new u(s,y))}catch(C){return void this.error(C)}this.add(A.subscribe(new l(s,y,this)))}}y.closed||y.next(P)}_error(n){const s=this.groups;s&&(s.forEach((o,y)=>{o.error(n)}),s.clear()),this.destination.error(n)}_complete(){const n=this.groups;n&&(n.forEach((s,o)=>{s.complete()}),n.clear()),this.destination.complete()}removeGroup(n){this.groups.delete(n)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class l extends a.L{constructor(n,s,o){super(s),this.key=n,this.group=s,this.parent=o}_next(n){this.complete()}_unsubscribe(){const{parent:n,key:s}=this;this.key=this.parent=null,n&&n.removeGroup(s)}}class u extends m.y{constructor(n,s,o){super(),this.key=n,this.groupSubject=s,this.refCountSubscription=o}_subscribe(n){const s=new h.w,{refCountSubscription:o,groupSubject:y}=this;return o&&!o.closed&&s.add(new e(o)),s.add(y.subscribe(n)),s}}class e extends h.w{constructor(n){super(),this.parent=n,n.count++}unsubscribe(){const n=this.parent;!n.closed&&!this.closed&&(super.unsubscribe(),n.count-=1,0===n.count&&n.attemptedToUnsubscribe&&n.unsubscribe())}}},8002:(x,p,t)=>{t.d(p,{U:()=>h});var a=t(7393);function h(i,c){return function(l){if("function"!=typeof i)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return l.lift(new m(i,c))}}class m{constructor(c,f){this.project=c,this.thisArg=f}call(c,f){return f.subscribe(new d(c,this.project,this.thisArg))}}class d extends a.L{constructor(c,f,l){super(c),this.project=f,this.count=0,this.thisArg=l||this}_next(c){let f;try{f=this.project.call(this.thisArg,c,this.count++)}catch(l){return void this.destination.error(l)}this.destination.next(f)}}},3282:(x,p,t)=>{t.d(p,{J:()=>m});var a=t(9773),h=t(4487);function m(d=Number.POSITIVE_INFINITY){return(0,a.zg)(h.y,d)}},9773:(x,p,t)=>{t.d(p,{zg:()=>d,VS:()=>f});var a=t(8002),h=t(9412),m=t(5345);function d(l,u,e=Number.POSITIVE_INFINITY){return"function"==typeof u?r=>r.pipe(d((n,s)=>(0,h.D)(l(n,s)).pipe((0,a.U)((o,y)=>u(n,o,s,y))),e)):("number"==typeof u&&(e=u),r=>r.lift(new i(l,e)))}class i{constructor(u,e=Number.POSITIVE_INFINITY){this.project=u,this.concurrent=e}call(u,e){return e.subscribe(new c(u,this.project,this.concurrent))}}class c extends m.Ds{constructor(u,e,r=Number.POSITIVE_INFINITY){super(u),this.project=e,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(u){this.active<this.concurrent?this._tryNext(u):this.buffer.push(u)}_tryNext(u){let e;const r=this.index++;try{e=this.project(u,r)}catch(n){return void this.destination.error(n)}this.active++,this._innerSub(e)}_innerSub(u){const e=new m.IY(this),r=this.destination;r.add(e);const n=(0,m.ft)(u,e);n!==e&&r.add(n)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(u){this.destination.next(u)}notifyComplete(){const u=this.buffer;this.active--,u.length>0?this._next(u.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}const f=d},9746:(x,p,t)=>{t.d(p,{QV:()=>m,ht:()=>i});var a=t(7393),h=t(3098);function m(f,l=0){return function(e){return e.lift(new d(f,l))}}class d{constructor(l,u=0){this.scheduler=l,this.delay=u}call(l,u){return u.subscribe(new i(l,this.scheduler,this.delay))}}class i extends a.L{constructor(l,u,e=0){super(l),this.scheduler=u,this.delay=e}static dispatch(l){const{notification:u,destination:e}=l;u.observe(e),this.unsubscribe()}scheduleMessage(l){this.destination.add(this.scheduler.schedule(i.dispatch,this.delay,new c(l,this.destination)))}_next(l){this.scheduleMessage(h.P.createNext(l))}_error(l){this.scheduleMessage(h.P.createError(l)),this.unsubscribe()}_complete(){this.scheduleMessage(h.P.createComplete()),this.unsubscribe()}}class c{constructor(l,u){this.notification=l,this.destination=u}}},1307:(x,p,t)=>{t.d(p,{x:()=>h});var a=t(7393);function h(){return function(c){return c.lift(new m(c))}}class m{constructor(c){this.connectable=c}call(c,f){const{connectable:l}=this;l._refCount++;const u=new d(c,l),e=f.subscribe(u);return u.closed||(u.connection=l.connect()),e}}class d extends a.L{constructor(c,f){super(c),this.connectable=f}_unsubscribe(){const{connectable:c}=this;if(!c)return void(this.connection=null);this.connectable=null;const f=c._refCount;if(f<=0)return void(this.connection=null);if(c._refCount=f-1,f>1)return void(this.connection=null);const{connection:l}=this,u=c._connection;this.connection=null,u&&(!l||u===l)&&u.unsubscribe()}}},4087:(x,p,t)=>{t.d(p,{r:()=>m});var a=t(3414),h=t(826);function m(d,i){return new a.y(c=>{const f=new h.w;let l=0;return f.add(i.schedule(function(){l!==d.length?(c.next(d[l++]),c.closed||f.add(this.schedule())):c.complete()})),f})}},4542:(x,p,t)=>{t.d(p,{x:()=>s});var a=t(3414),h=t(826),m=t(6554),c=t(4087),f=t(377),e=t(4072),r=t(9489);function s(o,y){if(null!=o){if(function u(o){return o&&"function"==typeof o[m.L]}(o))return function d(o,y){return new a.y(P=>{const M=new h.w;return M.add(y.schedule(()=>{const A=o[m.L]();M.add(A.subscribe({next(C){M.add(y.schedule(()=>P.next(C)))},error(C){M.add(y.schedule(()=>P.error(C)))},complete(){M.add(y.schedule(()=>P.complete()))}}))})),M})}(o,y);if((0,e.t)(o))return function i(o,y){return new a.y(P=>{const M=new h.w;return M.add(y.schedule(()=>o.then(A=>{M.add(y.schedule(()=>{P.next(A),M.add(y.schedule(()=>P.complete()))}))},A=>{M.add(y.schedule(()=>P.error(A)))}))),M})}(o,y);if((0,r.z)(o))return(0,c.r)(o,y);if(function n(o){return o&&"function"==typeof o[f.hZ]}(o)||"string"==typeof o)return function l(o,y){if(!o)throw new Error("Iterable cannot be null");return new a.y(P=>{const M=new h.w;let A;return M.add(()=>{A&&"function"==typeof A.return&&A.return()}),M.add(y.schedule(()=>{A=o[f.hZ](),M.add(y.schedule(function(){if(P.closed)return;let C,L;try{const w=A.next();C=w.value,L=w.done}catch(w){return void P.error(w)}L?P.complete():(P.next(C),this.schedule())}))})),M})}(o,y)}throw new TypeError((null!==o&&typeof o||o)+" is not observable")}},3989:(x,p,t)=>{t.d(p,{o:()=>m});var a=t(826);class h extends a.w{constructor(i,c){super()}schedule(i,c=0){return this}}class m extends h{constructor(i,c){super(i,c),this.scheduler=i,this.work=c,this.pending=!1}schedule(i,c=0){if(this.closed)return this;this.state=i;const f=this.id,l=this.scheduler;return null!=f&&(this.id=this.recycleAsyncId(l,f,c)),this.pending=!0,this.delay=c,this.id=this.id||this.requestAsyncId(l,this.id,c),this}requestAsyncId(i,c,f=0){return setInterval(i.flush.bind(i,this),f)}recycleAsyncId(i,c,f=0){if(null!==f&&this.delay===f&&!1===this.pending)return c;clearInterval(c)}execute(i,c){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const f=this._execute(i,c);if(f)return f;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,c){let l,f=!1;try{this.work(i)}catch(u){f=!0,l=!!u&&u||new Error(u)}if(f)return this.unsubscribe(),l}_unsubscribe(){const i=this.id,c=this.scheduler,f=c.actions,l=f.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==l&&f.splice(l,1),null!=i&&(this.id=this.recycleAsyncId(c,i,null)),this.delay=null}}},4548:(x,p,t)=>{t.d(p,{v:()=>h});var a=t(2217);class h extends a.b{constructor(d,i=a.b.now){super(d,()=>h.delegate&&h.delegate!==this?h.delegate.now():i()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(d,i=0,c){return h.delegate&&h.delegate!==this?h.delegate.schedule(d,i,c):super.schedule(d,i,c)}flush(d){const{actions:i}=this;if(this.active)return void i.push(d);let c;this.active=!0;do{if(c=d.execute(d.state,d.delay))break}while(d=i.shift());if(this.active=!1,c){for(;d=i.shift();)d.unsubscribe();throw c}}}},4713:(x,p,t)=>{t.d(p,{e:()=>n,E:()=>r});let a=1;const h=Promise.resolve(),m={};function d(s){return s in m&&(delete m[s],!0)}const i={setImmediate(s){const o=a++;return m[o]=!0,h.then(()=>d(o)&&s()),o},clearImmediate(s){d(s)}};var f=t(3989),u=t(4548);const r=new class e extends u.v{flush(o){this.active=!0,this.scheduled=void 0;const{actions:y}=this;let P,M=-1,A=y.length;o=o||y.shift();do{if(P=o.execute(o.state,o.delay))break}while(++M<A&&(o=y.shift()));if(this.active=!1,P){for(;++M<A&&(o=y.shift());)o.unsubscribe();throw P}}}(class l extends f.o{constructor(o,y){super(o,y),this.scheduler=o,this.work=y}requestAsyncId(o,y,P=0){return null!==P&&P>0?super.requestAsyncId(o,y,P):(o.actions.push(this),o.scheduled||(o.scheduled=i.setImmediate(o.flush.bind(o,null))))}recycleAsyncId(o,y,P=0){if(null!==P&&P>0||null===P&&this.delay>0)return super.recycleAsyncId(o,y,P);0===o.actions.length&&(i.clearImmediate(y),o.scheduled=void 0)}}),n=r},3637:(x,p,t)=>{t.d(p,{z:()=>m,P:()=>d});var a=t(3989);const m=new(t(4548).v)(a.o),d=m},3951:(x,p,t)=>{t.d(p,{c:()=>c,N:()=>i});var a=t(3989),m=t(4548);const i=new class d extends m.v{}(class h extends a.o{constructor(l,u){super(l,u),this.scheduler=l,this.work=u}schedule(l,u=0){return u>0?super.schedule(l,u):(this.delay=u,this.state=l,this.scheduler.flush(this),this)}execute(l,u){return u>0||this.closed?super.execute(l,u):this._execute(l,u)}requestAsyncId(l,u,e=0){return null!==e&&e>0||null===e&&this.delay>0?super.requestAsyncId(l,u,e):l.flush(this)}}),c=i},377:(x,p,t)=>{t.d(p,{hZ:()=>h});const h=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},6554:(x,p,t)=>{t.d(p,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(x,p,t)=>{t.d(p,{b:()=>a});const a="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(x,p,t)=>{t.d(p,{W:()=>h});const h=(()=>{function m(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return m.prototype=Object.create(Error.prototype),m})()},3410:(x,p,t)=>{t.d(p,{K:()=>h});const h=(()=>{function m(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return m.prototype=Object.create(Error.prototype),m})()},7971:(x,p,t)=>{t.d(p,{N:()=>h});const h=(()=>{function m(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return m.prototype=Object.create(Error.prototype),m})()},5587:(x,p,t)=>{t.d(p,{W:()=>h});const h=(()=>{function m(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return m.prototype=Object.create(Error.prototype),m})()},7744:(x,p,t)=>{t.d(p,{B:()=>h});const h=(()=>{function m(d){return Error.call(this),this.message=d?`${d.length} errors occurred during unsubscription:\n${d.map((i,c)=>`${c+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=d,this}return m.prototype=Object.create(Error.prototype),m})()},3179:(x,p,t)=>{t.d(p,{_:()=>h});var a=t(7393);function h(m){for(;m;){const{closed:d,destination:i,isStopped:c}=m;if(d||c)return!1;m=i&&i instanceof a.L?i:null}return!0}},4449:(x,p,t)=>{function a(h){setTimeout(()=>{throw h},0)}t.d(p,{z:()=>a})},4487:(x,p,t)=>{function a(h){return h}t.d(p,{y:()=>a})},9796:(x,p,t)=>{t.d(p,{k:()=>a});const a=Array.isArray||(h=>h&&"number"==typeof h.length)},9489:(x,p,t)=>{t.d(p,{z:()=>a});const a=h=>h&&"number"==typeof h.length&&"function"!=typeof h},9105:(x,p,t)=>{function a(h){return"function"==typeof h}t.d(p,{m:()=>a})},6561:(x,p,t)=>{t.d(p,{k:()=>h});var a=t(9796);function h(m){return!(0,a.k)(m)&&m-parseFloat(m)+1>=0}},1555:(x,p,t)=>{function a(h){return null!==h&&"object"==typeof h}t.d(p,{K:()=>a})},4072:(x,p,t)=>{function a(h){return!!h&&"function"!=typeof h.subscribe&&"function"==typeof h.then}t.d(p,{t:()=>a})},4869:(x,p,t)=>{function a(h){return h&&"function"==typeof h.schedule}t.d(p,{K:()=>a})},8640:(x,p,t)=>{function a(){}t.d(p,{Z:()=>a})},9264:(x,p,t)=>{function a(h,m){function d(){return!d.pred.apply(d.thisArg,arguments)}return d.pred=h,d.thisArg=m,d}t.d(p,{f:()=>a})},4022:(x,p,t)=>{t.d(p,{z:()=>h,U:()=>m});var a=t(4487);function h(...d){return m(d)}function m(d){return 0===d.length?a.y:1===d.length?d[0]:function(c){return d.reduce((f,l)=>l(f),c)}}},9846:(x,p,t)=>{t.d(p,{s:()=>r});var a=t(5015),h=t(4449),d=t(377),c=t(6554),l=t(9489),u=t(4072),e=t(1555);const r=n=>{if(n&&"function"==typeof n[c.L])return(n=>s=>{const o=n[c.L]();if("function"!=typeof o.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return o.subscribe(s)})(n);if((0,l.z)(n))return(0,a.V)(n);if((0,u.t)(n))return(n=>s=>(n.then(o=>{s.closed||(s.next(o),s.complete())},o=>s.error(o)).then(null,h.z),s))(n);if(n&&"function"==typeof n[d.hZ])return(n=>s=>{const o=n[d.hZ]();for(;;){let y;try{y=o.next()}catch(P){return s.error(P),s}if(y.done){s.complete();break}if(s.next(y.value),s.closed)break}return"function"==typeof o.return&&s.add(()=>{o.return&&o.return()}),s})(n);{const o=`You provided ${(0,e.K)(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(o)}}},5015:(x,p,t)=>{t.d(p,{V:()=>a});const a=h=>m=>{for(let d=0,i=h.length;d<i&&!m.closed;d++)m.next(h[d]);m.complete()}},3960:(x,p,t)=>{t.d(p,{D:()=>i});var a=t(7393);class h extends a.L{constructor(f,l,u){super(),this.parent=f,this.outerValue=l,this.outerIndex=u,this.index=0}_next(f){this.parent.notifyNext(this.outerValue,f,this.outerIndex,this.index++,this)}_error(f){this.parent.notifyError(f,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var m=t(9846),d=t(3414);function i(c,f,l,u,e=new h(c,l,u)){if(!e.closed)return f instanceof d.y?f.subscribe(e):(0,m.s)(f)(e)}}}]);
(self.webpackChunkmfComponents=self.webpackChunkmfComponents||[]).push([[306],{9425:(ht,ze,R)=>{R.d(ze,{aU:()=>ln,fN:()=>V,$l:()=>Zt,Ph:()=>Pi,Qf:()=>qt,ZM:()=>ai,yh:()=>mi,Oi:()=>Zi,f4:()=>pe,NA:()=>Le,sO:()=>Ce});var l=R(7451),w=R(824);function J(x,re){return x===re}function Q(x,re,F){if(null===re||null===F||re.length!==F.length)return!1;const q=re.length;for(let Me=0;Me<q;Me++)if(!x(re[Me],F[Me]))return!1;return!0}function r(x,re=J){let F=null,q=null;function Me(){return Q(re,F,arguments)||(q=x.apply(null,arguments)),F=arguments,q}return Me.reset=function(){F=null,q=null},Me}const _e=r(function De(){const x=(0,l.getPlatform)();if(!x)return!1;const re=x.injector.get(l.COMPILER_OPTIONS,null);return!!re&&re.some(q=>(q&&q.providers||[]).some(Ne=>Ne&&Ne.provide&&"MockNgModuleResolver"===Ne.provide.name||!1))});let Ie=(()=>{class x{constructor(){this.bootstrap$=new w.ReplaySubject(1)}get appBootstrapped$(){return this.bootstrap$.asObservable()}bootstrap(){this.bootstrap$.next(!0),this.bootstrap$.complete()}}return x.\u0275fac=function(F){return new(F||x)},x.\u0275prov=l.\u0275\u0275defineInjectable({token:x,factory:x.\u0275fac}),x})();const K=new l.InjectionToken("INITIAL_STATE_TOKEN");let xe=(()=>{class x{static set(F){this.value=F}static pop(){const F=this.value;return this.value={},F}}return x.value={},x})();const P=new l.InjectionToken("Internals.StateContextFactory"),z=new l.InjectionToken("Internals.StateFactory");var y=R(3192),v=R(5033);const B={STATE_NAME:x=>`${x} is not a valid state name. It needs to be a valid object property name.`,STATE_NAME_PROPERTY:()=>"States must register a 'name' property",STATE_UNIQUE:(x,re,F)=>`State name '${x}' from ${re} already exists in ${F}`,STATE_DECORATOR:()=>"States must be decorated with @State() decorator",INCORRECT_PRODUCTION:()=>"Angular is running in production mode but NGXS is still running in the development mode!\nPlease set developmentMode to false on the NgxsModule options when in production mode.\nNgxsModule.forRoot(states, { developmentMode: !environment.production })",INCORRECT_DEVELOPMENT:()=>"RECOMMENDATION: Set developmentMode to true on the NgxsModule when Angular is running in development mode.\nNgxsModule.forRoot(states, { developmentMode: !environment.production })",SELECT_FACTORY_NOT_CONNECTED:()=>"You have forgotten to import the NGXS module!",ACTION_DECORATOR:()=>"@Action() decorator cannot be used with static methods",SELECTOR_DECORATOR:()=>"Selectors only work on methods",ZONE_WARNING:()=>"Your application was bootstrapped with nooped zone and your execution strategy requires an actual NgZone!\nPlease set the value of the executionStrategy property to NoopNgxsExecutionStrategy.\nNgxsModule.forRoot(states, { executionStrategy: NoopNgxsExecutionStrategy })",PATCHING_ARRAY:()=>"Patching arrays is not supported.",PATCHING_PRIMITIVE:()=>"Patching primitives is not supported.",UNDECORATED_STATE_IN_IVY:x=>`'${x}' class should be decorated with @Injectable() right after the @State() decorator`};let de=(()=>{class x{constructor(F,q){this._ngZone=F,this._platformId=q,this.verifyZoneIsNotNooped(this._ngZone)}enter(F){return(0,y.isPlatformServer)(this._platformId)?this.runInsideAngular(F):this.runOutsideAngular(F)}leave(F){return this.runInsideAngular(F)}runInsideAngular(F){return l.NgZone.isInAngularZone()?F():this._ngZone.run(F)}runOutsideAngular(F){return l.NgZone.isInAngularZone()?this._ngZone.runOutsideAngular(F):F()}verifyZoneIsNotNooped(F){F instanceof l.NgZone||console.warn(B.ZONE_WARNING())}}return x.\u0275fac=function(F){return new(F||x)(l.\u0275\u0275inject(l.NgZone),l.\u0275\u0275inject(l.PLATFORM_ID))},x.\u0275prov=l.\u0275\u0275defineInjectable({token:x,factory:x.\u0275fac}),x})();const Te=new l.InjectionToken("ROOT_STATE_TOKEN"),Oe=new l.InjectionToken("FEATURE_STATE_TOKEN"),V=new l.InjectionToken("NGXS_PLUGINS"),Ve=new l.InjectionToken("NG_TEST_MODE"),ce=new l.InjectionToken("NG_DEV_MODE"),Pe="NGXS_META",ge="NGXS_OPTIONS_META",Be="NGXS_SELECTOR_META";let we=(()=>{class x{constructor(){this.defaultsState={},this.selectorOptions={injectContainerState:!0,suppressErrors:!0},this.compatibility={strictContentSecurityPolicy:!1},this.executionStrategy=de}}return x.\u0275fac=function(F){return new(F||x)},x.\u0275prov=l.\u0275\u0275defineInjectable({token:x,factory:x.\u0275fac}),x})();class me{constructor(re,F,q){this.previousValue=re,this.currentValue=F,this.firstChange=q}}const ie=new l.InjectionToken("NGXS_EXECUTION_STRATEGY");function pe(x){return x.constructor&&x.constructor.type?x.constructor.type:x.type}const Ce=(x,re,F)=>{x=Object.assign({},x);const q=re.split("."),Me=q.length-1;return q.reduce((Ne,$e,rt)=>(Ne[$e]=rt===Me?F:Array.isArray(Ne[$e])?Ne[$e].slice():Object.assign({},Ne[$e]),Ne&&Ne[$e]),x),x},Le=(x,re)=>re.split(".").reduce((F,q)=>F&&F[q],x),Qe=x=>x&&"object"==typeof x&&!Array.isArray(x),Ze=(x,...re)=>{if(!re.length)return x;const F=re.shift();if(Qe(x)&&Qe(F))for(const q in F)Qe(F[q])?(x[q]||Object.assign(x,{[q]:{}}),Ze(x[q],F[q])):Object.assign(x,{[q]:F[q]});return Ze(x,...re)};function U(x){if(!x.hasOwnProperty(Pe)){const re={name:null,actions:{},defaults:{},path:null,makeRootSelector:F=>F.getStateGetter(re.name),children:[]};Object.defineProperty(x,Pe,{value:re})}return se(x)}function se(x){return x[Pe]}function Ae(x){return x[Be]}function Xe(x,re){return re&&re.compatibility&&re.compatibility.strictContentSecurityPolicy?function Ge(x){const re=x.slice();return F=>re.reduce((q,Me)=>q&&q[Me],F)}(x):function tt(x){const re=x;let F="store."+re[0],q=0;const Me=re.length;let Ne=F;for(;++q<Me;)Ne=Ne+" && "+(F=F+"."+re[q]);return new Function("store","return "+Ne+";")}(x)}function Tt(x,re){const F=Le(re.currentAppState,x.path),q=Le(re.newAppState,x.path);return new me(F,q,!x.isInitialised)}function Kt(...x){return function b(x,re,F=ue){const q=function G(x){return x.reduce((re,F)=>(re[pe(F)]=!0,re),{})}(x),Me=re&&function W(x){return x.reduce((re,F)=>(re[F]=!0,re),{})}(re);return function(Ne){return Ne.pipe(function E(x,re){return(0,v.filter)(F=>{const q=pe(F.action);return x[q]&&(!re||re[F.status])})}(q,Me),F())}}(x,["DISPATCHED"])}function ue(){return(0,v.map)(x=>x.action)}function ve(x){return re=>new w.Observable(F=>re.subscribe({next(q){x.leave(()=>F.next(q))},error(q){x.leave(()=>F.error(q))},complete(){x.leave(()=>F.complete())}}))}let Ye=(()=>{class x{constructor(F){this._executionStrategy=F}enter(F){return this._executionStrategy.enter(F)}leave(F){return this._executionStrategy.leave(F)}}return x.\u0275fac=function(F){return new(F||x)(l.\u0275\u0275inject(ie))},x.\u0275prov=l.\u0275\u0275defineInjectable({token:x,factory:x.\u0275fac}),x})();class Dt extends w.Subject{constructor(){super(...arguments),this._itemQueue=[],this._busyPushingNext=!1}next(re){if(this._busyPushingNext)this._itemQueue.unshift(re);else{for(this._busyPushingNext=!0,super.next(re);this._itemQueue.length>0;){const F=this._itemQueue.pop();super.next(F)}this._busyPushingNext=!1}}}let Ht=(()=>{class x extends Dt{}return x.\u0275fac=function(){let re;return function(q){return(re||(re=l.\u0275\u0275getInheritedFactory(x)))(q||x)}}(),x.\u0275prov=l.\u0275\u0275defineInjectable({token:x,factory:x.\u0275fac}),x})(),Lt=(()=>{class x extends w.Observable{constructor(F,q){super(Me=>{const Ne=F.pipe(ve(q)).subscribe({next:$e=>Me.next($e),error:$e=>Me.error($e),complete:()=>Me.complete()});Me.add(Ne)})}}return x.\u0275fac=function(F){return new(F||x)(l.\u0275\u0275inject(Ht),l.\u0275\u0275inject(Ye))},x.\u0275prov=l.\u0275\u0275defineInjectable({token:x,factory:x.\u0275fac}),x})();const ee=x=>(...re)=>x.shift()(...re,(...q)=>ee(x)(...q));let S=(()=>{class x extends w.BehaviorSubject{constructor(){super({})}}return x.\u0275fac=function(F){return new(F||x)},x.\u0275prov=l.\u0275\u0275defineInjectable({token:x,factory:x.\u0275fac}),x})(),f=(()=>{class x{constructor(F,q){this._parentManager=F,this._pluginHandlers=q,this.plugins=[],this.registerHandlers()}get rootPlugins(){return this._parentManager&&this._parentManager.plugins||this.plugins}registerHandlers(){const F=this.getPluginHandlers();this.rootPlugins.push(...F)}getPluginHandlers(){return(this._pluginHandlers||[]).map(q=>q.handle?q.handle.bind(q):q)}}return x.\u0275fac=function(F){return new(F||x)(l.\u0275\u0275inject(x,12),l.\u0275\u0275inject(V,8))},x.\u0275prov=l.\u0275\u0275defineInjectable({token:x,factory:x.\u0275fac}),x})(),g=(()=>{class x extends w.Subject{}return x.\u0275fac=function(){let re;return function(q){return(re||(re=l.\u0275\u0275getInheritedFactory(x)))(q||x)}}(),x.\u0275prov=l.\u0275\u0275defineInjectable({token:x,factory:x.\u0275fac}),x})(),D=(()=>{class x{constructor(F,q,Me,Ne,$e,rt){this._injector=F,this._actions=q,this._actionResults=Me,this._pluginManager=Ne,this._stateStream=$e,this._ngxsExecutionStrategy=rt}dispatch(F){const q=this._ngxsExecutionStrategy.enter(()=>this.dispatchByEvents(F));return q.subscribe({error:Me=>this._ngxsExecutionStrategy.leave(()=>{try{this._errorHandler=this._errorHandler||this._injector.get(l.ErrorHandler),this._errorHandler.handleError(Me)}catch{}})}),q.pipe(ve(this._ngxsExecutionStrategy))}dispatchByEvents(F){return Array.isArray(F)?0===F.length?(0,w.of)(this._stateStream.getValue()):(0,w.forkJoin)(F.map(q=>this.dispatchSingle(q))):this.dispatchSingle(F)}dispatchSingle(F){if(!pe(F)){const $e=new Error(`This action doesn't have a type property: ${F.constructor.name}`);return(0,w.throwError)($e)}const Me=this._stateStream.getValue();return ee([...this._pluginManager.plugins,($e,rt)=>{$e!==Me&&this._stateStream.next($e);const dt=this.getActionResultStream(rt);return dt.subscribe(vt=>this._actions.next(vt)),this._actions.next({action:rt,status:"DISPATCHED"}),this.createDispatchObservable(dt)}])(Me,F).pipe((0,v.shareReplay)())}getActionResultStream(F){return this._actionResults.pipe((0,v.filter)(q=>q.action===F&&"DISPATCHED"!==q.status),(0,v.take)(1),(0,v.shareReplay)())}createDispatchObservable(F){return F.pipe((0,v.exhaustMap)(q=>{switch(q.status){case"SUCCESSFUL":return(0,w.of)(this._stateStream.getValue());case"ERRORED":return(0,w.throwError)(q.error);default:return w.EMPTY}})).pipe((0,v.shareReplay)())}}return x.\u0275fac=function(F){return new(F||x)(l.\u0275\u0275inject(l.Injector),l.\u0275\u0275inject(Ht),l.\u0275\u0275inject(g),l.\u0275\u0275inject(f),l.\u0275\u0275inject(S),l.\u0275\u0275inject(Ye))},x.\u0275prov=l.\u0275\u0275defineInjectable({token:x,factory:x.\u0275fac}),x})();const Z=x=>{Object.freeze(x);const re="function"==typeof x,F=Object.prototype.hasOwnProperty;return Object.getOwnPropertyNames(x).forEach(function(q){F.call(x,q)&&(!re||"caller"!==q&&"callee"!==q&&"arguments"!==q)&&null!==x[q]&&("object"==typeof x[q]||"function"==typeof x[q])&&!Object.isFrozen(x[q])&&Z(x[q])}),x};let be=(()=>{class x{constructor(F,q){this.isDevMode=F,this.isTestMode=q}}return x.\u0275fac=function(F){return new(F||x)(l.\u0275\u0275inject(ce),l.\u0275\u0275inject(Ve))},x.\u0275prov=l.\u0275\u0275defineInjectable({token:x,factory:x.\u0275fac}),x})(),Ue=(()=>{class x{constructor(F,q){this._host=F,this._config=q}get isIncorrectProduction(){return!this._host.isDevMode()&&this._config.developmentMode}get isIncorrectDevelopment(){return this._host.isDevMode()&&!this._config.developmentMode}verifyDevMode(){this._host.isTestMode()||(this.isIncorrectProduction?console.warn(B.INCORRECT_PRODUCTION()):this.isIncorrectDevelopment&&console.warn(B.INCORRECT_DEVELOPMENT()))}}return x.\u0275fac=function(F){return new(F||x)(l.\u0275\u0275inject(be),l.\u0275\u0275inject(we))},x.\u0275prov=l.\u0275\u0275defineInjectable({token:x,factory:x.\u0275fac}),x})(),et=(()=>{class x{constructor(F,q,Me,Ne){this._stateStream=F,this._dispatcher=q,this._config=Me,Ne.verifyDevMode()}getRootStateOperations(){const F={getState:()=>this._stateStream.getValue(),setState:q=>this._stateStream.next(q),dispatch:q=>this._dispatcher.dispatch(q)};return this._config.developmentMode?this.ensureStateAndActionsAreImmutable(F):F}ensureStateAndActionsAreImmutable(F){return{getState:()=>F.getState(),setState:q=>{const Me=Z(q);return F.setState(Me)},dispatch:q=>F.dispatch(q)}}setStateToTheCurrentWithNew(F){const q=this.getRootStateOperations(),Me=q.getState();q.setState(Object.assign({},Me,F.defaults))}}return x.\u0275fac=function(F){return new(F||x)(l.\u0275\u0275inject(S),l.\u0275\u0275inject(D),l.\u0275\u0275inject(we),l.\u0275\u0275inject(Ue))},x.\u0275prov=l.\u0275\u0275defineInjectable({token:x,factory:x.\u0275fac}),x})(),_t=(()=>{class x{constructor(F){this._internalStateOperations=F}createStateContext(F){const q=this._internalStateOperations.getRootStateOperations();function Me(dt){return Le(dt,F.path)}function Ne(dt,vt){const ft=Ce(dt,F.path,vt),$t=F.instance;if($t.ngxsOnChanges){const Qt=Tt(F,{currentAppState:dt,newAppState:ft});$t.ngxsOnChanges(Qt)}return q.setState(ft),ft}function $e(dt,vt){return Ne(dt,vt(Me(dt)))}return{getState:()=>Me(q.getState()),patchState(dt){const vt=q.getState(),ft=function xt(x){return re=>{if(Array.isArray(x))throw new Error(B.PATCHING_ARRAY());if("object"!=typeof x)throw new Error(B.PATCHING_PRIMITIVE());const F=Object.assign({},re);for(const q in x)F[q]=x[q];return F}}(dt);return $e(vt,ft)},setState(dt){const vt=q.getState();return function rt(dt){return"function"==typeof dt}(dt)?$e(vt,dt):Ne(vt,dt)},dispatch:dt=>q.dispatch(dt)}}}return x.\u0275fac=function(F){return new(F||x)(l.\u0275\u0275inject(et))},x.\u0275prov=l.\u0275\u0275defineInjectable({token:x,factory:x.\u0275fac}),x})();class ni{static stateNameErrorMessage(re){return B.STATE_NAME(re)}static checkCorrectStateName(re){if(!re)throw new Error(B.STATE_NAME_PROPERTY());if(!this.stateNameRegex.test(re))throw new Error(this.stateNameErrorMessage(re))}static checkStateNameIsUnique(re,F){const Me=this.getValidStateMeta(re).name,Ne=F[Me];if(Ne&&Ne!==re)throw new Error(B.STATE_UNIQUE(Me,re.name,Ne.name));return Me}static getValidStateMeta(re){const F=se(re);if(!F)throw new Error(B.STATE_DECORATOR());return F}}ni.stateNameRegex=new RegExp("^[a-zA-Z0-9_]+$");let Ut=(()=>{class x{constructor(F,q,Me,Ne,$e,rt,dt){this._injector=F,this._config=q,this._parentFactory=Me,this._actions=Ne,this._actionResults=$e,this._stateContextFactory=rt,this._initialState=dt,this._actionsSubscription=null,this._states=[],this._statesByName={},this._statePaths={},this.getRuntimeSelectorContext=r(()=>{const vt=this;function ft(Qt){const Bt=vt.statePaths[Qt];return Bt?Xe(Bt.split("."),vt._config):null}return this._parentFactory?this._parentFactory.getRuntimeSelectorContext():{getStateGetter(Qt){let Bt=ft(Qt);return Bt||((...fi)=>(Bt||(Bt=ft(Qt)),Bt?Bt(...fi):void 0))},getSelectorOptions:Qt=>Object.assign({},vt._config.selectorOptions,Qt||{})}})}get states(){return this._parentFactory?this._parentFactory.states:this._states}get statesByName(){return this._parentFactory?this._parentFactory.statesByName:this._statesByName}get statePaths(){return this._parentFactory?this._parentFactory.statePaths:this._statePaths}static cloneDefaults(F){let q={};return q=Array.isArray(F)?F.slice():function Pt(x){return"object"==typeof x&&null!==x||"function"==typeof x}(F)?Object.assign({},F):void 0===F?{}:F,q}static checkStatesAreValid(F){F.forEach(ni.getValidStateMeta)}ngOnDestroy(){this._actionsSubscription.unsubscribe()}add(F){x.checkStatesAreValid(F);const{newStates:q}=this.addToStatesMap(F);if(!q.length)return[];const Me=function st(x){const re=F=>{const q=x.find(Me=>Me===F);if(!q)throw new Error(`Child state not found: ${F}. \r\nYou may have forgotten to add states to module`);return q[Pe].name};return x.reduce((F,q)=>{const{name:Me,children:Ne}=q[Pe];return F[Me]=(Ne||[]).map(re),F},{})}(q),Ne=function Ot(x){const re=[],F={},q=(Me,Ne=[])=>{Array.isArray(Ne)||(Ne=[]),Ne.push(Me),F[Me]=!0,x[Me].forEach($e=>{if(Ne.indexOf($e)>=0)throw new Error(`Circular dependency '${$e}' is required by '${Me}': ${Ne.join(" -> ")}`);F[$e]||q($e,Ne.slice(0))}),re.indexOf(Me)<0&&re.push(Me)};return Object.keys(x).forEach(Me=>q(Me)),re.reverse()}(Me),$e=function Et(x,re={}){const F=(q,Me)=>{for(const Ne in q)if(q.hasOwnProperty(Ne)&&q[Ne].indexOf(Me)>=0){const $e=F(q,Ne);return null!==$e?`${$e}.${Ne}`:Ne}return null};for(const q in x)if(x.hasOwnProperty(q)){const Me=F(x,q);re[q]=Me?`${Me}.${q}`:q}return re}(Me),rt=function ot(x){return x.reduce((re,F)=>(re[F[Pe].name]=F,re),{})}(q),dt=[];for(const vt of Ne){const ft=rt[vt],$t=$e[vt],Qt=ft[Pe];this.addRuntimeInfoToMeta(Qt,$t);const Bt={name:vt,path:$t,isInitialised:!1,actions:Qt.actions,instance:this._injector.get(ft),defaults:x.cloneDefaults(Qt.defaults)};this.hasBeenMountedAndBootstrapped(vt,$t)||dt.push(Bt),this.states.push(Bt)}return dt}addAndReturnDefaults(F){const Me=this.add(F||[]);return{defaults:Me.reduce(($e,rt)=>Ce($e,rt.path,rt.defaults),{}),states:Me}}connectActionHandlers(){null===this._actionsSubscription&&(this._actionsSubscription=this._actions.pipe((0,v.filter)(F=>"DISPATCHED"===F.status),(0,v.mergeMap)(({action:F})=>this.invokeActions(this._actions,F).pipe((0,v.map)(()=>({action:F,status:"SUCCESSFUL"})),(0,v.defaultIfEmpty)({action:F,status:"CANCELED"}),(0,v.catchError)(q=>(0,w.of)({action:F,status:"ERRORED",error:q}))))).subscribe(F=>this._actionResults.next(F)))}invokeActions(F,q){const Me=pe(q),Ne=[];for(const $e of this.states){const rt=$e.actions[Me];if(rt)for(const dt of rt){const vt=this._stateContextFactory.createStateContext($e);try{let ft=$e.instance[dt.fn](vt,q);ft instanceof Promise&&(ft=(0,w.from)(ft)),ft instanceof w.Observable?(ft=ft.pipe((0,v.defaultIfEmpty)({})),dt.options.cancelUncompleted&&(ft=ft.pipe((0,v.takeUntil)(F.pipe(Kt(q)))))):ft=(0,w.of)({}).pipe((0,v.shareReplay)()),Ne.push(ft)}catch(ft){Ne.push((0,w.throwError)(ft))}}}return Ne.length||Ne.push((0,w.of)({})),(0,w.forkJoin)(Ne)}addToStatesMap(F){const q=[],Me=this.statesByName;for(const Ne of F){const $e=ni.checkStateNameIsUnique(Ne,Me);!Me[$e]&&(q.push(Ne),Me[$e]=Ne)}return{newStates:q}}addRuntimeInfoToMeta(F,q){this.statePaths[F.name]=q,F.path=q}hasBeenMountedAndBootstrapped(F,q){const Me=void 0!==Le(this._initialState,q);return this.statesByName[F]&&Me}}return x.\u0275fac=function(F){return new(F||x)(l.\u0275\u0275inject(l.Injector),l.\u0275\u0275inject(we),l.\u0275\u0275inject(x,12),l.\u0275\u0275inject(Ht),l.\u0275\u0275inject(g),l.\u0275\u0275inject(_t),l.\u0275\u0275inject(K,8))},x.\u0275prov=l.\u0275\u0275defineInjectable({token:x,factory:x.\u0275fac}),x})(),ri=(()=>{class x{constructor(F,q,Me){this.internalStateOperations=F,this.stateContextFactory=q,this.bootstrapper=Me}ngxsBootstrap(F,q){this.internalStateOperations.getRootStateOperations().dispatch(F).pipe((0,v.filter)(()=>!!q),(0,v.tap)(()=>this.invokeInit(q.states)),(0,v.mergeMap)(()=>this.bootstrapper.appBootstrapped$),(0,v.filter)(Me=>!!Me)).subscribe(()=>this.invokeBootstrap(q.states))}invokeInit(F){for(const q of F){const Me=q.instance;if(Me.ngxsOnChanges){const rt=Tt(q,{currentAppState:{},newAppState:this.internalStateOperations.getRootStateOperations().getState()});Me.ngxsOnChanges(rt)}Me.ngxsOnInit&&Me.ngxsOnInit(this.getStateContext(q)),q.isInitialised=!0}}invokeBootstrap(F){for(const q of F){const Me=q.instance;Me.ngxsAfterBootstrap&&Me.ngxsAfterBootstrap(this.getStateContext(q))}}getStateContext(F){return this.stateContextFactory.createStateContext(F)}}return x.\u0275fac=function(F){return new(F||x)(l.\u0275\u0275inject(et),l.\u0275\u0275inject(_t),l.\u0275\u0275inject(Ie))},x.\u0275prov=l.\u0275\u0275defineInjectable({token:x,factory:x.\u0275fac}),x})();const pi_getOptions=x=>x&&x.NGXS_SELECTOR_OPTIONS_META||{};function Ei(x,re,F){const q=F&&F.containerClass,Ne=r(function(...vt){const ft=re.apply(q,vt);return ft instanceof Function?r.apply(null,[ft]):ft});Object.setPrototypeOf(Ne,re);const $e=function Ui(x,re){const F=function ye(x){return x.hasOwnProperty(Be)||Object.defineProperty(x,Be,{value:{makeRootSelector:null,originalFn:null,containerClass:null,selectorName:null,getSelectorOptions:()=>({})}}),Ae(x)}(x);F.originalFn=x;let q=()=>({});re&&(F.containerClass=re.containerClass,F.selectorName=re.selectorName,q=re.getSelectorOptions||q);const Me=Object.assign({},F);return F.getSelectorOptions=()=>function Wi(x,re){return Object.assign({},pi_getOptions(x.containerClass)||{},pi_getOptions(x.originalFn)||{},x.getSelectorOptions()||{},re)}(Me,q()),F}(re,F);return $e.makeRootSelector=dt=>{const{argumentSelectorFunctions:vt,selectorOptions:ft}=function Gi(x,re,F=[]){const q=re.getSelectorOptions(),Me=x.getSelectorOptions(q),$e=function Yi(x=[],re,F){const q=[];return F&&(0===x.length||re.injectContainerState)&&se(F)&&q.push(F),x&&q.push(...x),q}(F,Me,re.containerClass).map(rt=>Ci(rt)(x));return{selectorOptions:Me,argumentSelectorFunctions:$e}}(dt,$e,x);return function(Qt){const Bt=vt.map(fi=>fi(Qt));try{return Ne(...Bt)}catch(fi){if(fi instanceof TypeError&&ft.suppressErrors)return;throw fi}}},Ne}function Ci(x){const re=Ae(x)||se(x);return re&&re.makeRootSelector||(()=>x)}let mi=(()=>{class x{constructor(F,q,Me,Ne,$e,rt){this._stateStream=F,this._internalStateOperations=q,this._config=Me,this._internalExecutionStrategy=Ne,this._stateFactory=$e,this.initStateStream(rt)}dispatch(F){return this._internalStateOperations.getRootStateOperations().dispatch(F)}select(F){const q=this.getStoreBoundSelectorFn(F);return this._stateStream.pipe((0,v.map)(q),(0,v.catchError)(Me=>{const{suppressErrors:Ne}=this._config.selectorOptions;return Me instanceof TypeError&&Ne?(0,w.of)(void 0):(0,w.throwError)(Me)}),(0,v.distinctUntilChanged)(),ve(this._internalExecutionStrategy))}selectOnce(F){return this.select(F).pipe((0,v.take)(1))}selectSnapshot(F){return this.getStoreBoundSelectorFn(F)(this._stateStream.getValue())}subscribe(F){return this._stateStream.pipe(ve(this._internalExecutionStrategy)).subscribe(F)}snapshot(){return this._internalStateOperations.getRootStateOperations().getState()}reset(F){return this._internalStateOperations.getRootStateOperations().setState(F)}getStoreBoundSelectorFn(F){return Ci(F)(this._stateFactory.getRuntimeSelectorContext())}initStateStream(F){const q=this._stateStream.value;if(!q||0===Object.keys(q).length){const $e=Object.keys(this._config.defaultsState).length>0?Object.assign({},this._config.defaultsState,F):F;this._stateStream.next($e)}}}return x.\u0275fac=function(F){return new(F||x)(l.\u0275\u0275inject(S),l.\u0275\u0275inject(et),l.\u0275\u0275inject(we),l.\u0275\u0275inject(Ye),l.\u0275\u0275inject(Ut),l.\u0275\u0275inject(K,8))},x.\u0275prov=l.\u0275\u0275defineInjectable({token:x,factory:x.\u0275fac}),x})(),ui=(()=>{class x{constructor(F,q){x.store=F,x.config=q}ngOnDestroy(){x.store=null,x.config=null}}return x.\u0275fac=function(F){return new(F||x)(l.\u0275\u0275inject(mi),l.\u0275\u0275inject(we))},x.\u0275prov=l.\u0275\u0275defineInjectable({token:x,factory:x.\u0275fac}),x.store=null,x.config=null,x})();class Ti{static get type(){return"@@INIT"}}class on{constructor(re){this.addedStates=re}static get type(){return"@@UPDATE_STATE"}}const ci=new w.ReplaySubject(1);let $i=(()=>{class x{constructor(F,q,Me,Ne,$e=[],rt){!function ki(){try{const x=window.ng,F=!(x.probe&&x.coreTokens)&&(0,l.isDevMode)();ci.next(F)}catch{ci.next(!1)}finally{ci.complete()}}();const dt=F.addAndReturnDefaults($e);q.setStateToTheCurrentWithNew(dt),F.connectActionHandlers(),rt.ngxsBootstrap(new Ti,dt)}}return x.\u0275fac=function(F){return new(F||x)(l.\u0275\u0275inject(Ut),l.\u0275\u0275inject(et),l.\u0275\u0275inject(mi),l.\u0275\u0275inject(ui),l.\u0275\u0275inject(Te,8),l.\u0275\u0275inject(ri))},x.\u0275mod=l.\u0275\u0275defineNgModule({type:x}),x.\u0275inj=l.\u0275\u0275defineInjector({}),x})(),Mn=(()=>{class x{constructor(F,q,Me,Ne=[],$e){const rt=x.flattenStates(Ne),dt=Me.addAndReturnDefaults(rt);dt.states.length&&(q.setStateToTheCurrentWithNew(dt),$e.ngxsBootstrap(new on(dt.defaults),dt))}static flattenStates(F=[]){return F.reduce((q,Me)=>q.concat(Me),[])}}return x.\u0275fac=function(F){return new(F||x)(l.\u0275\u0275inject(mi),l.\u0275\u0275inject(et),l.\u0275\u0275inject(Ut),l.\u0275\u0275inject(Oe,8),l.\u0275\u0275inject(ri))},x.\u0275mod=l.\u0275\u0275defineNgModule({type:x}),x.\u0275inj=l.\u0275\u0275defineInjector({}),x})();class Zt{static forRoot(re=[],F={}){return{ngModule:$i,providers:[Ut,_t,Lt,Ht,Ie,Ue,be,ri,D,g,et,Ye,mi,S,ui,f,...re,...Zt.ngxsTokenProviders(re,F)]}}static forFeature(re=[]){return{ngModule:Mn,providers:[Ut,f,...re,{provide:Oe,multi:!0,useValue:re}]}}static ngxsTokenProviders(re,F){return[{provide:Ve,useValue:_e},{provide:ce,useValue:l.isDevMode},{provide:ie,useClass:F.executionStrategy||de},{provide:Te,useValue:re},{provide:Zt.ROOT_OPTIONS,useValue:F},{provide:we,useFactory:Zt.ngxsConfigFactory,deps:[Zt.ROOT_OPTIONS]},{provide:l.APP_BOOTSTRAP_LISTENER,useFactory:Zt.appBootstrapListenerFactory,multi:!0,deps:[Ie]},{provide:K,useFactory:Zt.getInitialState},{provide:P,useExisting:_t},{provide:z,useExisting:Ut}]}static ngxsConfigFactory(re){return Ze(new we,re)}static appBootstrapListenerFactory(re){return()=>re.bootstrap()}static getInitialState(){return xe.pop()}}function ln(x,re){return(F,q)=>{if(F.hasOwnProperty("prototype"))throw new Error(B.ACTION_DECORATOR());const Ne=U(F.constructor);Array.isArray(x)||(x=[x]);for(const $e of x){const rt=$e.type;Ne.actions[rt]||(Ne.actions[rt]=[]),Ne.actions[rt].push({fn:q,options:re||{},type:rt})}}}function ai(x){return q=>{!function cn(x){ci.subscribe(re=>{re&&(x.\u0275prov||console.warn(B.UNDECORATED_STATE_IN_IVY(x.name)))})}(q);const Me=q,Ne=U(Me),$e=Object.getPrototypeOf(Me),rt=function re(q){return Object.assign({},q[ge]||{},x)}($e);(function F(q){const{meta:Me,inheritedStateClass:Ne,optionsWithInheritance:$e}=q,{children:rt,defaults:dt,name:vt}=$e,ft="string"==typeof vt?vt:vt&&vt.getName()||null;ni.checkCorrectStateName(ft),Ne.hasOwnProperty(Pe)&&(Me.actions=Object.assign({},Me.actions,(Ne[Pe]||{}).actions)),Me.children=rt,Me.defaults=dt,Me.name=ft})({meta:Ne,inheritedStateClass:$e,optionsWithInheritance:rt}),Me[ge]=rt}}function Pi(x,...re){return function(F,q){const Me=q.toString(),Ne=`__${Me}__selector`,$e=function Qi(x,re,F=[]){return re=re||function Ki(x){const re=x.length-1;return 36===x.charCodeAt(re)?x.slice(0,re):x}(x),"string"==typeof re?Xe(F.length?[re,...F]:re.split("."),ui.config):re}(Me,x,re);Object.defineProperties(F,{[Ne]:{writable:!0,enumerable:!1,configurable:!0},[Me]:{enumerable:!0,configurable:!0,get(){return this[Ne]||(this[Ne]=function bi(x){if(!ui.store)throw new Error(B.SELECT_FACTORY_NOT_CONNECTED());return ui.store.select(x)}($e))}}})}}function Zi(x){return U(x)}function qt(x){return(re,F,q)=>{if(!q||null===q.value)throw new Error(B.SELECTOR_DECORATOR());const Ne=q.value,$e=Ei(x,Ne,{containerClass:re,selectorName:F.toString(),getSelectorOptions:()=>({})}),rt={configurable:!0,get:()=>$e};return rt.originalFn=Ne,rt}}Zt.\u0275fac=function(re){return new(re||Zt)},Zt.\u0275mod=l.\u0275\u0275defineNgModule({type:Zt}),Zt.\u0275inj=l.\u0275\u0275defineInjector({}),Zt.ROOT_OPTIONS=new l.InjectionToken("ROOT_OPTIONS")},8573:(ht,ze)=>{function R(w){if(w)return function l(w){for(var J in R.prototype)w[J]=R.prototype[J];return w}(w)}ze.Q=R,R.prototype.on=R.prototype.addEventListener=function(w,J){return this._callbacks=this._callbacks||{},(this._callbacks["$"+w]=this._callbacks["$"+w]||[]).push(J),this},R.prototype.once=function(w,J){function Q(){this.off(w,Q),J.apply(this,arguments)}return Q.fn=J,this.on(w,Q),this},R.prototype.off=R.prototype.removeListener=R.prototype.removeAllListeners=R.prototype.removeEventListener=function(w,J){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var Q=this._callbacks["$"+w];if(!Q)return this;if(1==arguments.length)return delete this._callbacks["$"+w],this;for(var r,De=0;De<Q.length;De++)if((r=Q[De])===J||r.fn===J){Q.splice(De,1);break}return 0===Q.length&&delete this._callbacks["$"+w],this},R.prototype.emitReserved=R.prototype.emit=function(w){this._callbacks=this._callbacks||{};for(var J=new Array(arguments.length-1),Q=this._callbacks["$"+w],r=1;r<arguments.length;r++)J[r-1]=arguments[r];if(Q){r=0;for(var De=(Q=Q.slice(0)).length;r<De;++r)Q[r].apply(this,J)}return this},R.prototype.listeners=function(w){return this._callbacks=this._callbacks||{},this._callbacks["$"+w]||[]},R.prototype.hasListeners=function(w){return!!this.listeners(w).length}},3928:(ht,ze,R)=>{R.d(ze,{Zc:()=>_e,OI:()=>xe,YY:()=>P});var l=R(824),J=R(7451);class r{constructor(y,v){this.x=y,this.y=v}static fromEvent(y,v=null){if(this.isMouseEvent(y))return new r(y.clientX,y.clientY);if(null===v||1===y.changedTouches.length)return new r(y.changedTouches[0].clientX,y.changedTouches[0].clientY);for(let T=0;T<y.changedTouches.length;T++)if(y.changedTouches[T].target===v)return new r(y.changedTouches[T].clientX,y.changedTouches[T].clientY)}static isMouseEvent(y){return 8===Object.prototype.toString.apply(y).indexOf("MouseEvent")}static isIPosition(y){return!!y&&"x"in y&&"y"in y}static getCurrent(y){let v=new r(0,0);if(window){const T=window.getComputedStyle(y);if(T){let B=parseInt(T.getPropertyValue("left"),10),de=parseInt(T.getPropertyValue("top"),10);v.x=isNaN(B)?0:B,v.y=isNaN(de)?0:de}return v}return console.error("Not Supported!"),null}static copy(y){return new r(0,0).set(y)}get value(){return{x:this.x,y:this.y}}add(y){return this.x+=y.x,this.y+=y.y,this}subtract(y){return this.x-=y.x,this.y-=y.y,this}multiply(y){this.x*=y,this.y*=y}divide(y){this.x/=y,this.y/=y}reset(){return this.x=0,this.y=0,this}set(y){return this.x=y.x,this.y=y.y,this}}class De{constructor(y,v){this.parent=y,this.renderer=v,this._added=!1;let T=v.createElement("div");v.setStyle(T,"position","absolute"),v.setStyle(T,"width","100%"),v.setStyle(T,"height","100%"),v.setStyle(T,"background-color","transparent"),v.setStyle(T,"top","0"),v.setStyle(T,"left","0"),this._helper=T}add(){this.parent&&!this._added&&(this.parent.appendChild(this._helper),this._added=!0)}remove(){this.parent&&this._added&&(this.parent.removeChild(this._helper),this._added=!1)}dispose(){this._helper=null,this._added=!1}get el(){return this._helper}}let _e=(()=>{class z{constructor(v,T){this.el=v,this.renderer=T,this.allowDrag=!0,this.moving=!1,this.orignal=null,this.oldTrans=new r(0,0),this.tempTrans=new r(0,0),this.currTrans=new r(0,0),this.oldZIndex="",this._zIndex="",this.needTransform=!1,this.draggingSub=null,this._helperBlock=null,this.started=new J.EventEmitter,this.stopped=new J.EventEmitter,this.edge=new J.EventEmitter,this.outOfBounds={top:!1,right:!1,bottom:!1,left:!1},this.gridSize=1,this.inBounds=!1,this.trackPosition=!0,this.scale=1,this.preventDefaultEvent=!1,this.position={x:0,y:0},this.lockAxis=null,this.movingOffset=new J.EventEmitter,this.endOffset=new J.EventEmitter,this._helperBlock=new De(v.nativeElement,T)}set zIndex(v){this.renderer.setStyle(this.el.nativeElement,"z-index",v),this._zIndex=v}set ngDraggable(v){if(null!=v&&""!==v){this.allowDrag=!!v;let T=this.getDragEl();this.allowDrag?this.renderer.addClass(T,"ng-draggable"):(this.putBack(),this.renderer.removeClass(T,"ng-draggable"))}}ngOnInit(){if(this.allowDrag){let v=this.getDragEl();this.renderer.addClass(v,"ng-draggable")}this.resetPosition()}ngOnDestroy(){this.bounds=null,this.handle=null,this.orignal=null,this.oldTrans=null,this.tempTrans=null,this.currTrans=null,this._helperBlock.dispose(),this._helperBlock=null,this.draggingSub&&this.draggingSub.unsubscribe()}ngOnChanges(v){if(v.position&&!v.position.isFirstChange()){let T=v.position.currentValue;this.moving?this.needTransform=!0:(r.isIPosition(T)?this.oldTrans.set(T):this.oldTrans.reset(),this.transform())}}ngAfterViewInit(){this.inBounds&&(this.boundsCheck(),this.oldTrans.add(this.tempTrans),this.tempTrans.reset())}getDragEl(){return this.handle?this.handle:this.el.nativeElement}resetPosition(){r.isIPosition(this.position)?this.oldTrans.set(this.position):this.oldTrans.reset(),this.tempTrans.reset(),this.transform()}moveTo(v){this.orignal&&(v.subtract(this.orignal),this.tempTrans.set(v),this.tempTrans.divide(this.scale),this.transform(),this.bounds&&this.edge.emit(this.boundsCheck()),this.movingOffset.emit(this.currTrans.value))}transform(){let v=this.tempTrans.x+this.oldTrans.x,T=this.tempTrans.y+this.oldTrans.y;"x"===this.lockAxis?(v=this.oldTrans.x,this.tempTrans.x=0):"y"===this.lockAxis&&(T=this.oldTrans.y,this.tempTrans.y=0),this.gridSize>1&&(v=Math.round(v/this.gridSize)*this.gridSize,T=Math.round(T/this.gridSize)*this.gridSize);let B=`translate(${Math.round(v)}px, ${Math.round(T)}px)`;this.renderer.setStyle(this.el.nativeElement,"transform",B),this.renderer.setStyle(this.el.nativeElement,"-webkit-transform",B),this.renderer.setStyle(this.el.nativeElement,"-ms-transform",B),this.renderer.setStyle(this.el.nativeElement,"-moz-transform",B),this.renderer.setStyle(this.el.nativeElement,"-o-transform",B),this.currTrans.x=v,this.currTrans.y=T}pickUp(){if(this.oldZIndex=this.el.nativeElement.style.zIndex?this.el.nativeElement.style.zIndex:"",window&&(this.oldZIndex=window.getComputedStyle(this.el.nativeElement,null).getPropertyValue("z-index")),this.zIndexMoving&&this.renderer.setStyle(this.el.nativeElement,"z-index",this.zIndexMoving),!this.moving){this.started.emit(this.el.nativeElement),this.moving=!0;const v=this.getDragEl();this.renderer.addClass(v,"ng-dragging"),this.subscribeEvents()}}subscribeEvents(){this.draggingSub=(0,l.fromEvent)(document,"mousemove",{passive:!1}).subscribe(T=>this.onMouseMove(T)),this.draggingSub.add((0,l.fromEvent)(document,"touchmove",{passive:!1}).subscribe(T=>this.onMouseMove(T))),this.draggingSub.add((0,l.fromEvent)(document,"mouseup",{passive:!1}).subscribe(()=>this.putBack())),/msie\s|trident\//i.test(window.navigator.userAgent)||this.draggingSub.add((0,l.fromEvent)(document,"mouseleave",{passive:!1}).subscribe(()=>this.putBack())),this.draggingSub.add((0,l.fromEvent)(document,"touchend",{passive:!1}).subscribe(()=>this.putBack())),this.draggingSub.add((0,l.fromEvent)(document,"touchcancel",{passive:!1}).subscribe(()=>this.putBack()))}unsubscribeEvents(){this.draggingSub.unsubscribe(),this.draggingSub=null}boundsCheck(){if(this.bounds){let v=this.bounds.getBoundingClientRect(),T=this.el.nativeElement.getBoundingClientRect(),B={top:!!this.outOfBounds.top||v.top<T.top,right:!!this.outOfBounds.right||v.right>T.right,bottom:!!this.outOfBounds.bottom||v.bottom>T.bottom,left:!!this.outOfBounds.left||v.left<T.left};return this.inBounds&&(B.top||(this.tempTrans.y-=(T.top-v.top)/this.scale),B.bottom||(this.tempTrans.y-=(T.bottom-v.bottom)/this.scale),B.right||(this.tempTrans.x-=(T.right-v.right)/this.scale),B.left||(this.tempTrans.x-=(T.left-v.left)/this.scale),this.transform()),B}}getCurrentOffset(){return this.currTrans.value}putBack(){if(this._zIndex?this.renderer.setStyle(this.el.nativeElement,"z-index",this._zIndex):this.zIndexMoving&&(this.oldZIndex?this.renderer.setStyle(this.el.nativeElement,"z-index",this.oldZIndex):this.el.nativeElement.style.removeProperty("z-index")),this.moving){this.stopped.emit(this.el.nativeElement),this._helperBlock.remove(),this.needTransform&&(r.isIPosition(this.position)?this.oldTrans.set(this.position):this.oldTrans.reset(),this.transform(),this.needTransform=!1),this.bounds&&this.edge.emit(this.boundsCheck()),this.moving=!1,this.endOffset.emit(this.currTrans.value),this.trackPosition&&this.oldTrans.add(this.tempTrans),this.tempTrans.reset(),this.trackPosition||this.transform();const v=this.getDragEl();this.renderer.removeClass(v,"ng-dragging"),this.unsubscribeEvents()}}checkHandleTarget(v,T){if("BUTTON"===T.tagName)return!1;if(T===v)return!0;for(let B in T.children)if(T.children.hasOwnProperty(B)&&this.checkHandleTarget(v,T.children[B]))return!0;return!1}onMouseDown(v){v instanceof MouseEvent&&2===v.button||void 0!==this.handle&&!this.checkHandleTarget(v.target||v.srcElement,this.handle)||!1!==this.allowDrag&&(this.preventDefaultEvent&&(v.stopPropagation(),v.preventDefault()),this.orignal=r.fromEvent(v,this.getDragEl()),this.pickUp())}onMouseMove(v){this.moving&&this.allowDrag&&(this.preventDefaultEvent&&(v.stopPropagation(),v.preventDefault()),this._helperBlock.add(),this.moveTo(r.fromEvent(v,this.getDragEl())))}}return z.\u0275fac=function(v){return new(v||z)(J.\u0275\u0275directiveInject(J.ElementRef),J.\u0275\u0275directiveInject(J.Renderer2))},z.\u0275dir=J.\u0275\u0275defineDirective({type:z,selectors:[["","ngDraggable",""]],hostBindings:function(v,T){1&v&&J.\u0275\u0275listener("mousedown",function(de){return T.onMouseDown(de)})("touchstart",function(de){return T.onMouseDown(de)})},inputs:{outOfBounds:"outOfBounds",gridSize:"gridSize",inBounds:"inBounds",trackPosition:"trackPosition",scale:"scale",preventDefaultEvent:"preventDefaultEvent",position:"position",lockAxis:"lockAxis",zIndex:"zIndex",ngDraggable:"ngDraggable",bounds:"bounds",handle:"handle",zIndexMoving:"zIndexMoving"},outputs:{started:"started",stopped:"stopped",edge:"edge",movingOffset:"movingOffset",endOffset:"endOffset"},exportAs:["ngDraggable"],features:[J.\u0275\u0275NgOnChangesFeature]}),z})();class Ie{constructor(y,v,T,B,de){this.parent=y,this.renderer=v,this.type=T,this.css=B,this.onMouseDown=de;let Te=v.createElement("div");v.addClass(Te,"ng-resizable-handle"),v.addClass(Te,B),"se"===T&&v.addClass(Te,"ng-resizable-diagonal"),this.parent&&y.appendChild(Te),this._onResize=Oe=>{de(Oe,this)},Te.addEventListener("mousedown",this._onResize,{passive:!1}),Te.addEventListener("touchstart",this._onResize,{passive:!1}),this._handle=Te}dispose(){this._handle.removeEventListener("mousedown",this._onResize),this._handle.removeEventListener("touchstart",this._onResize),this.parent&&this.parent.removeChild(this._handle),this._handle=null,this._onResize=null}get el(){return this._handle}}class K{constructor(y,v){this.width=y,this.height=v}static getCurrent(y){let v=new K(0,0);if(window){const T=window.getComputedStyle(y);return T&&(v.width=parseInt(T.getPropertyValue("width"),10),v.height=parseInt(T.getPropertyValue("height"),10)),v}return console.error("Not Supported!"),null}static copy(y){return new K(0,0).set(y)}set(y){return this.width=y.width,this.height=y.height,this}}let xe=(()=>{class z{constructor(v,T){this.el=v,this.renderer=T,this._resizable=!0,this._handles={},this._handleType=[],this._handleResizing=null,this._direction=null,this._directionChanged=null,this._aspectRatio=0,this._containment=null,this._origMousePos=null,this._origSize=null,this._origPos=null,this._currSize=null,this._currPos=null,this._initSize=null,this._initPos=null,this._gridSize=null,this._bounding=null,this._helperBlock=null,this.draggingSub=null,this._adjusted=!1,this.rzHandles="e,s,se",this.rzAspectRatio=!1,this.rzContainment=null,this.rzGrid=null,this.rzMinWidth=null,this.rzMinHeight=null,this.rzMaxWidth=null,this.rzMaxHeight=null,this.preventDefaultEvent=!0,this.rzStart=new J.EventEmitter,this.rzResizing=new J.EventEmitter,this.rzStop=new J.EventEmitter,this._helperBlock=new De(v.nativeElement,T)}set ngResizable(v){null!=v&&""!==v&&(this._resizable=!!v,this.updateResizable())}ngOnChanges(v){v.rzHandles&&!v.rzHandles.isFirstChange()&&this.updateResizable(),v.rzAspectRatio&&!v.rzAspectRatio.isFirstChange()&&this.updateAspectRatio(),v.rzContainment&&!v.rzContainment.isFirstChange()&&this.updateContainment()}ngOnInit(){this.updateResizable()}ngOnDestroy(){this.removeHandles(),this._containment=null,this._helperBlock.dispose(),this._helperBlock=null}ngAfterViewInit(){const v=this.el.nativeElement;this._initSize=K.getCurrent(v),this._initPos=r.getCurrent(v),this._currSize=K.copy(this._initSize),this._currPos=r.copy(this._initPos),this.updateAspectRatio(),this.updateContainment()}resetSize(){this._currSize=K.copy(this._initSize),this._currPos=r.copy(this._initPos),this.doResize()}getStatus(){return this._currPos&&this._currSize?{size:{width:this._currSize.width,height:this._currSize.height},position:{top:this._currPos.y,left:this._currPos.x}}:null}updateResizable(){const v=this.el.nativeElement;this.renderer.removeClass(v,"ng-resizable"),this.removeHandles(),this._resizable&&(this.renderer.addClass(v,"ng-resizable"),this.createHandles())}updateAspectRatio(){if("boolean"==typeof this.rzAspectRatio)this._aspectRatio=this.rzAspectRatio&&this._currSize.height?this._currSize.width/this._currSize.height:0;else{let v=Number(this.rzAspectRatio);this._aspectRatio=isNaN(v)?0:v}}updateContainment(){this._containment=this.rzContainment?"string"==typeof this.rzContainment?"parent"===this.rzContainment?this.el.nativeElement.parentElement:document.querySelector(this.rzContainment):this.rzContainment:null}createHandles(){if(!this.rzHandles)return;let v;if("string"==typeof this.rzHandles){v="all"===this.rzHandles?["n","e","s","w","ne","se","nw","sw"]:this.rzHandles.replace(/ /g,"").toLowerCase().split(",");for(let T of v){let B=this.createHandleByType(T,`ng-resizable-${T}`);B&&(this._handleType.push(T),this._handles[T]=B)}}else{v=Object.keys(this.rzHandles);for(let T of v){let B=this.createHandleByType(T,this.rzHandles[T]);B&&(this._handleType.push(T),this._handles[T]=B)}}}createHandleByType(v,T){const B=this.el.nativeElement;return v.match(/^(se|sw|ne|nw|n|e|s|w)$/)?new Ie(B,this.renderer,v,T,this.onMouseDown.bind(this)):(console.error("Invalid handle type:",v),null)}removeHandles(){for(let v of this._handleType)this._handles[v].dispose();this._handleType=[],this._handles={}}onMouseDown(v,T){v instanceof MouseEvent&&2===v.button||(this.preventDefaultEvent&&(v.stopPropagation(),v.preventDefault()),this._handleResizing||(this._origMousePos=r.fromEvent(v),this.startResize(T),this.subscribeEvents()))}subscribeEvents(){this.draggingSub=(0,l.fromEvent)(document,"mousemove",{passive:!1}).subscribe(T=>this.onMouseMove(T)),this.draggingSub.add((0,l.fromEvent)(document,"touchmove",{passive:!1}).subscribe(T=>this.onMouseMove(T))),this.draggingSub.add((0,l.fromEvent)(document,"mouseup",{passive:!1}).subscribe(()=>this.onMouseLeave())),/msie\s|trident\//i.test(window.navigator.userAgent)||this.draggingSub.add((0,l.fromEvent)(document,"mouseleave",{passive:!1}).subscribe(()=>this.onMouseLeave())),this.draggingSub.add((0,l.fromEvent)(document,"touchend",{passive:!1}).subscribe(()=>this.onMouseLeave())),this.draggingSub.add((0,l.fromEvent)(document,"touchcancel",{passive:!1}).subscribe(()=>this.onMouseLeave()))}unsubscribeEvents(){this.draggingSub.unsubscribe(),this.draggingSub=null}onMouseLeave(){this._handleResizing&&(this.stopResize(),this._origMousePos=null,this.unsubscribeEvents())}onMouseMove(v){this._handleResizing&&this._resizable&&this._origMousePos&&this._origPos&&this._origSize&&(this.resizeTo(r.fromEvent(v)),this.onResizing())}startResize(v){const T=this.el.nativeElement;this._origSize=K.getCurrent(T),this._origPos=r.getCurrent(T),this._currSize=K.copy(this._origSize),this._currPos=r.copy(this._origPos),this._containment&&this.getBounding(),this.getGridSize(),this._helperBlock.add(),this._handleResizing=v,this.updateDirection(),this.rzStart.emit(this.getResizingEvent())}stopResize(){this._helperBlock.remove(),this.rzStop.emit(this.getResizingEvent()),this._handleResizing=null,this._direction=null,this._origSize=null,this._origPos=null,this._containment&&this.resetBounding()}onResizing(){this.rzResizing.emit(this.getResizingEvent())}getResizingEvent(){return{host:this.el.nativeElement,handle:this._handleResizing?this._handleResizing.el:null,size:{width:this._currSize.width,height:this._currSize.height},position:{top:this._currPos.y,left:this._currPos.x},direction:Object.assign({},this._directionChanged)}}updateDirection(){this._direction={n:!!this._handleResizing.type.match(/n/),s:!!this._handleResizing.type.match(/s/),w:!!this._handleResizing.type.match(/w/),e:!!this._handleResizing.type.match(/e/)},this._directionChanged=Object.assign({},this._direction),this.rzAspectRatio&&(this._directionChanged.n&&!this._directionChanged.e&&(this._directionChanged.w=!0),this._directionChanged.s&&!this._directionChanged.w&&(this._directionChanged.e=!0),this._directionChanged.e&&!this._directionChanged.n&&(this._directionChanged.s=!0),this._directionChanged.w&&!this._directionChanged.n&&(this._directionChanged.s=!0))}resizeTo(v){v.subtract(this._origMousePos);const T=Math.round(v.x/this._gridSize.x)*this._gridSize.x,B=Math.round(v.y/this._gridSize.y)*this._gridSize.y;this._direction.n?(this._currPos.y=this._origPos.y+B,this._currSize.height=this._origSize.height-B):this._direction.s&&(this._currSize.height=this._origSize.height+B),this._direction.e?this._currSize.width=this._origSize.width+T:this._direction.w&&(this._currSize.width=this._origSize.width-T,this._currPos.x=this._origPos.x+T),this.checkBounds(),this.checkSize(),this.adjustByRatio(),this.doResize()}doResize(){const v=this.el.nativeElement;(!this._direction||this._direction.n||this._direction.s||this._aspectRatio)&&this.renderer.setStyle(v,"height",this._currSize.height+"px"),(!this._direction||this._direction.w||this._direction.e||this._aspectRatio)&&this.renderer.setStyle(v,"width",this._currSize.width+"px"),this.renderer.setStyle(v,"left",this._currPos.x+"px"),this.renderer.setStyle(v,"top",this._currPos.y+"px")}adjustByRatio(){if(this._aspectRatio&&!this._adjusted)if(this._direction.e||this._direction.w){const v=Math.floor(this._currSize.width/this._aspectRatio);this._direction.n&&(this._currPos.y+=this._currSize.height-v),this._currSize.height=v}else{const v=Math.floor(this._aspectRatio*this._currSize.height);this._direction.n&&(this._currPos.x+=this._currSize.width-v),this._currSize.width=v}}checkBounds(){if(this._containment){const v=this._bounding.width-this._bounding.pr-this._bounding.deltaL-this._bounding.translateX-this._currPos.x,T=this._bounding.height-this._bounding.pb-this._bounding.deltaT-this._bounding.translateY-this._currPos.y;if(this._direction.n&&this._currPos.y+this._bounding.translateY<0&&(this._currPos.y=-this._bounding.translateY,this._currSize.height=this._origSize.height+this._origPos.y+this._bounding.translateY),this._direction.w&&this._currPos.x+this._bounding.translateX<0&&(this._currPos.x=-this._bounding.translateX,this._currSize.width=this._origSize.width+this._origPos.x+this._bounding.translateX),this._currSize.width>v&&(this._currSize.width=v),this._currSize.height>T&&(this._currSize.height=T),this._aspectRatio){if(this._adjusted=!1,(this._direction.w||this._direction.e)&&this._currSize.width/this._aspectRatio>=T){const B=Math.floor(T*this._aspectRatio);this._direction.w&&(this._currPos.x+=this._currSize.width-B),this._currSize.width=B,this._currSize.height=T,this._adjusted=!0}if((this._direction.n||this._direction.s)&&this._currSize.height*this._aspectRatio>=v){const B=Math.floor(v/this._aspectRatio);this._direction.n&&(this._currPos.y+=this._currSize.height-B),this._currSize.width=v,this._currSize.height=B,this._adjusted=!0}}}}checkSize(){const v=this.rzMinHeight?this.rzMinHeight:1,T=this.rzMinWidth?this.rzMinWidth:1;this._currSize.height<v&&(this._currSize.height=v,this._direction.n&&(this._currPos.y=this._origPos.y+(this._origSize.height-v))),this._currSize.width<T&&(this._currSize.width=T,this._direction.w&&(this._currPos.x=this._origPos.x+(this._origSize.width-T))),this.rzMaxHeight&&this._currSize.height>this.rzMaxHeight&&(this._currSize.height=this.rzMaxHeight,this._direction.n&&(this._currPos.y=this._origPos.y+(this._origSize.height-this.rzMaxHeight))),this.rzMaxWidth&&this._currSize.width>this.rzMaxWidth&&(this._currSize.width=this.rzMaxWidth,this._direction.w&&(this._currPos.x=this._origPos.x+(this._origSize.width-this.rzMaxWidth)))}getBounding(){const v=this._containment,T=window.getComputedStyle(v);if(T){let B=T.getPropertyValue("position"),Te=window.getComputedStyle(this.el.nativeElement).getPropertyValue("transform").replace(/[^-\d,]/g,"").split(",");this._bounding={},this._bounding.width=v.clientWidth,this._bounding.height=v.clientHeight,this._bounding.pr=parseInt(T.getPropertyValue("padding-right"),10),this._bounding.pb=parseInt(T.getPropertyValue("padding-bottom"),10),this._bounding.deltaL=this.el.nativeElement.offsetLeft-this._currPos.x,this._bounding.deltaT=this.el.nativeElement.offsetTop-this._currPos.y,Te.length>=6?(this._bounding.translateX=parseInt(Te[4],10),this._bounding.translateY=parseInt(Te[5],10)):(this._bounding.translateX=0,this._bounding.translateY=0),this._bounding.position=T.getPropertyValue("position"),"static"===B&&this.renderer.setStyle(v,"position","relative")}}resetBounding(){this._bounding&&"static"===this._bounding.position&&this.renderer.setStyle(this._containment,"position","relative"),this._bounding=null}getGridSize(){this._gridSize={x:1,y:1},this.rzGrid&&("number"==typeof this.rzGrid?this._gridSize={x:this.rzGrid,y:this.rzGrid}:Array.isArray(this.rzGrid)&&(this._gridSize={x:this.rzGrid[0],y:this.rzGrid[1]}))}}return z.\u0275fac=function(v){return new(v||z)(J.\u0275\u0275directiveInject(J.ElementRef),J.\u0275\u0275directiveInject(J.Renderer2))},z.\u0275dir=J.\u0275\u0275defineDirective({type:z,selectors:[["","ngResizable",""]],inputs:{rzHandles:"rzHandles",rzAspectRatio:"rzAspectRatio",rzContainment:"rzContainment",rzGrid:"rzGrid",rzMinWidth:"rzMinWidth",rzMinHeight:"rzMinHeight",rzMaxWidth:"rzMaxWidth",rzMaxHeight:"rzMaxHeight",preventDefaultEvent:"preventDefaultEvent",ngResizable:"ngResizable"},outputs:{rzStart:"rzStart",rzResizing:"rzResizing",rzStop:"rzStop"},exportAs:["ngResizable"],features:[J.\u0275\u0275NgOnChangesFeature]}),z})(),P=(()=>{class z{}return z.\u0275fac=function(v){return new(v||z)},z.\u0275mod=J.\u0275\u0275defineNgModule({type:z}),z.\u0275inj=J.\u0275\u0275defineInjector({imports:[[]]}),z})()},7591:ht=>{function ze(R){this.ms=(R=R||{}).min||100,this.max=R.max||1e4,this.factor=R.factor||2,this.jitter=R.jitter>0&&R.jitter<=1?R.jitter:0,this.attempts=0}ht.exports=ze,ze.prototype.duration=function(){var R=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var l=Math.random(),w=Math.floor(l*this.jitter*R);R=0==(1&Math.floor(10*l))?R-w:R+w}return 0|Math.min(R,this.max)},ze.prototype.reset=function(){this.attempts=0},ze.prototype.setMin=function(R){this.ms=R},ze.prototype.setMax=function(R){this.max=R},ze.prototype.setJitter=function(R){this.jitter=R}},4966:ht=>{try{ht.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch{ht.exports=!1}},6923:(ht,ze,R)=>{R.d(ze,{nm:()=>v});var l=R(7451),r=(R(824),R(3192));const Ie=new l.InjectionToken("NGX_MONACO_EDITOR_CONFIG");let v=(()=>{class T{static forRoot(de={}){return{ngModule:T,providers:[{provide:Ie,useValue:de}]}}}return T.\u0275fac=function(de){return new(de||T)},T.\u0275mod=l.\u0275\u0275defineNgModule({type:T}),T.\u0275inj=l.\u0275\u0275defineInjector({imports:[[r.CommonModule]]}),T})()},9497:(ht,ze,R)=>{R.d(ze,{iq:()=>xe,VD:()=>r});var l=R(9425),w=R(7451);const Q={};function r(P){return(z,y,v)=>{const T=(0,l.f4)(P),B=z.constructor.name;Q[B]={ctor:z.constructor,actions:Q[B]?[...Q[B].actions,T]:[T]}}}let De=(()=>{class P{}return P.type="[ngxs-history] Undo",P})();const _e=new w.InjectionToken("NGXS_HISTORY_PLUGIN_OPTIONS");let Ie=(()=>{class P{getStateName(y){const v=Object.values(Q).find(B=>B.actions.includes(y));if(!v)return;const T=v&&(0,l.Oi)(v.ctor);return null==T?void 0:T.name}handleTheUndoAction(y,v,T){if(De.type===y){const B=[...(0,l.NA)(T,v)];if(B.length){const de=B.pop();T=(0,l.sO)(T,v,B||[]),T=(0,l.sO)(T,de.stateName,de.data)}}return T}discardUnwantedHistoryItems(y,v){return y&&v.historyLength&&y.length>v.historyLength?y.slice(y.length-v.historyLength):y}}return P.\u0275fac=function(y){return new(y||P)},P.\u0275prov=(0,w.\u0275\u0275defineInjectable)({factory:function(){return new P},token:P,providedIn:"root"}),P})(),K=(()=>{class P{constructor(y={},v){this.options=y,this.ngxsHistoryService=v,this.ACTIONS_TO_IGNORE=new Set([De.type,"@@INIT"])}handle(y,v,T){let B=y;const de=(0,l.f4)(v),Te="history",Oe=this.ACTIONS_TO_IGNORE.has(de),V=this.ngxsHistoryService.getStateName(de);if(B=this.ngxsHistoryService.handleTheUndoAction(de,Te,B),!Oe&&V){let Ve=(0,l.NA)(y,Te)||[];Ve=[...Ve,{data:y[V],stateName:V}],Ve=this.ngxsHistoryService.discardUnwantedHistoryItems(Ve,this.options),B=(0,l.sO)(B,Te,Ve)}return T(B,v)}}return P.\u0275fac=function(y){return new(y||P)(w.\u0275\u0275inject(_e),w.\u0275\u0275inject(Ie))},P.\u0275prov=w.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac}),P})(),xe=(()=>{class P{static forRoot(y){return{ngModule:P,providers:[{provide:l.fN,useClass:K,multi:!0},{provide:_e,useValue:y}]}}}return P.\u0275fac=function(y){return new(y||P)},P.\u0275mod=w.\u0275\u0275defineNgModule({type:P}),P.\u0275inj=w.\u0275\u0275defineInjector({}),P})()},9603:(ht,ze)=>{ze.encode=function(R){var l="";for(var w in R)R.hasOwnProperty(w)&&(l.length&&(l+="&"),l+=encodeURIComponent(w)+"="+encodeURIComponent(R[w]));return l},ze.decode=function(R){for(var l={},w=R.split("&"),J=0,Q=w.length;J<Q;J++){var r=w[J].split("=");l[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return l}},4171:ht=>{var ze=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,R=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];ht.exports=function(Q){var r=Q,De=Q.indexOf("["),_e=Q.indexOf("]");-1!=De&&-1!=_e&&(Q=Q.substring(0,De)+Q.substring(De,_e).replace(/:/g,";")+Q.substring(_e,Q.length));for(var Ie=ze.exec(Q||""),K={},xe=14;xe--;)K[R[xe]]=Ie[xe]||"";return-1!=De&&-1!=_e&&(K.source=r,K.host=K.host.substring(1,K.host.length-1).replace(/;/g,":"),K.authority=K.authority.replace("[","").replace("]","").replace(/;/g,":"),K.ipv6uri=!0),K.pathNames=function l(J,Q){var De=Q.replace(/\/{2,9}/g,"/").split("/");return("/"==Q.substr(0,1)||0===Q.length)&&De.splice(0,1),"/"==Q.substr(Q.length-1,1)&&De.splice(De.length-1,1),De}(0,K.path),K.queryKey=function w(J,Q){var r={};return Q.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(De,_e,Ie){_e&&(r[_e]=Ie)}),r}(0,K.query),K}},5391:ht=>{var Q,ze="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),l={},w=0,J=0;function r(Ie){var K="";do{K=ze[Ie%64]+K,Ie=Math.floor(Ie/64)}while(Ie>0);return K}function _e(){var Ie=r(+new Date);return Ie!==Q?(w=0,Q=Ie):Ie+"."+r(w++)}for(;J<64;J++)l[ze[J]]=J;_e.encode=r,_e.decode=function De(Ie){var K=0;for(J=0;J<Ie.length;J++)K=64*K+l[Ie.charAt(J)];return K},ht.exports=_e},8213:(ht,ze,R)=>{R.d(ze,{J:()=>J});var l=R(7451);let J=(()=>{class Q{constructor(){this.dimension=18}ngOnInit(){}}return Q.\u0275fac=function(De){return new(De||Q)},Q.\u0275cmp=l.\u0275\u0275defineComponent({type:Q,selectors:[["spiner-atom"]],inputs:{dimension:"dimension"},decls:1,vars:4,consts:[[1,"mobilform-spinner"]],template:function(De,_e){1&De&&l.\u0275\u0275element(0,"div",0),2&De&&l.\u0275\u0275styleProp("width",_e.dimension,"px")("height",_e.dimension,"px")},styles:[".mobilform-spinner[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.1);border-radius:50%;border-image:linear-gradient(180deg,#04bfad 6.33%,#0476d9 52.12%,#e1c532 105.1%) 1;animation:spin 1s ease infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),Q})()},1593:(ht,ze,R)=>{R.d(ze,{_:()=>Ie});var l=R(7451),J=R(3192),r=R(8213),De=R(2042);function _e(K,xe){1&K&&l.\u0275\u0275element(0,"icon-mobilform-svg",3),2&K&&l.\u0275\u0275property("dimension",328)}let Ie=(()=>{class K{constructor(){this.description="Cargando informaci\xf3n.",this.showSvg=!0}ngOnInit(){}}return K.\u0275fac=function(P){return new(P||K)},K.\u0275cmp=l.\u0275\u0275defineComponent({type:K,selectors:[["splash-view-organism"]],inputs:{description:"description",showSvg:"showSvg"},decls:6,vars:2,consts:[[1,"mobilform-splash-view"],[3,"dimension",4,"ngIf"],[1,"mobilform-splash-view__description"],[3,"dimension"]],template:function(P,z){1&P&&(l.\u0275\u0275elementStart(0,"section",0),l.\u0275\u0275template(1,_e,1,1,"icon-mobilform-svg",1),l.\u0275\u0275elementStart(2,"section",2),l.\u0275\u0275element(3,"spiner-atom"),l.\u0275\u0275elementStart(4,"span"),l.\u0275\u0275text(5),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&P&&(l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",z.showSvg),l.\u0275\u0275advance(4),l.\u0275\u0275textInterpolate(z.description))},directives:[J.NgIf,r.J,De.q],styles:[".mobilform-splash-view[_ngcontent-%COMP%]{height:100vh;width:100%;display:flex;justify-content:center;align-items:center;flex-flow:column;background-color:#363636}.mobilform-splash-view__description[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-flow:column}.mobilform-splash-view__description[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-weight:700;font-size:18px;color:#fff;margin-top:1rem}"]}),K})()},6483:(ht,ze,R)=>{R.d(ze,{y:()=>l});var l=(()=>{return(J=l||(l={})).ELEMENT_TEXT="text",J.ELEMENT_DATE="date",J.ELEMENT_DROPDOWN="dropdown",J.ELEMENT_RADIO="radio",J.ELEMENT_CHECKBOX="checkbox",J.ELEMENT_BUTTON="button",J.ELEMENT_FILE="file",J.ELEMENT_LABEL="label",J.ELEMENT_TABLE="table",J.ELEMENT_HR="hr",J.ELEMENT_ROW="row",l;var J})()},2042:(ht,ze,R)=>{R.d(ze,{q:()=>J});var l=R(7451);let J=(()=>{class Q{constructor(){this.dimension=37,this.animated=!1}}return Q.\u0275fac=function(De){return new(De||Q)},Q.\u0275cmp=l.\u0275\u0275defineComponent({type:Q,selectors:[["icon-mobilform-svg"]],inputs:{dimension:"dimension",animated:"animated"},decls:10,vars:5,consts:[["id","elEkoYVmvDp1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 37 38","shape-rendering","geometricPrecision","text-rendering","geometricPrecision"],["transform","translate(25.5,22.5) scale(1,1)"],["transform","translate(-25.5,-22.5)"],["r","7.5","transform","translate(25.5 22.5)","fill","#f2d335"],["transform","translate(18,15) scale(1,1)"],["width","15","height","15","rx","0","ry","0","transform","translate(-7.5,-7.5)","fill","#0476d9"],["transform","translate(10.500004,5.625) scale(1,1)"],["d","M10.5,0l6.4952,11.25h-12.99039L10.5,0Z","transform","translate(-10.500004,-5.625)","fill","#04bfad"]],template:function(De,_e){1&De&&(l.\u0275\u0275namespaceSVG(),l.\u0275\u0275elementStart(0,"svg",0),l.\u0275\u0275elementStart(1,"g",1),l.\u0275\u0275elementStart(2,"g",2),l.\u0275\u0275element(3,"circle",3),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(4,"g"),l.\u0275\u0275elementStart(5,"g",4),l.\u0275\u0275element(6,"rect",5),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(7,"g"),l.\u0275\u0275elementStart(8,"g",6),l.\u0275\u0275element(9,"path",7),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&De&&(l.\u0275\u0275attribute("width",_e.dimension)("height",_e.dimension),l.\u0275\u0275advance(1),l.\u0275\u0275attribute("id",_e.animated?"elEkoYVmvDp2_ts":""),l.\u0275\u0275advance(4),l.\u0275\u0275attribute("id",_e.animated?"elEkoYVmvDp5_ts":""),l.\u0275\u0275advance(3),l.\u0275\u0275attribute("id",_e.animated?"elEkoYVmvDp7_ts":""))},styles:["#elEkoYVmvDp2_ts[_ngcontent-%COMP%]{animation:elEkoYVmvDp2_ts__ts 3s linear infinite normal forwards}@keyframes elEkoYVmvDp2_ts__ts{0%{transform:translate(25.5px,22.5px) scale(1)}66.666667%{transform:translate(25.5px,22.5px) scale(1);animation-timing-function:cubic-bezier(.39,.575,.565,1)}86.666667%{transform:translate(25.5px,22.5px) scale(.744092);animation-timing-function:cubic-bezier(.39,.575,.565,1)}to{transform:translate(25.5px,22.5px) scale(.979763)}}#elEkoYVmvDp5_ts[_ngcontent-%COMP%]{animation:elEkoYVmvDp5_ts__ts 3s linear infinite normal forwards}@keyframes elEkoYVmvDp5_ts__ts{0%{transform:translate(18px,15px) scale(1)}33.333333%{transform:translate(18px,15px) scale(1);animation-timing-function:cubic-bezier(.39,.575,.565,1)}50%{transform:translate(18px,15px) scale(.744092);animation-timing-function:cubic-bezier(.39,.575,.565,1)}66.666667%{transform:translate(18px,15px) scale(.979763)}to{transform:translate(18px,15px) scale(.979763)}}#elEkoYVmvDp7_ts[_ngcontent-%COMP%]{animation:elEkoYVmvDp7_ts__ts 3s linear infinite normal forwards}@keyframes elEkoYVmvDp7_ts__ts{0%{transform:translate(10.500004px,5.625px) scale(1);animation-timing-function:cubic-bezier(.39,.575,.565,1)}16.666667%{transform:translate(10.500004px,5.625px) scale(.744092);animation-timing-function:cubic-bezier(.39,.575,.565,1)}33.333333%{transform:translate(10.500004px,5.625px) scale(.979763)}to{transform:translate(10.500004px,5.625px) scale(.979763)}}"]}),Q})()},3942:(ht,ze,R)=>{R.d(ze,{m:()=>Jl});var l=R(3192),w=R(92),J=R(5207),Q=R(6923),r=R(7451);const De={validation:!1};let _e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({providers:[],imports:[[l.CommonModule,w.UX,w.u5,J.NgxMaskModule.forRoot(De),Q.nm]]}),i})();var Ie=R(3331),K=R(4929),xe=R(6321),P=R(2612),z=R(824),y=R(9596),v=R(5531),T=R(5875),B=R(5436),de=R(8632),Te=R(7723),Oe=R(5033),V=R(4091);let Ot=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({imports:[[l.CommonModule,P.BQ,Te.Q8],P.BQ]}),i})();const G={provide:new r.InjectionToken("mat-autocomplete-scroll-strategy"),deps:[y.aV],useFactory:function j(i){return()=>i.scrollStrategies.reposition()}};let Rt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({providers:[G],imports:[[y.U8,P.Ng,P.BQ,l.CommonModule],v.ZD,P.Ng,P.BQ]}),i})();var Dt=R(8954);let f=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({imports:[[Dt.rt,P.BQ],P.BQ]}),i})();var g=R(9638);R(5834);let pi=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({imports:[[P.BQ,P.si],P.BQ]}),i})(),ai=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({imports:[[P.BQ],P.BQ]}),i})();var Xt=R(5544);let un=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({}),i})(),x=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({imports:[[P.si,P.BQ,Te.Q8,un],P.BQ,un]}),i})();const Qt=new r.InjectionToken("mat-chips-default-options");let Ii=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({providers:[P.rD,{provide:Qt,useValue:{separatorKeyCodes:[B.K5]}}],imports:[[P.BQ]]}),i})(),_n=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({imports:[[T.vT]]}),i})(),si=(()=>{class i{constructor(){this.changes=new z.Subject,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=r.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const vn={provide:si,deps:[[new r.Optional,new r.SkipSelf,si]],useFactory:function Li(i){return i||new si}};let He=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({providers:[vn,P.rD],imports:[[P.BQ,l.CommonModule,de.eL,g.ot,_n,Ie.Ps,P.si],P.BQ]}),i})(),ut=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({imports:[[xe.ud]]}),i})(),vi=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({providers:[P.rD],imports:[[ut,Ot,P.BQ],ut,Ot]}),i})(),oi=(()=>{class i{constructor(){this.changes=new z.Subject,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,t){return`${e} \u2013 ${t}`}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=r.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const ls={provide:new r.InjectionToken("mat-datepicker-scroll-strategy"),deps:[y.aV],useFactory:function os(i){return()=>i.scrollStrategies.reposition()}};let ra=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({providers:[oi,ls],imports:[[l.CommonModule,g.ot,y.U8,Dt.rt,de.eL,P.BQ],v.ZD]}),i})();function ps(i,n){}class Tr{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0}}const ms={dialogContainer:(0,V.X$)("dialogContainer",[(0,V.SB)("void, exit",(0,V.oB)({opacity:0,transform:"scale(0.7)"})),(0,V.SB)("enter",(0,V.oB)({transform:"none"})),(0,V.eR)("* => enter",(0,V.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,V.oB)({transform:"none",opacity:1}))),(0,V.eR)("* => void, * => exit",(0,V.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,V.oB)({opacity:0})))])};let fs=(()=>{class i extends de.en{constructor(e,t,a,c,N,oe,Fe,Ke){super(),this._elementRef=e,this._focusTrapFactory=t,this._changeDetectorRef=a,this._config=N,this._interactivityChecker=oe,this._ngZone=Fe,this._focusMonitor=Ke,this._animationStateChanged=new r.EventEmitter,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=We=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(We)),this._ariaLabelledBy=N.ariaLabelledBy||null,this._document=c}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,t){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{e.addEventListener("blur",()=>e.removeAttribute("tabindex")),e.addEventListener("mousedown",()=>e.removeAttribute("tabindex"))})),e.focus(t)}_focusByCssSelector(e,t){let a=this._elementRef.nativeElement.querySelector(e);a&&this._forceFocus(a,t)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(t=>{t||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const t=(0,xe.ht)(),a=this._elementRef.nativeElement;(!t||t===this._document.body||t===a||a.contains(t))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,xe.ht)())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,t=(0,xe.ht)();return e===t||e.contains(t)}}return i.\u0275fac=function(e){return new(e||i)(r.\u0275\u0275directiveInject(r.ElementRef),r.\u0275\u0275directiveInject(Dt.qV),r.\u0275\u0275directiveInject(r.ChangeDetectorRef),r.\u0275\u0275directiveInject(l.DOCUMENT,8),r.\u0275\u0275directiveInject(Tr),r.\u0275\u0275directiveInject(Dt.ic),r.\u0275\u0275directiveInject(r.NgZone),r.\u0275\u0275directiveInject(Dt.tE))},i.\u0275dir=r.\u0275\u0275defineDirective({type:i,viewQuery:function(e,t){if(1&e&&r.\u0275\u0275viewQuery(de.Pl,7),2&e){let a;r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(t._portalOutlet=a.first)}},features:[r.\u0275\u0275InheritDefinitionFeature]}),i})(),_s=(()=>{class i extends fs{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:t}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:t}))}_onAnimationStart({toState:e,totalTime:t}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:t}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:t})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return i.\u0275fac=function(){let n;return function(t){return(n||(n=r.\u0275\u0275getInheritedFactory(i)))(t||i)}}(),i.\u0275cmp=r.\u0275\u0275defineComponent({type:i,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,t){1&e&&r.\u0275\u0275syntheticHostListener("@dialogContainer.start",function(c){return t._onAnimationStart(c)})("@dialogContainer.done",function(c){return t._onAnimationDone(c)}),2&e&&(r.\u0275\u0275hostProperty("id",t._id),r.\u0275\u0275attribute("role",t._config.role)("aria-labelledby",t._config.ariaLabel?null:t._ariaLabelledBy)("aria-label",t._config.ariaLabel)("aria-describedby",t._config.ariaDescribedBy||null),r.\u0275\u0275syntheticHostProperty("@dialogContainer",t._state))},features:[r.\u0275\u0275InheritDefinitionFeature],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,t){1&e&&r.\u0275\u0275template(0,ps,0,0,"ng-template",0)},directives:[de.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[ms.dialogContainer]}}),i})(),gs=0;class vs{constructor(n,e,t="mat-dialog-"+gs++){this._overlayRef=n,this._containerInstance=e,this.id=t,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new z.Subject,this._afterClosed=new z.Subject,this._beforeClosed=new z.Subject,this._state=0,e._id=t,e._animationStateChanged.pipe((0,Oe.filter)(a=>"opened"===a.state),(0,Oe.take)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe((0,Oe.filter)(a=>"closed"===a.state),(0,Oe.take)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),n.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),n.keydownEvents().pipe((0,Oe.filter)(a=>a.keyCode===B.hY&&!this.disableClose&&!(0,B.Vb)(a))).subscribe(a=>{a.preventDefault(),aa(this,"keyboard")}),n.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():aa(this,"mouse")})}close(n){this._result=n,this._containerInstance._animationStateChanged.pipe((0,Oe.filter)(e=>"closing"===e.state),(0,Oe.take)(1)).subscribe(e=>{this._beforeClosed.next(n),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(n){let e=this._getPositionStrategy();return n&&(n.left||n.right)?n.left?e.left(n.left):e.right(n.right):e.centerHorizontally(),n&&(n.top||n.bottom)?n.top?e.top(n.top):e.bottom(n.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(n="",e=""){return this._overlayRef.updateSize({width:n,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(n){return this._overlayRef.addPanelClass(n),this}removePanelClass(n){return this._overlayRef.removePanelClass(n),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function aa(i,n,e){return void 0!==i._containerInstance&&(i._containerInstance._closeInteractionType=n),i.close(e)}const bs=new r.InjectionToken("MatDialogData"),ys=new r.InjectionToken("mat-dialog-default-options"),sa=new r.InjectionToken("mat-dialog-scroll-strategy"),Cs={provide:sa,deps:[y.aV],useFactory:function Ms(i){return()=>i.scrollStrategies.block()}};let Ds=(()=>{class i{constructor(e,t,a,c,N,oe,Fe,Ke,We,gt){this._overlay=e,this._injector=t,this._defaultOptions=a,this._parentDialog=c,this._overlayContainer=N,this._dialogRefConstructor=Fe,this._dialogContainerType=Ke,this._dialogDataToken=We,this._animationMode=gt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new z.Subject,this._afterOpenedAtThisLevel=new z.Subject,this._ariaHiddenElements=new Map,this._dialogAnimatingOpen=!1,this.afterAllClosed=(0,z.defer)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Oe.startWith)(void 0))),this._scrollStrategy=oe}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,t){if(t=function ws(i,n){return{...n,...i}}(t,this._defaultOptions||new Tr),t.id&&this.getDialogById(t.id),this._dialogAnimatingOpen)return this._lastDialogRef;const a=this._createOverlay(t),c=this._attachDialogContainer(a,t);if("NoopAnimations"!==this._animationMode){const oe=c._animationStateChanged.subscribe(Fe=>{"opening"===Fe.state&&(this._dialogAnimatingOpen=!0),"opened"===Fe.state&&(this._dialogAnimatingOpen=!1,oe.unsubscribe())});this._animationStateSubscriptions||(this._animationStateSubscriptions=new z.Subscription),this._animationStateSubscriptions.add(oe)}const N=this._attachDialogContent(e,c,a,t);return this._lastDialogRef=N,this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(N),N.afterClosed().subscribe(()=>this._removeOpenDialog(N)),this.afterOpened.next(N),c._initializeWithAttachedContent(),N}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._animationStateSubscriptions&&this._animationStateSubscriptions.unsubscribe()}_createOverlay(e){const t=this._getOverlayConfig(e);return this._overlay.create(t)}_getOverlayConfig(e){const t=new y.X_({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachDialogContainer(e,t){const c=r.Injector.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:Tr,useValue:t}]}),N=new de.C5(this._dialogContainerType,t.viewContainerRef,c,t.componentFactoryResolver);return e.attach(N).instance}_attachDialogContent(e,t,a,c){const N=new this._dialogRefConstructor(a,t,c.id);if(e instanceof r.TemplateRef)t.attachTemplatePortal(new de.UE(e,null,{$implicit:c.data,dialogRef:N}));else{const oe=this._createInjector(c,N,t),Fe=t.attachComponentPortal(new de.C5(e,c.viewContainerRef,oe));N.componentInstance=Fe.instance}return N.updateSize(c.width,c.height).updatePosition(c.position),N}_createInjector(e,t,a){const c=e&&e.viewContainerRef&&e.viewContainerRef.injector,N=[{provide:this._dialogContainerType,useValue:a},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:t}];return e.direction&&(!c||!c.get(T.Is,null,r.InjectFlags.Optional))&&N.push({provide:T.Is,useValue:{value:e.direction,change:(0,z.of)()}}),r.Injector.create({parent:c||this._injector,providers:N})}_removeOpenDialog(e){const t=this.openDialogs.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,c)=>{a?c.setAttribute("aria-hidden",a):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const t=e.parentElement.children;for(let a=t.length-1;a>-1;a--){let c=t[a];c!==e&&"SCRIPT"!==c.nodeName&&"STYLE"!==c.nodeName&&!c.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(c,c.getAttribute("aria-hidden")),c.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}}return i.\u0275fac=function(e){r.\u0275\u0275invalidFactory()},i.\u0275dir=r.\u0275\u0275defineDirective({type:i}),i})(),xs=(()=>{class i extends Ds{constructor(e,t,a,c,N,oe,Fe,Ke){super(e,t,c,oe,Fe,N,vs,_s,bs,Ke)}}return i.\u0275fac=function(e){return new(e||i)(r.\u0275\u0275inject(y.aV),r.\u0275\u0275inject(r.Injector),r.\u0275\u0275inject(l.Location,8),r.\u0275\u0275inject(ys,8),r.\u0275\u0275inject(sa),r.\u0275\u0275inject(i,12),r.\u0275\u0275inject(y.Xj),r.\u0275\u0275inject(Xt.Qb,8))},i.\u0275prov=r.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac}),i})(),oa=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({providers:[xs,Cs],imports:[[y.U8,de.eL,P.BQ],P.BQ]}),i})();var kr=R(8698);let ca=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({imports:[[l.CommonModule,P.BQ,kr.XD,de.eL]]}),i})(),ha=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({imports:[[P.uc,P.BQ],P.uc,P.BQ]}),i})(),Ts=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({imports:[[P.BQ],P.BQ]}),i})(),pa=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({imports:[[P.uc,P.si,P.BQ,P.us,l.CommonModule],P.uc,P.BQ,P.us,Ts]}),i})();const Ws={provide:new r.InjectionToken("mat-menu-scroll-strategy"),deps:[y.aV],useFactory:function Gs(i){return()=>i.scrollStrategies.reposition()}};let fa=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({providers:[Ws],imports:[[l.CommonModule,P.BQ,P.si,y.U8],v.ZD,P.BQ]}),i})();const Xs={provide:new r.InjectionToken("mat-select-scroll-strategy"),deps:[y.aV],useFactory:function Ks(i){return()=>i.scrollStrategies.reposition()}};let Ir=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({providers:[Xs],imports:[[l.CommonModule,y.U8,P.Ng,P.BQ],v.ZD,Ot,P.Ng,P.BQ]}),i})();const eo={provide:new r.InjectionToken("mat-tooltip-scroll-strategy"),deps:[y.aV],useFactory:function Js(i){return()=>i.scrollStrategies.reposition({scrollThrottle:20})}};let Rr=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({providers:[eo],imports:[[Dt.rt,l.CommonModule,y.U8,P.BQ],P.BQ,v.ZD]}),i})(),Ar=(()=>{class i{constructor(){this.changes=new z.Subject,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,t,a)=>{if(0==a||0==t)return`0 of ${a}`;const c=e*t;return`${c+1} \u2013 ${c<(a=Math.max(a,0))?Math.min(c+t,a):c+t} of ${a}`}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=r.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const so={provide:Ar,deps:[[new r.Optional,new r.SkipSelf,Ar]],useFactory:function ao(i){return i||new Ar}};let ga=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({providers:[so],imports:[[l.CommonModule,g.ot,Ir,Rr,P.BQ]]}),i})(),va=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({imports:[[l.CommonModule,P.BQ],P.BQ]}),i})();function lo(i,n){if(1&i&&(r.\u0275\u0275namespaceSVG(),r.\u0275\u0275element(0,"circle",3)),2&i){const e=r.\u0275\u0275nextContext();r.\u0275\u0275styleProp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),r.\u0275\u0275attribute("r",e._getCircleRadius())}}function co(i,n){if(1&i&&(r.\u0275\u0275namespaceSVG(),r.\u0275\u0275element(0,"circle",3)),2&i){const e=r.\u0275\u0275nextContext();r.\u0275\u0275styleProp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),r.\u0275\u0275attribute("r",e._getCircleRadius())}}const uo=(0,P.pj)(class{constructor(i){this._elementRef=i}},"primary"),po=new r.InjectionToken("mat-progress-spinner-default-options",{providedIn:"root",factory:function mo(){return{diameter:100}}});class rn extends uo{constructor(n,e,t,a,c){super(n),this._document=t,this._diameter=100,this._value=0,this.mode="determinate";const N=rn._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),N.has(t.head)||N.set(t.head,new Set([100])),this._noopAnimations="NoopAnimations"===a&&!!c&&!c._forceAnimations,c&&(c.diameter&&(this.diameter=c.diameter),c.strokeWidth&&(this.strokeWidth=c.strokeWidth))}get diameter(){return this._diameter}set diameter(n){this._diameter=(0,K.su)(n),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(n){this._strokeWidth=(0,K.su)(n)}get value(){return"determinate"===this.mode?this._value:0}set value(n){this._value=Math.max(0,Math.min(100,(0,K.su)(n)))}ngOnInit(){const n=this._elementRef.nativeElement;this._styleRoot=(0,xe.kV)(n)||this._document.head,this._attachStyleNode(),n.classList.add("mat-progress-spinner-indeterminate-animation")}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const n=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${n} ${n}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const n=this._styleRoot,e=this._diameter,t=rn._diameters;let a=t.get(n);if(!a||!a.has(e)){const c=this._document.createElement("style");c.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),c.textContent=this._getAnimationText(),n.appendChild(c),a||(a=new Set,t.set(n,a)),a.add(e)}}_getAnimationText(){const n=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*n).replace(/END_VALUE/g,""+.2*n).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}rn._diameters=new WeakMap,rn.\u0275fac=function(n){return new(n||rn)(r.\u0275\u0275directiveInject(r.ElementRef),r.\u0275\u0275directiveInject(xe.t4),r.\u0275\u0275directiveInject(l.DOCUMENT,8),r.\u0275\u0275directiveInject(Xt.Qb,8),r.\u0275\u0275directiveInject(po))},rn.\u0275cmp=r.\u0275\u0275defineComponent({type:rn,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(n,e){2&n&&(r.\u0275\u0275attribute("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),r.\u0275\u0275styleProp("width",e.diameter,"px")("height",e.diameter,"px"),r.\u0275\u0275classProp("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[r.\u0275\u0275InheritDefinitionFeature],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(n,e){1&n&&(r.\u0275\u0275namespaceSVG(),r.\u0275\u0275elementStart(0,"svg",0),r.\u0275\u0275template(1,lo,1,9,"circle",1),r.\u0275\u0275template(2,co,1,7,"circle",2),r.\u0275\u0275elementEnd()),2&n&&(r.\u0275\u0275styleProp("width",e.diameter,"px")("height",e.diameter,"px"),r.\u0275\u0275property("ngSwitch","indeterminate"===e.mode),r.\u0275\u0275attribute("viewBox",e._getViewBox()),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngSwitchCase",!0),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngSwitchCase",!1))},directives:[l.NgSwitch,l.NgSwitchCase],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let ba=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({imports:[[P.BQ,l.CommonModule],P.BQ]}),i})(),Da=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({imports:[[P.si,P.BQ],P.BQ]}),i})(),xa=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({imports:[[l.CommonModule,P.BQ,xe.ud,v.ZD],v.ZD,P.BQ]}),i})(),Sa=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({imports:[[l.CommonModule,P.BQ],P.BQ]}),i})(),Ea=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({}),i})(),Ta=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({imports:[[Ea,P.si,P.BQ,Te.Q8],Ea,P.BQ]}),i})();var ka=R(5360);let Fr=(()=>{class i{constructor(){this.changes=new z.Subject}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=r.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Jo={provide:Fr,deps:[[new r.Optional,new r.SkipSelf,Fr]],useFactory:function qo(i){return i||new Fr}};let Ia=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({providers:[Jo],imports:[[l.CommonModule,P.BQ]]}),i})(),pl=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({imports:[[v.Cl]]}),i})(),za=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({imports:[[pl,P.BQ],P.BQ]}),i})(),Ha=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({imports:[[l.CommonModule,P.BQ,de.eL,P.si,Te.Q8,Dt.rt],P.BQ]}),i})(),Ua=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({imports:[[P.BQ],P.BQ]}),i})(),Vl=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({}),i})(),Ga=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({imports:[[Vl,P.BQ],P.BQ]}),i})();var Xr=R(4350);const $l=[Rt,f,g.ot,pi,ai,x,Ii,He,ra,oa,ca,Ot,ha,Ie.Ps,vi,pa,fa,ga,va,ba,Da,P.si,Ir,xa,Sa,Ta,ka.ZX,Ia,za,Ha,Ua,Rr,Ga,Xr._t,kr.XD];let br=(()=>{class i{constructor(e){this.matIconRegistry=e}static forRoot(){return{ngModule:i,providers:[Ie.jv]}}}return i.\u0275fac=function(e){return new(e||i)(r.\u0275\u0275inject(Ie.jv))},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({imports:[[...$l],Rt,f,g.ot,pi,ai,x,Ii,He,ra,oa,ca,Ot,ha,Ie.Ps,vi,pa,fa,ga,va,ba,Da,P.si,Ir,xa,Sa,Ta,ka.ZX,Ia,za,Ha,Ua,Rr,Ga,Xr._t,kr.XD]}),i})(),Wa=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({providers:[],imports:[[br,l.CommonModule]]}),i})();"undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator),Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});let Kl=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({}),i})();var Xl=R(3928);let Zr=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({providers:[],imports:[[l.CommonModule,_e,w.UX,w.u5,br,Wa,Kl,Xl.YY],Wa]}),i})(),Ka=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({providers:[],imports:[[]]}),i})(),Xa=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({providers:[],imports:[[l.CommonModule,_e,Zr,w.UX,w.u5,br,Xr._t,Ka]]}),i})(),qr=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({imports:[[_e,Zr,Xa],_e,Zr,Xa]}),i})();var Zl=R(6152),ql=R(2898);let Za=(()=>{class i{constructor(){}ngDoBootstrap(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({providers:[],imports:[[l.CommonModule,w.UX,w.u5,Zl.HttpClientModule,br,qr,Ka,ql.HS]]}),i})(),Jl=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({providers:[],imports:[[Za,qr],Za,qr]}),i})()},8330:(ht,ze,R)=>{R.d(ze,{C:()=>Ie});var l=R(824),J=R(5033),r=R(7451),_e=R(5387);let Ie=(()=>{class K{constructor(P){this.formBuilderService=P,this.appDataObservables=[],this.started=new l.Subject,this.appCacheResolved=!1}get appSubs(){return this.appSubscription}fetchAppData(){return this.initializeDataCached(),this.started.next(!1),this.appSubscription=(0,l.combineLatest)(this.appDataObservables).pipe().subscribe(P=>{this.appCacheResolved=!0,this.started.next(!0)}),this.started.asObservable()}initializeDataCached(){this.appDataObservables=[this.formBuilderService.formBuilderGetAll().pipe((0,J.map)(this.formBuilderService.onSnapshotSuccess),(0,J.catchError)(P=>(0,l.of)(this.formBuilderService.onSnapshotError(P))))]}}return K.\u0275fac=function(P){return new(P||K)(r.\u0275\u0275inject(_e.c))},K.\u0275prov=r.\u0275\u0275defineInjectable({token:K,factory:K.\u0275fac,providedIn:"root"}),K})()},5387:(ht,ze,R)=>{R.d(ze,{c:()=>Lt});var l={};R.r(l),R.d(l,{Decoder:()=>b,Encoder:()=>h,PacketType:()=>p,protocol:()=>L});var w=R(824),J=R(747),Q=R(952),r=R(4171),_e=R(4966);const Ie="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function K(ee){const S=ee.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!S||_e))return new XMLHttpRequest}catch{}if(!S)try{return new(Ie[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch{}}function xe(ee,...S){return S.reduce((f,g)=>(ee.hasOwnProperty(g)&&(f[g]=ee[g]),f),{})}const P=setTimeout,z=clearTimeout;function y(ee,S){S.useNativeTimers?(ee.setTimeoutFn=P.bind(Ie),ee.clearTimeoutFn=z.bind(Ie)):(ee.setTimeoutFn=setTimeout.bind(Ie),ee.clearTimeoutFn=clearTimeout.bind(Ie))}var v=R(8573);const T=Object.create(null);T.open="0",T.close="1",T.ping="2",T.pong="3",T.message="4",T.upgrade="5",T.noop="6";const B=Object.create(null);Object.keys(T).forEach(ee=>{B[T[ee]]=ee});const de={type:"error",data:"parser error"},Te="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Oe="function"==typeof ArrayBuffer,ce=(ee,S)=>{const f=new FileReader;return f.onload=function(){const g=f.result.split(",")[1];S("b"+g)},f.readAsDataURL(ee)},Pe=({type:ee,data:S},f,g)=>Te&&S instanceof Blob?f?g(S):ce(S,g):Oe&&(S instanceof ArrayBuffer||(ee=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(ee):ee&&ee.buffer instanceof ArrayBuffer)(S))?f?g(S):ce(new Blob([S]),g):g(T[ee]+(S||""));for(var ge="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Be="undefined"==typeof Uint8Array?[]:new Uint8Array(256),we=0;we<ge.length;we++)Be[ge.charCodeAt(we)]=we;const le="function"==typeof ArrayBuffer,Ee=(ee,S)=>{if(le){const f=function(ee){var g,Z,be,Ue,et,S=.75*ee.length,f=ee.length,D=0;"="===ee[ee.length-1]&&(S--,"="===ee[ee.length-2]&&S--);var xt=new ArrayBuffer(S),_t=new Uint8Array(xt);for(g=0;g<f;g+=4)Z=Be[ee.charCodeAt(g)],be=Be[ee.charCodeAt(g+1)],Ue=Be[ee.charCodeAt(g+2)],et=Be[ee.charCodeAt(g+3)],_t[D++]=Z<<2|be>>4,_t[D++]=(15&be)<<4|Ue>>2,_t[D++]=(3&Ue)<<6|63&et;return xt}(ee);return he(f,S)}return{base64:!0,data:ee}},he=(ee,S)=>"blob"===S&&ee instanceof ArrayBuffer?new Blob([ee]):ee,je=(ee,S)=>{if("string"!=typeof ee)return{type:"message",data:he(ee,S)};const f=ee.charAt(0);return"b"===f?{type:"message",data:Ee(ee.substring(1),S)}:B[f]?ee.length>1?{type:B[f],data:ee.substring(1)}:{type:B[f]}:de},ie=String.fromCharCode(30);class Ce extends v.Q{constructor(S){super(),this.writable=!1,y(this,S),this.opts=S,this.query=S.query,this.readyState="",this.socket=S.socket}onError(S,f){const g=new Error(S);return g.type="TransportError",g.description=f,super.emit("error",g),this}open(){return("closed"===this.readyState||""===this.readyState)&&(this.readyState="opening",this.doOpen()),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(S){"open"===this.readyState&&this.write(S)}onOpen(){this.readyState="open",this.writable=!0,super.emit("open")}onData(S){const f=je(S,this.socket.binaryType);this.onPacket(f)}onPacket(S){super.emit("packet",S)}onClose(){this.readyState="closed",super.emit("close")}}var Le=R(5391),Qe=R(9603);class Ze extends Ce{constructor(){super(...arguments),this.polling=!1}get name(){return"polling"}doOpen(){this.poll()}pause(S){this.readyState="pausing";const f=()=>{this.readyState="paused",S()};if(this.polling||!this.writable){let g=0;this.polling&&(g++,this.once("pollComplete",function(){--g||f()})),this.writable||(g++,this.once("drain",function(){--g||f()}))}else f()}poll(){this.polling=!0,this.doPoll(),this.emit("poll")}onData(S){((ee,S)=>{const f=ee.split(ie),g=[];for(let D=0;D<f.length;D++){const Z=je(f[D],S);if(g.push(Z),"error"===Z.type)break}return g})(S,this.socket.binaryType).forEach(g=>{if("opening"===this.readyState&&"open"===g.type&&this.onOpen(),"close"===g.type)return this.onClose(),!1;this.onPacket(g)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const S=()=>{this.write([{type:"close"}])};"open"===this.readyState?S():this.once("open",S)}write(S){this.writable=!1,((ee,S)=>{const f=ee.length,g=new Array(f);let D=0;ee.forEach((Z,be)=>{Pe(Z,!1,Ue=>{g[be]=Ue,++D===f&&S(g.join(ie))})})})(S,f=>{this.doWrite(f,()=>{this.writable=!0,this.emit("drain")})})}uri(){let S=this.query||{};const f=this.opts.secure?"https":"http";let g="";!1!==this.opts.timestampRequests&&(S[this.opts.timestampParam]=Le()),!this.supportsBinary&&!S.sid&&(S.b64=1),this.opts.port&&("https"===f&&443!==Number(this.opts.port)||"http"===f&&80!==Number(this.opts.port))&&(g=":"+this.opts.port);const D=Qe.encode(S);return f+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+g+this.opts.path+(D.length?"?"+D:"")}}function lt(){}const kt=null!=new K({xdomain:!1}).responseType;let At=(()=>{class ee extends v.Q{constructor(f,g){super(),y(this,g),this.opts=g,this.method=g.method||"GET",this.uri=f,this.async=!1!==g.async,this.data=void 0!==g.data?g.data:null,this.create()}create(){const f=xe(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");f.xdomain=!!this.opts.xd,f.xscheme=!!this.opts.xs;const g=this.xhr=new K(f);try{g.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){g.setDisableHeaderCheck&&g.setDisableHeaderCheck(!0);for(let D in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(D)&&g.setRequestHeader(D,this.opts.extraHeaders[D])}}catch{}if("POST"===this.method)try{g.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{g.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in g&&(g.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(g.timeout=this.opts.requestTimeout),g.onreadystatechange=()=>{4===g.readyState&&(200===g.status||1223===g.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof g.status?g.status:0)},0))},g.send(this.data)}catch(D){return void this.setTimeoutFn(()=>{this.onError(D)},0)}"undefined"!=typeof document&&(this.index=ee.requestsCount++,ee.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(f){this.emit("data",f),this.onSuccess()}onError(f){this.emit("error",f),this.cleanup(!0)}cleanup(f){if(null!=this.xhr){if(this.xhr.onreadystatechange=lt,f)try{this.xhr.abort()}catch{}"undefined"!=typeof document&&delete ee.requests[this.index],this.xhr=null}}onLoad(){const f=this.xhr.responseText;null!==f&&this.onData(f)}abort(){this.cleanup()}}return ee.requestsCount=0,ee.requests={},ee})();function Ft(){for(let ee in At.requests)At.requests.hasOwnProperty(ee)&&At.requests[ee].abort()}"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",Ft):"function"==typeof addEventListener&&addEventListener("onpagehide"in Ie?"pagehide":"unload",Ft,!1));const yt="function"==typeof Promise&&"function"==typeof Promise.resolve?S=>Promise.resolve().then(S):(S,f)=>f(S,0),St=Ie.WebSocket||Ie.MozWebSocket,U="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class se extends Ce{constructor(S){super(S),this.supportsBinary=!S.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const S=this.uri(),f=this.opts.protocols,g=U?{}:xe(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(g.headers=this.opts.extraHeaders);try{this.ws=U?new St(S,f,g):f?new St(S,f):new St(S)}catch(D){return this.emit("error",D)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=S=>this.onData(S.data),this.ws.onerror=S=>this.onError("websocket error",S)}write(S){this.writable=!1;for(let f=0;f<S.length;f++){const D=f===S.length-1;Pe(S[f],this.supportsBinary,Z=>{try{this.ws.send(Z)}catch{}D&&yt(()=>{this.writable=!0,this.emit("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let S=this.query||{};const f=this.opts.secure?"wss":"ws";let g="";this.opts.port&&("wss"===f&&443!==Number(this.opts.port)||"ws"===f&&80!==Number(this.opts.port))&&(g=":"+this.opts.port),this.opts.timestampRequests&&(S[this.opts.timestampParam]=Le()),this.supportsBinary||(S.b64=1);const D=Qe.encode(S);return f+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+g+this.opts.path+(D.length?"?"+D:"")}check(){return!(!St||"__initialize"in St&&this.name===se.prototype.name)}}const ye={websocket:se,polling:class It extends Ze{constructor(S){if(super(S),"undefined"!=typeof location){const g="https:"===location.protocol;let D=location.port;D||(D=g?"443":"80"),this.xd="undefined"!=typeof location&&S.hostname!==location.hostname||D!==S.port,this.xs=S.secure!==g}this.supportsBinary=kt&&!(S&&S.forceBase64)}request(S={}){return Object.assign(S,{xd:this.xd,xs:this.xs},this.opts),new At(this.uri(),S)}doWrite(S,f){const g=this.request({method:"POST",data:S});g.on("success",f),g.on("error",D=>{this.onError("xhr post error",D)})}doPoll(){const S=this.request();S.on("data",this.onData.bind(this)),S.on("error",f=>{this.onError("xhr poll error",f)}),this.pollXhr=S}}};let Ae=(()=>{class ee extends v.Q{constructor(f,g={}){super(),f&&"object"==typeof f&&(g=f,f=null),f?(f=r(f),g.hostname=f.host,g.secure="https"===f.protocol||"wss"===f.protocol,g.port=f.port,f.query&&(g.query=f.query)):g.host&&(g.hostname=r(g.host).host),y(this,g),this.secure=null!=g.secure?g.secure:"undefined"!=typeof location&&"https:"===location.protocol,g.hostname&&!g.port&&(g.port=this.secure?"443":"80"),this.hostname=g.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=g.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=g.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},g),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=Qe.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close")},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(f){const g=function Ge(ee){const S={};for(let f in ee)ee.hasOwnProperty(f)&&(S[f]=ee[f]);return S}(this.opts.query);g.EIO=4,g.transport=f,this.id&&(g.sid=this.id);const D=Object.assign({},this.opts.transportOptions[f],this.opts,{query:g,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new ye[f](D)}open(){let f;if(this.opts.rememberUpgrade&&ee.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))f="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);f=this.transports[0]}this.readyState="opening";try{f=this.createTransport(f)}catch{return this.transports.shift(),void this.open()}f.open(),this.setTransport(f)}setTransport(f){this.transport&&this.transport.removeAllListeners(),this.transport=f,f.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",()=>{this.onClose("transport close")})}probe(f){let g=this.createTransport(f),D=!1;ee.priorWebsocketSuccess=!1;const Z=()=>{D||(g.send([{type:"ping",data:"probe"}]),g.once("packet",Ut=>{if(!D)if("pong"===Ut.type&&"probe"===Ut.data){if(this.upgrading=!0,this.emitReserved("upgrading",g),!g)return;ee.priorWebsocketSuccess="websocket"===g.name,this.transport.pause(()=>{D||"closed"!==this.readyState&&(ni(),this.setTransport(g),g.send([{type:"upgrade"}]),this.emitReserved("upgrade",g),g=null,this.upgrading=!1,this.flush())})}else{const ri=new Error("probe error");ri.transport=g.name,this.emitReserved("upgradeError",ri)}}))};function be(){D||(D=!0,ni(),g.close(),g=null)}const Ue=Ut=>{const ri=new Error("probe error: "+Ut);ri.transport=g.name,be(),this.emitReserved("upgradeError",ri)};function et(){Ue("transport closed")}function xt(){Ue("socket closed")}function _t(Ut){g&&Ut.name!==g.name&&be()}const ni=()=>{g.removeListener("open",Z),g.removeListener("error",Ue),g.removeListener("close",et),this.off("close",xt),this.off("upgrading",_t)};g.once("open",Z),g.once("error",Ue),g.once("close",et),this.once("close",xt),this.once("upgrading",_t),g.open()}onOpen(){if(this.readyState="open",ee.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let f=0;const g=this.upgrades.length;for(;f<g;f++)this.probe(this.upgrades[f])}}onPacket(f){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",f),this.emitReserved("heartbeat"),f.type){case"open":this.onHandshake(JSON.parse(f.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const g=new Error("server error");g.code=f.data,this.onError(g);break;case"message":this.emitReserved("data",f.data),this.emitReserved("message",f.data)}}onHandshake(f){this.emitReserved("handshake",f),this.id=f.sid,this.transport.query.sid=f.sid,this.upgrades=this.filterUpgrades(f.upgrades),this.pingInterval=f.pingInterval,this.pingTimeout=f.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emitReserved("flush"))}write(f,g,D){return this.sendPacket("message",f,g,D),this}send(f,g,D){return this.sendPacket("message",f,g,D),this}sendPacket(f,g,D,Z){if("function"==typeof g&&(Z=g,g=void 0),"function"==typeof D&&(Z=D,D=null),"closing"===this.readyState||"closed"===this.readyState)return;(D=D||{}).compress=!1!==D.compress;const be={type:f,data:g,options:D};this.emitReserved("packetCreate",be),this.writeBuffer.push(be),Z&&this.once("flush",Z),this.flush()}close(){const f=()=>{this.onClose("forced close"),this.transport.close()},g=()=>{this.off("upgrade",g),this.off("upgradeError",g),f()},D=()=>{this.once("upgrade",g),this.once("upgradeError",g)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?D():f()}):this.upgrading?D():f()),this}onError(f){ee.priorWebsocketSuccess=!1,this.emitReserved("error",f),this.onClose("transport error",f)}onClose(f,g){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",f,g),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(f){const g=[];let D=0;const Z=f.length;for(;D<Z;D++)~this.transports.indexOf(f[D])&&g.push(f[D]);return g}}return ee.protocol=4,ee})();const Xe="function"==typeof ArrayBuffer,ot=Object.prototype.toString,Et="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===ot.call(Blob),Ot="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===ot.call(File);function Pt(ee){return Xe&&(ee instanceof ArrayBuffer||(ee=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(ee):ee.buffer instanceof ArrayBuffer)(ee))||Et&&ee instanceof Blob||Ot&&ee instanceof File}function Tt(ee,S){if(!ee||"object"!=typeof ee)return!1;if(Array.isArray(ee)){for(let f=0,g=ee.length;f<g;f++)if(Tt(ee[f]))return!0;return!1}if(Pt(ee))return!0;if(ee.toJSON&&"function"==typeof ee.toJSON&&1===arguments.length)return Tt(ee.toJSON(),!0);for(const f in ee)if(Object.prototype.hasOwnProperty.call(ee,f)&&Tt(ee[f]))return!0;return!1}function Yt(ee){const S=[],g=ee;return g.data=Nt(ee.data,S),g.attachments=S.length,{packet:g,buffers:S}}function Nt(ee,S){if(!ee)return ee;if(Pt(ee)){const f={_placeholder:!0,num:S.length};return S.push(ee),f}if(Array.isArray(ee)){const f=new Array(ee.length);for(let g=0;g<ee.length;g++)f[g]=Nt(ee[g],S);return f}if("object"==typeof ee&&!(ee instanceof Date)){const f={};for(const g in ee)Object.prototype.hasOwnProperty.call(ee,g)&&(f[g]=Nt(ee[g],S));return f}return ee}function Kt(ee,S){return ee.data=li(ee.data,S),ee.attachments=void 0,ee}function li(ee,S){if(!ee)return ee;if(ee&&ee._placeholder)return S[ee.num];if(Array.isArray(ee))for(let f=0;f<ee.length;f++)ee[f]=li(ee[f],S);else if("object"==typeof ee)for(const f in ee)Object.prototype.hasOwnProperty.call(ee,f)&&(ee[f]=li(ee[f],S));return ee}const L=5;var p=(()=>{return(ee=p||(p={}))[ee.CONNECT=0]="CONNECT",ee[ee.DISCONNECT=1]="DISCONNECT",ee[ee.EVENT=2]="EVENT",ee[ee.ACK=3]="ACK",ee[ee.CONNECT_ERROR=4]="CONNECT_ERROR",ee[ee.BINARY_EVENT=5]="BINARY_EVENT",ee[ee.BINARY_ACK=6]="BINARY_ACK",p;var ee})();class h{encode(S){return S.type!==p.EVENT&&S.type!==p.ACK||!Tt(S)?[this.encodeAsString(S)]:(S.type=S.type===p.EVENT?p.BINARY_EVENT:p.BINARY_ACK,this.encodeAsBinary(S))}encodeAsString(S){let f=""+S.type;return(S.type===p.BINARY_EVENT||S.type===p.BINARY_ACK)&&(f+=S.attachments+"-"),S.nsp&&"/"!==S.nsp&&(f+=S.nsp+","),null!=S.id&&(f+=S.id),null!=S.data&&(f+=JSON.stringify(S.data)),f}encodeAsBinary(S){const f=Yt(S),g=this.encodeAsString(f.packet),D=f.buffers;return D.unshift(g),D}}class b extends v.Q{constructor(){super()}add(S){let f;if("string"==typeof S)f=this.decodeString(S),f.type===p.BINARY_EVENT||f.type===p.BINARY_ACK?(this.reconstructor=new Y(f),0===f.attachments&&super.emitReserved("decoded",f)):super.emitReserved("decoded",f);else{if(!Pt(S)&&!S.base64)throw new Error("Unknown type: "+S);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");f=this.reconstructor.takeBinaryData(S),f&&(this.reconstructor=null,super.emitReserved("decoded",f))}}decodeString(S){let f=0;const g={type:Number(S.charAt(0))};if(void 0===p[g.type])throw new Error("unknown packet type "+g.type);if(g.type===p.BINARY_EVENT||g.type===p.BINARY_ACK){const Z=f+1;for(;"-"!==S.charAt(++f)&&f!=S.length;);const be=S.substring(Z,f);if(be!=Number(be)||"-"!==S.charAt(f))throw new Error("Illegal attachments");g.attachments=Number(be)}if("/"===S.charAt(f+1)){const Z=f+1;for(;++f&&","!==S.charAt(f)&&f!==S.length;);g.nsp=S.substring(Z,f)}else g.nsp="/";const D=S.charAt(f+1);if(""!==D&&Number(D)==D){const Z=f+1;for(;++f;){const be=S.charAt(f);if(null==be||Number(be)!=be){--f;break}if(f===S.length)break}g.id=Number(S.substring(Z,f+1))}if(S.charAt(++f)){const Z=function E(ee){try{return JSON.parse(ee)}catch{return!1}}(S.substr(f));if(!b.isPayloadValid(g.type,Z))throw new Error("invalid payload");g.data=Z}return g}static isPayloadValid(S,f){switch(S){case p.CONNECT:return"object"==typeof f;case p.DISCONNECT:return void 0===f;case p.CONNECT_ERROR:return"string"==typeof f||"object"==typeof f;case p.EVENT:case p.BINARY_EVENT:return Array.isArray(f)&&f.length>0;case p.ACK:case p.BINARY_ACK:return Array.isArray(f)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class Y{constructor(S){this.packet=S,this.buffers=[],this.reconPack=S}takeBinaryData(S){if(this.buffers.push(S),this.buffers.length===this.reconPack.attachments){const f=Kt(this.reconPack,this.buffers);return this.finishedReconstruction(),f}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function ue(ee,S,f){return ee.on(S,f),function(){ee.off(S,f)}}const j=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class G extends v.Q{constructor(S,f,g){super(),this.connected=!1,this.disconnected=!0,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=S,this.nsp=f,g&&g.auth&&(this.auth=g.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;const S=this.io;this.subs=[ue(S,"open",this.onopen.bind(this)),ue(S,"packet",this.onpacket.bind(this)),ue(S,"error",this.onerror.bind(this)),ue(S,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...S){return S.unshift("message"),this.emit.apply(this,S),this}emit(S,...f){if(j.hasOwnProperty(S))throw new Error('"'+S+'" is a reserved event name');f.unshift(S);const g={type:p.EVENT,data:f,options:{}};if(g.options.compress=!1!==this.flags.compress,"function"==typeof f[f.length-1]){const be=this.ids++,Ue=f.pop();this._registerAckCallback(be,Ue),g.id=be}return this.flags.volatile&&(!(this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable)||!this.connected)||(this.connected?this.packet(g):this.sendBuffer.push(g)),this.flags={},this}_registerAckCallback(S,f){const g=this.flags.timeout;if(void 0===g)return void(this.acks[S]=f);const D=this.io.setTimeoutFn(()=>{delete this.acks[S];for(let Z=0;Z<this.sendBuffer.length;Z++)this.sendBuffer[Z].id===S&&this.sendBuffer.splice(Z,1);f.call(this,new Error("operation has timed out"))},g);this.acks[S]=(...Z)=>{this.io.clearTimeoutFn(D),f.apply(this,[null,...Z])}}packet(S){S.nsp=this.nsp,this.io._packet(S)}onopen(){"function"==typeof this.auth?this.auth(S=>{this.packet({type:p.CONNECT,data:S})}):this.packet({type:p.CONNECT,data:this.auth})}onerror(S){this.connected||this.emitReserved("connect_error",S)}onclose(S){this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",S)}onpacket(S){if(S.nsp===this.nsp)switch(S.type){case p.CONNECT:S.data&&S.data.sid?this.onconnect(S.data.sid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case p.EVENT:case p.BINARY_EVENT:this.onevent(S);break;case p.ACK:case p.BINARY_ACK:this.onack(S);break;case p.DISCONNECT:this.ondisconnect();break;case p.CONNECT_ERROR:this.destroy();const g=new Error(S.data.message);g.data=S.data.data,this.emitReserved("connect_error",g)}}onevent(S){const f=S.data||[];null!=S.id&&f.push(this.ack(S.id)),this.connected?this.emitEvent(f):this.receiveBuffer.push(Object.freeze(f))}emitEvent(S){if(this._anyListeners&&this._anyListeners.length){const f=this._anyListeners.slice();for(const g of f)g.apply(this,S)}super.emit.apply(this,S)}ack(S){const f=this;let g=!1;return function(...D){g||(g=!0,f.packet({type:p.ACK,id:S,data:D}))}}onack(S){const f=this.acks[S.id];"function"==typeof f&&(f.apply(this,S.data),delete this.acks[S.id])}onconnect(S){this.id=S,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(S=>this.emitEvent(S)),this.receiveBuffer=[],this.sendBuffer.forEach(S=>this.packet(S)),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(S=>S()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:p.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(S){return this.flags.compress=S,this}get volatile(){return this.flags.volatile=!0,this}timeout(S){return this.flags.timeout=S,this}onAny(S){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(S),this}prependAny(S){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(S),this}offAny(S){if(!this._anyListeners)return this;if(S){const f=this._anyListeners;for(let g=0;g<f.length;g++)if(S===f[g])return f.splice(g,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}var W=R(7591);class ve extends v.Q{constructor(S,f){var g;super(),this.nsps={},this.subs=[],S&&"object"==typeof S&&(f=S,S=void 0),(f=f||{}).path=f.path||"/socket.io",this.opts=f,y(this,f),this.reconnection(!1!==f.reconnection),this.reconnectionAttempts(f.reconnectionAttempts||1/0),this.reconnectionDelay(f.reconnectionDelay||1e3),this.reconnectionDelayMax(f.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(g=f.randomizationFactor)&&void 0!==g?g:.5),this.backoff=new W({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(f.timeout??2e4),this._readyState="closed",this.uri=S;const D=f.parser||l;this.encoder=new D.Encoder,this.decoder=new D.Decoder,this._autoConnect=!1!==f.autoConnect,this._autoConnect&&this.open()}reconnection(S){return arguments.length?(this._reconnection=!!S,this):this._reconnection}reconnectionAttempts(S){return void 0===S?this._reconnectionAttempts:(this._reconnectionAttempts=S,this)}reconnectionDelay(S){var f;return void 0===S?this._reconnectionDelay:(this._reconnectionDelay=S,null===(f=this.backoff)||void 0===f||f.setMin(S),this)}randomizationFactor(S){var f;return void 0===S?this._randomizationFactor:(this._randomizationFactor=S,null===(f=this.backoff)||void 0===f||f.setJitter(S),this)}reconnectionDelayMax(S){var f;return void 0===S?this._reconnectionDelayMax:(this._reconnectionDelayMax=S,null===(f=this.backoff)||void 0===f||f.setMax(S),this)}timeout(S){return arguments.length?(this._timeout=S,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(S){if(~this._readyState.indexOf("open"))return this;this.engine=new Ae(this.uri,this.opts);const f=this.engine,g=this;this._readyState="opening",this.skipReconnect=!1;const D=ue(f,"open",function(){g.onopen(),S&&S()}),Z=ue(f,"error",be=>{g.cleanup(),g._readyState="closed",this.emitReserved("error",be),S?S(be):g.maybeReconnectOnOpen()});if(!1!==this._timeout){const be=this._timeout;0===be&&D();const Ue=this.setTimeoutFn(()=>{D(),f.close(),f.emit("error",new Error("timeout"))},be);this.opts.autoUnref&&Ue.unref(),this.subs.push(function(){clearTimeout(Ue)})}return this.subs.push(D),this.subs.push(Z),this}connect(S){return this.open(S)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const S=this.engine;this.subs.push(ue(S,"ping",this.onping.bind(this)),ue(S,"data",this.ondata.bind(this)),ue(S,"error",this.onerror.bind(this)),ue(S,"close",this.onclose.bind(this)),ue(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(S){this.decoder.add(S)}ondecoded(S){this.emitReserved("packet",S)}onerror(S){this.emitReserved("error",S)}socket(S,f){let g=this.nsps[S];return g||(g=new G(this,S,f),this.nsps[S]=g),g}_destroy(S){const f=Object.keys(this.nsps);for(const g of f)if(this.nsps[g].active)return;this._close()}_packet(S){const f=this.encoder.encode(S);for(let g=0;g<f.length;g++)this.engine.write(f[g],S.options)}cleanup(){this.subs.forEach(S=>S()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(S){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",S),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const S=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const f=this.backoff.duration();this._reconnecting=!0;const g=this.setTimeoutFn(()=>{S.skipReconnect||(this.emitReserved("reconnect_attempt",S.backoff.attempts),!S.skipReconnect&&S.open(D=>{D?(S._reconnecting=!1,S.reconnect(),this.emitReserved("reconnect_error",D)):S.onreconnect()}))},f);this.opts.autoUnref&&g.unref(),this.subs.push(function(){clearTimeout(g)})}}onreconnect(){const S=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",S)}}const Ye={};function pt(ee,S){"object"==typeof ee&&(S=ee,ee=void 0);const f=function De(ee,S="",f){let g=ee;f=f||"undefined"!=typeof location&&location,null==ee&&(ee=f.protocol+"//"+f.host),"string"==typeof ee&&("/"===ee.charAt(0)&&(ee="/"===ee.charAt(1)?f.protocol+ee:f.host+ee),/^(https?|wss?):\/\//.test(ee)||(ee=void 0!==f?f.protocol+"//"+ee:"https://"+ee),g=r(ee)),g.port||(/^(http|ws)$/.test(g.protocol)?g.port="80":/^(http|ws)s$/.test(g.protocol)&&(g.port="443")),g.path=g.path||"/";const Z=-1!==g.host.indexOf(":")?"["+g.host+"]":g.host;return g.id=g.protocol+"://"+Z+":"+g.port+S,g.href=g.protocol+"://"+Z+(f&&f.port===g.port?"":":"+g.port),g}(ee,(S=S||{}).path||"/socket.io"),g=f.source,D=f.id;let et;return S.forceNew||S["force new connection"]||!1===S.multiplex||Ye[D]&&f.path in Ye[D].nsps?et=new ve(g,S):(Ye[D]||(Ye[D]=new ve(g,S)),et=Ye[D]),f.query&&!S.query&&(S.query=f.queryKey),et.socket(f.path,S)}Object.assign(pt,{Manager:ve,Socket:G,io:pt,connect:pt});var Rt=R(7451),Dt=R(6152);let Lt=(()=>{class ee{constructor(f){this.http=f,this.baseUrl=J.N.baseUrl,this._fieldSchemaObservable$=new w.Subject,this.fieldSchemaSubject$=this._fieldSchemaObservable$.asObservable(),this._selectedFieldKeySubject$=new w.Subject,this.selectedFieldKeyObservable$=this._selectedFieldKeySubject$.asObservable(),this._sharedConnectListSubject$=new w.Subject,this.sharedConnectListObservable$=this._sharedConnectListSubject$.asObservable(),this._showSectionToolbarSubject$=new w.Subject,this.showSectionToolbarObservable$=this._showSectionToolbarSubject$.asObservable(),this._selectedFormSubject$=new w.Subject,this.selectedFormObservable$=this._selectedFormSubject$.asObservable(),this.forms=[],this.onSnapshotSuccess=g=>{this.forms=g,pt(this.baseUrl).on("forms",Z=>{switch(Z.operationType){case"update":const be=this.forms.findIndex(_t=>_t._id===Z.documentKey._id);this.forms[be]={...this.forms[be],...Z.updateDescription?.updatedFields},this.selectedForm._id&&this.getFormById(this.selectedForm._id);break;case"insert":const Ue=Z.fullDocument;this.forms.push(Ue),this.getFormById(Ue._id);break;case"delete":const et=Z.documentKey._id,xt=this.forms.findIndex(_t=>_t._id===et);this.forms.splice(xt,1),this.selectedForm._id===et&&this.getFormById(this.forms[this.forms.length-1]._id)}})},this.onSnapshotError=g=>{console.log(g)}}get selectedForm(){return this._selectedForm}set selectedForm(f){this._selectedForm=f}emmitChangesFields(f){this._fieldSchemaObservable$.next(f)}onChangesField(){return this.fieldSchemaSubject$}emmitFieldKey(f){this._selectedFieldKeySubject$.next(f)}onChangedFieldKey(){return this.selectedFieldKeyObservable$}emmitSharedConnectList(f){this._sharedConnectListSubject$.next(f)}onChangesSharedConnectList(){return this.sharedConnectListObservable$}emmitShowSectionToolbar(f){this._showSectionToolbarSubject$.next(f)}onChangesShowSectionToolbar(){return this.showSectionToolbarObservable$}emmitSelectedForm(f){this._selectedFormSubject$.next(f)}onChangesSelectedForm(){return this.selectedFormObservable$}getFormById(f){const g=this.forms.find(D=>D._id===f)??this.forms[this.forms.length-1];this.selectedForm=g??new Q.l0,this.emmitSelectedForm(g)}formBuilderCreateForm(f){return this.http.post(`${this.baseUrl}/forms`,f)}formBuilderUpdateForm(f,g){return this.http.put(`${this.baseUrl}/forms/${f}`,g)}formBuilderGetAll(){return this.http.get(`${this.baseUrl}/forms`)}formBuilderGetOne(f){return this.http.get(`${this.baseUrl}/forms/${f}`)}formBuilderRemoveOne(f){return this.http.delete(`${this.baseUrl}/forms/${f}`)}}return ee.\u0275fac=function(f){return new(f||ee)(Rt.\u0275\u0275inject(Dt.HttpClient))},ee.\u0275prov=Rt.\u0275\u0275defineInjectable({token:ee,factory:ee.\u0275fac,providedIn:"root"}),ee})()},677:(ht,ze,R)=>{R.d(ze,{F:()=>Ie});var l=R(4762),w=R(9425),J=R(9497),Q=R(952);let r=(()=>{class K{constructor(P){this.formSchemaGeneralSettings=P}}return K.type="update properties",K})();var De=R(7451);const _e={item:new Q.UZ};let Ie=class{constructor(){}addTodo(xe,P){const z=xe.getState();xe.setState({...z,item:P.formSchemaGeneralSettings})}};Ie.\u0275fac=function(xe){return new(xe||Ie)},Ie.\u0275prov=De.\u0275\u0275defineInjectable({token:Ie,factory:Ie.\u0275fac}),(0,l.gn)([(0,w.aU)(r),(0,J.VD)(r)],Ie.prototype,"addTodo",null),Ie=(0,l.gn)([(0,w.ZM)({name:"updateForm",defaults:_e})],Ie)},8306:(ht,ze,R)=>{R.r(ze);var l=R(5998),w=R(7451),J=R(92),Q=R(9497),r=R(2186),De=R(8330),_e=R(3192),Ie=R(8433),K=R(1593);function xe(ge,Be){1&ge&&w.\u0275\u0275element(0,"splash-view-organism")}let P=(()=>{class ge{constructor(we){this.cacheLoaderService=we,this.title="mf-components",this.formSchemaGeneralSettings=r.bQ}ngOnDestroy(){}ngOnInit(){}}return ge.\u0275fac=function(we){return new(we||ge)(w.\u0275\u0275directiveInject(De.C))},ge.\u0275cmp=w.\u0275\u0275defineComponent({type:ge,selectors:[["app-root"]],decls:2,vars:1,consts:[[4,"ngIf"]],template:function(we,ae){1&we&&(w.\u0275\u0275template(0,xe,1,0,"splash-view-organism",0),w.\u0275\u0275element(1,"router-outlet")),2&we&&w.\u0275\u0275property("ngIf",!ae.cacheLoaderService.appCacheResolved)},directives:[_e.NgIf,Ie.RouterOutlet,K._],styles:[".grid-snap[_ngcontent-%COMP%]{width:40%;background-color:#29e;color:#fff;touch-action:none;cursor:move}"]}),ge})();var z=R(4350),y=R(5544),v=R(3942),T=R(5033);let B=(()=>{class ge{constructor(we,ae){this.router=we,this.cacheLoaderService=ae}canActivate(we,ae){return!!this.cacheLoaderService.appCacheResolved||this.cacheLoaderService.fetchAppData().pipe((0,T.finalize)(()=>{}))}}return ge.\u0275fac=function(we){return new(we||ge)(w.\u0275\u0275inject(Ie.Router),w.\u0275\u0275inject(De.C))},ge.\u0275prov=w.\u0275\u0275defineInjectable({token:ge,factory:ge.\u0275fac}),ge})();const de=[{path:"constructor",canActivate:[B],loadChildren:()=>R.e(758).then(R.bind(R,3758)).then(ge=>ge.ConstructorModule)},{path:"",redirectTo:"/constructor",pathMatch:"full"}];let Te=(()=>{class ge{}return ge.\u0275fac=function(we){return new(we||ge)},ge.\u0275mod=w.\u0275\u0275defineNgModule({type:ge}),ge.\u0275inj=w.\u0275\u0275defineInjector({imports:[[Ie.RouterModule.forRoot(de)],Ie.RouterModule]}),ge})();var Oe=R(9425),V=R(747),Ve=R(677),ce=R(6923);let Pe=(()=>{class ge{}return ge.\u0275fac=function(we){return new(we||ge)},ge.\u0275mod=w.\u0275\u0275defineNgModule({type:ge,bootstrap:[P]}),ge.\u0275inj=w.\u0275\u0275defineInjector({providers:[B],imports:[[l.b2,J.UX,v.m,z._t,y.PW,Te,Oe.$l.forRoot([],{developmentMode:!V.N.production}),Oe.$l.forFeature([Ve.F]),Q.iq.forRoot(),ce.nm.forRoot()]]}),ge})();V.N.production&&(0,w.enableProdMode)(),l.q6().bootstrapModule(Pe).catch(ge=>console.error(ge))},747:(ht,ze,R)=>{R.d(ze,{N:()=>l});const l={production:!0,baseUrl:"http://localhost:3000"}},952:(ht,ze,R)=>{R.d(ze,{Ku:()=>l,v5:()=>w,UZ:()=>Q,bn:()=>De,K7:()=>_e,gk:()=>K,l0:()=>P});var l=(()=>{return(z=l||(l={})).SUBMIT="submit",z.FETCHING="fetching",z.FILL_DATATABLE="fillDataTable",l;var z})(),w=(()=>{return(z=w||(w={})).ONCLCIK="onClick",z.ONINIT="onInit",z.ONCHANGE="onChange",w;var z})();class Q{constructor(y){this.fields=y?.fields??[],this.schemeColumns=y?.schemeColumns??[],this.generalSetting=y?.generalSetting??new K,this.variables=y?.variables??[]}}class De{constructor(y){this.key=y?.key??"",this.numberColumns=y?.numberColumns??0,this.schemaLayout=y?.schemaLayout??[]}}class _e{constructor(y){this.key=y?.key??"",this.isArray=y?.isArray??!1,this.type=y?.type??"",this.label=y?.label??"",this.title=y?.title??"",this.value=y?.value??"",this.mask=y?.mask??"",this.specialCharacters=y?.specialCharacters??[],this.patterns=y?.patterns??{},this.required=y?.required??!1,this.disabled=y?.disabled??!1,this.placeholder=y?.placeholder??"",this.options=y?.options??[],this.multiline=y?.multiline??!1,this.eventType=y?.eventType??"",this.propertiesStyle=y?.propertiesStyle??{},this.typeReference=y?.typeReference??"",this.header=y?.header??[],this.fetching=y?.fetching??{}}}class K{constructor(y){this.endpointUrlBase=y?.endpointUrlBase??"",this.token=y?.token??"",this.typeForm=y?.typeForm??""}}class P extends class xe{constructor(y){this._id=y?._id??"",this.active=y?.active??0,this.createdAt=y?.createdAt??0,this.updatedAt=y?.updatedAt??0}}{constructor(y){super(y),this.name=y?.name??"",this.description=y?.description??"",this.settings=y?.settings??new Q}}},2186:(ht,ze,R)=>{R.d(ze,{bQ:()=>r,wC:()=>De,Rz:()=>_e});var l=R(6483);const r={fields:[{key:"titlePage",type:l.y.ELEMENT_LABEL,label:"Este es un maravilloso formulario",propertiesStyle:{position:{x:450,y:-10},dimensions:{width:400,height:100}}}],schemeColumns:[{key:"row1",numberColumns:1,schemaLayout:[{key:"generalTitle",schemaColums:["titlePage"]}]},{key:"row2",numberColumns:4,schemaLayout:[{key:"sectionOne",schemaColums:["firstName","country","birthDate"]},{key:"sectionTwo",schemaColums:["email","gender","fishing","cooking"]},{key:"section3",schemaColums:[]},{key:"section4",schemaColums:[]}]},{key:"row3",numberColumns:1,schemaLayout:[{key:"row3Section1",schemaColums:["buttonHola"]},{key:"row3Section2",schemaColums:["buttonFetching"]}]}],generalSetting:{endpointUrlBase:"https://localhost:8080",token:""},variables:[]},De={[l.y.ELEMENT_LABEL]:{fontSize:"18px",color:"white"},[l.y.ELEMENT_TEXT]:{fontSize:"14px",backgroundColor:"#363636",borderRadius:"5px",color:"white",border:"none",padding:"10px",marginTop:"0.938rem"},[l.y.ELEMENT_BUTTON]:{fontSize:"14px",backgroundColor:"white",borderRadius:"5px",color:"#262626",padding:"12px"},[l.y.ELEMENT_CHECKBOX]:{fontSize:"14px",color:"white",fontWeight:"bold"},[l.y.ELEMENT_DROPDOWN]:{fontSize:"14px",backgroundColor:"#363636",borderRadius:"5px",color:"white",border:"none",marginTop:"0.938rem",backgroundImage:"url(\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'><path fill='none' stroke='white' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/></svg>\")"}},_e={[l.y.ELEMENT_LABEL]:{marginTop:"0.938rem",fontSize:"18px",color:"white"},[l.y.ELEMENT_TEXT]:{fontSize:"14px",backgroundColor:"#363636",borderRadius:"5px",color:"white",border:"none",padding:"10px"},[l.y.ELEMENT_DROPDOWN]:{fontSize:"14px",backgroundColor:"#363636",borderRadius:"5px",color:"white",border:"none",backgroundImage:"url(\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'><path fill='none' stroke='white' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/></svg>\")"}}},4762:(ht,ze,R)=>{function r(ae,H,le,me){var je,Ee=arguments.length,he=Ee<3?H:null===me?me=Object.getOwnPropertyDescriptor(H,le):me;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)he=Reflect.decorate(ae,H,le,me);else for(var ie=ae.length-1;ie>=0;ie--)(je=ae[ie])&&(he=(Ee<3?je(he):Ee>3?je(H,le,he):je(H,le))||he);return Ee>3&&he&&Object.defineProperty(H,le,he),he}R.d(ze,{gn:()=>r})},4091:(ht,ze,R)=>{R.d(ze,{l3:()=>J,_j:()=>l,LC:()=>w,ZN:()=>Te,jt:()=>r,pV:()=>y,F4:()=>xe,IO:()=>T,vP:()=>_e,SB:()=>K,oB:()=>Ie,eR:()=>P,X$:()=>Q,ZE:()=>Oe,k1:()=>V});class l{}class w{}const J="*";function Q(Ve,ce){return{type:7,name:Ve,definitions:ce,options:{}}}function r(Ve,ce=null){return{type:4,styles:ce,timings:Ve}}function _e(Ve,ce=null){return{type:2,steps:Ve,options:ce}}function Ie(Ve){return{type:6,styles:Ve,offset:null}}function K(Ve,ce,Pe){return{type:0,name:Ve,styles:ce,options:Pe}}function xe(Ve){return{type:5,steps:Ve}}function P(Ve,ce,Pe=null){return{type:1,expr:Ve,animation:ce,options:Pe}}function y(Ve=null){return{type:9,options:Ve}}function T(Ve,ce,Pe=null){return{type:11,selector:Ve,animation:ce,options:Pe}}function de(Ve){Promise.resolve(null).then(Ve)}class Te{constructor(ce=0,Pe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ce+Pe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ce=>ce()),this._onDoneFns=[])}onStart(ce){this._onStartFns.push(ce)}onDone(ce){this._onDoneFns.push(ce)}onDestroy(ce){this._onDestroyFns.push(ce)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){de(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ce=>ce()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ce=>ce()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(ce){this._position=this.totalTime?ce*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ce){const Pe="start"==ce?this._onStartFns:this._onDoneFns;Pe.forEach(ge=>ge()),Pe.length=0}}class Oe{constructor(ce){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ce;let Pe=0,ge=0,Be=0;const we=this.players.length;0==we?de(()=>this._onFinish()):this.players.forEach(ae=>{ae.onDone(()=>{++Pe==we&&this._onFinish()}),ae.onDestroy(()=>{++ge==we&&this._onDestroy()}),ae.onStart(()=>{++Be==we&&this._onStart()})}),this.totalTime=this.players.reduce((ae,H)=>Math.max(ae,H.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ce=>ce()),this._onDoneFns=[])}init(){this.players.forEach(ce=>ce.init())}onStart(ce){this._onStartFns.push(ce)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ce=>ce()),this._onStartFns=[])}onDone(ce){this._onDoneFns.push(ce)}onDestroy(ce){this._onDestroyFns.push(ce)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ce=>ce.play())}pause(){this.players.forEach(ce=>ce.pause())}restart(){this.players.forEach(ce=>ce.restart())}finish(){this._onFinish(),this.players.forEach(ce=>ce.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ce=>ce.destroy()),this._onDestroyFns.forEach(ce=>ce()),this._onDestroyFns=[])}reset(){this.players.forEach(ce=>ce.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ce){const Pe=ce*this.totalTime;this.players.forEach(ge=>{const Be=ge.totalTime?Math.min(1,Pe/ge.totalTime):1;ge.setPosition(Be)})}getPosition(){const ce=this.players.reduce((Pe,ge)=>null===Pe||ge.totalTime>Pe.totalTime?ge:Pe,null);return null!=ce?ce.getPosition():0}beforeDestroy(){this.players.forEach(ce=>{ce.beforeDestroy&&ce.beforeDestroy()})}triggerCallback(ce){const Pe="start"==ce?this._onStartFns:this._onDoneFns;Pe.forEach(ge=>ge()),Pe.length=0}}const V="!"},8954:(ht,ze,R)=>{R.d(ze,{rt:()=>li,Em:()=>ge,tE:()=>Ot,qV:()=>Qe,qm:()=>Kt,ic:()=>we,Kd:()=>Xe,X6:()=>yt,yG:()=>St});var l=R(3192),w=R(7451),J=R(824),Q=R(5436),r=R(5033),De=R(4929),_e=R(6321),Ie=R(7723);class ge extends class ce{constructor(p){this._items=p,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new J.Subject,this._typeaheadSubscription=J.Subscription.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=h=>h.disabled,this._pressedLetters=[],this.tabOut=new J.Subject,this.change=new J.Subject,p instanceof w.QueryList&&p.changes.subscribe(h=>{if(this._activeItem){const E=h.toArray().indexOf(this._activeItem);E>-1&&E!==this._activeItemIndex&&(this._activeItemIndex=E)}})}skipPredicate(p){return this._skipPredicateFn=p,this}withWrap(p=!0){return this._wrap=p,this}withVerticalOrientation(p=!0){return this._vertical=p,this}withHorizontalOrientation(p){return this._horizontal=p,this}withAllowedModifierKeys(p){return this._allowedModifierKeys=p,this}withTypeAhead(p=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,r.tap)(h=>this._pressedLetters.push(h)),(0,r.debounceTime)(p),(0,r.filter)(()=>this._pressedLetters.length>0),(0,r.map)(()=>this._pressedLetters.join(""))).subscribe(h=>{const b=this._getItemsArray();for(let E=1;E<b.length+1;E++){const Y=(this._activeItemIndex+E)%b.length,ue=b[Y];if(!this._skipPredicateFn(ue)&&0===ue.getLabel().toUpperCase().trim().indexOf(h)){this.setActiveItem(Y);break}}this._pressedLetters=[]}),this}withHomeAndEnd(p=!0){return this._homeAndEnd=p,this}setActiveItem(p){const h=this._activeItem;this.updateActiveItem(p),this._activeItem!==h&&this.change.next(this._activeItemIndex)}onKeydown(p){const h=p.keyCode,E=["altKey","ctrlKey","metaKey","shiftKey"].every(Y=>!p[Y]||this._allowedModifierKeys.indexOf(Y)>-1);switch(h){case Q.Mf:return void this.tabOut.next();case Q.JH:if(this._vertical&&E){this.setNextItemActive();break}return;case Q.LH:if(this._vertical&&E){this.setPreviousItemActive();break}return;case Q.SV:if(this._horizontal&&E){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case Q.oh:if(this._horizontal&&E){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case Q.Sd:if(this._homeAndEnd&&E){this.setFirstItemActive();break}return;case Q.uR:if(this._homeAndEnd&&E){this.setLastItemActive();break}return;default:return void((E||(0,Q.Vb)(p,"shiftKey"))&&(p.key&&1===p.key.length?this._letterKeyStream.next(p.key.toLocaleUpperCase()):(h>=Q.A&&h<=Q.Z||h>=Q.xE&&h<=Q.aO)&&this._letterKeyStream.next(String.fromCharCode(h))))}this._pressedLetters=[],p.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(p){const h=this._getItemsArray(),b="number"==typeof p?p:h.indexOf(p);this._activeItem=h[b]??null,this._activeItemIndex=b}_setActiveItemByDelta(p){this._wrap?this._setActiveInWrapMode(p):this._setActiveInDefaultMode(p)}_setActiveInWrapMode(p){const h=this._getItemsArray();for(let b=1;b<=h.length;b++){const E=(this._activeItemIndex+p*b+h.length)%h.length;if(!this._skipPredicateFn(h[E]))return void this.setActiveItem(E)}}_setActiveInDefaultMode(p){this._setActiveItemByIndex(this._activeItemIndex+p,p)}_setActiveItemByIndex(p,h){const b=this._getItemsArray();if(b[p]){for(;this._skipPredicateFn(b[p]);)if(!b[p+=h])return;this.setActiveItem(p)}}_getItemsArray(){return this._items instanceof w.QueryList?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(p){return this._origin=p,this}setActiveItem(p){super.setActiveItem(p),this.activeItem&&this.activeItem.focus(this._origin)}}let we=(()=>{class L{constructor(h){this._platform=h}isDisabled(h){return h.hasAttribute("disabled")}isVisible(h){return function H(L){return!!(L.offsetWidth||L.offsetHeight||"function"==typeof L.getClientRects&&L.getClientRects().length)}(h)&&"visible"===getComputedStyle(h).visibility}isTabbable(h){if(!this._platform.isBrowser)return!1;const b=function ae(L){try{return L.frameElement}catch{return null}}(function Ce(L){return L.ownerDocument&&L.ownerDocument.defaultView||window}(h));if(b&&(-1===X(b)||!this.isVisible(b)))return!1;let E=h.nodeName.toLowerCase(),Y=X(h);return h.hasAttribute("contenteditable")?-1!==Y:!("iframe"===E||"object"===E||this._platform.WEBKIT&&this._platform.IOS&&!function pe(L){let p=L.nodeName.toLowerCase(),h="input"===p&&L.type;return"text"===h||"password"===h||"select"===p||"textarea"===p}(h))&&("audio"===E?!!h.hasAttribute("controls")&&-1!==Y:"video"===E?-1!==Y&&(null!==Y||this._platform.FIREFOX||h.hasAttribute("controls")):h.tabIndex>=0)}isFocusable(h,b){return function ne(L){return!function me(L){return function he(L){return"input"==L.nodeName.toLowerCase()}(L)&&"hidden"==L.type}(L)&&(function le(L){let p=L.nodeName.toLowerCase();return"input"===p||"select"===p||"button"===p||"textarea"===p}(L)||function Ee(L){return function je(L){return"a"==L.nodeName.toLowerCase()}(L)&&L.hasAttribute("href")}(L)||L.hasAttribute("contenteditable")||ie(L))}(h)&&!this.isDisabled(h)&&(b?.ignoreVisibility||this.isVisible(h))}}return L.\u0275fac=function(h){return new(h||L)(w.\u0275\u0275inject(_e.t4))},L.\u0275prov=w.\u0275\u0275defineInjectable({token:L,factory:L.\u0275fac,providedIn:"root"}),L})();function ie(L){if(!L.hasAttribute("tabindex")||void 0===L.tabIndex)return!1;let p=L.getAttribute("tabindex");return!(!p||isNaN(parseInt(p,10)))}function X(L){if(!ie(L))return null;const p=parseInt(L.getAttribute("tabindex")||"",10);return isNaN(p)?-1:p}class Le{constructor(p,h,b,E,Y=!1){this._element=p,this._checker=h,this._ngZone=b,this._document=E,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Y||this.attachAnchors()}get enabled(){return this._enabled}set enabled(p){this._enabled=p,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(p,this._startAnchor),this._toggleAnchorTabIndex(p,this._endAnchor))}destroy(){const p=this._startAnchor,h=this._endAnchor;p&&(p.removeEventListener("focus",this.startAnchorListener),p.remove()),h&&(h.removeEventListener("focus",this.endAnchorListener),h.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(p){return new Promise(h=>{this._executeOnStable(()=>h(this.focusInitialElement(p)))})}focusFirstTabbableElementWhenReady(p){return new Promise(h=>{this._executeOnStable(()=>h(this.focusFirstTabbableElement(p)))})}focusLastTabbableElementWhenReady(p){return new Promise(h=>{this._executeOnStable(()=>h(this.focusLastTabbableElement(p)))})}_getRegionBoundary(p){const h=this._element.querySelectorAll(`[cdk-focus-region-${p}], [cdkFocusRegion${p}], [cdk-focus-${p}]`);return"start"==p?h.length?h[0]:this._getFirstTabbableElement(this._element):h.length?h[h.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(p){const h=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(h){if(!this._checker.isFocusable(h)){const b=this._getFirstTabbableElement(h);return b?.focus(p),!!b}return h.focus(p),!0}return this.focusFirstTabbableElement(p)}focusFirstTabbableElement(p){const h=this._getRegionBoundary("start");return h&&h.focus(p),!!h}focusLastTabbableElement(p){const h=this._getRegionBoundary("end");return h&&h.focus(p),!!h}hasAttached(){return this._hasAttached}_getFirstTabbableElement(p){if(this._checker.isFocusable(p)&&this._checker.isTabbable(p))return p;const h=p.children;for(let b=0;b<h.length;b++){const E=h[b].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(h[b]):null;if(E)return E}return null}_getLastTabbableElement(p){if(this._checker.isFocusable(p)&&this._checker.isTabbable(p))return p;const h=p.children;for(let b=h.length-1;b>=0;b--){const E=h[b].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(h[b]):null;if(E)return E}return null}_createAnchor(){const p=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,p),p.classList.add("cdk-visually-hidden"),p.classList.add("cdk-focus-trap-anchor"),p.setAttribute("aria-hidden","true"),p}_toggleAnchorTabIndex(p,h){p?h.setAttribute("tabindex","0"):h.removeAttribute("tabindex")}toggleAnchors(p){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(p,this._startAnchor),this._toggleAnchorTabIndex(p,this._endAnchor))}_executeOnStable(p){this._ngZone.isStable?p():this._ngZone.onStable.pipe((0,r.take)(1)).subscribe(p)}}let Qe=(()=>{class L{constructor(h,b,E){this._checker=h,this._ngZone=b,this._document=E}create(h,b=!1){return new Le(h,this._checker,this._ngZone,this._document,b)}}return L.\u0275fac=function(h){return new(h||L)(w.\u0275\u0275inject(we),w.\u0275\u0275inject(w.NgZone),w.\u0275\u0275inject(l.DOCUMENT))},L.\u0275prov=w.\u0275\u0275defineInjectable({token:L,factory:L.\u0275fac,providedIn:"root"}),L})();function yt(L){return 0===L.offsetX&&0===L.offsetY}function St(L){const p=L.touches&&L.touches[0]||L.changedTouches&&L.changedTouches[0];return!(!p||-1!==p.identifier||null!=p.radiusX&&1!==p.radiusX||null!=p.radiusY&&1!==p.radiusY)}const Re=new w.InjectionToken("cdk-input-modality-detector-options"),I={ignoreKeys:[Q.zL,Q.jx,Q.b2,Q.MW,Q.JU]},se=(0,_e.i$)({passive:!0,capture:!0});let ye=(()=>{class L{constructor(h,b,E,Y){this._platform=h,this._mostRecentTarget=null,this._modality=new J.BehaviorSubject(null),this._lastTouchMs=0,this._onKeydown=ue=>{this._options?.ignoreKeys?.some(j=>j===ue.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,_e.sA)(ue))},this._onMousedown=ue=>{Date.now()-this._lastTouchMs<650||(this._modality.next(yt(ue)?"keyboard":"mouse"),this._mostRecentTarget=(0,_e.sA)(ue))},this._onTouchstart=ue=>{St(ue)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,_e.sA)(ue))},this._options={...I,...Y},this.modalityDetected=this._modality.pipe((0,r.skip)(1)),this.modalityChanged=this.modalityDetected.pipe((0,r.distinctUntilChanged)()),h.isBrowser&&b.runOutsideAngular(()=>{E.addEventListener("keydown",this._onKeydown,se),E.addEventListener("mousedown",this._onMousedown,se),E.addEventListener("touchstart",this._onTouchstart,se)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,se),document.removeEventListener("mousedown",this._onMousedown,se),document.removeEventListener("touchstart",this._onTouchstart,se))}}return L.\u0275fac=function(h){return new(h||L)(w.\u0275\u0275inject(_e.t4),w.\u0275\u0275inject(w.NgZone),w.\u0275\u0275inject(l.DOCUMENT),w.\u0275\u0275inject(Re,8))},L.\u0275prov=w.\u0275\u0275defineInjectable({token:L,factory:L.\u0275fac,providedIn:"root"}),L})();const Ae=new w.InjectionToken("liveAnnouncerElement",{providedIn:"root",factory:function Ge(){return null}}),tt=new w.InjectionToken("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Xe=(()=>{class L{constructor(h,b,E,Y){this._ngZone=b,this._defaultOptions=Y,this._document=E,this._liveElement=h||this._createLiveElement()}announce(h,...b){const E=this._defaultOptions;let Y,ue;return 1===b.length&&"number"==typeof b[0]?ue=b[0]:[Y,ue]=b,this.clear(),clearTimeout(this._previousTimeout),Y||(Y=E&&E.politeness?E.politeness:"polite"),null==ue&&E&&(ue=E.duration),this._liveElement.setAttribute("aria-live",Y),this._ngZone.runOutsideAngular(()=>new Promise(j=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=h,j(),"number"==typeof ue&&(this._previousTimeout=setTimeout(()=>this.clear(),ue))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null}_createLiveElement(){const h="cdk-live-announcer-element",b=this._document.getElementsByClassName(h),E=this._document.createElement("div");for(let Y=0;Y<b.length;Y++)b[Y].remove();return E.classList.add(h),E.classList.add("cdk-visually-hidden"),E.setAttribute("aria-atomic","true"),E.setAttribute("aria-live","polite"),this._document.body.appendChild(E),E}}return L.\u0275fac=function(h){return new(h||L)(w.\u0275\u0275inject(Ae,8),w.\u0275\u0275inject(w.NgZone),w.\u0275\u0275inject(l.DOCUMENT),w.\u0275\u0275inject(tt,8))},L.\u0275prov=w.\u0275\u0275defineInjectable({token:L,factory:L.\u0275fac,providedIn:"root"}),L})();const ot=new w.InjectionToken("cdk-focus-monitor-default-options"),Et=(0,_e.i$)({passive:!0,capture:!0});let Ot=(()=>{class L{constructor(h,b,E,Y,ue){this._ngZone=h,this._platform=b,this._inputModalityDetector=E,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new J.Subject,this._rootNodeFocusAndBlurListener=j=>{const G=(0,_e.sA)(j),W="focus"===j.type?this._onFocus:this._onBlur;for(let ve=G;ve;ve=ve.parentElement)W.call(this,j,ve)},this._document=Y,this._detectionMode=ue?.detectionMode||0}monitor(h,b=!1){const E=(0,De.fI)(h);if(!this._platform.isBrowser||1!==E.nodeType)return(0,J.of)(null);const Y=(0,_e.kV)(E)||this._getDocument(),ue=this._elementInfo.get(E);if(ue)return b&&(ue.checkChildren=!0),ue.subject;const j={checkChildren:b,subject:new J.Subject,rootNode:Y};return this._elementInfo.set(E,j),this._registerGlobalListeners(j),j.subject}stopMonitoring(h){const b=(0,De.fI)(h),E=this._elementInfo.get(b);E&&(E.subject.complete(),this._setClasses(b),this._elementInfo.delete(b),this._removeGlobalListeners(E))}focusVia(h,b,E){const Y=(0,De.fI)(h);Y===this._getDocument().activeElement?this._getClosestElementsInfo(Y).forEach(([j,G])=>this._originChanged(j,b,G)):(this._setOrigin(b),"function"==typeof Y.focus&&Y.focus(E))}ngOnDestroy(){this._elementInfo.forEach((h,b)=>this.stopMonitoring(b))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(h){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(h)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(h){return 1===this._detectionMode||!!h?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(h,b){h.classList.toggle("cdk-focused",!!b),h.classList.toggle("cdk-touch-focused","touch"===b),h.classList.toggle("cdk-keyboard-focused","keyboard"===b),h.classList.toggle("cdk-mouse-focused","mouse"===b),h.classList.toggle("cdk-program-focused","program"===b)}_setOrigin(h,b=!1){this._ngZone.runOutsideAngular(()=>{this._origin=h,this._originFromTouchInteraction="touch"===h&&b,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(h,b){const E=this._elementInfo.get(b),Y=(0,_e.sA)(h);!E||!E.checkChildren&&b!==Y||this._originChanged(b,this._getFocusOrigin(Y),E)}_onBlur(h,b){const E=this._elementInfo.get(b);!E||E.checkChildren&&h.relatedTarget instanceof Node&&b.contains(h.relatedTarget)||(this._setClasses(b),this._emitOrigin(E.subject,null))}_emitOrigin(h,b){this._ngZone.run(()=>h.next(b))}_registerGlobalListeners(h){if(!this._platform.isBrowser)return;const b=h.rootNode,E=this._rootNodeFocusListenerCount.get(b)||0;E||this._ngZone.runOutsideAngular(()=>{b.addEventListener("focus",this._rootNodeFocusAndBlurListener,Et),b.addEventListener("blur",this._rootNodeFocusAndBlurListener,Et)}),this._rootNodeFocusListenerCount.set(b,E+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,r.takeUntil)(this._stopInputModalityDetector)).subscribe(Y=>{this._setOrigin(Y,!0)}))}_removeGlobalListeners(h){const b=h.rootNode;if(this._rootNodeFocusListenerCount.has(b)){const E=this._rootNodeFocusListenerCount.get(b);E>1?this._rootNodeFocusListenerCount.set(b,E-1):(b.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Et),b.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Et),this._rootNodeFocusListenerCount.delete(b))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(h,b,E){this._setClasses(h,b),this._emitOrigin(E.subject,b),this._lastFocusOrigin=b}_getClosestElementsInfo(h){const b=[];return this._elementInfo.forEach((E,Y)=>{(Y===h||E.checkChildren&&Y.contains(h))&&b.push([Y,E])}),b}}return L.\u0275fac=function(h){return new(h||L)(w.\u0275\u0275inject(w.NgZone),w.\u0275\u0275inject(_e.t4),w.\u0275\u0275inject(ye),w.\u0275\u0275inject(l.DOCUMENT,8),w.\u0275\u0275inject(ot,8))},L.\u0275prov=w.\u0275\u0275defineInjectable({token:L,factory:L.\u0275fac,providedIn:"root"}),L})();const Tt="cdk-high-contrast-black-on-white",Yt="cdk-high-contrast-white-on-black",Nt="cdk-high-contrast-active";let Kt=(()=>{class L{constructor(h,b){this._platform=h,this._document=b}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const h=this._document.createElement("div");h.style.backgroundColor="rgb(1,2,3)",h.style.position="absolute",this._document.body.appendChild(h);const b=this._document.defaultView||window,E=b&&b.getComputedStyle?b.getComputedStyle(h):null,Y=(E&&E.backgroundColor||"").replace(/ /g,"");switch(h.remove(),Y){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const h=this._document.body.classList;h.remove(Nt),h.remove(Tt),h.remove(Yt),this._hasCheckedHighContrastMode=!0;const b=this.getHighContrastMode();1===b?(h.add(Nt),h.add(Tt)):2===b&&(h.add(Nt),h.add(Yt))}}}return L.\u0275fac=function(h){return new(h||L)(w.\u0275\u0275inject(_e.t4),w.\u0275\u0275inject(l.DOCUMENT))},L.\u0275prov=w.\u0275\u0275defineInjectable({token:L,factory:L.\u0275fac,providedIn:"root"}),L})(),li=(()=>{class L{constructor(h){h._applyBodyHighContrastModeCssClasses()}}return L.\u0275fac=function(h){return new(h||L)(w.\u0275\u0275inject(Kt))},L.\u0275mod=w.\u0275\u0275defineNgModule({type:L}),L.\u0275inj=w.\u0275\u0275defineInjector({imports:[[_e.ud,Ie.Q8]]}),L})()},8698:(ht,ze,R)=>{R.d(ze,{xI:()=>_e,dD:()=>K,XD:()=>xe});var l=R(7451),w=R(5834),J=R(4929),Q=R(824);let r=0;const De=new l.InjectionToken("CdkAccordion");let _e=(()=>{class P{constructor(){this._stateChanges=new Q.Subject,this._openCloseAllActions=new Q.Subject,this.id="cdk-accordion-"+r++,this._multi=!1}get multi(){return this._multi}set multi(y){this._multi=(0,J.Ig)(y)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(y){this._stateChanges.next(y)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return P.\u0275fac=function(y){return new(y||P)},P.\u0275dir=l.\u0275\u0275defineDirective({type:P,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[l.\u0275\u0275ProvidersFeature([{provide:De,useExisting:P}]),l.\u0275\u0275NgOnChangesFeature]}),P})(),Ie=0,K=(()=>{class P{constructor(y,v,T){this.accordion=y,this._changeDetectorRef=v,this._expansionDispatcher=T,this._openCloseAllSubscription=Q.Subscription.EMPTY,this.closed=new l.EventEmitter,this.opened=new l.EventEmitter,this.destroyed=new l.EventEmitter,this.expandedChange=new l.EventEmitter,this.id="cdk-accordion-child-"+Ie++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=T.listen((B,de)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===de&&this.id!==B&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(y){y=(0,J.Ig)(y),this._expanded!==y&&(this._expanded=y,this.expandedChange.emit(y),y?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(y){this._disabled=(0,J.Ig)(y)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(y=>{this.disabled||(this.expanded=y)})}}return P.\u0275fac=function(y){return new(y||P)(l.\u0275\u0275directiveInject(De,12),l.\u0275\u0275directiveInject(l.ChangeDetectorRef),l.\u0275\u0275directiveInject(w.A8))},P.\u0275dir=l.\u0275\u0275defineDirective({type:P,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[l.\u0275\u0275ProvidersFeature([{provide:De,useValue:void 0}])]}),P})(),xe=(()=>{class P{}return P.\u0275fac=function(y){return new(y||P)},P.\u0275mod=l.\u0275\u0275defineNgModule({type:P}),P.\u0275inj=l.\u0275\u0275defineInjector({}),P})()},5875:(ht,ze,R)=>{R.d(ze,{vT:()=>K,Is:()=>_e});var l=R(7451),w=R(3192);const J=new l.InjectionToken("cdk-dir-doc",{providedIn:"root",factory:function Q(){return(0,l.inject)(w.DOCUMENT)}}),r=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let _e=(()=>{class xe{constructor(z){if(this.value="ltr",this.change=new l.EventEmitter,z){const v=z.documentElement?z.documentElement.dir:null;this.value=function De(xe){const P=xe?.toLowerCase()||"";return"auto"===P&&"undefined"!=typeof navigator&&navigator?.language?r.test(navigator.language)?"rtl":"ltr":"rtl"===P?"rtl":"ltr"}((z.body?z.body.dir:null)||v||"ltr")}}ngOnDestroy(){this.change.complete()}}return xe.\u0275fac=function(z){return new(z||xe)(l.\u0275\u0275inject(J,8))},xe.\u0275prov=l.\u0275\u0275defineInjectable({token:xe,factory:xe.\u0275fac,providedIn:"root"}),xe})(),K=(()=>{class xe{}return xe.\u0275fac=function(z){return new(z||xe)},xe.\u0275mod=l.\u0275\u0275defineNgModule({type:xe}),xe.\u0275inj=l.\u0275\u0275defineInjector({}),xe})()},8014:(ht,ze,R)=>{R.d(ze,{q:()=>w});const w=new(R(7451).Version)("13.1.2")},4929:(ht,ze,R)=>{R.d(ze,{Eq:()=>r,Ig:()=>w,HM:()=>De,fI:()=>_e,su:()=>J});var l=R(7451);function w(K){return null!=K&&"false"!=`${K}`}function J(K,xe=0){return function Q(K){return!isNaN(parseFloat(K))&&!isNaN(Number(K))}(K)?Number(K):xe}function r(K){return Array.isArray(K)?K:[K]}function De(K){return null==K?"":"string"==typeof K?K:`${K}px`}function _e(K){return K instanceof l.ElementRef?K.nativeElement:K}},5834:(ht,ze,R)=>{R.d(ze,{Ov:()=>Ie,A8:()=>xe,yy:()=>De,eX:()=>_e,k:()=>P,Z9:()=>Q});var l=R(824),w=R(7451);function Q(z){return z&&"function"==typeof z.connect}class De{applyChanges(y,v,T,B,de){y.forEachOperation((Te,Oe,V)=>{let Ve,ce;if(null==Te.previousIndex){const Pe=T(Te,Oe,V);Ve=v.createEmbeddedView(Pe.templateRef,Pe.context,Pe.index),ce=1}else null==V?(v.remove(Oe),ce=3):(Ve=v.get(Oe),v.move(Ve,V),ce=2);de&&de({context:Ve?.context,operation:ce,record:Te})})}detach(){}}class _e{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(y,v,T,B,de){y.forEachOperation((Te,Oe,V)=>{let Ve,ce;null==Te.previousIndex?(Ve=this._insertView(()=>T(Te,Oe,V),V,v,B(Te)),ce=Ve?1:0):null==V?(this._detachAndCacheView(Oe,v),ce=3):(Ve=this._moveView(Oe,V,v,B(Te)),ce=2),de&&de({context:Ve?.context,operation:ce,record:Te})})}detach(){for(const y of this._viewCache)y.destroy();this._viewCache=[]}_insertView(y,v,T,B){const de=this._insertViewFromCache(v,T);if(de)return void(de.context.$implicit=B);const Te=y();return T.createEmbeddedView(Te.templateRef,Te.context,Te.index)}_detachAndCacheView(y,v){const T=v.detach(y);this._maybeCacheView(T,v)}_moveView(y,v,T,B){const de=T.get(y);return T.move(de,v),de.context.$implicit=B,de}_maybeCacheView(y,v){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(y);else{const T=v.indexOf(y);-1===T?y.destroy():v.remove(T)}}_insertViewFromCache(y,v){const T=this._viewCache.pop();return T&&v.insert(T,y),T||null}}class Ie{constructor(y=!1,v,T=!0){this._multiple=y,this._emitChanges=T,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new l.Subject,v&&v.length&&(y?v.forEach(B=>this._markSelected(B)):this._markSelected(v[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...y){this._verifyValueAssignment(y),y.forEach(v=>this._markSelected(v)),this._emitChangeEvent()}deselect(...y){this._verifyValueAssignment(y),y.forEach(v=>this._unmarkSelected(v)),this._emitChangeEvent()}toggle(y){this.isSelected(y)?this.deselect(y):this.select(y)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(y){return this._selection.has(y)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(y){this._multiple&&this.selected&&this._selected.sort(y)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(y){this.isSelected(y)||(this._multiple||this._unmarkAll(),this._selection.add(y),this._emitChanges&&this._selectedToEmit.push(y))}_unmarkSelected(y){this.isSelected(y)&&(this._selection.delete(y),this._emitChanges&&this._deselectedToEmit.push(y))}_unmarkAll(){this.isEmpty()||this._selection.forEach(y=>this._unmarkSelected(y))}_verifyValueAssignment(y){}}let xe=(()=>{class z{constructor(){this._listeners=[]}notify(v,T){for(let B of this._listeners)B(v,T)}listen(v){return this._listeners.push(v),()=>{this._listeners=this._listeners.filter(T=>v!==T)}}ngOnDestroy(){this._listeners=[]}}return z.\u0275fac=function(v){return new(v||z)},z.\u0275prov=w.\u0275\u0275defineInjectable({token:z,factory:z.\u0275fac,providedIn:"root"}),z})();const P=new w.InjectionToken("_ViewRepeater")},4350:(ht,ze,R)=>{R.d(ze,{Zt:()=>Kt,Bh:()=>Et,Wj:()=>st,Fd:()=>ye,_t:()=>li,bA:()=>ne,EA:()=>Ce});var l=R(7451),w=R(3192),J=R(5531),Q=R(6321),r=R(4929),De=R(8954),_e=R(824),Ie=R(5033),K=R(5875);function xe(L,p,h){for(let b in p)if(p.hasOwnProperty(b)){const E=p[b];E?L.setProperty(b,E,h?.has(b)?"important":""):L.removeProperty(b)}return L}function P(L,p){const h=p?"":"none";xe(L.style,{"touch-action":p?"":"none","-webkit-user-drag":p?"":"none","-webkit-tap-highlight-color":p?"":"transparent","user-select":h,"-ms-user-select":h,"-webkit-user-select":h,"-moz-user-select":h})}function z(L,p,h){xe(L.style,{position:p?"":"fixed",top:p?"":"0",opacity:p?"":"0",left:p?"":"-999em"},h)}function y(L,p){return p&&"none"!=p?L+" "+p:L}function v(L){const p=L.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(L)*p}function B(L,p){return L.getPropertyValue(p).split(",").map(b=>b.trim())}function de(L){const p=L.getBoundingClientRect();return{top:p.top,right:p.right,bottom:p.bottom,left:p.left,width:p.width,height:p.height,x:p.x,y:p.y}}function Te(L,p,h){const{top:b,bottom:E,left:Y,right:ue}=L;return h>=b&&h<=E&&p>=Y&&p<=ue}function Oe(L,p,h){L.top+=p,L.bottom=L.top+L.height,L.left+=h,L.right=L.left+L.width}function V(L,p,h,b){const{top:E,right:Y,bottom:ue,left:j,width:G,height:W}=L,ve=G*p,Ye=W*p;return b>E-Ye&&b<ue+Ye&&h>j-ve&&h<Y+ve}class Ve{constructor(p,h){this._document=p,this._viewportRuler=h,this.positions=new Map}clear(){this.positions.clear()}cache(p){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),p.forEach(h=>{this.positions.set(h,{scrollPosition:{top:h.scrollTop,left:h.scrollLeft},clientRect:de(h)})})}handleScroll(p){const h=(0,Q.sA)(p),b=this.positions.get(h);if(!b)return null;const E=b.scrollPosition;let Y,ue;if(h===this._document){const W=this._viewportRuler.getViewportScrollPosition();Y=W.top,ue=W.left}else Y=h.scrollTop,ue=h.scrollLeft;const j=E.top-Y,G=E.left-ue;return this.positions.forEach((W,ve)=>{W.clientRect&&h!==ve&&h.contains(ve)&&Oe(W.clientRect,j,G)}),E.top=Y,E.left=ue,{top:j,left:G}}}function ce(L){const p=L.cloneNode(!0),h=p.querySelectorAll("[id]"),b=L.nodeName.toLowerCase();p.removeAttribute("id");for(let E=0;E<h.length;E++)h[E].removeAttribute("id");return"canvas"===b?we(L,p):("input"===b||"select"===b||"textarea"===b)&&Be(L,p),Pe("canvas",L,p,we),Pe("input, textarea, select",L,p,Be),p}function Pe(L,p,h,b){const E=p.querySelectorAll(L);if(E.length){const Y=h.querySelectorAll(L);for(let ue=0;ue<E.length;ue++)b(E[ue],Y[ue])}}let ge=0;function Be(L,p){"file"!==p.type&&(p.value=L.value),"radio"===p.type&&p.name&&(p.name=`mat-clone-${p.name}-${ge++}`)}function we(L,p){const h=p.getContext("2d");if(h)try{h.drawImage(L,0,0)}catch{}}const ae=(0,Q.i$)({passive:!0}),H=(0,Q.i$)({passive:!1}),me=new Set(["position"]);class Ee{constructor(p,h,b,E,Y,ue){this._config=h,this._document=b,this._ngZone=E,this._viewportRuler=Y,this._dragDropRegistry=ue,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new _e.Subject,this._pointerMoveSubscription=_e.Subscription.EMPTY,this._pointerUpSubscription=_e.Subscription.EMPTY,this._scrollSubscription=_e.Subscription.EMPTY,this._resizeSubscription=_e.Subscription.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new _e.Subject,this.started=new _e.Subject,this.released=new _e.Subject,this.ended=new _e.Subject,this.entered=new _e.Subject,this.exited=new _e.Subject,this.dropped=new _e.Subject,this.moved=this._moveEvents,this._pointerDown=j=>{if(this.beforeStarted.next(),this._handles.length){const G=this._handles.find(W=>j.target&&(j.target===W||W.contains(j.target)));G&&!this._disabledHandles.has(G)&&!this.disabled&&this._initializeDragSequence(G,j)}else this.disabled||this._initializeDragSequence(this._rootElement,j)},this._pointerMove=j=>{const G=this._getPointerPositionOnPage(j);if(!this._hasStartedDragging){if(Math.abs(G.x-this._pickupPositionOnPage.x)+Math.abs(G.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const Rt=Date.now()>=this._dragStartTime+this._getDragStartDelay(j),Dt=this._dropContainer;if(!Rt)return void this._endDragSequence(j);(!Dt||!Dt.isDragging()&&!Dt.isReceiving())&&(j.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(j)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),j.preventDefault();const W=this._getConstrainedPointerPosition(G);if(this._hasMoved=!0,this._lastKnownPointerPosition=G,this._updatePointerDirectionDelta(W),this._dropContainer)this._updateActiveDropContainer(W,G);else{const ve=this._activeTransform;ve.x=W.x-this._pickupPositionOnPage.x+this._passiveTransform.x,ve.y=W.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(ve.x,ve.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:W,event:j,distance:this._getDragDistance(W),delta:this._pointerDirectionDelta})})},this._pointerUp=j=>{this._endDragSequence(j)},this.withRootElement(p).withParent(h.parentDragRef||null),this._parentPositions=new Ve(b,Y),ue.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(p){const h=(0,r.Ig)(p);h!==this._disabled&&(this._disabled=h,this._toggleNativeDragInteractions(),this._handles.forEach(b=>P(b,h)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(p){this._handles=p.map(b=>(0,r.fI)(b)),this._handles.forEach(b=>P(b,this.disabled)),this._toggleNativeDragInteractions();const h=new Set;return this._disabledHandles.forEach(b=>{this._handles.indexOf(b)>-1&&h.add(b)}),this._disabledHandles=h,this}withPreviewTemplate(p){return this._previewTemplate=p,this}withPlaceholderTemplate(p){return this._placeholderTemplate=p,this}withRootElement(p){const h=(0,r.fI)(p);return h!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{h.addEventListener("mousedown",this._pointerDown,H),h.addEventListener("touchstart",this._pointerDown,ae)}),this._initialTransform=void 0,this._rootElement=h),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(p){return this._boundaryElement=p?(0,r.fI)(p):null,this._resizeSubscription.unsubscribe(),p&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(p){return this._parentDragRef=p,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(p){!this._disabledHandles.has(p)&&this._handles.indexOf(p)>-1&&(this._disabledHandles.add(p),P(p,!0))}enableHandle(p){this._disabledHandles.has(p)&&(this._disabledHandles.delete(p),P(p,this.disabled))}withDirection(p){return this._direction=p,this}_withDropContainer(p){this._dropContainer=p}getFreeDragPosition(){const p=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:p.x,y:p.y}}setFreeDragPosition(p){return this._activeTransform={x:0,y:0},this._passiveTransform.x=p.x,this._passiveTransform.y=p.y,this._dropContainer||this._applyRootElementTransform(p.x,p.y),this}withPreviewContainer(p){return this._previewContainer=p,this}_sortFromLastPointerPosition(){const p=this._lastKnownPointerPosition;p&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(p),p)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(p){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(p),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const h=this._getPointerPositionOnPage(p);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(h),dropPoint:h})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(p){ie(p)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const h=this._dropContainer;if(h){const b=this._rootElement,E=b.parentNode,Y=this._placeholder=this._createPlaceholderElement(),ue=this._anchor=this._anchor||this._document.createComment(""),j=this._getShadowRoot();E.insertBefore(ue,b),this._initialTransform=b.style.transform||"",this._preview=this._createPreviewElement(),z(b,!1,me),this._document.body.appendChild(E.replaceChild(Y,b)),this._getPreviewInsertionPoint(E,j).appendChild(this._preview),this.started.next({source:this}),h.start(),this._initialContainer=h,this._initialIndex=h.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(h?h.getScrollableParents():[])}_initializeDragSequence(p,h){this._parentDragRef&&h.stopPropagation();const b=this.isDragging(),E=ie(h),Y=!E&&0!==h.button,ue=this._rootElement,j=(0,Q.sA)(h),G=!E&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),W=E?(0,De.yG)(h):(0,De.X6)(h);if(j&&j.draggable&&"mousedown"===h.type&&h.preventDefault(),b||Y||G||W)return;if(this._handles.length){const pt=ue.style;this._rootElementTapHighlight=pt.webkitTapHighlightColor||"",pt.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(pt=>this._updateOnScroll(pt)),this._boundaryElement&&(this._boundaryRect=de(this._boundaryElement));const ve=this._previewTemplate;this._pickupPositionInElement=ve&&ve.template&&!ve.matchSize?{x:0,y:0}:this._getPointerPositionInElement(p,h);const Ye=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(h);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:Ye.x,y:Ye.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,h)}_cleanupDragArtifacts(p){z(this._rootElement,!0,me),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const h=this._dropContainer,b=h.getItemIndex(this),E=this._getPointerPositionOnPage(p),Y=this._getDragDistance(E),ue=h._isOverContainer(E.x,E.y);this.ended.next({source:this,distance:Y,dropPoint:E}),this.dropped.next({item:this,currentIndex:b,previousIndex:this._initialIndex,container:h,previousContainer:this._initialContainer,isPointerOverContainer:ue,distance:Y,dropPoint:E}),h.drop(this,b,this._initialIndex,this._initialContainer,ue,Y,E),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:p,y:h},{x:b,y:E}){let Y=this._initialContainer._getSiblingContainerFromPosition(this,p,h);!Y&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(p,h)&&(Y=this._initialContainer),Y&&Y!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=Y,this._dropContainer.enter(this,p,h,Y===this._initialContainer&&Y.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:Y,currentIndex:Y.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(b,E),this._dropContainer._sortItem(this,p,h,this._pointerDirectionDelta),this._applyPreviewTransform(p-this._pickupPositionInElement.x,h-this._pickupPositionInElement.y))}_createPreviewElement(){const p=this._previewTemplate,h=this.previewClass,b=p?p.template:null;let E;if(b&&p){const Y=p.matchSize?this._rootElement.getBoundingClientRect():null,ue=p.viewContainer.createEmbeddedView(b,p.context);ue.detectChanges(),E=X(ue,this._document),this._previewRef=ue,p.matchSize?pe(E,Y):E.style.transform=he(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const Y=this._rootElement;E=ce(Y),pe(E,Y.getBoundingClientRect()),this._initialTransform&&(E.style.transform=this._initialTransform)}return xe(E.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},me),P(E,!1),E.classList.add("cdk-drag-preview"),E.setAttribute("dir",this._direction),h&&(Array.isArray(h)?h.forEach(Y=>E.classList.add(Y)):E.classList.add(h)),E}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const p=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(p.left,p.top);const h=function T(L){const p=getComputedStyle(L),h=B(p,"transition-property"),b=h.find(j=>"transform"===j||"all"===j);if(!b)return 0;const E=h.indexOf(b),Y=B(p,"transition-duration"),ue=B(p,"transition-delay");return v(Y[E])+v(ue[E])}(this._preview);return 0===h?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(b=>{const E=ue=>{(!ue||(0,Q.sA)(ue)===this._preview&&"transform"===ue.propertyName)&&(this._preview?.removeEventListener("transitionend",E),b(),clearTimeout(Y))},Y=setTimeout(E,1.5*h);this._preview.addEventListener("transitionend",E)}))}_createPlaceholderElement(){const p=this._placeholderTemplate,h=p?p.template:null;let b;return h?(this._placeholderRef=p.viewContainer.createEmbeddedView(h,p.context),this._placeholderRef.detectChanges(),b=X(this._placeholderRef,this._document)):b=ce(this._rootElement),b.classList.add("cdk-drag-placeholder"),b}_getPointerPositionInElement(p,h){const b=this._rootElement.getBoundingClientRect(),E=p===this._rootElement?null:p,Y=E?E.getBoundingClientRect():b,ue=ie(h)?h.targetTouches[0]:h,j=this._getViewportScrollPosition();return{x:Y.left-b.left+(ue.pageX-Y.left-j.left),y:Y.top-b.top+(ue.pageY-Y.top-j.top)}}_getPointerPositionOnPage(p){const h=this._getViewportScrollPosition(),b=ie(p)?p.touches[0]||p.changedTouches[0]||{pageX:0,pageY:0}:p,E=b.pageX-h.left,Y=b.pageY-h.top;if(this._ownerSVGElement){const ue=this._ownerSVGElement.getScreenCTM();if(ue){const j=this._ownerSVGElement.createSVGPoint();return j.x=E,j.y=Y,j.matrixTransform(ue.inverse())}}return{x:E,y:Y}}_getConstrainedPointerPosition(p){const h=this._dropContainer?this._dropContainer.lockAxis:null;let{x:b,y:E}=this.constrainPosition?this.constrainPosition(p,this):p;if("x"===this.lockAxis||"x"===h?E=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===h)&&(b=this._pickupPositionOnPage.x),this._boundaryRect){const{x:Y,y:ue}=this._pickupPositionInElement,j=this._boundaryRect,G=this._previewRect,W=j.top+ue,ve=j.bottom-(G.height-ue);b=je(b,j.left+Y,j.right-(G.width-Y)),E=je(E,W,ve)}return{x:b,y:E}}_updatePointerDirectionDelta(p){const{x:h,y:b}=p,E=this._pointerDirectionDelta,Y=this._pointerPositionAtLastDirectionChange,ue=Math.abs(h-Y.x),j=Math.abs(b-Y.y);return ue>this._config.pointerDirectionChangeThreshold&&(E.x=h>Y.x?1:-1,Y.x=h),j>this._config.pointerDirectionChangeThreshold&&(E.y=b>Y.y?1:-1,Y.y=b),E}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const p=this._handles.length>0||!this.isDragging();p!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=p,P(this._rootElement,p))}_removeRootElementListeners(p){p.removeEventListener("mousedown",this._pointerDown,H),p.removeEventListener("touchstart",this._pointerDown,ae)}_applyRootElementTransform(p,h){const b=he(p,h),E=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=E.transform&&"none"!=E.transform?E.transform:""),E.transform=y(b,this._initialTransform)}_applyPreviewTransform(p,h){const b=this._previewTemplate?.template?void 0:this._initialTransform,E=he(p,h);this._preview.style.transform=y(E,b)}_getDragDistance(p){const h=this._pickupPositionOnPage;return h?{x:p.x-h.x,y:p.y-h.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:p,y:h}=this._passiveTransform;if(0===p&&0===h||this.isDragging()||!this._boundaryElement)return;const b=this._boundaryElement.getBoundingClientRect(),E=this._rootElement.getBoundingClientRect();if(0===b.width&&0===b.height||0===E.width&&0===E.height)return;const Y=b.left-E.left,ue=E.right-b.right,j=b.top-E.top,G=E.bottom-b.bottom;b.width>E.width?(Y>0&&(p+=Y),ue>0&&(p-=ue)):p=0,b.height>E.height?(j>0&&(h+=j),G>0&&(h-=G)):h=0,(p!==this._passiveTransform.x||h!==this._passiveTransform.y)&&this.setFreeDragPosition({y:h,x:p})}_getDragStartDelay(p){const h=this.dragStartDelay;return"number"==typeof h?h:ie(p)?h.touch:h?h.mouse:0}_updateOnScroll(p){const h=this._parentPositions.handleScroll(p);if(h){const b=(0,Q.sA)(p);this._boundaryRect&&b!==this._boundaryElement&&b.contains(this._boundaryElement)&&Oe(this._boundaryRect,h.top,h.left),this._pickupPositionOnPage.x+=h.left,this._pickupPositionOnPage.y+=h.top,this._dropContainer||(this._activeTransform.x-=h.left,this._activeTransform.y-=h.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const p=this._parentPositions.positions.get(this._document);return p?p.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,Q.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(p,h){const b=this._previewContainer||"global";if("parent"===b)return p;if("global"===b){const E=this._document;return h||E.fullscreenElement||E.webkitFullscreenElement||E.mozFullScreenElement||E.msFullscreenElement||E.body}return(0,r.fI)(b)}}function he(L,p){return`translate3d(${Math.round(L)}px, ${Math.round(p)}px, 0)`}function je(L,p,h){return Math.max(p,Math.min(h,L))}function ie(L){return"t"===L.type[0]}function X(L,p){const h=L.rootNodes;if(1===h.length&&h[0].nodeType===p.ELEMENT_NODE)return h[0];const b=p.createElement("div");return h.forEach(E=>b.appendChild(E)),b}function pe(L,p){L.style.width=`${p.width}px`,L.style.height=`${p.height}px`,L.style.transform=he(p.left,p.top)}function ne(L,p,h){const b=Qe(p,L.length-1),E=Qe(h,L.length-1);if(b===E)return;const Y=L[b],ue=E<b?-1:1;for(let j=b;j!==E;j+=ue)L[j]=L[j+ue];L[E]=Y}function Ce(L,p,h,b){const E=Qe(h,L.length-1),Y=Qe(b,p.length);L.length&&p.splice(Y,0,L.splice(E,1)[0])}function Qe(L,p){return Math.max(0,Math.min(p,L))}class kt{constructor(p,h,b,E,Y){this._dragDropRegistry=h,this._ngZone=E,this._viewportRuler=Y,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new _e.Subject,this.entered=new _e.Subject,this.exited=new _e.Subject,this.dropped=new _e.Subject,this.sorted=new _e.Subject,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=_e.Subscription.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new _e.Subject,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,_e.interval)(0,_e.animationFrameScheduler).pipe((0,Ie.takeUntil)(this._stopScrollTimers)).subscribe(()=>{const ue=this._scrollNode,j=this.autoScrollStep;1===this._verticalScrollDirection?ue.scrollBy(0,-j):2===this._verticalScrollDirection&&ue.scrollBy(0,j),1===this._horizontalScrollDirection?ue.scrollBy(-j,0):2===this._horizontalScrollDirection&&ue.scrollBy(j,0)})},this.element=(0,r.fI)(p),this._document=b,this.withScrollableParents([this.element]),h.registerDropContainer(this),this._parentPositions=new Ve(b,Y)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(p,h,b,E){let Y;this._draggingStarted(),null==E?(Y=this.sortingDisabled?this._draggables.indexOf(p):-1,-1===Y&&(Y=this._getItemIndexFromPointerPosition(p,h,b))):Y=E;const ue=this._activeDraggables,j=ue.indexOf(p),G=p.getPlaceholderElement();let W=ue[Y];if(W===p&&(W=ue[Y+1]),!W&&(null==Y||-1===Y||Y<ue.length-1)&&this._shouldEnterAsFirstChild(h,b)&&(W=ue[0]),j>-1&&ue.splice(j,1),W&&!this._dragDropRegistry.isDragging(W)){const ve=W.getRootElement();ve.parentElement.insertBefore(G,ve),ue.splice(Y,0,p)}else(0,r.fI)(this.element).appendChild(G),ue.push(p);G.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:p,container:this,currentIndex:this.getItemIndex(p)})}exit(p){this._reset(),this.exited.next({item:p,container:this})}drop(p,h,b,E,Y,ue,j){this._reset(),this.dropped.next({item:p,currentIndex:h,previousIndex:b,container:this,previousContainer:E,isPointerOverContainer:Y,distance:ue,dropPoint:j})}withItems(p){const h=this._draggables;return this._draggables=p,p.forEach(b=>b._withDropContainer(this)),this.isDragging()&&(h.filter(E=>E.isDragging()).every(E=>-1===p.indexOf(E))?this._reset():this._cacheItems()),this}withDirection(p){return this._direction=p,this}connectedTo(p){return this._siblings=p.slice(),this}withOrientation(p){return this._orientation=p,this}withScrollableParents(p){const h=(0,r.fI)(this.element);return this._scrollableElements=-1===p.indexOf(h)?[h,...p]:p.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(p){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(b=>b.drag===p):this._draggables.indexOf(p)}isReceiving(){return this._activeSiblings.size>0}_sortItem(p,h,b,E){if(this.sortingDisabled||!this._clientRect||!V(this._clientRect,.05,h,b))return;const Y=this._itemPositions,ue=this._getItemIndexFromPointerPosition(p,h,b,E);if(-1===ue&&Y.length>0)return;const j="horizontal"===this._orientation,G=Y.findIndex(Lt=>Lt.drag===p),W=Y[ue],Ye=W.clientRect,pt=G>ue?1:-1,Rt=this._getItemOffsetPx(Y[G].clientRect,Ye,pt),Dt=this._getSiblingOffsetPx(G,Y,pt),Ht=Y.slice();ne(Y,G,ue),this.sorted.next({previousIndex:G,currentIndex:ue,container:this,item:p}),Y.forEach((Lt,ee)=>{if(Ht[ee]===Lt)return;const S=Lt.drag===p,f=S?Rt:Dt,g=S?p.getPlaceholderElement():Lt.drag.getRootElement();Lt.offset+=f,j?(g.style.transform=y(`translate3d(${Math.round(Lt.offset)}px, 0, 0)`,Lt.initialTransform),Oe(Lt.clientRect,0,f)):(g.style.transform=y(`translate3d(0, ${Math.round(Lt.offset)}px, 0)`,Lt.initialTransform),Oe(Lt.clientRect,f,0))}),this._previousSwap.overlaps=Te(Ye,h,b),this._previousSwap.drag=W.drag,this._previousSwap.delta=j?E.x:E.y}_startScrollingIfNecessary(p,h){if(this.autoScrollDisabled)return;let b,E=0,Y=0;if(this._parentPositions.positions.forEach((ue,j)=>{j===this._document||!ue.clientRect||b||V(ue.clientRect,.05,p,h)&&([E,Y]=function Ft(L,p,h,b){const E=It(p,b),Y=At(p,h);let ue=0,j=0;if(E){const G=L.scrollTop;1===E?G>0&&(ue=1):L.scrollHeight-G>L.clientHeight&&(ue=2)}if(Y){const G=L.scrollLeft;1===Y?G>0&&(j=1):L.scrollWidth-G>L.clientWidth&&(j=2)}return[ue,j]}(j,ue.clientRect,p,h),(E||Y)&&(b=j))}),!E&&!Y){const{width:ue,height:j}=this._viewportRuler.getViewportSize(),G={width:ue,height:j,top:0,right:ue,bottom:j,left:0};E=It(G,h),Y=At(G,p),b=window}b&&(E!==this._verticalScrollDirection||Y!==this._horizontalScrollDirection||b!==this._scrollNode)&&(this._verticalScrollDirection=E,this._horizontalScrollDirection=Y,this._scrollNode=b,(E||Y)&&b?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const p=(0,r.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=p.msScrollSnapType||p.scrollSnapType||"",p.scrollSnapType=p.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const p=(0,r.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(p).clientRect}_cacheItemPositions(){const p="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(h=>{const b=h.getVisibleElement();return{drag:h,offset:0,initialTransform:b.style.transform||"",clientRect:de(b)}}).sort((h,b)=>p?h.clientRect.left-b.clientRect.left:h.clientRect.top-b.clientRect.top)}_reset(){this._isDragging=!1;const p=(0,r.fI)(this.element).style;p.scrollSnapType=p.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(h=>{const b=h.getRootElement();if(b){const E=this._itemPositions.find(Y=>Y.drag===h)?.initialTransform;b.style.transform=E||""}}),this._siblings.forEach(h=>h._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(p,h,b){const E="horizontal"===this._orientation,Y=h[p].clientRect,ue=h[p+-1*b];let j=Y[E?"width":"height"]*b;if(ue){const G=E?"left":"top",W=E?"right":"bottom";-1===b?j-=ue.clientRect[G]-Y[W]:j+=Y[G]-ue.clientRect[W]}return j}_getItemOffsetPx(p,h,b){const E="horizontal"===this._orientation;let Y=E?h.left-p.left:h.top-p.top;return-1===b&&(Y+=E?h.width-p.width:h.height-p.height),Y}_shouldEnterAsFirstChild(p,h){if(!this._activeDraggables.length)return!1;const b=this._itemPositions,E="horizontal"===this._orientation;if(b[0].drag!==this._activeDraggables[0]){const ue=b[b.length-1].clientRect;return E?p>=ue.right:h>=ue.bottom}{const ue=b[0].clientRect;return E?p<=ue.left:h<=ue.top}}_getItemIndexFromPointerPosition(p,h,b,E){const Y="horizontal"===this._orientation,ue=this._itemPositions.findIndex(({drag:j,clientRect:G})=>{if(j===p)return!1;if(E){const W=Y?E.x:E.y;if(j===this._previousSwap.drag&&this._previousSwap.overlaps&&W===this._previousSwap.delta)return!1}return Y?h>=Math.floor(G.left)&&h<Math.floor(G.right):b>=Math.floor(G.top)&&b<Math.floor(G.bottom)});return-1!==ue&&this.sortPredicate(ue,p,this)?ue:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(p,h){return null!=this._clientRect&&Te(this._clientRect,p,h)}_getSiblingContainerFromPosition(p,h,b){return this._siblings.find(E=>E._canReceive(p,h,b))}_canReceive(p,h,b){if(!this._clientRect||!Te(this._clientRect,h,b)||!this.enterPredicate(p,this))return!1;const E=this._getShadowRoot().elementFromPoint(h,b);if(!E)return!1;const Y=(0,r.fI)(this.element);return E===Y||Y.contains(E)}_startReceiving(p,h){const b=this._activeSiblings;!b.has(p)&&h.every(E=>this.enterPredicate(E,this)||this._draggables.indexOf(E)>-1)&&(b.add(p),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(p){this._activeSiblings.delete(p),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(p=>{if(this.isDragging()){const h=this._parentPositions.handleScroll(p);h&&(this._itemPositions.forEach(({clientRect:b})=>{Oe(b,h.top,h.left)}),this._itemPositions.forEach(({drag:b})=>{this._dragDropRegistry.isDragging(b)&&b._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const p=(0,Q.kV)((0,r.fI)(this.element));this._cachedShadowRoot=p||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const p=this._activeDraggables.filter(h=>h.isDragging());this._siblings.forEach(h=>h._startReceiving(this,p))}}function It(L,p){const{top:h,bottom:b,height:E}=L,Y=.05*E;return p>=h-Y&&p<=h+Y?1:p>=b-Y&&p<=b+Y?2:0}function At(L,p){const{left:h,right:b,width:E}=L,Y=.05*E;return p>=h-Y&&p<=h+Y?1:p>=b-Y&&p<=b+Y?2:0}const yt=(0,Q.i$)({passive:!1,capture:!0});let St=(()=>{class L{constructor(h,b){this._ngZone=h,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=E=>E.isDragging(),this.pointerMove=new _e.Subject,this.pointerUp=new _e.Subject,this.scroll=new _e.Subject,this._preventDefaultWhileDragging=E=>{this._activeDragInstances.length>0&&E.preventDefault()},this._persistentTouchmoveListener=E=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&E.preventDefault(),this.pointerMove.next(E))},this._document=b}registerDropContainer(h){this._dropInstances.has(h)||this._dropInstances.add(h)}registerDragItem(h){this._dragInstances.add(h),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,yt)})}removeDropContainer(h){this._dropInstances.delete(h)}removeDragItem(h){this._dragInstances.delete(h),this.stopDragging(h),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,yt)}startDragging(h,b){if(!(this._activeDragInstances.indexOf(h)>-1)&&(this._activeDragInstances.push(h),1===this._activeDragInstances.length)){const E=b.type.startsWith("touch");this._globalListeners.set(E?"touchend":"mouseup",{handler:Y=>this.pointerUp.next(Y),options:!0}).set("scroll",{handler:Y=>this.scroll.next(Y),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:yt}),E||this._globalListeners.set("mousemove",{handler:Y=>this.pointerMove.next(Y),options:yt}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((Y,ue)=>{this._document.addEventListener(ue,Y.handler,Y.options)})})}}stopDragging(h){const b=this._activeDragInstances.indexOf(h);b>-1&&(this._activeDragInstances.splice(b,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(h){return this._activeDragInstances.indexOf(h)>-1}scrolled(h){const b=[this.scroll];return h&&h!==this._document&&b.push(new _e.Observable(E=>this._ngZone.runOutsideAngular(()=>{const ue=j=>{this._activeDragInstances.length&&E.next(j)};return h.addEventListener("scroll",ue,!0),()=>{h.removeEventListener("scroll",ue,!0)}}))),(0,_e.merge)(...b)}ngOnDestroy(){this._dragInstances.forEach(h=>this.removeDragItem(h)),this._dropInstances.forEach(h=>this.removeDropContainer(h)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((h,b)=>{this._document.removeEventListener(b,h.handler,h.options)}),this._globalListeners.clear()}}return L.\u0275fac=function(h){return new(h||L)(l.\u0275\u0275inject(l.NgZone),l.\u0275\u0275inject(w.DOCUMENT))},L.\u0275prov=l.\u0275\u0275defineInjectable({token:L,factory:L.\u0275fac,providedIn:"root"}),L})();const Re={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let I=(()=>{class L{constructor(h,b,E,Y){this._document=h,this._ngZone=b,this._viewportRuler=E,this._dragDropRegistry=Y}createDrag(h,b=Re){return new Ee(h,b,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(h){return new kt(h,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return L.\u0275fac=function(h){return new(h||L)(l.\u0275\u0275inject(w.DOCUMENT),l.\u0275\u0275inject(l.NgZone),l.\u0275\u0275inject(J.rL),l.\u0275\u0275inject(St))},L.\u0275prov=l.\u0275\u0275defineInjectable({token:L,factory:L.\u0275fac,providedIn:"root"}),L})();const U=new l.InjectionToken("CDK_DRAG_PARENT"),se=new l.InjectionToken("CdkDropListGroup");let ye=(()=>{class L{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(h){this._disabled=(0,r.Ig)(h)}ngOnDestroy(){this._items.clear()}}return L.\u0275fac=function(h){return new(h||L)},L.\u0275dir=l.\u0275\u0275defineDirective({type:L,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],features:[l.\u0275\u0275ProvidersFeature([{provide:se,useExisting:L}])]}),L})();const Ae=new l.InjectionToken("CDK_DRAG_CONFIG");let tt=0;const Xe=new l.InjectionToken("CdkDropList");let st=(()=>{class L{constructor(h,b,E,Y,ue,j,G){this.element=h,this._changeDetectorRef=E,this._scrollDispatcher=Y,this._dir=ue,this._group=j,this._destroyed=new _e.Subject,this.connectedTo=[],this.id="cdk-drop-list-"+tt++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new l.EventEmitter,this.entered=new l.EventEmitter,this.exited=new l.EventEmitter,this.sorted=new l.EventEmitter,this._unsortedItems=new Set,this._dropListRef=b.createDropList(h),this._dropListRef.data=this,G&&this._assignDefaults(G),this._dropListRef.enterPredicate=(W,ve)=>this.enterPredicate(W.data,ve.data),this._dropListRef.sortPredicate=(W,ve,Ye)=>this.sortPredicate(W,ve.data,Ye.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),L._dropLists.push(this),j&&j._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(h){this._dropListRef.disabled=this._disabled=(0,r.Ig)(h)}addItem(h){this._unsortedItems.add(h),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(h){this._unsortedItems.delete(h),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((h,b)=>h._dragRef.getVisibleElement().compareDocumentPosition(b._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const h=L._dropLists.indexOf(this);h>-1&&L._dropLists.splice(h,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(h){this._dir&&this._dir.change.pipe((0,Ie.startWith)(this._dir.value),(0,Ie.takeUntil)(this._destroyed)).subscribe(b=>h.withDirection(b)),h.beforeStarted.subscribe(()=>{const b=(0,r.Eq)(this.connectedTo).map(E=>"string"==typeof E?L._dropLists.find(ue=>ue.id===E):E);if(this._group&&this._group._items.forEach(E=>{-1===b.indexOf(E)&&b.push(E)}),!this._scrollableParentsResolved){const E=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(Y=>Y.getElementRef().nativeElement);this._dropListRef.withScrollableParents(E),this._scrollableParentsResolved=!0}h.disabled=this.disabled,h.lockAxis=this.lockAxis,h.sortingDisabled=(0,r.Ig)(this.sortingDisabled),h.autoScrollDisabled=(0,r.Ig)(this.autoScrollDisabled),h.autoScrollStep=(0,r.su)(this.autoScrollStep,2),h.connectedTo(b.filter(E=>E&&E!==this).map(E=>E._dropListRef)).withOrientation(this.orientation)})}_handleEvents(h){h.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),h.entered.subscribe(b=>{this.entered.emit({container:this,item:b.item.data,currentIndex:b.currentIndex})}),h.exited.subscribe(b=>{this.exited.emit({container:this,item:b.item.data}),this._changeDetectorRef.markForCheck()}),h.sorted.subscribe(b=>{this.sorted.emit({previousIndex:b.previousIndex,currentIndex:b.currentIndex,container:this,item:b.item.data})}),h.dropped.subscribe(b=>{this.dropped.emit({previousIndex:b.previousIndex,currentIndex:b.currentIndex,previousContainer:b.previousContainer.data,container:b.container.data,item:b.item.data,isPointerOverContainer:b.isPointerOverContainer,distance:b.distance,dropPoint:b.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(h){const{lockAxis:b,draggingDisabled:E,sortingDisabled:Y,listAutoScrollDisabled:ue,listOrientation:j}=h;this.disabled=E??!1,this.sortingDisabled=Y??!1,this.autoScrollDisabled=ue??!1,this.orientation=j||"vertical",b&&(this.lockAxis=b)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(h=>h._dragRef))}}return L._dropLists=[],L.\u0275fac=function(h){return new(h||L)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(I),l.\u0275\u0275directiveInject(l.ChangeDetectorRef),l.\u0275\u0275directiveInject(J.mF),l.\u0275\u0275directiveInject(K.Is,8),l.\u0275\u0275directiveInject(se,12),l.\u0275\u0275directiveInject(Ae,8))},L.\u0275dir=l.\u0275\u0275defineDirective({type:L,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(h,b){2&h&&(l.\u0275\u0275attribute("id",b.id),l.\u0275\u0275classProp("cdk-drop-list-disabled",b.disabled)("cdk-drop-list-dragging",b._dropListRef.isDragging())("cdk-drop-list-receiving",b._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[l.\u0275\u0275ProvidersFeature([{provide:se,useValue:void 0},{provide:Xe,useExisting:L}])]}),L})();const ot=new l.InjectionToken("CdkDragHandle");let Et=(()=>{class L{constructor(h,b){this.element=h,this._stateChanges=new _e.Subject,this._disabled=!1,this._parentDrag=b}get disabled(){return this._disabled}set disabled(h){this._disabled=(0,r.Ig)(h),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return L.\u0275fac=function(h){return new(h||L)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(U,12))},L.\u0275dir=l.\u0275\u0275defineDirective({type:L,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[l.\u0275\u0275ProvidersFeature([{provide:ot,useExisting:L}])]}),L})();const Ot=new l.InjectionToken("CdkDragPlaceholder"),Tt=new l.InjectionToken("CdkDragPreview");let Kt=(()=>{class L{constructor(h,b,E,Y,ue,j,G,W,ve,Ye,pt){this.element=h,this.dropContainer=b,this._ngZone=Y,this._viewContainerRef=ue,this._dir=G,this._changeDetectorRef=ve,this._selfHandle=Ye,this._parentDrag=pt,this._destroyed=new _e.Subject,this.started=new l.EventEmitter,this.released=new l.EventEmitter,this.ended=new l.EventEmitter,this.entered=new l.EventEmitter,this.exited=new l.EventEmitter,this.dropped=new l.EventEmitter,this.moved=new _e.Observable(Rt=>{const Dt=this._dragRef.moved.pipe((0,Ie.map)(Ht=>({source:this,pointerPosition:Ht.pointerPosition,event:Ht.event,delta:Ht.delta,distance:Ht.distance}))).subscribe(Rt);return()=>{Dt.unsubscribe()}}),this._dragRef=W.createDrag(h,{dragStartThreshold:j&&null!=j.dragStartThreshold?j.dragStartThreshold:5,pointerDirectionChangeThreshold:j&&null!=j.pointerDirectionChangeThreshold?j.pointerDirectionChangeThreshold:5,zIndex:j?.zIndex}),this._dragRef.data=this,L._dragInstances.push(this),j&&this._assignDefaults(j),b&&(this._dragRef._withDropContainer(b._dropListRef),b.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(h){this._disabled=(0,r.Ig)(h),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Ie.take)(1),(0,Ie.takeUntil)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(h){const b=h.rootElementSelector,E=h.freeDragPosition;b&&!b.firstChange&&this._updateRootElement(),E&&!E.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const h=L._dragInstances.indexOf(this);h>-1&&L._dragInstances.splice(h,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const h=this.element.nativeElement;let b=h;this.rootElementSelector&&(b=void 0!==h.closest?h.closest(this.rootElementSelector):h.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(b||h)}_getBoundaryElement(){const h=this.boundaryElement;return h?"string"==typeof h?this.element.nativeElement.closest(h):(0,r.fI)(h):null}_syncInputs(h){h.beforeStarted.subscribe(()=>{if(!h.isDragging()){const b=this._dir,E=this.dragStartDelay,Y=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,ue=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;h.disabled=this.disabled,h.lockAxis=this.lockAxis,h.dragStartDelay="object"==typeof E&&E?E:(0,r.su)(E),h.constrainPosition=this.constrainPosition,h.previewClass=this.previewClass,h.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(Y).withPreviewTemplate(ue).withPreviewContainer(this.previewContainer||"global"),b&&h.withDirection(b.value)}}),h.beforeStarted.pipe((0,Ie.take)(1)).subscribe(()=>{if(this._parentDrag)return void h.withParent(this._parentDrag._dragRef);let b=this.element.nativeElement.parentElement;for(;b;){if(b.classList.contains("cdk-drag")){h.withParent(L._dragInstances.find(E=>E.element.nativeElement===b)?._dragRef||null);break}b=b.parentElement}})}_handleEvents(h){h.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),h.released.subscribe(()=>{this.released.emit({source:this})}),h.ended.subscribe(b=>{this.ended.emit({source:this,distance:b.distance,dropPoint:b.dropPoint}),this._changeDetectorRef.markForCheck()}),h.entered.subscribe(b=>{this.entered.emit({container:b.container.data,item:this,currentIndex:b.currentIndex})}),h.exited.subscribe(b=>{this.exited.emit({container:b.container.data,item:this})}),h.dropped.subscribe(b=>{this.dropped.emit({previousIndex:b.previousIndex,currentIndex:b.currentIndex,previousContainer:b.previousContainer.data,container:b.container.data,isPointerOverContainer:b.isPointerOverContainer,item:this,distance:b.distance,dropPoint:b.dropPoint})})}_assignDefaults(h){const{lockAxis:b,dragStartDelay:E,constrainPosition:Y,previewClass:ue,boundaryElement:j,draggingDisabled:G,rootElementSelector:W,previewContainer:ve}=h;this.disabled=G??!1,this.dragStartDelay=E||0,b&&(this.lockAxis=b),Y&&(this.constrainPosition=Y),ue&&(this.previewClass=ue),j&&(this.boundaryElement=j),W&&(this.rootElementSelector=W),ve&&(this.previewContainer=ve)}_setupHandlesListener(){this._handles.changes.pipe((0,Ie.startWith)(this._handles),(0,Ie.tap)(h=>{const b=h.filter(E=>E._parentDrag===this).map(E=>E.element);this._selfHandle&&this.rootElementSelector&&b.push(this.element),this._dragRef.withHandles(b)}),(0,Ie.switchMap)(h=>(0,_e.merge)(...h.map(b=>b._stateChanges.pipe((0,Ie.startWith)(b))))),(0,Ie.takeUntil)(this._destroyed)).subscribe(h=>{const b=this._dragRef,E=h.element.nativeElement;h.disabled?b.disableHandle(E):b.enableHandle(E)})}}return L._dragInstances=[],L.\u0275fac=function(h){return new(h||L)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(Xe,12),l.\u0275\u0275directiveInject(w.DOCUMENT),l.\u0275\u0275directiveInject(l.NgZone),l.\u0275\u0275directiveInject(l.ViewContainerRef),l.\u0275\u0275directiveInject(Ae,8),l.\u0275\u0275directiveInject(K.Is,8),l.\u0275\u0275directiveInject(I),l.\u0275\u0275directiveInject(l.ChangeDetectorRef),l.\u0275\u0275directiveInject(ot,10),l.\u0275\u0275directiveInject(U,12))},L.\u0275dir=l.\u0275\u0275defineDirective({type:L,selectors:[["","cdkDrag",""]],contentQueries:function(h,b,E){if(1&h&&(l.\u0275\u0275contentQuery(E,Tt,5),l.\u0275\u0275contentQuery(E,Ot,5),l.\u0275\u0275contentQuery(E,ot,5)),2&h){let Y;l.\u0275\u0275queryRefresh(Y=l.\u0275\u0275loadQuery())&&(b._previewTemplate=Y.first),l.\u0275\u0275queryRefresh(Y=l.\u0275\u0275loadQuery())&&(b._placeholderTemplate=Y.first),l.\u0275\u0275queryRefresh(Y=l.\u0275\u0275loadQuery())&&(b._handles=Y)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(h,b){2&h&&l.\u0275\u0275classProp("cdk-drag-disabled",b.disabled)("cdk-drag-dragging",b._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[l.\u0275\u0275ProvidersFeature([{provide:U,useExisting:L}]),l.\u0275\u0275NgOnChangesFeature]}),L})(),li=(()=>{class L{}return L.\u0275fac=function(h){return new(h||L)},L.\u0275mod=l.\u0275\u0275defineNgModule({type:L}),L.\u0275inj=l.\u0275\u0275defineInjector({providers:[I],imports:[J.ZD]}),L})()},5436:(ht,ze,R)=>{R.d(ze,{A:()=>Le,zL:()=>Ie,ZH:()=>w,jx:()=>_e,yY:()=>ge,JH:()=>V,uR:()=>T,K5:()=>r,hY:()=>P,Sd:()=>B,oh:()=>de,b2:()=>cn,MW:()=>Nt,aO:()=>ie,VM:()=>v,Ku:()=>y,SV:()=>Oe,JU:()=>De,L_:()=>z,Mf:()=>J,LH:()=>Te,Z:()=>Yt,xE:()=>Be,Vb:()=>ei});const w=8,J=9,r=13,De=16,_e=17,Ie=18,P=27,z=32,y=33,v=34,T=35,B=36,de=37,Te=38,Oe=39,V=40,ge=46,Be=48,ie=57,Le=65,Yt=90,Nt=91,cn=224;function ei(ai,...Xt){return Xt.length?Xt.some(bi=>ai[bi]):ai.altKey||ai.shiftKey||ai.ctrlKey||ai.metaKey}},7723:(ht,ze,R)=>{R.d(ze,{wD:()=>_e,Q8:()=>Ie});var l=R(4929),w=R(7451),J=R(824),Q=R(5033);let r=(()=>{class K{create(P){return"undefined"==typeof MutationObserver?null:new MutationObserver(P)}}return K.\u0275fac=function(P){return new(P||K)},K.\u0275prov=w.\u0275\u0275defineInjectable({token:K,factory:K.\u0275fac,providedIn:"root"}),K})(),De=(()=>{class K{constructor(P){this._mutationObserverFactory=P,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((P,z)=>this._cleanupObserver(z))}observe(P){const z=(0,l.fI)(P);return new J.Observable(y=>{const T=this._observeElement(z).subscribe(y);return()=>{T.unsubscribe(),this._unobserveElement(z)}})}_observeElement(P){if(this._observedElements.has(P))this._observedElements.get(P).count++;else{const z=new J.Subject,y=this._mutationObserverFactory.create(v=>z.next(v));y&&y.observe(P,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(P,{observer:y,stream:z,count:1})}return this._observedElements.get(P).stream}_unobserveElement(P){this._observedElements.has(P)&&(this._observedElements.get(P).count--,this._observedElements.get(P).count||this._cleanupObserver(P))}_cleanupObserver(P){if(this._observedElements.has(P)){const{observer:z,stream:y}=this._observedElements.get(P);z&&z.disconnect(),y.complete(),this._observedElements.delete(P)}}}return K.\u0275fac=function(P){return new(P||K)(w.\u0275\u0275inject(r))},K.\u0275prov=w.\u0275\u0275defineInjectable({token:K,factory:K.\u0275fac,providedIn:"root"}),K})(),_e=(()=>{class K{constructor(P,z,y){this._contentObserver=P,this._elementRef=z,this._ngZone=y,this.event=new w.EventEmitter,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(P){this._disabled=(0,l.Ig)(P),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(P){this._debounce=(0,l.su)(P),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const P=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?P.pipe((0,Q.debounceTime)(this.debounce)):P).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return K.\u0275fac=function(P){return new(P||K)(w.\u0275\u0275directiveInject(De),w.\u0275\u0275directiveInject(w.ElementRef),w.\u0275\u0275directiveInject(w.NgZone))},K.\u0275dir=w.\u0275\u0275defineDirective({type:K,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),K})(),Ie=(()=>{class K{}return K.\u0275fac=function(P){return new(P||K)},K.\u0275mod=w.\u0275\u0275defineNgModule({type:K}),K.\u0275inj=w.\u0275\u0275defineInjector({providers:[r]}),K})()},9596:(ht,ze,R)=>{R.d(ze,{aV:()=>Qe,X_:()=>Oe,Xj:()=>H,U8:()=>yt});var l=R(5531),w=R(3192),J=R(7451),Q=R(4929),r=R(6321),De=R(5875),_e=R(8632),Ie=R(824),K=R(5033);const xe=(0,r.Mq)();class P{constructor(I,U){this._viewportRuler=I,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=U}attach(){}enable(){if(this._canBeEnabled()){const I=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=I.style.left||"",this._previousHTMLStyles.top=I.style.top||"",I.style.left=(0,Q.HM)(-this._previousScrollPosition.left),I.style.top=(0,Q.HM)(-this._previousScrollPosition.top),I.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const I=this._document.documentElement,se=I.style,ye=this._document.body.style,Ae=se.scrollBehavior||"",Ge=ye.scrollBehavior||"";this._isEnabled=!1,se.left=this._previousHTMLStyles.left,se.top=this._previousHTMLStyles.top,I.classList.remove("cdk-global-scrollblock"),xe&&(se.scrollBehavior=ye.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),xe&&(se.scrollBehavior=Ae,ye.scrollBehavior=Ge)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const U=this._document.body,se=this._viewportRuler.getViewportSize();return U.scrollHeight>se.height||U.scrollWidth>se.width}}class y{constructor(I,U,se,ye){this._scrollDispatcher=I,this._ngZone=U,this._viewportRuler=se,this._config=ye,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(I){this._overlayRef=I}enable(){if(this._scrollSubscription)return;const I=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=I.subscribe(()=>{const U=this._viewportRuler.getViewportScrollPosition().top;Math.abs(U-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=I.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class v{enable(){}disable(){}attach(){}}function T(Re,I){return I.some(U=>Re.bottom<U.top||Re.top>U.bottom||Re.right<U.left||Re.left>U.right)}function B(Re,I){return I.some(U=>Re.top<U.top||Re.bottom>U.bottom||Re.left<U.left||Re.right>U.right)}class de{constructor(I,U,se,ye){this._scrollDispatcher=I,this._viewportRuler=U,this._ngZone=se,this._config=ye,this._scrollSubscription=null}attach(I){this._overlayRef=I}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const U=this._overlayRef.overlayElement.getBoundingClientRect(),{width:se,height:ye}=this._viewportRuler.getViewportSize();T(U,[{width:se,height:ye,bottom:ye,right:se,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Te=(()=>{class Re{constructor(U,se,ye,Ae){this._scrollDispatcher=U,this._viewportRuler=se,this._ngZone=ye,this.noop=()=>new v,this.close=Ge=>new y(this._scrollDispatcher,this._ngZone,this._viewportRuler,Ge),this.block=()=>new P(this._viewportRuler,this._document),this.reposition=Ge=>new de(this._scrollDispatcher,this._viewportRuler,this._ngZone,Ge),this._document=Ae}}return Re.\u0275fac=function(U){return new(U||Re)(J.\u0275\u0275inject(l.mF),J.\u0275\u0275inject(l.rL),J.\u0275\u0275inject(J.NgZone),J.\u0275\u0275inject(w.DOCUMENT))},Re.\u0275prov=J.\u0275\u0275defineInjectable({token:Re,factory:Re.\u0275fac,providedIn:"root"}),Re})();class Oe{constructor(I){if(this.scrollStrategy=new v,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,I){const U=Object.keys(I);for(const se of U)void 0!==I[se]&&(this[se]=I[se])}}}class ce{constructor(I,U){this.connectionPair=I,this.scrollableViewProperties=U}}let Be=(()=>{class Re{constructor(U){this._attachedOverlays=[],this._document=U}ngOnDestroy(){this.detach()}add(U){this.remove(U),this._attachedOverlays.push(U)}remove(U){const se=this._attachedOverlays.indexOf(U);se>-1&&this._attachedOverlays.splice(se,1),0===this._attachedOverlays.length&&this.detach()}}return Re.\u0275fac=function(U){return new(U||Re)(J.\u0275\u0275inject(w.DOCUMENT))},Re.\u0275prov=J.\u0275\u0275defineInjectable({token:Re,factory:Re.\u0275fac,providedIn:"root"}),Re})(),we=(()=>{class Re extends Be{constructor(U){super(U),this._keydownListener=se=>{const ye=this._attachedOverlays;for(let Ae=ye.length-1;Ae>-1;Ae--)if(ye[Ae]._keydownEvents.observers.length>0){ye[Ae]._keydownEvents.next(se);break}}}add(U){super.add(U),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return Re.\u0275fac=function(U){return new(U||Re)(J.\u0275\u0275inject(w.DOCUMENT))},Re.\u0275prov=J.\u0275\u0275defineInjectable({token:Re,factory:Re.\u0275fac,providedIn:"root"}),Re})(),ae=(()=>{class Re extends Be{constructor(U,se){super(U),this._platform=se,this._cursorStyleIsSet=!1,this._pointerDownListener=ye=>{this._pointerDownEventTarget=(0,r.sA)(ye)},this._clickListener=ye=>{const Ae=(0,r.sA)(ye),Ge="click"===ye.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Ae;this._pointerDownEventTarget=null;const tt=this._attachedOverlays.slice();for(let Xe=tt.length-1;Xe>-1;Xe--){const st=tt[Xe];if(!(st._outsidePointerEvents.observers.length<1)&&st.hasAttached()){if(st.overlayElement.contains(Ae)||st.overlayElement.contains(Ge))break;st._outsidePointerEvents.next(ye)}}}}add(U){if(super.add(U),!this._isAttached){const se=this._document.body;se.addEventListener("pointerdown",this._pointerDownListener,!0),se.addEventListener("click",this._clickListener,!0),se.addEventListener("auxclick",this._clickListener,!0),se.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=se.style.cursor,se.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const U=this._document.body;U.removeEventListener("pointerdown",this._pointerDownListener,!0),U.removeEventListener("click",this._clickListener,!0),U.removeEventListener("auxclick",this._clickListener,!0),U.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(U.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return Re.\u0275fac=function(U){return new(U||Re)(J.\u0275\u0275inject(w.DOCUMENT),J.\u0275\u0275inject(r.t4))},Re.\u0275prov=J.\u0275\u0275defineInjectable({token:Re,factory:Re.\u0275fac,providedIn:"root"}),Re})(),H=(()=>{class Re{constructor(U,se){this._platform=se,this._document=U}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const U="cdk-overlay-container";if(this._platform.isBrowser||(0,r.Oy)()){const ye=this._document.querySelectorAll(`.${U}[platform="server"], .${U}[platform="test"]`);for(let Ae=0;Ae<ye.length;Ae++)ye[Ae].remove()}const se=this._document.createElement("div");se.classList.add(U),(0,r.Oy)()?se.setAttribute("platform","test"):this._platform.isBrowser||se.setAttribute("platform","server"),this._document.body.appendChild(se),this._containerElement=se}}return Re.\u0275fac=function(U){return new(U||Re)(J.\u0275\u0275inject(w.DOCUMENT),J.\u0275\u0275inject(r.t4))},Re.\u0275prov=J.\u0275\u0275defineInjectable({token:Re,factory:Re.\u0275fac,providedIn:"root"}),Re})();class le{constructor(I,U,se,ye,Ae,Ge,tt,Xe,st){this._portalOutlet=I,this._host=U,this._pane=se,this._config=ye,this._ngZone=Ae,this._keyboardDispatcher=Ge,this._document=tt,this._location=Xe,this._outsideClickDispatcher=st,this._backdropElement=null,this._backdropClick=new Ie.Subject,this._attachments=new Ie.Subject,this._detachments=new Ie.Subject,this._locationChanges=Ie.Subscription.EMPTY,this._backdropClickHandler=ot=>this._backdropClick.next(ot),this._keydownEvents=new Ie.Subject,this._outsidePointerEvents=new Ie.Subject,ye.scrollStrategy&&(this._scrollStrategy=ye.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=ye.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(I){let U=this._portalOutlet.attach(I);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,K.take)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),U}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const I=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),I}dispose(){const I=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,I&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(I){I!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=I,this.hasAttached()&&(I.attach(this),this.updatePosition()))}updateSize(I){this._config={...this._config,...I},this._updateElementSize()}setDirection(I){this._config={...this._config,direction:I},this._updateElementDirection()}addPanelClass(I){this._pane&&this._toggleClasses(this._pane,I,!0)}removePanelClass(I){this._pane&&this._toggleClasses(this._pane,I,!1)}getDirection(){const I=this._config.direction;return I?"string"==typeof I?I:I.value:"ltr"}updateScrollStrategy(I){I!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=I,this.hasAttached()&&(I.attach(this),I.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const I=this._pane.style;I.width=(0,Q.HM)(this._config.width),I.height=(0,Q.HM)(this._config.height),I.minWidth=(0,Q.HM)(this._config.minWidth),I.minHeight=(0,Q.HM)(this._config.minHeight),I.maxWidth=(0,Q.HM)(this._config.maxWidth),I.maxHeight=(0,Q.HM)(this._config.maxHeight)}_togglePointerEvents(I){this._pane.style.pointerEvents=I?"":"none"}_attachBackdrop(){const I="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(I)})}):this._backdropElement.classList.add(I)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const I=this._backdropElement;if(!I)return;let U;const se=()=>{I&&(I.removeEventListener("click",this._backdropClickHandler),I.removeEventListener("transitionend",se),this._disposeBackdrop(I)),this._config.backdropClass&&this._toggleClasses(I,this._config.backdropClass,!1),clearTimeout(U)};I.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{I.addEventListener("transitionend",se)}),I.style.pointerEvents="none",U=this._ngZone.runOutsideAngular(()=>setTimeout(se,500))}_toggleClasses(I,U,se){const ye=(0,Q.Eq)(U||[]).filter(Ae=>!!Ae);ye.length&&(se?I.classList.add(...ye):I.classList.remove(...ye))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const I=this._ngZone.onStable.pipe((0,K.takeUntil)((0,Ie.merge)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),I.unsubscribe())})})}_disposeScrollStrategy(){const I=this._scrollStrategy;I&&(I.disable(),I.detach&&I.detach())}_disposeBackdrop(I){I&&(I.remove(),this._backdropElement===I&&(this._backdropElement=null))}}const me="cdk-overlay-connected-position-bounding-box",Ee=/([A-Za-z%]+)$/;class he{constructor(I,U,se,ye,Ae){this._viewportRuler=U,this._document=se,this._platform=ye,this._overlayContainer=Ae,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ie.Subject,this._resizeSubscription=Ie.Subscription.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(I)}get positions(){return this._preferredPositions}attach(I){this._validatePositions(),I.hostElement.classList.add(me),this._overlayRef=I,this._boundingBox=I.hostElement,this._pane=I.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const I=this._originRect,U=this._overlayRect,se=this._viewportRect,ye=this._containerRect,Ae=[];let Ge;for(let tt of this._preferredPositions){let Xe=this._getOriginPoint(I,ye,tt),st=this._getOverlayPoint(Xe,U,tt),ot=this._getOverlayFit(st,U,se,tt);if(ot.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(tt,Xe);this._canFitWithFlexibleDimensions(ot,st,se)?Ae.push({position:tt,origin:Xe,overlayRect:U,boundingBoxRect:this._calculateBoundingBoxRect(Xe,tt)}):(!Ge||Ge.overlayFit.visibleArea<ot.visibleArea)&&(Ge={overlayFit:ot,overlayPoint:st,originPoint:Xe,position:tt,overlayRect:U})}if(Ae.length){let tt=null,Xe=-1;for(const st of Ae){const ot=st.boundingBoxRect.width*st.boundingBoxRect.height*(st.position.weight||1);ot>Xe&&(Xe=ot,tt=st)}return this._isPushed=!1,void this._applyPosition(tt.position,tt.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Ge.position,Ge.originPoint);this._applyPosition(Ge.position,Ge.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&je(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(me),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const I=this._lastPosition||this._preferredPositions[0],U=this._getOriginPoint(this._originRect,this._containerRect,I);this._applyPosition(I,U)}}withScrollableContainers(I){return this._scrollables=I,this}withPositions(I){return this._preferredPositions=I,-1===I.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(I){return this._viewportMargin=I,this}withFlexibleDimensions(I=!0){return this._hasFlexibleDimensions=I,this}withGrowAfterOpen(I=!0){return this._growAfterOpen=I,this}withPush(I=!0){return this._canPush=I,this}withLockedPosition(I=!0){return this._positionLocked=I,this}setOrigin(I){return this._origin=I,this}withDefaultOffsetX(I){return this._offsetX=I,this}withDefaultOffsetY(I){return this._offsetY=I,this}withTransformOriginOn(I){return this._transformOriginSelector=I,this}_getOriginPoint(I,U,se){let ye,Ae;if("center"==se.originX)ye=I.left+I.width/2;else{const Ge=this._isRtl()?I.right:I.left,tt=this._isRtl()?I.left:I.right;ye="start"==se.originX?Ge:tt}return U.left<0&&(ye-=U.left),Ae="center"==se.originY?I.top+I.height/2:"top"==se.originY?I.top:I.bottom,U.top<0&&(Ae-=U.top),{x:ye,y:Ae}}_getOverlayPoint(I,U,se){let ye,Ae;return ye="center"==se.overlayX?-U.width/2:"start"===se.overlayX?this._isRtl()?-U.width:0:this._isRtl()?0:-U.width,Ae="center"==se.overlayY?-U.height/2:"top"==se.overlayY?0:-U.height,{x:I.x+ye,y:I.y+Ae}}_getOverlayFit(I,U,se,ye){const Ae=X(U);let{x:Ge,y:tt}=I,Xe=this._getOffset(ye,"x"),st=this._getOffset(ye,"y");Xe&&(Ge+=Xe),st&&(tt+=st);let Ot=0-tt,Pt=tt+Ae.height-se.height,Tt=this._subtractOverflows(Ae.width,0-Ge,Ge+Ae.width-se.width),Yt=this._subtractOverflows(Ae.height,Ot,Pt),Nt=Tt*Yt;return{visibleArea:Nt,isCompletelyWithinViewport:Ae.width*Ae.height===Nt,fitsInViewportVertically:Yt===Ae.height,fitsInViewportHorizontally:Tt==Ae.width}}_canFitWithFlexibleDimensions(I,U,se){if(this._hasFlexibleDimensions){const ye=se.bottom-U.y,Ae=se.right-U.x,Ge=ie(this._overlayRef.getConfig().minHeight),tt=ie(this._overlayRef.getConfig().minWidth),st=I.fitsInViewportHorizontally||null!=tt&&tt<=Ae;return(I.fitsInViewportVertically||null!=Ge&&Ge<=ye)&&st}return!1}_pushOverlayOnScreen(I,U,se){if(this._previousPushAmount&&this._positionLocked)return{x:I.x+this._previousPushAmount.x,y:I.y+this._previousPushAmount.y};const ye=X(U),Ae=this._viewportRect,Ge=Math.max(I.x+ye.width-Ae.width,0),tt=Math.max(I.y+ye.height-Ae.height,0),Xe=Math.max(Ae.top-se.top-I.y,0),st=Math.max(Ae.left-se.left-I.x,0);let ot=0,Et=0;return ot=ye.width<=Ae.width?st||-Ge:I.x<this._viewportMargin?Ae.left-se.left-I.x:0,Et=ye.height<=Ae.height?Xe||-tt:I.y<this._viewportMargin?Ae.top-se.top-I.y:0,this._previousPushAmount={x:ot,y:Et},{x:I.x+ot,y:I.y+Et}}_applyPosition(I,U){if(this._setTransformOrigin(I),this._setOverlayElementStyles(U,I),this._setBoundingBoxStyles(U,I),I.panelClass&&this._addPanelClasses(I.panelClass),this._lastPosition=I,this._positionChanges.observers.length){const se=this._getScrollVisibility(),ye=new ce(I,se);this._positionChanges.next(ye)}this._isInitialRender=!1}_setTransformOrigin(I){if(!this._transformOriginSelector)return;const U=this._boundingBox.querySelectorAll(this._transformOriginSelector);let se,ye=I.overlayY;se="center"===I.overlayX?"center":this._isRtl()?"start"===I.overlayX?"right":"left":"start"===I.overlayX?"left":"right";for(let Ae=0;Ae<U.length;Ae++)U[Ae].style.transformOrigin=`${se} ${ye}`}_calculateBoundingBoxRect(I,U){const se=this._viewportRect,ye=this._isRtl();let Ae,Ge,tt,ot,Et,Ot;if("top"===U.overlayY)Ge=I.y,Ae=se.height-Ge+this._viewportMargin;else if("bottom"===U.overlayY)tt=se.height-I.y+2*this._viewportMargin,Ae=se.height-tt+this._viewportMargin;else{const Pt=Math.min(se.bottom-I.y+se.top,I.y),Tt=this._lastBoundingBoxSize.height;Ae=2*Pt,Ge=I.y-Pt,Ae>Tt&&!this._isInitialRender&&!this._growAfterOpen&&(Ge=I.y-Tt/2)}if("end"===U.overlayX&&!ye||"start"===U.overlayX&&ye)Ot=se.width-I.x+this._viewportMargin,ot=I.x-this._viewportMargin;else if("start"===U.overlayX&&!ye||"end"===U.overlayX&&ye)Et=I.x,ot=se.right-I.x;else{const Pt=Math.min(se.right-I.x+se.left,I.x),Tt=this._lastBoundingBoxSize.width;ot=2*Pt,Et=I.x-Pt,ot>Tt&&!this._isInitialRender&&!this._growAfterOpen&&(Et=I.x-Tt/2)}return{top:Ge,left:Et,bottom:tt,right:Ot,width:ot,height:Ae}}_setBoundingBoxStyles(I,U){const se=this._calculateBoundingBoxRect(I,U);!this._isInitialRender&&!this._growAfterOpen&&(se.height=Math.min(se.height,this._lastBoundingBoxSize.height),se.width=Math.min(se.width,this._lastBoundingBoxSize.width));const ye={};if(this._hasExactPosition())ye.top=ye.left="0",ye.bottom=ye.right=ye.maxHeight=ye.maxWidth="",ye.width=ye.height="100%";else{const Ae=this._overlayRef.getConfig().maxHeight,Ge=this._overlayRef.getConfig().maxWidth;ye.height=(0,Q.HM)(se.height),ye.top=(0,Q.HM)(se.top),ye.bottom=(0,Q.HM)(se.bottom),ye.width=(0,Q.HM)(se.width),ye.left=(0,Q.HM)(se.left),ye.right=(0,Q.HM)(se.right),ye.alignItems="center"===U.overlayX?"center":"end"===U.overlayX?"flex-end":"flex-start",ye.justifyContent="center"===U.overlayY?"center":"bottom"===U.overlayY?"flex-end":"flex-start",Ae&&(ye.maxHeight=(0,Q.HM)(Ae)),Ge&&(ye.maxWidth=(0,Q.HM)(Ge))}this._lastBoundingBoxSize=se,je(this._boundingBox.style,ye)}_resetBoundingBoxStyles(){je(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){je(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(I,U){const se={},ye=this._hasExactPosition(),Ae=this._hasFlexibleDimensions,Ge=this._overlayRef.getConfig();if(ye){const ot=this._viewportRuler.getViewportScrollPosition();je(se,this._getExactOverlayY(U,I,ot)),je(se,this._getExactOverlayX(U,I,ot))}else se.position="static";let tt="",Xe=this._getOffset(U,"x"),st=this._getOffset(U,"y");Xe&&(tt+=`translateX(${Xe}px) `),st&&(tt+=`translateY(${st}px)`),se.transform=tt.trim(),Ge.maxHeight&&(ye?se.maxHeight=(0,Q.HM)(Ge.maxHeight):Ae&&(se.maxHeight="")),Ge.maxWidth&&(ye?se.maxWidth=(0,Q.HM)(Ge.maxWidth):Ae&&(se.maxWidth="")),je(this._pane.style,se)}_getExactOverlayY(I,U,se){let ye={top:"",bottom:""},Ae=this._getOverlayPoint(U,this._overlayRect,I);return this._isPushed&&(Ae=this._pushOverlayOnScreen(Ae,this._overlayRect,se)),"bottom"===I.overlayY?ye.bottom=this._document.documentElement.clientHeight-(Ae.y+this._overlayRect.height)+"px":ye.top=(0,Q.HM)(Ae.y),ye}_getExactOverlayX(I,U,se){let Ge,ye={left:"",right:""},Ae=this._getOverlayPoint(U,this._overlayRect,I);return this._isPushed&&(Ae=this._pushOverlayOnScreen(Ae,this._overlayRect,se)),Ge=this._isRtl()?"end"===I.overlayX?"left":"right":"end"===I.overlayX?"right":"left","right"===Ge?ye.right=this._document.documentElement.clientWidth-(Ae.x+this._overlayRect.width)+"px":ye.left=(0,Q.HM)(Ae.x),ye}_getScrollVisibility(){const I=this._getOriginRect(),U=this._pane.getBoundingClientRect(),se=this._scrollables.map(ye=>ye.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:B(I,se),isOriginOutsideView:T(I,se),isOverlayClipped:B(U,se),isOverlayOutsideView:T(U,se)}}_subtractOverflows(I,...U){return U.reduce((se,ye)=>se-Math.max(ye,0),I)}_getNarrowedViewportRect(){const I=this._document.documentElement.clientWidth,U=this._document.documentElement.clientHeight,se=this._viewportRuler.getViewportScrollPosition();return{top:se.top+this._viewportMargin,left:se.left+this._viewportMargin,right:se.left+I-this._viewportMargin,bottom:se.top+U-this._viewportMargin,width:I-2*this._viewportMargin,height:U-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(I,U){return"x"===U?I.offsetX??this._offsetX:I.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(I){this._pane&&(0,Q.Eq)(I).forEach(U=>{""!==U&&-1===this._appliedPanelClasses.indexOf(U)&&(this._appliedPanelClasses.push(U),this._pane.classList.add(U))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(I=>{this._pane.classList.remove(I)}),this._appliedPanelClasses=[])}_getOriginRect(){const I=this._origin;if(I instanceof J.ElementRef)return I.nativeElement.getBoundingClientRect();if(I instanceof Element)return I.getBoundingClientRect();const U=I.width||0,se=I.height||0;return{top:I.y,bottom:I.y+se,left:I.x,right:I.x+U,height:se,width:U}}}function je(Re,I){for(let U in I)I.hasOwnProperty(U)&&(Re[U]=I[U]);return Re}function ie(Re){if("number"!=typeof Re&&null!=Re){const[I,U]=Re.split(Ee);return U&&"px"!==U?null:parseFloat(I)}return Re||null}function X(Re){return{top:Math.floor(Re.top),right:Math.floor(Re.right),bottom:Math.floor(Re.bottom),left:Math.floor(Re.left),width:Math.floor(Re.width),height:Math.floor(Re.height)}}const pe="cdk-global-overlay-wrapper";class ne{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(I){const U=I.getConfig();this._overlayRef=I,this._width&&!U.width&&I.updateSize({width:this._width}),this._height&&!U.height&&I.updateSize({height:this._height}),I.hostElement.classList.add(pe),this._isDisposed=!1}top(I=""){return this._bottomOffset="",this._topOffset=I,this._alignItems="flex-start",this}left(I=""){return this._rightOffset="",this._leftOffset=I,this._justifyContent="flex-start",this}bottom(I=""){return this._topOffset="",this._bottomOffset=I,this._alignItems="flex-end",this}right(I=""){return this._leftOffset="",this._rightOffset=I,this._justifyContent="flex-end",this}width(I=""){return this._overlayRef?this._overlayRef.updateSize({width:I}):this._width=I,this}height(I=""){return this._overlayRef?this._overlayRef.updateSize({height:I}):this._height=I,this}centerHorizontally(I=""){return this.left(I),this._justifyContent="center",this}centerVertically(I=""){return this.top(I),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const I=this._overlayRef.overlayElement.style,U=this._overlayRef.hostElement.style,se=this._overlayRef.getConfig(),{width:ye,height:Ae,maxWidth:Ge,maxHeight:tt}=se,Xe=!("100%"!==ye&&"100vw"!==ye||Ge&&"100%"!==Ge&&"100vw"!==Ge),st=!("100%"!==Ae&&"100vh"!==Ae||tt&&"100%"!==tt&&"100vh"!==tt);I.position=this._cssPosition,I.marginLeft=Xe?"0":this._leftOffset,I.marginTop=st?"0":this._topOffset,I.marginBottom=this._bottomOffset,I.marginRight=this._rightOffset,Xe?U.justifyContent="flex-start":"center"===this._justifyContent?U.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?U.justifyContent="flex-end":"flex-end"===this._justifyContent&&(U.justifyContent="flex-start"):U.justifyContent=this._justifyContent,U.alignItems=st?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const I=this._overlayRef.overlayElement.style,U=this._overlayRef.hostElement,se=U.style;U.classList.remove(pe),se.justifyContent=se.alignItems=I.marginTop=I.marginBottom=I.marginLeft=I.marginRight=I.position="",this._overlayRef=null,this._isDisposed=!0}}let Ce=(()=>{class Re{constructor(U,se,ye,Ae){this._viewportRuler=U,this._document=se,this._platform=ye,this._overlayContainer=Ae}global(){return new ne}flexibleConnectedTo(U){return new he(U,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return Re.\u0275fac=function(U){return new(U||Re)(J.\u0275\u0275inject(l.rL),J.\u0275\u0275inject(w.DOCUMENT),J.\u0275\u0275inject(r.t4),J.\u0275\u0275inject(H))},Re.\u0275prov=J.\u0275\u0275defineInjectable({token:Re,factory:Re.\u0275fac,providedIn:"root"}),Re})(),Le=0,Qe=(()=>{class Re{constructor(U,se,ye,Ae,Ge,tt,Xe,st,ot,Et,Ot){this.scrollStrategies=U,this._overlayContainer=se,this._componentFactoryResolver=ye,this._positionBuilder=Ae,this._keyboardDispatcher=Ge,this._injector=tt,this._ngZone=Xe,this._document=st,this._directionality=ot,this._location=Et,this._outsideClickDispatcher=Ot}create(U){const se=this._createHostElement(),ye=this._createPaneElement(se),Ae=this._createPortalOutlet(ye),Ge=new Oe(U);return Ge.direction=Ge.direction||this._directionality.value,new le(Ae,se,ye,Ge,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(U){const se=this._document.createElement("div");return se.id="cdk-overlay-"+Le++,se.classList.add("cdk-overlay-pane"),U.appendChild(se),se}_createHostElement(){const U=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(U),U}_createPortalOutlet(U){return this._appRef||(this._appRef=this._injector.get(J.ApplicationRef)),new _e.u0(U,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return Re.\u0275fac=function(U){return new(U||Re)(J.\u0275\u0275inject(Te),J.\u0275\u0275inject(H),J.\u0275\u0275inject(J.ComponentFactoryResolver),J.\u0275\u0275inject(Ce),J.\u0275\u0275inject(we),J.\u0275\u0275inject(J.Injector),J.\u0275\u0275inject(J.NgZone),J.\u0275\u0275inject(w.DOCUMENT),J.\u0275\u0275inject(De.Is),J.\u0275\u0275inject(w.Location),J.\u0275\u0275inject(ae))},Re.\u0275prov=J.\u0275\u0275defineInjectable({token:Re,factory:Re.\u0275fac}),Re})();const Ft={provide:new J.InjectionToken("cdk-connected-overlay-scroll-strategy"),deps:[Qe],useFactory:function At(Re){return()=>Re.scrollStrategies.reposition()}};let yt=(()=>{class Re{}return Re.\u0275fac=function(U){return new(U||Re)},Re.\u0275mod=J.\u0275\u0275defineNgModule({type:Re}),Re.\u0275inj=J.\u0275\u0275defineInjector({providers:[Qe,Ft],imports:[[De.vT,_e.eL,l.Cl],l.Cl]}),Re})()},6321:(ht,ze,R)=>{R.d(ze,{t4:()=>Q,ud:()=>r,sA:()=>V,ht:()=>Oe,kV:()=>Te,Oy:()=>Ve,i$:()=>P,Mq:()=>v});var l=R(7451),w=R(3192);let J;try{J="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch{J=!1}let K,y,B,Q=(()=>{class ce{constructor(ge){this._platformId=ge,this.isBrowser=this._platformId?(0,w.isPlatformBrowser)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!J)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return ce.\u0275fac=function(ge){return new(ge||ce)(l.\u0275\u0275inject(l.PLATFORM_ID))},ce.\u0275prov=l.\u0275\u0275defineInjectable({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})(),r=(()=>{class ce{}return ce.\u0275fac=function(ge){return new(ge||ce)},ce.\u0275mod=l.\u0275\u0275defineNgModule({type:ce}),ce.\u0275inj=l.\u0275\u0275defineInjector({}),ce})();function P(ce){return function xe(){if(null==K&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>K=!0}))}finally{K=K||!1}return K}()?ce:!!ce.capture}function v(){if(null==y){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return y=!1,y;if("scrollBehavior"in document.documentElement.style)y=!0;else{const ce=Element.prototype.scrollTo;y=!!ce&&!/\{\s*\[native code\]\s*\}/.test(ce.toString())}}return y}function Te(ce){if(function de(){if(null==B){const ce="undefined"!=typeof document?document.head:null;B=!(!ce||!ce.createShadowRoot&&!ce.attachShadow)}return B}()){const Pe=ce.getRootNode?ce.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&Pe instanceof ShadowRoot)return Pe}return null}function Oe(){let ce="undefined"!=typeof document&&document?document.activeElement:null;for(;ce&&ce.shadowRoot;){const Pe=ce.shadowRoot.activeElement;if(Pe===ce)break;ce=Pe}return ce}function V(ce){return ce.composedPath?ce.composedPath()[0]:ce.target}function Ve(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}},8632:(ht,ze,R)=>{R.d(ze,{en:()=>y,Pl:()=>Oe,C5:()=>xe,u0:()=>T,eL:()=>Ve,UE:()=>P});var l=R(7451),w=R(3192);class K{attach(ge){return this._attachedHost=ge,ge.attach(this)}detach(){let ge=this._attachedHost;null!=ge&&(this._attachedHost=null,ge.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(ge){this._attachedHost=ge}}class xe extends K{constructor(ge,Be,we,ae){super(),this.component=ge,this.viewContainerRef=Be,this.injector=we,this.componentFactoryResolver=ae}}class P extends K{constructor(ge,Be,we){super(),this.templateRef=ge,this.viewContainerRef=Be,this.context=we}get origin(){return this.templateRef.elementRef}attach(ge,Be=this.context){return this.context=Be,super.attach(ge)}detach(){return this.context=void 0,super.detach()}}class z extends K{constructor(ge){super(),this.element=ge instanceof l.ElementRef?ge.nativeElement:ge}}class y{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(ge){return ge instanceof xe?(this._attachedPortal=ge,this.attachComponentPortal(ge)):ge instanceof P?(this._attachedPortal=ge,this.attachTemplatePortal(ge)):this.attachDomPortal&&ge instanceof z?(this._attachedPortal=ge,this.attachDomPortal(ge)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(ge){this._disposeFn=ge}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class T extends y{constructor(ge,Be,we,ae,H){super(),this.outletElement=ge,this._componentFactoryResolver=Be,this._appRef=we,this._defaultInjector=ae,this.attachDomPortal=le=>{const me=le.element,Ee=this._document.createComment("dom-portal");me.parentNode.insertBefore(Ee,me),this.outletElement.appendChild(me),this._attachedPortal=le,super.setDisposeFn(()=>{Ee.parentNode&&Ee.parentNode.replaceChild(me,Ee)})},this._document=H}attachComponentPortal(ge){const we=(ge.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(ge.component);let ae;return ge.viewContainerRef?(ae=ge.viewContainerRef.createComponent(we,ge.viewContainerRef.length,ge.injector||ge.viewContainerRef.injector),this.setDisposeFn(()=>ae.destroy())):(ae=we.create(ge.injector||this._defaultInjector),this._appRef.attachView(ae.hostView),this.setDisposeFn(()=>{this._appRef.detachView(ae.hostView),ae.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(ae)),this._attachedPortal=ge,ae}attachTemplatePortal(ge){let Be=ge.viewContainerRef,we=Be.createEmbeddedView(ge.templateRef,ge.context);return we.rootNodes.forEach(ae=>this.outletElement.appendChild(ae)),we.detectChanges(),this.setDisposeFn(()=>{let ae=Be.indexOf(we);-1!==ae&&Be.remove(ae)}),this._attachedPortal=ge,we}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(ge){return ge.hostView.rootNodes[0]}}let Oe=(()=>{class Pe extends y{constructor(Be,we,ae){super(),this._componentFactoryResolver=Be,this._viewContainerRef=we,this._isInitialized=!1,this.attached=new l.EventEmitter,this.attachDomPortal=H=>{const le=H.element,me=this._document.createComment("dom-portal");H.setAttachedHost(this),le.parentNode.insertBefore(me,le),this._getRootNode().appendChild(le),this._attachedPortal=H,super.setDisposeFn(()=>{me.parentNode&&me.parentNode.replaceChild(le,me)})},this._document=ae}get portal(){return this._attachedPortal}set portal(Be){this.hasAttached()&&!Be&&!this._isInitialized||(this.hasAttached()&&super.detach(),Be&&super.attach(Be),this._attachedPortal=Be||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(Be){Be.setAttachedHost(this);const we=null!=Be.viewContainerRef?Be.viewContainerRef:this._viewContainerRef,H=(Be.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Be.component),le=we.createComponent(H,we.length,Be.injector||we.injector);return we!==this._viewContainerRef&&this._getRootNode().appendChild(le.hostView.rootNodes[0]),super.setDisposeFn(()=>le.destroy()),this._attachedPortal=Be,this._attachedRef=le,this.attached.emit(le),le}attachTemplatePortal(Be){Be.setAttachedHost(this);const we=this._viewContainerRef.createEmbeddedView(Be.templateRef,Be.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=Be,this._attachedRef=we,this.attached.emit(we),we}_getRootNode(){const Be=this._viewContainerRef.element.nativeElement;return Be.nodeType===Be.ELEMENT_NODE?Be:Be.parentNode}}return Pe.\u0275fac=function(Be){return new(Be||Pe)(l.\u0275\u0275directiveInject(l.ComponentFactoryResolver),l.\u0275\u0275directiveInject(l.ViewContainerRef),l.\u0275\u0275directiveInject(w.DOCUMENT))},Pe.\u0275dir=l.\u0275\u0275defineDirective({type:Pe,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.\u0275\u0275InheritDefinitionFeature]}),Pe})(),Ve=(()=>{class Pe{}return Pe.\u0275fac=function(Be){return new(Be||Pe)},Pe.\u0275mod=l.\u0275\u0275defineNgModule({type:Pe}),Pe.\u0275inj=l.\u0275\u0275defineInjector({}),Pe})()},5531:(ht,ze,R)=>{R.d(ze,{ZD:()=>ge,mF:()=>T,Cl:()=>Be,rL:()=>Te});var l=R(4929),w=R(7451),J=R(824),Q=R(5033),r=R(6321),De=R(3192),_e=R(5875);let T=(()=>{class we{constructor(H,le,me){this._ngZone=H,this._platform=le,this._scrolled=new J.Subject,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=me}register(H){this.scrollContainers.has(H)||this.scrollContainers.set(H,H.elementScrolled().subscribe(()=>this._scrolled.next(H)))}deregister(H){const le=this.scrollContainers.get(H);le&&(le.unsubscribe(),this.scrollContainers.delete(H))}scrolled(H=20){return this._platform.isBrowser?new J.Observable(le=>{this._globalSubscription||this._addGlobalListener();const me=H>0?this._scrolled.pipe((0,Q.auditTime)(H)).subscribe(le):this._scrolled.subscribe(le);return this._scrolledCount++,()=>{me.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,J.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((H,le)=>this.deregister(le)),this._scrolled.complete()}ancestorScrolled(H,le){const me=this.getAncestorScrollContainers(H);return this.scrolled(le).pipe((0,Q.filter)(Ee=>!Ee||me.indexOf(Ee)>-1))}getAncestorScrollContainers(H){const le=[];return this.scrollContainers.forEach((me,Ee)=>{this._scrollableContainsElement(Ee,H)&&le.push(Ee)}),le}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(H,le){let me=(0,l.fI)(le),Ee=H.getElementRef().nativeElement;do{if(me==Ee)return!0}while(me=me.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const H=this._getWindow();return(0,J.fromEvent)(H.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return we.\u0275fac=function(H){return new(H||we)(w.\u0275\u0275inject(w.NgZone),w.\u0275\u0275inject(r.t4),w.\u0275\u0275inject(De.DOCUMENT,8))},we.\u0275prov=w.\u0275\u0275defineInjectable({token:we,factory:we.\u0275fac,providedIn:"root"}),we})(),Te=(()=>{class we{constructor(H,le,me){this._platform=H,this._change=new J.Subject,this._changeListener=Ee=>{this._change.next(Ee)},this._document=me,le.runOutsideAngular(()=>{if(H.isBrowser){const Ee=this._getWindow();Ee.addEventListener("resize",this._changeListener),Ee.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const H=this._getWindow();H.removeEventListener("resize",this._changeListener),H.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const H={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),H}getViewportRect(){const H=this.getViewportScrollPosition(),{width:le,height:me}=this.getViewportSize();return{top:H.top,left:H.left,bottom:H.top+me,right:H.left+le,height:me,width:le}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const H=this._document,le=this._getWindow(),me=H.documentElement,Ee=me.getBoundingClientRect();return{top:-Ee.top||H.body.scrollTop||le.scrollY||me.scrollTop||0,left:-Ee.left||H.body.scrollLeft||le.scrollX||me.scrollLeft||0}}change(H=20){return H>0?this._change.pipe((0,Q.auditTime)(H)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const H=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:H.innerWidth,height:H.innerHeight}:{width:0,height:0}}}return we.\u0275fac=function(H){return new(H||we)(w.\u0275\u0275inject(r.t4),w.\u0275\u0275inject(w.NgZone),w.\u0275\u0275inject(De.DOCUMENT,8))},we.\u0275prov=w.\u0275\u0275defineInjectable({token:we,factory:we.\u0275fac,providedIn:"root"}),we})(),ge=(()=>{class we{}return we.\u0275fac=function(H){return new(H||we)},we.\u0275mod=w.\u0275\u0275defineNgModule({type:we}),we.\u0275inj=w.\u0275\u0275defineInjector({}),we})(),Be=(()=>{class we{}return we.\u0275fac=function(H){return new(H||we)},we.\u0275mod=w.\u0275\u0275defineNgModule({type:we}),we.\u0275inj=w.\u0275\u0275defineInjector({imports:[[_e.vT,r.ud,ge],_e.vT,ge]}),we})()},92:(ht,ze,R)=>{R.d(ze,{Wl:()=>K,Zs:()=>Tn,Fj:()=>y,Oe:()=>Ti,CE:()=>$e,qu:()=>Pn,NI:()=>mi,u:()=>vt,cw:()=>ui,sg:()=>F,u5:()=>Ji,Cf:()=>B,JU:()=>_e,a5:()=>St,JJ:()=>se,JL:()=>ye,F:()=>ki,YN:()=>fi,UX:()=>On,EJ:()=>Bt,kI:()=>Oe,_Y:()=>Ki,Kr:()=>Ii});var l=R(7451),w=R(3192),J=R(824),Q=R(5033);let r=(()=>{class _{constructor(u,k){this._renderer=u,this._elementRef=k,this.onChange=Se=>{},this.onTouched=()=>{}}setProperty(u,k){this._renderer.setProperty(this._elementRef.nativeElement,u,k)}registerOnTouched(u){this.onTouched=u}registerOnChange(u){this.onChange=u}setDisabledState(u){this.setProperty("disabled",u)}}return _.\u0275fac=function(u){return new(u||_)(l.\u0275\u0275directiveInject(l.Renderer2),l.\u0275\u0275directiveInject(l.ElementRef))},_.\u0275dir=l.\u0275\u0275defineDirective({type:_}),_})(),De=(()=>{class _ extends r{}return _.\u0275fac=function(){let m;return function(k){return(m||(m=l.\u0275\u0275getInheritedFactory(_)))(k||_)}}(),_.\u0275dir=l.\u0275\u0275defineDirective({type:_,features:[l.\u0275\u0275InheritDefinitionFeature]}),_})();const _e=new l.InjectionToken("NgValueAccessor"),Ie={provide:_e,useExisting:(0,l.forwardRef)(()=>K),multi:!0};let K=(()=>{class _ extends De{writeValue(u){this.setProperty("checked",u)}}return _.\u0275fac=function(){let m;return function(k){return(m||(m=l.\u0275\u0275getInheritedFactory(_)))(k||_)}}(),_.\u0275dir=l.\u0275\u0275defineDirective({type:_,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(u,k){1&u&&l.\u0275\u0275listener("change",function(it){return k.onChange(it.target.checked)})("blur",function(){return k.onTouched()})},features:[l.\u0275\u0275ProvidersFeature([Ie]),l.\u0275\u0275InheritDefinitionFeature]}),_})();const xe={provide:_e,useExisting:(0,l.forwardRef)(()=>y),multi:!0},z=new l.InjectionToken("CompositionEventMode");let y=(()=>{class _ extends r{constructor(u,k,Se){super(u,k),this._compositionMode=Se,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function P(){const _=(0,w.\u0275getDOM)()?(0,w.\u0275getDOM)().getUserAgent():"";return/android (\d+)/.test(_.toLowerCase())}())}writeValue(u){this.setProperty("value",u??"")}_handleInput(u){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(u)}_compositionStart(){this._composing=!0}_compositionEnd(u){this._composing=!1,this._compositionMode&&this.onChange(u)}}return _.\u0275fac=function(u){return new(u||_)(l.\u0275\u0275directiveInject(l.Renderer2),l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(z,8))},_.\u0275dir=l.\u0275\u0275defineDirective({type:_,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(u,k){1&u&&l.\u0275\u0275listener("input",function(it){return k._handleInput(it.target.value)})("blur",function(){return k.onTouched()})("compositionstart",function(){return k._compositionStart()})("compositionend",function(it){return k._compositionEnd(it.target.value)})},features:[l.\u0275\u0275ProvidersFeature([xe]),l.\u0275\u0275InheritDefinitionFeature]}),_})();function v(_){return null==_||0===_.length}function T(_){return null!=_&&"number"==typeof _.length}const B=new l.InjectionToken("NgValidators"),de=new l.InjectionToken("NgAsyncValidators"),Te=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Oe{static min(m){return function V(_){return m=>{if(v(m.value)||v(_))return null;const u=parseFloat(m.value);return!isNaN(u)&&u<_?{min:{min:_,actual:m.value}}:null}}(m)}static max(m){return function Ve(_){return m=>{if(v(m.value)||v(_))return null;const u=parseFloat(m.value);return!isNaN(u)&&u>_?{max:{max:_,actual:m.value}}:null}}(m)}static required(m){return ce(m)}static requiredTrue(m){return Pe(m)}static email(m){return function ge(_){return v(_.value)||Te.test(_.value)?null:{email:!0}}(m)}static minLength(m){return function Be(_){return m=>v(m.value)||!T(m.value)?null:m.value.length<_?{minlength:{requiredLength:_,actualLength:m.value.length}}:null}(m)}static maxLength(m){return function we(_){return m=>T(m.value)&&m.value.length>_?{maxlength:{requiredLength:_,actualLength:m.value.length}}:null}(m)}static pattern(m){return function ae(_){if(!_)return H;let m,u;return"string"==typeof _?(u="","^"!==_.charAt(0)&&(u+="^"),u+=_,"$"!==_.charAt(_.length-1)&&(u+="$"),m=new RegExp(u)):(u=_.toString(),m=_),k=>{if(v(k.value))return null;const Se=k.value;return m.test(Se)?null:{pattern:{requiredPattern:u,actualValue:Se}}}}(m)}static nullValidator(m){return null}static compose(m){return X(m)}static composeAsync(m){return ne(m)}}function ce(_){return v(_.value)?{required:!0}:null}function Pe(_){return!0===_.value?null:{required:!0}}function H(_){return null}function le(_){return null!=_}function me(_){const m=(0,l.\u0275isPromise)(_)?(0,J.from)(_):_;return(0,l.\u0275isObservable)(m),m}function Ee(_){let m={};return _.forEach(u=>{m=null!=u?{...m,...u}:m}),0===Object.keys(m).length?null:m}function he(_,m){return m.map(u=>u(_))}function ie(_){return _.map(m=>function je(_){return!_.validate}(m)?m:u=>m.validate(u))}function X(_){if(!_)return null;const m=_.filter(le);return 0==m.length?null:function(u){return Ee(he(u,m))}}function pe(_){return null!=_?X(ie(_)):null}function ne(_){if(!_)return null;const m=_.filter(le);return 0==m.length?null:function(u){const k=he(u,m).map(me);return(0,J.forkJoin)(k).pipe((0,Q.map)(Ee))}}function Ce(_){return null!=_?ne(ie(_)):null}function Le(_,m){return null===_?[m]:Array.isArray(_)?[..._,m]:[_,m]}function Qe(_){return _._rawValidators}function Ze(_){return _._rawAsyncValidators}function lt(_){return _?Array.isArray(_)?_:[_]:[]}function kt(_,m){return Array.isArray(_)?_.includes(m):_===m}function It(_,m){const u=lt(m);return lt(_).forEach(Se=>{kt(u,Se)||u.push(Se)}),u}function At(_,m){return lt(m).filter(u=>!kt(_,u))}class Ft{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(m){this._rawValidators=m||[],this._composedValidatorFn=pe(this._rawValidators)}_setAsyncValidators(m){this._rawAsyncValidators=m||[],this._composedAsyncValidatorFn=Ce(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(m){this._onDestroyCallbacks.push(m)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(m=>m()),this._onDestroyCallbacks=[]}reset(m){this.control&&this.control.reset(m)}hasError(m,u){return!!this.control&&this.control.hasError(m,u)}getError(m,u){return this.control?this.control.getError(m,u):null}}class yt extends Ft{get formDirective(){return null}get path(){return null}}class St extends Ft{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Re{constructor(m){this._cd=m}is(m){return"submitted"===m?!!this._cd?.submitted:!!this._cd?.control?.[m]}}let se=(()=>{class _ extends Re{constructor(u){super(u)}}return _.\u0275fac=function(u){return new(u||_)(l.\u0275\u0275directiveInject(St,2))},_.\u0275dir=l.\u0275\u0275defineDirective({type:_,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(u,k){2&u&&l.\u0275\u0275classProp("ng-untouched",k.is("untouched"))("ng-touched",k.is("touched"))("ng-pristine",k.is("pristine"))("ng-dirty",k.is("dirty"))("ng-valid",k.is("valid"))("ng-invalid",k.is("invalid"))("ng-pending",k.is("pending"))},features:[l.\u0275\u0275InheritDefinitionFeature]}),_})(),ye=(()=>{class _ extends Re{constructor(u){super(u)}}return _.\u0275fac=function(u){return new(u||_)(l.\u0275\u0275directiveInject(yt,10))},_.\u0275dir=l.\u0275\u0275defineDirective({type:_,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(u,k){2&u&&l.\u0275\u0275classProp("ng-untouched",k.is("untouched"))("ng-touched",k.is("touched"))("ng-pristine",k.is("pristine"))("ng-dirty",k.is("dirty"))("ng-valid",k.is("valid"))("ng-invalid",k.is("invalid"))("ng-pending",k.is("pending"))("ng-submitted",k.is("submitted"))},features:[l.\u0275\u0275InheritDefinitionFeature]}),_})();function h(_,m){return[...m.path,_]}function b(_,m){j(_,m),m.valueAccessor.writeValue(_.value),function W(_,m){m.valueAccessor.registerOnChange(u=>{_._pendingValue=u,_._pendingChange=!0,_._pendingDirty=!0,"change"===_.updateOn&&Ye(_,m)})}(_,m),function pt(_,m){const u=(k,Se)=>{m.valueAccessor.writeValue(k),Se&&m.viewToModelUpdate(k)};_.registerOnChange(u),m._registerOnDestroy(()=>{_._unregisterOnChange(u)})}(_,m),function ve(_,m){m.valueAccessor.registerOnTouched(()=>{_._pendingTouched=!0,"blur"===_.updateOn&&_._pendingChange&&Ye(_,m),"submit"!==_.updateOn&&_.markAsTouched()})}(_,m),function ue(_,m){if(m.valueAccessor.setDisabledState){const u=k=>{m.valueAccessor.setDisabledState(k)};_.registerOnDisabledChange(u),m._registerOnDestroy(()=>{_._unregisterOnDisabledChange(u)})}}(_,m)}function E(_,m,u=!0){const k=()=>{};m.valueAccessor&&(m.valueAccessor.registerOnChange(k),m.valueAccessor.registerOnTouched(k)),G(_,m),_&&(m._invokeOnDestroyCallbacks(),_._registerOnCollectionChange(()=>{}))}function Y(_,m){_.forEach(u=>{u.registerOnValidatorChange&&u.registerOnValidatorChange(m)})}function j(_,m){const u=Qe(_);null!==m.validator?_.setValidators(Le(u,m.validator)):"function"==typeof u&&_.setValidators([u]);const k=Ze(_);null!==m.asyncValidator?_.setAsyncValidators(Le(k,m.asyncValidator)):"function"==typeof k&&_.setAsyncValidators([k]);const Se=()=>_.updateValueAndValidity();Y(m._rawValidators,Se),Y(m._rawAsyncValidators,Se)}function G(_,m){let u=!1;if(null!==_){if(null!==m.validator){const Se=Qe(_);if(Array.isArray(Se)&&Se.length>0){const it=Se.filter(Vt=>Vt!==m.validator);it.length!==Se.length&&(u=!0,_.setValidators(it))}}if(null!==m.asyncValidator){const Se=Ze(_);if(Array.isArray(Se)&&Se.length>0){const it=Se.filter(Vt=>Vt!==m.asyncValidator);it.length!==Se.length&&(u=!0,_.setAsyncValidators(it))}}}const k=()=>{};return Y(m._rawValidators,k),Y(m._rawAsyncValidators,k),u}function Ye(_,m){_._pendingDirty&&_.markAsDirty(),_.setValue(_._pendingValue,{emitModelToViewChange:!1}),m.viewToModelUpdate(_._pendingValue),_._pendingChange=!1}function Rt(_,m){j(_,m)}function f(_,m){_._syncPendingControls(),m.forEach(u=>{const k=u.control;"submit"===k.updateOn&&k._pendingChange&&(u.viewToModelUpdate(k._pendingValue),k._pendingChange=!1)})}function D(_,m){const u=_.indexOf(m);u>-1&&_.splice(u,1)}const Ue="VALID",et="INVALID",xt="PENDING",_t="DISABLED";function Ut(_){return(Si(_)?_.validators:_)||null}function ri(_){return Array.isArray(_)?pe(_):_||null}function Mi(_,m){return(Si(m)?m.asyncValidators:_)||null}function pi(_){return Array.isArray(_)?Ce(_):_||null}function Si(_){return null!=_&&!Array.isArray(_)&&"object"==typeof _}const Oi=_=>_ instanceof mi,Ei=_=>_ instanceof ui,Ui=_=>_ instanceof Ti;function Gi(_){return Oi(_)?_.value:_.getRawValue()}function Wi(_,m){const u=Ei(_),k=_.controls;if(!(u?Object.keys(k):k).length)throw new l.\u0275RuntimeError(1e3,"");if(!k[m])throw new l.\u0275RuntimeError(1001,"")}function Yi(_,m){Ei(_),_._forEachChild((k,Se)=>{if(void 0===m[Se])throw new l.\u0275RuntimeError(1002,"")})}class Ci{constructor(m,u){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=m,this._rawAsyncValidators=u,this._composedValidatorFn=ri(this._rawValidators),this._composedAsyncValidatorFn=pi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(m){this._rawValidators=this._composedValidatorFn=m}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(m){this._rawAsyncValidators=this._composedAsyncValidatorFn=m}get parent(){return this._parent}get valid(){return this.status===Ue}get invalid(){return this.status===et}get pending(){return this.status==xt}get disabled(){return this.status===_t}get enabled(){return this.status!==_t}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(m){this._rawValidators=m,this._composedValidatorFn=ri(m)}setAsyncValidators(m){this._rawAsyncValidators=m,this._composedAsyncValidatorFn=pi(m)}addValidators(m){this.setValidators(It(m,this._rawValidators))}addAsyncValidators(m){this.setAsyncValidators(It(m,this._rawAsyncValidators))}removeValidators(m){this.setValidators(At(m,this._rawValidators))}removeAsyncValidators(m){this.setAsyncValidators(At(m,this._rawAsyncValidators))}hasValidator(m){return kt(this._rawValidators,m)}hasAsyncValidator(m){return kt(this._rawAsyncValidators,m)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(m={}){this.touched=!0,this._parent&&!m.onlySelf&&this._parent.markAsTouched(m)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(m=>m.markAllAsTouched())}markAsUntouched(m={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(u=>{u.markAsUntouched({onlySelf:!0})}),this._parent&&!m.onlySelf&&this._parent._updateTouched(m)}markAsDirty(m={}){this.pristine=!1,this._parent&&!m.onlySelf&&this._parent.markAsDirty(m)}markAsPristine(m={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(u=>{u.markAsPristine({onlySelf:!0})}),this._parent&&!m.onlySelf&&this._parent._updatePristine(m)}markAsPending(m={}){this.status=xt,!1!==m.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!m.onlySelf&&this._parent.markAsPending(m)}disable(m={}){const u=this._parentMarkedDirty(m.onlySelf);this.status=_t,this.errors=null,this._forEachChild(k=>{k.disable({...m,onlySelf:!0})}),this._updateValue(),!1!==m.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...m,skipPristineCheck:u}),this._onDisabledChange.forEach(k=>k(!0))}enable(m={}){const u=this._parentMarkedDirty(m.onlySelf);this.status=Ue,this._forEachChild(k=>{k.enable({...m,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:m.emitEvent}),this._updateAncestors({...m,skipPristineCheck:u}),this._onDisabledChange.forEach(k=>k(!1))}_updateAncestors(m){this._parent&&!m.onlySelf&&(this._parent.updateValueAndValidity(m),m.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(m){this._parent=m}updateValueAndValidity(m={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ue||this.status===xt)&&this._runAsyncValidator(m.emitEvent)),!1!==m.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!m.onlySelf&&this._parent.updateValueAndValidity(m)}_updateTreeValidity(m={emitEvent:!0}){this._forEachChild(u=>u._updateTreeValidity(m)),this.updateValueAndValidity({onlySelf:!0,emitEvent:m.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_t:Ue}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(m){if(this.asyncValidator){this.status=xt,this._hasOwnPendingAsyncValidator=!0;const u=me(this.asyncValidator(this));this._asyncValidationSubscription=u.subscribe(k=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(k,{emitEvent:m})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(m,u={}){this.errors=m,this._updateControlsErrors(!1!==u.emitEvent)}get(m){return function ni(_,m,u){if(null==m||(Array.isArray(m)||(m=m.split(u)),Array.isArray(m)&&0===m.length))return null;let k=_;return m.forEach(Se=>{k=Ei(k)?k.controls.hasOwnProperty(Se)?k.controls[Se]:null:Ui(k)&&k.at(Se)||null}),k}(this,m,".")}getError(m,u){const k=u?this.get(u):this;return k&&k.errors?k.errors[m]:null}hasError(m,u){return!!this.getError(m,u)}get root(){let m=this;for(;m._parent;)m=m._parent;return m}_updateControlsErrors(m){this.status=this._calculateStatus(),m&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(m)}_initObservables(){this.valueChanges=new l.EventEmitter,this.statusChanges=new l.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?_t:this.errors?et:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xt)?xt:this._anyControlsHaveStatus(et)?et:Ue}_anyControlsHaveStatus(m){return this._anyControls(u=>u.status===m)}_anyControlsDirty(){return this._anyControls(m=>m.dirty)}_anyControlsTouched(){return this._anyControls(m=>m.touched)}_updatePristine(m={}){this.pristine=!this._anyControlsDirty(),this._parent&&!m.onlySelf&&this._parent._updatePristine(m)}_updateTouched(m={}){this.touched=this._anyControlsTouched(),this._parent&&!m.onlySelf&&this._parent._updateTouched(m)}_isBoxedValue(m){return"object"==typeof m&&null!==m&&2===Object.keys(m).length&&"value"in m&&"disabled"in m}_registerOnCollectionChange(m){this._onCollectionChange=m}_setUpdateStrategy(m){Si(m)&&null!=m.updateOn&&(this._updateOn=m.updateOn)}_parentMarkedDirty(m){return!m&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class mi extends Ci{constructor(m=null,u,k){super(Ut(u),Mi(k,u)),this._onChange=[],this._pendingChange=!1,this._applyFormState(m),this._setUpdateStrategy(u),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(m,u={}){this.value=this._pendingValue=m,this._onChange.length&&!1!==u.emitModelToViewChange&&this._onChange.forEach(k=>k(this.value,!1!==u.emitViewToModelChange)),this.updateValueAndValidity(u)}patchValue(m,u={}){this.setValue(m,u)}reset(m=null,u={}){this._applyFormState(m),this.markAsPristine(u),this.markAsUntouched(u),this.setValue(this.value,u),this._pendingChange=!1}_updateValue(){}_anyControls(m){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(m){this._onChange.push(m)}_unregisterOnChange(m){D(this._onChange,m)}registerOnDisabledChange(m){this._onDisabledChange.push(m)}_unregisterOnDisabledChange(m){D(this._onDisabledChange,m)}_forEachChild(m){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(m){this._isBoxedValue(m)?(this.value=this._pendingValue=m.value,m.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=m}}class ui extends Ci{constructor(m,u,k){super(Ut(u),Mi(k,u)),this.controls=m,this._initObservables(),this._setUpdateStrategy(u),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(m,u){return this.controls[m]?this.controls[m]:(this.controls[m]=u,u.setParent(this),u._registerOnCollectionChange(this._onCollectionChange),u)}addControl(m,u,k={}){this.registerControl(m,u),this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}removeControl(m,u={}){this.controls[m]&&this.controls[m]._registerOnCollectionChange(()=>{}),delete this.controls[m],this.updateValueAndValidity({emitEvent:u.emitEvent}),this._onCollectionChange()}setControl(m,u,k={}){this.controls[m]&&this.controls[m]._registerOnCollectionChange(()=>{}),delete this.controls[m],u&&this.registerControl(m,u),this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}contains(m){return this.controls.hasOwnProperty(m)&&this.controls[m].enabled}setValue(m,u={}){Yi(this,m),Object.keys(m).forEach(k=>{Wi(this,k),this.controls[k].setValue(m[k],{onlySelf:!0,emitEvent:u.emitEvent})}),this.updateValueAndValidity(u)}patchValue(m,u={}){null!=m&&(Object.keys(m).forEach(k=>{this.controls[k]&&this.controls[k].patchValue(m[k],{onlySelf:!0,emitEvent:u.emitEvent})}),this.updateValueAndValidity(u))}reset(m={},u={}){this._forEachChild((k,Se)=>{k.reset(m[Se],{onlySelf:!0,emitEvent:u.emitEvent})}),this._updatePristine(u),this._updateTouched(u),this.updateValueAndValidity(u)}getRawValue(){return this._reduceChildren({},(m,u,k)=>(m[k]=Gi(u),m))}_syncPendingControls(){let m=this._reduceChildren(!1,(u,k)=>!!k._syncPendingControls()||u);return m&&this.updateValueAndValidity({onlySelf:!0}),m}_forEachChild(m){Object.keys(this.controls).forEach(u=>{const k=this.controls[u];k&&m(k,u)})}_setUpControls(){this._forEachChild(m=>{m.setParent(this),m._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(m){for(const u of Object.keys(this.controls)){const k=this.controls[u];if(this.contains(u)&&m(k))return!0}return!1}_reduceValue(){return this._reduceChildren({},(m,u,k)=>((u.enabled||this.disabled)&&(m[k]=u.value),m))}_reduceChildren(m,u){let k=m;return this._forEachChild((Se,it)=>{k=u(k,Se,it)}),k}_allControlsDisabled(){for(const m of Object.keys(this.controls))if(this.controls[m].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Ti extends Ci{constructor(m,u,k){super(Ut(u),Mi(k,u)),this.controls=m,this._initObservables(),this._setUpdateStrategy(u),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(m){return this.controls[m]}push(m,u={}){this.controls.push(m),this._registerControl(m),this.updateValueAndValidity({emitEvent:u.emitEvent}),this._onCollectionChange()}insert(m,u,k={}){this.controls.splice(m,0,u),this._registerControl(u),this.updateValueAndValidity({emitEvent:k.emitEvent})}removeAt(m,u={}){this.controls[m]&&this.controls[m]._registerOnCollectionChange(()=>{}),this.controls.splice(m,1),this.updateValueAndValidity({emitEvent:u.emitEvent})}setControl(m,u,k={}){this.controls[m]&&this.controls[m]._registerOnCollectionChange(()=>{}),this.controls.splice(m,1),u&&(this.controls.splice(m,0,u),this._registerControl(u)),this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(m,u={}){Yi(this,m),m.forEach((k,Se)=>{Wi(this,Se),this.at(Se).setValue(k,{onlySelf:!0,emitEvent:u.emitEvent})}),this.updateValueAndValidity(u)}patchValue(m,u={}){null!=m&&(m.forEach((k,Se)=>{this.at(Se)&&this.at(Se).patchValue(k,{onlySelf:!0,emitEvent:u.emitEvent})}),this.updateValueAndValidity(u))}reset(m=[],u={}){this._forEachChild((k,Se)=>{k.reset(m[Se],{onlySelf:!0,emitEvent:u.emitEvent})}),this._updatePristine(u),this._updateTouched(u),this.updateValueAndValidity(u)}getRawValue(){return this.controls.map(m=>Gi(m))}clear(m={}){this.controls.length<1||(this._forEachChild(u=>u._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:m.emitEvent}))}_syncPendingControls(){let m=this.controls.reduce((u,k)=>!!k._syncPendingControls()||u,!1);return m&&this.updateValueAndValidity({onlySelf:!0}),m}_forEachChild(m){this.controls.forEach((u,k)=>{m(u,k)})}_updateValue(){this.value=this.controls.filter(m=>m.enabled||this.disabled).map(m=>m.value)}_anyControls(m){return this.controls.some(u=>u.enabled&&m(u))}_setUpControls(){this._forEachChild(m=>this._registerControl(m))}_allControlsDisabled(){for(const m of this.controls)if(m.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(m){m.setParent(this),m._registerOnCollectionChange(this._onCollectionChange)}}const on={provide:yt,useExisting:(0,l.forwardRef)(()=>ki)},ci=(()=>Promise.resolve(null))();let ki=(()=>{class _ extends yt{constructor(u,k){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new l.EventEmitter,this.form=new ui({},pe(u),Ce(k))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(u){ci.then(()=>{const k=this._findContainer(u.path);u.control=k.registerControl(u.name,u.control),b(u.control,u),u.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(u)})}getControl(u){return this.form.get(u.path)}removeControl(u){ci.then(()=>{const k=this._findContainer(u.path);k&&k.removeControl(u.name),D(this._directives,u)})}addFormGroup(u){ci.then(()=>{const k=this._findContainer(u.path),Se=new ui({});Rt(Se,u),k.registerControl(u.name,Se),Se.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(u){ci.then(()=>{const k=this._findContainer(u.path);k&&k.removeControl(u.name)})}getFormGroup(u){return this.form.get(u.path)}updateModel(u,k){ci.then(()=>{this.form.get(u.path).setValue(k)})}setValue(u){this.control.setValue(u)}onSubmit(u){return this.submitted=!0,f(this.form,this._directives),this.ngSubmit.emit(u),!1}onReset(){this.resetForm()}resetForm(u){this.form.reset(u),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(u){return u.pop(),u.length?this.form.get(u):this.form}}return _.\u0275fac=function(u){return new(u||_)(l.\u0275\u0275directiveInject(B,10),l.\u0275\u0275directiveInject(de,10))},_.\u0275dir=l.\u0275\u0275defineDirective({type:_,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(u,k){1&u&&l.\u0275\u0275listener("submit",function(it){return k.onSubmit(it)})("reset",function(){return k.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l.\u0275\u0275ProvidersFeature([on]),l.\u0275\u0275InheritDefinitionFeature]}),_})(),$i=(()=>{class _ extends yt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return h(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return _.\u0275fac=function(){let m;return function(k){return(m||(m=l.\u0275\u0275getInheritedFactory(_)))(k||_)}}(),_.\u0275dir=l.\u0275\u0275defineDirective({type:_,features:[l.\u0275\u0275InheritDefinitionFeature]}),_})(),Ki=(()=>{class _{}return _.\u0275fac=function(u){return new(u||_)},_.\u0275dir=l.\u0275\u0275defineDirective({type:_,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),_})(),Zi=(()=>{class _{}return _.\u0275fac=function(u){return new(u||_)},_.\u0275mod=l.\u0275\u0275defineNgModule({type:_}),_.\u0275inj=l.\u0275\u0275defineInjector({}),_})();const gi=new l.InjectionToken("NgModelWithFormControlWarning"),re={provide:yt,useExisting:(0,l.forwardRef)(()=>F)};let F=(()=>{class _ extends yt{constructor(u,k){super(),this.validators=u,this.asyncValidators=k,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.EventEmitter,this._setValidators(u),this._setAsyncValidators(k)}ngOnChanges(u){this._checkFormPresent(),u.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(G(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(u){const k=this.form.get(u.path);return b(k,u),k.updateValueAndValidity({emitEvent:!1}),this.directives.push(u),k}getControl(u){return this.form.get(u.path)}removeControl(u){E(u.control||null,u,!1),D(this.directives,u)}addFormGroup(u){this._setUpFormContainer(u)}removeFormGroup(u){this._cleanUpFormContainer(u)}getFormGroup(u){return this.form.get(u.path)}addFormArray(u){this._setUpFormContainer(u)}removeFormArray(u){this._cleanUpFormContainer(u)}getFormArray(u){return this.form.get(u.path)}updateModel(u,k){this.form.get(u.path).setValue(k)}onSubmit(u){return this.submitted=!0,f(this.form,this.directives),this.ngSubmit.emit(u),!1}onReset(){this.resetForm()}resetForm(u){this.form.reset(u),this.submitted=!1}_updateDomValue(){this.directives.forEach(u=>{const k=u.control,Se=this.form.get(u.path);k!==Se&&(E(k||null,u),Oi(Se)&&(b(Se,u),u.control=Se))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(u){const k=this.form.get(u.path);Rt(k,u),k.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(u){if(this.form){const k=this.form.get(u.path);k&&function Dt(_,m){return G(_,m)}(k,u)&&k.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){j(this.form,this),this._oldForm&&G(this._oldForm,this)}_checkFormPresent(){}}return _.\u0275fac=function(u){return new(u||_)(l.\u0275\u0275directiveInject(B,10),l.\u0275\u0275directiveInject(de,10))},_.\u0275dir=l.\u0275\u0275defineDirective({type:_,selectors:[["","formGroup",""]],hostBindings:function(u,k){1&u&&l.\u0275\u0275listener("submit",function(it){return k.onSubmit(it)})("reset",function(){return k.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l.\u0275\u0275ProvidersFeature([re]),l.\u0275\u0275InheritDefinitionFeature,l.\u0275\u0275NgOnChangesFeature]}),_})();const q={provide:yt,useExisting:(0,l.forwardRef)(()=>Me)};let Me=(()=>{class _ extends $i{constructor(u,k,Se){super(),this._parent=u,this._setValidators(k),this._setAsyncValidators(Se)}_checkParentType(){rt(this._parent)}}return _.\u0275fac=function(u){return new(u||_)(l.\u0275\u0275directiveInject(yt,13),l.\u0275\u0275directiveInject(B,10),l.\u0275\u0275directiveInject(de,10))},_.\u0275dir=l.\u0275\u0275defineDirective({type:_,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[l.\u0275\u0275ProvidersFeature([q]),l.\u0275\u0275InheritDefinitionFeature]}),_})();const Ne={provide:yt,useExisting:(0,l.forwardRef)(()=>$e)};let $e=(()=>{class _ extends yt{constructor(u,k,Se){super(),this._parent=u,this._setValidators(k),this._setAsyncValidators(Se)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return h(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){rt(this._parent)}}return _.\u0275fac=function(u){return new(u||_)(l.\u0275\u0275directiveInject(yt,13),l.\u0275\u0275directiveInject(B,10),l.\u0275\u0275directiveInject(de,10))},_.\u0275dir=l.\u0275\u0275defineDirective({type:_,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[l.\u0275\u0275ProvidersFeature([Ne]),l.\u0275\u0275InheritDefinitionFeature]}),_})();function rt(_){return!(_ instanceof Me||_ instanceof F||_ instanceof $e)}const dt={provide:St,useExisting:(0,l.forwardRef)(()=>vt)};let vt=(()=>{class _ extends St{constructor(u,k,Se,it,Vt){super(),this._ngModelWarningConfig=Vt,this._added=!1,this.update=new l.EventEmitter,this._ngModelWarningSent=!1,this._parent=u,this._setValidators(k),this._setAsyncValidators(Se),this.valueAccessor=function g(_,m){if(!m)return null;let u,k,Se;return Array.isArray(m),m.forEach(it=>{it.constructor===y?u=it:function S(_){return Object.getPrototypeOf(_.constructor)===De}(it)?k=it:Se=it}),Se||k||u||null}(0,it)}set isDisabled(u){}ngOnChanges(u){this._added||this._setUpControl(),function ee(_,m){if(!_.hasOwnProperty("model"))return!1;const u=_.model;return!!u.isFirstChange()||!Object.is(m,u.currentValue)}(u,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(u){this.viewModel=u,this.update.emit(u)}get path(){return h(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return _._ngModelWarningSentOnce=!1,_.\u0275fac=function(u){return new(u||_)(l.\u0275\u0275directiveInject(yt,13),l.\u0275\u0275directiveInject(B,10),l.\u0275\u0275directiveInject(de,10),l.\u0275\u0275directiveInject(_e,10),l.\u0275\u0275directiveInject(gi,8))},_.\u0275dir=l.\u0275\u0275defineDirective({type:_,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l.\u0275\u0275ProvidersFeature([dt]),l.\u0275\u0275InheritDefinitionFeature,l.\u0275\u0275NgOnChangesFeature]}),_})();const ft={provide:_e,useExisting:(0,l.forwardRef)(()=>Bt),multi:!0};function $t(_,m){return null==_?`${m}`:(m&&"object"==typeof m&&(m="Object"),`${_}: ${m}`.slice(0,50))}let Bt=(()=>{class _ extends De{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(u){this._compareWith=u}writeValue(u){this.value=u;const k=this._getOptionId(u);null==k&&this.setProperty("selectedIndex",-1);const Se=$t(k,u);this.setProperty("value",Se)}registerOnChange(u){this.onChange=k=>{this.value=this._getOptionValue(k),u(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(u){for(const k of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(k),u))return k;return null}_getOptionValue(u){const k=function Qt(_){return _.split(":")[0]}(u);return this._optionMap.has(k)?this._optionMap.get(k):u}}return _.\u0275fac=function(){let m;return function(k){return(m||(m=l.\u0275\u0275getInheritedFactory(_)))(k||_)}}(),_.\u0275dir=l.\u0275\u0275defineDirective({type:_,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(u,k){1&u&&l.\u0275\u0275listener("change",function(it){return k.onChange(it.target.value)})("blur",function(){return k.onTouched()})},inputs:{compareWith:"compareWith"},features:[l.\u0275\u0275ProvidersFeature([ft]),l.\u0275\u0275InheritDefinitionFeature]}),_})(),fi=(()=>{class _{constructor(u,k,Se){this._element=u,this._renderer=k,this._select=Se,this._select&&(this.id=this._select._registerOption())}set ngValue(u){null!=this._select&&(this._select._optionMap.set(this.id,u),this._setElementValue($t(this.id,u)),this._select.writeValue(this._select.value))}set value(u){this._setElementValue(u),this._select&&this._select.writeValue(this._select.value)}_setElementValue(u){this._renderer.setProperty(this._element.nativeElement,"value",u)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return _.\u0275fac=function(u){return new(u||_)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(l.Renderer2),l.\u0275\u0275directiveInject(Bt,9))},_.\u0275dir=l.\u0275\u0275defineDirective({type:_,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),_})();const zn={provide:_e,useExisting:(0,l.forwardRef)(()=>pn),multi:!0};function Dn(_,m){return null==_?`${m}`:("string"==typeof m&&(m=`'${m}'`),m&&"object"==typeof m&&(m="Object"),`${_}: ${m}`.slice(0,50))}let pn=(()=>{class _ extends De{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(u){this._compareWith=u}writeValue(u){let k;if(this.value=u,Array.isArray(u)){const Se=u.map(it=>this._getOptionId(it));k=(it,Vt)=>{it._setSelected(Se.indexOf(Vt.toString())>-1)}}else k=(Se,it)=>{Se._setSelected(!1)};this._optionMap.forEach(k)}registerOnChange(u){this.onChange=k=>{const Se=[],it=k.selectedOptions;if(void 0!==it){const Vt=it;for(let si=0;si<Vt.length;si++){const vn=this._getOptionValue(Vt[si].value);Se.push(vn)}}else{const Vt=k.options;for(let si=0;si<Vt.length;si++){const Li=Vt[si];if(Li.selected){const vn=this._getOptionValue(Li.value);Se.push(vn)}}}this.value=Se,u(Se)}}_registerOption(u){const k=(this._idCounter++).toString();return this._optionMap.set(k,u),k}_getOptionId(u){for(const k of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(k)._value,u))return k;return null}_getOptionValue(u){const k=function xn(_){return _.split(":")[0]}(u);return this._optionMap.has(k)?this._optionMap.get(k)._value:u}}return _.\u0275fac=function(){let m;return function(k){return(m||(m=l.\u0275\u0275getInheritedFactory(_)))(k||_)}}(),_.\u0275dir=l.\u0275\u0275defineDirective({type:_,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(u,k){1&u&&l.\u0275\u0275listener("change",function(it){return k.onChange(it.target)})("blur",function(){return k.onTouched()})},inputs:{compareWith:"compareWith"},features:[l.\u0275\u0275ProvidersFeature([zn]),l.\u0275\u0275InheritDefinitionFeature]}),_})(),Ii=(()=>{class _{constructor(u,k,Se){this._element=u,this._renderer=k,this._select=Se,this._select&&(this.id=this._select._registerOption(this))}set ngValue(u){null!=this._select&&(this._value=u,this._setElementValue(Dn(this.id,u)),this._select.writeValue(this._select.value))}set value(u){this._select?(this._value=u,this._setElementValue(Dn(this.id,u)),this._select.writeValue(this._select.value)):this._setElementValue(u)}_setElementValue(u){this._renderer.setProperty(this._element.nativeElement,"value",u)}_setSelected(u){this._renderer.setProperty(this._element.nativeElement,"selected",u)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return _.\u0275fac=function(u){return new(u||_)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(l.Renderer2),l.\u0275\u0275directiveInject(pn,9))},_.\u0275dir=l.\u0275\u0275defineDirective({type:_,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),_})();const Gn={provide:B,useExisting:(0,l.forwardRef)(()=>En),multi:!0},Wn={provide:B,useExisting:(0,l.forwardRef)(()=>Tn),multi:!0};let En=(()=>{class _{constructor(){this._required=!1}get required(){return this._required}set required(u){this._required=null!=u&&!1!==u&&"false"!=`${u}`,this._onChange&&this._onChange()}validate(u){return this.required?ce(u):null}registerOnValidatorChange(u){this._onChange=u}}return _.\u0275fac=function(u){return new(u||_)},_.\u0275dir=l.\u0275\u0275defineDirective({type:_,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(u,k){2&u&&l.\u0275\u0275attribute("required",k.required?"":null)},inputs:{required:"required"},features:[l.\u0275\u0275ProvidersFeature([Gn])]}),_})(),Tn=(()=>{class _ extends En{validate(u){return this.required?Pe(u):null}}return _.\u0275fac=function(){let m;return function(k){return(m||(m=l.\u0275\u0275getInheritedFactory(_)))(k||_)}}(),_.\u0275dir=l.\u0275\u0275defineDirective({type:_,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(u,k){2&u&&l.\u0275\u0275attribute("required",k.required?"":null)},features:[l.\u0275\u0275ProvidersFeature([Wn]),l.\u0275\u0275InheritDefinitionFeature]}),_})(),An=(()=>{class _{}return _.\u0275fac=function(u){return new(u||_)},_.\u0275mod=l.\u0275\u0275defineNgModule({type:_}),_.\u0275inj=l.\u0275\u0275defineInjector({imports:[[Zi]]}),_})(),Ji=(()=>{class _{}return _.\u0275fac=function(u){return new(u||_)},_.\u0275mod=l.\u0275\u0275defineNgModule({type:_}),_.\u0275inj=l.\u0275\u0275defineInjector({imports:[An]}),_})(),On=(()=>{class _{static withConfig(u){return{ngModule:_,providers:[{provide:gi,useValue:u.warnOnNgModelWithFormControl}]}}}return _.\u0275fac=function(u){return new(u||_)},_.\u0275mod=l.\u0275\u0275defineNgModule({type:_}),_.\u0275inj=l.\u0275\u0275defineInjector({imports:[An]}),_})(),Pn=(()=>{class _{group(u,k=null){const Se=this._reduceControls(u);let si,it=null,Vt=null;return null!=k&&(function nr(_){return void 0!==_.asyncValidators||void 0!==_.validators||void 0!==_.updateOn}(k)?(it=null!=k.validators?k.validators:null,Vt=null!=k.asyncValidators?k.asyncValidators:null,si=null!=k.updateOn?k.updateOn:void 0):(it=null!=k.validator?k.validator:null,Vt=null!=k.asyncValidator?k.asyncValidator:null)),new ui(Se,{asyncValidators:Vt,updateOn:si,validators:it})}control(u,k,Se){return new mi(u,k,Se)}array(u,k,Se){const it=u.map(Vt=>this._createControl(Vt));return new Ti(it,k,Se)}_reduceControls(u){const k={};return Object.keys(u).forEach(Se=>{k[Se]=this._createControl(u[Se])}),k}_createControl(u){return Oi(u)||Ei(u)||Ui(u)?u:Array.isArray(u)?this.control(u[0],u.length>1?u[1]:null,u.length>2?u[2]:null):this.control(u)}}return _.\u0275fac=function(u){return new(u||_)},_.\u0275prov=l.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac,providedIn:On}),_})()},9638:(ht,ze,R)=>{R.d(ze,{lW:()=>P,ot:()=>y});var l=R(7451),w=R(2612),J=R(8954),Q=R(5544);const r=["mat-button",""],De=["*"],K=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],xe=(0,w.pj)((0,w.Id)((0,w.Kr)(class{constructor(v){this._elementRef=v}})));let P=(()=>{class v extends xe{constructor(B,de,Te){super(B),this._focusMonitor=de,this._animationMode=Te,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const Oe of K)this._hasHostAttributes(Oe)&&this._getHostElement().classList.add(Oe);B.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(B,de){B?this._focusMonitor.focusVia(this._getHostElement(),B,de):this._getHostElement().focus(de)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...B){return B.some(de=>this._getHostElement().hasAttribute(de))}}return v.\u0275fac=function(B){return new(B||v)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(J.tE),l.\u0275\u0275directiveInject(Q.Qb,8))},v.\u0275cmp=l.\u0275\u0275defineComponent({type:v,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(B,de){if(1&B&&l.\u0275\u0275viewQuery(w.wG,5),2&B){let Te;l.\u0275\u0275queryRefresh(Te=l.\u0275\u0275loadQuery())&&(de.ripple=Te.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(B,de){2&B&&(l.\u0275\u0275attribute("disabled",de.disabled||null),l.\u0275\u0275classProp("_mat-animation-noopable","NoopAnimations"===de._animationMode)("mat-button-disabled",de.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.\u0275\u0275InheritDefinitionFeature],attrs:r,ngContentSelectors:De,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(B,de){1&B&&(l.\u0275\u0275projectionDef(),l.\u0275\u0275elementStart(0,"span",0),l.\u0275\u0275projection(1),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(2,"span",1),l.\u0275\u0275element(3,"span",2)),2&B&&(l.\u0275\u0275advance(2),l.\u0275\u0275classProp("mat-button-ripple-round",de.isRoundButton||de.isIconButton),l.\u0275\u0275property("matRippleDisabled",de._isRippleDisabled())("matRippleCentered",de.isIconButton)("matRippleTrigger",de._getHostElement()))},directives:[w.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),v})(),y=(()=>{class v{}return v.\u0275fac=function(B){return new(B||v)},v.\u0275mod=l.\u0275\u0275defineNgModule({type:v}),v.\u0275inj=l.\u0275\u0275defineInjector({imports:[[w.si,w.BQ],w.BQ]}),v})()},2612:(ht,ze,R)=>{R.d(ze,{yN:()=>de,mZ:()=>Te,_A:()=>ie,rD:()=>kt,sG:()=>X,Y2:()=>Xe,BQ:()=>ce,X2:()=>It,uc:()=>yt,Ng:()=>ue,rN:()=>p,nP:()=>Et,us:()=>Ot,wG:()=>st,si:()=>ot,IR:()=>Ae,CB:()=>E,jH:()=>Y,pj:()=>ae,Kr:()=>H,Id:()=>we,FD:()=>me,sb:()=>le,E0:()=>At});var l=R(7451),w=R(8954),J=R(5875),r=(R(8014),R(3192)),De=R(6321),_e=R(4929),Ie=R(824),K=R(5033),xe=R(5544);let de=(()=>{class j{}return j.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",j.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",j.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",j.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",j})(),Te=(()=>{class j{}return j.COMPLEX="375ms",j.ENTERING="225ms",j.EXITING="195ms",j})();const Ve=new l.InjectionToken("mat-sanity-checks",{providedIn:"root",factory:function V(){return!0}});let ce=(()=>{class j{constructor(W,ve,Ye){this._sanityChecks=ve,this._document=Ye,this._hasDoneGlobalChecks=!1,W._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(W){return!(0,De.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[W])}}return j.\u0275fac=function(W){return new(W||j)(l.\u0275\u0275inject(w.qm),l.\u0275\u0275inject(Ve,8),l.\u0275\u0275inject(r.DOCUMENT))},j.\u0275mod=l.\u0275\u0275defineNgModule({type:j}),j.\u0275inj=l.\u0275\u0275defineInjector({imports:[[J.vT],J.vT]}),j})();function we(j){return class extends j{constructor(...G){super(...G),this._disabled=!1}get disabled(){return this._disabled}set disabled(G){this._disabled=(0,_e.Ig)(G)}}}function ae(j,G){return class extends j{constructor(...W){super(...W),this.defaultColor=G,this.color=G}get color(){return this._color}set color(W){const ve=W||this.defaultColor;ve!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),ve&&this._elementRef.nativeElement.classList.add(`mat-${ve}`),this._color=ve)}}}function H(j){return class extends j{constructor(...G){super(...G),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(G){this._disableRipple=(0,_e.Ig)(G)}}}function le(j,G=0){return class extends j{constructor(...W){super(...W),this._tabIndex=G,this.defaultTabIndex=G}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(W){this._tabIndex=null!=W?(0,_e.su)(W):this.defaultTabIndex}}}function me(j){return class extends j{constructor(...G){super(...G),this.stateChanges=new Ie.Subject,this.errorState=!1}updateErrorState(){const G=this.errorState,pt=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);pt!==G&&(this.errorState=pt,this.stateChanges.next())}}}class ie{constructor(){this._localeChanges=new Ie.Subject,this.localeChanges=this._localeChanges}getValidDateOrNull(G){return this.isDateInstance(G)&&this.isValid(G)?G:null}deserialize(G){return null==G||this.isDateInstance(G)&&this.isValid(G)?G:this.invalid()}setLocale(G){this.locale=G,this._localeChanges.next()}compareDate(G,W){return this.getYear(G)-this.getYear(W)||this.getMonth(G)-this.getMonth(W)||this.getDate(G)-this.getDate(W)}sameDate(G,W){if(G&&W){let ve=this.isValid(G),Ye=this.isValid(W);return ve&&Ye?!this.compareDate(G,W):ve==Ye}return G==W}clampDate(G,W,ve){return W&&this.compareDate(G,W)<0?W:ve&&this.compareDate(G,ve)>0?ve:G}}const X=new l.InjectionToken("mat-date-formats");let kt=(()=>{class j{isErrorState(W,ve){return!!(W&&W.invalid&&(W.touched||ve&&ve.submitted))}}return j.\u0275fac=function(W){return new(W||j)},j.\u0275prov=l.\u0275\u0275defineInjectable({token:j,factory:j.\u0275fac,providedIn:"root"}),j})(),It=(()=>{class j{}return j.\u0275fac=function(W){return new(W||j)},j.\u0275dir=l.\u0275\u0275defineDirective({type:j,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),j})();function At(j,G,W="mat"){j.changes.pipe((0,K.startWith)(j)).subscribe(({length:ve})=>{Ft(G,`${W}-2-line`,!1),Ft(G,`${W}-3-line`,!1),Ft(G,`${W}-multi-line`,!1),2===ve||3===ve?Ft(G,`${W}-${ve}-line`,!0):ve>3&&Ft(G,`${W}-multi-line`,!0)})}function Ft(j,G,W){j.nativeElement.classList.toggle(G,W)}let yt=(()=>{class j{}return j.\u0275fac=function(W){return new(W||j)},j.\u0275mod=l.\u0275\u0275defineNgModule({type:j}),j.\u0275inj=l.\u0275\u0275defineInjector({imports:[[ce],ce]}),j})();class St{constructor(G,W,ve){this._renderer=G,this.element=W,this.config=ve,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Re={enterDuration:225,exitDuration:150},U=(0,De.i$)({passive:!0}),se=["mousedown","touchstart"],ye=["mouseup","mouseleave","touchend","touchcancel"];class Ae{constructor(G,W,ve,Ye){this._target=G,this._ngZone=W,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,Ye.isBrowser&&(this._containerElement=(0,_e.fI)(ve))}fadeInRipple(G,W,ve={}){const Ye=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),pt={...Re,...ve.animation};ve.centered&&(G=Ye.left+Ye.width/2,W=Ye.top+Ye.height/2);const Rt=ve.radius||function tt(j,G,W){const ve=Math.max(Math.abs(j-W.left),Math.abs(j-W.right)),Ye=Math.max(Math.abs(G-W.top),Math.abs(G-W.bottom));return Math.sqrt(ve*ve+Ye*Ye)}(G,W,Ye),Dt=G-Ye.left,Ht=W-Ye.top,Lt=pt.enterDuration,ee=document.createElement("div");ee.classList.add("mat-ripple-element"),ee.style.left=Dt-Rt+"px",ee.style.top=Ht-Rt+"px",ee.style.height=2*Rt+"px",ee.style.width=2*Rt+"px",null!=ve.color&&(ee.style.backgroundColor=ve.color),ee.style.transitionDuration=`${Lt}ms`,this._containerElement.appendChild(ee),function Ge(j){window.getComputedStyle(j).getPropertyValue("opacity")}(ee),ee.style.transform="scale(1)";const S=new St(this,ee,ve);return S.state=0,this._activeRipples.add(S),ve.persistent||(this._mostRecentTransientRipple=S),this._runTimeoutOutsideZone(()=>{const f=S===this._mostRecentTransientRipple;S.state=1,!ve.persistent&&(!f||!this._isPointerDown)&&S.fadeOut()},Lt),S}fadeOutRipple(G){const W=this._activeRipples.delete(G);if(G===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!W)return;const ve=G.element,Ye={...Re,...G.config.animation};ve.style.transitionDuration=`${Ye.exitDuration}ms`,ve.style.opacity="0",G.state=2,this._runTimeoutOutsideZone(()=>{G.state=3,ve.remove()},Ye.exitDuration)}fadeOutAll(){this._activeRipples.forEach(G=>G.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(G=>{G.config.persistent||G.fadeOut()})}setupTriggerEvents(G){const W=(0,_e.fI)(G);!W||W===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=W,this._registerEvents(se))}handleEvent(G){"mousedown"===G.type?this._onMousedown(G):"touchstart"===G.type?this._onTouchStart(G):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(ye),this._pointerUpEventsRegistered=!0)}_onMousedown(G){const W=(0,w.X6)(G),ve=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!W&&!ve&&(this._isPointerDown=!0,this.fadeInRipple(G.clientX,G.clientY,this._target.rippleConfig))}_onTouchStart(G){if(!this._target.rippleDisabled&&!(0,w.yG)(G)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const W=G.changedTouches;for(let ve=0;ve<W.length;ve++)this.fadeInRipple(W[ve].clientX,W[ve].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(G=>{!G.config.persistent&&(1===G.state||G.config.terminateOnPointerUp&&0===G.state)&&G.fadeOut()}))}_runTimeoutOutsideZone(G,W=0){this._ngZone.runOutsideAngular(()=>setTimeout(G,W))}_registerEvents(G){this._ngZone.runOutsideAngular(()=>{G.forEach(W=>{this._triggerElement.addEventListener(W,this,U)})})}_removeTriggerEvents(){this._triggerElement&&(se.forEach(G=>{this._triggerElement.removeEventListener(G,this,U)}),this._pointerUpEventsRegistered&&ye.forEach(G=>{this._triggerElement.removeEventListener(G,this,U)}))}}const Xe=new l.InjectionToken("mat-ripple-global-options");let st=(()=>{class j{constructor(W,ve,Ye,pt,Rt){this._elementRef=W,this._animationMode=Rt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=pt||{},this._rippleRenderer=new Ae(this,ve,W,Ye)}get disabled(){return this._disabled}set disabled(W){W&&this.fadeOutAllNonPersistent(),this._disabled=W,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(W){this._trigger=W,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(W,ve=0,Ye){return"number"==typeof W?this._rippleRenderer.fadeInRipple(W,ve,{...this.rippleConfig,...Ye}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...W})}}return j.\u0275fac=function(W){return new(W||j)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(l.NgZone),l.\u0275\u0275directiveInject(De.t4),l.\u0275\u0275directiveInject(Xe,8),l.\u0275\u0275directiveInject(xe.Qb,8))},j.\u0275dir=l.\u0275\u0275defineDirective({type:j,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(W,ve){2&W&&l.\u0275\u0275classProp("mat-ripple-unbounded",ve.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),j})(),ot=(()=>{class j{}return j.\u0275fac=function(W){return new(W||j)},j.\u0275mod=l.\u0275\u0275defineNgModule({type:j}),j.\u0275inj=l.\u0275\u0275defineInjector({imports:[[ce,De.ud],ce]}),j})(),Et=(()=>{class j{constructor(W){this._animationMode=W,this.state="unchecked",this.disabled=!1}}return j.\u0275fac=function(W){return new(W||j)(l.\u0275\u0275directiveInject(xe.Qb,8))},j.\u0275cmp=l.\u0275\u0275defineComponent({type:j,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(W,ve){2&W&&l.\u0275\u0275classProp("mat-pseudo-checkbox-indeterminate","indeterminate"===ve.state)("mat-pseudo-checkbox-checked","checked"===ve.state)("mat-pseudo-checkbox-disabled",ve.disabled)("_mat-animation-noopable","NoopAnimations"===ve._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(W,ve){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),j})(),Ot=(()=>{class j{}return j.\u0275fac=function(W){return new(W||j)},j.\u0275mod=l.\u0275\u0275defineNgModule({type:j}),j.\u0275inj=l.\u0275\u0275defineInjector({imports:[[ce]]}),j})();class p{constructor(G,W=!1){this.source=G,this.isUserInput=W}}function E(j,G,W){if(W.length){let ve=G.toArray(),Ye=W.toArray(),pt=0;for(let Rt=0;Rt<j+1;Rt++)ve[Rt].group&&ve[Rt].group===Ye[pt]&&pt++;return pt}return 0}function Y(j,G,W,ve){return j<W?j:j+G>W+ve?Math.max(0,j-ve+G):W}let ue=(()=>{class j{}return j.\u0275fac=function(W){return new(W||j)},j.\u0275mod=l.\u0275\u0275defineNgModule({type:j}),j.\u0275inj=l.\u0275\u0275defineInjector({imports:[[ot,r.CommonModule,ce,Ot]]}),j})()},3331:(ht,ze,R)=>{R.d(ze,{Hw:()=>me,Ps:()=>Ee,jv:()=>Te});var l=R(7451),w=R(2612),J=R(4929),Q=R(3192),r=R(824),De=R(5033),_e=R(6152),Ie=R(5998);const K=["*"];let xe;function z(he){return function P(){if(void 0===xe&&(xe=null,"undefined"!=typeof window)){const he=window;void 0!==he.trustedTypes&&(xe=he.trustedTypes.createPolicy("angular#components",{createHTML:je=>je}))}return xe}()?.createHTML(he)||he}function y(he){return Error(`Unable to find icon with the name "${he}"`)}function T(he){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${he}".`)}function B(he){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${he}".`)}class de{constructor(je,ie,X){this.url=je,this.svgText=ie,this.options=X}}let Te=(()=>{class he{constructor(ie,X,pe,ne){this._httpClient=ie,this._sanitizer=X,this._errorHandler=ne,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=pe}addSvgIcon(ie,X,pe){return this.addSvgIconInNamespace("",ie,X,pe)}addSvgIconLiteral(ie,X,pe){return this.addSvgIconLiteralInNamespace("",ie,X,pe)}addSvgIconInNamespace(ie,X,pe,ne){return this._addSvgIconConfig(ie,X,new de(pe,null,ne))}addSvgIconResolver(ie){return this._resolvers.push(ie),this}addSvgIconLiteralInNamespace(ie,X,pe,ne){const Ce=this._sanitizer.sanitize(l.SecurityContext.HTML,pe);if(!Ce)throw B(pe);const Le=z(Ce);return this._addSvgIconConfig(ie,X,new de("",Le,ne))}addSvgIconSet(ie,X){return this.addSvgIconSetInNamespace("",ie,X)}addSvgIconSetLiteral(ie,X){return this.addSvgIconSetLiteralInNamespace("",ie,X)}addSvgIconSetInNamespace(ie,X,pe){return this._addSvgIconSetConfig(ie,new de(X,null,pe))}addSvgIconSetLiteralInNamespace(ie,X,pe){const ne=this._sanitizer.sanitize(l.SecurityContext.HTML,X);if(!ne)throw B(X);const Ce=z(ne);return this._addSvgIconSetConfig(ie,new de("",Ce,pe))}registerFontClassAlias(ie,X=ie){return this._fontCssClassesByAlias.set(ie,X),this}classNameForFontAlias(ie){return this._fontCssClassesByAlias.get(ie)||ie}setDefaultFontSetClass(ie){return this._defaultFontSetClass=ie,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(ie){const X=this._sanitizer.sanitize(l.SecurityContext.RESOURCE_URL,ie);if(!X)throw T(ie);const pe=this._cachedIconsByUrl.get(X);return pe?(0,r.of)(Ve(pe)):this._loadSvgIconFromConfig(new de(ie,null)).pipe((0,De.tap)(ne=>this._cachedIconsByUrl.set(X,ne)),(0,De.map)(ne=>Ve(ne)))}getNamedSvgIcon(ie,X=""){const pe=ce(X,ie);let ne=this._svgIconConfigs.get(pe);if(ne)return this._getSvgFromConfig(ne);if(ne=this._getIconConfigFromResolvers(X,ie),ne)return this._svgIconConfigs.set(pe,ne),this._getSvgFromConfig(ne);const Ce=this._iconSetConfigs.get(X);return Ce?this._getSvgFromIconSetConfigs(ie,Ce):(0,r.throwError)(y(pe))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(ie){return ie.svgText?(0,r.of)(Ve(this._svgElementFromConfig(ie))):this._loadSvgIconFromConfig(ie).pipe((0,De.map)(X=>Ve(X)))}_getSvgFromIconSetConfigs(ie,X){const pe=this._extractIconWithNameFromAnySet(ie,X);if(pe)return(0,r.of)(pe);const ne=X.filter(Ce=>!Ce.svgText).map(Ce=>this._loadSvgIconSetFromConfig(Ce).pipe((0,De.catchError)(Le=>{const Ze=`Loading icon set URL: ${this._sanitizer.sanitize(l.SecurityContext.RESOURCE_URL,Ce.url)} failed: ${Le.message}`;return this._errorHandler.handleError(new Error(Ze)),(0,r.of)(null)})));return(0,r.forkJoin)(ne).pipe((0,De.map)(()=>{const Ce=this._extractIconWithNameFromAnySet(ie,X);if(!Ce)throw y(ie);return Ce}))}_extractIconWithNameFromAnySet(ie,X){for(let pe=X.length-1;pe>=0;pe--){const ne=X[pe];if(ne.svgText&&ne.svgText.toString().indexOf(ie)>-1){const Ce=this._svgElementFromConfig(ne),Le=this._extractSvgIconFromSet(Ce,ie,ne.options);if(Le)return Le}}return null}_loadSvgIconFromConfig(ie){return this._fetchIcon(ie).pipe((0,De.tap)(X=>ie.svgText=X),(0,De.map)(()=>this._svgElementFromConfig(ie)))}_loadSvgIconSetFromConfig(ie){return ie.svgText?(0,r.of)(null):this._fetchIcon(ie).pipe((0,De.tap)(X=>ie.svgText=X))}_extractSvgIconFromSet(ie,X,pe){const ne=ie.querySelector(`[id="${X}"]`);if(!ne)return null;const Ce=ne.cloneNode(!0);if(Ce.removeAttribute("id"),"svg"===Ce.nodeName.toLowerCase())return this._setSvgAttributes(Ce,pe);if("symbol"===Ce.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Ce),pe);const Le=this._svgElementFromString(z("<svg></svg>"));return Le.appendChild(Ce),this._setSvgAttributes(Le,pe)}_svgElementFromString(ie){const X=this._document.createElement("DIV");X.innerHTML=ie;const pe=X.querySelector("svg");if(!pe)throw Error("<svg> tag not found");return pe}_toSvgElement(ie){const X=this._svgElementFromString(z("<svg></svg>")),pe=ie.attributes;for(let ne=0;ne<pe.length;ne++){const{name:Ce,value:Le}=pe[ne];"id"!==Ce&&X.setAttribute(Ce,Le)}for(let ne=0;ne<ie.childNodes.length;ne++)ie.childNodes[ne].nodeType===this._document.ELEMENT_NODE&&X.appendChild(ie.childNodes[ne].cloneNode(!0));return X}_setSvgAttributes(ie,X){return ie.setAttribute("fit",""),ie.setAttribute("height","100%"),ie.setAttribute("width","100%"),ie.setAttribute("preserveAspectRatio","xMidYMid meet"),ie.setAttribute("focusable","false"),X&&X.viewBox&&ie.setAttribute("viewBox",X.viewBox),ie}_fetchIcon(ie){const{url:X,options:pe}=ie,ne=pe?.withCredentials??!1;if(!this._httpClient)throw function v(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==X)throw Error(`Cannot fetch icon from URL "${X}".`);const Ce=this._sanitizer.sanitize(l.SecurityContext.RESOURCE_URL,X);if(!Ce)throw T(X);const Le=this._inProgressUrlFetches.get(Ce);if(Le)return Le;const Qe=this._httpClient.get(Ce,{responseType:"text",withCredentials:ne}).pipe((0,De.map)(Ze=>z(Ze)),(0,De.finalize)(()=>this._inProgressUrlFetches.delete(Ce)),(0,De.share)());return this._inProgressUrlFetches.set(Ce,Qe),Qe}_addSvgIconConfig(ie,X,pe){return this._svgIconConfigs.set(ce(ie,X),pe),this}_addSvgIconSetConfig(ie,X){const pe=this._iconSetConfigs.get(ie);return pe?pe.push(X):this._iconSetConfigs.set(ie,[X]),this}_svgElementFromConfig(ie){if(!ie.svgElement){const X=this._svgElementFromString(ie.svgText);this._setSvgAttributes(X,ie.options),ie.svgElement=X}return ie.svgElement}_getIconConfigFromResolvers(ie,X){for(let pe=0;pe<this._resolvers.length;pe++){const ne=this._resolvers[pe](X,ie);if(ne)return Pe(ne)?new de(ne.url,null,ne.options):new de(ne,null)}}}return he.\u0275fac=function(ie){return new(ie||he)(l.\u0275\u0275inject(_e.HttpClient,8),l.\u0275\u0275inject(Ie.H7),l.\u0275\u0275inject(Q.DOCUMENT,8),l.\u0275\u0275inject(l.ErrorHandler))},he.\u0275prov=l.\u0275\u0275defineInjectable({token:he,factory:he.\u0275fac,providedIn:"root"}),he})();function Ve(he){return he.cloneNode(!0)}function ce(he,je){return he+":"+je}function Pe(he){return!(!he.url||!he.options)}const ge=(0,w.pj)(class{constructor(he){this._elementRef=he}}),Be=new l.InjectionToken("mat-icon-location",{providedIn:"root",factory:function we(){const he=(0,l.inject)(Q.DOCUMENT),je=he?he.location:null;return{getPathname:()=>je?je.pathname+je.search:""}}}),ae=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],H=ae.map(he=>`[${he}]`).join(", "),le=/^url\(['"]?#(.*?)['"]?\)$/;let me=(()=>{class he extends ge{constructor(ie,X,pe,ne,Ce){super(ie),this._iconRegistry=X,this._location=ne,this._errorHandler=Ce,this._inline=!1,this._currentIconFetch=r.Subscription.EMPTY,pe||ie.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(ie){this._inline=(0,J.Ig)(ie)}get svgIcon(){return this._svgIcon}set svgIcon(ie){ie!==this._svgIcon&&(ie?this._updateSvgIcon(ie):this._svgIcon&&this._clearSvgElement(),this._svgIcon=ie)}get fontSet(){return this._fontSet}set fontSet(ie){const X=this._cleanupFontValue(ie);X!==this._fontSet&&(this._fontSet=X,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(ie){const X=this._cleanupFontValue(ie);X!==this._fontIcon&&(this._fontIcon=X,this._updateFontIconClasses())}_splitIconName(ie){if(!ie)return["",""];const X=ie.split(":");switch(X.length){case 1:return["",X[0]];case 2:return X;default:throw Error(`Invalid icon name: "${ie}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const ie=this._elementsWithExternalReferences;if(ie&&ie.size){const X=this._location.getPathname();X!==this._previousPath&&(this._previousPath=X,this._prependPathToReferences(X))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(ie){this._clearSvgElement();const X=ie.querySelectorAll("style");for(let ne=0;ne<X.length;ne++)X[ne].textContent+=" ";const pe=this._location.getPathname();this._previousPath=pe,this._cacheChildrenWithExternalReferences(ie),this._prependPathToReferences(pe),this._elementRef.nativeElement.appendChild(ie)}_clearSvgElement(){const ie=this._elementRef.nativeElement;let X=ie.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();X--;){const pe=ie.childNodes[X];(1!==pe.nodeType||"svg"===pe.nodeName.toLowerCase())&&pe.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const ie=this._elementRef.nativeElement,X=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();X!=this._previousFontSetClass&&(this._previousFontSetClass&&ie.classList.remove(this._previousFontSetClass),X&&ie.classList.add(X),this._previousFontSetClass=X),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&ie.classList.remove(this._previousFontIconClass),this.fontIcon&&ie.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(ie){return"string"==typeof ie?ie.trim().split(" ")[0]:ie}_prependPathToReferences(ie){const X=this._elementsWithExternalReferences;X&&X.forEach((pe,ne)=>{pe.forEach(Ce=>{ne.setAttribute(Ce.name,`url('${ie}#${Ce.value}')`)})})}_cacheChildrenWithExternalReferences(ie){const X=ie.querySelectorAll(H),pe=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let ne=0;ne<X.length;ne++)ae.forEach(Ce=>{const Le=X[ne],Qe=Le.getAttribute(Ce),Ze=Qe?Qe.match(le):null;if(Ze){let lt=pe.get(Le);lt||(lt=[],pe.set(Le,lt)),lt.push({name:Ce,value:Ze[1]})}})}_updateSvgIcon(ie){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),ie){const[X,pe]=this._splitIconName(ie);X&&(this._svgNamespace=X),pe&&(this._svgName=pe),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(pe,X).pipe((0,De.take)(1)).subscribe(ne=>this._setSvgElement(ne),ne=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${X}:${pe}! ${ne.message}`))})}}}return he.\u0275fac=function(ie){return new(ie||he)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(Te),l.\u0275\u0275injectAttribute("aria-hidden"),l.\u0275\u0275directiveInject(Be),l.\u0275\u0275directiveInject(l.ErrorHandler))},he.\u0275cmp=l.\u0275\u0275defineComponent({type:he,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(ie,X){2&ie&&(l.\u0275\u0275attribute("data-mat-icon-type",X._usingFontIcon()?"font":"svg")("data-mat-icon-name",X._svgName||X.fontIcon)("data-mat-icon-namespace",X._svgNamespace||X.fontSet),l.\u0275\u0275classProp("mat-icon-inline",X.inline)("mat-icon-no-color","primary"!==X.color&&"accent"!==X.color&&"warn"!==X.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:K,decls:1,vars:0,template:function(ie,X){1&ie&&(l.\u0275\u0275projectionDef(),l.\u0275\u0275projection(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),he})(),Ee=(()=>{class he{}return he.\u0275fac=function(ie){return new(ie||he)},he.\u0275mod=l.\u0275\u0275defineNgModule({type:he}),he.\u0275inj=l.\u0275\u0275defineInjector({imports:[[w.BQ],w.BQ]}),he})()},5360:(ht,ze,R)=>{R.d(ze,{qD:()=>ge,ux:()=>ie,ZX:()=>Ee,OX:()=>ae});var l=R(9596),w=R(8632),J=R(3192),Q=R(7451),r=R(2612),De=R(9638),_e=R(824),Ie=R(6321),K=R(5033),xe=R(4091),P=R(8954),z=R(4929);const v=new Set;let T,B=(()=>{class X{constructor(ne){this._platform=ne,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Te}matchMedia(ne){return(this._platform.WEBKIT||this._platform.BLINK)&&function de(X){if(!v.has(X))try{T||(T=document.createElement("style"),T.setAttribute("type","text/css"),document.head.appendChild(T)),T.sheet&&(T.sheet.insertRule(`@media ${X} {body{ }}`,0),v.add(X))}catch(pe){console.error(pe)}}(ne),this._matchMedia(ne)}}return X.\u0275fac=function(ne){return new(ne||X)(Q.\u0275\u0275inject(Ie.t4))},X.\u0275prov=Q.\u0275\u0275defineInjectable({token:X,factory:X.\u0275fac,providedIn:"root"}),X})();function Te(X){return{matches:"all"===X||""===X,media:X,addListener:()=>{},removeListener:()=>{}}}let Oe=(()=>{class X{constructor(ne,Ce){this._mediaMatcher=ne,this._zone=Ce,this._queries=new Map,this._destroySubject=new _e.Subject}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(ne){return V((0,z.Eq)(ne)).some(Le=>this._registerQuery(Le).mql.matches)}observe(ne){const Le=V((0,z.Eq)(ne)).map(Ze=>this._registerQuery(Ze).observable);let Qe=(0,_e.combineLatest)(Le);return Qe=(0,_e.concat)(Qe.pipe((0,K.take)(1)),Qe.pipe((0,K.skip)(1),(0,K.debounceTime)(0))),Qe.pipe((0,K.map)(Ze=>{const lt={matches:!1,breakpoints:{}};return Ze.forEach(({matches:kt,query:It})=>{lt.matches=lt.matches||kt,lt.breakpoints[It]=kt}),lt}))}_registerQuery(ne){if(this._queries.has(ne))return this._queries.get(ne);const Ce=this._mediaMatcher.matchMedia(ne),Qe={observable:new _e.Observable(Ze=>{const lt=kt=>this._zone.run(()=>Ze.next(kt));return Ce.addListener(lt),()=>{Ce.removeListener(lt)}}).pipe((0,K.startWith)(Ce),(0,K.map)(({matches:Ze})=>({query:ne,matches:Ze})),(0,K.takeUntil)(this._destroySubject)),mql:Ce};return this._queries.set(ne,Qe),Qe}}return X.\u0275fac=function(ne){return new(ne||X)(Q.\u0275\u0275inject(B),Q.\u0275\u0275inject(Q.NgZone))},X.\u0275prov=Q.\u0275\u0275defineInjectable({token:X,factory:X.\u0275fac,providedIn:"root"}),X})();function V(X){return X.map(pe=>pe.split(",")).reduce((pe,ne)=>pe.concat(ne)).map(pe=>pe.trim())}function ce(X,pe){if(1&X){const ne=Q.\u0275\u0275getCurrentView();Q.\u0275\u0275elementStart(0,"div",1),Q.\u0275\u0275elementStart(1,"button",2),Q.\u0275\u0275listener("click",function(){return Q.\u0275\u0275restoreView(ne),Q.\u0275\u0275nextContext().action()}),Q.\u0275\u0275text(2),Q.\u0275\u0275elementEnd(),Q.\u0275\u0275elementEnd()}if(2&X){const ne=Q.\u0275\u0275nextContext();Q.\u0275\u0275advance(2),Q.\u0275\u0275textInterpolate(ne.data.action)}}function Pe(X,pe){}const ge=new Q.InjectionToken("MatSnackBarData");class Be{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const we=Math.pow(2,31)-1;class ae{constructor(pe,ne){this._overlayRef=ne,this._afterDismissed=new _e.Subject,this._afterOpened=new _e.Subject,this._onAction=new _e.Subject,this._dismissedByAction=!1,this.containerInstance=pe,this.onAction().subscribe(()=>this.dismiss()),pe._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(pe){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(pe,we))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let H=(()=>{class X{constructor(ne,Ce){this.snackBarRef=ne,this.data=Ce}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return X.\u0275fac=function(ne){return new(ne||X)(Q.\u0275\u0275directiveInject(ae),Q.\u0275\u0275directiveInject(ge))},X.\u0275cmp=Q.\u0275\u0275defineComponent({type:X,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(ne,Ce){1&ne&&(Q.\u0275\u0275elementStart(0,"span"),Q.\u0275\u0275text(1),Q.\u0275\u0275elementEnd(),Q.\u0275\u0275template(2,ce,3,1,"div",0)),2&ne&&(Q.\u0275\u0275advance(1),Q.\u0275\u0275textInterpolate(Ce.data.message),Q.\u0275\u0275advance(1),Q.\u0275\u0275property("ngIf",Ce.hasAction))},directives:[J.NgIf,De.lW],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),X})();const le={snackBarState:(0,xe.X$)("state",[(0,xe.SB)("void, hidden",(0,xe.oB)({transform:"scale(0.8)",opacity:0})),(0,xe.SB)("visible",(0,xe.oB)({transform:"scale(1)",opacity:1})),(0,xe.eR)("* => visible",(0,xe.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,xe.eR)("* => void, * => hidden",(0,xe.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,xe.oB)({opacity:0})))])};let me=(()=>{class X extends w.en{constructor(ne,Ce,Le,Qe,Ze){super(),this._ngZone=ne,this._elementRef=Ce,this._changeDetectorRef=Le,this._platform=Qe,this.snackBarConfig=Ze,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new _e.Subject,this._onExit=new _e.Subject,this._onEnter=new _e.Subject,this._animationState="void",this.attachDomPortal=lt=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(lt)),this._live="assertive"!==Ze.politeness||Ze.announcementMessage?"off"===Ze.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(ne){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(ne)}attachTemplatePortal(ne){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(ne)}onAnimationEnd(ne){const{fromState:Ce,toState:Le}=ne;if(("void"===Le&&"void"!==Ce||"hidden"===Le)&&this._completeExit(),"visible"===Le){const Qe=this._onEnter;this._ngZone.run(()=>{Qe.next(),Qe.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,K.take)(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const ne=this._elementRef.nativeElement,Ce=this.snackBarConfig.panelClass;Ce&&(Array.isArray(Ce)?Ce.forEach(Le=>ne.classList.add(Le)):ne.classList.add(Ce)),"center"===this.snackBarConfig.horizontalPosition&&ne.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&ne.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const ne=this._elementRef.nativeElement.querySelector("[aria-hidden]"),Ce=this._elementRef.nativeElement.querySelector("[aria-live]");if(ne&&Ce){let Le=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&ne.contains(document.activeElement)&&(Le=document.activeElement),ne.removeAttribute("aria-hidden"),Ce.appendChild(ne),Le?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return X.\u0275fac=function(ne){return new(ne||X)(Q.\u0275\u0275directiveInject(Q.NgZone),Q.\u0275\u0275directiveInject(Q.ElementRef),Q.\u0275\u0275directiveInject(Q.ChangeDetectorRef),Q.\u0275\u0275directiveInject(Ie.t4),Q.\u0275\u0275directiveInject(Be))},X.\u0275cmp=Q.\u0275\u0275defineComponent({type:X,selectors:[["snack-bar-container"]],viewQuery:function(ne,Ce){if(1&ne&&Q.\u0275\u0275viewQuery(w.Pl,7),2&ne){let Le;Q.\u0275\u0275queryRefresh(Le=Q.\u0275\u0275loadQuery())&&(Ce._portalOutlet=Le.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(ne,Ce){1&ne&&Q.\u0275\u0275syntheticHostListener("@state.done",function(Qe){return Ce.onAnimationEnd(Qe)}),2&ne&&Q.\u0275\u0275syntheticHostProperty("@state",Ce._animationState)},features:[Q.\u0275\u0275InheritDefinitionFeature],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(ne,Ce){1&ne&&(Q.\u0275\u0275elementStart(0,"div",0),Q.\u0275\u0275template(1,Pe,0,0,"ng-template",1),Q.\u0275\u0275elementEnd(),Q.\u0275\u0275element(2,"div")),2&ne&&(Q.\u0275\u0275advance(2),Q.\u0275\u0275attribute("aria-live",Ce._live)("role",Ce._role))},directives:[w.Pl],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[le.snackBarState]}}),X})(),Ee=(()=>{class X{}return X.\u0275fac=function(ne){return new(ne||X)},X.\u0275mod=Q.\u0275\u0275defineNgModule({type:X}),X.\u0275inj=Q.\u0275\u0275defineInjector({imports:[[l.U8,w.eL,J.CommonModule,De.ot,r.BQ],r.BQ]}),X})();const he=new Q.InjectionToken("mat-snack-bar-default-options",{providedIn:"root",factory:function je(){return new Be}});let ie=(()=>{class X{constructor(ne,Ce,Le,Qe,Ze,lt){this._overlay=ne,this._live=Ce,this._injector=Le,this._breakpointObserver=Qe,this._parentSnackBar=Ze,this._defaultConfig=lt,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=H,this.snackBarContainerComponent=me,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const ne=this._parentSnackBar;return ne?ne._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(ne){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=ne:this._snackBarRefAtThisLevel=ne}openFromComponent(ne,Ce){return this._attach(ne,Ce)}openFromTemplate(ne,Ce){return this._attach(ne,Ce)}open(ne,Ce="",Le){const Qe={...this._defaultConfig,...Le};return Qe.data={message:ne,action:Ce},Qe.announcementMessage===ne&&(Qe.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,Qe)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(ne,Ce){const Qe=Q.Injector.create({parent:Ce&&Ce.viewContainerRef&&Ce.viewContainerRef.injector||this._injector,providers:[{provide:Be,useValue:Ce}]}),Ze=new w.C5(this.snackBarContainerComponent,Ce.viewContainerRef,Qe),lt=ne.attach(Ze);return lt.instance.snackBarConfig=Ce,lt.instance}_attach(ne,Ce){const Le={...new Be,...this._defaultConfig,...Ce},Qe=this._createOverlay(Le),Ze=this._attachSnackBarContainer(Qe,Le),lt=new ae(Ze,Qe);if(ne instanceof Q.TemplateRef){const kt=new w.UE(ne,null,{$implicit:Le.data,snackBarRef:lt});lt.instance=Ze.attachTemplatePortal(kt)}else{const kt=this._createInjector(Le,lt),It=new w.C5(ne,void 0,kt),At=Ze.attachComponentPortal(It);lt.instance=At.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe((0,K.takeUntil)(Qe.detachments())).subscribe(kt=>{Qe.overlayElement.classList.toggle(this.handsetCssClass,kt.matches)}),Le.announcementMessage&&Ze._onAnnounce.subscribe(()=>{this._live.announce(Le.announcementMessage,Le.politeness)}),this._animateSnackBar(lt,Le),this._openedSnackBarRef=lt,this._openedSnackBarRef}_animateSnackBar(ne,Ce){ne.afterDismissed().subscribe(()=>{this._openedSnackBarRef==ne&&(this._openedSnackBarRef=null),Ce.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{ne.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):ne.containerInstance.enter(),Ce.duration&&Ce.duration>0&&ne.afterOpened().subscribe(()=>ne._dismissAfter(Ce.duration))}_createOverlay(ne){const Ce=new l.X_;Ce.direction=ne.direction;let Le=this._overlay.position().global();const Qe="rtl"===ne.direction,Ze="left"===ne.horizontalPosition||"start"===ne.horizontalPosition&&!Qe||"end"===ne.horizontalPosition&&Qe,lt=!Ze&&"center"!==ne.horizontalPosition;return Ze?Le.left("0"):lt?Le.right("0"):Le.centerHorizontally(),"top"===ne.verticalPosition?Le.top("0"):Le.bottom("0"),Ce.positionStrategy=Le,this._overlay.create(Ce)}_createInjector(ne,Ce){return Q.Injector.create({parent:ne&&ne.viewContainerRef&&ne.viewContainerRef.injector||this._injector,providers:[{provide:ae,useValue:Ce},{provide:ge,useValue:ne.data}]})}}return X.\u0275fac=function(ne){return new(ne||X)(Q.\u0275\u0275inject(l.aV),Q.\u0275\u0275inject(P.Kd),Q.\u0275\u0275inject(Q.Injector),Q.\u0275\u0275inject(Oe),Q.\u0275\u0275inject(X,12),Q.\u0275\u0275inject(he))},X.\u0275prov=Q.\u0275\u0275defineInjectable({token:X,factory:X.\u0275fac,providedIn:Ee}),X})()},5544:(ht,ze,R)=>{R.d(ze,{Qb:()=>Vt,PW:()=>Jr});var l=R(7451),w=R(5998),J=R(4091);function Q(){return"undefined"!=typeof window&&void 0!==window.document}function r(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function De(C){switch(C.length){case 0:return new J.ZN;case 1:return C[0];default:return new J.ZE(C)}}function _e(C,s,o,d,M={},O={}){const $=[],te=[];let fe=-1,ke=null;if(d.forEach(He=>{const Je=He.offset,mt=Je==fe,Mt=mt&&ke||{};Object.keys(He).forEach(at=>{let ut=at,Ct=He[at];if("offset"!==at)switch(ut=s.normalizePropertyName(ut,$),Ct){case J.k1:Ct=M[at];break;case J.l3:Ct=O[at];break;default:Ct=s.normalizeStyleValue(at,ut,Ct,$)}Mt[ut]=Ct}),mt||te.push(Mt),ke=Mt,fe=Je}),$.length){const He="\n - ";throw new Error(`Unable to animate due to the following errors:${He}${$.join(He)}`)}return te}function Ie(C,s,o,d){switch(s){case"start":C.onStart(()=>d(o&&K(o,"start",C)));break;case"done":C.onDone(()=>d(o&&K(o,"done",C)));break;case"destroy":C.onDestroy(()=>d(o&&K(o,"destroy",C)))}}function K(C,s,o){const O=xe(C.element,C.triggerName,C.fromState,C.toState,s||C.phaseName,o.totalTime??C.totalTime,!!o.disabled),$=C._data;return null!=$&&(O._data=$),O}function xe(C,s,o,d,M="",O=0,$){return{element:C,triggerName:s,fromState:o,toState:d,phaseName:M,totalTime:O,disabled:!!$}}function P(C,s,o){let d;return C instanceof Map?(d=C.get(s),d||C.set(s,d=o)):(d=C[s],d||(d=C[s]=o)),d}function z(C){const s=C.indexOf(":");return[C.substring(1,s),C.substr(s+1)]}let y=(C,s)=>!1,v=(C,s,o)=>[];(r()||"undefined"!=typeof Element)&&(y=Q()?(C,s)=>{for(;s&&s!==document.documentElement;){if(s===C)return!0;s=s.parentNode||s.host}return!1}:(C,s)=>C.contains(s),v=(C,s,o)=>{let d=[];if(o){const M=C.querySelectorAll(s);for(let O=0;O<M.length;O++)d.push(M[O])}else{const M=C.querySelector(s);M&&d.push(M)}return d});let de=null,Te=!1;function Oe(C){de||(de=function V(){return"undefined"!=typeof document?document.body:null}()||{},Te=!!de.style&&"WebkitAppearance"in de.style);let s=!0;return de.style&&!function B(C){return"ebkit"==C.substring(1,6)}(C)&&(s=C in de.style,!s&&Te&&(s="Webkit"+C.charAt(0).toUpperCase()+C.substr(1)in de.style)),s}const Ve=y,ce=v;function Pe(C){const s={};return Object.keys(C).forEach(o=>{const d=o.replace(/([a-z])([A-Z])/g,"$1-$2");s[d]=C[o]}),s}let ge=(()=>{class C{validateStyleProperty(o){return Oe(o)}matchesElement(o,d){return!1}containsElement(o,d){return Ve(o,d)}query(o,d,M){return ce(o,d,M)}computeStyle(o,d,M){return M||""}animate(o,d,M,O,$,te=[],fe){return new J.ZN(M,O)}}return C.\u0275fac=function(o){return new(o||C)},C.\u0275prov=l.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac}),C})(),Be=(()=>{class C{}return C.NOOP=new ge,C})();const le="ng-enter",me="ng-leave",Ee="ng-trigger",he=".ng-trigger",je="ng-animating",ie=".ng-animating";function X(C){if("number"==typeof C)return C;const s=C.match(/^(-?[\.\d]+)(m?s)/);return!s||s.length<2?0:pe(parseFloat(s[1]),s[2])}function pe(C,s){return"s"===s?1e3*C:C}function ne(C,s,o){return C.hasOwnProperty("duration")?C:function Ce(C,s,o){let M,O=0,$="";if("string"==typeof C){const te=C.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===te)return s.push(`The provided timing value "${C}" is invalid.`),{duration:0,delay:0,easing:""};M=pe(parseFloat(te[1]),te[2]);const fe=te[3];null!=fe&&(O=pe(parseFloat(fe),te[4]));const ke=te[5];ke&&($=ke)}else M=C;if(!o){let te=!1,fe=s.length;M<0&&(s.push("Duration values below 0 are not allowed for this animation step."),te=!0),O<0&&(s.push("Delay values below 0 are not allowed for this animation step."),te=!0),te&&s.splice(fe,0,`The provided timing value "${C}" is invalid.`)}return{duration:M,delay:O,easing:$}}(C,s,o)}function Le(C,s={}){return Object.keys(C).forEach(o=>{s[o]=C[o]}),s}function Ze(C,s,o={}){if(s)for(let d in C)o[d]=C[d];else Le(C,o);return o}function lt(C,s,o){return o?s+":"+o+";":""}function kt(C){let s="";for(let o=0;o<C.style.length;o++){const d=C.style.item(o);s+=lt(0,d,C.style.getPropertyValue(d))}for(const o in C.style)C.style.hasOwnProperty(o)&&!o.startsWith("_")&&(s+=lt(0,Ae(o),C.style[o]));C.setAttribute("style",s)}function It(C,s,o){C.style&&(Object.keys(s).forEach(d=>{const M=ye(d);o&&!o.hasOwnProperty(d)&&(o[d]=C.style[M]),C.style[M]=s[d]}),r()&&kt(C))}function At(C,s){C.style&&(Object.keys(s).forEach(o=>{const d=ye(o);C.style[d]=""}),r()&&kt(C))}function Ft(C){return Array.isArray(C)?1==C.length?C[0]:(0,J.vP)(C):C}const St=new RegExp("{{\\s*(.+?)\\s*}}","g");function Re(C){let s=[];if("string"==typeof C){let o;for(;o=St.exec(C);)s.push(o[1]);St.lastIndex=0}return s}function I(C,s,o){const d=C.toString(),M=d.replace(St,(O,$)=>{let te=s[$];return s.hasOwnProperty($)||(o.push(`Please provide a value for the animation param ${$}`),te=""),te.toString()});return M==d?C:M}function U(C){const s=[];let o=C.next();for(;!o.done;)s.push(o.value),o=C.next();return s}const se=/-+([a-z0-9])/g;function ye(C){return C.replace(se,(...s)=>s[1].toUpperCase())}function Ae(C){return C.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ge(C,s){return 0===C||0===s}function tt(C,s,o){const d=Object.keys(o);if(d.length&&s.length){let O=s[0],$=[];if(d.forEach(te=>{O.hasOwnProperty(te)||$.push(te),O[te]=o[te]}),$.length)for(var M=1;M<s.length;M++){let te=s[M];$.forEach(function(fe){te[fe]=st(C,fe)})}}return s}function Xe(C,s,o){switch(s.type){case 7:return C.visitTrigger(s,o);case 0:return C.visitState(s,o);case 1:return C.visitTransition(s,o);case 2:return C.visitSequence(s,o);case 3:return C.visitGroup(s,o);case 4:return C.visitAnimate(s,o);case 5:return C.visitKeyframes(s,o);case 6:return C.visitStyle(s,o);case 8:return C.visitReference(s,o);case 9:return C.visitAnimateChild(s,o);case 10:return C.visitAnimateRef(s,o);case 11:return C.visitQuery(s,o);case 12:return C.visitStagger(s,o);default:throw new Error(`Unable to resolve animation metadata node #${s.type}`)}}function st(C,s){return window.getComputedStyle(C)[s]}function Et(C,s){const o=[];return"string"==typeof C?C.split(/\s*,\s*/).forEach(d=>function Ot(C,s,o){if(":"==C[0]){const fe=function Pt(C,s){switch(C){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,d)=>parseFloat(d)>parseFloat(o);case":decrement":return(o,d)=>parseFloat(d)<parseFloat(o);default:return s.push(`The transition alias value "${C}" is not supported`),"* => *"}}(C,o);if("function"==typeof fe)return void s.push(fe);C=fe}const d=C.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==d||d.length<4)return o.push(`The provided transition expression "${C}" is not supported`),s;const M=d[1],O=d[2],$=d[3];s.push(Nt(M,$));"<"==O[0]&&!("*"==M&&"*"==$)&&s.push(Nt($,M))}(d,o,s)):o.push(C),o}const Tt=new Set(["true","1"]),Yt=new Set(["false","0"]);function Nt(C,s){const o=Tt.has(C)||Yt.has(C),d=Tt.has(s)||Yt.has(s);return(M,O)=>{let $="*"==C||C==M,te="*"==s||s==O;return!$&&o&&"boolean"==typeof M&&($=M?Tt.has(C):Yt.has(C)),!te&&d&&"boolean"==typeof O&&(te=O?Tt.has(s):Yt.has(s)),$&&te}}const li=new RegExp("s*:selfs*,?","g");function L(C,s,o){return new h(C).build(s,o)}class h{constructor(s){this._driver=s}build(s,o){const d=new Y(o);return this._resetContextStyleTimingState(d),Xe(this,Ft(s),d)}_resetContextStyleTimingState(s){s.currentQuerySelector="",s.collectedStyles={},s.collectedStyles[""]={},s.currentTime=0}visitTrigger(s,o){let d=o.queryCount=0,M=o.depCount=0;const O=[],$=[];return"@"==s.name.charAt(0)&&o.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),s.definitions.forEach(te=>{if(this._resetContextStyleTimingState(o),0==te.type){const fe=te,ke=fe.name;ke.toString().split(/\s*,\s*/).forEach(He=>{fe.name=He,O.push(this.visitState(fe,o))}),fe.name=ke}else if(1==te.type){const fe=this.visitTransition(te,o);d+=fe.queryCount,M+=fe.depCount,$.push(fe)}else o.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:s.name,states:O,transitions:$,queryCount:d,depCount:M,options:null}}visitState(s,o){const d=this.visitStyle(s.styles,o),M=s.options&&s.options.params||null;if(d.containsDynamicStyles){const O=new Set,$=M||{};if(d.styles.forEach(te=>{if(j(te)){const fe=te;Object.keys(fe).forEach(ke=>{Re(fe[ke]).forEach(He=>{$.hasOwnProperty(He)||O.add(He)})})}}),O.size){const te=U(O.values());o.errors.push(`state("${s.name}", ...) must define default values for all the following style substitutions: ${te.join(", ")}`)}}return{type:0,name:s.name,style:d,options:M?{params:M}:null}}visitTransition(s,o){o.queryCount=0,o.depCount=0;const d=Xe(this,Ft(s.animation),o);return{type:1,matchers:Et(s.expr,o.errors),animation:d,queryCount:o.queryCount,depCount:o.depCount,options:W(s.options)}}visitSequence(s,o){return{type:2,steps:s.steps.map(d=>Xe(this,d,o)),options:W(s.options)}}visitGroup(s,o){const d=o.currentTime;let M=0;const O=s.steps.map($=>{o.currentTime=d;const te=Xe(this,$,o);return M=Math.max(M,o.currentTime),te});return o.currentTime=M,{type:3,steps:O,options:W(s.options)}}visitAnimate(s,o){const d=function G(C,s){let o=null;if(C.hasOwnProperty("duration"))o=C;else if("number"==typeof C)return ve(ne(C,s).duration,0,"");const d=C;if(d.split(/\s+/).some(O=>"{"==O.charAt(0)&&"{"==O.charAt(1))){const O=ve(0,0,"");return O.dynamic=!0,O.strValue=d,O}return o=o||ne(d,s),ve(o.duration,o.delay,o.easing)}(s.timings,o.errors);o.currentAnimateTimings=d;let M,O=s.styles?s.styles:(0,J.oB)({});if(5==O.type)M=this.visitKeyframes(O,o);else{let $=s.styles,te=!1;if(!$){te=!0;const ke={};d.easing&&(ke.easing=d.easing),$=(0,J.oB)(ke)}o.currentTime+=d.duration+d.delay;const fe=this.visitStyle($,o);fe.isEmptyStep=te,M=fe}return o.currentAnimateTimings=null,{type:4,timings:d,style:M,options:null}}visitStyle(s,o){const d=this._makeStyleAst(s,o);return this._validateStyleAst(d,o),d}_makeStyleAst(s,o){const d=[];Array.isArray(s.styles)?s.styles.forEach($=>{"string"==typeof $?$==J.l3?d.push($):o.errors.push(`The provided style string value ${$} is not allowed.`):d.push($)}):d.push(s.styles);let M=!1,O=null;return d.forEach($=>{if(j($)){const te=$,fe=te.easing;if(fe&&(O=fe,delete te.easing),!M)for(let ke in te)if(te[ke].toString().indexOf("{{")>=0){M=!0;break}}}),{type:6,styles:d,easing:O,offset:s.offset,containsDynamicStyles:M,options:null}}_validateStyleAst(s,o){const d=o.currentAnimateTimings;let M=o.currentTime,O=o.currentTime;d&&O>0&&(O-=d.duration+d.delay),s.styles.forEach($=>{"string"!=typeof $&&Object.keys($).forEach(te=>{if(!this._driver.validateStyleProperty(te))return void o.errors.push(`The provided animation property "${te}" is not a supported CSS property for animations`);const fe=o.collectedStyles[o.currentQuerySelector],ke=fe[te];let He=!0;ke&&(O!=M&&O>=ke.startTime&&M<=ke.endTime&&(o.errors.push(`The CSS property "${te}" that exists between the times of "${ke.startTime}ms" and "${ke.endTime}ms" is also being animated in a parallel animation between the times of "${O}ms" and "${M}ms"`),He=!1),O=ke.startTime),He&&(fe[te]={startTime:O,endTime:M}),o.options&&function yt(C,s,o){const d=s.params||{},M=Re(C);M.length&&M.forEach(O=>{d.hasOwnProperty(O)||o.push(`Unable to resolve the local animation param ${O} in the given list of values`)})}($[te],o.options,o.errors)})})}visitKeyframes(s,o){const d={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push("keyframes() must be placed inside of a call to animate()"),d;let O=0;const $=[];let te=!1,fe=!1,ke=0;const He=s.steps.map(jt=>{const Gt=this._makeStyleAst(jt,o);let di=null!=Gt.offset?Gt.offset:function ue(C){if("string"==typeof C)return null;let s=null;if(Array.isArray(C))C.forEach(o=>{if(j(o)&&o.hasOwnProperty("offset")){const d=o;s=parseFloat(d.offset),delete d.offset}});else if(j(C)&&C.hasOwnProperty("offset")){const o=C;s=parseFloat(o.offset),delete o.offset}return s}(Gt.styles),ti=0;return null!=di&&(O++,ti=Gt.offset=di),fe=fe||ti<0||ti>1,te=te||ti<ke,ke=ti,$.push(ti),Gt});fe&&o.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),te&&o.errors.push("Please ensure that all keyframe offsets are in order");const Je=s.steps.length;let mt=0;O>0&&O<Je?o.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==O&&(mt=1/(Je-1));const Mt=Je-1,at=o.currentTime,ut=o.currentAnimateTimings,Ct=ut.duration;return He.forEach((jt,Gt)=>{const di=mt>0?Gt==Mt?1:mt*Gt:$[Gt],ti=di*Ct;o.currentTime=at+ut.delay+ti,ut.duration=ti,this._validateStyleAst(jt,o),jt.offset=di,d.styles.push(jt)}),d}visitReference(s,o){return{type:8,animation:Xe(this,Ft(s.animation),o),options:W(s.options)}}visitAnimateChild(s,o){return o.depCount++,{type:9,options:W(s.options)}}visitAnimateRef(s,o){return{type:10,animation:this.visitReference(s.animation,o),options:W(s.options)}}visitQuery(s,o){const d=o.currentQuerySelector,M=s.options||{};o.queryCount++,o.currentQuery=s;const[O,$]=function b(C){const s=!!C.split(/\s*,\s*/).find(o=>":self"==o);return s&&(C=C.replace(li,"")),C=C.replace(/@\*/g,he).replace(/@\w+/g,o=>he+"-"+o.substr(1)).replace(/:animating/g,ie),[C,s]}(s.selector);o.currentQuerySelector=d.length?d+" "+O:O,P(o.collectedStyles,o.currentQuerySelector,{});const te=Xe(this,Ft(s.animation),o);return o.currentQuery=null,o.currentQuerySelector=d,{type:11,selector:O,limit:M.limit||0,optional:!!M.optional,includeSelf:$,animation:te,originalSelector:s.selector,options:W(s.options)}}visitStagger(s,o){o.currentQuery||o.errors.push("stagger() can only be used inside of query()");const d="full"===s.timings?{duration:0,delay:0,easing:"full"}:ne(s.timings,o.errors,!0);return{type:12,animation:Xe(this,Ft(s.animation),o),timings:d,options:null}}}class Y{constructor(s){this.errors=s,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function j(C){return!Array.isArray(C)&&"object"==typeof C}function W(C){return C?(C=Le(C)).params&&(C.params=function E(C){return C?Le(C):null}(C.params)):C={},C}function ve(C,s,o){return{duration:C,delay:s,easing:o}}function Ye(C,s,o,d,M,O,$=null,te=!1){return{type:1,element:C,keyframes:s,preStyleProps:o,postStyleProps:d,duration:M,delay:O,totalTime:M+O,easing:$,subTimeline:te}}class pt{constructor(){this._map=new Map}get(s){return this._map.get(s)||[]}append(s,o){let d=this._map.get(s);d||this._map.set(s,d=[]),d.push(...o)}has(s){return this._map.has(s)}clear(){this._map.clear()}}const Ht=new RegExp(":enter","g"),ee=new RegExp(":leave","g");function S(C,s,o,d,M,O={},$={},te,fe,ke=[]){return(new f).buildKeyframes(C,s,o,d,M,O,$,te,fe,ke)}class f{buildKeyframes(s,o,d,M,O,$,te,fe,ke,He=[]){ke=ke||new pt;const Je=new D(s,o,ke,M,O,He,[]);Je.options=fe,Je.currentTimeline.setStyles([$],null,Je.errors,fe),Xe(this,d,Je);const mt=Je.timelines.filter(Mt=>Mt.containsAnimation());if(mt.length&&Object.keys(te).length){const Mt=mt[mt.length-1];Mt.allowOnlyTimelineStyles()||Mt.setStyles([te],null,Je.errors,fe)}return mt.length?mt.map(Mt=>Mt.buildKeyframes()):[Ye(o,[],[],[],0,0,"",!1)]}visitTrigger(s,o){}visitState(s,o){}visitTransition(s,o){}visitAnimateChild(s,o){const d=o.subInstructions.get(o.element);if(d){const M=o.createSubContext(s.options),O=o.currentTimeline.currentTime,$=this._visitSubInstructions(d,M,M.options);O!=$&&o.transformIntoNewTimeline($)}o.previousNode=s}visitAnimateRef(s,o){const d=o.createSubContext(s.options);d.transformIntoNewTimeline(),this.visitReference(s.animation,d),o.transformIntoNewTimeline(d.currentTimeline.currentTime),o.previousNode=s}_visitSubInstructions(s,o,d){let O=o.currentTimeline.currentTime;const $=null!=d.duration?X(d.duration):null,te=null!=d.delay?X(d.delay):null;return 0!==$&&s.forEach(fe=>{const ke=o.appendInstructionToTimeline(fe,$,te);O=Math.max(O,ke.duration+ke.delay)}),O}visitReference(s,o){o.updateOptions(s.options,!0),Xe(this,s.animation,o),o.previousNode=s}visitSequence(s,o){const d=o.subContextCount;let M=o;const O=s.options;if(O&&(O.params||O.delay)&&(M=o.createSubContext(O),M.transformIntoNewTimeline(),null!=O.delay)){6==M.previousNode.type&&(M.currentTimeline.snapshotCurrentStyles(),M.previousNode=g);const $=X(O.delay);M.delayNextStep($)}s.steps.length&&(s.steps.forEach($=>Xe(this,$,M)),M.currentTimeline.applyStylesToKeyframe(),M.subContextCount>d&&M.transformIntoNewTimeline()),o.previousNode=s}visitGroup(s,o){const d=[];let M=o.currentTimeline.currentTime;const O=s.options&&s.options.delay?X(s.options.delay):0;s.steps.forEach($=>{const te=o.createSubContext(s.options);O&&te.delayNextStep(O),Xe(this,$,te),M=Math.max(M,te.currentTimeline.currentTime),d.push(te.currentTimeline)}),d.forEach($=>o.currentTimeline.mergeTimelineCollectedStyles($)),o.transformIntoNewTimeline(M),o.previousNode=s}_visitTiming(s,o){if(s.dynamic){const d=s.strValue;return ne(o.params?I(d,o.params,o.errors):d,o.errors)}return{duration:s.duration,delay:s.delay,easing:s.easing}}visitAnimate(s,o){const d=o.currentAnimateTimings=this._visitTiming(s.timings,o),M=o.currentTimeline;d.delay&&(o.incrementTime(d.delay),M.snapshotCurrentStyles());const O=s.style;5==O.type?this.visitKeyframes(O,o):(o.incrementTime(d.duration),this.visitStyle(O,o),M.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=s}visitStyle(s,o){const d=o.currentTimeline,M=o.currentAnimateTimings;!M&&d.getCurrentStyleProperties().length&&d.forwardFrame();const O=M&&M.easing||s.easing;s.isEmptyStep?d.applyEmptyStep(O):d.setStyles(s.styles,O,o.errors,o.options),o.previousNode=s}visitKeyframes(s,o){const d=o.currentAnimateTimings,M=o.currentTimeline.duration,O=d.duration,te=o.createSubContext().currentTimeline;te.easing=d.easing,s.styles.forEach(fe=>{te.forwardTime((fe.offset||0)*O),te.setStyles(fe.styles,fe.easing,o.errors,o.options),te.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(te),o.transformIntoNewTimeline(M+O),o.previousNode=s}visitQuery(s,o){const d=o.currentTimeline.currentTime,M=s.options||{},O=M.delay?X(M.delay):0;O&&(6===o.previousNode.type||0==d&&o.currentTimeline.getCurrentStyleProperties().length)&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=g);let $=d;const te=o.invokeQuery(s.selector,s.originalSelector,s.limit,s.includeSelf,!!M.optional,o.errors);o.currentQueryTotal=te.length;let fe=null;te.forEach((ke,He)=>{o.currentQueryIndex=He;const Je=o.createSubContext(s.options,ke);O&&Je.delayNextStep(O),ke===o.element&&(fe=Je.currentTimeline),Xe(this,s.animation,Je),Je.currentTimeline.applyStylesToKeyframe(),$=Math.max($,Je.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline($),fe&&(o.currentTimeline.mergeTimelineCollectedStyles(fe),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=s}visitStagger(s,o){const d=o.parentContext,M=o.currentTimeline,O=s.timings,$=Math.abs(O.duration),te=$*(o.currentQueryTotal-1);let fe=$*o.currentQueryIndex;switch(O.duration<0?"reverse":O.easing){case"reverse":fe=te-fe;break;case"full":fe=d.currentStaggerTime}const He=o.currentTimeline;fe&&He.delayNextStep(fe);const Je=He.currentTime;Xe(this,s.animation,o),o.previousNode=s,d.currentStaggerTime=M.currentTime-Je+(M.startTime-d.currentTimeline.startTime)}}const g={};class D{constructor(s,o,d,M,O,$,te,fe){this._driver=s,this.element=o,this.subInstructions=d,this._enterClassName=M,this._leaveClassName=O,this.errors=$,this.timelines=te,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=g,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=fe||new Z(this._driver,o,0),te.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(s,o){if(!s)return;const d=s;let M=this.options;null!=d.duration&&(M.duration=X(d.duration)),null!=d.delay&&(M.delay=X(d.delay));const O=d.params;if(O){let $=M.params;$||($=this.options.params={}),Object.keys(O).forEach(te=>{(!o||!$.hasOwnProperty(te))&&($[te]=I(O[te],$,this.errors))})}}_copyOptions(){const s={};if(this.options){const o=this.options.params;if(o){const d=s.params={};Object.keys(o).forEach(M=>{d[M]=o[M]})}}return s}createSubContext(s=null,o,d){const M=o||this.element,O=new D(this._driver,M,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(M,d||0));return O.previousNode=this.previousNode,O.currentAnimateTimings=this.currentAnimateTimings,O.options=this._copyOptions(),O.updateOptions(s),O.currentQueryIndex=this.currentQueryIndex,O.currentQueryTotal=this.currentQueryTotal,O.parentContext=this,this.subContextCount++,O}transformIntoNewTimeline(s){return this.previousNode=g,this.currentTimeline=this.currentTimeline.fork(this.element,s),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(s,o,d){const M={duration:o??s.duration,delay:this.currentTimeline.currentTime+(d??0)+s.delay,easing:""},O=new be(this._driver,s.element,s.keyframes,s.preStyleProps,s.postStyleProps,M,s.stretchStartingKeyframe);return this.timelines.push(O),M}incrementTime(s){this.currentTimeline.forwardTime(this.currentTimeline.duration+s)}delayNextStep(s){s>0&&this.currentTimeline.delayNextStep(s)}invokeQuery(s,o,d,M,O,$){let te=[];if(M&&te.push(this.element),s.length>0){s=(s=s.replace(Ht,"."+this._enterClassName)).replace(ee,"."+this._leaveClassName);let ke=this._driver.query(this.element,s,1!=d);0!==d&&(ke=d<0?ke.slice(ke.length+d,ke.length):ke.slice(0,d)),te.push(...ke)}return!O&&0==te.length&&$.push(`\`query("${o}")\` returned zero elements. (Use \`query("${o}", { optional: true })\` if you wish to allow this.)`),te}}class Z{constructor(s,o,d,M){this._driver=s,this.element=o,this.startTime=d,this._elementTimelineStylesLookup=M,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(s){const o=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||o?(this.forwardTime(this.currentTime+s),o&&this.snapshotCurrentStyles()):this.startTime+=s}fork(s,o){return this.applyStylesToKeyframe(),new Z(this._driver,s,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(s){this.applyStylesToKeyframe(),this.duration=s,this._loadKeyframe()}_updateStyle(s,o){this._localTimelineStyles[s]=o,this._globalTimelineStyles[s]=o,this._styleSummary[s]={time:this.currentTime,value:o}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(s){s&&(this._previousKeyframe.easing=s),Object.keys(this._globalTimelineStyles).forEach(o=>{this._backFill[o]=this._globalTimelineStyles[o]||J.l3,this._currentKeyframe[o]=J.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(s,o,d,M){o&&(this._previousKeyframe.easing=o);const O=M&&M.params||{},$=function et(C,s){const o={};let d;return C.forEach(M=>{"*"===M?(d=d||Object.keys(s),d.forEach(O=>{o[O]=J.l3})):Ze(M,!1,o)}),o}(s,this._globalTimelineStyles);Object.keys($).forEach(te=>{const fe=I($[te],O,d);this._pendingStyles[te]=fe,this._localTimelineStyles.hasOwnProperty(te)||(this._backFill[te]=this._globalTimelineStyles.hasOwnProperty(te)?this._globalTimelineStyles[te]:J.l3),this._updateStyle(te,fe)})}applyStylesToKeyframe(){const s=this._pendingStyles,o=Object.keys(s);0!=o.length&&(this._pendingStyles={},o.forEach(d=>{this._currentKeyframe[d]=s[d]}),Object.keys(this._localTimelineStyles).forEach(d=>{this._currentKeyframe.hasOwnProperty(d)||(this._currentKeyframe[d]=this._localTimelineStyles[d])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(s=>{const o=this._localTimelineStyles[s];this._pendingStyles[s]=o,this._updateStyle(s,o)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const s=[];for(let o in this._currentKeyframe)s.push(o);return s}mergeTimelineCollectedStyles(s){Object.keys(s._styleSummary).forEach(o=>{const d=this._styleSummary[o],M=s._styleSummary[o];(!d||M.time>d.time)&&this._updateStyle(o,M.value)})}buildKeyframes(){this.applyStylesToKeyframe();const s=new Set,o=new Set,d=1===this._keyframes.size&&0===this.duration;let M=[];this._keyframes.forEach((te,fe)=>{const ke=Ze(te,!0);Object.keys(ke).forEach(He=>{const Je=ke[He];Je==J.k1?s.add(He):Je==J.l3&&o.add(He)}),d||(ke.offset=fe/this.duration),M.push(ke)});const O=s.size?U(s.values()):[],$=o.size?U(o.values()):[];if(d){const te=M[0],fe=Le(te);te.offset=0,fe.offset=1,M=[te,fe]}return Ye(this.element,M,O,$,this.duration,this.startTime,this.easing,!1)}}class be extends Z{constructor(s,o,d,M,O,$,te=!1){super(s,o,$.delay),this.keyframes=d,this.preStyleProps=M,this.postStyleProps=O,this._stretchStartingKeyframe=te,this.timings={duration:$.duration,delay:$.delay,easing:$.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let s=this.keyframes,{delay:o,duration:d,easing:M}=this.timings;if(this._stretchStartingKeyframe&&o){const O=[],$=d+o,te=o/$,fe=Ze(s[0],!1);fe.offset=0,O.push(fe);const ke=Ze(s[0],!1);ke.offset=Ue(te),O.push(ke);const He=s.length-1;for(let Je=1;Je<=He;Je++){let mt=Ze(s[Je],!1);mt.offset=Ue((o+mt.offset*d)/$),O.push(mt)}d=$,o=0,M="",s=O}return Ye(this.element,s,this.preStyleProps,this.postStyleProps,d,o,M,!0)}}function Ue(C,s=3){const o=Math.pow(10,s-1);return Math.round(C*o)/o}class _t{}class Ut extends _t{normalizePropertyName(s,o){return ye(s)}normalizeStyleValue(s,o,d,M){let O="";const $=d.toString().trim();if(ri[o]&&0!==d&&"0"!==d)if("number"==typeof d)O="px";else{const te=d.match(/^[+-]?[\d\.]+([a-z]*)$/);te&&0==te[1].length&&M.push(`Please provide a CSS unit value for ${s}:${d}`)}return $+O}}const ri=(()=>function Mi(C){const s={};return C.forEach(o=>s[o]=!0),s}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function pi(C,s,o,d,M,O,$,te,fe,ke,He,Je,mt){return{type:0,element:C,triggerName:s,isRemovalTransition:M,fromState:o,fromStyles:O,toState:d,toStyles:$,timelines:te,queriedElements:fe,preStyleProps:ke,postStyleProps:He,totalTime:Je,errors:mt}}const Si={};class Oi{constructor(s,o,d){this._triggerName=s,this.ast=o,this._stateStyles=d}match(s,o,d,M){return function Ei(C,s,o,d,M){return C.some(O=>O(s,o,d,M))}(this.ast.matchers,s,o,d,M)}buildStyles(s,o,d){const M=this._stateStyles["*"],O=this._stateStyles[s],$=M?M.buildStyles(o,d):{};return O?O.buildStyles(o,d):$}build(s,o,d,M,O,$,te,fe,ke,He){const Je=[],mt=this.ast.options&&this.ast.options.params||Si,at=this.buildStyles(d,te&&te.params||Si,Je),ut=fe&&fe.params||Si,Ct=this.buildStyles(M,ut,Je),jt=new Set,Gt=new Map,di=new Map,ti="void"===M,bn={params:{...mt,...ut}},vi=He?[]:S(s,o,this.ast.animation,O,$,at,Ct,bn,ke,Je);let hi=0;if(vi.forEach(Di=>{hi=Math.max(Di.duration+Di.delay,hi)}),Je.length)return pi(o,this._triggerName,d,M,ti,at,Ct,[],[],Gt,di,hi,Je);vi.forEach(Di=>{const xi=Di.element,xr=P(Gt,xi,{});Di.preStyleProps.forEach(en=>xr[en]=!0);const Fn=P(di,xi,{});Di.postStyleProps.forEach(en=>Fn[en]=!0),xi!==o&&jt.add(xi)});const Ri=U(jt.values());return pi(o,this._triggerName,d,M,ti,at,Ct,vi,Ri,Gt,di,hi)}}class Ui{constructor(s,o,d){this.styles=s,this.defaultParams=o,this.normalizer=d}buildStyles(s,o){const d={},M=Le(this.defaultParams);return Object.keys(s).forEach(O=>{const $=s[O];null!=$&&(M[O]=$)}),this.styles.styles.forEach(O=>{if("string"!=typeof O){const $=O;Object.keys($).forEach(te=>{let fe=$[te];fe.length>1&&(fe=I(fe,M,o));const ke=this.normalizer.normalizePropertyName(te,o);fe=this.normalizer.normalizeStyleValue(te,ke,fe,o),d[ke]=fe})}}),d}}class Wi{constructor(s,o,d){this.name=s,this.ast=o,this._normalizer=d,this.transitionFactories=[],this.states={},o.states.forEach(M=>{this.states[M.name]=new Ui(M.style,M.options&&M.options.params||{},d)}),Ci(this.states,"true","1"),Ci(this.states,"false","0"),o.transitions.forEach(M=>{this.transitionFactories.push(new Oi(s,M,this.states))}),this.fallbackTransition=function Yi(C,s,o){return new Oi(C,{type:1,animation:{type:2,steps:[],options:null},matchers:[($,te)=>!0],options:null,queryCount:0,depCount:0},s)}(s,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(s,o,d,M){return this.transitionFactories.find($=>$.match(s,o,d,M))||null}matchStyles(s,o,d){return this.fallbackTransition.buildStyles(s,o,d)}}function Ci(C,s,o){C.hasOwnProperty(s)?C.hasOwnProperty(o)||(C[o]=C[s]):C.hasOwnProperty(o)&&(C[s]=C[o])}const mi=new pt;class ui{constructor(s,o,d){this.bodyNode=s,this._driver=o,this._normalizer=d,this._animations={},this._playersById={},this.players=[]}register(s,o){const d=[],M=L(this._driver,o,d);if(d.length)throw new Error(`Unable to build the animation due to the following errors: ${d.join("\n")}`);this._animations[s]=M}_buildPlayer(s,o,d){const M=s.element,O=_e(0,this._normalizer,0,s.keyframes,o,d);return this._driver.animate(M,O,s.duration,s.delay,s.easing,[],!0)}create(s,o,d={}){const M=[],O=this._animations[s];let $;const te=new Map;if(O?($=S(this._driver,o,O,le,me,{},{},d,mi,M),$.forEach(He=>{const Je=P(te,He.element,{});He.postStyleProps.forEach(mt=>Je[mt]=null)})):(M.push("The requested animation doesn't exist or has already been destroyed"),$=[]),M.length)throw new Error(`Unable to create the animation due to the following errors: ${M.join("\n")}`);te.forEach((He,Je)=>{Object.keys(He).forEach(mt=>{He[mt]=this._driver.computeStyle(Je,mt,J.l3)})});const ke=De($.map(He=>{const Je=te.get(He.element);return this._buildPlayer(He,{},Je)}));return this._playersById[s]=ke,ke.onDestroy(()=>this.destroy(s)),this.players.push(ke),ke}destroy(s){const o=this._getPlayer(s);o.destroy(),delete this._playersById[s];const d=this.players.indexOf(o);d>=0&&this.players.splice(d,1)}_getPlayer(s){const o=this._playersById[s];if(!o)throw new Error(`Unable to find the timeline player referenced by ${s}`);return o}listen(s,o,d,M){const O=xe(o,"","","");return Ie(this._getPlayer(s),d,O,M),()=>{}}command(s,o,d,M){if("register"==d)return void this.register(s,M[0]);if("create"==d)return void this.create(s,o,M[0]||{});const O=this._getPlayer(s);switch(d){case"play":O.play();break;case"pause":O.pause();break;case"reset":O.reset();break;case"restart":O.restart();break;case"finish":O.finish();break;case"init":O.init();break;case"setPosition":O.setPosition(parseFloat(M[0]));break;case"destroy":this.destroy(s)}}}const Ti="ng-animate-queued",ci="ng-animate-disabled",Zt=[],ln={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},cn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ei="__ng_removed";class ai{constructor(s,o=""){this.namespaceId=o;const d=s&&s.hasOwnProperty("value");if(this.value=function Cn(C){return C??null}(d?s.value:s),d){const O=Le(s);delete O.value,this.options=O}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(s){const o=s.params;if(o){const d=this.options.params;Object.keys(o).forEach(M=>{null==d[M]&&(d[M]=o[M])})}}}const Xt="void",bi=new ai(Xt);class Qi{constructor(s,o,d){this.id=s,this.hostElement=o,this._engine=d,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+s,qt(o,this._hostClassName)}listen(s,o,d,M){if(!this._triggers.hasOwnProperty(o))throw new Error(`Unable to listen on the animation trigger event "${d}" because the animation trigger "${o}" doesn't exist!`);if(null==d||0==d.length)throw new Error(`Unable to listen on the animation trigger "${o}" because the provided event is undefined!`);if(!function Zi(C){return"start"==C||"done"==C}(d))throw new Error(`The provided animation trigger event "${d}" for the animation trigger "${o}" is not supported!`);const O=P(this._elementListeners,s,[]),$={name:o,phase:d,callback:M};O.push($);const te=P(this._engine.statesByElement,s,{});return te.hasOwnProperty(o)||(qt(s,Ee),qt(s,Ee+"-"+o),te[o]=bi),()=>{this._engine.afterFlush(()=>{const fe=O.indexOf($);fe>=0&&O.splice(fe,1),this._triggers[o]||delete te[o]})}}register(s,o){return!this._triggers[s]&&(this._triggers[s]=o,!0)}_getTrigger(s){const o=this._triggers[s];if(!o)throw new Error(`The provided animation trigger "${s}" has not been registered!`);return o}trigger(s,o,d,M=!0){const O=this._getTrigger(o),$=new Pi(this.id,o,s);let te=this._engine.statesByElement.get(s);te||(qt(s,Ee),qt(s,Ee+"-"+o),this._engine.statesByElement.set(s,te={}));let fe=te[o];const ke=new ai(d,this.id);if(!(d&&d.hasOwnProperty("value"))&&fe&&ke.absorbOptions(fe.options),te[o]=ke,fe||(fe=bi),ke.value!==Xt&&fe.value===ke.value){if(!function F(C,s){const o=Object.keys(C),d=Object.keys(s);if(o.length!=d.length)return!1;for(let M=0;M<o.length;M++){const O=o[M];if(!s.hasOwnProperty(O)||C[O]!==s[O])return!1}return!0}(fe.params,ke.params)){const ut=[],Ct=O.matchStyles(fe.value,fe.params,ut),jt=O.matchStyles(ke.value,ke.params,ut);ut.length?this._engine.reportError(ut):this._engine.afterFlush(()=>{At(s,Ct),It(s,jt)})}return}const mt=P(this._engine.playersByElement,s,[]);mt.forEach(ut=>{ut.namespaceId==this.id&&ut.triggerName==o&&ut.queued&&ut.destroy()});let Mt=O.matchTransition(fe.value,ke.value,s,ke.params),at=!1;if(!Mt){if(!M)return;Mt=O.fallbackTransition,at=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:s,triggerName:o,transition:Mt,fromState:fe,toState:ke,player:$,isFallbackTransition:at}),at||(qt(s,Ti),$.onStart(()=>{gi(s,Ti)})),$.onDone(()=>{let ut=this.players.indexOf($);ut>=0&&this.players.splice(ut,1);const Ct=this._engine.playersByElement.get(s);if(Ct){let jt=Ct.indexOf($);jt>=0&&Ct.splice(jt,1)}}),this.players.push($),mt.push($),$}deregister(s){delete this._triggers[s],this._engine.statesByElement.forEach((o,d)=>{delete o[s]}),this._elementListeners.forEach((o,d)=>{this._elementListeners.set(d,o.filter(M=>M.name!=s))})}clearElementCache(s){this._engine.statesByElement.delete(s),this._elementListeners.delete(s);const o=this._engine.playersByElement.get(s);o&&(o.forEach(d=>d.destroy()),this._engine.playersByElement.delete(s))}_signalRemovalForInnerTriggers(s,o){const d=this._engine.driver.query(s,he,!0);d.forEach(M=>{if(M[ei])return;const O=this._engine.fetchNamespacesByElement(M);O.size?O.forEach($=>$.triggerLeaveAnimation(M,o,!1,!0)):this.clearElementCache(M)}),this._engine.afterFlushAnimationsDone(()=>d.forEach(M=>this.clearElementCache(M)))}triggerLeaveAnimation(s,o,d,M){const O=this._engine.statesByElement.get(s),$=new Map;if(O){const te=[];if(Object.keys(O).forEach(fe=>{if($.set(fe,O[fe].value),this._triggers[fe]){const ke=this.trigger(s,fe,Xt,M);ke&&te.push(ke)}}),te.length)return this._engine.markElementAsRemoved(this.id,s,!0,o,$),d&&De(te).onDone(()=>this._engine.processLeaveNode(s)),!0}return!1}prepareLeaveAnimationListeners(s){const o=this._elementListeners.get(s),d=this._engine.statesByElement.get(s);if(o&&d){const M=new Set;o.forEach(O=>{const $=O.name;if(M.has($))return;M.add($);const fe=this._triggers[$].fallbackTransition,ke=d[$]||bi,He=new ai(Xt),Je=new Pi(this.id,$,s);this._engine.totalQueuedPlayers++,this._queue.push({element:s,triggerName:$,transition:fe,fromState:ke,toState:He,player:Je,isFallbackTransition:!0})})}}removeNode(s,o){const d=this._engine;if(s.childElementCount&&this._signalRemovalForInnerTriggers(s,o),this.triggerLeaveAnimation(s,o,!0))return;let M=!1;if(d.totalAnimations){const O=d.players.length?d.playersByQueriedElement.get(s):[];if(O&&O.length)M=!0;else{let $=s;for(;$=$.parentNode;)if(d.statesByElement.get($)){M=!0;break}}}if(this.prepareLeaveAnimationListeners(s),M)d.markElementAsRemoved(this.id,s,!1,o);else{const O=s[ei];(!O||O===ln)&&(d.afterFlush(()=>this.clearElementCache(s)),d.destroyInnerAnimations(s),d._onRemovalComplete(s,o))}}insertNode(s,o){qt(s,this._hostClassName)}drainQueuedTransitions(s){const o=[];return this._queue.forEach(d=>{const M=d.player;if(M.destroyed)return;const O=d.element,$=this._elementListeners.get(O);$&&$.forEach(te=>{if(te.name==d.triggerName){const fe=xe(O,d.triggerName,d.fromState.value,d.toState.value);fe._data=s,Ie(d.player,te.phase,fe,te.callback)}}),M.markedForDestroy?this._engine.afterFlush(()=>{M.destroy()}):o.push(d)}),this._queue=[],o.sort((d,M)=>{const O=d.transition.ast.depCount,$=M.transition.ast.depCount;return 0==O||0==$?O-$:this._engine.driver.containsElement(d.element,M.element)?1:-1})}destroy(s){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,s)}elementContainsData(s){let o=!1;return this._elementListeners.has(s)&&(o=!0),o=!!this._queue.find(d=>d.element===s)||o,o}}class Ki{constructor(s,o,d){this.bodyNode=s,this.driver=o,this._normalizer=d,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(M,O)=>{}}_onRemovalComplete(s,o){this.onRemovalComplete(s,o)}get queuedPlayers(){const s=[];return this._namespaceList.forEach(o=>{o.players.forEach(d=>{d.queued&&s.push(d)})}),s}createNamespace(s,o){const d=new Qi(s,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(d,o):(this.newHostElements.set(o,d),this.collectEnterElement(o)),this._namespaceLookup[s]=d}_balanceNamespaceList(s,o){const d=this._namespaceList.length-1;if(d>=0){let M=!1;for(let O=d;O>=0;O--)if(this.driver.containsElement(this._namespaceList[O].hostElement,o)){this._namespaceList.splice(O+1,0,s),M=!0;break}M||this._namespaceList.splice(0,0,s)}else this._namespaceList.push(s);return this.namespacesByHostElement.set(o,s),s}register(s,o){let d=this._namespaceLookup[s];return d||(d=this.createNamespace(s,o)),d}registerTrigger(s,o,d){let M=this._namespaceLookup[s];M&&M.register(o,d)&&this.totalAnimations++}destroy(s,o){if(!s)return;const d=this._fetchNamespace(s);this.afterFlush(()=>{this.namespacesByHostElement.delete(d.hostElement),delete this._namespaceLookup[s];const M=this._namespaceList.indexOf(d);M>=0&&this._namespaceList.splice(M,1)}),this.afterFlushAnimationsDone(()=>d.destroy(o))}_fetchNamespace(s){return this._namespaceLookup[s]}fetchNamespacesByElement(s){const o=new Set,d=this.statesByElement.get(s);if(d){const M=Object.keys(d);for(let O=0;O<M.length;O++){const $=d[M[O]].namespaceId;if($){const te=this._fetchNamespace($);te&&o.add(te)}}}return o}trigger(s,o,d,M){if(Fi(o)){const O=this._fetchNamespace(s);if(O)return O.trigger(o,d,M),!0}return!1}insertNode(s,o,d,M){if(!Fi(o))return;const O=o[ei];if(O&&O.setForRemoval){O.setForRemoval=!1,O.setForMove=!0;const $=this.collectedLeaveElements.indexOf(o);$>=0&&this.collectedLeaveElements.splice($,1)}if(s){const $=this._fetchNamespace(s);$&&$.insertNode(o,d)}M&&this.collectEnterElement(o)}collectEnterElement(s){this.collectedEnterElements.push(s)}markElementAsDisabled(s,o){o?this.disabledNodes.has(s)||(this.disabledNodes.add(s),qt(s,ci)):this.disabledNodes.has(s)&&(this.disabledNodes.delete(s),gi(s,ci))}removeNode(s,o,d,M){if(Fi(o)){const O=s?this._fetchNamespace(s):null;if(O?O.removeNode(o,M):this.markElementAsRemoved(s,o,!1,M),d){const $=this.namespacesByHostElement.get(o);$&&$.id!==s&&$.removeNode(o,M)}}else this._onRemovalComplete(o,M)}markElementAsRemoved(s,o,d,M,O){this.collectedLeaveElements.push(o),o[ei]={namespaceId:s,setForRemoval:M,hasAnimation:d,removedBeforeQueried:!1,previousTriggersValues:O}}listen(s,o,d,M,O){return Fi(o)?this._fetchNamespace(s).listen(o,d,M,O):()=>{}}_buildInstruction(s,o,d,M,O){return s.transition.build(this.driver,s.element,s.fromState.value,s.toState.value,d,M,s.fromState.options,s.toState.options,o,O)}destroyInnerAnimations(s){let o=this.driver.query(s,he,!0);o.forEach(d=>this.destroyActiveAnimationsForElement(d)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(s,ie,!0),o.forEach(d=>this.finishActiveQueriedAnimationOnElement(d)))}destroyActiveAnimationsForElement(s){const o=this.playersByElement.get(s);o&&o.forEach(d=>{d.queued?d.markedForDestroy=!0:d.destroy()})}finishActiveQueriedAnimationOnElement(s){const o=this.playersByQueriedElement.get(s);o&&o.forEach(d=>d.finish())}whenRenderingDone(){return new Promise(s=>{if(this.players.length)return De(this.players).onDone(()=>s());s()})}processLeaveNode(s){const o=s[ei];if(o&&o.setForRemoval){if(s[ei]=ln,o.namespaceId){this.destroyInnerAnimations(s);const d=this._fetchNamespace(o.namespaceId);d&&d.clearElementCache(s)}this._onRemovalComplete(s,o.setForRemoval)}s.classList?.contains(ci)&&this.markElementAsDisabled(s,!1),this.driver.query(s,".ng-animate-disabled",!0).forEach(d=>{this.markElementAsDisabled(d,!1)})}flush(s=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((d,M)=>this._balanceNamespaceList(d,M)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let d=0;d<this.collectedEnterElements.length;d++)qt(this.collectedEnterElements[d],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const d=[];try{o=this._flushAnimations(d,s)}finally{for(let M=0;M<d.length;M++)d[M]()}}else for(let d=0;d<this.collectedLeaveElements.length;d++)this.processLeaveNode(this.collectedLeaveElements[d]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(d=>d()),this._flushFns=[],this._whenQuietFns.length){const d=this._whenQuietFns;this._whenQuietFns=[],o.length?De(o).onDone(()=>{d.forEach(M=>M())}):d.forEach(M=>M())}}reportError(s){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${s.join("\n")}`)}_flushAnimations(s,o){const d=new pt,M=[],O=new Map,$=[],te=new Map,fe=new Map,ke=new Map,He=new Set;this.disabledNodes.forEach(qe=>{He.add(qe);const nt=this.driver.query(qe,".ng-animate-queued",!0);for(let ct=0;ct<nt.length;ct++)He.add(nt[ct])});const Je=this.bodyNode,mt=Array.from(this.statesByElement.keys()),Mt=hn(mt,this.collectedEnterElements),at=new Map;let ut=0;Mt.forEach((qe,nt)=>{const ct=le+ut++;at.set(nt,ct),qe.forEach(wt=>qt(wt,ct))});const Ct=[],jt=new Set,Gt=new Set;for(let qe=0;qe<this.collectedLeaveElements.length;qe++){const nt=this.collectedLeaveElements[qe],ct=nt[ei];ct&&ct.setForRemoval&&(Ct.push(nt),jt.add(nt),ct.hasAnimation?this.driver.query(nt,".ng-star-inserted",!0).forEach(wt=>jt.add(wt)):Gt.add(nt))}const di=new Map,ti=hn(mt,Array.from(jt));ti.forEach((qe,nt)=>{const ct=me+ut++;di.set(nt,ct),qe.forEach(wt=>qt(wt,ct))}),s.push(()=>{Mt.forEach((qe,nt)=>{const ct=at.get(nt);qe.forEach(wt=>gi(wt,ct))}),ti.forEach((qe,nt)=>{const ct=di.get(nt);qe.forEach(wt=>gi(wt,ct))}),Ct.forEach(qe=>{this.processLeaveNode(qe)})});const bn=[],vi=[];for(let qe=this._namespaceList.length-1;qe>=0;qe--)this._namespaceList[qe].drainQueuedTransitions(o).forEach(ct=>{const wt=ct.player,Jt=ct.element;if(bn.push(wt),this.collectedEnterElements.length){const oi=Jt[ei];if(oi&&oi.setForMove){if(oi.previousTriggersValues&&oi.previousTriggersValues.has(ct.triggerName)){const tn=oi.previousTriggersValues.get(ct.triggerName),Bi=this.statesByElement.get(ct.element);Bi&&Bi[ct.triggerName]&&(Bi[ct.triggerName].value=tn)}return void wt.destroy()}}const wi=!Je||!this.driver.containsElement(Je,Jt),_i=di.get(Jt),Ni=at.get(Jt),zt=this._buildInstruction(ct,d,Ni,_i,wi);if(zt.errors&&zt.errors.length)return void vi.push(zt);if(wi)return wt.onStart(()=>At(Jt,zt.fromStyles)),wt.onDestroy(()=>It(Jt,zt.toStyles)),void M.push(wt);if(ct.isFallbackTransition)return wt.onStart(()=>At(Jt,zt.fromStyles)),wt.onDestroy(()=>It(Jt,zt.toStyles)),void M.push(wt);const Er=[];zt.timelines.forEach(oi=>{oi.stretchStartingKeyframe=!0,this.disabledNodes.has(oi.element)||Er.push(oi)}),zt.timelines=Er,d.append(Jt,zt.timelines),$.push({instruction:zt,player:wt,element:Jt}),zt.queriedElements.forEach(oi=>P(te,oi,[]).push(wt)),zt.preStyleProps.forEach((oi,tn)=>{const Bi=Object.keys(oi);if(Bi.length){let nn=fe.get(tn);nn||fe.set(tn,nn=new Set),Bi.forEach(rr=>nn.add(rr))}}),zt.postStyleProps.forEach((oi,tn)=>{const Bi=Object.keys(oi);let nn=ke.get(tn);nn||ke.set(tn,nn=new Set),Bi.forEach(rr=>nn.add(rr))})});if(vi.length){const qe=[];vi.forEach(nt=>{qe.push(`@${nt.triggerName} has failed due to:\n`),nt.errors.forEach(ct=>qe.push(`- ${ct}\n`))}),bn.forEach(nt=>nt.destroy()),this.reportError(qe)}const hi=new Map,Ri=new Map;$.forEach(qe=>{const nt=qe.element;d.has(nt)&&(Ri.set(nt,nt),this._beforeAnimationBuild(qe.player.namespaceId,qe.instruction,hi))}),M.forEach(qe=>{const nt=qe.element;this._getPreviousPlayers(nt,!1,qe.namespaceId,qe.triggerName,null).forEach(wt=>{P(hi,nt,[]).push(wt),wt.destroy()})});const Di=Ct.filter(qe=>q(qe,fe,ke)),xi=new Map;qi(xi,this.driver,Gt,ke,J.l3).forEach(qe=>{q(qe,fe,ke)&&Di.push(qe)});const Fn=new Map;Mt.forEach((qe,nt)=>{qi(Fn,this.driver,new Set(qe),fe,J.k1)}),Di.forEach(qe=>{const nt=xi.get(qe),ct=Fn.get(qe);xi.set(qe,{...nt,...ct})});const en=[],wr=[],Sr={};$.forEach(qe=>{const{element:nt,player:ct,instruction:wt}=qe;if(d.has(nt)){if(He.has(nt))return ct.onDestroy(()=>It(nt,wt.toStyles)),ct.disabled=!0,ct.overrideTotalTime(wt.totalTime),void M.push(ct);let Jt=Sr;if(Ri.size>1){let _i=nt;const Ni=[];for(;_i=_i.parentNode;){const zt=Ri.get(_i);if(zt){Jt=zt;break}Ni.push(_i)}Ni.forEach(zt=>Ri.set(zt,Jt))}const wi=this._buildAnimation(ct.namespaceId,wt,hi,O,Fn,xi);if(ct.setRealPlayer(wi),Jt===Sr)en.push(ct);else{const _i=this.playersByElement.get(Jt);_i&&_i.length&&(ct.parentPlayer=De(_i)),M.push(ct)}}else At(nt,wt.fromStyles),ct.onDestroy(()=>It(nt,wt.toStyles)),wr.push(ct),He.has(nt)&&M.push(ct)}),wr.forEach(qe=>{const nt=O.get(qe.element);if(nt&&nt.length){const ct=De(nt);qe.setRealPlayer(ct)}}),M.forEach(qe=>{qe.parentPlayer?qe.syncPlayerEvents(qe.parentPlayer):qe.destroy()});for(let qe=0;qe<Ct.length;qe++){const nt=Ct[qe],ct=nt[ei];if(gi(nt,me),ct&&ct.hasAnimation)continue;let wt=[];if(te.size){let wi=te.get(nt);wi&&wi.length&&wt.push(...wi);let _i=this.driver.query(nt,ie,!0);for(let Ni=0;Ni<_i.length;Ni++){let zt=te.get(_i[Ni]);zt&&zt.length&&wt.push(...zt)}}const Jt=wt.filter(wi=>!wi.destroyed);Jt.length?un(this,nt,Jt):this.processLeaveNode(nt)}return Ct.length=0,en.forEach(qe=>{this.players.push(qe),qe.onDone(()=>{qe.destroy();const nt=this.players.indexOf(qe);this.players.splice(nt,1)}),qe.play()}),en}elementContainsData(s,o){let d=!1;const M=o[ei];return M&&M.setForRemoval&&(d=!0),this.playersByElement.has(o)&&(d=!0),this.playersByQueriedElement.has(o)&&(d=!0),this.statesByElement.has(o)&&(d=!0),this._fetchNamespace(s).elementContainsData(o)||d}afterFlush(s){this._flushFns.push(s)}afterFlushAnimationsDone(s){this._whenQuietFns.push(s)}_getPreviousPlayers(s,o,d,M,O){let $=[];if(o){const te=this.playersByQueriedElement.get(s);te&&($=te)}else{const te=this.playersByElement.get(s);if(te){const fe=!O||O==Xt;te.forEach(ke=>{ke.queued||!fe&&ke.triggerName!=M||$.push(ke)})}}return(d||M)&&($=$.filter(te=>!(d&&d!=te.namespaceId||M&&M!=te.triggerName))),$}_beforeAnimationBuild(s,o,d){const O=o.element,$=o.isRemovalTransition?void 0:s,te=o.isRemovalTransition?void 0:o.triggerName;for(const fe of o.timelines){const ke=fe.element,He=ke!==O,Je=P(d,ke,[]);this._getPreviousPlayers(ke,He,$,te,o.toState).forEach(Mt=>{const at=Mt.getRealPlayer();at.beforeDestroy&&at.beforeDestroy(),Mt.destroy(),Je.push(Mt)})}At(O,o.fromStyles)}_buildAnimation(s,o,d,M,O,$){const te=o.triggerName,fe=o.element,ke=[],He=new Set,Je=new Set,mt=o.timelines.map(at=>{const ut=at.element;He.add(ut);const Ct=ut[ei];if(Ct&&Ct.removedBeforeQueried)return new J.ZN(at.duration,at.delay);const jt=ut!==fe,Gt=function x(C){const s=[];return re(C,s),s}((d.get(ut)||Zt).map(hi=>hi.getRealPlayer())).filter(hi=>!!hi.element&&hi.element===ut),di=O.get(ut),ti=$.get(ut),bn=_e(0,this._normalizer,0,at.keyframes,di,ti),vi=this._buildPlayer(at,bn,Gt);if(at.subTimeline&&M&&Je.add(ut),jt){const hi=new Pi(s,te,ut);hi.setRealPlayer(vi),ke.push(hi)}return vi});ke.forEach(at=>{P(this.playersByQueriedElement,at.element,[]).push(at),at.onDone(()=>function Xi(C,s,o){let d;if(C instanceof Map){if(d=C.get(s),d){if(d.length){const M=d.indexOf(o);d.splice(M,1)}0==d.length&&C.delete(s)}}else if(d=C[s],d){if(d.length){const M=d.indexOf(o);d.splice(M,1)}0==d.length&&delete C[s]}return d}(this.playersByQueriedElement,at.element,at))}),He.forEach(at=>qt(at,je));const Mt=De(mt);return Mt.onDestroy(()=>{He.forEach(at=>gi(at,je)),It(fe,o.toStyles)}),Je.forEach(at=>{P(M,at,[]).push(Mt)}),Mt}_buildPlayer(s,o,d){return o.length>0?this.driver.animate(s.element,o,s.duration,s.delay,s.easing,d):new J.ZN(s.duration,s.delay)}}class Pi{constructor(s,o,d){this.namespaceId=s,this.triggerName=o,this.element=d,this._player=new J.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(s){this._containsRealPlayer||(this._player=s,Object.keys(this._queuedCallbacks).forEach(o=>{this._queuedCallbacks[o].forEach(d=>Ie(s,o,void 0,d))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(s.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(s){this.totalTime=s}syncPlayerEvents(s){const o=this._player;o.triggerCallback&&s.onStart(()=>o.triggerCallback("start")),s.onDone(()=>this.finish()),s.onDestroy(()=>this.destroy())}_queueEvent(s,o){P(this._queuedCallbacks,s,[]).push(o)}onDone(s){this.queued&&this._queueEvent("done",s),this._player.onDone(s)}onStart(s){this.queued&&this._queueEvent("start",s),this._player.onStart(s)}onDestroy(s){this.queued&&this._queueEvent("destroy",s),this._player.onDestroy(s)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(s){this.queued||this._player.setPosition(s)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(s){const o=this._player;o.triggerCallback&&o.triggerCallback(s)}}function Fi(C){return C&&1===C.nodeType}function dn(C,s){const o=C.style.display;return C.style.display=s??"none",o}function qi(C,s,o,d,M){const O=[];o.forEach(fe=>O.push(dn(fe)));const $=[];d.forEach((fe,ke)=>{const He={};fe.forEach(Je=>{const mt=He[Je]=s.computeStyle(ke,Je,M);(!mt||0==mt.length)&&(ke[ei]=cn,$.push(ke))}),C.set(ke,He)});let te=0;return o.forEach(fe=>dn(fe,O[te++])),$}function hn(C,s){const o=new Map;if(C.forEach(te=>o.set(te,[])),0==s.length)return o;const M=new Set(s),O=new Map;function $(te){if(!te)return 1;let fe=O.get(te);if(fe)return fe;const ke=te.parentNode;return fe=o.has(ke)?ke:M.has(ke)?1:$(ke),O.set(te,fe),fe}return s.forEach(te=>{const fe=$(te);1!==fe&&o.get(fe).push(te)}),o}function qt(C,s){C.classList?.add(s)}function gi(C,s){C.classList?.remove(s)}function un(C,s,o){De(o).onDone(()=>C.processLeaveNode(s))}function re(C,s){for(let o=0;o<C.length;o++){const d=C[o];d instanceof J.ZE?re(d.players,s):s.push(d)}}function q(C,s,o){const d=o.get(C);if(!d)return!1;let M=s.get(C);return M?d.forEach(O=>M.add(O)):s.set(C,d),o.delete(C),!0}class Me{constructor(s,o,d){this.bodyNode=s,this._driver=o,this._normalizer=d,this._triggerCache={},this.onRemovalComplete=(M,O)=>{},this._transitionEngine=new Ki(s,o,d),this._timelineEngine=new ui(s,o,d),this._transitionEngine.onRemovalComplete=(M,O)=>this.onRemovalComplete(M,O)}registerTrigger(s,o,d,M,O){const $=s+"-"+M;let te=this._triggerCache[$];if(!te){const fe=[],ke=L(this._driver,O,fe);if(fe.length)throw new Error(`The animation trigger "${M}" has failed to build due to the following errors:\n - ${fe.join("\n - ")}`);te=function Gi(C,s,o){return new Wi(C,s,o)}(M,ke,this._normalizer),this._triggerCache[$]=te}this._transitionEngine.registerTrigger(o,M,te)}register(s,o){this._transitionEngine.register(s,o)}destroy(s,o){this._transitionEngine.destroy(s,o)}onInsert(s,o,d,M){this._transitionEngine.insertNode(s,o,d,M)}onRemove(s,o,d,M){this._transitionEngine.removeNode(s,o,M||!1,d)}disableAnimations(s,o){this._transitionEngine.markElementAsDisabled(s,o)}process(s,o,d,M){if("@"==d.charAt(0)){const[O,$]=z(d);this._timelineEngine.command(O,o,$,M)}else this._transitionEngine.trigger(s,o,d,M)}listen(s,o,d,M,O){if("@"==d.charAt(0)){const[$,te]=z(d);return this._timelineEngine.listen($,o,te,O)}return this._transitionEngine.listen(s,o,d,M,O)}flush(s=-1){this._transitionEngine.flush(s)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Ne(C,s){let o=null,d=null;return Array.isArray(s)&&s.length?(o=rt(s[0]),s.length>1&&(d=rt(s[s.length-1]))):s&&(o=rt(s)),o||d?new $e(C,o,d):null}let $e=(()=>{class C{constructor(o,d,M){this._element=o,this._startStyles=d,this._endStyles=M,this._state=0;let O=C.initialStylesByElement.get(o);O||C.initialStylesByElement.set(o,O={}),this._initialStyles=O}start(){this._state<1&&(this._startStyles&&It(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(It(this._element,this._initialStyles),this._endStyles&&(It(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(C.initialStylesByElement.delete(this._element),this._startStyles&&(At(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(At(this._element,this._endStyles),this._endStyles=null),It(this._element,this._initialStyles),this._state=3)}}return C.initialStylesByElement=new WeakMap,C})();function rt(C){let s=null;const o=Object.keys(C);for(let d=0;d<o.length;d++){const M=o[d];dt(M)&&(s=s||{},s[M]=C[M])}return s}function dt(C){return"display"===C||"position"===C}const ft="animation",$t="animationend";class Bt{constructor(s,o,d,M,O,$,te){this._element=s,this._name=o,this._duration=d,this._delay=M,this._easing=O,this._fillMode=$,this._onDoneFn=te,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=fe=>this._handleCallback(fe)}apply(){(function zn(C,s){const o=mn(C,"").trim();let d=0;o.length&&(d=function Hn(C,s){let o=0;for(let d=0;d<C.length;d++)C.charAt(d)===s&&o++;return o}(o,",")+1,s=`${o}, ${s}`),Ii(C,"",s)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),pn(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){fi(this._element,this._name,"paused")}resume(){fi(this._element,this._name,"running")}setPosition(s){const o=xn(this._element,this._name);this._position=s*this._duration,Ii(this._element,"Delay",`-${this._position}ms`,o)}getPosition(){return this._position}_handleCallback(s){const o=s._ngTestManualTimestamp||Date.now(),d=1e3*parseFloat(s.elapsedTime.toFixed(3));s.animationName==this._name&&Math.max(o-this._startTime,0)>=this._delay&&d>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),pn(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function Dn(C,s){const d=mn(C,"").split(","),M=wn(d,s);M>=0&&(d.splice(M,1),Ii(C,"",d.join(",")))}(this._element,this._name))}}function fi(C,s,o){Ii(C,"PlayState",o,xn(C,s))}function xn(C,s){const o=mn(C,"");return o.indexOf(",")>0?wn(o.split(","),s):wn([o],s)}function wn(C,s){for(let o=0;o<C.length;o++)if(C[o].indexOf(s)>=0)return o;return-1}function pn(C,s,o){o?C.removeEventListener($t,s):C.addEventListener($t,s)}function Ii(C,s,o,d){const M=ft+s;if(null!=d){const O=C.style[M];if(O.length){const $=O.split(",");$[d]=o,o=$.join(",")}}C.style[M]=o}function mn(C,s){return C.style[ft+s]||""}class Sn{constructor(s,o,d,M,O,$,te,fe){this.element=s,this.keyframes=o,this.animationName=d,this._duration=M,this._delay=O,this._finalStyles=te,this._specialStyles=fe,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=$||"linear",this.totalTime=M+O,this._buildStyler()}onStart(s){this._onStartFns.push(s)}onDone(s){this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(s=>s()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(s=>s()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(s){this._styler.setPosition(s)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Bt(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(s){const o="start"==s?this._onStartFns:this._onDoneFns;o.forEach(d=>d()),o.length=0}beforeDestroy(){this.init();const s={};if(this.hasStarted()){const o=this._state>=3;Object.keys(this._finalStyles).forEach(d=>{"offset"!=d&&(s[d]=o?this._finalStyles[d]:st(this.element,d))})}this.currentSnapshot=s}}class tr extends J.ZN{constructor(s,o){super(),this.element=s,this._startingStyles={},this.__initialized=!1,this._styles=Pe(o)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(s=>{this._startingStyles[s]=this.element.style[s]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(s=>this.element.style.setProperty(s,this._styles[s])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(s=>{const o=this._startingStyles[s];o?this.element.style.setProperty(s,o):this.element.style.removeProperty(s)}),this._startingStyles=null,super.destroy())}}class Wn{constructor(){this._count=0}validateStyleProperty(s){return Oe(s)}matchesElement(s,o){return!1}containsElement(s,o){return Ve(s,o)}query(s,o,d){return ce(s,o,d)}computeStyle(s,o,d){return window.getComputedStyle(s)[o]}buildKeyframeElement(s,o,d){d=d.map(te=>Pe(te));let M=`@keyframes ${o} {\n`,O="";d.forEach(te=>{O=" ";const fe=parseFloat(te.offset);M+=`${O}${100*fe}% {\n`,O+=" ",Object.keys(te).forEach(ke=>{const He=te[ke];switch(ke){case"offset":return;case"easing":return void(He&&(M+=`${O}animation-timing-function: ${He};\n`));default:return void(M+=`${O}${ke}: ${He};\n`)}}),M+=`${O}}\n`}),M+="}\n";const $=document.createElement("style");return $.textContent=M,$}animate(s,o,d,M,O,$=[],te){const fe=$.filter(Ct=>Ct instanceof Sn),ke={};Ge(d,M)&&fe.forEach(Ct=>{let jt=Ct.currentSnapshot;Object.keys(jt).forEach(Gt=>ke[Gt]=jt[Gt])});const He=function Tn(C){let s={};return C&&(Array.isArray(C)?C:[C]).forEach(d=>{Object.keys(d).forEach(M=>{"offset"==M||"easing"==M||(s[M]=d[M])})}),s}(o=tt(s,o,ke));if(0==d)return new tr(s,He);const Je="gen_css_kf_"+this._count++,mt=this.buildKeyframeElement(s,Je,o);(function En(C){const s=C.getRootNode?.();return"undefined"!=typeof ShadowRoot&&s instanceof ShadowRoot?s:document.head})(s).appendChild(mt);const at=Ne(s,o),ut=new Sn(s,o,Je,d,M,O,He,at);return ut.onDestroy(()=>function ir(C){C.parentNode.removeChild(C)}(mt)),ut}}class gn{constructor(s,o,d,M){this.element=s,this.keyframes=o,this.options=d,this._specialStyles=M,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=d.duration,this._delay=d.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(s=>s()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const s=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,s,this.options),this._finalKeyframe=s.length?s[s.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(s,o,d){return s.animate(o,d)}onStart(s){this._onStartFns.push(s)}onDone(s){this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(s=>s()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}setPosition(s){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=s*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const s={};if(this.hasStarted()){const o=this._finalKeyframe;Object.keys(o).forEach(d=>{"offset"!=d&&(s[d]=this._finished?o[d]:st(this.element,d))})}this.currentSnapshot=s}triggerCallback(s){const o="start"==s?this._onStartFns:this._onDoneFns;o.forEach(d=>d()),o.length=0}}class Yn{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(In().toString()),this._cssKeyframesDriver=new Wn}validateStyleProperty(s){return Oe(s)}matchesElement(s,o){return!1}containsElement(s,o){return Ve(s,o)}query(s,o,d){return ce(s,o,d)}computeStyle(s,o,d){return window.getComputedStyle(s)[o]}overrideWebAnimationsSupport(s){this._isNativeImpl=s}animate(s,o,d,M,O,$=[],te){if(!te&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(s,o,d,M,O,$);const He={duration:d,delay:M,fill:0==M?"both":"forwards"};O&&(He.easing=O);const Je={},mt=$.filter(at=>at instanceof gn);Ge(d,M)&&mt.forEach(at=>{let ut=at.currentSnapshot;Object.keys(ut).forEach(Ct=>Je[Ct]=ut[Ct])});const Mt=Ne(s,o=tt(s,o=o.map(at=>Ze(at,!1)),Je));return new gn(s,o,He,Mt)}}function In(){return Q()&&Element.prototype.animate||{}}var Rn=R(3192);let Mr=(()=>{class C extends J._j{constructor(o,d){super(),this._nextAnimationId=0,this._renderer=o.createRenderer(d.body,{id:"0",encapsulation:l.ViewEncapsulation.None,styles:[],data:{animation:[]}})}build(o){const d=this._nextAnimationId.toString();this._nextAnimationId++;const M=Array.isArray(o)?(0,J.vP)(o):o;return An(this._renderer,null,d,"register",[M]),new Cr(d,this._renderer)}}return C.\u0275fac=function(o){return new(o||C)(l.\u0275\u0275inject(l.RendererFactory2),l.\u0275\u0275inject(Rn.DOCUMENT))},C.\u0275prov=l.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac}),C})();class Cr extends J.LC{constructor(s,o){super(),this._id=s,this._renderer=o}create(s,o){return new Dr(this._id,s,o||{},this._renderer)}}class Dr{constructor(s,o,d,M){this.id=s,this.element=o,this._renderer=M,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",d)}_listen(s,o){return this._renderer.listen(this.element,`@@${this.id}:${s}`,o)}_command(s,...o){return An(this._renderer,this.element,this.id,s,o)}onDone(s){this._listen("done",s)}onStart(s){this._listen("start",s)}onDestroy(s){this._listen("destroy",s)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(s){this._command("setPosition",s)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function An(C,s,o,d,M){return C.setProperty(s,`@@${o}:${d}`,M)}const On="@.disabled";let nr=(()=>{class C{constructor(o,d,M){this.delegate=o,this.engine=d,this._zone=M,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),d.onRemovalComplete=(O,$)=>{const te=$?.parentNode(O);te&&$.removeChild(te,O)}}createRenderer(o,d){const O=this.delegate.createRenderer(o,d);if(!(o&&d&&d.data&&d.data.animation)){let He=this._rendererCache.get(O);return He||(He=new Pn("",O,this.engine),this._rendererCache.set(O,He)),He}const $=d.id,te=d.id+"-"+this._currentId;this._currentId++,this.engine.register(te,o);const fe=He=>{Array.isArray(He)?He.forEach(fe):this.engine.registerTrigger($,te,o,He.name,He)};return d.data.animation.forEach(fe),new $n(this,te,O,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(o,d,M){o>=0&&o<this._microtaskId?this._zone.run(()=>d(M)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(O=>{const[$,te]=O;$(te)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([d,M]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return C.\u0275fac=function(o){return new(o||C)(l.\u0275\u0275inject(l.RendererFactory2),l.\u0275\u0275inject(Me),l.\u0275\u0275inject(l.NgZone))},C.\u0275prov=l.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac}),C})();class Pn{constructor(s,o,d){this.namespaceId=s,this.delegate=o,this.engine=d,this.destroyNode=this.delegate.destroyNode?M=>o.destroyNode(M):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(s,o){return this.delegate.createElement(s,o)}createComment(s){return this.delegate.createComment(s)}createText(s){return this.delegate.createText(s)}appendChild(s,o){this.delegate.appendChild(s,o),this.engine.onInsert(this.namespaceId,o,s,!1)}insertBefore(s,o,d,M=!0){this.delegate.insertBefore(s,o,d),this.engine.onInsert(this.namespaceId,o,s,M)}removeChild(s,o,d){this.engine.onRemove(this.namespaceId,o,this.delegate,d)}selectRootElement(s,o){return this.delegate.selectRootElement(s,o)}parentNode(s){return this.delegate.parentNode(s)}nextSibling(s){return this.delegate.nextSibling(s)}setAttribute(s,o,d,M){this.delegate.setAttribute(s,o,d,M)}removeAttribute(s,o,d){this.delegate.removeAttribute(s,o,d)}addClass(s,o){this.delegate.addClass(s,o)}removeClass(s,o){this.delegate.removeClass(s,o)}setStyle(s,o,d,M){this.delegate.setStyle(s,o,d,M)}removeStyle(s,o,d){this.delegate.removeStyle(s,o,d)}setProperty(s,o,d){"@"==o.charAt(0)&&o==On?this.disableAnimations(s,!!d):this.delegate.setProperty(s,o,d)}setValue(s,o){this.delegate.setValue(s,o)}listen(s,o,d){return this.delegate.listen(s,o,d)}disableAnimations(s,o){this.engine.disableAnimations(s,o)}}class $n extends Pn{constructor(s,o,d,M){super(o,d,M),this.factory=s,this.namespaceId=o}setProperty(s,o,d){"@"==o.charAt(0)?"."==o.charAt(1)&&o==On?this.disableAnimations(s,d=void 0===d||!!d):this.engine.process(this.namespaceId,s,o.substr(1),d):this.delegate.setProperty(s,o,d)}listen(s,o,d){if("@"==o.charAt(0)){const M=function _(C){switch(C){case"body":return document.body;case"document":return document;case"window":return window;default:return C}}(s);let O=o.substr(1),$="";return"@"!=O.charAt(0)&&([O,$]=function m(C){const s=C.indexOf(".");return[C.substring(0,s),C.substr(s+1)]}(O)),this.engine.listen(this.namespaceId,M,O,$,te=>{this.factory.scheduleListenerCallback(te._data||-1,d,te)})}return this.delegate.listen(s,o,d)}}let u=(()=>{class C extends Me{constructor(o,d,M){super(o.body,d,M)}ngOnDestroy(){this.flush()}}return C.\u0275fac=function(o){return new(o||C)(l.\u0275\u0275inject(Rn.DOCUMENT),l.\u0275\u0275inject(Be),l.\u0275\u0275inject(_t))},C.\u0275prov=l.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac}),C})();const Vt=new l.InjectionToken("AnimationModuleType"),si=[{provide:J._j,useClass:Mr},{provide:_t,useFactory:function Se(){return new Ut}},{provide:Me,useClass:u},{provide:l.RendererFactory2,useFactory:function it(C,s,o){return new nr(C,s,o)},deps:[w.se,Me,l.NgZone]}],Li=[{provide:Be,useFactory:function k(){return function kn(){return"function"==typeof In()}()?new Yn:new Wn}},{provide:Vt,useValue:"BrowserAnimations"},...si],vn=[{provide:Be,useClass:ge},{provide:Vt,useValue:"NoopAnimations"},...si];let Jr=(()=>{class C{static withConfig(o){return{ngModule:C,providers:o.disableAnimations?vn:Li}}}return C.\u0275fac=function(o){return new(o||C)},C.\u0275mod=l.\u0275\u0275defineNgModule({type:C}),C.\u0275inj=l.\u0275\u0275defineInjector({providers:Li,imports:[w.b2]}),C})()},5998:(ht,ze,R)=>{R.d(ze,{b2:()=>U,H7:()=>Ht,q6:()=>Re,se:()=>Ee});var l=R(3192),w=R(7451);class J extends l.\u0275DomAdapter{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Q extends J{static makeCurrent(){(0,l.\u0275setRootDomAdapter)(new Q)}onAndCancel(g,D,Z){return g.addEventListener(D,Z,!1),()=>{g.removeEventListener(D,Z,!1)}}dispatchEvent(g,D){g.dispatchEvent(D)}remove(g){g.parentNode&&g.parentNode.removeChild(g)}createElement(g,D){return(D=D||this.getDefaultDocument()).createElement(g)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(g){return g.nodeType===Node.ELEMENT_NODE}isShadowRoot(g){return g instanceof DocumentFragment}getGlobalEventTarget(g,D){return"window"===D?window:"document"===D?g:"body"===D?g.body:null}getBaseHref(g){const D=function De(){return r=r||document.querySelector("base"),r?r.getAttribute("href"):null}();return null==D?null:function Ie(f){_e=_e||document.createElement("a"),_e.setAttribute("href",f);const g=_e.pathname;return"/"===g.charAt(0)?g:`/${g}`}(D)}resetBaseElement(){r=null}getUserAgent(){return window.navigator.userAgent}getCookie(g){return(0,l.\u0275parseCookieValue)(document.cookie,g)}}let _e,r=null;const K=new w.InjectionToken("TRANSITION_ID"),P=[{provide:w.APP_INITIALIZER,useFactory:function xe(f,g,D){return()=>{D.get(w.ApplicationInitStatus).donePromise.then(()=>{const Z=(0,l.\u0275getDOM)(),be=g.querySelectorAll(`style[ng-transition="${f}"]`);for(let Ue=0;Ue<be.length;Ue++)Z.remove(be[Ue])})}},deps:[K,l.DOCUMENT,w.Injector],multi:!0}];class z{static init(){(0,w.setTestabilityGetter)(new z)}addToWindow(g){w.\u0275global.getAngularTestability=(Z,be=!0)=>{const Ue=g.findTestabilityInTree(Z,be);if(null==Ue)throw new Error("Could not find testability for element.");return Ue},w.\u0275global.getAllAngularTestabilities=()=>g.getAllTestabilities(),w.\u0275global.getAllAngularRootElements=()=>g.getAllRootElements(),w.\u0275global.frameworkStabilizers||(w.\u0275global.frameworkStabilizers=[]),w.\u0275global.frameworkStabilizers.push(Z=>{const be=w.\u0275global.getAllAngularTestabilities();let Ue=be.length,et=!1;const xt=function(_t){et=et||_t,Ue--,0==Ue&&Z(et)};be.forEach(function(_t){_t.whenStable(xt)})})}findTestabilityInTree(g,D,Z){return null==D?null:g.getTestability(D)??(Z?(0,l.\u0275getDOM)().isShadowRoot(D)?this.findTestabilityInTree(g,D.host,!0):this.findTestabilityInTree(g,D.parentElement,!0):null)}}let y=(()=>{class f{build(){return new XMLHttpRequest}}return f.\u0275fac=function(D){return new(D||f)},f.\u0275prov=w.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac}),f})();const v=new w.InjectionToken("EventManagerPlugins");let T=(()=>{class f{constructor(D,Z){this._zone=Z,this._eventNameToPlugin=new Map,D.forEach(be=>be.manager=this),this._plugins=D.slice().reverse()}addEventListener(D,Z,be){return this._findPluginFor(Z).addEventListener(D,Z,be)}addGlobalEventListener(D,Z,be){return this._findPluginFor(Z).addGlobalEventListener(D,Z,be)}getZone(){return this._zone}_findPluginFor(D){const Z=this._eventNameToPlugin.get(D);if(Z)return Z;const be=this._plugins;for(let Ue=0;Ue<be.length;Ue++){const et=be[Ue];if(et.supports(D))return this._eventNameToPlugin.set(D,et),et}throw new Error(`No event manager plugin found for event ${D}`)}}return f.\u0275fac=function(D){return new(D||f)(w.\u0275\u0275inject(v),w.\u0275\u0275inject(w.NgZone))},f.\u0275prov=w.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac}),f})();class B{constructor(g){this._doc=g}addGlobalEventListener(g,D,Z){const be=(0,l.\u0275getDOM)().getGlobalEventTarget(this._doc,g);if(!be)throw new Error(`Unsupported event target ${be} for event ${D}`);return this.addEventListener(be,D,Z)}}let de=(()=>{class f{constructor(){this._stylesSet=new Set}addStyles(D){const Z=new Set;D.forEach(be=>{this._stylesSet.has(be)||(this._stylesSet.add(be),Z.add(be))}),this.onStylesAdded(Z)}onStylesAdded(D){}getAllStyles(){return Array.from(this._stylesSet)}}return f.\u0275fac=function(D){return new(D||f)},f.\u0275prov=w.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac}),f})(),Te=(()=>{class f extends de{constructor(D){super(),this._doc=D,this._hostNodes=new Map,this._hostNodes.set(D.head,[])}_addStylesToHost(D,Z,be){D.forEach(Ue=>{const et=this._doc.createElement("style");et.textContent=Ue,be.push(Z.appendChild(et))})}addHost(D){const Z=[];this._addStylesToHost(this._stylesSet,D,Z),this._hostNodes.set(D,Z)}removeHost(D){const Z=this._hostNodes.get(D);Z&&Z.forEach(Oe),this._hostNodes.delete(D)}onStylesAdded(D){this._hostNodes.forEach((Z,be)=>{this._addStylesToHost(D,be,Z)})}ngOnDestroy(){this._hostNodes.forEach(D=>D.forEach(Oe))}}return f.\u0275fac=function(D){return new(D||f)(w.\u0275\u0275inject(l.DOCUMENT))},f.\u0275prov=w.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac}),f})();function Oe(f){(0,l.\u0275getDOM)().remove(f)}const V={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ve=/%COMP%/g;function H(f,g,D){for(let Z=0;Z<g.length;Z++){let be=g[Z];Array.isArray(be)?H(f,be,D):(be=be.replace(Ve,f),D.push(be))}return D}function le(f){return g=>{if("__ngUnwrap__"===g)return f;!1===f(g)&&(g.preventDefault(),g.returnValue=!1)}}let Ee=(()=>{class f{constructor(D,Z,be){this.eventManager=D,this.sharedStylesHost=Z,this.appId=be,this.rendererByCompId=new Map,this.defaultRenderer=new he(D)}createRenderer(D,Z){if(!D||!Z)return this.defaultRenderer;switch(Z.encapsulation){case w.ViewEncapsulation.Emulated:{let be=this.rendererByCompId.get(Z.id);return be||(be=new X(this.eventManager,this.sharedStylesHost,Z,this.appId),this.rendererByCompId.set(Z.id,be)),be.applyToHost(D),be}case 1:case w.ViewEncapsulation.ShadowDom:return new pe(this.eventManager,this.sharedStylesHost,D,Z);default:if(!this.rendererByCompId.has(Z.id)){const be=H(Z.id,Z.styles,[]);this.sharedStylesHost.addStyles(be),this.rendererByCompId.set(Z.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return f.\u0275fac=function(D){return new(D||f)(w.\u0275\u0275inject(T),w.\u0275\u0275inject(Te),w.\u0275\u0275inject(w.APP_ID))},f.\u0275prov=w.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac}),f})();class he{constructor(g){this.eventManager=g,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(g,D){return D?document.createElementNS(V[D]||D,g):document.createElement(g)}createComment(g){return document.createComment(g)}createText(g){return document.createTextNode(g)}appendChild(g,D){g.appendChild(D)}insertBefore(g,D,Z){g&&g.insertBefore(D,Z)}removeChild(g,D){g&&g.removeChild(D)}selectRootElement(g,D){let Z="string"==typeof g?document.querySelector(g):g;if(!Z)throw new Error(`The selector "${g}" did not match any elements`);return D||(Z.textContent=""),Z}parentNode(g){return g.parentNode}nextSibling(g){return g.nextSibling}setAttribute(g,D,Z,be){if(be){D=be+":"+D;const Ue=V[be];Ue?g.setAttributeNS(Ue,D,Z):g.setAttribute(D,Z)}else g.setAttribute(D,Z)}removeAttribute(g,D,Z){if(Z){const be=V[Z];be?g.removeAttributeNS(be,D):g.removeAttribute(`${Z}:${D}`)}else g.removeAttribute(D)}addClass(g,D){g.classList.add(D)}removeClass(g,D){g.classList.remove(D)}setStyle(g,D,Z,be){be&(w.RendererStyleFlags2.DashCase|w.RendererStyleFlags2.Important)?g.style.setProperty(D,Z,be&w.RendererStyleFlags2.Important?"important":""):g.style[D]=Z}removeStyle(g,D,Z){Z&w.RendererStyleFlags2.DashCase?g.style.removeProperty(D):g.style[D]=""}setProperty(g,D,Z){g[D]=Z}setValue(g,D){g.nodeValue=D}listen(g,D,Z){return"string"==typeof g?this.eventManager.addGlobalEventListener(g,D,le(Z)):this.eventManager.addEventListener(g,D,le(Z))}}class X extends he{constructor(g,D,Z,be){super(g),this.component=Z;const Ue=H(be+"-"+Z.id,Z.styles,[]);D.addStyles(Ue),this.contentAttr=function we(f){return"_ngcontent-%COMP%".replace(Ve,f)}(be+"-"+Z.id),this.hostAttr=function ae(f){return"_nghost-%COMP%".replace(Ve,f)}(be+"-"+Z.id)}applyToHost(g){super.setAttribute(g,this.hostAttr,"")}createElement(g,D){const Z=super.createElement(g,D);return super.setAttribute(Z,this.contentAttr,""),Z}}class pe extends he{constructor(g,D,Z,be){super(g),this.sharedStylesHost=D,this.hostEl=Z,this.shadowRoot=Z.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ue=H(be.id,be.styles,[]);for(let et=0;et<Ue.length;et++){const xt=document.createElement("style");xt.textContent=Ue[et],this.shadowRoot.appendChild(xt)}}nodeOrShadowRoot(g){return g===this.hostEl?this.shadowRoot:g}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(g,D){return super.appendChild(this.nodeOrShadowRoot(g),D)}insertBefore(g,D,Z){return super.insertBefore(this.nodeOrShadowRoot(g),D,Z)}removeChild(g,D){return super.removeChild(this.nodeOrShadowRoot(g),D)}parentNode(g){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(g)))}}let ne=(()=>{class f extends B{constructor(D){super(D)}supports(D){return!0}addEventListener(D,Z,be){return D.addEventListener(Z,be,!1),()=>this.removeEventListener(D,Z,be)}removeEventListener(D,Z,be){return D.removeEventListener(Z,be)}}return f.\u0275fac=function(D){return new(D||f)(w.\u0275\u0275inject(l.DOCUMENT))},f.\u0275prov=w.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac}),f})();const Ce=["alt","control","meta","shift"],Qe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ze={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},lt={alt:f=>f.altKey,control:f=>f.ctrlKey,meta:f=>f.metaKey,shift:f=>f.shiftKey};let kt=(()=>{class f extends B{constructor(D){super(D)}supports(D){return null!=f.parseEventName(D)}addEventListener(D,Z,be){const Ue=f.parseEventName(Z),et=f.eventCallback(Ue.fullKey,be,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,l.\u0275getDOM)().onAndCancel(D,Ue.domEventName,et))}static parseEventName(D){const Z=D.toLowerCase().split("."),be=Z.shift();if(0===Z.length||"keydown"!==be&&"keyup"!==be)return null;const Ue=f._normalizeKey(Z.pop());let et="";if(Ce.forEach(_t=>{const ni=Z.indexOf(_t);ni>-1&&(Z.splice(ni,1),et+=_t+".")}),et+=Ue,0!=Z.length||0===Ue.length)return null;const xt={};return xt.domEventName=be,xt.fullKey=et,xt}static getEventFullKey(D){let Z="",be=function It(f){let g=f.key;if(null==g){if(g=f.keyIdentifier,null==g)return"Unidentified";g.startsWith("U+")&&(g=String.fromCharCode(parseInt(g.substring(2),16)),3===f.location&&Ze.hasOwnProperty(g)&&(g=Ze[g]))}return Qe[g]||g}(D);return be=be.toLowerCase()," "===be?be="space":"."===be&&(be="dot"),Ce.forEach(Ue=>{Ue!=be&&lt[Ue](D)&&(Z+=Ue+".")}),Z+=be,Z}static eventCallback(D,Z,be){return Ue=>{f.getEventFullKey(Ue)===D&&be.runGuarded(()=>Z(Ue))}}static _normalizeKey(D){return"esc"===D?"escape":D}}return f.\u0275fac=function(D){return new(D||f)(w.\u0275\u0275inject(l.DOCUMENT))},f.\u0275prov=w.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac}),f})();const Re=(0,w.createPlatformFactory)(w.platformCore,"browser",[{provide:w.PLATFORM_ID,useValue:l.\u0275PLATFORM_BROWSER_ID},{provide:w.PLATFORM_INITIALIZER,useValue:function At(){Q.makeCurrent(),z.init()},multi:!0},{provide:l.DOCUMENT,useFactory:function yt(){return(0,w.\u0275setDocument)(document),document},deps:[]}]),I=[{provide:w.\u0275INJECTOR_SCOPE,useValue:"root"},{provide:w.ErrorHandler,useFactory:function Ft(){return new w.ErrorHandler},deps:[]},{provide:v,useClass:ne,multi:!0,deps:[l.DOCUMENT,w.NgZone,w.PLATFORM_ID]},{provide:v,useClass:kt,multi:!0,deps:[l.DOCUMENT]},{provide:Ee,useClass:Ee,deps:[T,Te,w.APP_ID]},{provide:w.RendererFactory2,useExisting:Ee},{provide:de,useExisting:Te},{provide:Te,useClass:Te,deps:[l.DOCUMENT]},{provide:w.Testability,useClass:w.Testability,deps:[w.NgZone]},{provide:T,useClass:T,deps:[v,w.NgZone]},{provide:l.XhrFactory,useClass:y,deps:[]}];let U=(()=>{class f{constructor(D){if(D)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(D){return{ngModule:f,providers:[{provide:w.APP_ID,useValue:D.appId},{provide:K,useExisting:w.APP_ID},P]}}}return f.\u0275fac=function(D){return new(D||f)(w.\u0275\u0275inject(f,12))},f.\u0275mod=w.\u0275\u0275defineNgModule({type:f}),f.\u0275inj=w.\u0275\u0275defineInjector({providers:I,imports:[l.CommonModule,w.ApplicationModule]}),f})();"undefined"!=typeof window&&window;let Ht=(()=>{class f{}return f.\u0275fac=function(D){return new(D||f)},f.\u0275prov=w.\u0275\u0275defineInjectable({token:f,factory:function(D){let Z=null;return Z=D?new(D||f):w.\u0275\u0275inject(ee),Z},providedIn:"root"}),f})(),ee=(()=>{class f extends Ht{constructor(D){super(),this._doc=D}sanitize(D,Z){if(null==Z)return null;switch(D){case w.SecurityContext.NONE:return Z;case w.SecurityContext.HTML:return(0,w.\u0275allowSanitizationBypassAndThrow)(Z,"HTML")?(0,w.\u0275unwrapSafeValue)(Z):(0,w.\u0275_sanitizeHtml)(this._doc,String(Z)).toString();case w.SecurityContext.STYLE:return(0,w.\u0275allowSanitizationBypassAndThrow)(Z,"Style")?(0,w.\u0275unwrapSafeValue)(Z):Z;case w.SecurityContext.SCRIPT:if((0,w.\u0275allowSanitizationBypassAndThrow)(Z,"Script"))return(0,w.\u0275unwrapSafeValue)(Z);throw new Error("unsafe value used in a script context");case w.SecurityContext.URL:return(0,w.\u0275getSanitizationBypassType)(Z),(0,w.\u0275allowSanitizationBypassAndThrow)(Z,"URL")?(0,w.\u0275unwrapSafeValue)(Z):(0,w.\u0275_sanitizeUrl)(String(Z));case w.SecurityContext.RESOURCE_URL:if((0,w.\u0275allowSanitizationBypassAndThrow)(Z,"ResourceURL"))return(0,w.\u0275unwrapSafeValue)(Z);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${D} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(D){return(0,w.\u0275bypassSanitizationTrustHtml)(D)}bypassSecurityTrustStyle(D){return(0,w.\u0275bypassSanitizationTrustStyle)(D)}bypassSecurityTrustScript(D){return(0,w.\u0275bypassSanitizationTrustScript)(D)}bypassSecurityTrustUrl(D){return(0,w.\u0275bypassSanitizationTrustUrl)(D)}bypassSecurityTrustResourceUrl(D){return(0,w.\u0275bypassSanitizationTrustResourceUrl)(D)}}return f.\u0275fac=function(D){return new(D||f)(w.\u0275\u0275inject(l.DOCUMENT))},f.\u0275prov=w.\u0275\u0275defineInjectable({token:f,factory:function(D){let Z=null;return Z=D?new D:function Lt(f){return new ee(f.get(l.DOCUMENT))}(w.\u0275\u0275inject(w.Injector)),Z},providedIn:"root"}),f})()},2898:(ht,ze,R)=>{R.d(ze,{HS:()=>K,A0:()=>Ie,ke:()=>xe});var l=R(7451),w=R(824);const J=["frameElement"],Q=["panElement"],r=["zoomElement"],De=["panzoomOverlay"],_e=["*"];let Ie=(()=>{class P{constructor(y){this.zone=y,this.isDragging=!1,this.lastTick=0,this.isChrome=!1,this.willChangeNextFrame=!0,this.isMobile=!1,this.isFirstSync=!0,this.zoomLevelIsChanging=!1,this.dragFinishing=!1,this.onMouseWheel=v=>{if(!(v&&v.pageX&&v.pageY))return;let T=v.deltaY;if(this.config.zoomOnMouseWheel){if(this.animationParams)return;this.config.invertMouseWheel||(T=-T);const B=this.getFrameElementOffset(),de={x:v.pageX-B.left,y:v.pageY-B.top};this.lastClickPoint=de,this.config.freeMouseWheel?this.freeZoom(de,T):T<0?this.zoomInToPoint(de):T>0&&this.zoomOutFromPoint(de)}},this.onMousedown=v=>{if(!(this.config.noDragFromElementClass&&this.isParentElement(this.config.noDragFromElementClass,v.srcElement)||v.button!==this.dragMouseButton&&"touchstart"!==v.type))return"touchstart"!==v.type&&v.preventDefault(),this.dragFinishing=!1,this.panVelocity=void 0,this.config.panOnClickDrag&&(this.previousPosition={x:v.pageX,y:v.pageY},this.lastMouseEventTime=v.timeStamp,this.isDragging=!0,this.model.isPanning=!1,this.isMobile?(this.zone.runOutsideAngular(()=>document.addEventListener("touchend",this.onTouchEnd,!1)),this.zone.runOutsideAngular(()=>document.addEventListener("touchmove",this.onTouchMove,{passive:!0,capture:!1}))):(this.zone.runOutsideAngular(()=>document.addEventListener("mousemove",this.onMouseMove,{passive:!0,capture:!1})),this.zone.runOutsideAngular(()=>document.addEventListener("mouseup",this.onMouseUp)))),!1},this.onTouchStart=v=>{if(1!==v.touches.length){const T=v.touches[0].pageX-v.touches[1].pageX,B=v.touches[0].pageY-v.touches[1].pageY;this.previousPosition={length:T*T+B*B}}this.onMousedown(v)},this.onMouseMove=v=>{let T;if(v&&v.pageX&&v.pageY)T=v;else{if("touchmove"!==v.type||!v.touches[0].pageX||!v.touches[0].pageY)return;T={pageX:v.touches[0].pageX,pageY:v.touches[0].pageY}}const B=v.timeStamp,de=(B-this.lastMouseEventTime)/1e3;this.lastMouseEventTime=B;const Te={x:T.pageX-this.previousPosition.x,y:T.pageY-this.previousPosition.y};if(this.config.keepInBounds){const ce=this.getViewPosition({x:0,y:0}),Pe=this.getViewPosition({x:this.contentWidth,y:this.contentHeight});ce.x>0&&Te.x>0&&(Te.x*=Math.min(1,Math.pow(ce.x,-this.config.keepInBoundsDragPullback))),ce.y>0&&Te.y>0&&(Te.y*=Math.min(1,Math.pow(ce.y,-this.config.keepInBoundsDragPullback))),Pe.x<this.contentWidth&&Te.x<0&&(Te.x*=Math.min(1,Math.pow(this.contentWidth-Pe.x,-this.config.keepInBoundsDragPullback))),Pe.y<this.contentHeight&&Te.y<0&&(Te.y*=Math.min(1,Math.pow(this.contentHeight-Pe.y,-this.config.keepInBoundsDragPullback)))}const Oe_y=Te.y||0;this.model.pan.x+=Te.x||0,this.model.pan.y+=Oe_y,this.syncBaseToModel(),this.animationTick(),this.model.isPanning||(this.panzoomOverlayRef.nativeElement.style.display="block"),this.model.isPanning=!0;const V=Te.x/de,Ve=Te.y/de;this.panVelocity={x:Number.isFinite(V)?V:0,y:Number.isFinite(Ve)?Ve:0},this.previousPosition={x:T.pageX,y:T.pageY}},this.onTouchMove=v=>{if(1===v.touches.length)this.onMouseMove(v);else{const T=v.touches[0].pageX-v.touches[1].pageX,B=v.touches[0].pageY-v.touches[1].pageY,de=T*T+B*B,Te=de-this.previousPosition.length;if(Math.abs(Te)<100)return;const Oe=v.touches[1].pageX+T/2,V=v.touches[1].pageY+B/2,Ve=this.getFrameElementOffset(),ce={x:Oe-Ve.left,y:V-Ve.top};this.lastClickPoint=ce,this.changeZoomLevel(this.base.zoomLevel+1e-4*Te,ce),this.previousPosition={length:de}}},this.onMouseUp=v=>{if(v.button!==this.dragMouseButton&&"touchend"!==v.type)return;"touchend"!==v.type&&v.preventDefault();const B=(v.timeStamp-this.lastMouseEventTime)/1e3;if(!this.panVelocity||0===this.panVelocity.x&&0===this.panVelocity.y)this.panVelocity=void 0,this.dragFinishing=!1,this.model.isPanning=!1,this.config.modelChanged.next(this.model),this.syncBaseToModel();else{const de=Math.max(0,-.2+Math.pow(B+1,-4));this.panVelocity.x*=de,this.panVelocity.y*=de,this.dragFinishing=!0,this.zone.runOutsideAngular(()=>this.animationId=this.animationFrameFunc(this.animationTick))}this.isDragging=!1,this.isMobile?(this.zone.runOutsideAngular(()=>document.removeEventListener("touchend",this.onTouchEnd)),this.zone.runOutsideAngular(()=>document.removeEventListener("touchmove",this.onTouchMove,{passive:!0,capture:!1}))):(this.zone.runOutsideAngular(()=>document.removeEventListener("mousemove",this.onMouseMove,{passive:!0,capture:!1})),this.zone.runOutsideAngular(()=>document.removeEventListener("mouseup",this.onMouseUp,{passive:!0}))),this.panzoomOverlayRef.nativeElement.style.display="none"},this.onTouchEnd=v=>{this.onMouseUp(v)},this.onDblClick=v=>{if(v.preventDefault(),!this.config.zoomOnDoubleClick)return;const T=this.getFrameElementOffset(),B={x:v.pageX-T.left,y:v.pageY-T.top};this.lastClickPoint=B,this.zoomInToPoint(B)},this.preventDefault=v=>{v.preventDefault()},this.animationTick=(v=performance.now())=>{let T=0;if(0!==this.lastTick&&(T=v-this.lastTick),this.lastTick=v,this.animationParams&&(this.animationParams.progress+=Math.abs(T/this.animationParams.duration),this.animationParams.progress>=1&&(this.animationParams.progress=1,this.updateDOM(),this.animationParams=void 0)),this.panVelocity&&this.dragFinishing)for(T>0&&(T/=1e3);T>0;){const B=Math.min(.02,T);if(T-=B,this.model.pan.x=this.model.pan.x+this.panVelocity.x*B,this.panVelocity.x=this.panVelocity.x*(1-this.config.friction*B),this.model.pan.y=this.model.pan.y+this.panVelocity.y*B,this.panVelocity.y=this.panVelocity.y*(1-this.config.friction*B),this.length(this.panVelocity)<=this.config.haltSpeed){this.panVelocity=void 0,this.dragFinishing=!1;break}}if(this.config.keepInBounds||this.dragFinishing){const B=this.getViewPosition({x:0,y:0}),de=this.getViewPosition({x:this.contentWidth,y:this.contentHeight});B.x>0&&(this.base.pan.x-=this.config.keepInBoundsRestoreForce*B.x),B.y>0&&(this.base.pan.y-=this.config.keepInBoundsRestoreForce*B.y),de.x<this.contentWidth&&(this.base.pan.x-=this.config.keepInBoundsRestoreForce*(de.x-this.contentWidth)),de.y<this.contentHeight&&(this.base.pan.y-=this.config.keepInBoundsRestoreForce*(de.y-this.contentHeight))}if(this.updateDOM(),this.config.modelChanged.next(this.model),this.animationParams||this.panVelocity&&this.dragFinishing)this.isChrome&&this.zoomLevelIsChanging&&(this.zoomElementRef.nativeElement.style.willChange=this.willChangeNextFrame?"auto":"transform",this.willChangeNextFrame=!this.willChangeNextFrame),this.animationFrameFunc(this.animationTick);else{if(this.panVelocity&&!this.dragFinishing)return;this.model.isPanning&&(this.model.isPanning=!1),this.syncBaseToModel(),this.config.modelChanged.next(this.model),this.scale=this.getCssScale(this.base.zoomLevel),this.willChangeNextFrame=!0,this.zoomElementRef.nativeElement.style.willChange="transform",this.zoomLevelIsChanging=!1,this.lastTick=0}}}ngOnInit(){switch(this.base=this.config.initialZoomToFit?this.calcZoomToFit(this.config.initialZoomToFit):{zoomLevel:this.config.initialZoomLevel,pan:{x:this.config.initialPanX,y:this.config.initialPanY}},this.model={zoomLevel:this.base.zoomLevel,isPanning:!1,pan:{x:this.base.pan.x,y:this.base.pan.y}},this.config.modelChanged.next(this.model),this.api={model:this.model,config:this.config,changeZoomLevel:this.zoomToLevelAndPoint.bind(this),zoomIn:this.zoomIn.bind(this),zoomOut:this.zoomOut.bind(this),zoomToFit:this.zoomToFit.bind(this),resetView:this.resetView.bind(this),getViewPosition:this.getViewPosition.bind(this),getModelPosition:this.getModelPosition.bind(this),panToPoint:this.panToPoint.bind(this),panDelta:this.panDelta.bind(this),panDeltaPercent:this.panDeltaPercent.bind(this),panDeltaAbsolute:this.panDeltaAbsolute.bind(this),centerContent:this.centerContent.bind(this),centerX:this.centerX.bind(this),centerY:this.centerY.bind(this),centerTopLeft:this.centerTopLeftCorner.bind(this),centerBottomLeft:this.centerBottomLeftCorner.bind(this),centerTopRight:this.centerTopRightCorner.bind(this),centerBottomRight:this.centerBottomRightCorner.bind(this),updateContentDimensions:this.updateContentDimensions.bind(this),detectContentDimensions:this.detectContentDimensions.bind(this)},this.config.api.next(this.api),this.config.freeMouseWheel&&(this.scale=this.getCssScale(this.config.initialZoomLevel),this.maxScale=this.getCssScale(this.config.zoomLevels-1),this.minScale=this.getCssScale(0)),this.minimumAllowedZoomLevel=0,this.config.keepInBounds&&(this.minimumAllowedZoomLevel=this.config.neutralZoomLevel,this.minScale=this.getCssScale(this.config.neutralZoomLevel)),this.zoomElementRef.nativeElement.style.willChange="transform",navigator.userAgent.search("Chrome")>=0&&(this.isChrome=!0,this.zoomElementRef.nativeElement.style.transform="translateZ(0)"),this.config.acceleratePan&&(this.panElementRef.nativeElement.style.willChange="transform",navigator.userAgent.search("Chrome")>=0&&(this.isChrome=!0,this.panElementRef.nativeElement.style.transform="translateZ(0)")),this.animationTick(),this.scale=this.getCssScale(this.base.zoomLevel),this.isFirstSync=!1,this.config.dragMouseButton){case"left":default:this.dragMouseButton=0;break;case"middle":this.dragMouseButton=1,this.zone.runOutsideAngular(()=>this.frameElementRef.nativeElement.addEventListener("auxclick",this.preventDefault));break;case"right":this.zone.runOutsideAngular(()=>document.addEventListener("contextmenu",this.preventDefault)),this.dragMouseButton=2}}ngAfterViewInit(){this.detectContentDimensions();const y=getComputedStyle(this.frameElementRef.nativeElement);this.frameHeight=parseInt(y.getPropertyValue("height").split("px")[0]),this.frameWidth=parseInt(y.getPropertyValue("width").split("px")[0]),this.zone.runOutsideAngular(()=>this.animationFrameFunc=window.requestAnimationFrame),this.config.dynamicContentDimensions&&(window.ResizeObserver?(this.resizeObserver=new window.ResizeObserver(v=>this.onContentDimensionsChangeDetected(v)),this.zone.runOutsideAngular(()=>this.resizeObserver.observe(this.zoomElementRef.nativeElement))):console.error("ResizeObserver API is not supported by this browser.  See https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver for info on browser compatibility.")),this.isMobileDevice()?(this.isMobile=!0,this.zone.runOutsideAngular(()=>this.frameElementRef.nativeElement.addEventListener("touchstart",this.onTouchStart))):this.zone.runOutsideAngular(()=>{this.frameElementRef.nativeElement.addEventListener("mousedown",this.onMousedown),this.frameElementRef.nativeElement.addEventListener("dblclick",this.onDblClick),this.frameElementRef.nativeElement.addEventListener("wheel",v=>this.animationFrameFunc(()=>this.onMouseWheel(v)),{passive:!0})})}ngOnDestroy(){switch(this.isMobile?this.frameElementRef.nativeElement.removeEventListener("touchstart",this.onTouchStart):(this.frameElementRef.nativeElement.removeEventListener("mousedown",this.onMousedown),this.frameElementRef.nativeElement.removeEventListener("wheel",y=>this.animationFrameFunc(()=>this.onMouseWheel(y)),{passive:!0}),this.frameElementRef.nativeElement.removeEventListener("dblclick",this.onDblClick)),this.animationFrameFunc&&this.animationId&&window.cancelAnimationFrame(this.animationId),this.resizeObserver&&this.resizeObserver.disconnect(),this.config.dragMouseButton){case"middle":this.dragMouseButton=1,this.zone.runOutsideAngular(()=>this.frameElementRef.nativeElement.removeEventListener("auxclick",this.preventDefault));break;case"right":this.zone.runOutsideAngular(()=>document.removeEventListener("contextmenu",this.preventDefault)),this.dragMouseButton=2}}isParentElement(y,v){let T=v.parentNode;for(;null!==T;){if(T.classList&&T.classList.contains(y))return!0;T=T.parentNode}return!1}updateDOM(){if(this.animationParams){this.model.zoomLevel=this.base.zoomLevel+this.animationParams.deltaZoomLevel*this.animationParams.progress;const v=this.animationParams.panStepFunc(this.model.zoomLevel);if(this.model.pan.x=this.base.pan.x+v.x,this.model.pan.y=this.base.pan.y+v.y,this.config.keepInBounds){const T=this.getViewPosition({x:0,y:0}),B=this.getViewPosition({x:this.contentWidth,y:this.contentHeight});T.x>0&&(this.model.pan.x=0),T.y>0&&(this.model.pan.y=0),B.x<this.contentWidth&&(this.model.pan.x-=B.x-this.contentWidth),B.y<this.contentHeight&&(this.model.pan.y-=B.y-this.contentHeight)}}if(this.animationParams||this.isFirstSync){const B=`transform-origin: 0 0; transform: scale(${this.getCssScale(this.model.zoomLevel)});`;this.zoomElementRef.nativeElement.setAttribute("style",B)}this.panElementRef.nativeElement.style.transform=`translate3d(${this.model.pan.x}px, ${this.model.pan.y}px, 0)`}freeZoom(y,v){if(this.isDragging)return;this.animationParams&&(this.animationParams=void 0),this.panVelocity&&(this.dragFinishing=!1,this.panVelocity=void 0);const T_x=this.model.pan.x,T_y=this.model.pan.y,B=this.scale;let de=this.scale+v*this.config.freeMouseWheelFactor*this.scale;de=Math.max(this.minScale,Math.min(this.maxScale,de)),this.scale=de;const Te={x:y.x-de/B*(y.x-T_x),y:y.y-de/B*(y.y-T_y)};this.panElementRef.nativeElement.style.transform=`translate3d(${Te.x}px, ${Te.y}px, 0)`;let Ve=`transform-origin: 0 0; transform: scale(${this.scale});`;this.isChrome&&(Ve+=this.willChangeNextFrame?" will-change: auto;":" will-change: transform;",this.willChangeNextFrame=!this.willChangeNextFrame),this.zoomElementRef.nativeElement.setAttribute("style",Ve),this.model.pan.x=Te.x,this.model.pan.y=Te.y,this.model.zoomLevel=this.getZoomLevel(this.scale),this.config.modelChanged.next(this.model),this.syncBaseToModel()}isMobileDevice(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")}syncBaseToModel(){this.base.pan.x=this.model.pan.x,this.base.pan.y=this.model.pan.y,this.base.zoomLevel=this.model.zoomLevel}length(y){return Math.sqrt(y.x*y.x+y.y*y.y)}getCentrePoint(){return{x:this.frameElementRef.nativeElement.offsetWidth/2,y:this.frameElementRef.nativeElement.offsetHeight/2}}getCssScale(y){return Math.pow(this.config.scalePerZoomLevel,y-this.config.neutralZoomLevel)}getZoomLevel(y){return Math.log10(y)/Math.log10(this.config.scalePerZoomLevel)+this.config.neutralZoomLevel}calcZoomToFit(y){const v=this.frameElementRef.nativeElement.offsetWidth,T=this.frameElementRef.nativeElement.offsetHeight,B=y.width,de=y.height,Te=Math.min(v/B,T/de),V=this.getZoomLevel(Te)*this.config.zoomToFitZoomLevelFactor,Ve=this.getCssScale(V);return{zoomLevel:V,pan:{x:-y.x*Ve+(v-B*Ve)/2,y:-y.y*Ve+(T-de*Ve)/2}}}zoomToFitModel(y,v){this.model.isPanning=!0,this.animateToTarget(y,v)}zoomToLevelAndPoint(y,v){this.changeZoomLevel(y,v)}zoomIn(y="lastPoint"){"lastPoint"===y?this.changeZoomLevel(this.base.zoomLevel+this.config.zoomButtonIncrement,this.lastClickPoint):"viewCenter"===y&&this.changeZoomLevel(this.base.zoomLevel+this.config.zoomButtonIncrement,this.getCentrePoint())}zoomOut(y="lastPoint"){"lastPoint"===y?this.changeZoomLevel(this.base.zoomLevel-this.config.zoomButtonIncrement,this.lastClickPoint):"viewCenter"===y&&this.changeZoomLevel(this.base.zoomLevel-this.config.zoomButtonIncrement,this.getCentrePoint())}startAnimation(){this.lastTick=performance.now(),this.zone.runOutsideAngular(()=>this.animationId=this.animationFrameFunc(this.animationTick))}getFrameElementOffset(){const y=this.frameElementRef.nativeElement.getBoundingClientRect();return{top:y.top+window.scrollY,left:y.left+window.scrollX}}onContentDimensionsChangeDetected(y){this.contentHeight=y[0].contentRect.height,this.contentWidth=y[0].contentRect.width}getViewPosition(y){let v,T;if(this.animationParams){v=this.getCssScale(this.base.zoomLevel+this.animationParams.deltaZoomLevel*this.animationParams.progress);let B=this.animationParams.panStepFunc(this.model.zoomLevel);T={x:this.base.pan.x+B.x,y:this.base.pan.y+B.y}}else v=this.getCssScale(this.base.zoomLevel),T=this.base.pan;return{x:y.x*v+T.x,y:y.y*v+T.y}}getModelPosition(y){const v=y,T=this.getCssScale(this.base.zoomLevel),B=this.base.pan;return{x:1/T*(v.x-B.x),y:1/T*(v.y-B.y)}}resetView(){this.config.initialZoomToFit?this.zoomToFit(this.config.initialZoomToFit):void 0!==this.config.initialPanX&&void 0!==this.config.initialPanY&&void 0!==this.config.initialZoomLevel?this.zoomToFitModel({zoomLevel:this.config.initialZoomLevel,pan:{x:this.config.initialPanX,y:this.config.initialPanY}}):(console.error("PanZoomComponent: resetView() could not reset view as some vars were not set.  The culprits are either config.initialZoomLevel, config.initialPanX, or config.initialPanY.  Or just set panzoomConfig.initialZoomToFit"),console.log("config.initialZoomLevel: "+this.config.initialZoomLevel),console.log("config.initialPanX: "+this.config.initialPanX),console.log("config.initialPanY: "+this.config.initialPanY))}zoomToFit(y,v){const T=this.calcZoomToFit(y);this.model.isPanning=!0,this.animateToTarget(T,v)}zoomInToPoint(y){this.changeZoomLevel(this.base.zoomLevel+this.config.zoomButtonIncrement,y)}zoomOutFromPoint(y){this.changeZoomLevel(this.base.zoomLevel-this.config.zoomButtonIncrement,y)}panToPoint(y,v){const T={pan:{x:this.frameWidth/2-y.x*this.scale,y:this.frameHeight/2-y.y*this.scale},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(T,v)}panToPointCurrentScale(y,v){const T={pan:{x:this.frameWidth/2-y.x,y:this.frameHeight/2-y.y},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(T,v)}panDelta(y,v){const T={pan:{x:this.base.pan.x-this.scale*y.x,y:this.base.pan.y-this.scale*y.y},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(T,v)}panDeltaAbsolute(y,v){const T={pan:{x:this.base.pan.x-y.x,y:this.base.pan.y-y.y},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(T,v)}panDeltaPercent(y,v){let T=0,B=0;0!==y.x&&(T=this.contentWidth*(y.x/100)*this.scale),0!==y.y&&(B=this.contentHeight*(y.y/100)*this.scale);const de={pan:{x:this.base.pan.x-T,y:this.base.pan.y-B},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(de,v)}centerContent(y){this.panToPoint({x:this.contentWidth/2,y:this.contentHeight/2},y)}centerX(y){const v={pan:{x:this.frameWidth/2-this.contentWidth/2*this.scale,y:this.base.pan.y},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(v,y)}centerY(y){const v={pan:{x:this.base.pan.x,y:this.frameHeight/2-this.contentHeight/2*this.scale},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(v,y)}centerTopLeftCorner(y){this.panToPoint({x:0,y:0},y)}centerBottomLeftCorner(y){this.panToPoint({x:0,y:this.contentHeight},y)}centerTopRightCorner(y){this.panToPoint({x:this.contentWidth,y:0},y)}centerBottomRightCorner(y){this.panToPoint({x:this.contentWidth,y:this.contentHeight},y)}updateContentDimensions(y,v){void 0!==v&&(this.contentHeight=v),void 0!==y&&(this.contentWidth=y)}detectContentDimensions(){const y=getComputedStyle(this.zoomElementRef.nativeElement);this.contentHeight=parseInt(y.getPropertyValue("height").split("px")[0]),this.contentWidth=parseInt(y.getPropertyValue("width").split("px")[0])}animateToTarget(y,v){if(this.animationParams)return;this.zoomLevelIsChanging=!1,this.base.zoomLevel!==y.zoomLevel&&(this.zoomLevelIsChanging=!0);const T=y.zoomLevel-this.base.zoomLevel,B_x=this.base.pan.x,B_y=this.base.pan.y;this.model.pan.x=this.base.pan.x,this.model.pan.y=this.base.pan.y,this.animationParams={deltaZoomLevel:T,panStepFunc:Te=>({x:-(B_x-y.pan.x)*this.animationParams.progress,y:-(B_y-y.pan.y)*this.animationParams.progress}),duration:v=v?1e3*v:1e3*this.config.zoomStepDuration,progress:0},this.startAnimation()}changeZoomLevel(y,v){if(this.animationParams)return;this.zoomLevelIsChanging=!0,y=Math.max(this.minimumAllowedZoomLevel,y);const T=(y=Math.min(this.config.zoomLevels-1,y))-this.base.zoomLevel;if(!T)return;const B_x=this.base.pan.x,B_y=this.base.pan.y,de=this.scale,Te=v||this.getCentrePoint();this.animationParams={deltaZoomLevel:T,panStepFunc:V=>{const Ve=this.getCssScale(V);return{x:Te.x-Ve/de*(Te.x-B_x)-B_x,y:Te.y-Ve/de*(Te.y-B_y)-B_y}},duration:1e3*this.config.zoomStepDuration,progress:0},this.startAnimation()}}return P.\u0275fac=function(y){return new(y||P)(l.\u0275\u0275directiveInject(l.NgZone))},P.\u0275cmp=l.\u0275\u0275defineComponent({type:P,selectors:[["pan-zoom"]],viewQuery:function(y,v){if(1&y&&(l.\u0275\u0275viewQuery(J,7),l.\u0275\u0275viewQuery(Q,7),l.\u0275\u0275viewQuery(r,7),l.\u0275\u0275viewQuery(De,7)),2&y){let T;l.\u0275\u0275queryRefresh(T=l.\u0275\u0275loadQuery())&&(v.frameElementRef=T.first),l.\u0275\u0275queryRefresh(T=l.\u0275\u0275loadQuery())&&(v.panElementRef=T.first),l.\u0275\u0275queryRefresh(T=l.\u0275\u0275loadQuery())&&(v.zoomElementRef=T.first),l.\u0275\u0275queryRefresh(T=l.\u0275\u0275loadQuery())&&(v.panzoomOverlayRef=T.first)}},inputs:{config:"config"},ngContentSelectors:_e,decls:9,vars:0,consts:[[1,"pan-zoom-frame"],["frameElement",""],[1,"pan-element"],["panElement",""],[1,"zoom-element"],["zoomElement",""],[1,"pan-zoom-overlay"],["panzoomOverlay",""]],template:function(y,v){1&y&&(l.\u0275\u0275projectionDef(),l.\u0275\u0275elementStart(0,"div",0,1),l.\u0275\u0275elementStart(2,"div",2,3),l.\u0275\u0275elementStart(4,"div",4,5),l.\u0275\u0275projection(6),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(7,"div",6,7))},styles:[".pan-zoom-frame[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;overflow:hidden}.pan-element[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px}.pan-zoom-overlay[_ngcontent-%COMP%]{position:absolute;display:none;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none}"]}),P})(),K=(()=>{class P{}return P.\u0275fac=function(y){return new(y||P)},P.\u0275mod=l.\u0275\u0275defineNgModule({type:P}),P.\u0275inj=l.\u0275\u0275defineInjector({providers:[],imports:[[]]}),P})();class xe{constructor(z){this.zoomLevels=5,this.neutralZoomLevel=2,this.scalePerZoomLevel=2,this.initialZoomLevel=this.neutralZoomLevel,this.friction=10,this.haltSpeed=100,this.initialPanX=0,this.initialPanY=0,this.keepInBounds=!1,this.keepInBoundsDragPullback=.7,this.keepInBoundsRestoreForce=.5,this.panOnClickDrag=!0,this.dragMouseButton="left",this.zoomButtonIncrement=1,this.zoomOnDoubleClick=!0,this.zoomOnMouseWheel=!0,this.invertMouseWheel=!1,this.zoomStepDuration=.2,this.zoomToFitZoomLevelFactor=.95,this.freeMouseWheel=!0,this.freeMouseWheelFactor=.08,this.modelChanged=new w.BehaviorSubject({isPanning:null,zoomLevel:null,pan:{x:null,y:null}}),this.api=new w.BehaviorSubject({model:null,config:null,changeZoomLevel:null,zoomIn:null,zoomOut:null,zoomToFit:null,getViewPosition:null,getModelPosition:null,resetView:null,panToPoint:null,panDelta:null,panDeltaPercent:null,panDeltaAbsolute:null,centerContent:null,centerX:null,centerY:null,centerTopLeft:null,centerTopRight:null,centerBottomLeft:null,centerBottomRight:null,updateContentDimensions:null,detectContentDimensions:null}),this.acceleratePan=!0,this.dynamicContentDimensions=!1,void 0!==z&&("zoomLevels"in z&&(this.zoomLevels=z.zoomLevels),"neutralZoomLevel"in z&&(this.neutralZoomLevel=z.neutralZoomLevel),"scalePerZoomLevel"in z&&(this.scalePerZoomLevel=z.scalePerZoomLevel),"initialZoomLevel"in z&&(this.initialZoomLevel=z.initialZoomLevel),"friction"in z&&(this.friction=z.friction),"haltSpeed"in z&&(this.haltSpeed=z.haltSpeed),"initialPanX"in z&&(this.initialPanX=z.initialPanX),"initialPanY"in z&&(this.initialPanY=z.initialPanY),"initialZoomToFit"in z&&(this.initialZoomToFit=z.initialZoomToFit),"keepInBounds"in z&&(this.keepInBounds=z.keepInBounds),"keepInBoundsDragPullback"in z&&(this.keepInBoundsDragPullback=z.keepInBoundsDragPullback),"keepInBoundsRestoreForce"in z&&(this.keepInBoundsRestoreForce=z.keepInBoundsRestoreForce),"panOnClickDrag"in z&&(this.panOnClickDrag=z.panOnClickDrag),"dragMouseButton"in z&&(this.dragMouseButton=z.dragMouseButton),"zoomButtonIncrement"in z&&(this.zoomButtonIncrement=z.zoomButtonIncrement),"zoomOnDoubleClick"in z&&(this.zoomOnDoubleClick=z.zoomOnDoubleClick),"zoomOnMouseWheel"in z&&(this.zoomOnMouseWheel=z.zoomOnMouseWheel),"invertMouseWheel"in z&&(this.invertMouseWheel=z.invertMouseWheel),"zoomStepDuration"in z&&(this.zoomStepDuration=z.zoomStepDuration),"zoomToFitZoomLevelFactor"in z&&(this.zoomToFitZoomLevelFactor=z.zoomToFitZoomLevelFactor),"freeMouseWheel"in z&&(this.freeMouseWheel=z.freeMouseWheel),"freeMouseWheelFactor"in z&&(this.freeMouseWheelFactor=z.freeMouseWheelFactor),this.keepInBounds&&0!==this.neutralZoomLevel&&console.warn("You have set keepInBounds to true and neutralZoomLevel to "+this.neutralZoomLevel+". Be aware that the zoom level cannot go below "+this.neutralZoomLevel),"noDragFromElementClass"in z&&(this.noDragFromElementClass=z.noDragFromElementClass),"acceleratePan"in z&&(this.acceleratePan=z.acceleratePan),"dynamicContentDimensions"in z&&(this.dynamicContentDimensions=z.dynamicContentDimensions))}}}}]);
(self.webpackChunkmfComponents=self.webpackChunkmfComponents||[]).push([[398,846],{8573:(de,te)=>{function E(d){if(d)return function l(d){for(var L in E.prototype)d[L]=E.prototype[L];return d}(d)}te.Q=E,E.prototype.on=E.prototype.addEventListener=function(d,L){return this._callbacks=this._callbacks||{},(this._callbacks["$"+d]=this._callbacks["$"+d]||[]).push(L),this},E.prototype.once=function(d,L){function H(){this.off(d,H),L.apply(this,arguments)}return H.fn=L,this.on(d,H),this},E.prototype.off=E.prototype.removeListener=E.prototype.removeAllListeners=E.prototype.removeEventListener=function(d,L){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var H=this._callbacks["$"+d];if(!H)return this;if(1==arguments.length)return delete this._callbacks["$"+d],this;for(var I,G=0;G<H.length;G++)if((I=H[G])===L||I.fn===L){H.splice(G,1);break}return 0===H.length&&delete this._callbacks["$"+d],this},E.prototype.emitReserved=E.prototype.emit=function(d){this._callbacks=this._callbacks||{};for(var L=new Array(arguments.length-1),H=this._callbacks["$"+d],I=1;I<arguments.length;I++)L[I-1]=arguments[I];if(H){I=0;for(var G=(H=H.slice(0)).length;I<G;++I)H[I].apply(this,L)}return this},E.prototype.listeners=function(d){return this._callbacks=this._callbacks||{},this._callbacks["$"+d]||[]},E.prototype.hasListeners=function(d){return!!this.listeners(d).length}},3928:(de,te,E)=>{E.d(te,{Zc:()=>$,OI:()=>se});var l=E(824),L=E(7451);class I{constructor(R,C){this.x=R,this.y=C}static fromEvent(R,C=null){if(this.isMouseEvent(R))return new I(R.clientX,R.clientY);if(null===C||1===R.changedTouches.length)return new I(R.changedTouches[0].clientX,R.changedTouches[0].clientY);for(let O=0;O<R.changedTouches.length;O++)if(R.changedTouches[O].target===C)return new I(R.changedTouches[O].clientX,R.changedTouches[O].clientY)}static isMouseEvent(R){return 8===Object.prototype.toString.apply(R).indexOf("MouseEvent")}static isIPosition(R){return!!R&&"x"in R&&"y"in R}static getCurrent(R){let C=new I(0,0);if(window){const O=window.getComputedStyle(R);if(O){let B=parseInt(O.getPropertyValue("left"),10),ge=parseInt(O.getPropertyValue("top"),10);C.x=isNaN(B)?0:B,C.y=isNaN(ge)?0:ge}return C}return console.error("Not Supported!"),null}static copy(R){return new I(0,0).set(R)}get value(){return{x:this.x,y:this.y}}add(R){return this.x+=R.x,this.y+=R.y,this}subtract(R){return this.x-=R.x,this.y-=R.y,this}multiply(R){this.x*=R,this.y*=R}divide(R){this.x/=R,this.y/=R}reset(){return this.x=0,this.y=0,this}set(R){return this.x=R.x,this.y=R.y,this}}class G{constructor(R,C){this.parent=R,this.renderer=C,this._added=!1;let O=C.createElement("div");C.setStyle(O,"position","absolute"),C.setStyle(O,"width","100%"),C.setStyle(O,"height","100%"),C.setStyle(O,"background-color","transparent"),C.setStyle(O,"top","0"),C.setStyle(O,"left","0"),this._helper=O}add(){this.parent&&!this._added&&(this.parent.appendChild(this._helper),this._added=!0)}remove(){this.parent&&this._added&&(this.parent.removeChild(this._helper),this._added=!1)}dispose(){this._helper=null,this._added=!1}get el(){return this._helper}}let $=(()=>{class N{constructor(C,O){this.el=C,this.renderer=O,this.allowDrag=!0,this.moving=!1,this.orignal=null,this.oldTrans=new I(0,0),this.tempTrans=new I(0,0),this.currTrans=new I(0,0),this.oldZIndex="",this._zIndex="",this.needTransform=!1,this.draggingSub=null,this._helperBlock=null,this.started=new L.EventEmitter,this.stopped=new L.EventEmitter,this.edge=new L.EventEmitter,this.outOfBounds={top:!1,right:!1,bottom:!1,left:!1},this.gridSize=1,this.inBounds=!1,this.trackPosition=!0,this.scale=1,this.preventDefaultEvent=!1,this.position={x:0,y:0},this.lockAxis=null,this.movingOffset=new L.EventEmitter,this.endOffset=new L.EventEmitter,this._helperBlock=new G(C.nativeElement,O)}set zIndex(C){this.renderer.setStyle(this.el.nativeElement,"z-index",C),this._zIndex=C}set ngDraggable(C){if(null!=C&&""!==C){this.allowDrag=!!C;let O=this.getDragEl();this.allowDrag?this.renderer.addClass(O,"ng-draggable"):(this.putBack(),this.renderer.removeClass(O,"ng-draggable"))}}ngOnInit(){if(this.allowDrag){let C=this.getDragEl();this.renderer.addClass(C,"ng-draggable")}this.resetPosition()}ngOnDestroy(){this.bounds=null,this.handle=null,this.orignal=null,this.oldTrans=null,this.tempTrans=null,this.currTrans=null,this._helperBlock.dispose(),this._helperBlock=null,this.draggingSub&&this.draggingSub.unsubscribe()}ngOnChanges(C){if(C.position&&!C.position.isFirstChange()){let O=C.position.currentValue;this.moving?this.needTransform=!0:(I.isIPosition(O)?this.oldTrans.set(O):this.oldTrans.reset(),this.transform())}}ngAfterViewInit(){this.inBounds&&(this.boundsCheck(),this.oldTrans.add(this.tempTrans),this.tempTrans.reset())}getDragEl(){return this.handle?this.handle:this.el.nativeElement}resetPosition(){I.isIPosition(this.position)?this.oldTrans.set(this.position):this.oldTrans.reset(),this.tempTrans.reset(),this.transform()}moveTo(C){this.orignal&&(C.subtract(this.orignal),this.tempTrans.set(C),this.tempTrans.divide(this.scale),this.transform(),this.bounds&&this.edge.emit(this.boundsCheck()),this.movingOffset.emit(this.currTrans.value))}transform(){let C=this.tempTrans.x+this.oldTrans.x,O=this.tempTrans.y+this.oldTrans.y;"x"===this.lockAxis?(C=this.oldTrans.x,this.tempTrans.x=0):"y"===this.lockAxis&&(O=this.oldTrans.y,this.tempTrans.y=0),this.gridSize>1&&(C=Math.round(C/this.gridSize)*this.gridSize,O=Math.round(O/this.gridSize)*this.gridSize);let B=`translate(${Math.round(C)}px, ${Math.round(O)}px)`;this.renderer.setStyle(this.el.nativeElement,"transform",B),this.renderer.setStyle(this.el.nativeElement,"-webkit-transform",B),this.renderer.setStyle(this.el.nativeElement,"-ms-transform",B),this.renderer.setStyle(this.el.nativeElement,"-moz-transform",B),this.renderer.setStyle(this.el.nativeElement,"-o-transform",B),this.currTrans.x=C,this.currTrans.y=O}pickUp(){if(this.oldZIndex=this.el.nativeElement.style.zIndex?this.el.nativeElement.style.zIndex:"",window&&(this.oldZIndex=window.getComputedStyle(this.el.nativeElement,null).getPropertyValue("z-index")),this.zIndexMoving&&this.renderer.setStyle(this.el.nativeElement,"z-index",this.zIndexMoving),!this.moving){this.started.emit(this.el.nativeElement),this.moving=!0;const C=this.getDragEl();this.renderer.addClass(C,"ng-dragging"),this.subscribeEvents()}}subscribeEvents(){this.draggingSub=(0,l.fromEvent)(document,"mousemove",{passive:!1}).subscribe(O=>this.onMouseMove(O)),this.draggingSub.add((0,l.fromEvent)(document,"touchmove",{passive:!1}).subscribe(O=>this.onMouseMove(O))),this.draggingSub.add((0,l.fromEvent)(document,"mouseup",{passive:!1}).subscribe(()=>this.putBack())),/msie\s|trident\//i.test(window.navigator.userAgent)||this.draggingSub.add((0,l.fromEvent)(document,"mouseleave",{passive:!1}).subscribe(()=>this.putBack())),this.draggingSub.add((0,l.fromEvent)(document,"touchend",{passive:!1}).subscribe(()=>this.putBack())),this.draggingSub.add((0,l.fromEvent)(document,"touchcancel",{passive:!1}).subscribe(()=>this.putBack()))}unsubscribeEvents(){this.draggingSub.unsubscribe(),this.draggingSub=null}boundsCheck(){if(this.bounds){let C=this.bounds.getBoundingClientRect(),O=this.el.nativeElement.getBoundingClientRect(),B={top:!!this.outOfBounds.top||C.top<O.top,right:!!this.outOfBounds.right||C.right>O.right,bottom:!!this.outOfBounds.bottom||C.bottom>O.bottom,left:!!this.outOfBounds.left||C.left<O.left};return this.inBounds&&(B.top||(this.tempTrans.y-=(O.top-C.top)/this.scale),B.bottom||(this.tempTrans.y-=(O.bottom-C.bottom)/this.scale),B.right||(this.tempTrans.x-=(O.right-C.right)/this.scale),B.left||(this.tempTrans.x-=(O.left-C.left)/this.scale),this.transform()),B}}getCurrentOffset(){return this.currTrans.value}putBack(){if(this._zIndex?this.renderer.setStyle(this.el.nativeElement,"z-index",this._zIndex):this.zIndexMoving&&(this.oldZIndex?this.renderer.setStyle(this.el.nativeElement,"z-index",this.oldZIndex):this.el.nativeElement.style.removeProperty("z-index")),this.moving){this.stopped.emit(this.el.nativeElement),this._helperBlock.remove(),this.needTransform&&(I.isIPosition(this.position)?this.oldTrans.set(this.position):this.oldTrans.reset(),this.transform(),this.needTransform=!1),this.bounds&&this.edge.emit(this.boundsCheck()),this.moving=!1,this.endOffset.emit(this.currTrans.value),this.trackPosition&&this.oldTrans.add(this.tempTrans),this.tempTrans.reset(),this.trackPosition||this.transform();const C=this.getDragEl();this.renderer.removeClass(C,"ng-dragging"),this.unsubscribeEvents()}}checkHandleTarget(C,O){if("BUTTON"===O.tagName)return!1;if(O===C)return!0;for(let B in O.children)if(O.children.hasOwnProperty(B)&&this.checkHandleTarget(C,O.children[B]))return!0;return!1}onMouseDown(C){C instanceof MouseEvent&&2===C.button||void 0!==this.handle&&!this.checkHandleTarget(C.target||C.srcElement,this.handle)||!1!==this.allowDrag&&(this.preventDefaultEvent&&(C.stopPropagation(),C.preventDefault()),this.orignal=I.fromEvent(C,this.getDragEl()),this.pickUp())}onMouseMove(C){this.moving&&this.allowDrag&&(this.preventDefaultEvent&&(C.stopPropagation(),C.preventDefault()),this._helperBlock.add(),this.moveTo(I.fromEvent(C,this.getDragEl())))}}return N.\u0275fac=function(C){return new(C||N)(L.\u0275\u0275directiveInject(L.ElementRef),L.\u0275\u0275directiveInject(L.Renderer2))},N.\u0275dir=L.\u0275\u0275defineDirective({type:N,selectors:[["","ngDraggable",""]],hostBindings:function(C,O){1&C&&L.\u0275\u0275listener("mousedown",function(ge){return O.onMouseDown(ge)})("touchstart",function(ge){return O.onMouseDown(ge)})},inputs:{outOfBounds:"outOfBounds",gridSize:"gridSize",inBounds:"inBounds",trackPosition:"trackPosition",scale:"scale",preventDefaultEvent:"preventDefaultEvent",position:"position",lockAxis:"lockAxis",zIndex:"zIndex",ngDraggable:"ngDraggable",bounds:"bounds",handle:"handle",zIndexMoving:"zIndexMoving"},outputs:{started:"started",stopped:"stopped",edge:"edge",movingOffset:"movingOffset",endOffset:"endOffset"},exportAs:["ngDraggable"],features:[L.\u0275\u0275NgOnChangesFeature]}),N})();class ae{constructor(R,C,O,B,ge){this.parent=R,this.renderer=C,this.type=O,this.css=B,this.onMouseDown=ge;let xe=C.createElement("div");C.addClass(xe,"ng-resizable-handle"),C.addClass(xe,B),"se"===O&&C.addClass(xe,"ng-resizable-diagonal"),this.parent&&R.appendChild(xe),this._onResize=Ye=>{ge(Ye,this)},xe.addEventListener("mousedown",this._onResize,{passive:!1}),xe.addEventListener("touchstart",this._onResize,{passive:!1}),this._handle=xe}dispose(){this._handle.removeEventListener("mousedown",this._onResize),this._handle.removeEventListener("touchstart",this._onResize),this.parent&&this.parent.removeChild(this._handle),this._handle=null,this._onResize=null}get el(){return this._handle}}class Y{constructor(R,C){this.width=R,this.height=C}static getCurrent(R){let C=new Y(0,0);if(window){const O=window.getComputedStyle(R);return O&&(C.width=parseInt(O.getPropertyValue("width"),10),C.height=parseInt(O.getPropertyValue("height"),10)),C}return console.error("Not Supported!"),null}static copy(R){return new Y(0,0).set(R)}set(R){return this.width=R.width,this.height=R.height,this}}let se=(()=>{class N{constructor(C,O){this.el=C,this.renderer=O,this._resizable=!0,this._handles={},this._handleType=[],this._handleResizing=null,this._direction=null,this._directionChanged=null,this._aspectRatio=0,this._containment=null,this._origMousePos=null,this._origSize=null,this._origPos=null,this._currSize=null,this._currPos=null,this._initSize=null,this._initPos=null,this._gridSize=null,this._bounding=null,this._helperBlock=null,this.draggingSub=null,this._adjusted=!1,this.rzHandles="e,s,se",this.rzAspectRatio=!1,this.rzContainment=null,this.rzGrid=null,this.rzMinWidth=null,this.rzMinHeight=null,this.rzMaxWidth=null,this.rzMaxHeight=null,this.preventDefaultEvent=!0,this.rzStart=new L.EventEmitter,this.rzResizing=new L.EventEmitter,this.rzStop=new L.EventEmitter,this._helperBlock=new G(C.nativeElement,O)}set ngResizable(C){null!=C&&""!==C&&(this._resizable=!!C,this.updateResizable())}ngOnChanges(C){C.rzHandles&&!C.rzHandles.isFirstChange()&&this.updateResizable(),C.rzAspectRatio&&!C.rzAspectRatio.isFirstChange()&&this.updateAspectRatio(),C.rzContainment&&!C.rzContainment.isFirstChange()&&this.updateContainment()}ngOnInit(){this.updateResizable()}ngOnDestroy(){this.removeHandles(),this._containment=null,this._helperBlock.dispose(),this._helperBlock=null}ngAfterViewInit(){const C=this.el.nativeElement;this._initSize=Y.getCurrent(C),this._initPos=I.getCurrent(C),this._currSize=Y.copy(this._initSize),this._currPos=I.copy(this._initPos),this.updateAspectRatio(),this.updateContainment()}resetSize(){this._currSize=Y.copy(this._initSize),this._currPos=I.copy(this._initPos),this.doResize()}getStatus(){return this._currPos&&this._currSize?{size:{width:this._currSize.width,height:this._currSize.height},position:{top:this._currPos.y,left:this._currPos.x}}:null}updateResizable(){const C=this.el.nativeElement;this.renderer.removeClass(C,"ng-resizable"),this.removeHandles(),this._resizable&&(this.renderer.addClass(C,"ng-resizable"),this.createHandles())}updateAspectRatio(){if("boolean"==typeof this.rzAspectRatio)this._aspectRatio=this.rzAspectRatio&&this._currSize.height?this._currSize.width/this._currSize.height:0;else{let C=Number(this.rzAspectRatio);this._aspectRatio=isNaN(C)?0:C}}updateContainment(){this._containment=this.rzContainment?"string"==typeof this.rzContainment?"parent"===this.rzContainment?this.el.nativeElement.parentElement:document.querySelector(this.rzContainment):this.rzContainment:null}createHandles(){if(!this.rzHandles)return;let C;if("string"==typeof this.rzHandles){C="all"===this.rzHandles?["n","e","s","w","ne","se","nw","sw"]:this.rzHandles.replace(/ /g,"").toLowerCase().split(",");for(let O of C){let B=this.createHandleByType(O,`ng-resizable-${O}`);B&&(this._handleType.push(O),this._handles[O]=B)}}else{C=Object.keys(this.rzHandles);for(let O of C){let B=this.createHandleByType(O,this.rzHandles[O]);B&&(this._handleType.push(O),this._handles[O]=B)}}}createHandleByType(C,O){const B=this.el.nativeElement;return C.match(/^(se|sw|ne|nw|n|e|s|w)$/)?new ae(B,this.renderer,C,O,this.onMouseDown.bind(this)):(console.error("Invalid handle type:",C),null)}removeHandles(){for(let C of this._handleType)this._handles[C].dispose();this._handleType=[],this._handles={}}onMouseDown(C,O){C instanceof MouseEvent&&2===C.button||(this.preventDefaultEvent&&(C.stopPropagation(),C.preventDefault()),this._handleResizing||(this._origMousePos=I.fromEvent(C),this.startResize(O),this.subscribeEvents()))}subscribeEvents(){this.draggingSub=(0,l.fromEvent)(document,"mousemove",{passive:!1}).subscribe(O=>this.onMouseMove(O)),this.draggingSub.add((0,l.fromEvent)(document,"touchmove",{passive:!1}).subscribe(O=>this.onMouseMove(O))),this.draggingSub.add((0,l.fromEvent)(document,"mouseup",{passive:!1}).subscribe(()=>this.onMouseLeave())),/msie\s|trident\//i.test(window.navigator.userAgent)||this.draggingSub.add((0,l.fromEvent)(document,"mouseleave",{passive:!1}).subscribe(()=>this.onMouseLeave())),this.draggingSub.add((0,l.fromEvent)(document,"touchend",{passive:!1}).subscribe(()=>this.onMouseLeave())),this.draggingSub.add((0,l.fromEvent)(document,"touchcancel",{passive:!1}).subscribe(()=>this.onMouseLeave()))}unsubscribeEvents(){this.draggingSub.unsubscribe(),this.draggingSub=null}onMouseLeave(){this._handleResizing&&(this.stopResize(),this._origMousePos=null,this.unsubscribeEvents())}onMouseMove(C){this._handleResizing&&this._resizable&&this._origMousePos&&this._origPos&&this._origSize&&(this.resizeTo(I.fromEvent(C)),this.onResizing())}startResize(C){const O=this.el.nativeElement;this._origSize=Y.getCurrent(O),this._origPos=I.getCurrent(O),this._currSize=Y.copy(this._origSize),this._currPos=I.copy(this._origPos),this._containment&&this.getBounding(),this.getGridSize(),this._helperBlock.add(),this._handleResizing=C,this.updateDirection(),this.rzStart.emit(this.getResizingEvent())}stopResize(){this._helperBlock.remove(),this.rzStop.emit(this.getResizingEvent()),this._handleResizing=null,this._direction=null,this._origSize=null,this._origPos=null,this._containment&&this.resetBounding()}onResizing(){this.rzResizing.emit(this.getResizingEvent())}getResizingEvent(){return{host:this.el.nativeElement,handle:this._handleResizing?this._handleResizing.el:null,size:{width:this._currSize.width,height:this._currSize.height},position:{top:this._currPos.y,left:this._currPos.x},direction:Object.assign({},this._directionChanged)}}updateDirection(){this._direction={n:!!this._handleResizing.type.match(/n/),s:!!this._handleResizing.type.match(/s/),w:!!this._handleResizing.type.match(/w/),e:!!this._handleResizing.type.match(/e/)},this._directionChanged=Object.assign({},this._direction),this.rzAspectRatio&&(this._directionChanged.n&&!this._directionChanged.e&&(this._directionChanged.w=!0),this._directionChanged.s&&!this._directionChanged.w&&(this._directionChanged.e=!0),this._directionChanged.e&&!this._directionChanged.n&&(this._directionChanged.s=!0),this._directionChanged.w&&!this._directionChanged.n&&(this._directionChanged.s=!0))}resizeTo(C){C.subtract(this._origMousePos);const O=Math.round(C.x/this._gridSize.x)*this._gridSize.x,B=Math.round(C.y/this._gridSize.y)*this._gridSize.y;this._direction.n?(this._currPos.y=this._origPos.y+B,this._currSize.height=this._origSize.height-B):this._direction.s&&(this._currSize.height=this._origSize.height+B),this._direction.e?this._currSize.width=this._origSize.width+O:this._direction.w&&(this._currSize.width=this._origSize.width-O,this._currPos.x=this._origPos.x+O),this.checkBounds(),this.checkSize(),this.adjustByRatio(),this.doResize()}doResize(){const C=this.el.nativeElement;(!this._direction||this._direction.n||this._direction.s||this._aspectRatio)&&this.renderer.setStyle(C,"height",this._currSize.height+"px"),(!this._direction||this._direction.w||this._direction.e||this._aspectRatio)&&this.renderer.setStyle(C,"width",this._currSize.width+"px"),this.renderer.setStyle(C,"left",this._currPos.x+"px"),this.renderer.setStyle(C,"top",this._currPos.y+"px")}adjustByRatio(){if(this._aspectRatio&&!this._adjusted)if(this._direction.e||this._direction.w){const C=Math.floor(this._currSize.width/this._aspectRatio);this._direction.n&&(this._currPos.y+=this._currSize.height-C),this._currSize.height=C}else{const C=Math.floor(this._aspectRatio*this._currSize.height);this._direction.n&&(this._currPos.x+=this._currSize.width-C),this._currSize.width=C}}checkBounds(){if(this._containment){const C=this._bounding.width-this._bounding.pr-this._bounding.deltaL-this._bounding.translateX-this._currPos.x,O=this._bounding.height-this._bounding.pb-this._bounding.deltaT-this._bounding.translateY-this._currPos.y;if(this._direction.n&&this._currPos.y+this._bounding.translateY<0&&(this._currPos.y=-this._bounding.translateY,this._currSize.height=this._origSize.height+this._origPos.y+this._bounding.translateY),this._direction.w&&this._currPos.x+this._bounding.translateX<0&&(this._currPos.x=-this._bounding.translateX,this._currSize.width=this._origSize.width+this._origPos.x+this._bounding.translateX),this._currSize.width>C&&(this._currSize.width=C),this._currSize.height>O&&(this._currSize.height=O),this._aspectRatio){if(this._adjusted=!1,(this._direction.w||this._direction.e)&&this._currSize.width/this._aspectRatio>=O){const B=Math.floor(O*this._aspectRatio);this._direction.w&&(this._currPos.x+=this._currSize.width-B),this._currSize.width=B,this._currSize.height=O,this._adjusted=!0}if((this._direction.n||this._direction.s)&&this._currSize.height*this._aspectRatio>=C){const B=Math.floor(C/this._aspectRatio);this._direction.n&&(this._currPos.y+=this._currSize.height-B),this._currSize.width=C,this._currSize.height=B,this._adjusted=!0}}}}checkSize(){const C=this.rzMinHeight?this.rzMinHeight:1,O=this.rzMinWidth?this.rzMinWidth:1;this._currSize.height<C&&(this._currSize.height=C,this._direction.n&&(this._currPos.y=this._origPos.y+(this._origSize.height-C))),this._currSize.width<O&&(this._currSize.width=O,this._direction.w&&(this._currPos.x=this._origPos.x+(this._origSize.width-O))),this.rzMaxHeight&&this._currSize.height>this.rzMaxHeight&&(this._currSize.height=this.rzMaxHeight,this._direction.n&&(this._currPos.y=this._origPos.y+(this._origSize.height-this.rzMaxHeight))),this.rzMaxWidth&&this._currSize.width>this.rzMaxWidth&&(this._currSize.width=this.rzMaxWidth,this._direction.w&&(this._currPos.x=this._origPos.x+(this._origSize.width-this.rzMaxWidth)))}getBounding(){const C=this._containment,O=window.getComputedStyle(C);if(O){let B=O.getPropertyValue("position"),xe=window.getComputedStyle(this.el.nativeElement).getPropertyValue("transform").replace(/[^-\d,]/g,"").split(",");this._bounding={},this._bounding.width=C.clientWidth,this._bounding.height=C.clientHeight,this._bounding.pr=parseInt(O.getPropertyValue("padding-right"),10),this._bounding.pb=parseInt(O.getPropertyValue("padding-bottom"),10),this._bounding.deltaL=this.el.nativeElement.offsetLeft-this._currPos.x,this._bounding.deltaT=this.el.nativeElement.offsetTop-this._currPos.y,xe.length>=6?(this._bounding.translateX=parseInt(xe[4],10),this._bounding.translateY=parseInt(xe[5],10)):(this._bounding.translateX=0,this._bounding.translateY=0),this._bounding.position=O.getPropertyValue("position"),"static"===B&&this.renderer.setStyle(C,"position","relative")}}resetBounding(){this._bounding&&"static"===this._bounding.position&&this.renderer.setStyle(this._containment,"position","relative"),this._bounding=null}getGridSize(){this._gridSize={x:1,y:1},this.rzGrid&&("number"==typeof this.rzGrid?this._gridSize={x:this.rzGrid,y:this.rzGrid}:Array.isArray(this.rzGrid)&&(this._gridSize={x:this.rzGrid[0],y:this.rzGrid[1]}))}}return N.\u0275fac=function(C){return new(C||N)(L.\u0275\u0275directiveInject(L.ElementRef),L.\u0275\u0275directiveInject(L.Renderer2))},N.\u0275dir=L.\u0275\u0275defineDirective({type:N,selectors:[["","ngResizable",""]],inputs:{rzHandles:"rzHandles",rzAspectRatio:"rzAspectRatio",rzContainment:"rzContainment",rzGrid:"rzGrid",rzMinWidth:"rzMinWidth",rzMinHeight:"rzMinHeight",rzMaxWidth:"rzMaxWidth",rzMaxHeight:"rzMaxHeight",preventDefaultEvent:"preventDefaultEvent",ngResizable:"ngResizable"},outputs:{rzStart:"rzStart",rzResizing:"rzResizing",rzStop:"rzStop"},exportAs:["ngResizable"],features:[L.\u0275\u0275NgOnChangesFeature]}),N})()},7591:de=>{function te(E){this.ms=(E=E||{}).min||100,this.max=E.max||1e4,this.factor=E.factor||2,this.jitter=E.jitter>0&&E.jitter<=1?E.jitter:0,this.attempts=0}de.exports=te,te.prototype.duration=function(){var E=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var l=Math.random(),d=Math.floor(l*this.jitter*E);E=0==(1&Math.floor(10*l))?E-d:E+d}return 0|Math.min(E,this.max)},te.prototype.reset=function(){this.attempts=0},te.prototype.setMin=function(E){this.ms=E},te.prototype.setMax=function(E){this.max=E},te.prototype.setJitter=function(E){this.jitter=E}},4966:de=>{try{de.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch{de.exports=!1}},9603:(de,te)=>{te.encode=function(E){var l="";for(var d in E)E.hasOwnProperty(d)&&(l.length&&(l+="&"),l+=encodeURIComponent(d)+"="+encodeURIComponent(E[d]));return l},te.decode=function(E){for(var l={},d=E.split("&"),L=0,H=d.length;L<H;L++){var I=d[L].split("=");l[decodeURIComponent(I[0])]=decodeURIComponent(I[1])}return l}},4171:de=>{var te=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,E=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];de.exports=function(H){var I=H,G=H.indexOf("["),$=H.indexOf("]");-1!=G&&-1!=$&&(H=H.substring(0,G)+H.substring(G,$).replace(/:/g,";")+H.substring($,H.length));for(var ae=te.exec(H||""),Y={},se=14;se--;)Y[E[se]]=ae[se]||"";return-1!=G&&-1!=$&&(Y.source=I,Y.host=Y.host.substring(1,Y.host.length-1).replace(/;/g,":"),Y.authority=Y.authority.replace("[","").replace("]","").replace(/;/g,":"),Y.ipv6uri=!0),Y.pathNames=function l(L,H){var G=H.replace(/\/{2,9}/g,"/").split("/");return("/"==H.substr(0,1)||0===H.length)&&G.splice(0,1),"/"==H.substr(H.length-1,1)&&G.splice(G.length-1,1),G}(0,Y.path),Y.queryKey=function d(L,H){var I={};return H.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(G,$,ae){$&&(I[$]=ae)}),I}(0,Y.query),Y}},2885:(de,te,E)=>{E.d(te,{Ae:()=>ui});class l{constructor(s){this.table=s}reloadData(s,e){return this.table.dataLoader.load(s,void 0,void 0,void 0,e)}langText(){return this.table.modules.localize.getText(...arguments)}langBind(){return this.table.modules.localize.bind(...arguments)}langLocale(){return this.table.modules.localize.getLocale(...arguments)}commsConnections(){return this.table.modules.comms.getConnections(...arguments)}commsSend(){return this.table.modules.comms.send(...arguments)}layoutMode(){return this.table.modules.layout.getMode()}layoutRefresh(){return this.table.modules.layout.layout()}subscribe(){return this.table.eventBus.subscribe(...arguments)}unsubscribe(){return this.table.eventBus.unsubscribe(...arguments)}subscribed(s){return this.table.eventBus.subscribed(s)}subscriptionChange(){return this.table.eventBus.subscriptionChange(...arguments)}dispatch(){return this.table.eventBus.dispatch(...arguments)}chain(){return this.table.eventBus.chain(...arguments)}confirm(){return this.table.eventBus.confirm(...arguments)}dispatchExternal(){return this.table.externalEvents.dispatch(...arguments)}subscribedExternal(s){return this.table.externalEvents.subscribed(s)}subscriptionChangeExternal(){return this.table.externalEvents.subscriptionChange(...arguments)}options(s){return this.table.options[s]}setOption(s,e){return void 0!==e&&(this.table.options[s]=e),this.table.options[s]}module(s){return this.table.module(s)}}class d extends l{constructor(s,e){super(s),this._handler=null}initialize(){}registerTableOption(s,e){this.table.optionsList.register(s,e)}registerColumnOption(s,e){this.table.columnManager.optionsList.register(s,e)}registerTableFunction(s,e){void 0===this.table[s]?this.table[s]=e:console.warn("Unable to bind table function, name already in use",s)}registerComponentFunction(s,e,t){return this.table.componentFunctionBinder.bind(s,e,t)}registerDataHandler(s,e){this.table.rowManager.registerDataPipelineHandler(s,e),this._handler=s}registerDisplayHandler(s,e){this.table.rowManager.registerDisplayPipelineHandler(s,e),this._handler=s}refreshData(s,e){e||(e=this._handler),e&&this.table.rowManager.refreshActiveData(e,!1,s)}}class L{static elVisible(s){return!(s.offsetWidth<=0&&s.offsetHeight<=0)}static elOffset(s){var e=s.getBoundingClientRect();return{top:e.top+window.pageYOffset-document.documentElement.clientTop,left:e.left+window.pageXOffset-document.documentElement.clientLeft}}static deepClone(s,e,t=[]){var n={}.__proto__,o=[].__proto__;for(var r in e||(e=Object.assign(Array.isArray(s)?[]:{},s)),s){let f,y,a=s[r];null!=a&&"object"==typeof a&&(a.__proto__===n||a.__proto__===o)&&(f=t.findIndex(x=>x.subject===a),f>-1?e[r]=t[f].copy:(y=Object.assign(Array.isArray(a)?[]:{},a),t.unshift({subject:a,copy:y}),e[r]=this.deepClone(a,y,t)))}return e}}var H={};let I=(()=>{class c extends d{constructor(e){super(e),this.allowedTypes=["","data","download","clipboard","print","htmlOutput"],this.registerColumnOption("accessor"),this.registerColumnOption("accessorParams"),this.registerColumnOption("accessorData"),this.registerColumnOption("accessorDataParams"),this.registerColumnOption("accessorDownload"),this.registerColumnOption("accessorDownloadParams"),this.registerColumnOption("accessorClipboard"),this.registerColumnOption("accessorClipboardParams"),this.registerColumnOption("accessorPrint"),this.registerColumnOption("accessorPrintParams"),this.registerColumnOption("accessorHtmlOutput"),this.registerColumnOption("accessorHtmlOutputParams")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-retrieve",this.transformRow.bind(this))}initializeColumn(e){var t=!1,n={};this.allowedTypes.forEach(o=>{var a,r="accessor"+(o.charAt(0).toUpperCase()+o.slice(1));e.definition[r]&&(a=this.lookupAccessor(e.definition[r]))&&(t=!0,n[r]={accessor:a,params:e.definition[r+"Params"]||{}})}),t&&(e.modules.accessor=n)}lookupAccessor(e){var t=!1;switch(typeof e){case"string":c.accessors[e]?t=c.accessors[e]:console.warn("Accessor Error - No such accessor found, ignoring: ",e);break;case"function":t=e}return t}transformRow(e,t){var n="accessor"+(t.charAt(0).toUpperCase()+t.slice(1)),o=e.getComponent(),r=L.deepClone(e.data||{});return this.table.columnManager.traverse(function(a){var f,y,x,P;a.modules.accessor&&(y=a.modules.accessor[n]||a.modules.accessor.accessor||!1)&&"undefined"!=(f=a.getFieldValue(r))&&(P=a.getComponent(),x="function"==typeof y.params?y.params(f,r,t,P,o):y.params,a.setFieldValue(r,y.accessor(f,r,t,x,P,o)))}),r}}return c.moduleName="accessor",c.accessors=H,c})();var G={method:"GET"};function $(c,s){var e=[];if(s=s||"",Array.isArray(c))c.forEach((n,o)=>{e=e.concat($(n,s?s+"["+o+"]":o))});else if("object"==typeof c)for(var t in c)e=e.concat($(c[t],s?s+"["+t+"]":t));else e.push({key:s,value:c});return e}function ae(c){var s=$(c),e=[];return s.forEach(function(t){e.push(encodeURIComponent(t.key)+"="+encodeURIComponent(t.value))}),e.join("&")}function Y(c,s,e){return c&&e&&Object.keys(e).length&&(!s.method||"get"==s.method.toLowerCase())&&(s.method="get",c+=(c.includes("?")?"&":"?")+ae(e)),c}function se(c,s,e){var t;return new Promise((n,o)=>{if(c=this.urlGenerator.call(this.table,c,s,e),"GET"!=s.method.toUpperCase())if(t="object"==typeof this.table.options.ajaxContentType?this.table.options.ajaxContentType:this.contentTypeFormatters[this.table.options.ajaxContentType]){for(var r in t.headers)s.headers||(s.headers={}),void 0===s.headers[r]&&(s.headers[r]=t.headers[r]);s.body=t.body.call(this,c,s,e)}else console.warn("Ajax Error - Invalid ajaxContentType value:",this.table.options.ajaxContentType);c?(void 0===s.headers&&(s.headers={}),void 0===s.headers.Accept&&(s.headers.Accept="application/json"),void 0===s.headers["X-Requested-With"]&&(s.headers["X-Requested-With"]="XMLHttpRequest"),void 0===s.mode&&(s.mode="cors"),"cors"==s.mode?(void 0===s.headers.Origin&&(s.headers.Origin=window.location.origin),void 0===s.credentials&&(s.credentials="same-origin")):void 0===s.credentials&&(s.credentials="include"),fetch(c,s).then(a=>{a.ok?a.json().then(f=>{n(f)}).catch(f=>{o(f),console.warn("Ajax Load Error - Invalid JSON returned",f)}):(console.error("Ajax Load Error - Connection Error: "+a.status,a.statusText),o(a))}).catch(a=>{console.error("Ajax Load Error - Connection Error: ",a),o(a)})):(console.warn("Ajax Load Error - No URL Set"),n([]))})}function le(c,s){var e=[];if(s=s||"",Array.isArray(c))c.forEach((n,o)=>{e=e.concat(le(n,s?s+"["+o+"]":o))});else if("object"==typeof c)for(var t in c)e=e.concat(le(c[t],s?s+"["+t+"]":t));else e.push({key:s,value:c});return e}var N={json:{headers:{"Content-Type":"application/json"},body:function(c,s,e){return JSON.stringify(e)}},form:{headers:{},body:function(c,s,e){var t=le(e),n=new FormData;return t.forEach(function(o){n.append(o.key,o.value)}),n}}};let R=(()=>{class c extends d{constructor(e){super(e),this.config={},this.url="",this.urlGenerator=!1,this.params=!1,this.loaderPromise=!1,this.registerTableOption("ajaxURL",!1),this.registerTableOption("ajaxURLGenerator",!1),this.registerTableOption("ajaxParams",{}),this.registerTableOption("ajaxConfig","get"),this.registerTableOption("ajaxContentType","form"),this.registerTableOption("ajaxRequestFunc",!1),this.registerTableOption("ajaxRequesting",function(){}),this.registerTableOption("ajaxResponse",!1),this.contentTypeFormatters=c.contentTypeFormatters}initialize(){this.loaderPromise=this.table.options.ajaxRequestFunc||c.defaultLoaderPromise,this.urlGenerator=this.table.options.ajaxURLGenerator||c.defaultURLGenerator,this.table.options.ajaxURL&&this.setUrl(this.table.options.ajaxURL),this.setDefaultConfig(this.table.options.ajaxConfig),this.registerTableFunction("getAjaxUrl",this.getUrl.bind(this)),this.subscribe("data-loading",this.requestDataCheck.bind(this)),this.subscribe("data-params",this.requestParams.bind(this)),this.subscribe("data-load",this.requestData.bind(this))}requestParams(e,t,n,o){var r=this.table.options.ajaxParams;return r&&("function"==typeof r&&(r=r.call(this.table)),o=Object.assign(o,r)),o}requestDataCheck(e,t,n,o){return!((e||!this.url)&&"string"!=typeof e)}requestData(e,t,n,o,r){var a;return!r&&this.requestDataCheck(e)?(e&&this.setUrl(e),a=this.generateConfig(n),this.sendRequest(this.url,t,a)):r}setDefaultConfig(e={}){this.config=Object.assign({},c.defaultConfig),"string"==typeof e?this.config.method=e:Object.assign(this.config,e)}generateConfig(e={}){var t=Object.assign({},this.config);return"string"==typeof e?t.method=e:Object.assign(t,e),t}setUrl(e){this.url=e}getUrl(){return this.url}sendRequest(e,t,n){return!1!==this.table.options.ajaxRequesting.call(this.table,e,t)?this.loaderPromise(e,n,t).then(o=>(this.table.options.ajaxResponse&&(o=this.table.options.ajaxResponse.call(this.table,e,t,o)),o)):Promise.reject()}}return c.moduleName="ajax",c.defaultConfig=G,c.defaultURLGenerator=Y,c.defaultLoaderPromise=se,c.contentTypeFormatters=N,c})();var C={replace:function(c){return this.table.setData(c)},update:function(c){return this.table.updateOrAddData(c)},insert:function(c){return this.table.addData(c)}},O={table:function(c){var s=[],e=!0,t=this.table.columnManager.columns,n=[],o=[];return(c=c.split("\n")).forEach(function(r){s.push(r.split("\t"))}),!(!s.length||1===s.length&&s[0].length<2)&&(s[0].forEach(function(r){var a=t.find(function(f){return r&&f.definition.title&&r.trim()&&f.definition.title.trim()===r.trim()});a?n.push(a):e=!1}),e||(e=!0,n=[],s[0].forEach(function(r){var a=t.find(function(f){return r&&f.field&&r.trim()&&f.field.trim()===r.trim()});a?n.push(a):e=!1}),e||(n=this.table.columnManager.columnsByIndex)),e&&s.shift(),s.forEach(function(r){var a={};r.forEach(function(f,y){n[y]&&(a[n[y].field]=f)}),o.push(a)}),o)}};let B=(()=>{class c extends d{constructor(e){super(e),this.mode=!0,this.pasteParser=function(){},this.pasteAction=function(){},this.customSelection=!1,this.rowRange=!1,this.blocked=!0,this.registerTableOption("clipboard",!1),this.registerTableOption("clipboardCopyStyled",!0),this.registerTableOption("clipboardCopyConfig",!1),this.registerTableOption("clipboardCopyFormatter",!1),this.registerTableOption("clipboardCopyRowRange","active"),this.registerTableOption("clipboardPasteParser","table"),this.registerTableOption("clipboardPasteAction","insert"),this.registerColumnOption("clipboard"),this.registerColumnOption("titleClipboard")}initialize(){this.mode=this.table.options.clipboard,this.rowRange=this.table.options.clipboardCopyRowRange,(!0===this.mode||"copy"===this.mode)&&this.table.element.addEventListener("copy",e=>{var t,n;if(!this.blocked){if(e.preventDefault(),this.customSelection)t=this.customSelection,this.table.options.clipboardCopyFormatter&&(t=this.table.options.clipboardCopyFormatter("plain",t));else{var o=this.table.modules.export.generateExportList(this.table.options.clipboardCopyConfig,this.table.options.clipboardCopyStyled,this.rowRange,"clipboard");t=(n=this.table.modules.export.genereateHTMLTable(o))?this.generatePlainContent(o):"",this.table.options.clipboardCopyFormatter&&(t=this.table.options.clipboardCopyFormatter("plain",t),n=this.table.options.clipboardCopyFormatter("html",n))}window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",t):e.clipboardData&&e.clipboardData.setData?(e.clipboardData.setData("text/plain",t),n&&e.clipboardData.setData("text/html",n)):e.originalEvent&&e.originalEvent.clipboardData.setData&&(e.originalEvent.clipboardData.setData("text/plain",t),n&&e.originalEvent.clipboardData.setData("text/html",n)),this.dispatchExternal("clipboardCopied",t,n),this.reset()}}),(!0===this.mode||"paste"===this.mode)&&this.table.element.addEventListener("paste",e=>{this.paste(e)}),this.setPasteParser(this.table.options.clipboardPasteParser),this.setPasteAction(this.table.options.clipboardPasteAction),this.registerTableFunction("copyToClipboard",this.copy.bind(this))}reset(){this.blocked=!0,this.customSelection=!1}generatePlainContent(e){var t=[];return e.forEach(n=>{var o=[];n.columns.forEach(r=>{var a="";if(r)if("group"===n.type&&(r.value=r.component.getKey()),null===r.value)a="";else switch(typeof r.value){case"object":a=JSON.stringify(r.value);break;case"undefined":a="";break;default:a=r.value}o.push(a)}),t.push(o.join("\t"))}),t.join("\n")}copy(n,t){var o,r;this.blocked=!1,this.customSelection=!1,(!0===this.mode||"copy"===this.mode)&&(this.rowRange=n||this.table.options.clipboardCopyRowRange,void 0!==window.getSelection&&void 0!==document.createRange?((n=document.createRange()).selectNodeContents(this.table.element),(o=window.getSelection()).toString()&&t&&(this.customSelection=o.toString()),o.removeAllRanges(),o.addRange(n)):void 0!==document.selection&&void 0!==document.body.createTextRange&&((r=document.body.createTextRange()).moveToElementText(this.table.element),r.select()),document.execCommand("copy"),o&&o.removeAllRanges())}setPasteAction(e){switch(typeof e){case"string":this.pasteAction=c.pasteActions[e],this.pasteAction||console.warn("Clipboard Error - No such paste action found:",e);break;case"function":this.pasteAction=e}}setPasteParser(e){switch(typeof e){case"string":this.pasteParser=c.pasteParsers[e],this.pasteParser||console.warn("Clipboard Error - No such paste parser found:",e);break;case"function":this.pasteParser=e}}paste(e){var t,n,o;this.checkPaseOrigin(e)&&(t=this.getPasteData(e),(n=this.pasteParser.call(this,t))?(e.preventDefault(),this.table.modExists("mutator")&&(n=this.mutateData(n)),o=this.pasteAction.call(this,n),this.dispatchExternal("clipboardPasted",t,n,o)):this.dispatchExternal("clipboardPasteError",t))}mutateData(e){var t=[];return Array.isArray(e)?e.forEach(n=>{t.push(this.table.modules.mutator.transformRow(n,"clipboard"))}):t=e,t}checkPaseOrigin(e){var t=!0;return("DIV"!=e.target.tagName||this.table.modules.edit.currentCell)&&(t=!1),t}getPasteData(e){var t;return window.clipboardData&&window.clipboardData.getData?t=window.clipboardData.getData("Text"):e.clipboardData&&e.clipboardData.getData?t=e.clipboardData.getData("text/plain"):e.originalEvent&&e.originalEvent.clipboardData.getData&&(t=e.originalEvent.clipboardData.getData("text/plain")),t}}return c.moduleName="clipboard",c.pasteActions=C,c.pasteParsers=O,c})();class ge{constructor(s){return this._row=s,new Proxy(this,{get:function(e,t,n){return void 0!==e[t]?e[t]:e._row.table.componentFunctionBinder.handle("row",e._row,t)}})}getData(s){return this._row.getData(s)}getElement(){return this._row.getElement()}getTable(){return this._row.table}getCells(){var s=[];return this._row.getCells().forEach(function(e){s.push(e.getComponent())}),s}getCell(s){var e=this._row.getCell(s);return!!e&&e.getComponent()}_getSelf(){return this._row}}class xe{constructor(s){return this._cell=s,new Proxy(this,{get:function(e,t,n){return void 0!==e[t]?e[t]:e._cell.table.componentFunctionBinder.handle("cell",e._cell,t)}})}getValue(){return this._cell.getValue()}getOldValue(){return this._cell.getOldValue()}getInitialValue(){return this._cell.initialValue}getElement(){return this._cell.getElement()}getRow(){return this._cell.row.getComponent()}getData(){return this._cell.row.getData()}getField(){return this._cell.column.getField()}getColumn(){return this._cell.column.getComponent()}setValue(s,e){void 0===e&&(e=!0),this._cell.setValue(s,e)}restoreOldValue(){this._cell.setValueActual(this._cell.getOldValue())}restoreInitialValue(){this._cell.setValueActual(this._cell.initialValue)}checkHeight(){this._cell.checkHeight()}getTable(){return this._cell.table}_getSelf(){return this._cell}}class Ye extends l{constructor(s,e){super(s.table),this.table=s.table,this.column=s,this.row=e,this.element=null,this.value=null,this.oldValue=null,this.modules={},this.height=null,this.width=null,this.minWidth=null,this.component=null,this.loaded=!1,this.build()}build(){this.generateElement(),this.setWidth(),this._configureCell(),this.setValueActual(this.column.getFieldValue(this.row.data)),this.initialValue=this.value}generateElement(){this.element=document.createElement("div"),this.element.className="tabulator-cell",this.element.setAttribute("role","gridcell"),this.element=this.element}_configureCell(){var s=this.element,e=this.column.getField();s.style.textAlign=this.column.hozAlign,this.column.vertAlign&&(s.style.display="inline-flex",s.style.alignItems={top:"flex-start",bottom:"flex-end",middle:"center"}[this.column.vertAlign]||"",this.column.hozAlign&&(s.style.justifyContent={left:"flex-start",right:"flex-end",center:"center"}[this.column.hozAlign]||"")),e&&s.setAttribute("tabulator-field",e),this.column.definition.cssClass&&this.column.definition.cssClass.split(" ").forEach(r=>{s.classList.add(r)}),"hover"===this.table.options.tooltipGenerationMode&&s.addEventListener("mouseenter",r=>{this._generateTooltip()}),this.dispatch("cell-init",this),this.column.visible||this.hide()}_generateContents(){var s;switch(typeof(s=this.chain("cell-format",this,null,()=>this.element.innerHTML=this.value))){case"object":if(s instanceof Node){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.appendChild(s)}else this.element.innerHTML="",null!=s&&console.warn("Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",s);break;case"undefined":case"null":this.element.innerHTML="";break;default:this.element.innerHTML=s}}cellRendered(){this.dispatch("cell-rendered",this)}_generateTooltip(){var s=this.column.tooltip;s?(!0===s?s=this.value:"function"==typeof s&&!1===(s=s(this.getComponent()))&&(s=""),void 0===s&&(s=""),this.element.setAttribute("title",s)):this.element.setAttribute("title","")}getElement(s){return this.loaded||(this.loaded=!0,s||this.layoutElement()),this.element}getValue(){return this.value}getOldValue(){return this.oldValue}setValue(s,e){this.setValueProcessData(s,e)&&(this.dispatch("cell-value-updated",this),this.cellRendered(),this.column.definition.cellEdited&&this.column.definition.cellEdited.call(this.table,this.getComponent()),this.dispatchExternal("cellEdited",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()))}setValueProcessData(s,e){var t=!1;return this.value!==s&&(t=!0,e&&(s=this.chain("cell-value-changing",[this,s],null,s))),this.setValueActual(s),t&&this.dispatch("cell-value-changed",this),t}setValueActual(s){this.oldValue=this.value,this.value=s,this.dispatch("cell-value-save-before",this),this.column.setFieldValue(this.row.data,s),this.dispatch("cell-value-save-after",this),this.loaded&&this.layoutElement()}layoutElement(){this._generateContents(),this._generateTooltip(),this.dispatch("cell-layout",this)}setWidth(){this.width=this.column.width,this.element.style.width=this.column.widthStyled}clearWidth(){this.width="",this.element.style.width=""}getWidth(){return this.width||this.element.offsetWidth}setMinWidth(){this.minWidth=this.column.minWidth,this.element.style.minWidth=this.column.minWidthStyled}setMaxWidth(){this.maxWidth=this.column.maxWidth,this.element.style.maxWidth=this.column.maxWidthStyled}checkHeight(){this.row.reinitializeHeight()}clearHeight(){this.element.style.height="",this.height=null}setHeight(){this.height=this.row.height,this.element.style.height=this.row.heightStyled}getHeight(){return this.height||this.element.offsetHeight}show(){this.element.style.display=this.column.vertAlign?"inline-flex":""}hide(){this.element.style.display="none"}delete(){this.dispatch("cell-delete",this),!this.table.rowManager.redrawBlock&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.column.deleteCell(this),this.row.deleteCell(this),this.calcs={}}getIndex(){return this.row.getCellIndex(this)}getComponent(){return this.component||(this.component=new xe(this)),this.component}}class Xe{constructor(s){return this._column=s,this.type="ColumnComponent",new Proxy(this,{get:function(e,t,n){return void 0!==e[t]?e[t]:e._column.table.componentFunctionBinder.handle("column",e._column,t)}})}getElement(){return this._column.getElement()}getDefinition(){return this._column.getDefinition()}getField(){return this._column.getField()}getTitleDownload(){return this._column.getTitleDownload()}getCells(){var s=[];return this._column.cells.forEach(function(e){s.push(e.getComponent())}),s}isVisible(){return this._column.visible}show(){this._column.isGroup?this._column.columns.forEach(function(s){s.show()}):this._column.show()}hide(){this._column.isGroup?this._column.columns.forEach(function(s){s.hide()}):this._column.hide()}toggle(){this._column.visible?this.hide():this.show()}delete(){return this._column.delete()}getSubColumns(){var s=[];return this._column.columns.length&&this._column.columns.forEach(function(e){s.push(e.getComponent())}),s}getParentColumn(){return this._column.parent instanceof ye&&this._column.parent.getComponent()}_getSelf(){return this._column}scrollTo(){return this._column.table.columnManager.scrollToColumn(this._column)}getTable(){return this._column.table}move(s,e){var t=this._column.table.columnManager.findColumn(s);t?this._column.table.columnManager.moveColumn(this._column,t,e):console.warn("Move Error - No matching column found:",t)}getNextColumn(){var s=this._column.nextColumn();return!!s&&s.getComponent()}getPrevColumn(){var s=this._column.prevColumn();return!!s&&s.getComponent()}updateDefinition(s){return this._column.updateDefinition(s)}getWidth(){return this._column.getWidth()}setWidth(s){var e;return e=!0===s?this._column.reinitializeWidth(!0):this._column.setWidth(s),this._column.table.columnManager.renderer.rerenderColumns(!0),e}}var Ze={title:void 0,field:void 0,columns:void 0,visible:void 0,hozAlign:void 0,vertAlign:void 0,width:void 0,minWidth:40,maxWidth:void 0,maxInitialWidth:void 0,tooltip:void 0,cssClass:void 0,variableHeight:void 0,headerTooltip:void 0,headerVertical:void 0,headerHozAlign:void 0,editableTitle:void 0};let ye=(()=>{class c extends l{constructor(e,t){super(t.table),this.definition=e,this.parent=t,this.type="column",this.columns=[],this.cells=[],this.element=this.createElement(),this.contentElement=!1,this.titleHolderElement=!1,this.titleElement=!1,this.groupElement=this.createGroupElement(),this.isGroup=!1,this.tooltip=!1,this.hozAlign="",this.vertAlign="",this.field="",this.fieldStructure="",this.getFieldValue="",this.setFieldValue="",this.titleDownload=null,this.titleFormatterRendered=!1,this.mapDefinitions(),this.setField(this.definition.field),this.modules={},this.width=null,this.widthStyled="",this.maxWidth=null,this.maxWidthStyled="",this.maxInitialWidth=null,this.minWidth=null,this.minWidthStyled="",this.widthFixed=!1,this.visible=!0,this.component=null,this.definition.columns?(this.isGroup=!0,this.definition.columns.forEach((n,o)=>{var r=new c(n,this);this.attachColumn(r)}),this.checkColumnVisibility()):t.registerColumnField(this),this._initialize(),this.bindModuleColumns()}createElement(){var e=document.createElement("div");return e.classList.add("tabulator-col"),e.setAttribute("role","columnheader"),e.setAttribute("aria-sort","none"),e}createGroupElement(){var e=document.createElement("div");return e.classList.add("tabulator-col-group-cols"),e}mapDefinitions(){var e=this.table.options.columnDefaults;if(e)for(let t in e)void 0===this.definition[t]&&(this.definition[t]=e[t]);this.definition=this.table.columnManager.optionsList.generate(c.defaultOptionList,this.definition)}checkDefinition(){Object.keys(this.definition).forEach(e=>{-1===c.defaultOptionList.indexOf(e)&&console.warn("Invalid column definition option in '"+(this.field||this.definition.title)+"' column:",e)})}setField(e){this.field=e,this.fieldStructure=e?this.table.options.nestedFieldSeparator?e.split(this.table.options.nestedFieldSeparator):[e]:[],this.getFieldValue=this.fieldStructure.length>1?this._getNestedData:this._getFlatData,this.setFieldValue=this.fieldStructure.length>1?this._setNestedData:this._setFlatData}registerColumnPosition(e){this.parent.registerColumnPosition(e)}registerColumnField(e){this.parent.registerColumnField(e)}reRegisterPosition(){this.isGroup?this.columns.forEach(function(e){e.reRegisterPosition()}):this.registerColumnPosition(this)}_mapDepricatedFunctionality(){}setTooltip(){var e=this.definition,t=e.headerTooltip;t?!0===t?e.field?this.langBind("columns|"+e.field,n=>{this.element.setAttribute("title",n||e.title)}):this.element.setAttribute("title",e.title):("function"==typeof t&&!1===(t=t(this.getComponent()))&&(t=""),this.element.setAttribute("title",t)):this.element.setAttribute("title","")}_initialize(){for(var e=this.definition;this.element.firstChild;)this.element.removeChild(this.element.firstChild);e.headerVertical&&(this.element.classList.add("tabulator-col-vertical"),"flip"===e.headerVertical&&this.element.classList.add("tabulator-col-vertical-flip")),this.contentElement=this._bindEvents(),this.contentElement=this._buildColumnHeaderContent(),this.element.appendChild(this.contentElement),this.isGroup?this._buildGroupHeader():this._buildColumnHeader(),this.setTooltip(),this.dispatch("column-init",this),this.element.addEventListener("mouseenter",t=>{this.setTooltip()})}_bindEvents(){var t,n,o,e=this.definition;"function"==typeof e.headerClick&&this.element.addEventListener("click",r=>{e.headerClick(r,this.getComponent())}),"function"==typeof e.headerDblClick&&this.element.addEventListener("dblclick",r=>{e.headerDblClick(r,this.getComponent())}),"function"==typeof e.headerContext&&this.element.addEventListener("contextmenu",r=>{e.headerContext(r,this.getComponent())}),"function"==typeof e.headerTap&&(o=!1,this.element.addEventListener("touchstart",r=>{o=!0},{passive:!0}),this.element.addEventListener("touchend",r=>{o&&e.headerTap(r,this.getComponent()),o=!1})),"function"==typeof e.headerDblTap&&(t=null,this.element.addEventListener("touchend",r=>{t?(clearTimeout(t),t=null,e.headerDblTap(r,this.getComponent())):t=setTimeout(()=>{clearTimeout(t),t=null},300)})),"function"==typeof e.headerTapHold&&(n=null,this.element.addEventListener("touchstart",r=>{clearTimeout(n),n=setTimeout(function(){clearTimeout(n),n=null,o=!1,e.headerTapHold(r,this.getComponent())},1e3)},{passive:!0}),this.element.addEventListener("touchend",r=>{clearTimeout(n),n=null}))}_buildColumnHeader(){var e=this.definition;this.dispatch("column-layout",this),void 0!==e.visible&&(e.visible?this.show(!0):this.hide(!0)),e.cssClass&&e.cssClass.split(" ").forEach(o=>{this.element.classList.add(o)}),e.field&&this.element.setAttribute("tabulator-field",e.field),this.setMinWidth(parseInt(e.minWidth)),e.maxInitialWidth&&(this.maxInitialWidth=parseInt(e.maxInitialWidth)),e.maxWidth&&this.setMaxWidth(parseInt(e.maxWidth)),this.reinitializeWidth(),this.tooltip=this.definition.tooltip,this.hozAlign=this.definition.hozAlign,this.vertAlign=this.definition.vertAlign,this.titleElement.style.textAlign=this.definition.headerHozAlign}_buildColumnHeaderContent(){var n=document.createElement("div");return n.classList.add("tabulator-col-content"),this.titleHolderElement=document.createElement("div"),this.titleHolderElement.classList.add("tabulator-col-title-holder"),n.appendChild(this.titleHolderElement),this.titleElement=this._buildColumnHeaderTitle(),this.titleHolderElement.appendChild(this.titleElement),n}_buildColumnHeaderTitle(){var e=this.definition,t=document.createElement("div");if(t.classList.add("tabulator-col-title"),e.editableTitle){var n=document.createElement("input");n.classList.add("tabulator-title-editor"),n.addEventListener("click",o=>{o.stopPropagation(),n.focus()}),n.addEventListener("change",()=>{e.title=n.value,this.dispatchExternal("columnTitleChanged",this.getComponent())}),t.appendChild(n),e.field?this.langBind("columns|"+e.field,o=>{n.value=o||e.title||"&nbsp;"}):n.value=e.title||"&nbsp;"}else e.field?this.langBind("columns|"+e.field,o=>{this._formatColumnHeaderTitle(t,o||e.title||"&nbsp;")}):this._formatColumnHeaderTitle(t,e.title||"&nbsp;");return t}_formatColumnHeaderTitle(e,t){var n=this.chain("column-format",[this,t,e],null,()=>t);switch(typeof n){case"object":n instanceof Node?e.appendChild(n):(e.innerHTML="",console.warn("Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",n));break;case"undefined":case"null":e.innerHTML="";break;default:e.innerHTML=n}}_buildGroupHeader(){this.element.classList.add("tabulator-col-group"),this.element.setAttribute("role","columngroup"),this.element.setAttribute("aria-title",this.definition.title),this.definition.cssClass&&this.definition.cssClass.split(" ").forEach(t=>{this.element.classList.add(t)}),this.titleElement.style.textAlign=this.definition.headerHozAlign,this.element.appendChild(this.groupElement)}_getFlatData(e){return e[this.field]}_getNestedData(e){var r,t=e,n=this.fieldStructure,o=n.length;for(let a=0;a<o&&(r=t=t[n[a]],t);a++);return r}_setFlatData(e,t){this.field&&(e[this.field]=t)}_setNestedData(e,t){var n=e,o=this.fieldStructure,r=o.length;for(let a=0;a<r;a++)if(a==r-1)n[o[a]]=t;else{if(!n[o[a]]){if(void 0===t)break;n[o[a]]={}}n=n[o[a]]}}attachColumn(e){this.groupElement?(this.columns.push(e),this.groupElement.appendChild(e.getElement())):console.warn("Column Warning - Column being attached to another column instead of column group")}verticalAlign(e,t){var n=this.parent.isGroup?this.parent.getGroupElement().clientHeight:t||this.parent.getHeadersElement().clientHeight;this.element.style.height=n+"px",this.isGroup&&(this.groupElement.style.minHeight=n-this.contentElement.offsetHeight+"px"),!this.isGroup&&"top"!==e&&(this.element.style.paddingTop="bottom"===e?this.element.clientHeight-this.contentElement.offsetHeight+"px":(this.element.clientHeight-this.contentElement.offsetHeight)/2+"px"),this.columns.forEach(function(o){o.verticalAlign(e)})}clearVerticalAlign(){this.element.style.paddingTop="",this.element.style.height="",this.element.style.minHeight="",this.groupElement.style.minHeight="",this.columns.forEach(function(e){e.clearVerticalAlign()})}bindModuleColumns(){"rownum"==this.definition.formatter&&(this.table.rowManager.rowNumColumn=this)}getElement(){return this.element}getGroupElement(){return this.groupElement}getField(){return this.field}getTitleDownload(){return this.titleDownload}getFirstColumn(){return this.isGroup?!!this.columns.length&&this.columns[0].getFirstColumn():this}getLastColumn(){return this.isGroup?!!this.columns.length&&this.columns[this.columns.length-1].getLastColumn():this}getColumns(){return this.columns}getCells(){return this.cells}getTopColumn(){return this.parent.isGroup?this.parent.getTopColumn():this}getDefinition(e){var t=[];return this.isGroup&&e&&(this.columns.forEach(function(n){t.push(n.getDefinition(!0))}),this.definition.columns=t),this.definition}checkColumnVisibility(){var e=!1;this.columns.forEach(function(t){t.visible&&(e=!0)}),e?(this.show(),this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1)):this.hide()}show(e,t){this.visible||(this.visible=!0,this.element.style.display="",this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(n){n.show()}),!this.isGroup&&null===this.width&&this.reinitializeWidth(),this.table.columnManager.verticalAlignHeaders(),this.dispatch("column-show",this,t),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!0),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.renderer.rerenderColumns())}hide(e,t){this.visible&&(this.visible=!1,this.element.style.display="none",this.table.columnManager.verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(n){n.hide()}),this.dispatch("column-hide",this,t),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.renderer.rerenderColumns())}matchChildWidths(){var e=0;this.contentElement&&this.columns.length&&(this.columns.forEach(function(t){t.visible&&(e+=t.getWidth())}),this.contentElement.style.maxWidth=e-1+"px",this.parent.isGroup&&this.parent.matchChildWidths())}removeChild(e){var t=this.columns.indexOf(e);t>-1&&this.columns.splice(t,1),this.columns.length||this.delete()}setWidth(e){this.widthFixed=!0,this.setWidthActual(e)}setWidthActual(e){isNaN(e)&&(e=Math.floor(this.table.element.clientWidth/100*parseInt(e))),e=Math.max(this.minWidth,e),this.maxWidth&&(e=Math.min(this.maxWidth,e)),this.width=e,this.widthStyled=e?e+"px":"",this.element.style.width=this.widthStyled,this.isGroup||this.cells.forEach(function(t){t.setWidth()}),this.parent.isGroup&&this.parent.matchChildWidths(),this.dispatch("column-width",this)}checkCellHeights(){var e=[];this.cells.forEach(function(t){t.row.heightInitialized&&(null!==t.row.getElement().offsetParent?(e.push(t.row),t.row.clearCellHeight()):t.row.heightInitialized=!1)}),e.forEach(function(t){t.calcHeight()}),e.forEach(function(t){t.setCellHeight()})}getWidth(){var e=0;return this.isGroup?this.columns.forEach(function(t){t.visible&&(e+=t.getWidth())}):e=this.width,e}getHeight(){return Math.ceil(this.element.getBoundingClientRect().height)}setMinWidth(e){this.minWidth=e,this.minWidthStyled=e?e+"px":"",this.element.style.minWidth=this.minWidthStyled,this.cells.forEach(function(t){t.setMinWidth()})}setMaxWidth(e){this.maxWidth=e,this.maxWidthStyled=e?e+"px":"",this.element.style.maxWidth=this.maxWidthStyled,this.cells.forEach(function(t){t.setMaxWidth()})}delete(){return new Promise((e,t)=>{this.isGroup&&this.columns.forEach(function(o){o.delete()}),this.dispatch("column-delete",this);var n=this.cells.length;for(let o=0;o<n;o++)this.cells[0].delete();this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.contentElement=!1,this.titleElement=!1,this.groupElement=!1,this.parent.isGroup&&this.parent.removeChild(this),this.table.columnManager.deregisterColumn(this),this.table.columnManager.renderer.rerenderColumns(!0),e()})}columnRendered(){this.titleFormatterRendered&&this.titleFormatterRendered()}generateCell(e){var t=new Ye(this,e);return this.cells.push(t),t}nextColumn(){var e=this.table.columnManager.findColumnIndex(this);return e>-1&&this._nextVisibleColumn(e+1)}_nextVisibleColumn(e){var t=this.table.columnManager.getColumnByIndex(e);return!t||t.visible?t:this._nextVisibleColumn(e+1)}prevColumn(){var e=this.table.columnManager.findColumnIndex(this);return e>-1&&this._prevVisibleColumn(e-1)}_prevVisibleColumn(e){var t=this.table.columnManager.getColumnByIndex(e);return!t||t.visible?t:this._prevVisibleColumn(e-1)}reinitializeWidth(e){this.widthFixed=!1,void 0!==this.definition.width&&!e&&this.setWidth(this.definition.width),this.dispatch("column-width-fit-before",this),this.fitToData(e),this.dispatch("column-width-fit-after",this)}fitToData(e){if(!this.isGroup){this.widthFixed||(this.element.style.width="",this.cells.forEach(o=>{o.clearWidth()}));var t=this.element.offsetWidth;if((!this.width||!this.widthFixed)&&(this.cells.forEach(o=>{var r=o.getWidth();r>t&&(t=r)}),t)){var n=t+1;this.maxInitialWidth&&!e&&(n=Math.min(n,this.maxInitialWidth)),this.setWidthActual(n)}}}updateDefinition(e){var t;return this.isGroup||this.parent.isGroup?(console.error("Column Update Error - The updateDefinition function is only available on ungrouped columns"),Promise.reject("Column Update Error - The updateDefinition function is only available on columns, not column groups")):(t=Object.assign({},this.getDefinition()),t=Object.assign(t,e),this.table.columnManager.addColumn(t,!1,this).then(n=>(t.field==this.field&&(this.field=!1),this.delete().then(()=>n.getComponent()))))}deleteCell(e){var t=this.cells.indexOf(e);t>-1&&this.cells.splice(t,1)}getComponent(){return this.component||(this.component=new Xe(this)),this.component}}return c.defaultOptionList=Ze,c})();class Ge{constructor(s){return this._row=s,new Proxy(this,{get:function(e,t,n){return void 0!==e[t]?e[t]:e._row.table.componentFunctionBinder.handle("row",e._row,t)}})}getData(s){return this._row.getData(s)}getElement(){return this._row.getElement()}getCells(){var s=[];return this._row.getCells().forEach(function(e){s.push(e.getComponent())}),s}getCell(s){var e=this._row.getCell(s);return!!e&&e.getComponent()}getIndex(){return this._row.getData("data")[this._row.table.options.index]}getPosition(s){return this._row.table.rowManager.getRowPosition(this._row,s)}delete(){return this._row.delete()}scrollTo(){return this._row.table.rowManager.scrollToRow(this._row)}move(s,e){this._row.moveToRow(s,e)}update(s){return this._row.updateData(s)}normalizeHeight(){this._row.normalizeHeight(!0)}_getSelf(){return this._row}reformat(){return this._row.reinitialize()}getTable(){return this._row.table}getNextRow(){var s=this._row.nextRow();return s&&s.getComponent()}getPrevRow(){var s=this._row.prevRow();return s&&s.getComponent()}}class $e extends l{constructor(s,e,t="row"){super(e.table),this.parent=e,this.data={},this.type=t,this.element=!1,this.modules={},this.cells=[],this.height=0,this.heightStyled="",this.manualHeight=!1,this.outerHeight=0,this.initialized=!1,this.heightInitialized=!1,this.component=null,this.created=!1,this.setData(s)}create(){this.created||(this.created=!0,this.generateElement())}createElement(){var s=document.createElement("div");s.classList.add("tabulator-row"),s.setAttribute("role","row"),this.element=s}getElement(){return this.create(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}generateElement(){this.createElement(),this.dispatch("row-init",this)}generateCells(){this.cells=this.table.columnManager.generateCells(this)}initialize(s){if(this.create(),!this.initialized||s){for(this.deleteCells();this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.dispatch("row-layout-before",this),this.generateCells(),this.table.columnManager.renderer.renderRowCells(this),s&&this.normalizeHeight(),this.dispatch("row-layout",this),this.initialized=!0,this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent()),this.dispatch("row-layout-after",this)}else this.table.columnManager.renderer.rerenderRowCells(this)}reinitializeHeight(){this.heightInitialized=!1,this.element&&null!==this.element.offsetParent&&this.normalizeHeight(!0)}deinitializeHeight(){this.heightInitialized=!1}reinitialize(s){this.initialized=!1,this.heightInitialized=!1,this.manualHeight||(this.height=0,this.heightStyled=""),this.element&&null!==this.element.offsetParent&&this.initialize(!0),this.dispatch("row-relayout",this)}calcHeight(s){var e=0,t=this.table.options.resizableRows?this.element.clientHeight:0;this.cells.forEach(function(n){var o=n.getHeight();o>e&&(e=o)}),this.height=s?Math.max(e,t):this.manualHeight?this.height:Math.max(e,t),this.heightStyled=this.height?this.height+"px":"",this.outerHeight=this.element.offsetHeight}setCellHeight(){this.cells.forEach(function(s){s.setHeight()}),this.heightInitialized=!0}clearCellHeight(){this.cells.forEach(function(s){s.clearHeight()})}normalizeHeight(s){s&&this.clearCellHeight(),this.calcHeight(s),this.setCellHeight()}setHeight(s,e){(this.height!=s||e)&&(this.manualHeight=!0,this.height=s,this.heightStyled=s?s+"px":"",this.setCellHeight(),this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getWidth(){return this.element.offsetWidth}deleteCell(s){var e=this.cells.indexOf(s);e>-1&&this.cells.splice(e,1)}setData(s){this.data=this.chain("row-data-init-before",[this,s],void 0,s),this.dispatch("row-data-init-after",this)}updateData(s){var n,e=this.element&&L.elVisible(this.element),t={};return new Promise((o,r)=>{for(var a in"string"==typeof s&&(s=JSON.parse(s)),this.dispatch("row-data-save-before",this),this.subscribed("row-data-changing")&&(t=Object.assign(t,this.data),t=Object.assign(t,s)),n=this.chain("row-data-changing",[this,t,s],null,s))this.data[a]=n[a];for(var a in this.dispatch("row-data-save-after",this),s)this.table.columnManager.getColumnsByFieldRoot(a).forEach(x=>{let P=this.getCell(x.getField());if(P){let U=x.getFieldValue(n);P.getValue()!=U&&(P.setValueProcessData(U),e&&P.cellRendered())}});e?(this.normalizeHeight(!0),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent())):(this.initialized=!1,this.height=0,this.heightStyled=""),this.dispatch("row-data-changed",this,e,s),this.dispatchExternal("rowUpdated",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),o()})}getData(s){return s?this.chain("row-data-retrieve",[this,s],null,this.data):this.data}getCell(s){return s=this.table.columnManager.findColumn(s),this.initialized||this.generateCells(),this.cells.find(function(t){return t.column===s})}getCellIndex(s){return this.cells.findIndex(function(e){return e===s})}findCell(s){return this.cells.find(e=>e.element===s)}getCells(){return this.initialized||this.generateCells(),this.cells}nextRow(){return this.table.rowManager.nextDisplayRow(this,!0)||!1}prevRow(){return this.table.rowManager.prevDisplayRow(this,!0)||!1}moveToRow(s,e){var t=this.table.rowManager.findRow(s);t?(this.table.rowManager.moveRowActual(this,t,!e),this.table.rowManager.refreshActiveData("display",!1,!0)):console.warn("Move Error - No matching row found:",s)}delete(){return this.dispatch("row-delete",this),this.deleteActual(),Promise.resolve()}deleteActual(s){this.table.rowManager.getRowIndex(this),this.detatchModules(),this.table.rowManager.deleteRow(this,s),this.deleteCells(),this.initialized=!1,this.heightInitialized=!1,this.element=!1,this.dispatch("row-deleted",this)}detatchModules(){this.dispatch("row-deleting",this)}deleteCells(){var s=this.cells.length;for(let e=0;e<s;e++)this.cells[0].delete()}wipe(){if(this.detatchModules(),this.deleteCells(),this.element){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.parentNode&&this.element.parentNode.removeChild(this.element)}this.element=!1,this.modules={}}getGroup(){return this.modules.group||!1}getComponent(){return this.component||(this.component=new Ge(this)),this.component}}var Be={avg:function(c,s,e){var t=0,n=void 0!==e.precision?e.precision:2;return c.length&&(t=c.reduce(function(o,r){return Number(o)+Number(r)}),t/=c.length,t=!1!==n?t.toFixed(n):t),parseFloat(t).toString()},max:function(c,s,e){var t=null,n=void 0!==e.precision&&e.precision;return c.forEach(function(o){((o=Number(o))>t||null===t)&&(t=o)}),null!==t?!1!==n?t.toFixed(n):t:""},min:function(c,s,e){var t=null,n=void 0!==e.precision&&e.precision;return c.forEach(function(o){((o=Number(o))<t||null===t)&&(t=o)}),null!==t?!1!==n?t.toFixed(n):t:""},sum:function(c,s,e){var t=0,n=void 0!==e.precision&&e.precision;return c.length&&c.forEach(function(o){o=Number(o),t+=isNaN(o)?0:Number(o)}),!1!==n?t.toFixed(n):t},concat:function(c,s,e){var t=0;return c.length&&(t=c.reduce(function(n,o){return String(n)+String(o)})),t},count:function(c,s,e){var t=0;return c.length&&c.forEach(function(n){n&&t++}),t}};let Pe=(()=>{class c extends d{constructor(e){super(e),this.topCalcs=[],this.botCalcs=[],this.genColumn=!1,this.topElement=this.createElement(),this.botElement=this.createElement(),this.topRow=!1,this.botRow=!1,this.topInitialized=!1,this.botInitialized=!1,this.registerTableOption("columnCalcs",!0),this.registerColumnOption("topCalc"),this.registerColumnOption("topCalcParams"),this.registerColumnOption("topCalcFormatter"),this.registerColumnOption("topCalcFormatterParams"),this.registerColumnOption("bottomCalc"),this.registerColumnOption("bottomCalcParams"),this.registerColumnOption("bottomCalcFormatter"),this.registerColumnOption("bottomCalcFormatterParams")}createElement(){var e=document.createElement("div");return e.classList.add("tabulator-calcs-holder"),e}initialize(){this.genColumn=new ye({field:"value"},this),this.subscribe("cell-value-changed",this.cellValueChanged.bind(this)),this.subscribe("column-init",this.initializeColumnCheck.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("column-moved",this.recalcActiveRows.bind(this)),this.subscribe("column-add",this.recalcActiveRows.bind(this)),this.subscribe("data-refreshed",this.recalcActiveRowsRefresh.bind(this)),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.registerTableFunction("getCalcResults",this.getResults.bind(this)),this.registerTableFunction("recalc",this.userRecalc.bind(this))}tableRedraw(e){this.recalc(this.table.rowManager.activeRows),e&&this.redraw()}userRecalc(){this.recalc(this.table.rowManager.activeRows)}visibleRows(e,t){return this.topRow&&t.unshift(this.topRow),this.botRow&&t.push(this.botRow),t}rowsUpdated(e){this.table.options.groupBy?this.recalcRowGroup(this):this.recalcActiveRows()}recalcActiveRowsRefresh(){this.table.options.groupBy&&this.table.options.dataTreeStartExpanded&&this.table.options.dataTree?this.recalcAll():this.recalcActiveRows()}recalcActiveRows(){this.recalc(this.table.rowManager.activeRows)}cellValueChanged(e){(e.column.definition.topCalc||e.column.definition.bottomCalc)&&(this.table.options.groupBy?(("table"==this.table.options.columnCalcs||"both"==this.table.options.columnCalcs)&&this.recalcActiveRows(),"table"!=this.table.options.columnCalcs&&this.recalcRowGroup(e.row)):this.recalcActiveRows())}initializeColumnCheck(e){(e.definition.topCalc||e.definition.bottomCalc)&&this.initializeColumn(e)}initializeColumn(e){var t=e.definition,n={topCalcParams:t.topCalcParams||{},botCalcParams:t.bottomCalcParams||{}};if(t.topCalc){switch(typeof t.topCalc){case"string":c.calculations[t.topCalc]?n.topCalc=c.calculations[t.topCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",t.topCalc);break;case"function":n.topCalc=t.topCalc}n.topCalc&&(e.modules.columnCalcs=n,this.topCalcs.push(e),"group"!=this.table.options.columnCalcs&&this.initializeTopRow())}if(t.bottomCalc){switch(typeof t.bottomCalc){case"string":c.calculations[t.bottomCalc]?n.botCalc=c.calculations[t.bottomCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",t.bottomCalc);break;case"function":n.botCalc=t.bottomCalc}n.botCalc&&(e.modules.columnCalcs=n,this.botCalcs.push(e),"group"!=this.table.options.columnCalcs&&this.initializeBottomRow())}}registerColumnField(){}removeCalcs(){var e=!1;this.topInitialized&&(this.topInitialized=!1,this.topElement.parentNode.removeChild(this.topElement),e=!0),this.botInitialized&&(this.botInitialized=!1,this.table.footerManager.remove(this.botElement),e=!0),e&&this.table.rowManager.adjustTableSize()}initializeTopRow(){this.topInitialized||(this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.topInitialized=!0)}initializeBottomRow(){this.botInitialized||(this.table.footerManager.prepend(this.botElement),this.botInitialized=!0)}scrollHorizontal(e){this.botInitialized&&this.botRow&&(this.botRow.getElement().style.marginLeft=-e+"px")}recalc(e){var t;if(this.topInitialized||this.botInitialized){if(this.rowsToData(e),this.topInitialized){for(this.topRow&&this.topRow.deleteCells(),t=this.generateRow("top",this.rowsToData(e)),this.topRow=t;this.topElement.firstChild;)this.topElement.removeChild(this.topElement.firstChild);this.topElement.appendChild(t.getElement()),t.initialize(!0)}if(this.botInitialized){for(this.botRow&&this.botRow.deleteCells(),t=this.generateRow("bottom",this.rowsToData(e)),this.botRow=t;this.botElement.firstChild;)this.botElement.removeChild(this.botElement.firstChild);this.botElement.appendChild(t.getElement()),t.initialize(!0)}this.table.rowManager.adjustTableSize(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()}}recalcRowGroup(e){this.recalcGroup(this.table.modules.groupRows.getRowGroup(e))}recalcAll(){(this.topCalcs.length||this.botCalcs.length)&&("group"!==this.table.options.columnCalcs&&this.recalcActiveRows(),this.table.options.groupBy&&"table"!==this.table.options.columnCalcs)&&this.table.modules.groupRows.getChildGroups().forEach(t=>{this.recalcGroup(t)})}recalcGroup(e){var t,n;e&&e.calcs&&(e.calcs.bottom&&(t=this.rowsToData(e.rows),n=this.generateRowData("bottom",t),e.calcs.bottom.updateData(n),e.calcs.bottom.reinitialize()),e.calcs.top&&(t=this.rowsToData(e.rows),n=this.generateRowData("top",t),e.calcs.top.updateData(n),e.calcs.top.reinitialize()))}generateTopRow(e){return this.generateRow("top",this.rowsToData(e))}generateBottomRow(e){return this.generateRow("bottom",this.rowsToData(e))}rowsToData(e){var t=[];return e.forEach(n=>{if(t.push(n.getData()),this.table.options.dataTree&&this.table.options.dataTreeChildColumnCalcs&&n.modules.dataTree&&n.modules.dataTree.open){var o=this.rowsToData(this.table.modules.dataTree.getFilteredTreeChildren(n));t=t.concat(o)}}),t}generateRow(e,t){var o,n=this.generateRowData(e,t);return this.table.modExists("mutator")&&this.table.modules.mutator.disable(),o=new $e(n,this,"calc"),this.table.modExists("mutator")&&this.table.modules.mutator.enable(),o.getElement().classList.add("tabulator-calcs","tabulator-calcs-"+e),o.component=!1,o.getComponent=()=>(o.component||(o.component=new ge(o)),o.component),o.generateCells=()=>{var r=[];this.table.columnManager.columnsByIndex.forEach(a=>{this.genColumn.setField(a.getField()),this.genColumn.hozAlign=a.hozAlign,this.genColumn.modules.format=a.definition[e+"CalcFormatter"]&&this.table.modExists("format")?{formatter:this.table.modules.format.getFormatter(a.definition[e+"CalcFormatter"]),params:a.definition[e+"CalcFormatterParams"]||{}}:{formatter:this.table.modules.format.getFormatter("plaintext"),params:{}},this.genColumn.definition.cssClass=a.definition.cssClass;var f=new Ye(this.genColumn,o);f.getElement(),f.column=a,f.setWidth(),a.cells.push(f),r.push(f),a.visible||f.hide()}),o.cells=r},o}generateRowData(e,t){var a,f,n={},r="top"==e?"topCalc":"botCalc";return("top"==e?this.topCalcs:this.botCalcs).forEach(function(y){var x=[];y.modules.columnCalcs&&y.modules.columnCalcs[r]&&(t.forEach(function(P){x.push(y.getFieldValue(P))}),a="function"==typeof y.modules.columnCalcs[f=r+"Params"]?y.modules.columnCalcs[f](x,t):y.modules.columnCalcs[f],y.setFieldValue(n,y.modules.columnCalcs[r](x,t,a)))}),n}hasTopCalcs(){return!!this.topCalcs.length}hasBottomCalcs(){return!!this.botCalcs.length}redraw(){this.topRow&&this.topRow.normalizeHeight(!0),this.botRow&&this.botRow.normalizeHeight(!0)}getResults(){var e={};return this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.groupRows.getGroups(!0).forEach(n=>{e[n.getKey()]=this.getGroupResults(n)}):e={top:this.topRow?this.topRow.getData():{},bottom:this.botRow?this.botRow.getData():{}},e}getGroupResults(e){var t=e._getSelf(),n=e.getSubGroups(),o={};return n.forEach(a=>{o[a.getKey()]=this.getGroupResults(a)}),{top:t.calcs.top?t.calcs.top.getData():{},bottom:t.calcs.bottom?t.calcs.bottom.getData():{},groups:o}}}return c.moduleName="columnCalcs",c.calculations=Be,c})(),ee=(()=>{class c extends d{constructor(e){super(e),this.indent=10,this.field="",this.collapseEl=null,this.expandEl=null,this.branchEl=null,this.elementField=!1,this.startOpen=function(){},this.displayIndex=0,this.registerTableOption("dataTree",!1),this.registerTableOption("dataTreeFilter",!0),this.registerTableOption("dataTreeSort",!0),this.registerTableOption("dataTreeElementColumn",!1),this.registerTableOption("dataTreeBranchElement",!0),this.registerTableOption("dataTreeChildIndent",9),this.registerTableOption("dataTreeChildField","_children"),this.registerTableOption("dataTreeCollapseElement",!1),this.registerTableOption("dataTreeExpandElement",!1),this.registerTableOption("dataTreeStartExpanded",!1),this.registerTableOption("dataTreeChildColumnCalcs",!1),this.registerTableOption("dataTreeSelectPropagate",!1),this.registerComponentFunction("row","treeCollapse",this.collapseRow.bind(this)),this.registerComponentFunction("row","treeExpand",this.expandRow.bind(this)),this.registerComponentFunction("row","treeToggle",this.toggleRow.bind(this)),this.registerComponentFunction("row","getTreeParent",this.getTreeParent.bind(this)),this.registerComponentFunction("row","getTreeChildren",this.getRowChildren.bind(this)),this.registerComponentFunction("row","addTreeChild",this.addTreeChildRow.bind(this)),this.registerComponentFunction("row","isTreeExpanded",this.isRowExpanded.bind(this))}initialize(){if(this.table.options.dataTree){var e=null,t=this.table.options;switch(this.field=t.dataTreeChildField,this.indent=t.dataTreeChildIndent,t.dataTreeBranchElement&&(!0===t.dataTreeBranchElement?(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch")):"string"==typeof t.dataTreeBranchElement?((e=document.createElement("div")).innerHTML=t.dataTreeBranchElement,this.branchEl=e.firstChild):this.branchEl=t.dataTreeBranchElement),t.dataTreeCollapseElement?"string"==typeof t.dataTreeCollapseElement?((e=document.createElement("div")).innerHTML=t.dataTreeCollapseElement,this.collapseEl=e.firstChild):this.collapseEl=t.dataTreeCollapseElement:(this.collapseEl=document.createElement("div"),this.collapseEl.classList.add("tabulator-data-tree-control"),this.collapseEl.tabIndex=0,this.collapseEl.innerHTML="<div class='tabulator-data-tree-control-collapse'></div>"),t.dataTreeExpandElement?"string"==typeof t.dataTreeExpandElement?((e=document.createElement("div")).innerHTML=t.dataTreeExpandElement,this.expandEl=e.firstChild):this.expandEl=t.dataTreeExpandElement:(this.expandEl=document.createElement("div"),this.expandEl.classList.add("tabulator-data-tree-control"),this.expandEl.tabIndex=0,this.expandEl.innerHTML="<div class='tabulator-data-tree-control-expand'></div>"),typeof t.dataTreeStartExpanded){case"boolean":this.startOpen=function(n,o){return t.dataTreeStartExpanded};break;case"function":this.startOpen=t.dataTreeStartExpanded;break;default:this.startOpen=function(n,o){return t.dataTreeStartExpanded[o]}}this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("row-deleted",this.rowDelete.bind(this),0),this.subscribe("row-data-changed",this.rowDataChanged.bind(this),10),this.subscribe("cell-value-updated",this.cellValueChanged.bind(this)),this.subscribe("edit-cancelled",this.cellValueChanged.bind(this)),this.subscribe("column-moving-rows",this.columnMoving.bind(this)),this.subscribe("table-built",this.initializeElementField.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),30)}}initializeElementField(){var e=this.table.columnManager.getFirstVisibleColumn();this.elementField=this.table.options.dataTreeElementColumn||!!e&&e.field}getRowChildren(e){return this.getTreeChildren(e,!0)}columnMoving(){var e=[];return this.table.rowManager.rows.forEach(t=>{e=e.concat(this.getTreeChildren(t,!1,!0))}),e}rowDataChanged(e,t,n){this.redrawNeeded(n)&&(this.initializeRow(e),t&&(this.layoutRow(e),this.refreshData(!0)))}cellValueChanged(e){e.column.getField()===this.elementField&&this.layoutRow(e.row)}initializeRow(e){var t=e.getData()[this.field],n=Array.isArray(t),o=n||!n&&"object"==typeof t&&null!==t;!o&&e.modules.dataTree&&e.modules.dataTree.branchEl&&e.modules.dataTree.branchEl.parentNode.removeChild(e.modules.dataTree.branchEl),!o&&e.modules.dataTree&&e.modules.dataTree.controlEl&&e.modules.dataTree.controlEl.parentNode.removeChild(e.modules.dataTree.controlEl),e.modules.dataTree={index:e.modules.dataTree?e.modules.dataTree.index:0,open:!!o&&(e.modules.dataTree?e.modules.dataTree.open:this.startOpen(e.getComponent(),0)),controlEl:!(!e.modules.dataTree||!o)&&e.modules.dataTree.controlEl,branchEl:!(!e.modules.dataTree||!o)&&e.modules.dataTree.branchEl,parent:!!e.modules.dataTree&&e.modules.dataTree.parent,children:o}}reinitializeRowChildren(e){this.getTreeChildren(e,!1,!0).forEach(function(n){n.reinitialize(!0)})}layoutRow(e){var n=(this.elementField?e.getCell(this.elementField):e.getCells()[0]).getElement(),o=e.modules.dataTree;o.branchEl&&(o.branchEl.parentNode&&o.branchEl.parentNode.removeChild(o.branchEl),o.branchEl=!1),o.controlEl&&(o.controlEl.parentNode&&o.controlEl.parentNode.removeChild(o.controlEl),o.controlEl=!1),this.generateControlElement(e,n),e.getElement().classList.add("tabulator-tree-level-"+o.index),o.index&&(this.branchEl?(o.branchEl=this.branchEl.cloneNode(!0),n.insertBefore(o.branchEl,n.firstChild),this.table.rtl?o.branchEl.style.marginRight=(o.branchEl.offsetWidth+o.branchEl.style.marginLeft)*(o.index-1)+o.index*this.indent+"px":o.branchEl.style.marginLeft=(o.branchEl.offsetWidth+o.branchEl.style.marginRight)*(o.index-1)+o.index*this.indent+"px"):this.table.rtl?n.style.paddingRight=parseInt(window.getComputedStyle(n,null).getPropertyValue("padding-right"))+o.index*this.indent+"px":n.style.paddingLeft=parseInt(window.getComputedStyle(n,null).getPropertyValue("padding-left"))+o.index*this.indent+"px")}generateControlElement(e,o){var n=e.modules.dataTree,r=(o=o||e.getCells()[0].getElement(),n.controlEl);!1!==n.children&&(n.open?(n.controlEl=this.collapseEl.cloneNode(!0),n.controlEl.addEventListener("click",a=>{a.stopPropagation(),this.collapseRow(e)})):(n.controlEl=this.expandEl.cloneNode(!0),n.controlEl.addEventListener("click",a=>{a.stopPropagation(),this.expandRow(e)})),n.controlEl.addEventListener("mousedown",a=>{a.stopPropagation()}),r&&r.parentNode===o?r.parentNode.replaceChild(n.controlEl,r):o.insertBefore(n.controlEl,o.firstChild))}setDisplayIndex(e){this.displayIndex=e}getDisplayIndex(){return this.displayIndex}getRows(e){var t=[];return e.forEach((n,o)=>{var r;t.push(n),n instanceof $e&&(n.create(),!(r=n.modules.dataTree.children).index&&!1!==r.children&&this.getChildren(n).forEach(f=>{f.create(),t.push(f)}))}),t}getChildren(e,t){var n=e.modules.dataTree,o=[],r=[];return!1!==n.children&&(n.open||t)&&(Array.isArray(n.children)||(n.children=this.generateChildren(e)),o=this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(n.children):n.children,this.table.modExists("sort")&&this.table.options.dataTreeSort&&this.table.modules.sort.sort(o),o.forEach(a=>{r.push(a),this.getChildren(a).forEach(y=>{r.push(y)})})),r}generateChildren(e){var t=[],n=e.getData()[this.field];return Array.isArray(n)||(n=[n]),n.forEach(o=>{var r=new $e(o||{},this.table.rowManager);r.create(),r.modules.dataTree.index=e.modules.dataTree.index+1,r.modules.dataTree.parent=e,r.modules.dataTree.children&&(r.modules.dataTree.open=this.startOpen(r.getComponent(),r.modules.dataTree.index)),t.push(r)}),t}expandRow(e,t){var n=e.modules.dataTree;!1!==n.children&&(n.open=!0,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowExpanded",e.getComponent(),e.modules.dataTree.index))}collapseRow(e){var t=e.modules.dataTree;!1!==t.children&&(t.open=!1,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowCollapsed",e.getComponent(),e.modules.dataTree.index))}toggleRow(e){var t=e.modules.dataTree;!1!==t.children&&(t.open?this.collapseRow(e):this.expandRow(e))}isRowExpanded(e){return e.modules.dataTree.open}getTreeParent(e){return!!e.modules.dataTree.parent&&e.modules.dataTree.parent.getComponent()}getFilteredTreeChildren(e){var t=e.modules.dataTree,n=[];return t.children&&(Array.isArray(t.children)||(t.children=this.generateChildren(e)),(this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(t.children):t.children).forEach(r=>{r instanceof $e&&n.push(r)})),n}rowDelete(e){var n,t=e.modules.dataTree.parent;t&&(!1!==(n=this.findChildIndex(e,t))&&t.data[this.field].splice(n,1),t.data[this.field].length||delete t.data[this.field],this.initializeRow(t),this.layoutRow(t)),this.refreshData(!0)}addTreeChildRow(e,t,n,o){var r=!1;"string"==typeof t&&(t=JSON.parse(t)),Array.isArray(e.data[this.field])||(e.data[this.field]=[],e.modules.dataTree.open=this.startOpen(e.getComponent(),e.modules.dataTree.index)),void 0!==o&&!1!==(r=this.findChildIndex(o,e))&&e.data[this.field].splice(n?r:r+1,0,t),!1===r&&(n?e.data[this.field].unshift(t):e.data[this.field].push(t)),this.initializeRow(e),this.layoutRow(e),this.refreshData(!0)}findChildIndex(e,t){var n=!1;return"object"==typeof e?e instanceof $e?n=e.data:e instanceof RowComponent?n=e._getSelf().data:"undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&t.modules.dataTree&&(n=t.modules.dataTree.children.find(o=>o instanceof $e&&o.element===e))&&(n=n.data):n=null!=e&&t.data[this.field].find(o=>o.data[this.table.options.index]==e),n&&(Array.isArray(t.data[this.field])&&(n=t.data[this.field].indexOf(n)),-1==n&&(n=!1)),n}getTreeChildren(e,t,n){var o=e.modules.dataTree,r=[];return o.children&&(Array.isArray(o.children)||(o.children=this.generateChildren(e)),o.children.forEach(a=>{a instanceof $e&&(r.push(t?a.getComponent():a),n&&(r=r.concat(this.getTreeChildren(a,t,n))))})),r}getChildField(){return this.field}redrawNeeded(e){return!!this.field&&void 0!==e[this.field]||!!this.elementField&&void 0!==e[this.elementField]}}return c.moduleName="dataTree",c})();var j={csv:function oe(c,s,e){var t=s&&s.delimiter?s.delimiter:",",n=[],o=[];c.forEach(r=>{var a=[];switch(r.type){case"group":console.warn("Download Warning - CSV downloader cannot process row groups");break;case"calc":console.warn("Download Warning - CSV downloader cannot process column calculations");break;case"header":r.columns.forEach((f,y)=>{f&&1===f.depth&&(o[y]=null==f.value?"":'"'+String(f.value).split('"').join('""')+'"')});break;case"row":r.columns.forEach(f=>{if(f){switch(typeof f.value){case"object":f.value=JSON.stringify(f.value);break;case"undefined":case"null":f.value=""}a.push('"'+String(f.value).split('"').join('""')+'"')}}),n.push(a.join(t))}}),o.length&&n.unshift(o.join(t)),n=n.join("\n"),s.bom&&(n="\ufeff"+n),e(n,"text/csv")},json:function we(c,s,e){var t=[];c.forEach(n=>{var o={};switch(n.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":n.columns.forEach(r=>{r&&(o[r.component.getTitleDownload()||r.component.getField()]=r.value)}),t.push(o)}}),e(t=JSON.stringify(t,null,"\t"),"application/json")},jsonLines:function Ve(c,s,e){const t=[];c.forEach(n=>{const o={};switch(n.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":n.columns.forEach(r=>{r&&(o[r.component.getTitleDownload()||r.component.getField()]=r.value)}),t.push(JSON.stringify(o))}}),e(t.join("\n"),"application/x-ndjson")},pdf:function ce(c,s,e){var t=[],n=[],o={},r=s.rowGroupStyles||{fontStyle:"bold",fontSize:12,cellPadding:6,fillColor:220},a=s.rowCalcStyles||{fontStyle:"bold",fontSize:10,cellPadding:4,fillColor:232},f=s.jsPDF||{},y=s&&s.title?s.title:"";function x(U,X){var he=[];return U.columns.forEach(me=>{var be;if(me){switch(typeof me.value){case"object":me.value=JSON.stringify(me.value);break;case"undefined":case"null":me.value=""}be={content:me.value,colSpan:me.width,rowSpan:me.height},X&&(be.styles=X),he.push(be)}}),he}f.orientation||(f.orientation=s.orientation||"landscape"),f.unit||(f.unit="pt"),c.forEach(U=>{switch(U.type){case"header":t.push(x(U));break;case"group":n.push(x(U,r));break;case"calc":n.push(x(U,a));break;case"row":n.push(x(U))}});var P=new jspdf.jsPDF(f);s&&s.autoTable&&(o="function"==typeof s.autoTable?s.autoTable(P)||{}:s.autoTable),y&&(o.didDrawPage=function(U){P.text(y,40,30)}),o.head=t,o.body=n,P.autoTable(o),s&&s.documentProcessing&&s.documentProcessing(P),e(P.output("arraybuffer"),"application/pdf")},xlsx:function Ne(c,s,e){var n=s.sheetName||"Sheet1",o=XLSX.utils.book_new(),r=new l(this);function f(){var P=[],U=[],X={},he={s:{c:0,r:0},e:{c:c[0]?c[0].columns.reduce((me,be)=>me+(be&&be.width?be.width:1),0):0,r:c.length}};return c.forEach((me,be)=>{var Ie=[];me.columns.forEach(function(Ue,mt){Ue?(Ie.push(Ue.value instanceof Date||"object"!=typeof Ue.value?Ue.value:JSON.stringify(Ue.value)),(Ue.width>1||Ue.height>-1)&&(Ue.height>1||Ue.width>1)&&U.push({s:{r:be,c:mt},e:{r:be+Ue.height-1,c:mt+Ue.width-1}})):Ie.push("")}),P.push(Ie)}),XLSX.utils.sheet_add_aoa(X,P),X["!ref"]=XLSX.utils.encode_range(he),U.length&&(X["!merges"]=U),X}if(o.SheetNames=[],o.Sheets={},s.sheetOnly)e(f());else{if(s.sheets)for(var y in s.sheets)!0===s.sheets[y]?(o.SheetNames.push(y),o.Sheets[y]=f()):(o.SheetNames.push(y),r.commsSend(s.sheets[y],"download","intercept",{type:"xlsx",options:{sheetOnly:!0},active:this.active,intercept:function(P){o.Sheets[y]=P}}));else o.SheetNames.push(n),o.Sheets[n]=f();s.documentProcessing&&(o=s.documentProcessing(o)),e(function x(P){for(var U=new ArrayBuffer(P.length),X=new Uint8Array(U),he=0;he!=P.length;++he)X[he]=255&P.charCodeAt(he);return U}(XLSX.write(o,{bookType:"xlsx",bookSST:!0,type:"binary"})),"application/octet-stream")}},html:function Me(c,s,e){this.modExists("export",!0)&&e(this.modules.export.genereateHTMLTable(c),"text/html")}};let q=(()=>{class c extends d{constructor(e){super(e),this.registerTableOption("downloadReady",function(t,n){return n}),this.registerTableOption("downloadConfig",{}),this.registerTableOption("downloadRowRange","active"),this.registerColumnOption("download"),this.registerColumnOption("titleDownload")}initialize(){this.registerTableFunction("download",this.download.bind(this)),this.registerTableFunction("downloadToTab",this.downloadToTab.bind(this))}downloadToTab(e,t,n,o){this.download(e,t,n,o,!0)}download(e,t,n,o,r){var a=!1;if("function"==typeof e?a=e:c.downloaders[e]?a=c.downloaders[e]:console.warn("Download Error - No such download type found: ",e),a){var y=this.generateExportList(o);a.call(this.table,y,n||{},function f(x,P){r?!0===r?this.triggerDownload(x,P,e,t,!0):r(x):this.triggerDownload(x,P,e,t)}.bind(this))}}generateExportList(e){var t=this.table.modules.export.generateExportList(this.table.options.downloadConfig,!1,e||this.table.options.downloadRowRange,"download"),n=this.table.options.groupHeaderDownload;return n&&!Array.isArray(n)&&(n=[n]),t.forEach(o=>{var r;"group"===o.type&&(r=o.columns[0],n&&n[o.indent]&&(r.value=n[o.indent](r.value,o.component._group.getRowCount(),o.component._group.getData(),o.component)))}),t}triggerDownload(e,t,n,y,r){var a=document.createElement("a"),f=new Blob([e],{type:t});y=y||"Tabulator."+("function"==typeof n?"txt":n),(f=this.table.options.downloadReady(e,f))&&(r?window.open(window.URL.createObjectURL(f)):navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(f,y):(a.setAttribute("href",window.URL.createObjectURL(f)),a.setAttribute("download",y),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)),this.dispatchExternal("downloadComplete"))}commsReceived(e,t,n){"intercept"===t&&this.download(n.type,"",n.options,n.active,n.intercept)}}return c.moduleName="download",c.downloaders=j,c})();function _e(c,s){var e=s.mask,t=void 0!==s.maskLetterChar?s.maskLetterChar:"A",n=void 0!==s.maskNumberChar?s.maskNumberChar:"9",o=void 0!==s.maskWildcardChar?s.maskWildcardChar:"*";function r(a){var f=e[a];void 0!==f&&f!==o&&f!==t&&f!==n&&(c.value=c.value+""+f,r(a+1))}c.addEventListener("keydown",a=>{var f=c.value.length,y=a.key;if(a.keyCode>46){if(f>=e.length)return a.preventDefault(),a.stopPropagation(),!1;switch(e[f]){case t:if(y.toUpperCase()==y.toLowerCase())return a.preventDefault(),a.stopPropagation(),!1;break;case n:if(isNaN(y))return a.preventDefault(),a.stopPropagation(),!1;break;case o:break;default:if(y!==e[f])return a.preventDefault(),a.stopPropagation(),!1}}}),c.addEventListener("keyup",a=>{a.keyCode>46&&s.maskAutoFill&&r(c.value.length)}),c.placeholder||(c.placeholder=e),s.maskAutoFill&&r(c.value.length)}var Te={input:function Ee(c,s,e,t,n){var o=c.getValue(),r=document.createElement("input");if(r.setAttribute("type",n.search?"search":"text"),r.style.padding="4px",r.style.width="100%",r.style.boxSizing="border-box",n.elementAttributes&&"object"==typeof n.elementAttributes)for(let f in n.elementAttributes)"+"==f.charAt(0)?(f=f.slice(1),r.setAttribute(f,r.getAttribute(f)+n.elementAttributes["+"+f])):r.setAttribute(f,n.elementAttributes[f]);function a(f){null==o&&""!==r.value||r.value!==o?e(r.value)&&(o=r.value):t()}return r.value=void 0!==o?o:"",s(function(){r.focus({preventScroll:!0}),r.style.height="100%"}),r.addEventListener("change",a),r.addEventListener("blur",a),r.addEventListener("keydown",function(f){switch(f.keyCode){case 13:a();break;case 27:t();break;case 35:case 36:f.stopPropagation()}}),n.mask&&_e(r,n),r},textarea:function Oe(c,s,e,t,n){var o=c.getValue(),r=n.verticalNavigation||"hybrid",a=String(null!=o?o:""),y=(a.match(/(?:\r\n|\r|\n)/g),document.createElement("textarea")),x=0;if(y.style.display="block",y.style.padding="2px",y.style.height="100%",y.style.width="100%",y.style.boxSizing="border-box",y.style.whiteSpace="pre-wrap",y.style.resize="none",n.elementAttributes&&"object"==typeof n.elementAttributes)for(let U in n.elementAttributes)"+"==U.charAt(0)?(U=U.slice(1),y.setAttribute(U,y.getAttribute(U)+n.elementAttributes["+"+U])):y.setAttribute(U,n.elementAttributes[U]);function P(U){null==o&&""!==y.value||y.value!==o?(e(y.value)&&(o=y.value),setTimeout(function(){c.getRow().normalizeHeight()},300)):t()}return y.value=a,s(function(){y.focus({preventScroll:!0}),y.style.height="100%",y.style.height=y.scrollHeight+"px",c.getRow().normalizeHeight()}),y.addEventListener("change",P),y.addEventListener("blur",P),y.addEventListener("keyup",function(){y.style.height="";var U=y.scrollHeight;y.style.height=U+"px",U!=x&&(x=U,c.getRow().normalizeHeight())}),y.addEventListener("keydown",function(U){switch(U.keyCode){case 27:t();break;case 38:("editor"==r||"hybrid"==r&&y.selectionStart)&&(U.stopImmediatePropagation(),U.stopPropagation());break;case 40:("editor"==r||"hybrid"==r&&y.selectionStart!==y.value.length)&&(U.stopImmediatePropagation(),U.stopPropagation());break;case 35:case 36:U.stopPropagation()}}),n.mask&&_e(y,n),y},number:function Je(c,s,e,t,n){var o=c.getValue(),r=n.verticalNavigation||"editor",a=document.createElement("input");if(a.setAttribute("type","number"),void 0!==n.max&&a.setAttribute("max",n.max),void 0!==n.min&&a.setAttribute("min",n.min),void 0!==n.step&&a.setAttribute("step",n.step),a.style.padding="4px",a.style.width="100%",a.style.boxSizing="border-box",n.elementAttributes&&"object"==typeof n.elementAttributes)for(let x in n.elementAttributes)"+"==x.charAt(0)?(x=x.slice(1),a.setAttribute(x,a.getAttribute(x)+n.elementAttributes["+"+x])):a.setAttribute(x,n.elementAttributes[x]);a.value=o;var f=function(x){y()};function y(){var x=a.value;!isNaN(x)&&""!==x&&(x=Number(x)),x!==o?e(x)&&(o=x):t()}return s(function(){a.removeEventListener("blur",f),a.focus({preventScroll:!0}),a.style.height="100%",a.addEventListener("blur",f)}),a.addEventListener("keydown",function(x){switch(x.keyCode){case 13:y();break;case 27:t();break;case 38:case 40:"editor"==r&&(x.stopImmediatePropagation(),x.stopPropagation());break;case 35:case 36:x.stopPropagation()}}),n.mask&&_e(a,n),a},range:function rt(c,s,e,t,n){var o=c.getValue(),r=document.createElement("input");if(r.setAttribute("type","range"),void 0!==n.max&&r.setAttribute("max",n.max),void 0!==n.min&&r.setAttribute("min",n.min),void 0!==n.step&&r.setAttribute("step",n.step),r.style.padding="4px",r.style.width="100%",r.style.boxSizing="border-box",n.elementAttributes&&"object"==typeof n.elementAttributes)for(let f in n.elementAttributes)"+"==f.charAt(0)?(f=f.slice(1),r.setAttribute(f,r.getAttribute(f)+n.elementAttributes["+"+f])):r.setAttribute(f,n.elementAttributes[f]);function a(){var f=r.value;!isNaN(f)&&""!==f&&(f=Number(f)),f!=o?e(f)&&(o=f):t()}return r.value=o,s(function(){r.focus({preventScroll:!0}),r.style.height="100%"}),r.addEventListener("blur",function(f){a()}),r.addEventListener("keydown",function(f){switch(f.keyCode){case 13:a();break;case 27:t()}}),r},select:function at(c,s,e,t,n){var o=this,r=c.getElement(),a=c.getValue(),f=n.verticalNavigation||"editor",y=void 0!==a||null===a?Array.isArray(a)?a:[a]:void 0!==n.defaultValue?n.defaultValue:[],x=document.createElement("input"),P=document.createElement("div"),U=n.multiselect,X=[],he={},me=[],be=[],Ie=!0,Ue=!1,mt="",vt=null;function At(re){var Et,Ae={},lt=o.table.getData();return(Et=re?o.table.columnManager.getColumnByField(re):c.getColumn()._getSelf())?lt.forEach(function(xi){var jt=Et.getFieldValue(xi);null!=jt&&""!==jt&&(Ae[jt]=!0)}):console.warn("unable to find matching column to create select lookup list:",re),Object.keys(Ae)}function xt(re,Ae){!U&&he&&he.element&&he.element.classList.remove("active"),he&&he.element&&he.element.classList.remove("focused"),he=re,re.element&&(re.element.classList.add("focused"),Ae&&re.element.classList.add("active")),re&&re.element&&re.element.scrollIntoView&&re.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}function zt(re){-1==be.indexOf(re)&&(be.push(re),xt(re,!0)),Re()}function St(re){var Ae=be[re];re>-1&&(be.splice(re,1),Ae.element&&Ae.element.classList.remove("active"))}function et(re){re||(re=he);var Ae=be.indexOf(re);Ae>-1?St(Ae):(!0!==U&&be.length>=U&&St(0),zt(re)),Re()}function Vt(re){D(),re||(re=he),re&&(x.value=re.label,e(re.value)),y=[re.value]}function Nt(re){re||D();var Ae=[];be.forEach(lt=>{Ae.push(lt.value)}),y=Ae,e(Ae)}function Re(){var re=[];be.forEach(Ae=>{re.push(Ae.label)}),x.value=re.join(", "),!1===o.currentCell&&Nt(!0)}function u(){D(),t()}function D(){P.parentNode&&P.parentNode.removeChild(P),function Q(){o.table.rowManager.element.removeEventListener("scroll",u)}()}if((Array.isArray(n)||!Array.isArray(n)&&"object"==typeof n&&!n.values)&&(console.warn("DEPRECATION WARNING - values for the select editor must now be passed into the values property of the editorParams object, not as the editorParams object"),n={values:n}),x.setAttribute("type","text"),x.style.padding="4px",x.style.width="100%",x.style.boxSizing="border-box",x.style.cursor="default",x.readOnly=0!=this.currentCell,n.elementAttributes&&"object"==typeof n.elementAttributes)for(let re in n.elementAttributes)"+"==re.charAt(0)?(re=re.slice(1),x.setAttribute(re,x.getAttribute(re)+n.elementAttributes["+"+re])):x.setAttribute(re,n.elementAttributes[re]);return x.value=void 0!==a||null===a?a:"",x.addEventListener("search",function(re){x.value||(function p(){var re=be.length;for(let Ae=0;Ae<re;Ae++)St(0)}(),Nt())}),x.addEventListener("keydown",function(re){var Ae;switch(re.keyCode){case 38:Ae=X.indexOf(he),("editor"==f||"hybrid"==f&&Ae)&&(re.stopImmediatePropagation(),re.stopPropagation(),re.preventDefault(),Ae>0&&xt(X[Ae-1],!U));break;case 40:Ae=X.indexOf(he),("editor"==f||"hybrid"==f&&Ae<X.length-1)&&(re.stopImmediatePropagation(),re.stopPropagation(),re.preventDefault(),Ae<X.length-1&&xt(-1==Ae?X[0]:X[Ae+1],!U));break;case 37:case 39:re.stopImmediatePropagation(),re.stopPropagation(),re.preventDefault();break;case 13:U?et():Vt();break;case 27:u();break;case 9:break;default:!1===o.currentCell&&re.preventDefault(),re.keyCode>=38&&re.keyCode<=90&&function ze(re){clearTimeout(vt);var Ae=String.fromCharCode(event.keyCode).toLowerCase();mt+=Ae.toLowerCase();var lt=X.find(Et=>void 0!==Et.label&&Et.label.toLowerCase().startsWith(mt));lt&&xt(lt,!U),vt=setTimeout(()=>{mt=""},800)}()}}),x.addEventListener("blur",function(re){Ie&&(U?Nt():u())}),x.addEventListener("focus",function(re){Ue||function h(){if(be=[],!P.parentNode){!function kt(re,Ae){var lt=[],Et=[];function xi(ut){return Ae.indexOf((ut={label:ut.label,value:ut.value,itemParams:ut.itemParams,elementAttributes:ut.elementAttributes,element:!1}).value)>-1&&zt(ut),lt.push(ut),Et.push(ut),ut}if("function"==typeof re&&(re=re(c)),Array.isArray(re))re.forEach(function(Tt){var ut;"object"==typeof Tt?Tt.options?(Et.push(ut={label:Tt.label,group:!0,itemParams:Tt.itemParams,elementAttributes:Tt.elementAttributes,element:!1}),Tt.options.forEach(function(Ui){xi(Ui)})):xi(Tt):(Ae.indexOf((ut={label:Tt,value:Tt,element:!1}).value)>-1&&zt(ut),lt.push(ut),Et.push(ut))});else for(var jt in re){var Si={label:re[jt],value:jt,element:!1};Ae.indexOf(Si.value)>-1&&zt(Si),lt.push(Si),Et.push(Si)}n.sortValuesList&&(lt.sort((Tt,ut)=>Tt.label<ut.label?-1:Tt.label>ut.label?1:0),Et.sort((Tt,ut)=>Tt.label<ut.label?-1:Tt.label>ut.label?1:0),"asc"!==n.sortValuesList&&(lt.reverse(),Et.reverse())),X=lt,me=Et,function It(){for(;P.firstChild;)P.removeChild(P.firstChild);me.forEach(function(re){var Ae=re.element;if(!Ae){if(Ae=document.createElement("div"),re.label=n.listItemFormatter?n.listItemFormatter(re.value,re.label,c,Ae,re.itemParams):re.label,re.group?(Ae.classList.add("tabulator-edit-select-list-group"),Ae.tabIndex=0,Ae.innerHTML=""===re.label?"&nbsp;":re.label):(Ae.classList.add("tabulator-edit-select-list-item"),Ae.tabIndex=0,Ae.innerHTML=""===re.label?"&nbsp;":re.label,Ae.addEventListener("click",function(){Ue=!0,setTimeout(()=>{Ue=!1},10),U?(et(re),x.focus()):Vt(re)}),be.indexOf(re)>-1&&Ae.classList.add("active")),re.elementAttributes&&"object"==typeof re.elementAttributes)for(let lt in re.elementAttributes)"+"==lt.charAt(0)?(lt=lt.slice(1),Ae.setAttribute(lt,x.getAttribute(lt)+re.elementAttributes["+"+lt])):Ae.setAttribute(lt,re.elementAttributes[lt]);Ae.addEventListener("mousedown",function(){Ie=!1,setTimeout(function(){Ie=!0},10)}),re.element=Ae}P.appendChild(Ae)})}()}(!0===n.values?At():"string"==typeof n.values?At(n.values):n.values||[],y);var re=L.elOffset(r);P.style.minWidth=r.offsetWidth+"px",P.style.top=re.top+r.offsetHeight+"px",P.style.left=re.left+"px",P.addEventListener("mousedown",function(Ae){Ie=!1,setTimeout(function(){Ie=!0},10)}),document.body.appendChild(P)}}()}),(P=document.createElement("div")).classList.add("tabulator-edit-select-list"),s(function(){x.style.height="100%",x.focus({preventScroll:!0})}),setTimeout(()=>{this.table.rowManager.element.addEventListener("scroll",u)},10),x},autocomplete:function ht(c,s,e,t,n){var o=this,r=c.getElement(),a=c.getValue(),f=n.verticalNavigation||"editor",y=void 0!==a||null===a?a:void 0!==n.defaultValue?n.defaultValue:"",x=document.createElement("input"),P=document.createElement("div"),U=[],X=!1,he=!0,me=!1;if(x.setAttribute("type","search"),x.style.padding="4px",x.style.width="100%",x.style.boxSizing="border-box",n.elementAttributes&&"object"==typeof n.elementAttributes)for(let Re in n.elementAttributes)"+"==Re.charAt(0)?(Re=Re.slice(1),x.setAttribute(Re,x.getAttribute(Re)+n.elementAttributes["+"+Re])):x.setAttribute(Re,n.elementAttributes[Re]);function be(){!0===n.values?me=Ie():"string"==typeof n.values&&(me=Ie(n.values))}function Ie(Re){var h,p={},u=o.table.getData();return(h=Re?o.table.columnManager.getColumnByField(Re):c.getColumn()._getSelf())?(u.forEach(function(D){var Q=h.getFieldValue(D);null!=Q&&""!==Q&&(p[Q]=!0)}),p=n.sortValuesList?"asc"==n.sortValuesList?Object.keys(p).sort():Object.keys(p).sort().reverse():Object.keys(p)):console.warn("unable to find matching column to create autocomplete lookup list:",Re),p}function Ue(Re,p){var h,D,u=[];h=me||n.values||[],n.searchFunc?(u=n.searchFunc(Re,h))instanceof Promise?(mt(void 0!==n.searchingPlaceholder?n.searchingPlaceholder:"Searching..."),u.then(Q=>{kt(vt(Q),p)}).catch(Q=>{console.err("error in autocomplete search promise:",Q)})):kt(vt(u),p):(D=vt(h),""===Re?n.showListOnEmpty&&(u=D):D.forEach(function(Q){(null!==Q.value||void 0!==Q.value)&&(String(Q.value).toLowerCase().indexOf(String(Re).toLowerCase())>-1||String(Q.title).toLowerCase().indexOf(String(Re).toLowerCase())>-1)&&u.push(Q)}),kt(u,p))}function mt(Re){var p=document.createElement("div");At(),!1!==Re&&(p.classList.add("tabulator-edit-select-list-notice"),p.tabIndex=0,Re instanceof Node?p.appendChild(Re):p.innerHTML=Re,P.appendChild(p))}function vt(Re){var p=[];if(Array.isArray(Re))Re.forEach(function(D){var Q={};"object"==typeof D?(Q.title=n.listItemFormatter?n.listItemFormatter(D.value,D.label):D.label,Q.value=D.value):(Q.title=n.listItemFormatter?n.listItemFormatter(D,D):D,Q.value=D),p.push(Q)});else for(var u in Re){var h={title:n.listItemFormatter?n.listItemFormatter(u,Re[u]):Re[u],value:u};p.push(h)}return p}function At(){for(;P.firstChild;)P.removeChild(P.firstChild)}function kt(Re,p){Re.length?function It(Re,p){var u=!1;At(),(U=Re).forEach(function(h){var D=h.element;D||((D=document.createElement("div")).classList.add("tabulator-edit-select-list-item"),D.tabIndex=0,D.innerHTML=h.title,D.addEventListener("click",function(Q){St(h),xt()}),D.addEventListener("mousedown",function(Q){he=!1,setTimeout(function(){he=!0},10)}),h.element=D,p&&h.value==a&&(x.value=h.title,h.element.classList.add("active"),u=!0),h===X&&(h.element.classList.add("active"),u=!0)),P.appendChild(D)}),u||St(!1)}(Re,p):n.emptyPlaceholder&&mt(n.emptyPlaceholder)}function xt(){et(),X?a!==X.value?(a=X.value,x.value=X.title,e(X.value)):t():n.freetext||n.allowEmpty&&""===x.value?(a=x.value,e(x.value)):t()}function St(Re,p){X&&X.element&&X.element.classList.remove("active"),X=Re,Re&&Re.element&&Re.element.classList.add("active"),Re&&Re.element&&Re.element.scrollIntoView&&Re.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}function et(){P.parentNode&&P.parentNode.removeChild(P),function Nt(){o.table.rowManager.element.removeEventListener("scroll",Vt)}()}function Vt(){et(),t()}return P.classList.add("tabulator-edit-select-list"),P.addEventListener("mousedown",function(Re){he=!1,setTimeout(function(){he=!0},10)}),x.addEventListener("keydown",function(Re){var p;switch(Re.keyCode){case 38:p=U.indexOf(X),("editor"==f||"hybrid"==f&&p)&&(Re.stopImmediatePropagation(),Re.stopPropagation(),Re.preventDefault(),St(p>0&&U[p-1]));break;case 40:p=U.indexOf(X),("editor"==f||"hybrid"==f&&p<U.length-1)&&(Re.stopImmediatePropagation(),Re.stopPropagation(),Re.preventDefault(),p<U.length-1&&St(-1==p?U[0]:U[p+1]));break;case 37:case 39:Re.stopImmediatePropagation(),Re.stopPropagation();break;case 13:xt();break;case 27:Vt();break;case 36:case 35:Re.stopImmediatePropagation()}}),x.addEventListener("keyup",function(Re){switch(Re.keyCode){case 38:case 37:case 39:case 40:case 13:case 27:break;default:Ue(x.value)}}),x.addEventListener("search",function(Re){Ue(x.value)}),x.addEventListener("blur",function(Re){he&&xt()}),x.addEventListener("focus",function(Re){var p=y;be(),function zt(){if(!P.parentNode){for(;P.firstChild;)P.removeChild(P.firstChild);var Re=L.elOffset(r);P.style.minWidth=r.offsetWidth+"px",P.style.top=Re.top+r.offsetHeight+"px",P.style.left=Re.left+"px",document.body.appendChild(P)}}(),x.value=p,Ue(p,!0)}),s(function(){x.style.height="100%",x.focus({preventScroll:!0})}),n.mask&&_e(x,n),setTimeout(()=>{this.table.rowManager.element.addEventListener("scroll",Vt)},10),be(),x.value=y,Ue(y,!0),x},star:function Ct(c,s,e,t,n){var o=this,r=c.getElement(),a=c.getValue(),f=r.getElementsByTagName("svg").length||5,y=r.getElementsByTagName("svg")[0]?r.getElementsByTagName("svg")[0].getAttribute("width"):14,x=[],P=document.createElement("div"),U=document.createElementNS("http://www.w3.org/2000/svg","svg");function X(Ie){x.forEach(function(Ue,mt){mt<Ie?("ie"==o.table.browser?Ue.setAttribute("class","tabulator-star-active"):Ue.classList.replace("tabulator-star-inactive","tabulator-star-active"),Ue.innerHTML='<polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>'):("ie"==o.table.browser?Ue.setAttribute("class","tabulator-star-inactive"):Ue.classList.replace("tabulator-star-active","tabulator-star-inactive"),Ue.innerHTML='<polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>')})}function he(Ie){var Ue=document.createElement("span"),mt=U.cloneNode(!0);x.push(mt),Ue.addEventListener("mouseenter",function(vt){vt.stopPropagation(),vt.stopImmediatePropagation(),X(Ie)}),Ue.addEventListener("mousemove",function(vt){vt.stopPropagation(),vt.stopImmediatePropagation()}),Ue.addEventListener("click",function(vt){vt.stopPropagation(),vt.stopImmediatePropagation(),e(Ie),r.blur()}),Ue.appendChild(mt),P.appendChild(Ue)}function me(Ie){a=Ie,X(Ie)}if(r.style.whiteSpace="nowrap",r.style.overflow="hidden",r.style.textOverflow="ellipsis",P.style.verticalAlign="middle",P.style.display="inline-block",P.style.padding="4px",U.setAttribute("width",y),U.setAttribute("height",y),U.setAttribute("viewBox","0 0 512 512"),U.setAttribute("xml:space","preserve"),U.style.padding="0 1px",n.elementAttributes&&"object"==typeof n.elementAttributes)for(let Ie in n.elementAttributes)"+"==Ie.charAt(0)?(Ie=Ie.slice(1),P.setAttribute(Ie,P.getAttribute(Ie)+n.elementAttributes["+"+Ie])):P.setAttribute(Ie,n.elementAttributes[Ie]);for(var be=1;be<=f;be++)he(be);return X(a=Math.min(parseInt(a),f)),P.addEventListener("mousemove",function(Ie){X(0)}),P.addEventListener("click",function(Ie){e(0)}),r.addEventListener("blur",function(Ie){t()}),r.addEventListener("keydown",function(Ie){switch(Ie.keyCode){case 39:me(a+1);break;case 37:me(a-1);break;case 13:e(a);break;case 27:t()}}),P},progress:function yt(c,s,e,t,n){var U,X,o=c.getElement(),r=void 0===n.max?o.getElementsByTagName("div")[0]&&o.getElementsByTagName("div")[0].getAttribute("max")||100:n.max,a=void 0===n.min?o.getElementsByTagName("div")[0]&&o.getElementsByTagName("div")[0].getAttribute("min")||0:n.min,f=(r-a)/100,y=c.getValue()||0,x=document.createElement("div"),P=document.createElement("div");function he(){var me=window.getComputedStyle(o,null),be=f*Math.round(P.offsetWidth/((o.clientWidth-parseInt(me.getPropertyValue("padding-left"))-parseInt(me.getPropertyValue("padding-right")))/100))+a;e(be),o.setAttribute("aria-valuenow",be),o.setAttribute("aria-label",y)}if(x.style.position="absolute",x.style.right="0",x.style.top="0",x.style.bottom="0",x.style.width="5px",x.classList.add("tabulator-progress-handle"),P.style.display="inline-block",P.style.position="relative",P.style.height="100%",P.style.backgroundColor="#488CE9",P.style.maxWidth="100%",P.style.minWidth="0%",n.elementAttributes&&"object"==typeof n.elementAttributes)for(let me in n.elementAttributes)"+"==me.charAt(0)?(me=me.slice(1),P.setAttribute(me,P.getAttribute(me)+n.elementAttributes["+"+me])):P.setAttribute(me,n.elementAttributes[me]);return o.style.padding="4px 4px",y=Math.min(parseFloat(y),r),y=Math.max(parseFloat(y),a),y=Math.round((y-a)/f),P.style.width=y+"%",o.setAttribute("aria-valuemin",a),o.setAttribute("aria-valuemax",r),P.appendChild(x),x.addEventListener("mousedown",function(me){U=me.screenX,X=P.offsetWidth}),x.addEventListener("mouseover",function(){x.style.cursor="ew-resize"}),o.addEventListener("mousemove",function(me){U&&(P.style.width=X+me.screenX-U+"px")}),o.addEventListener("mouseup",function(me){U&&(me.stopPropagation(),me.stopImmediatePropagation(),U=!1,X=!1,he())}),o.addEventListener("keydown",function(me){switch(me.keyCode){case 39:me.preventDefault(),P.style.width=P.clientWidth+o.clientWidth/100+"px";break;case 37:me.preventDefault(),P.style.width=P.clientWidth-o.clientWidth/100+"px";break;case 9:case 13:he();break;case 27:t()}}),o.addEventListener("blur",function(){t()}),P},tickCross:function pt(c,s,e,t,n){var o=c.getValue(),r=document.createElement("input"),a=n.tristate,f=void 0===n.indeterminateValue?null:n.indeterminateValue,y=!1;if(r.setAttribute("type","checkbox"),r.style.marginTop="5px",r.style.boxSizing="border-box",n.elementAttributes&&"object"==typeof n.elementAttributes)for(let P in n.elementAttributes)"+"==P.charAt(0)?(P=P.slice(1),r.setAttribute(P,r.getAttribute(P)+n.elementAttributes["+"+P])):r.setAttribute(P,n.elementAttributes[P]);function x(P){return a?P?y?f:r.checked:r.checked&&!y?(r.checked=!1,r.indeterminate=!0,y=!0,f):(y=!1,r.checked):r.checked}return r.value=o,a&&(void 0===o||o===f||""===o)&&(y=!0,r.indeterminate=!0),"firefox"!=this.table.browser&&s(function(){r.focus({preventScroll:!0})}),r.checked=!0===o||"true"===o||"True"===o||1===o,s(function(){r.focus()}),r.addEventListener("change",function(P){e(x())}),r.addEventListener("blur",function(P){e(x(!0))}),r.addEventListener("keydown",function(P){13==P.keyCode&&e(x()),27==P.keyCode&&t()}),r}};let ke=(()=>{class c extends d{constructor(e){super(e),this.currentCell=!1,this.mouseClick=!1,this.recursionBlock=!1,this.invalidEdit=!1,this.editedCells=[],this.editors=c.editors,this.registerColumnOption("editable"),this.registerColumnOption("editor"),this.registerColumnOption("editorParams"),this.registerColumnOption("cellEditing"),this.registerColumnOption("cellEdited"),this.registerColumnOption("cellEditCancelled"),this.registerTableFunction("getEditedCells",this.getEditedCells.bind(this)),this.registerTableFunction("clearCellEdited",this.clearCellEdited.bind(this)),this.registerTableFunction("navigatePrev",this.navigatePrev.bind(this)),this.registerTableFunction("navigateNext",this.navigateNext.bind(this)),this.registerTableFunction("navigateLeft",this.navigateLeft.bind(this)),this.registerTableFunction("navigateRight",this.navigateRight.bind(this)),this.registerTableFunction("navigateUp",this.navigateUp.bind(this)),this.registerTableFunction("navigateDown",this.navigateDown.bind(this)),this.registerComponentFunction("cell","isEdited",this.cellisEdited.bind(this)),this.registerComponentFunction("cell","clearEdited",this.clearEdited.bind(this)),this.registerComponentFunction("cell","edit",this.editCell.bind(this)),this.registerComponentFunction("cell","cancelEdit",this.cellCancelEdit.bind(this)),this.registerComponentFunction("cell","navigatePrev",this.navigatePrev.bind(this)),this.registerComponentFunction("cell","navigateNext",this.navigateNext.bind(this)),this.registerComponentFunction("cell","navigateLeft",this.navigateLeft.bind(this)),this.registerComponentFunction("cell","navigateRight",this.navigateRight.bind(this)),this.registerComponentFunction("cell","navigateUp",this.navigateUp.bind(this)),this.registerComponentFunction("cell","navigateDown",this.navigateDown.bind(this))}initialize(){this.subscribe("cell-init",this.bindEditor.bind(this)),this.subscribe("cell-delete",this.clearEdited.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("column-delete",this.columnDeleteCheck.bind(this)),this.subscribe("row-deleting",this.rowDeleteCheck.bind(this)),this.subscribe("data-refreshing",this.cancelEdit.bind(this)),this.subscribe("keybinding-nav-prev",this.navigatePrev.bind(this,void 0)),this.subscribe("keybinding-nav-next",this.keybindingNavigateNext.bind(this)),this.subscribe("keybinding-nav-left",this.navigateLeft.bind(this,void 0)),this.subscribe("keybinding-nav-right",this.navigateRight.bind(this,void 0)),this.subscribe("keybinding-nav-up",this.navigateUp.bind(this,void 0)),this.subscribe("keybinding-nav-down",this.navigateDown.bind(this,void 0))}keybindingNavigateNext(e){var t=this.currentCell,n=this.options("tabEndNewRow");t&&(this.navigateNext(t,e)||n&&(t.getElement().firstChild.blur(),(n=this.table.addRow(!0===n?{}:"function"==typeof n?n(t.row.getComponent()):Object.assign({},n))).then(()=>{setTimeout(()=>{t.getComponent().navigateNext()})})))}cellisEdited(e){return!!e.modules.edit&&e.modules.edit.edited}cellCancelEdit(e){e===this.currentCell?this.table.modules.edit.cancelEdit():console.warn("Cancel Editor Error - This cell is not currently being edited ")}clearCellEdited(e){e||(e=this.table.modules.edit.getEditedCells()),Array.isArray(e)||(e=[e]),e.forEach(t=>{this.table.modules.edit.clearEdited(t._getSelf())})}navigatePrev(e=this.currentCell,t){var n,o;if(e){if(t&&t.preventDefault(),n=this.navigateLeft())return!0;if((o=this.table.rowManager.prevDisplayRow(e.row,!0))&&(n=this.findNextEditableCell(o,o.cells.length)))return n.getComponent().edit(),!0}return!1}navigateNext(e=this.currentCell,t){var n,o;if(e){if(t&&t.preventDefault(),n=this.navigateRight())return!0;if((o=this.table.rowManager.nextDisplayRow(e.row,!0))&&(n=this.findNextEditableCell(o,-1)))return n.getComponent().edit(),!0}return!1}navigateLeft(e=this.currentCell,t){var n,o;return!(!e||(t&&t.preventDefault(),n=e.getIndex(),o=this.findPrevEditableCell(e.row,n),!o)||(o.getComponent().edit(),0))}navigateRight(e=this.currentCell,t){var n,o;return!(!e||(t&&t.preventDefault(),n=e.getIndex(),o=this.findNextEditableCell(e.row,n),!o)||(o.getComponent().edit(),0))}navigateUp(e=this.currentCell,t){var n,o;return!(!e||(t&&t.preventDefault(),n=e.getIndex(),o=this.table.rowManager.prevDisplayRow(e.row,!0),!o)||(o.cells[n].getComponent().edit(),0))}navigateDown(e=this.currentCell,t){var n,o;return!(!e||(t&&t.preventDefault(),n=e.getIndex(),o=this.table.rowManager.nextDisplayRow(e.row,!0),!o)||(o.cells[n].getComponent().edit(),0))}findNextEditableCell(e,t){var n=!1;if(t<e.cells.length-1)for(var o=t+1;o<e.cells.length;o++){let r=e.cells[o];if(r.column.modules.edit&&L.elVisible(r.getElement())){let a=!0;if("function"==typeof r.column.modules.edit.check&&(a=r.column.modules.edit.check(r.getComponent())),a){n=r;break}}}return n}findPrevEditableCell(e,t){var n=!1;if(t>0)for(var o=t-1;o>=0;o--){let r=e.cells[o],a=!0;if(r.column.modules.edit&&L.elVisible(r.getElement())&&("function"==typeof r.column.modules.edit.check&&(a=r.column.modules.edit.check(r.getComponent())),a)){n=r;break}}return n}initializeColumnCheck(e){void 0!==e.definition.editor&&this.initializeColumn(e)}columnDeleteCheck(e){this.currentCell&&this.currentCell.column===e&&this.cancelEdit()}rowDeleteCheck(e){this.currentCell&&this.currentCell.row===e&&this.cancelEdit()}initializeColumn(e){var t={editor:!1,blocked:!1,check:e.definition.editable,params:e.definition.editorParams||{}};switch(typeof e.definition.editor){case"string":this.editors[e.definition.editor]?t.editor=this.editors[e.definition.editor]:console.warn("Editor Error - No such editor found: ",e.definition.editor);break;case"function":t.editor=e.definition.editor;break;case"boolean":!0===e.definition.editor&&("function"!=typeof e.definition.formatter?t.editor=this.editors[e.definition.formatter]?this.editors[e.definition.formatter]:this.editors.input:console.warn("Editor Error - Cannot auto lookup editor for a custom formatter: ",e.definition.formatter))}t.editor&&(e.modules.edit=t)}getCurrentCell(){return!!this.currentCell&&this.currentCell.getComponent()}clearEditor(e){var n,t=this.currentCell;if(this.invalidEdit=!1,t){for(this.currentCell=!1,n=t.getElement(),e?t.column.modules.validate&&this.table.modExists("validate")&&this.table.modules.validate.cellValidate(t):n.classList.remove("tabulator-validation-fail"),n.classList.remove("tabulator-editing");n.firstChild;)n.removeChild(n.firstChild);t.row.getElement().classList.remove("tabulator-row-editing")}}cancelEdit(){if(this.currentCell){var e=this.currentCell,t=this.currentCell.getComponent();this.clearEditor(!0),e.setValueActual(e.getValue()),e.cellRendered(),("textarea"==e.column.definition.editor||e.column.definition.variableHeight)&&e.row.normalizeHeight(!0),e.column.definition.cellEditCancelled&&e.column.definition.cellEditCancelled.call(this.table,t),this.dispatch("edit-cancelled",e),this.dispatchExternal("cellEditCancelled",t)}}bindEditor(e){if(e.column.modules.edit){var t=this,n=e.getElement(!0);n.setAttribute("tabindex",0),n.addEventListener("click",function(o){n.classList.contains("tabulator-editing")||n.focus({preventScroll:!0})}),n.addEventListener("mousedown",function(o){2===o.button?o.preventDefault():t.mouseClick=!0}),n.addEventListener("focus",function(o){t.recursionBlock||t.edit(e,o,!1)})}}focusCellNoEvent(e,t){this.recursionBlock=!0,t&&"ie"===this.table.browser||e.getElement().focus({preventScroll:!0}),this.recursionBlock=!1}editCell(e,t){this.focusCellNoEvent(e),this.edit(e,!1,t)}focusScrollAdjust(e){if("virtual"==this.table.rowManager.getRenderMode()){var t=this.table.rowManager.element.scrollTop,n=this.table.rowManager.element.clientHeight+this.table.rowManager.element.scrollTop,o=e.row.getElement();o.offsetTop<t?this.table.rowManager.element.scrollTop-=t-o.offsetTop:o.offsetTop+o.offsetHeight>n&&(this.table.rowManager.element.scrollTop+=o.offsetTop+o.offsetHeight-n);var r=this.table.rowManager.element.scrollLeft,a=this.table.rowManager.element.clientWidth+this.table.rowManager.element.scrollLeft,f=e.getElement();this.table.modExists("frozenColumns")&&(r+=parseInt(this.table.modules.frozenColumns.leftMargin),a-=parseInt(this.table.modules.frozenColumns.rightMargin)),"virtual"===this.table.options.renderHorizontal&&(r-=parseInt(this.table.columnManager.renderer.vDomPadLeft),a-=parseInt(this.table.columnManager.renderer.vDomPadLeft)),f.offsetLeft<r?this.table.rowManager.element.scrollLeft-=r-f.offsetLeft:f.offsetLeft+f.offsetWidth>a&&(this.table.rowManager.element.scrollLeft+=f.offsetLeft+f.offsetWidth-a)}}edit(e,t,n){var y,x,P,o=this,r=!0,a=function(){},f=e.getElement();if(!this.currentCell){if(e.column.modules.edit.blocked)return this.mouseClick=!1,f.blur(),!1;switch(t&&t.stopPropagation(),typeof e.column.modules.edit.check){case"function":r=e.column.modules.edit.check(e.getComponent());break;case"boolean":r=e.column.modules.edit.check}if(r||n){if(o.cancelEdit(),o.currentCell=e,this.focusScrollAdjust(e),x=e.getComponent(),this.mouseClick&&(this.mouseClick=!1,e.column.definition.cellClick&&e.column.definition.cellClick.call(this.table,t,x)),e.column.definition.cellEditing&&e.column.definition.cellEditing.call(this.table,x),this.dispatchExternal("cellEditing",x),P="function"==typeof e.column.modules.edit.params?e.column.modules.edit.params(x):e.column.modules.edit.params,!1===(y=e.column.modules.edit.editor.call(o,x,function he(Ie){a=Ie},function U(Ie){if(o.currentCell===e){var Ue=!0;return e.column.modules.validate&&o.table.modExists("validate")&&"manual"!=o.table.options.validationMode&&(Ue=o.table.modules.validate.validate(e.column.modules.validate,e,Ie)),!0===Ue||"highlight"===o.table.options.validationMode?(o.clearEditor(),e.modules.edit||(e.modules.edit={}),e.modules.edit.edited=!0,-1==o.editedCells.indexOf(e)&&o.editedCells.push(e),e.setValue(Ie,!0),!0===Ue||(f.classList.add("tabulator-validation-fail"),o.table.externalEvents.dispatch("validationFailed",e.getComponent(),Ie,Ue),!1)):(o.invalidEdit=!0,f.classList.add("tabulator-validation-fail"),o.focusCellNoEvent(e,!0),a(),o.table.externalEvents.dispatch("validationFailed",e.getComponent(),Ie,Ue),!1)}},function X(){o.currentCell===e&&o.cancelEdit()},P)))return f.blur(),!1;if(!(y instanceof Node))return console.warn("Edit Error - Editor should return an instance of Node, the editor returned:",y),f.blur(),!1;for(f.classList.add("tabulator-editing"),e.row.getElement().classList.add("tabulator-row-editing");f.firstChild;)f.removeChild(f.firstChild);f.appendChild(y),a();for(var me=f.children,be=0;be<me.length;be++)me[be].addEventListener("click",function(Ie){Ie.stopPropagation()});return!0}return this.mouseClick=!1,f.blur(),!1}this.invalidEdit||this.cancelEdit()}getEditedCells(){var e=[];return this.editedCells.forEach(t=>{e.push(t.getComponent())}),e}clearEdited(e){var t;e.modules.edit&&e.modules.edit.edited&&(e.modules.edit.edited=!1,e.modules.validate&&(e.modules.validate.invalid=!1)),(t=this.editedCells.indexOf(e))>-1&&this.editedCells.splice(t,1)}}return c.moduleName="edit",c.editors=Te,c})();class ie{constructor(s,e,t,n){this.type=s,this.columns=e,this.component=t||!1,this.indent=n||0}}class Se{constructor(s,e,t,n,o){this.value=s,this.component=e||!1,this.width=t,this.height=n,this.depth=o}}let He=(()=>{class c extends d{constructor(e){super(e),this.config={},this.cloneTableStyle=!0,this.colVisProp="",this.registerTableOption("htmlOutputConfig",!1),this.registerColumnOption("htmlOutput"),this.registerColumnOption("titleHtmlOutput")}initialize(){this.registerTableFunction("getHtml",this.getHtml.bind(this))}generateExportList(e,t,n,o){this.cloneTableStyle=t,this.config=e||{},this.colVisProp=o;var r=!1!==this.config.columnHeaders?this.headersToExportRows(this.generateColumnGroupHeaders()):[],a=this.bodyToExportRows(this.rowLookup(n));return r.concat(a)}genereateTable(e,t,n,o){var r=this.generateExportList(e,t,n,o);return this.genereateTableElement(r)}rowLookup(e){var t=[];if("function"==typeof e)e.call(this.table).forEach(n=>{(n=this.table.rowManager.findRow(n))&&t.push(n)});else switch(e){case!0:case"visible":t=this.table.rowManager.getVisibleRows(!1,!0);break;case"all":t=this.table.rowManager.rows;break;case"selected":t=this.table.modules.selectRow.selectedRows;break;default:t=this.table.options.pagination?this.table.rowManager.getDisplayRows(this.table.rowManager.displayRows.length-2):this.table.rowManager.getDisplayRows()}return Object.assign([],t)}generateColumnGroupHeaders(){var e=[];return(!1!==this.config.columnGroups?this.table.columnManager.columns:this.table.columnManager.columnsByIndex).forEach(n=>{var o=this.processColumnGroup(n);o&&e.push(o)}),e}processColumnGroup(e){var t=e.columns,n=0,r={title:e.definition["title"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))]||e.definition.title,column:e,depth:1};if(t.length){if(r.subGroups=[],r.width=0,t.forEach(a=>{var f=this.processColumnGroup(a);f&&(r.width+=f.width,r.subGroups.push(f),f.depth>n&&(n=f.depth))}),r.depth+=n,!r.width)return!1}else{if(!this.columnVisCheck(e))return!1;r.width=1}return r}columnVisCheck(e){return!1!==e.definition[this.colVisProp]&&(e.visible||!e.visible&&e.definition[this.colVisProp])}headersToExportRows(e){var t=[],n=0,o=[];function r(a,f){var y=n-f;if(void 0===t[f]&&(t[f]=[]),a.height=a.subGroups?1:y-a.depth+1,t[f].push(a),a.height>1)for(let x=1;x<a.height;x++)void 0===t[f+x]&&(t[f+x]=[]),t[f+x].push(!1);if(a.width>1)for(let x=1;x<a.width;x++)t[f].push(!1);a.subGroups&&a.subGroups.forEach(function(x){r(x,f+1)})}return e.forEach(function(a){a.depth>n&&(n=a.depth)}),e.forEach(function(a){r(a,0)}),t.forEach(a=>{var f=[];a.forEach(y=>{f.push(y?new Se(void 0===y.title?"":y.title,y.column.getComponent(),y.width,y.height,y.depth):null)}),o.push(new ie("header",f))}),o}bodyToExportRows(e){var t=[],n=[];return this.table.columnManager.columnsByIndex.forEach(o=>{this.columnVisCheck(o)&&t.push(o.getComponent())}),!1!==this.config.columnCalcs&&this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&e.unshift(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&e.push(this.table.modules.columnCalcs.botRow)),(e=e.filter(o=>{switch(o.type){case"group":return!1!==this.config.rowGroups;case"calc":return!1!==this.config.columnCalcs;case"row":return!(this.table.options.dataTree&&!1===this.config.dataTree&&o.modules.dataTree.parent)}return!0})).forEach((o,r)=>{var a=o.getData(this.colVisProp),f=[],y=0;switch(o.type){case"group":y=o.level,f.push(new Se(o.key,o.getComponent(),t.length,1));break;case"calc":case"row":t.forEach(x=>{f.push(new Se(x._column.getFieldValue(a),x,1,1))}),this.table.options.dataTree&&!1!==this.config.dataTree&&(y=o.modules.dataTree.index)}n.push(new ie(o.type,f,o.getComponent(),y))}),n}genereateTableElement(e){var t=document.createElement("table"),n=document.createElement("thead"),o=document.createElement("tbody"),r=this.lookupTableStyles(),a=this.table.options["rowFormatter"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],f={};return f.rowFormatter=null!==a?a:this.table.options.rowFormatter,this.table.options.dataTree&&!1!==this.config.dataTree&&this.table.modExists("columnCalcs")&&(f.treeElementField=this.table.modules.dataTree.elementField),f.groupHeader=this.table.options["groupHeader"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],f.groupHeader&&!Array.isArray(f.groupHeader)&&(f.groupHeader=[f.groupHeader]),t.classList.add("tabulator-print-table"),this.mapElementStyles(this.table.columnManager.getHeadersElement(),n,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),e.length>1e3&&console.warn("It may take a long time to render an HTML table with more than 1000 rows"),e.forEach((y,x)=>{switch(y.type){case"header":n.appendChild(this.genereateHeaderElement(y,f,r));break;case"group":o.appendChild(this.genereateGroupElement(y,f,r));break;case"calc":o.appendChild(this.genereateCalcElement(y,f,r));break;case"row":let P=this.genereateRowElement(y,f,r);this.mapElementStyles(x%2&&r.evenRow?r.evenRow:r.oddRow,P,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),o.appendChild(P)}}),n.innerHTML&&t.appendChild(n),t.appendChild(o),this.mapElementStyles(this.table.element,t,["border-top","border-left","border-right","border-bottom"]),t}lookupTableStyles(){var e={};return this.cloneTableStyle&&window.getComputedStyle&&(e.oddRow=this.table.element.querySelector(".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)"),e.evenRow=this.table.element.querySelector(".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)"),e.calcRow=this.table.element.querySelector(".tabulator-row.tabulator-calcs"),e.firstRow=this.table.element.querySelector(".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)"),e.firstGroup=this.table.element.getElementsByClassName("tabulator-group")[0],e.firstRow&&(e.styleCells=e.firstRow.getElementsByClassName("tabulator-cell"),e.firstCell=e.styleCells[0],e.lastCell=e.styleCells[e.styleCells.length-1])),e}genereateHeaderElement(e,t,n){var o=document.createElement("tr");return e.columns.forEach(r=>{if(r){var a=document.createElement("th"),f=r.component._column.definition.cssClass?r.component._column.definition.cssClass.split(" "):[];a.colSpan=r.width,a.rowSpan=r.height,a.innerHTML=r.value,this.cloneTableStyle&&(a.style.boxSizing="border-box"),f.forEach(function(y){a.classList.add(y)}),this.mapElementStyles(r.component.getElement(),a,["text-align","border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),this.mapElementStyles(r.component._column.contentElement,a,["padding-top","padding-left","padding-right","padding-bottom"]),r.component._column.visible?this.mapElementStyles(r.component.getElement(),a,["width"]):r.component._column.definition.width&&(a.style.width=r.component._column.definition.width+"px"),r.component._column.parent&&this.mapElementStyles(r.component._column.parent.groupElement,a,["border-top"]),o.appendChild(a)}}),o}genereateGroupElement(e,t,n){var o=document.createElement("tr"),r=document.createElement("td"),a=e.columns[0];return o.classList.add("tabulator-print-table-row"),a.value=t.groupHeader&&t.groupHeader[e.indent]?t.groupHeader[e.indent](a.value,e.component._group.getRowCount(),e.component._group.getData(),e.component):!1===t.groupHeader?a.value:e.component._group.generator(a.value,e.component._group.getRowCount(),e.component._group.getData(),e.component),r.colSpan=a.width,r.innerHTML=a.value,o.classList.add("tabulator-print-table-group"),o.classList.add("tabulator-group-level-"+e.indent),a.component.isVisible()&&o.classList.add("tabulator-group-visible"),this.mapElementStyles(n.firstGroup,o,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),this.mapElementStyles(n.firstGroup,r,["padding-top","padding-left","padding-right","padding-bottom"]),o.appendChild(r),o}genereateCalcElement(e,t,n){var o=this.genereateRowElement(e,t,n);return o.classList.add("tabulator-print-table-calcs"),this.mapElementStyles(n.calcRow,o,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),o}genereateRowElement(e,t,n){var o=document.createElement("tr");return o.classList.add("tabulator-print-table-row"),e.columns.forEach(r=>{if(r){var a=document.createElement("td"),f=r.component._column,y=r.value,x={modules:{},getValue:function(){return y},getField:function(){return f.definition.field},getElement:function(){return a},getColumn:function(){return f.getComponent()},getData:function(){return e.component.getData()},getRow:function(){return e.component},getComponent:function(){return x},column:f};if((f.definition.cssClass?f.definition.cssClass.split(" "):[]).forEach(function(U){a.classList.add(U)}),this.table.modExists("format")&&!1!==this.config.formatCells)y=this.table.modules.format.formatExportValue(x,this.colVisProp);else switch(typeof y){case"object":y=JSON.stringify(y);break;case"undefined":case"null":y="";break;default:y=y}y instanceof Node?a.appendChild(y):a.innerHTML=y,n.firstCell&&(this.mapElementStyles(n.firstCell,a,["padding-top","padding-left","padding-right","padding-bottom","border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size"]),f.definition.align&&(a.style.textAlign=f.definition.align)),this.table.options.dataTree&&!1!==this.config.dataTree&&(t.treeElementField&&t.treeElementField==f.field||!t.treeElementField&&0==i)&&(e.component._row.modules.dataTree.controlEl&&a.insertBefore(e.component._row.modules.dataTree.controlEl.cloneNode(!0),a.firstChild),e.component._row.modules.dataTree.branchEl&&a.insertBefore(e.component._row.modules.dataTree.branchEl.cloneNode(!0),a.firstChild)),o.appendChild(a),x.modules.format&&x.modules.format.renderedCallback&&x.modules.format.renderedCallback(),t.rowFormatter&&!1!==this.config.formatCells&&t.rowFormatter(e.component)}}),o}genereateHTMLTable(e){var t=document.createElement("div");return t.appendChild(this.genereateTableElement(e)),t.innerHTML}getHtml(e,t,n,o){var r=this.generateExportList(n||this.table.options.htmlOutputConfig,t,e,o||"htmlOutput");return this.genereateHTMLTable(r)}mapElementStyles(e,t,n){if(this.cloneTableStyle&&e&&t){var o={"background-color":"backgroundColor",color:"fontColor",width:"width","font-weight":"fontWeight","font-family":"fontFamily","font-size":"fontSize","text-align":"textAlign","border-top":"borderTop","border-left":"borderLeft","border-right":"borderRight","border-bottom":"borderBottom","padding-top":"paddingTop","padding-left":"paddingLeft","padding-right":"paddingRight","padding-bottom":"paddingBottom"};if(window.getComputedStyle){var r=window.getComputedStyle(e);n.forEach(function(a){t.style[o[a]]=r.getPropertyValue(a)})}}}}return c.moduleName="export",c})();var Qe={"=":function(c,s,e,t){return s==c},"<":function(c,s,e,t){return s<c},"<=":function(c,s,e,t){return s<=c},">":function(c,s,e,t){return s>c},">=":function(c,s,e,t){return s>=c},"!=":function(c,s,e,t){return s!=c},regex:function(c,s,e,t){return"string"==typeof c&&(c=new RegExp(c)),c.test(s)},like:function(c,s,e,t){return null==c?s===c:null!=s&&String(s).toLowerCase().indexOf(c.toLowerCase())>-1},keywords:function(c,s,e,t){var n=c.toLowerCase().split(void 0===t.separator?" ":t.separator),o=String(s??"").toLowerCase(),r=[];return n.forEach(a=>{o.includes(a)&&r.push(!0)}),t.matchAll?r.length===n.length:!!r.length},starts:function(c,s,e,t){return null==c?s===c:null!=s&&String(s).toLowerCase().startsWith(c.toLowerCase())},ends:function(c,s,e,t){return null==c?s===c:null!=s&&String(s).toLowerCase().endsWith(c.toLowerCase())},in:function(c,s,e,t){return Array.isArray(c)?!c.length||c.indexOf(s)>-1:(console.warn("Filter Error - filter value is not an array:",c),!1)}};let nt=(()=>{class c extends d{constructor(e){super(e),this.filterList=[],this.headerFilters={},this.headerFilterColumns=[],this.prevHeaderFilterChangeCheck="",this.prevHeaderFilterChangeCheck="{}",this.changed=!1,this.tableInitialized=!1,this.registerTableOption("filterMode","local"),this.registerTableOption("initialFilter",!1),this.registerTableOption("initialHeaderFilter",!1),this.registerTableOption("headerFilterLiveFilterDelay",300),this.registerColumnOption("headerFilter"),this.registerColumnOption("headerFilterPlaceholder"),this.registerColumnOption("headerFilterParams"),this.registerColumnOption("headerFilterEmptyCheck"),this.registerColumnOption("headerFilterFunc"),this.registerColumnOption("headerFilterFuncParams"),this.registerColumnOption("headerFilterLiveFilter"),this.registerTableFunction("searchRows",this.searchRows.bind(this)),this.registerTableFunction("searchData",this.searchData.bind(this)),this.registerTableFunction("setFilter",this.userSetFilter.bind(this)),this.registerTableFunction("refreshFilter",this.userRefreshFilter.bind(this)),this.registerTableFunction("addFilter",this.userAddFilter.bind(this)),this.registerTableFunction("getFilters",this.getFilters.bind(this)),this.registerTableFunction("setHeaderFilterFocus",this.userSetHeaderFilterFocus.bind(this)),this.registerTableFunction("getHeaderFilterValue",this.userGetHeaderFilterValue.bind(this)),this.registerTableFunction("setHeaderFilterValue",this.userSetHeaderFilterValue.bind(this)),this.registerTableFunction("getHeaderFilters",this.getHeaderFilters.bind(this)),this.registerTableFunction("removeFilter",this.userRemoveFilter.bind(this)),this.registerTableFunction("clearFilter",this.userClearFilter.bind(this)),this.registerTableFunction("clearHeaderFilter",this.userClearHeaderFilter.bind(this)),this.registerComponentFunction("column","headerFilterFocus",this.setHeaderFilterFocus.bind(this)),this.registerComponentFunction("column","reloadHeaderFilter",this.reloadHeaderFilter.bind(this)),this.registerComponentFunction("column","getHeaderFilterValue",this.getHeaderFilterValue.bind(this)),this.registerComponentFunction("column","setHeaderFilterValue",this.setHeaderFilterValue.bind(this))}initialize(){this.subscribe("column-init",this.initializeColumnHeaderFilter.bind(this)),this.subscribe("column-width-fit-before",this.hideHeaderFilterElements.bind(this)),this.subscribe("column-width-fit-after",this.showHeaderFilterElements.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),"remote"===this.table.options.filterMode&&this.subscribe("data-params",this.remoteFilterParams.bind(this)),this.registerDataHandler(this.filter.bind(this),10)}tableBuilt(){this.table.options.initialFilter&&this.setFilter(this.table.options.initialFilter),this.table.options.initialHeaderFilter&&this.table.options.initialHeaderFilter.forEach(e=>{var t=this.table.columnManager.findColumn(e.field);if(!t)return console.warn("Column Filter Error - No matching column found:",e.field),!1;this.setHeaderFilterValue(t,e.value)}),this.tableInitialized=!0}remoteFilterParams(e,t,n,o){return o.filter=this.getFilters(!0,!0),o}userSetFilter(e,t,n,o){this.setFilter(e,t,n,o),this.refreshFilter()}userRefreshFilter(){this.refreshFilter()}userAddFilter(e,t,n,o){this.addFilter(e,t,n,o),this.refreshFilter()}userSetHeaderFilterFocus(e){var t=this.table.columnManager.findColumn(e);if(!t)return console.warn("Column Filter Focus Error - No matching column found:",e),!1;this.setHeaderFilterFocus(t)}userGetHeaderFilterValue(e){var t=this.table.columnManager.findColumn(e);if(t)return this.getHeaderFilterValue(t);console.warn("Column Filter Error - No matching column found:",e)}userSetHeaderFilterValue(e,t){var n=this.table.columnManager.findColumn(e);if(!n)return console.warn("Column Filter Error - No matching column found:",e),!1;this.setHeaderFilterValue(n,t)}userRemoveFilter(e,t,n){this.removeFilter(e,t,n),this.refreshFilter()}userClearFilter(e){this.clearFilter(e),this.refreshFilter()}userClearHeaderFilter(){this.clearHeaderFilter(),this.refreshFilter()}searchRows(e,t,n){return this.search("rows",e,t,n)}searchData(e,t,n){return this.search("data",e,t,n)}initializeColumnHeaderFilter(e){var t=e.definition;t.headerFilter&&(void 0!==t.headerFilterPlaceholder&&t.field&&this.module("localize").setHeaderFilterColumnPlaceholder(t.field,t.headerFilterPlaceholder),this.initializeColumn(e))}initializeColumn(e,t){var n=this,o=e.getField();e.modules.filter={success:function r(a){var P,f="input"==e.modules.filter.tagType&&"text"==e.modules.filter.attrType||"textarea"==e.modules.filter.tagType?"partial":"match",y="",x="";if(void 0===e.modules.filter.prevSuccess||e.modules.filter.prevSuccess!==a){if(e.modules.filter.prevSuccess=a,e.modules.filter.emptyFunc(a))delete n.headerFilters[o];else{switch(e.modules.filter.value=a,typeof e.definition.headerFilterFunc){case"string":c.filters[e.definition.headerFilterFunc]?(y=e.definition.headerFilterFunc,P=function(U){var X=e.definition.headerFilterFuncParams||{},he=e.getFieldValue(U);return X="function"==typeof X?X(a,he,U):X,c.filters[e.definition.headerFilterFunc](a,he,U,X)}):console.warn("Header Filter Error - Matching filter function not found: ",e.definition.headerFilterFunc);break;case"function":y=P=function(U){var X=e.definition.headerFilterFuncParams||{},he=e.getFieldValue(U);return X="function"==typeof X?X(a,he,U):X,e.definition.headerFilterFunc(a,he,U,X)}}P||("partial"===f?(P=function(U){var X=e.getFieldValue(U);return null!=X&&String(X).toLowerCase().indexOf(String(a).toLowerCase())>-1},y="like"):(P=function(U){return e.getFieldValue(U)==a},y="=")),n.headerFilters[o]={value:a,func:P,type:y,params:{}}}x=JSON.stringify(n.headerFilters),n.prevHeaderFilterChangeCheck!==x&&(n.prevHeaderFilterChangeCheck=x,n.trackChanges(),n.refreshFilter())}return!0},attrType:!1,tagType:!1,emptyFunc:!1},this.generateHeaderFilterElement(e)}generateHeaderFilterElement(e,t,n){var f,y,x,P,U,X,he,o=this,r=e.modules.filter.success,a=e.getField();if(e.modules.filter.headerElement&&e.modules.filter.headerElement.parentNode&&e.contentElement.removeChild(e.modules.filter.headerElement.parentNode),a){switch(e.modules.filter.emptyFunc=e.definition.headerFilterEmptyCheck||function(be){return!be&&"0"!==be&&0!==be},(f=document.createElement("div")).classList.add("tabulator-header-filter"),typeof e.definition.headerFilter){case"string":o.table.modules.edit.editors[e.definition.headerFilter]?(y=o.table.modules.edit.editors[e.definition.headerFilter],("tick"===e.definition.headerFilter||"tickCross"===e.definition.headerFilter)&&!e.definition.headerFilterEmptyCheck&&(e.modules.filter.emptyFunc=function(be){return!0!==be&&!1!==be})):console.warn("Filter Error - Cannot build header filter, No such editor found: ",e.definition.editor);break;case"function":y=e.definition.headerFilter;break;case"boolean":e.modules.edit&&e.modules.edit.editor?y=e.modules.edit.editor:e.definition.formatter&&o.table.modules.edit.editors[e.definition.formatter]?(y=o.table.modules.edit.editors[e.definition.formatter],("tick"===e.definition.formatter||"tickCross"===e.definition.formatter)&&!e.definition.headerFilterEmptyCheck&&(e.modules.filter.emptyFunc=function(be){return!0!==be&&!1!==be})):y=o.table.modules.edit.editors.input}if(y){if(P={getValue:function(){return void 0!==t?t:""},getField:function(){return e.definition.field},getElement:function(){return f},getColumn:function(){return e.getComponent()},getRow:function(){return{normalizeHeight:function(){}}}},he="function"==typeof(he=e.definition.headerFilterParams||{})?he.call(o.table,P):he,!(x=y.call(this.table.modules.edit,P,function(){},r,function me(){},he)))return void console.warn("Filter Error - Cannot add filter to "+a+" column, editor returned a value of false");if(!(x instanceof Node))return void console.warn("Filter Error - Cannot add filter to "+a+" column, editor should return an instance of Node, the editor returned:",x);a?o.langBind("headerFilters|columns|"+e.definition.field,function(be){x.setAttribute("placeholder",void 0!==be&&be?be:o.langText("headerFilters|default"))}):o.langBind("headerFilters|default",function(be){x.setAttribute("placeholder",be)}),x.addEventListener("click",function(be){be.stopPropagation(),x.focus()}),x.addEventListener("focus",be=>{var Ie=this.table.columnManager.element.scrollLeft;Ie!==this.table.rowManager.element.scrollLeft&&(this.table.rowManager.scrollHorizontal(Ie),this.table.columnManager.scrollHorizontal(Ie))}),U=!1,X=function(be){U&&clearTimeout(U),U=setTimeout(function(){r(x.value)},o.table.options.headerFilterLiveFilterDelay)},e.modules.filter.headerElement=x,e.modules.filter.attrType=x.hasAttribute("type")?x.getAttribute("type").toLowerCase():"",e.modules.filter.tagType=x.tagName.toLowerCase(),!1!==e.definition.headerFilterLiveFilter&&("autocomplete"===e.definition.headerFilter||"tickCross"===e.definition.headerFilter||("autocomplete"===e.definition.editor||"tickCross"===e.definition.editor)&&!0===e.definition.headerFilter||(x.addEventListener("keyup",X),x.addEventListener("search",X),"number"==e.modules.filter.attrType&&x.addEventListener("change",function(be){r(x.value)}),"text"==e.modules.filter.attrType&&"ie"!==this.table.browser&&x.setAttribute("type","search")),("input"==e.modules.filter.tagType||"select"==e.modules.filter.tagType||"textarea"==e.modules.filter.tagType)&&x.addEventListener("mousedown",function(be){be.stopPropagation()})),f.appendChild(x),e.contentElement.appendChild(f),n||o.headerFilterColumns.push(e)}}else console.warn("Filter Error - Cannot add header filter, column has no field set:",e.definition.title)}hideHeaderFilterElements(){this.headerFilterColumns.forEach(function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="none")})}showHeaderFilterElements(){this.headerFilterColumns.forEach(function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="")})}setHeaderFilterFocus(e){e.modules.filter&&e.modules.filter.headerElement?e.modules.filter.headerElement.focus():console.warn("Column Filter Focus Error - No header filter set on column:",e.getField())}getHeaderFilterValue(e){if(e.modules.filter&&e.modules.filter.headerElement)return e.modules.filter.headerElement.value;console.warn("Column Filter Error - No header filter set on column:",e.getField())}setHeaderFilterValue(e,t){e&&(e.modules.filter&&e.modules.filter.headerElement?(this.generateHeaderFilterElement(e,t,!0),e.modules.filter.success(t)):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}reloadHeaderFilter(e){e&&(e.modules.filter&&e.modules.filter.headerElement?this.generateHeaderFilterElement(e,e.modules.filter.value,!0):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}refreshFilter(){this.tableInitialized&&("remote"===this.table.options.filterMode?this.reloadData():this.refreshData(!0))}trackChanges(){this.changed=!0,this.dispatch("filter-changed")}hasChanged(){var e=this.changed;return this.changed=!1,e}setFilter(e,t,n,o){this.filterList=[],Array.isArray(e)||(e=[{field:e,type:t,value:n,params:o}]),this.addFilter(e)}addFilter(e,t,n,o){var r=!1;Array.isArray(e)||(e=[{field:e,type:t,value:n,params:o}]),e.forEach(a=>{(a=this.findFilter(a))&&(this.filterList.push(a),r=!0)}),r&&this.trackChanges()}findFilter(e){var t;if(Array.isArray(e))return this.findSubFilters(e);var n=!1;return"function"==typeof e.field?n=function(o){return e.field(o,e.type||{})}:c.filters[e.type]?n=(t=this.table.columnManager.getColumnByField(e.field))?function(o){return c.filters[e.type](e.value,t.getFieldValue(o),o,e.params||{})}:function(o){return c.filters[e.type](e.value,o[e.field],o,e.params||{})}:console.warn("Filter Error - No such filter type found, ignoring: ",e.type),e.func=n,!!e.func&&e}findSubFilters(e){var t=[];return e.forEach(n=>{(n=this.findFilter(n))&&t.push(n)}),!!t.length&&t}getFilters(e,t){var n=[];return e&&(n=this.getHeaderFilters()),t&&n.forEach(function(o){"function"==typeof o.type&&(o.type="function")}),n.concat(this.filtersToArray(this.filterList,t))}filtersToArray(e,t){var n=[];return e.forEach(o=>{var r;Array.isArray(o)?n.push(this.filtersToArray(o,t)):(r={field:o.field,type:o.type,value:o.value},t&&"function"==typeof r.type&&(r.type="function"),n.push(r))}),n}getHeaderFilters(){var e=[];for(var t in this.headerFilters)e.push({field:t,type:this.headerFilters[t].type,value:this.headerFilters[t].value});return e}removeFilter(e,t,n){Array.isArray(e)||(e=[{field:e,type:t,value:n}]),e.forEach(o=>{var r;(r=this.filterList.findIndex("object"==typeof o.field?a=>o===a:a=>o.field===a.field&&o.type===a.type&&o.value===a.value))>-1?this.filterList.splice(r,1):console.warn("Filter Error - No matching filter type found, ignoring: ",o.type)}),this.trackChanges()}clearFilter(e){this.filterList=[],e&&this.clearHeaderFilter(),this.trackChanges()}clearHeaderFilter(){this.headerFilters={},this.prevHeaderFilterChangeCheck="{}",this.headerFilterColumns.forEach(e=>{void 0!==e.modules.filter.value&&delete e.modules.filter.value,e.modules.filter.prevSuccess=void 0,this.reloadHeaderFilter(e)}),this.trackChanges()}search(e,t,n,o){var r=[],a=[];return Array.isArray(t)||(t=[{field:t,type:n,value:o}]),t.forEach(f=>{(f=this.findFilter(f))&&a.push(f)}),this.table.rowManager.rows.forEach(f=>{var y=!0;a.forEach(x=>{this.filterRecurse(x,f.getData())||(y=!1)}),y&&r.push("data"===e?f.getData("data"):f.getComponent())}),r}filter(e,t){var n=[],o=[];return this.subscribedExternal("dataFiltering")&&this.dispatchExternal("dataFiltering",this.getFilters()),"remote"!==this.table.options.filterMode&&(this.filterList.length||Object.keys(this.headerFilters).length)?e.forEach(r=>{this.filterRow(r)&&n.push(r)}):n=e.slice(0),this.subscribedExternal("dataFiltered")&&(n.forEach(r=>{o.push(r.getComponent())}),this.dispatchExternal("dataFiltered",this.getFilters(),o)),n}filterRow(e,t){var n=!0,o=e.getData();for(var r in this.filterList.forEach(a=>{this.filterRecurse(a,o)||(n=!1)}),this.headerFilters)this.headerFilters[r].func(o)||(n=!1);return n}filterRecurse(e,t){var n=!1;return Array.isArray(e)?e.forEach(o=>{this.filterRecurse(o,t)&&(n=!0)}):n=e.func(t),n}}return c.moduleName="filter",c.filters=Qe,c})();var k={plaintext:function dt(c,s,e){return this.emptyToSpace(this.sanitizeHTML(c.getValue()))},html:function gt(c,s,e){return c.getValue()},textarea:function Mt(c,s,e){return c.getElement().style.whiteSpace="pre-wrap",this.emptyToSpace(this.sanitizeHTML(c.getValue()))},money:function Rt(c,s,e){var o,r,a,f,t=parseFloat(c.getValue()),n="",y=s.decimal||".",x=s.thousand||",",P=s.negativeSign||"-",U=s.symbol||"",X=!!s.symbolAfter,he=void 0!==s.precision?s.precision:2;if(isNaN(t))return this.emptyToSpace(this.sanitizeHTML(c.getValue()));for(t<0&&(t=Math.abs(t),n=P),o=!1!==he?t.toFixed(he):t,r=(o=String(o).split("."))[0],a=o.length>1?y+o[1]:"",f=/(\d+)(\d{3})/;f.test(r);)r=r.replace(f,"$1"+x+"$2");return X?n+r+a+U:n+U+r+a},link:function ue(c,s,e){var t=c.getValue(),n=s.urlPrefix||"",o=s.download,r=t,a=document.createElement("a");if(s.labelField&&(r=c.getData()[s.labelField]),s.label)switch(typeof s.label){case"string":r=s.label;break;case"function":r=s.label(c)}if(r){if(s.urlField&&(t=c.getData()[s.urlField]),s.url)switch(typeof s.url){case"string":t=s.url;break;case"function":t=s.url(c)}return a.setAttribute("href",n+t),s.target&&a.setAttribute("target",s.target),s.download&&(o="function"==typeof o?o(c):!0===o?"":o,a.setAttribute("download",o)),a.innerHTML=this.emptyToSpace(this.sanitizeHTML(r)),a}return"&nbsp;"},image:function We(c,s,e){var t=document.createElement("img"),n=c.getValue();switch(s.urlPrefix&&(n=s.urlPrefix+c.getValue()),s.urlSuffix&&(n+=s.urlSuffix),t.setAttribute("src",n),typeof s.height){case"number":t.style.height=s.height+"px";break;case"string":t.style.height=s.height}switch(typeof s.width){case"number":t.style.width=s.width+"px";break;case"string":t.style.width=s.width}return t.addEventListener("load",function(){c.getRow().normalizeHeight()}),t},tickCross:function W(c,s,e){var t=c.getValue(),n=c.getElement(),o=s.allowEmpty,a=void 0!==s.tickElement?s.tickElement:'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',f=void 0!==s.crossElement?s.crossElement:'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return s.allowTruthy&&t||!0===t||"true"===t||"True"===t||1===t||"1"===t?(n.setAttribute("aria-checked",!0),a||""):!o||"null"!==t&&""!==t&&null!=t?(n.setAttribute("aria-checked",!1),f||""):(n.setAttribute("aria-checked","mixed"),"")},datetime:function pe(c,s,e){var t=window.DateTime||luxon.DateTime,n=s.inputFormat||"yyyy-MM-dd HH:mm:ss",o=s.outputFormat||"dd/MM/yyyy HH:mm:ss",r=void 0!==s.invalidPlaceholder?s.invalidPlaceholder:"",a=c.getValue();if(void 0!==t){var f="iso"===n?t.fromISO(String(a)):t.fromFormat(String(a),n);return f.isValid?(s.timezone&&(f=f.shiftTimezone(s.timezone)),f.toFormat(o)):!0!==r&&a?"function"==typeof r?r(a):r:a}console.error("Format Error - 'datetime' formatter is dependant on luxon.js")},datetimediff:function ve(c,s,e){var t=window.DateTime||luxon.DateTime,n=s.inputFormat||"yyyy-MM-dd HH:mm:ss",o=void 0!==s.invalidPlaceholder?s.invalidPlaceholder:"",r=void 0!==s.suffix&&s.suffix,a=void 0!==s.unit?s.unit:"days",f=void 0!==s.humanize&&s.humanize,y=void 0!==s.date?s.date:t.now(),x=c.getValue();if(void 0!==t){var P="iso"===n?t.fromISO(String(x)):t.fromFormat(String(x),n);if(!P.isValid)return!0===o?x:"function"==typeof o?o(x):o;if(!f)return parseInt(P.diff(y,a)[a])+(r?" "+r:"")}else console.error("Format Error - 'datetimediff' formatter is dependant on luxon.js")},lookup:function Le(c,s,e){var t=c.getValue();return void 0===s[t]?(console.warn("Missing display value for "+t),t):s[t]},star:function qe(c,s,e){var t=c.getValue(),n=c.getElement(),o=s&&s.stars?s.stars:5,r=document.createElement("span"),a=document.createElementNS("http://www.w3.org/2000/svg","svg");r.style.verticalAlign="middle",a.setAttribute("width","14"),a.setAttribute("height","14"),a.setAttribute("viewBox","0 0 512 512"),a.setAttribute("xml:space","preserve"),a.style.padding="0 1px",t=t&&!isNaN(t)?parseInt(t):0,t=Math.max(0,Math.min(t,o));for(var x=1;x<=o;x++){var P=a.cloneNode(!0);P.innerHTML=x<=t?'<polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>':'<polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>',r.appendChild(P)}return n.style.whiteSpace="nowrap",n.style.overflow="hidden",n.style.textOverflow="ellipsis",n.setAttribute("aria-label",t),r},traffic:function _t(c,s,e){var x,t=this.sanitizeHTML(c.getValue())||0,n=document.createElement("span"),o=s&&s.max?s.max:100,r=s&&s.min?s.min:0,a=s&&void 0!==s.color?s.color:["red","orange","green"],f="#666666";if(!isNaN(t)&&void 0!==c.getValue()){switch(n.classList.add("tabulator-traffic-light"),x=parseFloat(t)<=o?parseFloat(t):o,x=parseFloat(x)>=r?parseFloat(x):r,x=Math.round((x-r)/((o-r)/100)),typeof a){case"string":f=a;break;case"function":f=a(t);break;case"object":if(Array.isArray(a)){var U=Math.floor(x/(100/a.length));U=Math.min(U,a.length-1),f=a[U=Math.max(U,0)];break}}return n.style.backgroundColor=f,n}},progress:function ct(c,s,e){var y,x,P,U,t=this.sanitizeHTML(c.getValue())||0,n=c.getElement(),o=s&&s.max?s.max:100,r=s&&s.min?s.min:0,a=s&&s.legendAlign?s.legendAlign:"center";switch(y=parseFloat(t)<=o?parseFloat(t):o,y=parseFloat(y)>=r?parseFloat(y):r,y=Math.round((y-r)/((o-r)/100)),typeof s.color){case"string":x=s.color;break;case"function":x=s.color(t);break;case"object":if(Array.isArray(s.color)){var X=100/s.color.length,he=Math.floor(y/X);he=Math.min(he,s.color.length-1),he=Math.max(he,0),x=s.color[he];break}default:x="#2DC214"}switch(typeof s.legend){case"string":P=s.legend;break;case"function":P=s.legend(t);break;case"boolean":P=t;break;default:P=!1}switch(typeof s.legendColor){case"string":U=s.legendColor;break;case"function":U=s.legendColor(t);break;case"object":Array.isArray(s.legendColor)&&(X=100/s.legendColor.length,he=Math.floor(y/X),he=Math.min(he,s.legendColor.length-1),he=Math.max(he,0),U=s.legendColor[he]);break;default:U="#000"}n.style.minWidth="30px",n.style.position="relative",n.setAttribute("aria-label",y);var me=document.createElement("div");me.style.display="inline-block",me.style.position="absolute",me.style.width=y+"%",me.style.backgroundColor=x,me.style.height="100%",me.setAttribute("data-max",o),me.setAttribute("data-min",r);var be=document.createElement("div");if(be.style.position="relative",be.style.width="100%",be.style.height="100%",P){var Ie=document.createElement("div");Ie.style.position="absolute",Ie.style.top=0,Ie.style.left=0,Ie.style.textAlign=a,Ie.style.width="100%",Ie.style.color=U,Ie.innerHTML=P}return e(function(){if(!(c instanceof xe)){var Ue=document.createElement("div");Ue.style.position="absolute",Ue.style.top="4px",Ue.style.bottom="4px",Ue.style.left="4px",Ue.style.right="4px",n.appendChild(Ue),n=Ue}n.appendChild(be),be.appendChild(me),P&&be.appendChild(Ie)}),""},color:function fe(c,s,e){return c.getElement().style.backgroundColor=this.sanitizeHTML(c.getValue()),""},buttonTick:function V(c,s,e){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'},buttonCross:function S(c,s,e){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'},rownum:function v(c,s,e){return this.table.rowManager.activeRows.indexOf(c.getRow()._getSelf())+1||""},handle:function m(c,s,e){return c.getElement().classList.add("tabulator-row-handle"),"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"},responsiveCollapse:function _(c,s,e){var t=document.createElement("div"),n=c.getRow()._row.modules.responsiveLayout;function o(r){var a=n.element;n.open=r,a&&(n.open?(t.classList.add("open"),a.style.display=""):(t.classList.remove("open"),a.style.display="none"))}return t.classList.add("tabulator-responsive-collapse-toggle"),t.innerHTML="<span class='tabulator-responsive-collapse-toggle-open'>+</span><span class='tabulator-responsive-collapse-toggle-close'>-</span>",c.getElement().classList.add("tabulator-row-handle"),t.addEventListener("click",function(r){r.stopImmediatePropagation(),o(!n.open)}),o(n.open),t},rowSelection:function w(c,s,e){var t=document.createElement("input"),n=!1;if(t.type="checkbox",this.table.modExists("selectRow",!0))if(t.addEventListener("click",r=>{r.stopPropagation()}),"function"==typeof c.getRow){var o=c.getRow();o instanceof Ge?(t.addEventListener("change",r=>{"click"===this.table.options.selectableRangeMode&&n?n=!1:o.toggleSelect()}),"click"===this.table.options.selectableRangeMode&&t.addEventListener("click",r=>{n=!0,this.table.modules.selectRow.handleComplexRowClick(o._row,r)}),t.checked=o.isSelected&&o.isSelected(),this.table.modules.selectRow.registerRowSelectCheckbox(o,t)):t=""}else t.addEventListener("change",r=>{this.table.modules.selectRow.selectedRows.length?this.table.deselectRow():this.table.selectRow(s.rowRange)}),this.table.modules.selectRow.registerHeaderSelectCheckbox(t);return t}};let K=(()=>{class c extends d{constructor(e){super(e),this.registerColumnOption("formatter"),this.registerColumnOption("formatterParams"),this.registerColumnOption("formatterPrint"),this.registerColumnOption("formatterPrintParams"),this.registerColumnOption("formatterClipboard"),this.registerColumnOption("formatterClipboardParams"),this.registerColumnOption("formatterHtmlOutput"),this.registerColumnOption("formatterHtmlOutputParams"),this.registerColumnOption("titleFormatter"),this.registerColumnOption("titleFormatterParams")}initialize(){this.subscribe("cell-format",this.formatValue.bind(this)),this.subscribe("cell-rendered",this.cellRendered.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-format",this.formatHeader.bind(this))}initializeColumn(e){e.modules.format=this.lookupFormatter(e,""),void 0!==e.definition.formatterPrint&&(e.modules.format.print=this.lookupFormatter(e,"Print")),void 0!==e.definition.formatterClipboard&&(e.modules.format.clipboard=this.lookupFormatter(e,"Clipboard")),void 0!==e.definition.formatterHtmlOutput&&(e.modules.format.htmlOutput=this.lookupFormatter(e,"HtmlOutput"))}lookupFormatter(e,t){var n={params:e.definition["formatter"+t+"Params"]||{}},o=e.definition["formatter"+t];switch(typeof o){case"string":c.formatters[o]?n.formatter=c.formatters[o]:(console.warn("Formatter Error - No such formatter found: ",o),n.formatter=c.formatters.plaintext);break;case"function":n.formatter=o;break;default:n.formatter=c.formatters.plaintext}return n}cellRendered(e){e.modules.format&&e.modules.format.renderedCallback&&!e.modules.format.rendered&&(e.modules.format.renderedCallback(),e.modules.format.rendered=!0)}formatHeader(e,t,n){var o,r,a,f;return e.definition.titleFormatter?(o=this.getFormatter(e.definition.titleFormatter),a=y=>{e.titleFormatterRendered=y},f={getValue:function(){return t},getElement:function(){return n}},r="function"==typeof(r=e.definition.titleFormatterParams||{})?r():r,o.call(this,f,r,a)):t}formatValue(e){var t=e.getComponent(),n="function"==typeof e.column.modules.format.params?e.column.modules.format.params(t):e.column.modules.format.params;return e.column.modules.format.formatter.call(this,t,n,function o(r){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=r,e.modules.format.rendered=!1})}formatExportValue(e,t){var o,n=e.column.modules.format[t];if(n){let a=function(f){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=f,e.modules.format.rendered=!1};return o="function"==typeof n.params?n.params(component):n.params,n.formatter.call(this,e.getComponent(),o,a)}return this.formatValue(e)}sanitizeHTML(e){if(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=\/]/g,function(n){return t[n]})}return e}emptyToSpace(e){return null==e||""===e?"&nbsp;":e}getFormatter(t){switch(typeof t){case"string":c.formatters[t]?t=c.formatters[t]:(console.warn("Formatter Error - No such formatter found: ",t),t=c.formatters.plaintext);break;case"function":t=t;break;default:t=c.formatters.plaintext}return t}}return c.moduleName="format",c.formatters=k,c})(),ne=(()=>{class c extends d{constructor(e){super(e),this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.rightPadding=0,this.initializationMode="left",this.active=!1,this.scrollEndTimer=!1,this.blocked=!0,this.registerColumnOption("frozen")}reset(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.rightMargin=0,this.active=!1,this.table.columnManager.headersElement.style.marginLeft=0,this.table.columnManager.element.style.paddingRight=0}initialize(){this.subscribe("cell-layout",this.layoutCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-width",this.layout.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("table-layout",this.layout.bind(this)),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("columns-loading",this.reset.bind(this)),this.subscribe("table-redraw",this.layout.bind(this)),this.subscribe("layout-refreshing",this.blockLayout.bind(this)),this.subscribe("layout-refreshed",this.unblockLayout.bind(this))}blockLayout(){this.blocked=!0}unblockLayout(){this.blocked=!1}layoutCell(e){this.layoutElement(e.element,e.column)}initializeColumn(e){var t={margin:0,edge:!1};e.isGroup||(this.frozenCheck(e)?(t.position=this.initializationMode,"left"==this.initializationMode?this.leftColumns.push(e):this.rightColumns.unshift(e),this.active=!0,e.modules.frozen=t):this.initializationMode="right")}frozenCheck(e){return e.parent.isGroup&&e.definition.frozen&&console.warn("Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups"),e.parent.isGroup?this.frozenCheck(e.parent):e.definition.frozen}scrollHorizontal(){var e;this.active&&(clearTimeout(this.scrollEndTimer),this.scrollEndTimer=setTimeout(()=>{this.layout()},100),e=this.table.rowManager.getVisibleRows(),this.calcMargins(),this.layoutColumnPosition(),this.layoutCalcRows(),e.forEach(t=>{"row"===t.type&&this.layoutRow(t)}),this.table.rowManager.tableElement.style.marginRight=this.rightMargin)}calcMargins(){this.leftMargin=this._calcSpace(this.leftColumns,this.leftColumns.length)+"px",this.table.columnManager.headersElement.style.marginLeft=this.leftMargin,this.rightMargin=this._calcSpace(this.rightColumns,this.rightColumns.length)+"px",this.table.columnManager.element.style.paddingRight=this.rightMargin,this.rightPadding=this.table.rowManager.element.clientWidth+this.table.columnManager.scrollLeft}layoutCalcRows(){this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&this.table.modules.columnCalcs.topRow&&this.layoutRow(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&this.table.modules.columnCalcs.botRow&&this.layoutRow(this.table.modules.columnCalcs.botRow),this.table.modExists("groupRows")&&this.layoutGroupCalcs(this.table.modules.groupRows.getGroups()))}layoutGroupCalcs(e){e.forEach(t=>{t.calcs.top&&this.layoutRow(t.calcs.top),t.calcs.bottom&&this.layoutRow(t.calcs.bottom),t.groupList&&t.groupList.length&&this.layoutGroupCalcs(t.groupList&&t.groupList)})}layoutColumnPosition(e){var t=[];this.leftColumns.forEach((n,o)=>{if(n.modules.frozen.margin=this._calcSpace(this.leftColumns,o)+this.table.columnManager.scrollLeft+"px",n.modules.frozen.edge=o==this.leftColumns.length-1,n.parent.isGroup){var r=this.getColGroupParentElement(n);t.includes(r)||(this.layoutElement(r,n),t.push(r)),n.modules.frozen.edge&&r.classList.add("tabulator-frozen-"+n.modules.frozen.position)}else this.layoutElement(n.getElement(),n);e&&n.cells.forEach(a=>{this.layoutElement(a.getElement(!0),n)})}),this.rightColumns.forEach((n,o)=>{n.modules.frozen.margin=this.rightPadding-this._calcSpace(this.rightColumns,o+1)+"px",n.modules.frozen.edge=o==this.rightColumns.length-1,this.layoutElement(n.parent.isGroup?this.getColGroupParentElement(n):n.getElement(),n),e&&n.cells.forEach(r=>{this.layoutElement(r.getElement(!0),n)})})}getColGroupParentElement(e){return e.parent.isGroup?this.getColGroupParentElement(e.parent):e.getElement()}layout(){this.active&&!this.blocked&&(this.calcMargins(),this.table.rowManager.getDisplayRows().forEach(e=>{"row"===e.type&&this.layoutRow(e)}),this.layoutCalcRows(),this.layoutColumnPosition(!0),this.table.rowManager.tableElement.style.marginRight=this.rightMargin)}layoutRow(e){e.getElement().style.paddingLeft=this.leftMargin,"fitDataFill"===this.table.options.layout&&this.rightColumns.length&&(this.table.rowManager.getTableElement().style.minWidth="calc(100% - "+this.rightMargin+")"),this.leftColumns.forEach(n=>{var o=e.getCell(n);o&&this.layoutElement(o.getElement(!0),n)}),this.rightColumns.forEach(n=>{var o=e.getCell(n);o&&this.layoutElement(o.getElement(!0),n)})}layoutElement(e,t){t.modules.frozen&&(e.style.position="absolute",e.style.left=t.modules.frozen.margin,e.classList.add("tabulator-frozen"),t.modules.frozen.edge&&e.classList.add("tabulator-frozen-"+t.modules.frozen.position))}_calcSpace(e,t){var n=0;for(let o=0;o<t;o++)e[o].visible&&(n+=e[o].getWidth());return n}}return c.moduleName="frozenColumns",c})(),Ce=(()=>{class c extends d{constructor(e){super(e),this.topElement=document.createElement("div"),this.rows=[],this.registerComponentFunction("row","freeze",this.freezeRow.bind(this)),this.registerComponentFunction("row","unfreeze",this.unfreezeRow.bind(this)),this.registerComponentFunction("row","isFrozen",this.isRowFrozen.bind(this))}initialize(){this.rows=[],this.topElement.classList.add("tabulator-frozen-rows-holder"),this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.subscribe("row-deleting",this.detachRow.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),10)}isRowFrozen(e){return this.rows.indexOf(e)>-1}isFrozen(){return!!this.rows.length}visibleRows(e,t){return this.rows.forEach(n=>{t.push(n)}),t}getRows(e){var t=e.slice(0);return this.rows.forEach(function(n){var o=t.indexOf(n);o>-1&&t.splice(o,1)}),t}freezeRow(e){e.modules.frozen?console.warn("Freeze Error - Row is already frozen"):(e.modules.frozen=!0,this.topElement.appendChild(e.getElement()),e.initialize(),e.normalizeHeight(),this.table.rowManager.adjustTableSize(),this.rows.push(e),this.refreshData(!1,"display"),this.styleRows())}unfreezeRow(e){this.rows.indexOf(e),e.modules.frozen?(e.modules.frozen=!1,this.detachRow(e),this.table.rowManager.adjustTableSize(),this.refreshData(!1,"display"),this.rows.length&&this.styleRows()):console.warn("Freeze Error - Row is already unfrozen")}detachRow(e){var t=this.rows.indexOf(e);if(t>-1){var n=e.getElement();n.parentNode&&n.parentNode.removeChild(n),this.rows.splice(t,1)}}styleRows(e){this.rows.forEach((t,n)=>{this.table.rowManager.styleRow(t,n)})}}return c.moduleName="frozenRows",c})();class Fe{constructor(s){return this._group=s,this.type="GroupComponent",new Proxy(this,{get:function(e,t,n){return void 0!==e[t]?e[t]:e._group.groupManager.table.componentFunctionBinder.handle("row",e._group,t)}})}getKey(){return this._group.key}getField(){return this._group.field}getElement(){return this._group.element}getRows(){return this._group.getRows(!0)}getSubGroups(){return this._group.getSubGroups(!0)}getParentGroup(){return!!this._group.parent&&this._group.parent.getComponent()}isVisible(){return this._group.visible}show(){this._group.show()}hide(){this._group.hide()}toggle(){this._group.toggleVisibility()}_getSelf(){return this._group}getTable(){return this._group.groupManager.table}}class Ke{constructor(s,e,t,n,o,r,a){this.groupManager=s,this.parent=e,this.key=n,this.level=t,this.field=o,this.hasSubGroups=t<s.groupIDLookups.length-1,this.addRow=this.hasSubGroups?this._addRowToGroup:this._addRow,this.type="group",this.old=a,this.rows=[],this.groups=[],this.groupList=[],this.generator=r,this.element=!1,this.elementContents=!1,this.height=0,this.outerHeight=0,this.initialized=!1,this.calcs={},this.initialized=!1,this.modules={},this.arrowElement=!1,this.visible=a?a.visible:void 0!==s.startOpen[t]?s.startOpen[t]:s.startOpen[0],this.component=null,this.createElements(),this.addBindings(),this.createValueGroups()}wipe(){this.groupList.length?this.groupList.forEach(function(s){s.wipe()}):this.rows.forEach(s=>{s.modules&&delete s.modules.group}),this.element=!1,this.arrowElement=!1,this.elementContents=!1}createElements(){var s=document.createElement("div");s.classList.add("tabulator-arrow"),this.element=document.createElement("div"),this.element.classList.add("tabulator-row"),this.element.classList.add("tabulator-group"),this.element.classList.add("tabulator-group-level-"+this.level),this.element.setAttribute("role","rowgroup"),this.arrowElement=document.createElement("div"),this.arrowElement.classList.add("tabulator-group-toggle"),this.arrowElement.appendChild(s),!1!==this.groupManager.table.options.movableRows&&this.groupManager.table.modExists("moveRow")&&this.groupManager.table.modules.moveRow.initializeGroupHeader(this)}createValueGroups(){var s=this.level+1;this.groupManager.allowedValues&&this.groupManager.allowedValues[s]&&this.groupManager.allowedValues[s].forEach(e=>{this._createGroup(e,s)})}addBindings(){this.groupManager.table.options.groupToggleElement&&("arrow"==this.groupManager.table.options.groupToggleElement?this.arrowElement:this.element).addEventListener("click",e=>{e.stopPropagation(),e.stopImmediatePropagation(),this.toggleVisibility()})}_createGroup(s,e){var t=e+"_"+s,n=new Ke(this.groupManager,this,e,s,this.groupManager.groupIDLookups[e].field,this.groupManager.headerGenerator[e]||this.groupManager.headerGenerator[0],!!this.old&&this.old.groups[t]);this.groups[t]=n,this.groupList.push(n)}_addRowToGroup(s){var e=this.level+1;if(this.hasSubGroups){var t=this.groupManager.groupIDLookups[e].func(s.getData()),n=e+"_"+t;this.groupManager.allowedValues&&this.groupManager.allowedValues[e]?this.groups[n]&&this.groups[n].addRow(s):(this.groups[n]||this._createGroup(t,e),this.groups[n].addRow(s))}}_addRow(s){this.rows.push(s),s.modules.group=this}insertRow(s,e,t){var n=this.conformRowData({});s.updateData(n);var o=this.rows.indexOf(e);o>-1?this.rows.splice(t?o+1:o,0,s):t?this.rows.push(s):this.rows.unshift(s),s.modules.group=this,this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this),this.groupManager.updateGroupRows(!0)}scrollHeader(s){this.arrowElement&&(this.arrowElement.style.marginLeft=s,this.groupList.forEach(function(e){e.scrollHeader(s)}))}getRowIndex(s){}conformRowData(s){return this.field?s[this.field]=this.key:console.warn("Data Conforming Error - Cannot conform row data to match new group as groupBy is a function"),this.parent&&(s=this.parent.conformRowData(s)),s}removeRow(s){var e=this.rows.indexOf(s),t=s.getElement();e>-1&&this.rows.splice(e,1),this.groupManager.table.options.groupValues||this.rows.length?(t.parentNode&&t.parentNode.removeChild(t),this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this)):(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this),this.groupManager.updateGroupRows(!0))}removeGroup(s){var t,e=s.level+"_"+s.key;this.groups[e]&&(delete this.groups[e],(t=this.groupList.indexOf(s))>-1&&this.groupList.splice(t,1),this.groupList.length||(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this)))}getHeadersAndRows(s){var e=[];return e.push(this),this._visSet(),this.visible?this.groupList.length?this.groupList.forEach(function(t){e=e.concat(t.getHeadersAndRows(s))}):(!s&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),e=e.concat(this.rows),!s&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))):!this.groupList.length&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&(!s&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top))),!s&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom)))),e}getData(s,e){var t=[];return this._visSet(),(!s||s&&this.visible)&&this.rows.forEach(n=>{t.push(n.getData(e||"data"))}),t}getRowCount(){var s=0;return this.groupList.length?this.groupList.forEach(e=>{s+=e.getRowCount()}):s=this.rows.length,s}toggleVisibility(){this.visible?this.hide():this.show()}hide(){this.visible=!1,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination?this.groupManager.updateGroupRows(!0):(this.element.classList.remove("tabulator-group-visible"),this.groupList.length?this.groupList.forEach(s=>{s.getHeadersAndRows().forEach(t=>{t.detachElement()})}):this.rows.forEach(s=>{var e=s.getElement();e.parentNode.removeChild(e)}),this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex()),this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()),this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!1)}show(){if(this.visible=!0,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination)this.groupManager.updateGroupRows(!0);else{this.element.classList.add("tabulator-group-visible");var s=this.generateElement();this.groupList.length?this.groupList.forEach(e=>{e.getHeadersAndRows().forEach(n=>{var o=n.getElement();s.parentNode.insertBefore(o,s.nextSibling),n.initialize(),s=o})}):this.rows.forEach(e=>{var t=e.getElement();s.parentNode.insertBefore(t,s.nextSibling),e.initialize(),s=t}),this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex()),this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()}this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!0)}_visSet(){var s=[];"function"==typeof this.visible&&(this.rows.forEach(function(e){s.push(e.getData())}),this.visible=this.visible(this.key,this.getRowCount(),s,this.getComponent()))}getRowGroup(s){var e=!1;return this.groupList.length?this.groupList.forEach(function(t){var n=t.getRowGroup(s);n&&(e=n)}):this.rows.find(function(t){return t===s})&&(e=this),e}getSubGroups(s){var e=[];return this.groupList.forEach(function(t){e.push(s?t.getComponent():t)}),e}getRows(s){var e=[];return this.rows.forEach(function(t){e.push(s?t.getComponent():t)}),e}generateGroupHeaderContents(){var s=[];for(this.rows.forEach(function(e){s.push(e.getData())}),this.elementContents=this.generator(this.key,this.getRowCount(),s,this.getComponent());this.element.firstChild;)this.element.removeChild(this.element.firstChild);"string"==typeof this.elementContents?this.element.innerHTML=this.elementContents:this.element.appendChild(this.elementContents),this.element.insertBefore(this.arrowElement,this.element.firstChild)}getPath(s=[]){return s.unshift(this.key),this.parent&&this.parent.getPath(s),s}getElement(){return this.elementContents?this.element:this.generateElement()}generateElement(){this.addBindings=!1,this._visSet(),this.visible?this.element.classList.add("tabulator-group-visible"):this.element.classList.remove("tabulator-group-visible");for(var s=0;s<this.element.childNodes.length;++s)this.element.childNodes[s].parentNode.removeChild(this.element.childNodes[s]);return this.generateGroupHeaderContents(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}normalizeHeight(){this.setHeight(this.element.clientHeight)}initialize(s){(!this.initialized||s)&&(this.normalizeHeight(),this.initialized=!0)}reinitialize(){this.initialized=!1,this.height=0,L.elVisible(this.element)&&this.initialize(!0)}setHeight(s){this.height!=s&&(this.height=s,this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getGroup(){return this}reinitializeHeight(){}calcHeight(){}setCellHeight(){}clearCellHeight(){}deinitializeHeight(){}getComponent(){return this.component||(this.component=new Fe(this)),this.component}}let st=(()=>{class c extends d{constructor(e){super(e),this.groupIDLookups=!1,this.startOpen=[function(){return!1}],this.headerGenerator=[function(){return""}],this.groupList=[],this.allowedValues=!1,this.groups={},this.displayIndex=0,this.displayHandler=this.getRows.bind(this),this.registerTableOption("groupBy",!1),this.registerTableOption("groupStartOpen",!0),this.registerTableOption("groupValues",!1),this.registerTableOption("groupUpdateOnCellEdit",!1),this.registerTableOption("groupHeader",!1),this.registerTableOption("groupHeaderPrint",null),this.registerTableOption("groupHeaderClipboard",null),this.registerTableOption("groupHeaderHtmlOutput",null),this.registerTableOption("groupHeaderDownload",null),this.registerTableOption("groupToggleElement","arrow"),this.registerTableOption("groupClosedShowCalcs",!1),this.registerTableFunction("setGroupBy",this.setGroupBy.bind(this)),this.registerTableFunction("setGroupValues",this.setGroupValues.bind(this)),this.registerTableFunction("setGroupStartOpen",this.setGroupStartOpen.bind(this)),this.registerTableFunction("setGroupHeader",this.setGroupHeader.bind(this)),this.registerTableFunction("getGroups",this.userGetGroups.bind(this)),this.registerTableFunction("getGroupedData",this.userGetGroupedData.bind(this)),this.registerComponentFunction("row","getGroup",this.rowGetGroup.bind(this))}initialize(){this.table.options.groupBy&&(this.table.options.groupUpdateOnCellEdit&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("row-data-changed",this.reassignRowToGroup.bind(this),0)),this.subscribe("table-built",this.configureGroupSetup.bind(this)),this.subscribe("row-deleting",this.rowDeleting.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHeaders.bind(this)),this.subscribe("rows-wipe",this.wipe.bind(this)),this.subscribe("rows-added",this.rowsUpdated.bind(this)),this.subscribe("row-moving",this.rowMoving.bind(this)),this.subscribe("row-adding-index",this.rowAddingIndex.bind(this)),this.subscribe("rows-sample",this.rowSample.bind(this)),this.subscribe("render-virtual-fill",this.virtualRenderFill.bind(this)),this.registerDisplayHandler(this.displayHandler,20),this.initialized=!0)}configureGroupSetup(){if(this.table.options.groupBy){var e=this.table.options.groupBy,t=this.table.options.groupStartOpen,n=this.table.options.groupHeader;this.allowedValues=this.table.options.groupValues,Array.isArray(e)&&Array.isArray(n)&&e.length>n.length&&console.warn("Error creating group headers, groupHeader array is shorter than groupBy array"),this.headerGenerator=[function(){return""}],this.startOpen=[function(){return!1}],this.langBind("groups|item",(r,a)=>{this.headerGenerator[0]=(f,y,x)=>(void 0===f?"":f)+"<span>("+y+" "+(1===y?r:a.groups.items)+")</span>"}),this.groupIDLookups=[],Array.isArray(e)||e?this.table.modExists("columnCalcs")&&"table"!=this.table.options.columnCalcs&&"both"!=this.table.options.columnCalcs&&this.table.modules.columnCalcs.removeCalcs():this.table.modExists("columnCalcs")&&"group"!=this.table.options.columnCalcs&&this.table.columnManager.getRealColumns().forEach(r=>{r.definition.topCalc&&this.table.modules.columnCalcs.initializeTopRow(),r.definition.bottomCalc&&this.table.modules.columnCalcs.initializeBottomRow()}),Array.isArray(e)||(e=[e]),e.forEach((r,a)=>{var f,y;f="function"==typeof r?r:(y=this.table.columnManager.getColumnByField(r))?function(x){return y.getFieldValue(x)}:function(x){return x[r]},this.groupIDLookups.push({field:"function"!=typeof r&&r,func:f,values:!!this.allowedValues&&this.allowedValues[a]})}),t&&(Array.isArray(t)||(t=[t]),t.forEach(r=>{}),this.startOpen=t),n&&(this.headerGenerator=Array.isArray(n)?n:[n])}}rowSample(e,t){var n=this.getGroups(!1)[0];return t.push(n.getRows(!1)[0]),t}virtualRenderFill(){var e=this.table.rowManager.tableElement,t=this.table.rowManager.getVisibleRows();t=t.filter(n=>"group"!==n.type),e.style.minWidth=t.length?"":this.table.columnManager.getWidth()+"px"}rowAddingIndex(e,t,n){this.assignRowToGroup(e);var o=e.modules.group.rows;return o.length>1&&(!t||t&&-1==o.indexOf(t)?n?o[0]!==e&&this.table.rowManager.moveRowInArray(e.modules.group.rows,e,t=o[0],!n):o[o.length-1]!==e&&this.table.rowManager.moveRowInArray(e.modules.group.rows,e,t=o[o.length-1],!n):this.table.rowManager.moveRowInArray(e.modules.group.rows,e,t,!n)),t}trackChanges(){this.dispatch("group-changed")}setGroupBy(e){this.table.options.groupBy=e,this.initialized?this.configureGroupSetup():this.initialize(),this.refreshData(),this.trackChanges()}setGroupValues(e){this.table.options.groupValues=e,this.configureGroupSetup(),this.refreshData(),this.trackChanges()}setGroupStartOpen(e){this.table.options.groupStartOpen=e,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}setGroupHeader(e){this.table.options.groupHeader=e,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}userGetGroups(e){return this.getGroups(!0)}userGetGroupedData(){return this.table.options.groupBy?this.getGroupedData():this.getData()}rowGetGroup(e){return!!e.modules.group&&e.modules.group.getComponent()}rowMoving(e,t,n){!n&&t instanceof Ke&&(t=this.table.rowManager.prevDisplayRow(e)||t);var o=t instanceof Ke?t:t.modules.group,r=e instanceof Ke?e:e.modules.group;o===r?this.table.rowManager.moveRowInArray(o.rows,e,t,n):(r&&r.removeRow(e),o.insertRow(e,t,n))}rowDeleting(e){e.modules.group&&e.modules.group.removeRow(e)}rowsUpdated(e){this.updateGroupRows(!0)}cellUpdated(e){this.reassignRowToGroup(e.row)}setDisplayIndex(e){this.displayIndex=e}getDisplayIndex(){return this.displayIndex}getRows(e){return this.table.options.groupBy&&this.groupIDLookups.length?(this.dispatchExternal("dataGrouping"),this.generateGroups(e),this.subscribedExternal("dataGrouped")&&this.dispatchExternal("dataGrouped",this.getGroups(!0)),this.updateGroupRows()):e.slice(0)}getGroups(e){var t=[];return this.groupList.forEach(function(n){t.push(e?n.getComponent():n)}),t}getChildGroups(e){var t=[];return e||(e=this),e.groupList.forEach(n=>{n.groupList.length?t=t.concat(this.getChildGroups(n)):t.push(n)}),t}wipe(){this.groupList.forEach(function(e){e.wipe()})}pullGroupListData(e){var t=[];return e.forEach(n=>{var o={level:0,rowCount:0,headerContent:""},r=[];n.hasSubGroups?(r=this.pullGroupListData(n.groupList),o.level=n.level,o.rowCount=r.length-n.groupList.length,o.headerContent=n.generator(n.key,o.rowCount,n.rows,n),t.push(o),t=t.concat(r)):(o.level=n.level,o.headerContent=n.generator(n.key,n.rows.length,n.rows,n),o.rowCount=n.getRows().length,t.push(o),n.getRows().forEach(a=>{t.push(a.getData("data"))}))}),t}getGroupedData(){return this.pullGroupListData(this.groupList)}getRowGroup(e){var t=!1;return this.groupList.forEach(n=>{var o=n.getRowGroup(e);o&&(t=o)}),t}countGroups(){return this.groupList.length}generateGroups(e){var t=this.groups;this.groups={},this.groupList=[],this.allowedValues&&this.allowedValues[0]?(this.allowedValues[0].forEach(n=>{this.createGroup(n,0,t)}),e.forEach(n=>{this.assignRowToExistingGroup(n,t)})):e.forEach(n=>{this.assignRowToGroup(n,t)})}createGroup(e,t,n){var r,o=t+"_"+e;r=new Ke(this,!1,t,e,this.groupIDLookups[0].field,this.headerGenerator[0],(n=n||[])[o]),this.groups[o]=r,this.groupList.push(r)}assignRowToExistingGroup(e,t){var o="0_"+this.groupIDLookups[0].func(e.getData());this.groups[o]&&this.groups[o].addRow(e)}assignRowToGroup(e,t){var n=this.groupIDLookups[0].func(e.getData()),o=!this.groups["0_"+n];return o&&this.createGroup(n,0,t),this.groups["0_"+n].addRow(e),!o}reassignRowToGroup(e){if("row"===e.type){var t=e.modules.group,n=t.getPath(),o=this.getExpectedPath(e);n.length==o.length&&n.every((a,f)=>a===o[f])||(t.removeRow(e),this.assignRowToGroup(e,this.groups),this.refreshData(!0))}}getExpectedPath(e){var t=[],n=e.getData();return this.groupIDLookups.forEach(o=>{t.push(o.func(n))}),t}updateGroupRows(e){var t=[];return this.groupList.forEach(n=>{t=t.concat(n.getHeadersAndRows())}),e&&this.refreshData(!0,this.displayHandler),t}scrollHeaders(e){"virtual"===this.table.options.renderHorizontal&&(e-=this.table.columnManager.renderer.vDomPadLeft),e+="px",this.groupList.forEach(t=>{t.scrollHeader(e)})}removeGroup(e){var n,t=e.level+"_"+e.key;this.groups[t]&&(delete this.groups[t],(n=this.groupList.indexOf(e))>-1&&this.groupList.splice(n,1))}}return c.moduleName="groupRows",c})();var tt={cellEdit:function(c){c.component.setValueProcessData(c.data.oldValue),c.component.cellRendered()},rowAdd:function(c){c.component.deleteActual()},rowDelete:function(c){var s=this.table.rowManager.addRowActual(c.data.data,c.data.pos,c.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(c.component,s)},rowMove:function(c){this.table.rowManager.moveRowActual(c.component,this.table.rowManager.rows[c.data.posFrom],!c.data.after),this.table.rowManager.redraw()}},ft={cellEdit:function(c){c.component.setValueProcessData(c.data.newValue),c.component.cellRendered()},rowAdd:function(c){var s=this.table.rowManager.addRowActual(c.data.data,c.data.pos,c.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(c.component,s)},rowDelete:function(c){c.component.deleteActual()},rowMove:function(c){this.table.rowManager.moveRowActual(c.component,this.table.rowManager.rows[c.data.posTo],c.data.after),this.table.rowManager.redraw()}};let wt=(()=>{class c extends d{constructor(e){super(e),this.history=[],this.index=-1,this.registerTableOption("history",!1)}initialize(){this.table.options.history&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("cell-delete",this.clearComponentHistory.bind(this)),this.subscribe("row-delete",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clear.bind(this)),this.subscribe("row-added",this.rowAdded.bind(this)),this.subscribe("row-move",this.rowMoved.bind(this))),this.registerTableFunction("undo",this.undo.bind(this)),this.registerTableFunction("redo",this.redo.bind(this)),this.registerTableFunction("getHistoryUndoSize",this.getHistoryUndoSize.bind(this)),this.registerTableFunction("getHistoryRedoSize",this.getHistoryRedoSize.bind(this)),this.registerTableFunction("clearHistory",this.clear.bind(this))}rowMoved(e,t,n){this.action("rowMove",e,{posFrom:this.table.rowManager.getRowPosition(e),posTo:this.table.rowManager.getRowPosition(t),to:t,after:n})}rowAdded(e,t,n,o){this.action("rowAdd",e,{data:t,pos:n,index:o})}rowDeleted(e){var t,n;this.table.options.groupBy?(t=(n=e.getComponent().getGroup().rows).indexOf(e))&&(t=n[t-1]):(t=e.table.rowManager.getRowIndex(e))&&(t=e.table.rowManager.rows[t-1]),this.action("rowDelete",e,{data:e.getData(),pos:!t,index:t})}cellUpdated(e){this.action("cellEdit",e,{oldValue:e.oldValue,newValue:e.value})}clear(){this.history=[],this.index=-1}action(e,t,n){this.history=this.history.slice(0,this.index+1),this.history.push({type:e,component:t,data:n}),this.index++}getHistoryUndoSize(){return this.index+1}getHistoryRedoSize(){return this.history.length-(this.index+1)}clearComponentHistory(e){var t=this.history.findIndex(function(n){return n.component===e});t>-1&&(this.history.splice(t,1),t<=this.index&&this.index--,this.clearComponentHistory(e))}undo(){if(this.index>-1){let e=this.history[this.index];return c.undoers[e.type].call(this,e),this.index--,this.dispatchExternal("historyUndo",e.type,e.component.getComponent(),e.data),!0}return console.warn("History Undo Error - No more history to undo"),!1}redo(){if(this.history.length-1>this.index){this.index++;let e=this.history[this.index];return c.redoers[e.type].call(this,e),this.dispatchExternal("historyRedo",e.type,e.component.getComponent(),e.data),!0}return console.warn("History Redo Error - No more history to redo"),!1}_rebindRow(e,t){this.history.forEach(function(n){if(n.component instanceof $e)n.component===e&&(n.component=t);else if(n.component instanceof Ye&&n.component.row===e){var o=n.component.column.getField();o&&(n.component=t.getCell(o))}})}}return c.moduleName="history",c.undoers=tt,c.redoers=ft,c})(),Dt=(()=>{class c extends d{constructor(e){super(e),this.fieldIndex=[],this.hasIndex=!1}initialize(){this.tableElementCheck()}tableElementCheck(){this.table.originalElement&&"TABLE"===this.table.originalElement.tagName&&this.parseTable()}parseTable(){var e=this.table.originalElement,t=this.table.options,o=e.getElementsByTagName("th"),r=e.getElementsByTagName("tbody")[0],a=[];this.hasIndex=!1,this.dispatchExternal("htmlImporting"),r=r?r.getElementsByTagName("tr"):[],this._extractOptions(e,t),o.length?this._extractHeaders(o,r):this._generateBlankHeaders(o,r);for(var f=0;f<r.length;f++){var x=r[f].getElementsByTagName("td"),P={};this.hasIndex||(P[t.index]=f);for(var U=0;U<x.length;U++)void 0!==this.fieldIndex[U]&&(P[this.fieldIndex[U]]=x[U].innerHTML);a.push(P)}t.data=a,this.dispatchExternal("htmlImported")}_extractOptions(e,t,n){var o=e.attributes,r=Object.keys(n||t),a={};for(var f in r.forEach(P=>{a[P.toLowerCase()]=P}),o){var x,y=o[f];y&&"object"==typeof y&&y.name&&0===y.name.indexOf("tabulator-")&&(x=y.name.replace("tabulator-",""),void 0!==a[x]&&(t[a[x]]=this._attribValue(y.value)))}}_attribValue(e){return"true"===e||"false"!==e&&e}_findCol(e){return this.table.options.columns.find(n=>n.title===e)||!1}_extractHeaders(e,t){for(var n=0;n<e.length;n++){var f,o=e[n],r=!1,a=this._findCol(o.textContent);a?r=!0:a={title:o.textContent.trim()},a.field||(a.field=o.textContent.trim().toLowerCase().replace(" ","_")),(f=o.getAttribute("width"))&&!a.width&&(a.width=f),this._extractOptions(o,a,this.table.columnManager.optionsList.registeredDefaults),this.fieldIndex[n]=a.field,a.field==this.table.options.index&&(this.hasIndex=!0),r||this.table.options.columns.push(a)}}_generateBlankHeaders(e,t){for(var n=0;n<e.length;n++){var o=e[n],r={title:"",field:"col"+n};this.fieldIndex[n]=r.field;var a=o.getAttribute("width");a&&(r.width=a),this.table.options.columns.push(r)}}}return c.moduleName="htmlTableImport",c})();var T={csv:function bt(c){var s=[],e=0,t=0,n=!1;for(let o=0;o<c.length;o++){let r=c[o],a=c[o+1];s[e]||(s[e]=[]),s[e][t]||(s[e][t]=""),'"'==r&&n&&'"'==a?(s[e][t]+=r,o++):'"'!=r?","!=r||n?"\r"!=r||"\n"!=a||n?"\r"!=r&&"\n"!=r||n?s[e][t]+=r:(t=0,e++):(t=0,e++,o++):t++:n=!n}return s},json:function z(c){try{return JSON.parse(c)}catch(s){return console.warn("JSON Import Error - File contents is invalid JSON",s),Promise.reject()}}};let g=(()=>{class c extends d{constructor(e){super(e),this.registerTableOption("importFormat"),this.registerTableOption("importReader","text")}initialize(){this.registerTableFunction("import",this.importFromFile.bind(this)),this.table.options.importFormat&&(this.subscribe("data-loading",this.loadDataCheck.bind(this),10),this.subscribe("data-load",this.loadData.bind(this),10))}loadDataCheck(e){return"string"==typeof e}loadData(e,t,n,o,r){return this.importData(this.lookupImporter(),e).then(this.structureData.bind(this)).catch(a=>(console.error("Import Error:",a||"Unable to import data"),Promise.reject(a)))}lookupImporter(e){var t;return e||(e=this.table.options.importFormat),(t="string"==typeof e?c.importers[e]:e)||console.error("Import Error - Importer not found:",e),t}importFromFile(e,t){var n=this.lookupImporter(e);if(n)return this.pickFile(t).then(this.importData.bind(this,n)).then(this.structureData.bind(this)).then(this.setData.bind(this)).catch(o=>(console.error("Import Error:",o||"Unable to import file"),Promise.reject(o)))}pickFile(e){return new Promise((t,n)=>{var o=document.createElement("input");o.type="file",o.accept=e,o.addEventListener("change",r=>{var a=o.files[0],f=new FileReader;switch(this.table.options.importReader){case"buffer":f.readAsArrayBuffer(a);break;case"binary":f.readAsBinaryString(a);break;case"url":f.readAsDataURL(a);break;default:f.readAsText(a)}f.onload=y=>{t(f.result)},f.onerror=y=>{console.warn("File Load Error - Unable to read file"),n()}}),o.click()})}importData(e,t){var n=e.call(this.table,t);return n instanceof Promise?n:n?Promise.resolve(n):Promise.reject()}structureData(e){return Array.isArray(e)&&e.length&&Array.isArray(e[0])?this.table.options.autoColumns?this.structureArrayToObject(e):this.structureArrayToColumns(e):e}structureArrayToObject(e){var t=e.shift();return e.map(o=>{var r={};return t.forEach((a,f)=>{r[a]=o[f]}),r})}structureArrayToColumns(e){var t=[],n=this.table.getColumns();return n[0]&&e[0][0]&&n[0].getDefinition().title===e[0][0]&&e.shift(),e.forEach(o=>{var r={};o.forEach((a,f)=>{var y=n[f];y&&(r[y.getField()]=a)}),t.push(r)}),t}setData(e){return this.table.setData(e)}}return c.moduleName="import",c.importers=T,c})(),b=(()=>{class c extends d{constructor(e){super(e),this.eventMap={rowClick:"row-click",rowDblClick:"row-dblclick",rowContext:"row-contextmenu",rowMouseEnter:"row-mouseenter",rowMouseLeave:"row-mouseleave",rowMouseOver:"row-mouseover",rowMouseOut:"row-mouseout",rowMouseMove:"row-mousemove",rowTap:"row",rowDblTap:"row",rowTapHold:"row",cellClick:"cell-click",cellDblClick:"cell-dblclick",cellContext:"cell-contextmenu",cellMouseEnter:"cell-mouseenter",cellMouseLeave:"cell-mouseleave",cellMouseOver:"cell-mouseover",cellMouseOut:"cell-mouseout",cellMouseMove:"cell-mousemove",cellTap:"cell",cellDblTap:"cell",cellTapHold:"cell",headerClick:"column-click",headerDblClick:"column-dblclick",headerContext:"column-contextmenu",headerMouseEnter:"column-mouseenter",headerMouseLeave:"column-mouseleave",headerMouseOver:"column-mouseover",headerMouseOut:"column-mouseout",headerMouseMove:"column-mousemove",headerTap:"column",headerDblTap:"column",headerTapHold:"column",groupClick:"group-click",groupDblClick:"group-dblclick",groupContext:"group-contextmenu",groupMouseEnter:"group-mouseenter",groupMouseLeave:"group-mouseleave",groupMouseOver:"group-mouseover",groupMouseOut:"group-mouseout",groupMouseMove:"group-mousemove",groupTap:"group",groupDblTap:"group",groupTapHold:"group"},this.subscribers={},this.touchSubscribers={},this.columnSubscribers={},this.touchWatchers={row:{tap:null,tapDbl:null,tapHold:null},cell:{tap:null,tapDbl:null,tapHold:null},column:{tap:null,tapDbl:null,tapHold:null},group:{tap:null,tapDbl:null,tapHold:null}},this.registerColumnOption("headerClick"),this.registerColumnOption("headerDblClick"),this.registerColumnOption("headerContext"),this.registerColumnOption("headerMouseEnter"),this.registerColumnOption("headerMouseLeave"),this.registerColumnOption("headerMouseOver"),this.registerColumnOption("headerMouseOut"),this.registerColumnOption("headerMouseMove"),this.registerColumnOption("headerTap"),this.registerColumnOption("headerDblTap"),this.registerColumnOption("headerTapHold"),this.registerColumnOption("cellClick"),this.registerColumnOption("cellDblClick"),this.registerColumnOption("cellContext"),this.registerColumnOption("cellMouseEnter"),this.registerColumnOption("cellMouseLeave"),this.registerColumnOption("cellMouseOver"),this.registerColumnOption("cellMouseOut"),this.registerColumnOption("cellMouseMove"),this.registerColumnOption("cellTap"),this.registerColumnOption("cellDblTap"),this.registerColumnOption("cellTapHold")}initialize(){this.initializeExternalEvents(),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("cell-dblclick",this.cellContentsSelectionFixer.bind(this))}cellContentsSelectionFixer(e,t){if(!this.table.modExists("edit")||this.table.modules.edit.currentCell!==this){e.preventDefault();try{if(document.selection)(n=document.body.createTextRange()).moveToElementText(this.element),n.select();else if(window.getSelection){var n;(n=document.createRange()).selectNode(this.element),window.getSelection().removeAllRanges(),window.getSelection().addRange(n)}}catch{}}}initializeExternalEvents(){for(let e in this.eventMap)this.subscriptionChangeExternal(e,this.subscriptionChanged.bind(this,e))}subscriptionChanged(e,t){t?this.subscribers[e]||(this.eventMap[e].includes("-")?(this.subscribers[e]=this.handle.bind(this,e),this.subscribe(this.eventMap[e],this.subscribers[e])):this.subscribeTouchEvents(e)):this.eventMap[e].includes("-")?this.subscribers[e]&&!this.columnSubscribers[e]&&!this.subscribedExternal(e)&&(this.unsubscribe(this.eventMap[e],this.subscribers[e]),delete this.subscribers[e]):this.unsubscribeTouchEvents(e)}subscribeTouchEvents(e){var t=this.eventMap[e];this.touchSubscribers[t+"-touchstart"]||(this.touchSubscribers[t+"-touchstart"]=this.handleTouch.bind(this,t,"start"),this.touchSubscribers[t+"-touchend"]=this.handleTouch.bind(this,t,"end"),this.subscribe(t+"-touchstart",this.touchSubscribers[t+"-touchstart"]),this.subscribe(t+"-touchend",this.touchSubscribers[t+"-touchend"])),this.subscribers[e]=!0}unsubscribeTouchEvents(e){var t=!0,n=this.eventMap[e];if(this.subscribers[e]&&!this.subscribedExternal(e)){delete this.subscribers[e];for(let o in this.eventMap)this.eventMap[o]===n&&this.subscribers[o]&&(t=!1);t&&(this.unsubscribe(n+"-touchstart",this.touchSubscribers[n+"-touchstart"]),this.unsubscribe(n+"-touchend",this.touchSubscribers[n+"-touchend"]),delete this.touchSubscribers[n+"-touchstart"],delete this.touchSubscribers[n+"-touchend"])}}initializeColumn(e){var t=e.definition;for(let n in this.eventMap)t[n]&&(this.subscriptionChanged(n,!0),this.columnSubscribers[n]||(this.columnSubscribers[n]=[]),this.columnSubscribers[n].push(e))}handle(e,t,n){this.dispatchEvent(e,t,n)}handleTouch(e,t,n,o){var r=this.touchWatchers[e];switch("column"===e&&(e="header"),t){case"start":r.tap=!0,clearTimeout(r.tapHold),r.tapHold=setTimeout(()=>{clearTimeout(r.tapHold),r.tapHold=null,r.tap=null,clearTimeout(r.tapDbl),r.tapDbl=null,this.dispatchEvent(e+"TapHold",n,o)},1e3);break;case"end":r.tap&&(r.tap=null,this.dispatchEvent(e+"Tap",n,o)),r.tapDbl?(clearTimeout(r.tapDbl),r.tapDbl=null,this.dispatchEvent(e+"DblTap",n,o)):r.tapDbl=setTimeout(()=>{clearTimeout(r.tapDbl),r.tapDbl=null},300),clearTimeout(r.tapHold),r.tapHold=null}}dispatchEvent(e,t,n){var r,o=n.getComponent();this.columnSubscribers[e]&&(n instanceof Ye?r=n.column.definition[e]:n instanceof ye&&(r=n.definition[e]),r&&r(t,o)),this.dispatchExternal(e,t,o)}}return c.moduleName="interaction",c})();var M={navPrev:"shift + 9",navNext:9,navUp:38,navDown:40,scrollPageUp:33,scrollPageDown:34,scrollToStart:36,scrollToEnd:35,undo:["ctrl + 90","meta + 90"],redo:["ctrl + 89","meta + 89"],copyToClipboard:["ctrl + 67","meta + 89"]},F={keyBlock:function(c){c.stopPropagation(),c.preventDefault()},scrollPageUp:function(c){var s=this.table.rowManager,e=s.scrollTop-s.element.clientHeight;c.preventDefault(),s.displayRowsCount&&(e>=0?s.element.scrollTop=e:s.scrollToRow(s.getDisplayRows()[0])),this.table.element.focus()},scrollPageDown:function(c){var s=this.table.rowManager,e=s.scrollTop+s.element.clientHeight,t=s.element.scrollHeight;c.preventDefault(),s.displayRowsCount&&(e<=t?s.element.scrollTop=e:s.scrollToRow(s.getDisplayRows()[s.displayRowsCount-1])),this.table.element.focus()},scrollToStart:function(c){var s=this.table.rowManager;c.preventDefault(),s.displayRowsCount&&s.scrollToRow(s.getDisplayRows()[0]),this.table.element.focus()},scrollToEnd:function(c){var s=this.table.rowManager;c.preventDefault(),s.displayRowsCount&&s.scrollToRow(s.getDisplayRows()[s.displayRowsCount-1]),this.table.element.focus()},navPrev:function(c){this.dispatch("keybinding-nav-prev",c)},navNext:function(c){this.dispatch("keybinding-nav-next",c)},navLeft:function(c){this.dispatch("keybinding-nav-left",c)},navRight:function(c){this.dispatch("keybinding-nav-right",c)},navUp:function(c){this.dispatch("keybinding-nav-up",c)},navDown:function(c){this.dispatch("keybinding-nav-down",c)},undo:function(c){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(c.preventDefault(),this.table.modules.history.undo()))},redo:function(c){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(c.preventDefault(),this.table.modules.history.redo()))},copyToClipboard:function(c){this.table.modules.edit.currentCell||this.table.modExists("clipboard",!0)&&this.table.modules.clipboard.copy(!1,!0)}};let J=(()=>{class c extends d{constructor(e){super(e),this.watchKeys=null,this.pressedKeys=null,this.keyupBinding=!1,this.keydownBinding=!1,this.registerTableOption("keybindings",{}),this.registerTableOption("tabEndNewRow",!1)}initialize(){var e=this.table.options.keybindings,t={};this.watchKeys={},this.pressedKeys=[],!1!==e&&(Object.assign(t,c.bindings),Object.assign(t,e),this.mapBindings(t),this.bindEvents()),this.subscribe("table-destroy",this.clearBindings.bind(this))}mapBindings(e){for(let t in e)c.actions[t]?e[t]&&("object"!=typeof e[t]&&(e[t]=[e[t]]),e[t].forEach(n=>{(Array.isArray(n)?n:[n]).forEach(r=>{this.mapBinding(t,r)})})):console.warn("Key Binding Error - no such action:",t)}mapBinding(e,t){var n={action:c.actions[e],keys:[],ctrl:!1,shift:!1,meta:!1};t.toString().toLowerCase().split(" ").join("").split("+").forEach(r=>{switch(r){case"ctrl":n.ctrl=!0;break;case"shift":n.shift=!0;break;case"meta":n.meta=!0;break;default:r=isNaN(r)?r.toUpperCase().charCodeAt(0):parseInt(r),n.keys.push(r),this.watchKeys[r]||(this.watchKeys[r]=[]),this.watchKeys[r].push(n)}})}bindEvents(){var e=this;this.keyupBinding=function(t){var n=t.keyCode,o=e.watchKeys[n];o&&(e.pressedKeys.push(n),o.forEach(function(r){e.checkBinding(t,r)}))},this.keydownBinding=function(t){var n=t.keyCode;if(e.watchKeys[n]){var r=e.pressedKeys.indexOf(n);r>-1&&e.pressedKeys.splice(r,1)}},this.table.element.addEventListener("keydown",this.keyupBinding),this.table.element.addEventListener("keyup",this.keydownBinding)}clearBindings(){this.keyupBinding&&this.table.element.removeEventListener("keydown",this.keyupBinding),this.keydownBinding&&this.table.element.removeEventListener("keyup",this.keydownBinding)}checkBinding(e,t){var n=!0;return e.ctrlKey==t.ctrl&&e.shiftKey==t.shift&&e.metaKey==t.meta&&(t.keys.forEach(o=>{-1==this.pressedKeys.indexOf(o)&&(n=!1)}),n&&t.action.call(this,e),!0)}}return c.moduleName="keybindings",c.bindings=M,c.actions=F,c})(),De=(()=>{class c extends d{constructor(e){super(e),this.menuContainer=null,this.menuElements=[],this.blurEvent=this.hideMenu.bind(this),this.escEvent=this.escMenu.bind(this),this.nestedMenuBlock=!1,this.positionReversedX=!1,this.currentComponent=null,this.columnSubscribers={},this.registerTableOption("rowContextMenu",!1),this.registerTableOption("rowClickMenu",!1),this.registerTableOption("groupContextMenu",!1),this.registerTableOption("groupClickMenu",!1),this.registerTableOption("menuContainer",!1),this.registerColumnOption("headerContextMenu"),this.registerColumnOption("headerClickMenu"),this.registerColumnOption("headerMenu"),this.registerColumnOption("contextMenu"),this.registerColumnOption("clickMenu")}initialize(){this.lookupMenuContainer(),this.initializeRowWatchers(),this.initializeGroupWatchers(),this.subscribe("column-init",this.initializeColumn.bind(this))}lookupMenuContainer(){this.menuContainer=this.table.options.menuContainer,"string"==typeof this.menuContainer?(this.menuContainer=document.querySelector(this.menuContainer),this.menuContainer||console.warn("Menu Error - no container element found matching selector:",this.table.options.menuContainer,"(defaulting to document body)")):!0===this.menuContainer&&(this.menuContainer=this.table.element),this.menuContainer&&!this.checkMenuContainerIsParent(this.menuContainer)&&(this.menuContainer=!1,console.warn("Menu Error - container element does not contain this table:",this.table.options.menuContainer,"(defaulting to document body)")),this.menuContainer||(this.menuContainer=document.body)}checkMenuContainerIsParent(e,t=this.table.element){return e===t||!!t.parentNode&&this.checkMenuContainerIsParent(e,t.parentNode)}initializeRowWatchers(){this.table.options.rowContextMenu&&(this.subscribe("row-contextmenu",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu)),this.table.on("rowTapHold",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu))),this.table.options.rowClickMenu&&this.subscribe("row-click",this.loadMenuEvent.bind(this,this.table.options.rowClickMenu))}initializeGroupWatchers(){this.table.options.groupContextMenu&&(this.subscribe("group-contextmenu",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu)),this.table.on("groupTapHold",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu))),this.table.options.groupClickMenu&&this.subscribe("group-click",this.loadMenuEvent.bind(this,this.table.options.groupClickMenu))}initializeColumn(e){var t=e.definition;t.headerContextMenu&&!this.columnSubscribers.headerContextMenu&&(this.columnSubscribers.headerContextMenu=this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"),this.subscribe("column-contextmenu",this.columnSubscribers.headerContextMenu),this.table.on("headerTapHold",this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"))),t.headerClickMenu&&!this.columnSubscribers.headerClickMenu&&(this.columnSubscribers.headerClickMenu=this.loadMenuTableColumnEvent.bind(this,"headerClickMenu"),this.subscribe("column-click",this.columnSubscribers.headerClickMenu)),t.headerMenu&&this.initializeColumnHeaderMenu(e),t.contextMenu&&!this.columnSubscribers.contextMenu&&(this.columnSubscribers.contextMenu=this.loadMenuTableCellEvent.bind(this,"contextMenu"),this.subscribe("cell-contextmenu",this.columnSubscribers.contextMenu),this.table.on("cellTapHold",this.loadMenuTableCellEvent.bind(this,"contextMenu"))),t.clickMenu&&!this.columnSubscribers.clickMenu&&(this.columnSubscribers.clickMenu=this.loadMenuTableCellEvent.bind(this,"clickMenu"),this.subscribe("cell-click",this.columnSubscribers.clickMenu))}initializeColumnHeaderMenu(e){var t;(t=document.createElement("span")).classList.add("tabulator-header-menu-button"),t.innerHTML="&vellip;",t.addEventListener("click",n=>{n.stopPropagation(),n.preventDefault(),this.loadMenuEvent(e.definition.headerMenu,n,e)}),e.titleElement.insertBefore(t,e.titleElement.firstChild)}loadMenuTableCellEvent(e,t,n){n._cell&&(n=n._cell),n.column.definition[e]&&this.loadMenuEvent(n.column.definition[e],t,n)}loadMenuTableColumnEvent(e,t,n){n._column&&(n=n._column),n.definition[e]&&this.loadMenuEvent(n.definition[e],t,n)}loadMenuEvent(e,t,n){n._group?n=n._group:n._row&&(n=n._row),e="function"==typeof e?e.call(this.table,n.getComponent(),t):e,this.loadMenu(t,n,e)}loadMenu(e,t,n,o){var r=!(e instanceof MouseEvent),a=document.createElement("div");if(a.classList.add("tabulator-menu"),r||e.preventDefault(),n&&n.length){if(!o){if(this.nestedMenuBlock){if(this.isOpen())return}else this.nestedMenuBlock=setTimeout(()=>{this.nestedMenuBlock=!1},100);this.hideMenu(),this.menuElements=[]}n.forEach(f=>{var y=document.createElement("div"),x=f.label,P=f.disabled;f.separator?y.classList.add("tabulator-menu-separator"):(y.classList.add("tabulator-menu-item"),"function"==typeof x&&(x=x.call(this.table,t.getComponent())),x instanceof Node?y.appendChild(x):y.innerHTML=x,"function"==typeof P&&(P=P.call(this.table,t.getComponent())),P?(y.classList.add("tabulator-menu-item-disabled"),y.addEventListener("click",U=>{U.stopPropagation()})):f.menu&&f.menu.length?y.addEventListener("click",U=>{U.stopPropagation(),this.hideOldSubMenus(a),this.loadMenu(U,t,f.menu,y)}):f.action&&y.addEventListener("click",U=>{f.action(U,t.getComponent())}),f.menu&&f.menu.length&&y.classList.add("tabulator-menu-item-submenu")),a.appendChild(y)}),a.addEventListener("click",f=>{this.hideMenu()}),this.menuElements.push(a),this.positionMenu(a,o,r,e),this.currentComponent=t,this.dispatchExternal("menuOpened",t.getComponent())}}hideOldSubMenus(e){var t=this.menuElements.indexOf(e);if(t>-1)for(let o=this.menuElements.length-1;o>t;o--){var n=this.menuElements[o];n.parentNode&&n.parentNode.removeChild(n),this.menuElements.pop()}}positionMenu(e,t,n,o){var r,a,f;t?(r=(f=L.elOffset(t)).left+t.offsetWidth,a=f.top-1):(r=n?o.touches[0].pageX:o.pageX,a=n?o.touches[0].pageY:o.pageY,this.menuContainer!==document.body&&(r-=(f=L.elOffset(this.menuContainer)).left,a-=f.top),this.positionReversedX=!1),e.style.top=a+"px",e.style.left=r+"px",setTimeout(()=>{this.table.rowManager.element.addEventListener("scroll",this.blurEvent),document.body.addEventListener("click",this.blurEvent),document.body.addEventListener("contextmenu",this.blurEvent),window.addEventListener("resize",this.blurEvent),document.body.addEventListener("keydown",this.escEvent)},100),this.menuContainer.appendChild(e),(r+e.offsetWidth>=this.menuContainer.offsetWidth||this.positionReversedX)&&(e.style.left="",e.style.right=t?this.menuContainer.offsetWidth-f.left+"px":this.menuContainer.offsetWidth-r+"px",this.positionReversedX=!0),a+e.offsetHeight>=this.menuContainer.offsetHeight&&(e.style.top="",e.style.bottom=t?this.menuContainer.offsetHeight-f.top-t.offsetHeight-1+"px":this.menuContainer.offsetHeight-a+"px")}isOpen(){return!!this.menuElements.length}escMenu(e){27==e.keyCode&&this.hideMenu()}hideMenu(){this.menuElements.forEach(e=>{e.parentNode&&e.parentNode.removeChild(e)}),document.body.removeEventListener("keydown",this.escEvent),document.body.removeEventListener("click",this.blurEvent),document.body.removeEventListener("contextmenu",this.blurEvent),window.removeEventListener("resize",this.blurEvent),this.table.rowManager.element.removeEventListener("scroll",this.blurEvent),this.currentComponent&&(this.dispatchExternal("menuClosed",this.currentComponent.getComponent()),this.currentComponent=null)}}return c.moduleName="menu",c})(),je=(()=>{class c extends d{constructor(e){super(e),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=250,this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.startX=0,this.autoScrollMargin=40,this.autoScrollStep=5,this.autoScrollTimeout=!1,this.touchMove=!1,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.registerTableOption("movableColumns",!1)}createPlaceholderElement(){var e=document.createElement("div");return e.classList.add("tabulator-col"),e.classList.add("tabulator-col-placeholder"),e}initialize(){this.table.options.movableColumns&&this.subscribe("column-init",this.initializeColumn.bind(this))}initializeColumn(e){var o,t=this,n={};e.modules.frozen||(o=e.getElement(),n.mousemove=function(r){e.parent===t.moving.parent&&((t.touchMove?r.touches[0].pageX:r.pageX)-L.elOffset(o).left+t.table.columnManager.element.scrollLeft>e.getWidth()/2?(t.toCol!==e||!t.toColAfter)&&(o.parentNode.insertBefore(t.placeholderElement,o.nextSibling),t.moveColumn(e,!0)):(t.toCol!==e||t.toColAfter)&&(o.parentNode.insertBefore(t.placeholderElement,o),t.moveColumn(e,!1)))}.bind(t),o.addEventListener("mousedown",function(r){t.touchMove=!1,1===r.which&&(t.checkTimeout=setTimeout(function(){t.startMove(r,e)},t.checkPeriod))}),o.addEventListener("mouseup",function(r){1===r.which&&t.checkTimeout&&clearTimeout(t.checkTimeout)}),t.bindTouchEvents(e)),e.modules.moveColumn=n}bindTouchEvents(e){var o,r,a,f,y,x,t=e.getElement(),n=!1;t.addEventListener("touchstart",P=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,o=e.nextColumn(),a=o?o.getWidth()/2:0,r=e.prevColumn(),f=r?r.getWidth()/2:0,y=0,x=0,n=!1,this.startMove(P,e)},this.checkPeriod)},{passive:!0}),t.addEventListener("touchmove",P=>{var U,X;this.moving&&(this.moveHover(P),n||(n=P.touches[0].pageX),(U=P.touches[0].pageX-n)>0?o&&U-y>a&&(X=o)!==e&&(n=P.touches[0].pageX,X.getElement().parentNode.insertBefore(this.placeholderElement,X.getElement().nextSibling),this.moveColumn(X,!0)):r&&-U-x>f&&(X=r)!==e&&(n=P.touches[0].pageX,X.getElement().parentNode.insertBefore(this.placeholderElement,X.getElement()),this.moveColumn(X,!1)),X&&(o=X.nextColumn(),y=a,a=o?o.getWidth()/2:0,r=X.prevColumn(),x=f,f=r?r.getWidth()/2:0))},{passive:!0}),t.addEventListener("touchend",P=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&this.endMove(P)})}startMove(e,t){var n=t.getElement(),o=this.table.columnManager.getElement(),r=this.table.columnManager.getHeadersElement();this.moving=t,this.startX=(this.touchMove?e.touches[0].pageX:e.pageX)-L.elOffset(n).left,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=t.getWidth()+"px",this.placeholderElement.style.height=t.getHeight()+"px",n.parentNode.insertBefore(this.placeholderElement,n),n.parentNode.removeChild(n),this.hoverElement=n.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.table.columnManager.getElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.bottom=o.clientHeight-r.offsetHeight+"px",this.touchMove||(this._bindMouseMove(),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove)),this.moveHover(e)}_bindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(e){e.modules.moveColumn.mousemove&&e.getElement().addEventListener("mousemove",e.modules.moveColumn.mousemove)})}_unbindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(e){e.modules.moveColumn.mousemove&&e.getElement().removeEventListener("mousemove",e.modules.moveColumn.mousemove)})}moveColumn(e,t){var n=this.moving.getCells();this.toCol=e,this.toColAfter=t,t?e.getCells().forEach(function(o,r){var a=o.getElement(!0);a.parentNode&&n[r]&&a.parentNode.insertBefore(n[r].getElement(),a.nextSibling)}):e.getCells().forEach(function(o,r){var a=o.getElement(!0);a.parentNode&&n[r]&&a.parentNode.insertBefore(n[r].getElement(),a)})}endMove(e){(1===e.which||this.touchMove)&&(this._unbindMouseMove(),this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toCol&&this.table.columnManager.moveColumnActual(this.moving,this.toCol,this.toColAfter),this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.touchMove||(document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove)))}moveHover(e){var r,t=this.table.columnManager.getElement(),n=t.scrollLeft,o=(this.touchMove?e.touches[0].pageX:e.pageX)-L.elOffset(t).left+n;this.hoverElement.style.left=o-this.startX+"px",o-n<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{r=Math.max(0,n-5),this.table.rowManager.getElement().scrollLeft=r,this.autoScrollTimeout=!1},1))),n+t.clientWidth-o<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{r=Math.min(t.clientWidth,n+5),this.table.rowManager.getElement().scrollLeft=r,this.autoScrollTimeout=!1},1)))}}return c.moduleName="moveColumn",c})();class it extends d{constructor(s){super(s),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=150,this.moving=!1,this.toRow=!1,this.toRowAfter=!1,this.hasHandle=!1,this.startY=0,this.startX=0,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.tableRowDropEvent=!1,this.touchMove=!1,this.connection=!1,this.connectionSelectorsTables=!1,this.connectionSelectorsElements=!1,this.connectionElements=[],this.connections=[],this.connectedTable=!1,this.connectedRow=!1,this.registerTableOption("movableRows",!1),this.registerTableOption("movableRowsConnectedTables",!1),this.registerTableOption("movableRowsConnectedElements",!1),this.registerTableOption("movableRowsSender",!1),this.registerTableOption("movableRowsReceiver","insert"),this.registerColumnOption("rowHandle")}createPlaceholderElement(){var s=document.createElement("div");return s.classList.add("tabulator-row"),s.classList.add("tabulator-row-placeholder"),s}initialize(){this.table.options.movableRows&&(this.connectionSelectorsTables=this.table.options.movableRowsConnectedTables,this.connectionSelectorsElements=this.table.options.movableRowsConnectedElements,this.connection=this.connectionSelectorsTables||this.connectionSelectorsElements,this.subscribe("cell-init",this.initializeCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)))}initializeGroupHeader(s){var e=this,t={};t.mouseup=function(n){e.tableRowDrop(n,row)}.bind(e),t.mousemove=function(n){if(n.pageY-L.elOffset(s.element).top+e.table.rowManager.element.scrollTop>s.getHeight()/2)e.toRow===s&&e.toRowAfter||((o=s.getElement()).parentNode.insertBefore(e.placeholderElement,o.nextSibling),e.moveRow(s,!0));else if(e.toRow!==s||e.toRowAfter){var o;(o=s.getElement()).previousSibling&&(o.parentNode.insertBefore(e.placeholderElement,o),e.moveRow(s,!1))}}.bind(e),s.modules.moveRow=t}initializeRow(s){var n,e=this,t={};t.mouseup=function(o){e.tableRowDrop(o,s)}.bind(e),t.mousemove=function(o){var r=s.getElement();o.pageY-L.elOffset(r).top+e.table.rowManager.element.scrollTop>s.getHeight()/2?(e.toRow!==s||!e.toRowAfter)&&(r.parentNode.insertBefore(e.placeholderElement,r.nextSibling),e.moveRow(s,!0)):(e.toRow!==s||e.toRowAfter)&&(r.parentNode.insertBefore(e.placeholderElement,r),e.moveRow(s,!1))}.bind(e),this.hasHandle||((n=s.getElement()).addEventListener("mousedown",function(o){1===o.which&&(e.checkTimeout=setTimeout(function(){e.startMove(o,s)},e.checkPeriod))}),n.addEventListener("mouseup",function(o){1===o.which&&e.checkTimeout&&clearTimeout(e.checkTimeout)}),this.bindTouchEvents(s,s.getElement())),s.modules.moveRow=t}initializeColumn(s){s.definition.rowHandle&&!1!==this.table.options.movableRows&&(this.hasHandle=!0)}initializeCell(s){if(s.column.definition.rowHandle&&!1!==this.table.options.movableRows){var e=this,t=s.getElement(!0);t.addEventListener("mousedown",function(n){1===n.which&&(e.checkTimeout=setTimeout(function(){e.startMove(n,s.row)},e.checkPeriod))}),t.addEventListener("mouseup",function(n){1===n.which&&e.checkTimeout&&clearTimeout(e.checkTimeout)}),this.bindTouchEvents(s.row,t)}}bindTouchEvents(s,e){var n,o,r,a,f,y,t=!1;e.addEventListener("touchstart",x=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,n=s.nextRow(),r=n?n.getHeight()/2:0,o=s.prevRow(),a=o?o.getHeight()/2:0,f=0,y=0,t=!1,this.startMove(x,s)},this.checkPeriod)},{passive:!0}),e.addEventListener("touchmove",x=>{var P,U;this.moving&&(x.preventDefault(),this.moveHover(x),t||(t=x.touches[0].pageY),(P=x.touches[0].pageY-t)>0?n&&P-f>r&&(U=n)!==s&&(t=x.touches[0].pageY,U.getElement().parentNode.insertBefore(this.placeholderElement,U.getElement().nextSibling),this.moveRow(U,!0)):o&&-P-y>a&&(U=o)!==s&&(t=x.touches[0].pageY,U.getElement().parentNode.insertBefore(this.placeholderElement,U.getElement()),this.moveRow(U,!1)),U&&(n=U.nextRow(),f=r,r=n?n.getHeight()/2:0,o=U.prevRow(),y=a,a=o?o.getHeight()/2:0))}),e.addEventListener("touchend",x=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&(this.endMove(x),this.touchMove=!1)})}_bindMouseMove(){this.table.rowManager.getDisplayRows().forEach(s=>{("row"===s.type||"group"===s.type)&&s.modules.moveRow&&s.modules.moveRow.mousemove&&s.getElement().addEventListener("mousemove",s.modules.moveRow.mousemove)})}_unbindMouseMove(){this.table.rowManager.getDisplayRows().forEach(s=>{("row"===s.type||"group"===s.type)&&s.modules.moveRow&&s.modules.moveRow.mousemove&&s.getElement().removeEventListener("mousemove",s.modules.moveRow.mousemove)})}startMove(s,e){var t=e.getElement();this.setStartPosition(s,e),this.moving=e,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=e.getWidth()+"px",this.placeholderElement.style.height=e.getHeight()+"px",this.connection?(this.table.element.classList.add("tabulator-movingrow-sending"),this.connectToTables(e)):(t.parentNode.insertBefore(this.placeholderElement,t),t.parentNode.removeChild(t)),this.hoverElement=t.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.connection?(document.body.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this.hoverElement.style.width=this.table.element.clientWidth+"px",this.hoverElement.style.whiteSpace="nowrap",this.hoverElement.style.overflow="hidden",this.hoverElement.style.pointerEvents="none"):(this.table.rowManager.getTableElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this._bindMouseMove()),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove),this.dispatchExternal("rowMoving",e.getComponent()),this.moveHover(s)}setStartPosition(s,e){var o,r,t=this.touchMove?s.touches[0].pageX:s.pageX,n=this.touchMove?s.touches[0].pageY:s.pageY;o=e.getElement(),this.connection?(r=o.getBoundingClientRect(),this.startX=r.left-t+window.pageXOffset,this.startY=r.top-n+window.pageYOffset):this.startY=n-o.getBoundingClientRect().top}endMove(s){(!s||1===s.which||this.touchMove)&&(this._unbindMouseMove(),this.connection||(this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement)),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toRow?this.table.rowManager.moveRow(this.moving,this.toRow,this.toRowAfter):this.dispatchExternal("rowMoveCancelled",this.moving.getComponent()),this.moving=!1,this.toRow=!1,this.toRowAfter=!1,document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove),this.connection&&(this.table.element.classList.remove("tabulator-movingrow-sending"),this.disconnectFromTables()))}moveRow(s,e){this.toRow=s,this.toRowAfter=e}moveHover(s){this.connection?this.moveHoverConnections.call(this,s):this.moveHoverTable.call(this,s)}moveHoverTable(s){var e=this.table.rowManager.getElement(),t=e.scrollTop,n=(this.touchMove?s.touches[0].pageY:s.pageY)-e.getBoundingClientRect().top+t;this.hoverElement.style.top=n-this.startY+"px"}moveHoverConnections(s){this.hoverElement.style.left=this.startX+(this.touchMove?s.touches[0].pageX:s.pageX)+"px",this.hoverElement.style.top=this.startY+(this.touchMove?s.touches[0].pageY:s.pageY)+"px"}elementRowDrop(s,e,t){this.dispatchExternal("movableRowsElementDrop",s,e,!!t&&t.getComponent())}connectToTables(s){var e;this.connectionSelectorsTables&&(e=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStart",e),this.commsSend(this.connectionSelectorsTables,"moveRow","connect",{row:s})),this.connectionSelectorsElements&&(this.connectionElements=[],Array.isArray(this.connectionSelectorsElements)||(this.connectionSelectorsElements=[this.connectionSelectorsElements]),this.connectionSelectorsElements.forEach(t=>{"string"==typeof t?this.connectionElements=this.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(t))):this.connectionElements.push(t)}),this.connectionElements.forEach(t=>{var n=o=>{this.elementRowDrop(o,t,this.moving)};t.addEventListener("mouseup",n),t.tabulatorElementDropEvent=n,t.classList.add("tabulator-movingrow-receiving")}))}disconnectFromTables(){var s;this.connectionSelectorsTables&&(s=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStop",s),this.commsSend(this.connectionSelectorsTables,"moveRow","disconnect")),this.connectionElements.forEach(e=>{e.classList.remove("tabulator-movingrow-receiving"),e.removeEventListener("mouseup",e.tabulatorElementDropEvent),delete e.tabulatorElementDropEvent})}connect(s,e){return this.connectedTable?(console.warn("Move Row Error - Table cannot accept connection, already connected to table:",this.connectedTable),!1):(this.connectedTable=s,this.connectedRow=e,this.table.element.classList.add("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(t=>{"row"===t.type&&t.modules.moveRow&&t.modules.moveRow.mouseup&&t.getElement().addEventListener("mouseup",t.modules.moveRow.mouseup)}),this.tableRowDropEvent=this.tableRowDrop.bind(this),this.table.element.addEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStart",e,s),!0)}disconnect(s){s===this.connectedTable?(this.connectedTable=!1,this.connectedRow=!1,this.table.element.classList.remove("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(e=>{"row"===e.type&&e.modules.moveRow&&e.modules.moveRow.mouseup&&e.getElement().removeEventListener("mouseup",e.modules.moveRow.mouseup)}),this.table.element.removeEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStop",s)):console.warn("Move Row Error - trying to disconnect from non connected table")}dropComplete(s,e,t){var n=!1;if(t){switch(typeof this.table.options.movableRowsSender){case"string":n=this.senders[this.table.options.movableRowsSender];break;case"function":n=this.table.options.movableRowsSender}n?n.call(this,this.moving.getComponent(),e?e.getComponent():void 0,s):this.table.options.movableRowsSender&&console.warn("Mover Row Error - no matching sender found:",this.table.options.movableRowsSender),this.dispatchExternal("movableRowsSent",this.moving.getComponent(),e?e.getComponent():void 0,s)}else this.dispatchExternal("movableRowsSentFailed",this.moving.getComponent(),e?e.getComponent():void 0,s);this.endMove()}tableRowDrop(s,e){var t=!1,n=!1;switch(s.stopImmediatePropagation(),typeof this.table.options.movableRowsReceiver){case"string":t=this.receivers[this.table.options.movableRowsReceiver];break;case"function":t=this.table.options.movableRowsReceiver}t?n=t.call(this,this.connectedRow.getComponent(),e?e.getComponent():void 0,this.connectedTable):console.warn("Mover Row Error - no matching receiver found:",this.table.options.movableRowsReceiver),this.dispatchExternal(n?"movableRowsReceived":"movableRowsReceivedFailed",this.connectedRow.getComponent(),e?e.getComponent():void 0,this.connectedTable),this.commsSend(this.connectedTable,"moveRow","dropcomplete",{row:e,success:n})}commsReceived(s,e,t){switch(e){case"connect":return this.connect(s,t.row);case"disconnect":return this.disconnect(s);case"dropcomplete":return this.dropComplete(s,t.row,t.success)}}}it.prototype.receivers={insert:function(c,s,e){return this.table.addRow(c.getData(),void 0,s),!0},add:function(c,s,e){return this.table.addRow(c.getData()),!0},update:function(c,s,e){return!!s&&(s.update(c.getData()),!0)},replace:function(c,s,e){return!!s&&(this.table.addRow(c.getData(),void 0,s),s.delete(),!0)}},it.prototype.senders={delete:function(c,s,e){c.delete()}},it.moduleName="moveRow";var ot={};let Lt=(()=>{class c extends d{constructor(e){super(e),this.allowedTypes=["","data","edit","clipboard"],this.enabled=!0,this.registerColumnOption("mutator"),this.registerColumnOption("mutatorParams"),this.registerColumnOption("mutatorData"),this.registerColumnOption("mutatorDataParams"),this.registerColumnOption("mutatorEdit"),this.registerColumnOption("mutatorEditParams"),this.registerColumnOption("mutatorClipboard"),this.registerColumnOption("mutatorClipboardParams")}initialize(){this.subscribe("cell-value-changing",this.transformCell.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-init-before",this.rowDataChanged.bind(this)),this.subscribe("row-data-changing",this.rowDataChanged.bind(this))}rowDataChanged(e,t,n){return this.transformRow(t,"data",n)}initializeColumn(e){var t=!1,n={};this.allowedTypes.forEach(o=>{var a,r="mutator"+(o.charAt(0).toUpperCase()+o.slice(1));e.definition[r]&&(a=this.lookupMutator(e.definition[r]))&&(t=!0,n[r]={mutator:a,params:e.definition[r+"Params"]||{}})}),t&&(e.modules.mutate=n)}lookupMutator(e){var t=!1;switch(typeof e){case"string":c.mutators[e]?t=c.mutators[e]:console.warn("Mutator Error - No such mutator found, ignoring: ",e);break;case"function":t=e}return t}transformRow(e,t,n){var r,o="mutator"+(t.charAt(0).toUpperCase()+t.slice(1));return this.enabled&&this.table.columnManager.traverse(a=>{var f,y,x;a.modules.mutate&&(f=a.modules.mutate[o]||a.modules.mutate.mutator||!1)&&(r=a.getFieldValue(void 0!==n?n:e),("data"==t||void 0!==r)&&(x=a.getComponent(),y="function"==typeof f.params?f.params(r,e,t,x):f.params,a.setFieldValue(e,f.mutator(r,e,t,y,x))))}),e}transformCell(e,t){if(e.column.modules.mutate){var n=e.column.modules.mutate.mutatorEdit||e.column.modules.mutate.mutator||!1,o={};if(n)return o=Object.assign(o,e.row.getData()),e.column.setFieldValue(o,t),n.mutator(t,o,"edit",n.params,e.getComponent())}return t}enable(){this.enabled=!0}disable(){this.enabled=!1}}return c.moduleName="mutator",c.mutators=ot,c})();var Ut={rows:function Ot(c,s,e,t,n){var o=document.createElement("span"),r=document.createElement("span"),a=document.createElement("span"),f=document.createElement("span"),y=document.createElement("span"),x=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",P=>{r.innerHTML=P}),a.innerHTML=" "+s+"-"+Math.min(s+c-1,t)+" ",this.table.modules.localize.langBind("pagination|counter|of",P=>{f.innerHTML=P}),y.innerHTML=" "+t+" ",this.table.modules.localize.langBind("pagination|counter|rows",P=>{x.innerHTML=P}),o.appendChild(r),o.appendChild(a),o.appendChild(f),o.appendChild(y),o.appendChild(x),o},pages:function Pt(c,s,e,t,n){var o=document.createElement("span"),r=document.createElement("span"),a=document.createElement("span"),f=document.createElement("span"),y=document.createElement("span"),x=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",P=>{r.innerHTML=P}),a.innerHTML=" "+e+" ",this.table.modules.localize.langBind("pagination|counter|of",P=>{f.innerHTML=P}),y.innerHTML=" "+n+" ",this.table.modules.localize.langBind("pagination|counter|pages",P=>{x.innerHTML=P}),o.appendChild(r),o.appendChild(a),o.appendChild(f),o.appendChild(y),o.appendChild(x),o}};let ti=(()=>{class c extends d{constructor(e){super(e),this.mode="local",this.progressiveLoad=!1,this.element=null,this.pageCounterElement=null,this.pageCounter=null,this.size=0,this.page=1,this.count=5,this.max=1,this.remoteRowCountEstimate=null,this.displayIndex=0,this.initialLoad=!0,this.dataChanging=!1,this.pageSizes=[],this.registerTableOption("pagination",!1),this.registerTableOption("paginationMode","local"),this.registerTableOption("paginationSize",!1),this.registerTableOption("paginationInitialPage",1),this.registerTableOption("paginationCounter",!1),this.registerTableOption("paginationCounterElement",!1),this.registerTableOption("paginationButtonCount",5),this.registerTableOption("paginationSizeSelector",!1),this.registerTableOption("paginationElement",!1),this.registerTableOption("paginationAddRow","page"),this.registerTableOption("progressiveLoad",!1),this.registerTableOption("progressiveLoadDelay",0),this.registerTableOption("progressiveLoadScrollMargin",0),this.registerTableFunction("setMaxPage",this.setMaxPage.bind(this)),this.registerTableFunction("setPage",this.setPage.bind(this)),this.registerTableFunction("setPageToRow",this.userSetPageToRow.bind(this)),this.registerTableFunction("setPageSize",this.userSetPageSize.bind(this)),this.registerTableFunction("getPageSize",this.getPageSize.bind(this)),this.registerTableFunction("previousPage",this.previousPage.bind(this)),this.registerTableFunction("nextPage",this.nextPage.bind(this)),this.registerTableFunction("getPage",this.getPage.bind(this)),this.registerTableFunction("getPageMax",this.getPageMax.bind(this)),this.registerComponentFunction("row","pageTo",this.setPageToRow.bind(this))}initialize(){this.table.options.pagination?(this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),"page"==this.table.options.paginationAddRow&&this.subscribe("row-adding-position",this.rowAddingPosition.bind(this)),"remote"===this.table.options.paginationMode&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this))),this.table.options.progressiveLoad&&console.error("Progressive Load Error - Pagination and progressive load cannot be used at the same time"),this.registerDisplayHandler(this.restOnRenderBefore.bind(this),40),this.registerDisplayHandler(this.getRows.bind(this),50),this.createElements(),this.initializePageCounter(),this.initializePaginator()):this.table.options.progressiveLoad&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.initializeProgressive(this.table.options.progressiveLoad),"scroll"===this.table.options.progressiveLoad&&this.subscribe("scroll-vertical",this.scrollVertical.bind(this)))}rowAddingPosition(e,t){var r,n=this.table.rowManager,o=n.getDisplayRows();return t?o.length?r=o[0]:n.activeRows.length&&(r=n.activeRows[n.activeRows.length-1],t=!1):o.length&&(r=o[o.length-1],t=!(o.length<this.size)),{index:r,top:t}}calculatePageSizes(){var e,t;this.table.options.paginationSize?this.size=this.table.options.paginationSize:((e=document.createElement("div")).classList.add("tabulator-row"),e.style.visibility="hidden",(t=document.createElement("div")).classList.add("tabulator-cell"),t.innerHTML="Page Row Test",e.appendChild(t),this.table.rowManager.getTableElement().appendChild(e),this.size=Math.floor(this.table.rowManager.getElement().clientHeight/e.offsetHeight),this.table.rowManager.getTableElement().removeChild(e)),this.generatePageSizeSelectList()}initialLoadComplete(){this.initialLoad=!1}remotePageParams(e,t,n,o){return this.initialLoad||(this.progressiveLoad&&!n||!this.progressiveLoad&&!this.dataChanging)&&this.reset(!0),o.page=this.page,this.size&&(o.size=this.size),o}userSetPageToRow(e){return this.table.options.pagination&&(e=this.rowManager.findRow(e))?this.setPageToRow(e):Promise.reject()}userSetPageSize(e){return!!this.table.options.pagination&&(this.setPageSize(e),this.setPage(1))}scrollVertical(e,t){var n;!t&&!this.table.dataLoader.loading&&(n=this.table.rowManager.getElement()).scrollHeight-n.clientHeight-e<(this.table.options.progressiveLoadScrollMargin||2*n.clientHeight)&&this.nextPage().catch(()=>{})}restOnRenderBefore(e,t){return t||"local"===this.mode&&this.reset(),e}rowsUpdated(){this.refreshData(!0,"all")}createElements(){var e;this.element=document.createElement("span"),this.element.classList.add("tabulator-paginator"),this.pagesElement=document.createElement("span"),this.pagesElement.classList.add("tabulator-pages"),(e=document.createElement("button")).classList.add("tabulator-page"),e.setAttribute("type","button"),e.setAttribute("role","button"),e.setAttribute("aria-label",""),e.setAttribute("title",""),this.firstBut=e.cloneNode(!0),this.firstBut.setAttribute("data-page","first"),this.prevBut=e.cloneNode(!0),this.prevBut.setAttribute("data-page","prev"),this.nextBut=e.cloneNode(!0),this.nextBut.setAttribute("data-page","next"),this.lastBut=e.cloneNode(!0),this.lastBut.setAttribute("data-page","last"),this.table.options.paginationSizeSelector&&(this.pageSizeSelect=document.createElement("select"),this.pageSizeSelect.classList.add("tabulator-page-size"))}generatePageSizeSelectList(){var e=[];if(this.pageSizeSelect){if(Array.isArray(this.table.options.paginationSizeSelector))this.pageSizes=e=this.table.options.paginationSizeSelector,-1==this.pageSizes.indexOf(this.size)&&e.unshift(this.size);else if(-1==this.pageSizes.indexOf(this.size)){e=[];for(let t=1;t<5;t++)e.push(this.size*t);this.pageSizes=e}else e=this.pageSizes;for(;this.pageSizeSelect.firstChild;)this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);e.forEach(t=>{var n=document.createElement("option");n.value=t,!0===t?this.langBind("pagination|all",function(o){n.innerHTML=o}):n.innerHTML=t,this.pageSizeSelect.appendChild(n)}),this.pageSizeSelect.value=this.size}}initializePageCounter(){var e=this.table.options.paginationCounter,t=null;e&&((t="function"==typeof e?e:c.pageCounters[e])?(this.pageCounter=t,this.pageCounterElement=document.createElement("span"),this.pageCounterElement.classList.add("tabulator-page-counter")):console.warn("Pagination Error - No such page counter found: ",e))}initializePaginator(e){var t,n;e||(this.langBind("pagination|first",o=>{this.firstBut.innerHTML=o}),this.langBind("pagination|first_title",o=>{this.firstBut.setAttribute("aria-label",o),this.firstBut.setAttribute("title",o)}),this.langBind("pagination|prev",o=>{this.prevBut.innerHTML=o}),this.langBind("pagination|prev_title",o=>{this.prevBut.setAttribute("aria-label",o),this.prevBut.setAttribute("title",o)}),this.langBind("pagination|next",o=>{this.nextBut.innerHTML=o}),this.langBind("pagination|next_title",o=>{this.nextBut.setAttribute("aria-label",o),this.nextBut.setAttribute("title",o)}),this.langBind("pagination|last",o=>{this.lastBut.innerHTML=o}),this.langBind("pagination|last_title",o=>{this.lastBut.setAttribute("aria-label",o),this.lastBut.setAttribute("title",o)}),this.firstBut.addEventListener("click",()=>{this.setPage(1)}),this.prevBut.addEventListener("click",()=>{this.previousPage()}),this.nextBut.addEventListener("click",()=>{this.nextPage()}),this.lastBut.addEventListener("click",()=>{this.setPage(this.max)}),this.table.options.paginationElement&&(this.element=this.table.options.paginationElement),this.pageSizeSelect&&(t=document.createElement("label"),this.langBind("pagination|page_size",o=>{this.pageSizeSelect.setAttribute("aria-label",o),this.pageSizeSelect.setAttribute("title",o),t.innerHTML=o}),this.element.appendChild(t),this.element.appendChild(this.pageSizeSelect),this.pageSizeSelect.addEventListener("change",o=>{this.setPageSize("true"==this.pageSizeSelect.value||this.pageSizeSelect.value),this.setPage(1)})),this.element.appendChild(this.firstBut),this.element.appendChild(this.prevBut),this.element.appendChild(this.pagesElement),this.element.appendChild(this.nextBut),this.element.appendChild(this.lastBut),!this.table.options.paginationElement&&!e&&(this.table.options.paginationCounter&&(this.table.options.paginationCounterElement?this.table.options.paginationCounterElement instanceof HTMLElement?this.table.options.paginationCounterElement.appendChild(this.pageCounterElement):"string"==typeof this.table.options.paginationCounterElement&&((n=document.querySelector(this.table.options.paginationCounterElement))?n.appendChild(this.pageCounterElement):console.warn("Pagination Error - Unable to find element matching paginationCounterElement selector:",this.table.options.paginationCounterElement)):this.table.footerManager.append(this.pageCounterElement)),this.table.footerManager.append(this.element,this)),this.page=this.table.options.paginationInitialPage,this.count=this.table.options.paginationButtonCount),this.mode=this.table.options.paginationMode}initializeProgressive(e){this.initializePaginator(!0),this.mode="progressive_"+e,this.progressiveLoad=!0}trackChanges(){this.dispatch("page-changed")}setDisplayIndex(e){this.displayIndex=e}getDisplayIndex(){return this.displayIndex}setMaxRows(e){this.max=e?!0===this.size?1:Math.ceil(e/this.size):1,this.page>this.max&&(this.page=this.max)}reset(e){this.initialLoad||("local"==this.mode||e)&&(this.page=1)}setMaxPage(e){e=parseInt(e),this.max=e||1,this.page>this.max&&(this.page=this.max,this.trigger())}setPage(e){switch(e){case"first":return this.setPage(1);case"prev":return this.previousPage();case"next":return this.nextPage();case"last":return this.setPage(this.max)}return(e=parseInt(e))>0&&e<=this.max||"local"!==this.mode?(this.page=e,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Requested page is out of range of 1 - "+this.max+":",e),Promise.reject())}setPageToRow(e){var n=this.table.rowManager.getDisplayRows(this.displayIndex-1).indexOf(e);if(n>-1){var o=!0===this.size?1:Math.ceil((n+1)/this.size);return this.setPage(o)}return console.warn("Pagination Error - Requested row is not visible"),Promise.reject()}setPageSize(e){!0!==e&&(e=parseInt(e)),e>0&&(this.size=e),this.pageSizeSelect&&this.generatePageSizeSelectList(),this.trackChanges()}_setPageCounter(e){var t,n;if(this.pageCounter)switch(n=(this.page-1)*this.size+1,"remote"===this.mode&&(e=this.remoteRowCountEstimate),t=this.pageCounter.call(this,this.size,n,this.page,e,this.max),typeof t){case"object":if(t instanceof Node){for(;this.pageCounterElement.firstChild;)this.pageCounterElement.removeChild(this.pageCounterElement.firstChild);this.pageCounterElement.appendChild(t)}else this.pageCounterElement.innerHTML="",null!=t&&console.warn("Page Counter Error - Page Counter has returned a type of object, the only valid page counter object return is an instance of Node, the page counter returned:",t);break;case"undefined":case"null":this.pageCounterElement.innerHTML="";break;default:this.pageCounterElement.innerHTML=t}}_setPageButtons(){let e=Math.floor((this.count-1)/2),t=Math.ceil((this.count-1)/2),n=this.max-this.page+e+1<this.count?this.max-this.count+1:Math.max(this.page-e,1),o=this.page<=t?Math.min(this.count,this.max):Math.min(this.page+t,this.max);for(;this.pagesElement.firstChild;)this.pagesElement.removeChild(this.pagesElement.firstChild);1==this.page?(this.firstBut.disabled=!0,this.prevBut.disabled=!0):(this.firstBut.disabled=!1,this.prevBut.disabled=!1),this.page==this.max?(this.lastBut.disabled=!0,this.nextBut.disabled=!0):(this.lastBut.disabled=!1,this.nextBut.disabled=!1);for(let r=n;r<=o;r++)r>0&&r<=this.max&&this.pagesElement.appendChild(this._generatePageButton(r));this.footerRedraw()}_generatePageButton(e){var t=document.createElement("button");return t.classList.add("tabulator-page"),e==this.page&&t.classList.add("active"),t.setAttribute("type","button"),t.setAttribute("role","button"),this.langBind("pagination|page_title",n=>{t.setAttribute("aria-label",n+" "+e),t.setAttribute("title",n+" "+e)}),t.setAttribute("data-page",e),t.textContent=e,t.addEventListener("click",n=>{this.setPage(e)}),t}previousPage(){return this.page>1?(this.page--,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Previous page would be less than page 1:",0),Promise.reject())}nextPage(){return this.page<this.max?(this.page++,this.trackChanges(),this.trigger()):(this.progressiveLoad||console.warn("Pagination Error - Next page would be greater than maximum page of "+this.max+":",this.max+1),Promise.reject())}getPage(){return this.page}getPageMax(){return this.max}getPageSize(e){return this.size}getMode(){return this.mode}getRows(e){var t,n,o;if("local"==this.mode){t=[],this.setMaxRows(e.length),!0===this.size?(n=0,o=e.length):o=(n=this.size*(this.page-1))+parseInt(this.size),this._setPageButtons();for(let r=n;r<o;r++)e[r]&&t.push(e[r]);return this._setPageCounter(e.length),t}return this._setPageButtons(),this._setPageCounter(e.length),e.slice(0)}trigger(){var e;switch(this.mode){case"local":return e=this.table.rowManager.scrollLeft,this.refreshData(),this.table.rowManager.scrollHorizontal(e),this.dispatchExternal("pageLoaded",this.getPage()),Promise.resolve();case"remote":return this.dataChanging=!0,this.reloadData(null).finally(()=>{this.dataChanging=!1});case"progressive_load":case"progressive_scroll":return this.reloadData(null,!0);default:return console.warn("Pagination Error - no such pagination mode:",this.mode),Promise.reject()}}_parseRemoteData(t){if(void 0===t.last_page&&console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").last_page||"last_page")+"' property"),t.data){if(this.max=parseInt(t.last_page)||1,this.remoteRowCountEstimate=void 0!==t.last_row?t.last_row:t.last_page*this.size-(this.page==t.last_page?this.size-t.data.length:0),this.progressiveLoad){switch(this.mode){case"progressive_load":1==this.page?this.table.rowManager.setData(t.data,!1,1==this.page):this.table.rowManager.addRows(t.data),this.page<this.max&&setTimeout(()=>{this.nextPage()},this.table.options.progressiveLoadDelay);break;case"progressive_scroll":t=1===this.page?t.data:this.table.rowManager.getData().concat(t.data),this.table.rowManager.setData(t,1!==this.page,1==this.page),this.table.rowManager.element.scrollHeight<=this.table.rowManager.element.clientHeight+(this.table.options.progressiveLoadScrollMargin||2*this.table.rowManager.element.clientHeight)&&this.page<this.max&&setTimeout(()=>{this.nextPage()})}return!1}this.dispatchExternal("pageLoaded",this.getPage())}else console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").data||"data")+"' property");return t.data}footerRedraw(){var e=this.table.footerManager.element;Math.ceil(e.clientWidth)-e.scrollWidth<0?this.pagesElement.style.display="none":(this.pagesElement.style.display="",Math.ceil(e.clientWidth)-e.scrollWidth<0&&(this.pagesElement.style.display="none"))}}return c.moduleName="page",c.pageCounters=Ut,c})();var Gt={local:function(c,s){var e=localStorage.getItem(c+"-"+s);return!!e&&JSON.parse(e)},cookie:function(c,s){var o,r,e=document.cookie,t=c+"-"+s,n=e.indexOf(t+"=");return n>-1&&((o=(e=e.slice(n)).indexOf(";"))>-1&&(e=e.slice(0,o)),r=e.replace(t+"=","")),!!r&&JSON.parse(r)}},ii={local:function(c,s,e){localStorage.setItem(c+"-"+s,JSON.stringify(e))},cookie:function(c,s,e){var t=new Date;t.setDate(t.getDate()+1e4),document.cookie=c+"-"+s+"="+JSON.stringify(e)+"; expires="+t.toUTCString()}};let Kt=(()=>{class c extends d{constructor(e){super(e),this.mode="",this.id="",this.defWatcherBlock=!1,this.config={},this.readFunc=!1,this.writeFunc=!1,this.registerTableOption("persistence",!1),this.registerTableOption("persistenceID",""),this.registerTableOption("persistenceMode",!0),this.registerTableOption("persistenceReaderFunc",!1),this.registerTableOption("persistenceWriterFunc",!1)}localStorageTest(){var e="_tabulator_test";try{return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}initialize(){if(this.table.options.persistence){var n,e=this.table.options.persistenceMode,t=this.table.options.persistenceID;this.mode=!0!==e?e:this.localStorageTest()?"local":"cookie",this.table.options.persistenceReaderFunc?"function"==typeof this.table.options.persistenceReaderFunc?this.readFunc=this.table.options.persistenceReaderFunc:c.readers[this.table.options.persistenceReaderFunc]?this.readFunc=c.readers[this.table.options.persistenceReaderFunc]:console.warn("Persistence Read Error - invalid reader set",this.table.options.persistenceReaderFunc):c.readers[this.mode]?this.readFunc=c.readers[this.mode]:console.warn("Persistence Read Error - invalid reader set",this.mode),this.table.options.persistenceWriterFunc?"function"==typeof this.table.options.persistenceWriterFunc?this.writeFunc=this.table.options.persistenceWriterFunc:c.writers[this.table.options.persistenceWriterFunc]?this.writeFunc=c.writers[this.table.options.persistenceWriterFunc]:console.warn("Persistence Write Error - invalid reader set",this.table.options.persistenceWriterFunc):c.writers[this.mode]?this.writeFunc=c.writers[this.mode]:console.warn("Persistence Write Error - invalid writer set",this.mode),this.id="tabulator-"+(t||this.table.element.getAttribute("id")||""),this.config={sort:!0===this.table.options.persistence||this.table.options.persistence.sort,filter:!0===this.table.options.persistence||this.table.options.persistence.filter,group:!0===this.table.options.persistence||this.table.options.persistence.group,page:!0===this.table.options.persistence||this.table.options.persistence.page,columns:!0===this.table.options.persistence?["title","width","visible"]:this.table.options.persistence.columns},this.config.page&&(n=this.retreiveData("page"))&&(void 0!==n.paginationSize&&(!0===this.config.page||this.config.page.size)&&(this.table.options.paginationSize=n.paginationSize),void 0!==n.paginationInitialPage&&(!0===this.config.page||this.config.page.page)&&(this.table.options.paginationInitialPage=n.paginationInitialPage)),this.config.group&&(n=this.retreiveData("group"))&&(void 0!==n.groupBy&&(!0===this.config.group||this.config.group.groupBy)&&(this.table.options.groupBy=n.groupBy),void 0!==n.groupStartOpen&&(!0===this.config.group||this.config.group.groupStartOpen)&&(this.table.options.groupStartOpen=n.groupStartOpen),void 0!==n.groupHeader&&(!0===this.config.group||this.config.group.groupHeader)&&(this.table.options.groupHeader=n.groupHeader)),this.config.columns&&(this.table.options.columns=this.load("columns",this.table.options.columns),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-show",this.save.bind(this,"columns")),this.subscribe("column-hide",this.save.bind(this,"columns")),this.subscribe("column-moved",this.save.bind(this,"columns"))),this.subscribe("table-built",this.tableBuilt.bind(this),0),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("filter-changed",this.eventSave.bind(this,"filter")),this.subscribe("sort-changed",this.eventSave.bind(this,"sort")),this.subscribe("group-changed",this.eventSave.bind(this,"group")),this.subscribe("page-changed",this.eventSave.bind(this,"page")),this.subscribe("column-resized",this.eventSave.bind(this,"columns")),this.subscribe("layout-refreshed",this.eventSave.bind(this,"columns"))}this.registerTableFunction("getColumnLayout",this.getColumnLayout.bind(this)),this.registerTableFunction("setColumnLayout",this.setColumnLayout.bind(this))}eventSave(e){this.config[e]&&this.save(e)}tableBuilt(){var t,n;this.config.sort&&(t=this.load("sort"))&&(this.table.options.initialSort=t),this.config.filter&&(n=this.load("filter"))&&(this.table.options.initialFilter=n)}tableRedraw(e){e&&this.config.columns&&this.save("columns")}getColumnLayout(){return this.parseColumns(this.table.columnManager.getColumns())}setColumnLayout(e){return this.table.columnManager.setColumns(this.mergeDefinition(this.table.options.columns,e)),!0}initializeColumn(e){var t;this.config.columns&&(this.defWatcherBlock=!0,t=e.getDefinition(),(!0===this.config.columns?Object.keys(t):this.config.columns).forEach(o=>{var r=Object.getOwnPropertyDescriptor(t,o),a=t[o];r&&Object.defineProperty(t,o,{set:function(f){a=f,this.defWatcherBlock||this.save("columns"),r.set&&r.set(f)},get:function(){return r.get&&r.get(),a}})}),this.defWatcherBlock=!1)}load(e,t){var n=this.retreiveData(e);return t&&(n=n?this.mergeDefinition(t,n):t),n}retreiveData(e){return!!this.readFunc&&this.readFunc(this.id,e)}mergeDefinition(e,t){var n=[];return(t=t||[]).forEach((o,r)=>{var f,a=this._findColumn(e,o);a&&(!0===this.config.columns||null==this.config.columns?(f=Object.keys(a)).push("width"):f=this.config.columns,f.forEach(y=>{"columns"!==y&&void 0!==o[y]&&(a[y]=o[y])}),a.columns&&(a.columns=this.mergeDefinition(a.columns,o.columns)),n.push(a))}),e.forEach((o,r)=>{this._findColumn(t,o)||(n.length>r?n.splice(r,0,o):n.push(o))}),n}_findColumn(e,t){var n=t.columns?"group":t.field?"field":"object";return e.find(function(o){switch(n){case"group":return o.title===t.title&&o.columns.length===t.columns.length;case"field":return o.field===t.field;case"object":return o===t}})}save(e){var t={};switch(e){case"columns":t=this.parseColumns(this.table.columnManager.getColumns());break;case"filter":t=this.table.modules.filter.getFilters();break;case"sort":t=this.validateSorters(this.table.modules.sort.getSort());break;case"group":t=this.getGroupConfig();break;case"page":t=this.getPageConfig()}this.writeFunc&&this.writeFunc(this.id,e,t)}validateSorters(e){return e.forEach(function(t){t.column=t.field,delete t.field}),e}getGroupConfig(){var e={};return this.config.group&&((!0===this.config.group||this.config.group.groupBy)&&(e.groupBy=this.table.options.groupBy),(!0===this.config.group||this.config.group.groupStartOpen)&&(e.groupStartOpen=this.table.options.groupStartOpen),(!0===this.config.group||this.config.group.groupHeader)&&(e.groupHeader=this.table.options.groupHeader)),e}getPageConfig(){var e={};return this.config.page&&((!0===this.config.page||this.config.page.size)&&(e.paginationSize=this.table.modules.page.getPageSize()),(!0===this.config.page||this.config.page.page)&&(e.paginationInitialPage=this.table.modules.page.getPage())),e}parseColumns(e){var t=[],n=["headerContextMenu","headerMenu","contextMenu","clickMenu"];return e.forEach(o=>{var f,r={},a=o.getDefinition();o.isGroup?(r.title=a.title,r.columns=this.parseColumns(o.getColumns())):(r.field=o.getField(),!0===this.config.columns||null==this.config.columns?(f=Object.keys(a)).push("width"):f=this.config.columns,f.forEach(y=>{switch(y){case"width":r.width=o.getWidth();break;case"visible":r.visible=o.visible;break;default:"function"!=typeof a[y]&&-1===n.indexOf(y)&&(r[y]=a[y])}})),t.push(r)}),t}}return c.moduleName="persistence",c.moduleInitOrder=1,c.readers=Gt,c.writers=ii,c})(),fi=(()=>{class c extends d{constructor(e){super(e),this.element=!1,this.manualBlock=!1,this.registerTableOption("printAsHtml",!1),this.registerTableOption("printFormatter",!1),this.registerTableOption("printHeader",!1),this.registerTableOption("printFooter",!1),this.registerTableOption("printStyled",!0),this.registerTableOption("printRowRange","visible"),this.registerTableOption("printConfig",{}),this.registerColumnOption("print"),this.registerColumnOption("titlePrint")}initialize(){this.table.options.printAsHtml&&(window.addEventListener("beforeprint",this.replaceTable.bind(this)),window.addEventListener("afterprint",this.cleanup.bind(this))),this.registerTableFunction("print",this.printFullscreen.bind(this))}replaceTable(){this.manualBlock||(this.element=document.createElement("div"),this.element.classList.add("tabulator-print-table"),this.element.appendChild(this.table.modules.export.genereateTable(this.table.options.printConfig,this.table.options.printStyled,this.table.options.printRowRange,"print")),this.table.element.style.display="none",this.table.element.parentNode.insertBefore(this.element,this.table.element))}cleanup(){document.body.classList.remove("tabulator-print-fullscreen-hide"),this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.table.element.style.display="")}printFullscreen(e,t,n){var x,P,o=window.scrollX,r=window.scrollY,a=document.createElement("div"),f=document.createElement("div"),y=this.table.modules.export.genereateTable(void 0!==n?n:this.table.options.printConfig,void 0!==t?t:this.table.options.printStyled,e||this.table.options.printRowRange,"print");this.manualBlock=!0,this.element=document.createElement("div"),this.element.classList.add("tabulator-print-fullscreen"),this.table.options.printHeader&&(a.classList.add("tabulator-print-header"),"string"==typeof(x="function"==typeof this.table.options.printHeader?this.table.options.printHeader.call(this.table):this.table.options.printHeader)?a.innerHTML=x:a.appendChild(x),this.element.appendChild(a)),this.element.appendChild(y),this.table.options.printFooter&&(f.classList.add("tabulator-print-footer"),"string"==typeof(P="function"==typeof this.table.options.printFooter?this.table.options.printFooter.call(this.table):this.table.options.printFooter)?f.innerHTML=P:f.appendChild(P),this.element.appendChild(f)),document.body.classList.add("tabulator-print-fullscreen-hide"),document.body.appendChild(this.element),this.table.options.printFormatter&&this.table.options.printFormatter(this.element,y),window.print(),this.cleanup(),window.scrollTo(o,r),this.manualBlock=!1}}return c.moduleName="print",c})(),ni=(()=>{class c extends d{constructor(e){super(e),this.data=!1,this.blocked=!1,this.origFuncs={},this.currentVersion=0,this.registerTableOption("reactiveData",!1)}initialize(){this.table.options.reactiveData&&(this.subscribe("cell-value-save-before",this.block.bind(this)),this.subscribe("cell-value-save-after",this.unblock.bind(this)),this.subscribe("row-data-save-before",this.block.bind(this)),this.subscribe("row-data-save-after",this.unblock.bind(this)),this.subscribe("row-data-init-after",this.watchRow.bind(this)),this.subscribe("data-processing",this.watchData.bind(this)),this.subscribe("table-destroy",this.unwatchData.bind(this)))}watchData(e){var n,t=this;this.currentVersion++,n=this.currentVersion,this.unwatchData(),this.data=e,this.origFuncs.push=e.push,Object.defineProperty(this.data,"push",{enumerable:!1,configurable:!0,value:function(){var o=Array.from(arguments);return!t.blocked&&n===t.currentVersion&&o.forEach(r=>{t.table.rowManager.addRowActual(r,!1)}),t.origFuncs.push.apply(e,arguments)}}),this.origFuncs.unshift=e.unshift,Object.defineProperty(this.data,"unshift",{enumerable:!1,configurable:!0,value:function(){var o=Array.from(arguments);return!t.blocked&&n===t.currentVersion&&o.forEach(r=>{t.table.rowManager.addRowActual(r,!0)}),t.origFuncs.unshift.apply(e,arguments)}}),this.origFuncs.shift=e.shift,Object.defineProperty(this.data,"shift",{enumerable:!1,configurable:!0,value:function(){var o;return!t.blocked&&n===t.currentVersion&&t.data.length&&(o=t.table.rowManager.getRowFromDataObject(t.data[0]))&&o.deleteActual(),t.origFuncs.shift.call(e)}}),this.origFuncs.pop=e.pop,Object.defineProperty(this.data,"pop",{enumerable:!1,configurable:!0,value:function(){var o;return!t.blocked&&n===t.currentVersion&&t.data.length&&(o=t.table.rowManager.getRowFromDataObject(t.data[t.data.length-1]))&&o.deleteActual(),t.origFuncs.pop.call(e)}}),this.origFuncs.splice=e.splice,Object.defineProperty(this.data,"splice",{enumerable:!1,configurable:!0,value:function(){var y,o=Array.from(arguments),r=o[0]<0?e.length+o[0]:o[0],a=o[1],f=!!o[2]&&o.slice(2);if(!t.blocked&&n===t.currentVersion){if(f&&((y=!!e[r]&&t.table.rowManager.getRowFromDataObject(e[r]))?f.forEach(P=>{t.table.rowManager.addRowActual(P,!0,y,!0)}):(f=f.slice().reverse()).forEach(P=>{t.table.rowManager.addRowActual(P,!0,!1,!0)})),0!==a){var x=e.slice(r,void 0===o[1]?o[1]:r+a);x.forEach((P,U)=>{var X=t.table.rowManager.getRowFromDataObject(P);X&&X.deleteActual(U!==x.length-1)})}(f||0!==a)&&t.table.rowManager.reRenderInPosition()}return t.origFuncs.splice.apply(e,arguments)}})}unwatchData(){if(!1!==this.data)for(var e in this.origFuncs)Object.defineProperty(this.data,e,{enumerable:!0,configurable:!0,writable:!0,value:this.origFuncs.key})}watchRow(e){var t=e.getData();for(var n in this.blocked=!0,t)this.watchKey(e,t,n);this.table.options.dataTree&&this.watchTreeChildren(e),this.blocked=!1}watchTreeChildren(e){var t=e.getData()[this.table.options.dataTreeChildField],n={};function o(){this.table.modules.dataTree.initializeRow(e),this.table.modules.dataTree.layoutRow(e),this.table.rowManager.refreshActiveData("tree",!1,!0)}t&&(n.push=t.push,Object.defineProperty(t,"push",{enumerable:!1,configurable:!0,value:()=>{var r=n.push.apply(t,arguments);return o(),r}}),n.unshift=t.unshift,Object.defineProperty(t,"unshift",{enumerable:!1,configurable:!0,value:()=>{var r=n.unshift.apply(t,arguments);return o(),r}}),n.shift=t.shift,Object.defineProperty(t,"shift",{enumerable:!1,configurable:!0,value:()=>{var r=n.shift.call(t);return o(),r}}),n.pop=t.pop,Object.defineProperty(t,"pop",{enumerable:!1,configurable:!0,value:()=>{var r=n.pop.call(t);return o(),r}}),n.splice=t.splice,Object.defineProperty(t,"splice",{enumerable:!1,configurable:!0,value:()=>{var r=n.splice.apply(t,arguments);return o(),r}}))}watchKey(e,t,n){var o=Object.getOwnPropertyDescriptor(t,n),r=t[n],a=this.currentVersion;Object.defineProperty(t,n,{set:f=>{if(r=f,!this.blocked&&a===this.currentVersion){var y={};y[n]=f,e.updateData(y)}o.set&&o.set(f)},get:()=>(o.get&&o.get(),r)})}unwatchRow(e){var t=e.getData();for(var n in t)Object.defineProperty(t,n,{value:t[n]})}block(){this.blocked=!0}unblock(){this.blocked=!1}}return c.moduleName="reactiveData",c})(),si=(()=>{class c extends d{constructor(e){super(e),this.startColumn=!1,this.startX=!1,this.startWidth=!1,this.handle=null,this.prevHandle=null,this.registerColumnOption("resizable",!0)}initialize(){this.subscribe("cell-layout",this.layoutCellHandles.bind(this)),this.subscribe("column-init",this.layoutColumnHeader.bind(this))}layoutCellHandles(e){"row"===e.row.type&&this.initializeColumn("cell",e.column,e.element)}layoutColumnHeader(e){this.initializeColumn("header",e,e.element)}initializeColumn(e,t,n){var o=this,a=t.definition.resizable;if("header"===e&&(t.modules.resize={variableHeight:"textarea"==t.definition.formatter||t.definition.variableHeight}),!0===a||a==e){var f=document.createElement("div");f.className="tabulator-col-resize-handle";var y=document.createElement("div");y.className="tabulator-col-resize-handle prev",f.addEventListener("click",function(U){U.stopPropagation()});var x=function(U){var X=t.getLastColumn();X&&o._checkResizability(X)&&(o.startColumn=t,o._mouseDown(U,X,f))};f.addEventListener("mousedown",x),f.addEventListener("touchstart",x,{passive:!0}),f.addEventListener("dblclick",function(U){var he,X=t.getLastColumn();X&&o._checkResizability(X)&&(he=X.getWidth(),U.stopPropagation(),X.reinitializeWidth(!0),he!==X.getWidth()&&(o.dispatch("column-resized",X),o.table.externalEvents.dispatch("columnResized",X.getComponent())))}),y.addEventListener("click",function(U){U.stopPropagation()});var P=function(U){var X,he,me;(X=t.getFirstColumn())&&(me=(he=o.table.columnManager.findColumnIndex(X))>0&&o.table.columnManager.getColumnByIndex(he-1))&&o._checkResizability(me)&&(o.startColumn=t,o._mouseDown(U,me,y))};y.addEventListener("mousedown",P),y.addEventListener("touchstart",P,{passive:!0}),y.addEventListener("dblclick",function(U){var X,he,me;(X=t.getFirstColumn())&&(me=(he=o.table.columnManager.findColumnIndex(X))>0&&o.table.columnManager.getColumnByIndex(he-1))&&o._checkResizability(me)&&(U.stopPropagation(),me.reinitializeWidth(!0))}),n.appendChild(f),n.appendChild(y)}}_checkResizability(e){return e.definition.resizable}_mouseDown(e,t,n){var o=this;function r(f){t.setWidth(o.table.rtl?o.startWidth-((void 0===f.screenX?f.touches[0].screenX:f.screenX)-o.startX):o.startWidth+((void 0===f.screenX?f.touches[0].screenX:f.screenX)-o.startX)),o.table.columnManager.renderer.rerenderColumns(!0),!o.table.browserSlow&&t.modules.resize&&t.modules.resize.variableHeight&&t.checkCellHeights()}function a(f){o.startColumn.modules.edit&&(o.startColumn.modules.edit.blocked=!1),o.table.browserSlow&&t.modules.resize&&t.modules.resize.variableHeight&&t.checkCellHeights(),document.body.removeEventListener("mouseup",a),document.body.removeEventListener("mousemove",r),n.removeEventListener("touchmove",r),n.removeEventListener("touchend",a),o.table.element.classList.remove("tabulator-block-select"),o.startWidth!==t.getWidth()&&(o.dispatch("column-resized",t),o.table.externalEvents.dispatch("columnResized",t.getComponent()))}o.table.element.classList.add("tabulator-block-select"),e.stopPropagation(),o.startColumn.modules.edit&&(o.startColumn.modules.edit.blocked=!0),o.startX=void 0===e.screenX?e.touches[0].screenX:e.screenX,o.startWidth=t.getWidth(),document.body.addEventListener("mousemove",r),document.body.addEventListener("mouseup",a),n.addEventListener("touchmove",r,{passive:!0}),n.addEventListener("touchend",a)}}return c.moduleName="resizeColumns",c})(),oi=(()=>{class c extends d{constructor(e){super(e),this.startColumn=!1,this.startY=!1,this.startHeight=!1,this.handle=null,this.prevHandle=null,this.registerTableOption("resizableRows",!1)}initialize(){this.table.options.resizableRows&&this.subscribe("row-layout-after",this.initializeRow.bind(this))}initializeRow(e){var t=this,n=e.getElement(),o=document.createElement("div");o.className="tabulator-row-resize-handle";var r=document.createElement("div");r.className="tabulator-row-resize-handle prev",o.addEventListener("click",function(y){y.stopPropagation()});var a=function(y){t.startRow=e,t._mouseDown(y,e,o)};o.addEventListener("mousedown",a),o.addEventListener("touchstart",a,{passive:!0}),r.addEventListener("click",function(y){y.stopPropagation()});var f=function(y){var x=t.table.rowManager.prevDisplayRow(e);x&&(t.startRow=x,t._mouseDown(y,x,r))};r.addEventListener("mousedown",f),r.addEventListener("touchstart",f,{passive:!0}),n.appendChild(o),n.appendChild(r)}_mouseDown(e,t,n){var o=this;function r(f){t.setHeight(o.startHeight+((void 0===f.screenY?f.touches[0].screenY:f.screenY)-o.startY))}function a(f){document.body.removeEventListener("mouseup",r),document.body.removeEventListener("mousemove",r),n.removeEventListener("touchmove",r),n.removeEventListener("touchend",a),o.table.element.classList.remove("tabulator-block-select"),o.dispatchExternal("rowResized",t.getComponent())}o.table.element.classList.add("tabulator-block-select"),e.stopPropagation(),o.startY=void 0===e.screenY?e.touches[0].screenY:e.screenY,o.startHeight=t.getHeight(),document.body.addEventListener("mousemove",r),document.body.addEventListener("mouseup",a),n.addEventListener("touchmove",r,{passive:!0}),n.addEventListener("touchend",a)}}return c.moduleName="resizeRows",c})(),$t=(()=>{class c extends d{constructor(e){super(e),this.binding=!1,this.observer=!1,this.containerObserver=!1,this.tableHeight=0,this.tableWidth=0,this.containerHeight=0,this.containerWidth=0,this.autoResize=!1,this.registerTableOption("autoResize",!0)}initialize(){if(this.table.options.autoResize){var t,e=this.table;this.tableHeight=e.element.clientHeight,this.tableWidth=e.element.clientWidth,e.element.parentNode&&(this.containerHeight=e.element.parentNode.clientHeight,this.containerWidth=e.element.parentNode.clientWidth),"undefined"!=typeof ResizeObserver&&"virtual"===e.rowManager.getRenderMode()?(this.autoResize=!0,this.observer=new ResizeObserver(n=>{if(!e.browserMobile||e.browserMobile&&!e.modules.edit.currentCell){var o=Math.floor(n[0].contentRect.height),r=Math.floor(n[0].contentRect.width);(this.tableHeight!=o||this.tableWidth!=r)&&(this.tableHeight=o,this.tableWidth=r,e.element.parentNode&&(this.containerHeight=e.element.parentNode.clientHeight,this.containerWidth=e.element.parentNode.clientWidth),this.table.columnManager.renderer.rerenderColumns(!0),e.redraw())}}),this.observer.observe(e.element),t=window.getComputedStyle(e.element),this.table.element.parentNode&&!this.table.rowManager.fixedHeight&&(t.getPropertyValue("max-height")||t.getPropertyValue("min-height"))&&(this.containerObserver=new ResizeObserver(n=>{if(!e.browserMobile||e.browserMobile&&!e.modules.edit.currentCell){var o=Math.floor(n[0].contentRect.height),r=Math.floor(n[0].contentRect.width);(this.containerHeight!=o||this.containerWidth!=r)&&(this.containerHeight=o,this.containerWidth=r,this.tableHeight=e.element.clientHeight,this.tableWidth=e.element.clientWidth),e.columnManager.renderer.rerenderColumns(!0),e.redraw()}}),this.containerObserver.observe(this.table.element.parentNode)),this.subscribe("table-resize",this.tableResized.bind(this))):(this.binding=function(){(!e.browserMobile||e.browserMobile&&!e.modules.edit.currentCell)&&(e.columnManager.renderer.rerenderColumns(!0),e.redraw())},window.addEventListener("resize",this.binding)),this.subscribe("table-destroy",this.clearBindings.bind(this))}}tableResized(){this.table.rowManager.redraw()}clearBindings(){this.binding&&window.removeEventListener("resize",this.binding),this.observer&&this.observer.unobserve(this.table.element),this.containerObserver&&this.containerObserver.unobserve(this.table.element.parentNode)}}return c.moduleName="resizeTable",c})(),Zt=(()=>{class c extends d{constructor(e){super(e),this.columns=[],this.hiddenColumns=[],this.mode="",this.index=0,this.collapseFormatter=[],this.collapseStartOpen=!0,this.collapseHandleColumn=!1,this.registerTableOption("responsiveLayout",!1),this.registerTableOption("responsiveLayoutCollapseStartOpen",!0),this.registerTableOption("responsiveLayoutCollapseUseFormatters",!0),this.registerTableOption("responsiveLayoutCollapseFormatter",!1),this.registerColumnOption("responsive")}initialize(){this.table.options.responsiveLayout&&(this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-show",this.updateColumnVisibility.bind(this)),this.subscribe("column-hide",this.updateColumnVisibility.bind(this)),this.subscribe("columns-loaded",this.initializeResponsivity.bind(this)),this.subscribe("column-moved",this.initializeResponsivity.bind(this)),this.subscribe("column-add",this.initializeResponsivity.bind(this)),this.subscribe("column-delete",this.initializeResponsivity.bind(this)),this.subscribe("table-redrawing",this.tableRedraw.bind(this)),"collapse"===this.table.options.responsiveLayout&&(this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout",this.layoutRow.bind(this))))}tableRedraw(e){-1===["fitColumns","fitDataStretch"].indexOf(this.layoutMode())&&(e||this.update())}initializeResponsivity(){var e=[];this.mode=this.table.options.responsiveLayout,this.collapseFormatter=this.table.options.responsiveLayoutCollapseFormatter||this.formatCollapsedData,this.collapseStartOpen=this.table.options.responsiveLayoutCollapseStartOpen,this.hiddenColumns=[],this.table.columnManager.columnsByIndex.forEach((t,n)=>{t.modules.responsive&&t.modules.responsive.order&&t.modules.responsive.visible&&(t.modules.responsive.index=n,e.push(t),!t.visible&&"collapse"===this.mode&&this.hiddenColumns.push(t))}),e=(e=e.reverse()).sort((t,n)=>n.modules.responsive.order-t.modules.responsive.order||n.modules.responsive.index-t.modules.responsive.index),this.columns=e,"collapse"===this.mode&&this.generateCollapsedContent();for(let t of this.table.columnManager.columnsByIndex)if("responsiveCollapse"==t.definition.formatter){this.collapseHandleColumn=t;break}this.collapseHandleColumn&&(this.hiddenColumns.length?this.collapseHandleColumn.show():this.collapseHandleColumn.hide())}initializeColumn(e){var t=e.getDefinition();e.modules.responsive={order:void 0===t.responsive?1:t.responsive,visible:!1!==t.visible}}initializeRow(e){var t;"calc"!==e.type&&((t=document.createElement("div")).classList.add("tabulator-responsive-collapse"),e.modules.responsiveLayout={element:t,open:this.collapseStartOpen},this.collapseStartOpen||(t.style.display="none"))}layoutRow(e){var t=e.getElement();e.modules.responsiveLayout&&(t.appendChild(e.modules.responsiveLayout.element),this.generateCollapsedRowContent(e))}updateColumnVisibility(e,t){!t&&e.modules.responsive&&(e.modules.responsive.visible=e.visible,this.initializeResponsivity())}hideColumn(e){var t=this.hiddenColumns.length;e.hide(!1,!0),"collapse"===this.mode&&(this.hiddenColumns.unshift(e),this.generateCollapsedContent(),this.collapseHandleColumn&&!t&&this.collapseHandleColumn.show())}showColumn(e){var t;e.show(!1,!0),e.setWidth(e.getWidth()),"collapse"===this.mode&&((t=this.hiddenColumns.indexOf(e))>-1&&this.hiddenColumns.splice(t,1),this.generateCollapsedContent(),this.collapseHandleColumn&&!this.hiddenColumns.length&&this.collapseHandleColumn.hide())}update(){for(var e=this,t=!0;t;){let n="fitColumns"==e.table.modules.layout.getMode()?e.table.columnManager.getFlexBaseWidth():e.table.columnManager.getWidth(),o=(e.table.options.headerVisible?e.table.columnManager.element.clientWidth:e.table.element.clientWidth)-n;if(o<0){let r=e.columns[e.index];r?(e.hideColumn(r),e.index++):t=!1}else{let r=e.columns[e.index-1];r&&o>0&&o>=r.getWidth()?(e.showColumn(r),e.index--):t=!1}e.table.rowManager.activeRowsCount||e.table.rowManager.renderEmptyScroll()}}generateCollapsedContent(){var e=this;this.table.rowManager.getDisplayRows().forEach(function(n){e.generateCollapsedRowContent(n)})}generateCollapsedRowContent(e){var t,n;if(e.modules.responsiveLayout){for(t=e.modules.responsiveLayout.element;t.firstChild;)t.removeChild(t.firstChild);(n=this.collapseFormatter(this.generateCollapsedRowData(e)))&&t.appendChild(n)}}generateCollapsedRowData(e){var r,t=this,n=e.getData(),o=[];return this.hiddenColumns.forEach(function(a){var f=a.getFieldValue(n);if(a.definition.title&&a.field)if(a.modules.format&&t.table.options.responsiveLayoutCollapseUseFormatters){r={value:!1,data:{},getValue:function(){return f},getData:function(){return n},getElement:function(){return document.createElement("div")},getRow:function(){return e.getComponent()},getColumn:function(){return a.getComponent()}},o.push({field:a.field,title:a.definition.title,value:a.modules.format.formatter.call(t.table.modules.format,r,a.modules.format.params,function(P){P()})})}else o.push({field:a.field,title:a.definition.title,value:f})}),o}formatCollapsedData(e){var t=document.createElement("table");return e.forEach(function(n){var f,o=document.createElement("tr"),r=document.createElement("td"),a=document.createElement("td"),y=document.createElement("strong");r.appendChild(y),this.langBind("columns|"+n.field,function(x){y.innerHTML=x||n.title}),n.value instanceof Node?((f=document.createElement("div")).appendChild(n.value),a.appendChild(f)):a.innerHTML=n.value,o.appendChild(r),o.appendChild(a),t.appendChild(o)},this),Object.keys(e).length?t:""}}return c.moduleName="responsiveLayout",c})();function Ft(c,s,e,t,n,o,r){var a=window.DateTime||luxon.DateTime,f=r.format||"dd/MM/yyyy HH:mm:ss",y=r.alignEmptyValues,x=0;if(void 0!==a){if(c="iso"===f?a.fromISO(String(c)):a.fromFormat(String(c),f),s="iso"===f?a.fromISO(String(s)):a.fromFormat(String(s),f),c.isValid){if(s.isValid)return c-s;x=1}else x=s.isValid?-1:0;return("top"===y&&"desc"===o||"bottom"===y&&"asc"===o)&&(x*=-1),x}console.error("Sort Error - 'datetime' sorter is dependant on luxon.js")}var _i={number:function mi(c,s,e,t,n,o,r){var a=r.alignEmptyValues,f=r.decimalSeparator,y=r.thousandSeparator,x=0;if(c=String(c),s=String(s),y&&(c=c.split(y).join(""),s=s.split(y).join("")),f&&(c=c.split(f).join("."),s=s.split(f).join(".")),c=parseFloat(c),s=parseFloat(s),isNaN(c))x=isNaN(s)?0:-1;else{if(!isNaN(s))return c-s;x=1}return("top"===a&&"desc"===o||"bottom"===a&&"asc"===o)&&(x*=-1),x},string:function pi(c,s,e,t,n,o,r){var y,a=r.alignEmptyValues,f=0;if(c){if(s){switch(typeof r.locale){case"boolean":r.locale&&(y=this.langLocale());break;case"string":y=r.locale}return String(c).toLowerCase().localeCompare(String(s).toLowerCase(),y)}f=1}else f=s?-1:0;return("top"===a&&"desc"===o||"bottom"===a&&"asc"===o)&&(f*=-1),f},date:function Yt(c,s,e,t,n,o,r){return r.format||(r.format="dd/MM/yyyy"),Ft.call(this,c,s,e,t,n,o,r)},time:function ri(c,s,e,t,n,o,r){return r.format||(r.format="HH:mm"),Ft.call(this,c,s,e,t,n,o,r)},datetime:Ft,boolean:function Ri(c,s,e,t,n,o,r){return(!0===c||"true"===c||"True"===c||1===c?1:0)-(!0===s||"true"===s||"True"===s||1===s?1:0)},array:function Oi(c,s,e,t,n,o,r){var y=r.type||"length",x=r.alignEmptyValues,P=0;function U(X){switch(y){case"length":return X.length;case"sum":return X.reduce(function(he,me){return he+me});case"max":return Math.max.apply(null,X);case"min":return Math.min.apply(null,X);case"avg":return X.reduce(function(he,me){return he+me})/X.length}}if(Array.isArray(c)){if(Array.isArray(s))return(c?U(c):0)-(s?U(s):0);x=1}else x=Array.isArray(s)?-1:0;return("top"===x&&"desc"===o||"bottom"===x&&"asc"===o)&&(P*=-1),P},exists:function ki(c,s,e,t,n,o,r){return(void 0===c?0:1)-(void 0===s?0:1)},alphanum:function gi(c,s,e,t,n,o,r){var a,f,y,x,U,P=0,X=/(\d+)|(\D+)/g,he=/\d/,me=r.alignEmptyValues,be=0;if(c||0===c){if(s||0===s){if(isFinite(c)&&isFinite(s))return c-s;if((a=String(c).toLowerCase())===(f=String(s).toLowerCase()))return 0;if(!he.test(a)||!he.test(f))return a>f?1:-1;for(a=a.match(X),f=f.match(X),U=a.length>f.length?f.length:a.length;P<U;)if((y=a[P])!==(x=f[P++]))return isFinite(y)&&isFinite(x)?("0"===y.charAt(0)&&(y="."+y),"0"===x.charAt(0)&&(x="."+x),y-x):y>x?1:-1;return a.length>f.length}be=1}else be=s||0===s?-1:0;return("top"===me&&"desc"===o||"bottom"===me&&"asc"===o)&&(be*=-1),be}},Xt={integer:function(c,s,e){return""===s||null==s||"number"==typeof(s=Number(s))&&isFinite(s)&&Math.floor(s)===s},float:function(c,s,e){return""===s||null==s||"number"==typeof(s=Number(s))&&isFinite(s)&&s%1!=0},numeric:function(c,s,e){return""===s||null==s||!isNaN(s)},string:function(c,s,e){return""===s||null==s||isNaN(s)},max:function(c,s,e){return""===s||null==s||parseFloat(s)<=e},min:function(c,s,e){return""===s||null==s||parseFloat(s)>=e},starts:function(c,s,e){return""===s||null==s||String(s).toLowerCase().startsWith(String(e).toLowerCase())},ends:function(c,s,e){return""===s||null==s||String(s).toLowerCase().endsWith(String(e).toLowerCase())},minLength:function(c,s,e){return""===s||null==s||String(s).length>=e},maxLength:function(c,s,e){return""===s||null==s||String(s).length<=e},in:function(c,s,e){return""===s||null==s||("string"==typeof e&&(e=e.split("|")),""===s||e.indexOf(s)>-1)},regex:function(c,s,e){return""===s||null==s||new RegExp(e).test(s)},unique:function(c,s,e){if(""===s||null==s)return!0;var t=!0,n=c.getData(),o=c.getColumn()._getSelf();return this.table.rowManager.rows.forEach(function(r){var a=r.getData();a!==n&&s==o.getFieldValue(a)&&(t=!1)}),t},required:function(c,s,e){return""!==s&&null!=s}},bi=Object.freeze({__proto__:null,AccessorModule:I,AjaxModule:R,ClipboardModule:B,ColumnCalcsModule:Pe,DataTreeModule:ee,DownloadModule:q,EditModule:ke,ExportModule:He,FilterModule:nt,FormatModule:K,FrozenColumnsModule:ne,FrozenRowsModule:Ce,GroupRowsModule:st,HistoryModule:wt,HtmlTableImportModule:Dt,ImportModule:g,InteractionModule:b,KeybindingsModule:J,MenuModule:De,MoveColumnsModule:je,MoveRowsModule:it,MutatorModule:Lt,PageModule:ti,PersistenceModule:Kt,PrintModule:fi,ReactiveDataModule:ni,ResizeColumnsModule:si,ResizeRowsModule:oi,ResizeTableModule:$t,ResponsiveLayoutModule:Zt,SelectRowModule:(()=>{class c extends d{constructor(e){super(e),this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],this.headerCheckboxElement=null,this.registerTableOption("selectable","highlight"),this.registerTableOption("selectableRangeMode","drag"),this.registerTableOption("selectableRollingSelection",!0),this.registerTableOption("selectablePersistence",!0),this.registerTableOption("selectableCheck",function(t,n){return!0}),this.registerTableFunction("selectRow",this.selectRows.bind(this)),this.registerTableFunction("deselectRow",this.deselectRows.bind(this)),this.registerTableFunction("toggleSelectRow",this.toggleRow.bind(this)),this.registerTableFunction("getSelectedRows",this.getSelectedRows.bind(this)),this.registerTableFunction("getSelectedData",this.getSelectedData.bind(this)),this.registerComponentFunction("row","select",this.selectRows.bind(this)),this.registerComponentFunction("row","deselect",this.deselectRows.bind(this)),this.registerComponentFunction("row","toggleSelect",this.toggleRow.bind(this)),this.registerComponentFunction("row","isSelected",this.isRowSelected.bind(this))}initialize(){!1!==this.table.options.selectable&&(this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-deleting",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clearSelectionData.bind(this)),this.subscribe("rows-retrieve",this.rowRetrieve.bind(this)),this.table.options.selectable&&!this.table.options.selectablePersistence&&this.subscribe("data-refreshing",this.deselectRows.bind(this)))}rowRetrieve(e,t){return"selected"===e?this.selectedRows:t}rowDeleted(e){this._deselectRow(e,!0)}clearSelectionData(e){this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],!0!==e&&this._rowSelectionChanged()}initializeRow(e){var t=this,n=e.getElement(),o=function(){setTimeout(function(){t.selecting=!1},50),document.body.removeEventListener("mouseup",o)};e.modules.select={selected:!1},t.table.options.selectableCheck.call(this.table,e.getComponent())?(n.classList.add("tabulator-selectable"),n.classList.remove("tabulator-unselectable"),t.table.options.selectable&&"highlight"!=t.table.options.selectable&&("click"===t.table.options.selectableRangeMode?n.addEventListener("click",this.handleComplexRowClick.bind(this,e)):(n.addEventListener("click",function(r){(!t.table.modExists("edit")||!t.table.modules.edit.getCurrentCell())&&t.table._clearSelection(),t.selecting||t.toggleRow(e)}),n.addEventListener("mousedown",function(r){if(r.shiftKey)return t.table._clearSelection(),t.selecting=!0,t.selectPrev=[],document.body.addEventListener("mouseup",o),document.body.addEventListener("keyup",o),t.toggleRow(e),!1}),n.addEventListener("mouseenter",function(r){t.selecting&&(t.table._clearSelection(),t.toggleRow(e),t.selectPrev[1]==e&&t.toggleRow(t.selectPrev[0]))}),n.addEventListener("mouseout",function(r){t.selecting&&(t.table._clearSelection(),t.selectPrev.unshift(e))})))):(n.classList.add("tabulator-unselectable"),n.classList.remove("tabulator-selectable"))}handleComplexRowClick(e,t){if(t.shiftKey){this.table._clearSelection(),this.lastClickedRow=this.lastClickedRow||e;var n=this.table.rowManager.getDisplayRowIndex(this.lastClickedRow),o=this.table.rowManager.getDisplayRowIndex(e),r=n<=o?n:o,a=n>=o?n:o,y=this.table.rowManager.getDisplayRows().slice(0).splice(r,a-r+1);t.ctrlKey||t.metaKey?(y.forEach(x=>{x!==this.lastClickedRow&&(!0===this.table.options.selectable||this.isRowSelected(e)||this.selectedRows.length<this.table.options.selectable)&&this.toggleRow(x)}),this.lastClickedRow=e):(this.deselectRows(void 0,!0),!0!==this.table.options.selectable&&y.length>this.table.options.selectable&&(y=y.slice(0,this.table.options.selectable)),this.selectRows(y)),this.table._clearSelection()}else t.ctrlKey||t.metaKey?(this.toggleRow(e),this.lastClickedRow=e):(this.deselectRows(void 0,!0),this.selectRows(e),this.lastClickedRow=e)}toggleRow(e){this.table.options.selectableCheck.call(this.table,e.getComponent())&&(e.modules.select&&e.modules.select.selected?this._deselectRow(e):this._selectRow(e))}selectRows(e){var t;switch(typeof e){case"undefined":this.table.rowManager.rows.forEach(n=>{this._selectRow(n,!0,!0)}),this._rowSelectionChanged();break;case"string":(t=this.table.rowManager.findRow(e))?this._selectRow(t,!0,!0):this.table.rowManager.getRows(e).forEach(n=>{this._selectRow(n,!0,!0)}),this._rowSelectionChanged();break;default:Array.isArray(e)?(e.forEach(n=>{this._selectRow(n,!0,!0)}),this._rowSelectionChanged()):this._selectRow(e,!1,!0)}}_selectRow(e,t,n){if(!isNaN(this.table.options.selectable)&&!0!==this.table.options.selectable&&!n&&this.selectedRows.length>=this.table.options.selectable){if(!this.table.options.selectableRollingSelection)return!1;this._deselectRow(this.selectedRows[0])}var o=this.table.rowManager.findRow(e);o?-1==this.selectedRows.indexOf(o)&&(o.getElement().classList.add("tabulator-selected"),o.modules.select||(o.modules.select={}),o.modules.select.selected=!0,o.modules.select.checkboxEl&&(o.modules.select.checkboxEl.checked=!0),this.selectedRows.push(o),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(o,!0),this.dispatchExternal("rowSelected",o.getComponent()),this._rowSelectionChanged(t)):t||console.warn("Selection Error - No such row found, ignoring selection:"+e)}isRowSelected(e){return-1!==this.selectedRows.indexOf(e)}deselectRows(e,t){var o,n=this;if(void 0===e){o=n.selectedRows.length;for(let r=0;r<o;r++)n._deselectRow(n.selectedRows[0],!0);n._rowSelectionChanged(t)}else Array.isArray(e)?(e.forEach(function(r){n._deselectRow(r,!0)}),n._rowSelectionChanged(t)):n._deselectRow(e,t)}_deselectRow(e,t){var r,n=this,o=n.table.rowManager.findRow(e);o?(r=n.selectedRows.findIndex(function(a){return a==o}))>-1&&(o.getElement().classList.remove("tabulator-selected"),o.modules.select||(o.modules.select={}),o.modules.select.selected=!1,o.modules.select.checkboxEl&&(o.modules.select.checkboxEl.checked=!1),n.selectedRows.splice(r,1),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(o,!1),this.dispatchExternal("rowDeselected",o.getComponent()),n._rowSelectionChanged(t)):t||console.warn("Deselection Error - No such row found, ignoring selection:"+e)}getSelectedData(){var e=[];return this.selectedRows.forEach(function(t){e.push(t.getData())}),e}getSelectedRows(){var e=[];return this.selectedRows.forEach(function(t){e.push(t.getComponent())}),e}_rowSelectionChanged(e){this.headerCheckboxElement&&(0===this.selectedRows.length?(this.headerCheckboxElement.checked=!1,this.headerCheckboxElement.indeterminate=!1):this.table.rowManager.rows.length===this.selectedRows.length?(this.headerCheckboxElement.checked=!0,this.headerCheckboxElement.indeterminate=!1):(this.headerCheckboxElement.indeterminate=!0,this.headerCheckboxElement.checked=!1)),e||this.dispatchExternal("rowSelectionChanged",this.getSelectedData(),this.getSelectedRows())}registerRowSelectCheckbox(e,t){e._row.modules.select||(e._row.modules.select={}),e._row.modules.select.checkboxEl=t}registerHeaderSelectCheckbox(e){this.headerCheckboxElement=e}childRowSelection(e,t){var n=this.table.modules.dataTree.getChildren(e,!0);if(t)for(let o of n)this._selectRow(o,!0);else for(let o of n)this._deselectRow(o,!0)}}return c.moduleName="selectRow",c})(),SortModule:(()=>{class c extends d{constructor(e){super(e),this.sortList=[],this.changed=!1,this.registerTableOption("sortMode","local"),this.registerTableOption("initialSort",!1),this.registerTableOption("columnHeaderSortMulti",!0),this.registerTableOption("sortOrderReverse",!1),this.registerTableOption("headerSortElement","<div class='tabulator-arrow'></div>"),this.registerColumnOption("sorter"),this.registerColumnOption("sorterParams"),this.registerColumnOption("headerSort",!0),this.registerColumnOption("headerSortStartingDir"),this.registerColumnOption("headerSortTristate")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.registerDataHandler(this.sort.bind(this),20),this.registerTableFunction("setSort",this.userSetSort.bind(this)),this.registerTableFunction("getSorters",this.getSort.bind(this)),this.registerTableFunction("clearSort",this.clearSort.bind(this)),"remote"===this.table.options.sortMode&&this.subscribe("data-params",this.remoteSortParams.bind(this))}tableBuilt(){this.table.options.initialSort&&this.setSort(this.table.options.initialSort)}remoteSortParams(e,t,n,o){var r=this.getSort();return r.forEach(a=>{delete a.column}),o.sort=r,o}userSetSort(e,t){this.setSort(e,t),this.refreshSort()}clearSort(){this.clear(),this.refreshSort()}initializeColumn(e){var n,o,t=!1;switch(typeof e.definition.sorter){case"string":c.sorters[e.definition.sorter]?t=c.sorters[e.definition.sorter]:console.warn("Sort Error - No such sorter found: ",e.definition.sorter);break;case"function":t=e.definition.sorter}e.modules.sort={sorter:t,dir:"none",params:e.definition.sorterParams||{},startingDir:e.definition.headerSortStartingDir||"asc",tristate:e.definition.headerSortTristate},!1!==e.definition.headerSort&&((n=e.getElement()).classList.add("tabulator-sortable"),(o=document.createElement("div")).classList.add("tabulator-col-sorter"),"object"==typeof this.table.options.headerSortElement?o.appendChild(this.table.options.headerSortElement):o.innerHTML=this.table.options.headerSortElement,e.titleHolderElement.appendChild(o),e.modules.sort.element=o,n.addEventListener("click",r=>{var a="",f=[],y=!1;if(e.modules.sort){if(e.modules.sort.tristate)a="none"==e.modules.sort.dir?e.modules.sort.startingDir:e.modules.sort.dir==e.modules.sort.startingDir?"asc"==e.modules.sort.dir?"desc":"asc":"none";else switch(e.modules.sort.dir){case"asc":a="desc";break;case"desc":a="asc";break;default:a=e.modules.sort.startingDir}this.table.options.columnHeaderSortMulti&&(r.shiftKey||r.ctrlKey)?((y=(f=this.getSort()).findIndex(x=>x.field===e.getField()))>-1?(f[y].dir=a,y!=f.length-1&&(y=f.splice(y,1)[0],"none"!=a&&f.push(y))):"none"!=a&&f.push({column:e,dir:a}),this.setSort(f)):"none"==a?this.clear():this.setSort(e,a),this.refreshSort()}}))}refreshSort(){"remote"===this.table.options.sortMode?this.reloadData():this.refreshData(!0)}hasChanged(){var e=this.changed;return this.changed=!1,e}getSort(){var t=[];return this.sortList.forEach(function(n){n.column&&t.push({column:n.column.getComponent(),field:n.column.getField(),dir:n.dir})}),t}setSort(e,t){var n=this,o=[];Array.isArray(e)||(e=[{column:e,dir:t}]),e.forEach(function(r){var a;(a=n.table.columnManager.findColumn(r.column))?(r.column=a,o.push(r),n.changed=!0):console.warn("Sort Warning - Sort field does not exist and is being ignored: ",r.column)}),n.sortList=o,this.dispatch("sort-changed")}clear(){this.setSort([])}findSorter(e){var r,t=this.table.rowManager.activeRows[0],n="string";if(t&&(t=t.getData(),e.getField()))switch(r=e.getFieldValue(t),typeof r){case"undefined":n="string";break;case"boolean":n="boolean";break;default:isNaN(r)||""===r?r.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)&&(n="alphanum"):n="number"}return c.sorters[n]}sort(e){var t=this,n=this.table.options.sortOrderReverse?t.sortList.slice().reverse():t.sortList,o=[],r=[];return this.subscribedExternal("dataSorting")&&this.dispatchExternal("dataSorting",t.getSort()),t.clearColumnHeaders(),"remote"!==this.table.options.sortMode?(n.forEach(function(a,f){var y=a.column.modules.sort;a.column&&y&&(y.sorter||(y.sorter=t.findSorter(a.column)),a.params="function"==typeof y.params?y.params(a.column.getComponent(),a.dir):y.params,o.push(a)),t.setColumnHeader(a.column,a.dir)}),o.length&&t._sortItems(e,o)):n.forEach(function(a,f){t.setColumnHeader(a.column,a.dir)}),this.subscribedExternal("dataSorted")&&(e.forEach(a=>{r.push(a.getComponent())}),this.dispatchExternal("dataSorted",t.getSort(),r)),e}clearColumnHeaders(){this.table.columnManager.getRealColumns().forEach(function(e){e.modules.sort&&(e.modules.sort.dir="none",e.getElement().setAttribute("aria-sort","none"))})}setColumnHeader(e,t){e.modules.sort.dir=t,e.getElement().setAttribute("aria-sort",t)}_sortItems(e,t){var n=t.length-1;e.sort((o,r)=>{for(var a,f=n;f>=0;f--){let y=t[f];if(0!==(a=this._sortRow(o,r,y.column,y.dir,y.params)))break}return a})}_sortRow(e,t,n,o,r){var a,f,y="asc"==o?e:t,x="asc"==o?t:e;return e=void 0!==(e=n.getFieldValue(y.getData()))?e:"",t=void 0!==(t=n.getFieldValue(x.getData()))?t:"",a=y.getComponent(),f=x.getComponent(),n.modules.sort.sorter.call(this,e,t,a,f,n.getComponent(),o,r)}}return c.moduleName="sort",c.sorters=_i,c})(),ValidateModule:(()=>{class c extends d{constructor(e){super(e),this.invalidCells=[],this.registerTableOption("validationMode","blocking"),this.registerColumnOption("validator"),this.registerTableFunction("getInvalidCells",this.getInvalidCells.bind(this)),this.registerTableFunction("clearCellValidation",this.userClearCellValidation.bind(this)),this.registerTableFunction("validate",this.userValidate.bind(this)),this.registerComponentFunction("cell","isValid",this.cellIsValid.bind(this)),this.registerComponentFunction("cell","clearValidation",this.clearValidation.bind(this)),this.registerComponentFunction("cell","validate",this.cellValidate.bind(this)),this.registerComponentFunction("column","validate",this.columnValidate.bind(this)),this.registerComponentFunction("row","validate",this.rowValidate.bind(this))}initialize(){this.subscribe("cell-delete",this.clearValidation.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this))}cellIsValid(e){return!e.modules.validate||!e.modules.validate.invalid}cellValidate(e){return this.validate(e.column.modules.validate,e,e.getValue())}columnValidate(e){var t=[];return e.cells.forEach(n=>{this.cellValidate(n)||t.push(n.getComponent())}),!t.length||t}rowValidate(e){var t=[];return e.cells.forEach(n=>{this.cellValidate(n)||t.push(n.getComponent())}),!t.length||t}userClearCellValidation(e){e||(e=this.getInvalidCells()),Array.isArray(e)||(e=[e]),e.forEach(t=>{this.clearValidation(t._getSelf())})}userValidate(e){var t=[];return this.table.rowManager.rows.forEach(n=>{var o=(n=n.getComponent()).validate();!0!==o&&(t=t.concat(o))}),!t.length||t}initializeColumnCheck(e){void 0!==e.definition.validator&&this.initializeColumn(e)}initializeColumn(e){var o,t=this,n=[];e.definition.validator&&(Array.isArray(e.definition.validator)?e.definition.validator.forEach(r=>{(o=t._extractValidator(r))&&n.push(o)}):(o=this._extractValidator(e.definition.validator))&&n.push(o),e.modules.validate=!!n.length&&n)}_extractValidator(e){var t,n,o;switch(typeof e){case"string":return(o=e.indexOf(":"))>-1?(t=e.substring(0,o),n=e.substring(o+1)):t=e,this._buildValidator(t,n);case"function":return this._buildValidator(e);case"object":return this._buildValidator(e.type,e.parameters)}}_buildValidator(e,t){var n="function"==typeof e?e:c.validators[e];return n?{type:"function"==typeof e?"function":e,func:n,params:t}:(console.warn("Validator Setup Error - No matching validator found:",e),!1)}validate(e,t,n){var o=this,r=[],a=this.invalidCells.indexOf(t);return e&&e.forEach(f=>{f.func.call(o,t.getComponent(),n,f.params)||r.push({type:f.type,parameters:f.params})}),r=!r.length||r,t.modules.validate||(t.modules.validate={}),!0===r?(t.modules.validate.invalid=!1,t.getElement().classList.remove("tabulator-validation-fail"),a>-1&&this.invalidCells.splice(a,1)):(t.modules.validate.invalid=!0,"manual"!==this.table.options.validationMode&&t.getElement().classList.add("tabulator-validation-fail"),-1==a&&this.invalidCells.push(t)),r}getInvalidCells(){var e=[];return this.invalidCells.forEach(t=>{e.push(t.getComponent())}),e}clearValidation(e){var t;e.modules.validate&&e.modules.validate.invalid&&(e.getElement().classList.remove("tabulator-validation-fail"),e.modules.validate.invalid=!1,(t=this.invalidCells.indexOf(e))>-1&&this.invalidCells.splice(t,1))}}return c.moduleName="validate",c.validators=Xt,c})()}),vi={debugEventsExternal:!1,debugEventsInternal:!1,debugInvalidOptions:!0,height:!1,minHeight:!1,maxHeight:!1,columnHeaderVertAlign:"top",columns:[],columnDefaults:{},data:!1,autoColumns:!1,autoColumnsDefinitions:!1,nestedFieldSeparator:".",tooltipGenerationMode:"load",footerElement:!1,index:"id",textDirection:"auto",addRowPos:"bottom",headerVisible:!0,renderVertical:"virtual",renderHorizontal:"basic",renderVerticalBuffer:0,scrollToRowPosition:"top",scrollToRowIfVisible:!0,scrollToColumnPosition:"left",scrollToColumnIfVisible:!0,rowFormatter:!1,rowFormatterPrint:null,rowFormatterClipboard:null,rowFormatterHtmlOutput:null,placeholder:!1,dataLoader:!0,dataLoaderLoading:!1,dataLoaderError:!1,dataLoaderErrorTimeout:3e3,dataSendParams:{},dataReceiveParams:{}};class yi{constructor(s,e,t={}){this.table=s,this.msgType=e,this.registeredDefaults=Object.assign({},t)}register(s,e){this.registeredDefaults[s]=e}generate(s,e={}){var t=Object.assign({},this.registeredDefaults);if(Object.assign(t,s),!1!==e.debugInvalidOptions||this.table.options.debugInvalidOptions)for(var n in e)t.hasOwnProperty(n)||console.warn("Invalid "+this.msgType+" option:",n);for(var n in t)n in e?t[n]=e[n]:Array.isArray(t[n])?t[n]=Object.assign([],t[n]):"object"==typeof t[n]&&null!==t[n]?t[n]=Object.assign({},t[n]):void 0===t[n]&&delete t[n];return t}}class Wt extends l{constructor(s){super(s),this.elementVertical=s.rowManager.element,this.elementHorizontal=s.columnManager.element,this.tableElement=s.rowManager.tableElement,this.verticalFillMode="fit"}initialize(){}clearRows(){}clearColumns(){}reinitializeColumnWidths(s){}renderRows(){}renderColumns(){}rerenderRows(s){s&&s()}rerenderColumns(s,e){}renderRowCells(s){}rerenderRowCells(s,e){}scrollColumns(s,e){}scrollRows(s,e){}resize(){}scrollToRow(s){}scrollToRowNearestTop(s){}visibleRows(s){return[]}rows(){return this.table.rowManager.getDisplayRows()}styleRow(s,e){var t=s.getElement();e%2?(t.classList.add("tabulator-row-even"),t.classList.remove("tabulator-row-odd")):(t.classList.add("tabulator-row-odd"),t.classList.remove("tabulator-row-even"))}clear(){this.clearRows(),this.clearColumns()}render(){this.renderRows(),this.renderColumns()}rerender(s){this.rerenderRows(),this.rerenderColumns()}scrollToRowPosition(s,e,t){var n=this.rows().indexOf(s),o=s.getElement(),r=0;return new Promise((a,f)=>{if(n>-1){if(void 0===t&&(t=this.table.options.scrollToRowIfVisible),!t&&L.elVisible(o)&&(r=L.elOffset(o).top-L.elOffset(this.elementVertical).top)>0&&r<this.elementVertical.clientHeight-o.offsetHeight)return a(),!1;switch(void 0===e&&(e=this.table.options.scrollToRowPosition),"nearest"===e&&(e=this.scrollToRowNearestTop(s)?"top":"bottom"),this.scrollToRow(s),e){case"middle":case"center":this.elementVertical.scrollTop=this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop+(o.offsetTop-this.elementVertical.scrollTop)-(this.elementVertical.scrollHeight-o.offsetTop)/2:this.elementVertical.scrollTop-this.elementVertical.clientHeight/2;break;case"bottom":this.elementVertical.scrollTop=this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop-(this.elementVertical.scrollHeight-o.offsetTop)+o.offsetHeight:this.elementVertical.scrollTop-this.elementVertical.clientHeight+o.offsetHeight}a()}else console.warn("Scroll Error - Row not visible"),f("Scroll Error - Row not visible")})}}class Ai extends Wt{constructor(s){super(s)}renderRowCells(s){s.cells.forEach(e=>{s.element.appendChild(e.getElement()),e.cellRendered()})}reinitializeColumnWidths(s){s.forEach(function(e){e.reinitializeWidth()})}}class Hi extends Wt{constructor(s){super(s),this.leftCol=0,this.rightCol=0,this.scrollLeft=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0,this.fitDataColAvg=0,this.window=200,this.initialized=!1,this.columns=[]}initialize(){this.compatibilityCheck()}compatibilityCheck(){var s=this.options("columns"),t=!0;return"fitDataTable"==this.options("layout")&&(console.warn("Horizontal Virtual DOM is not compatible with fitDataTable layout mode"),t=!1),this.options("responsiveLayout")&&(console.warn("Horizontal Virtual DOM is not compatible with responsive columns"),t=!1),this.options("rtl")&&(console.warn("Horizontal Virtual DOM is not currently compatible with RTL text direction"),t=!1),s&&s.find(n=>n.frozen)&&(console.warn("Horizontal Virtual DOM is not compatible with frozen columns"),t=!1),t}renderColumns(s,e){this.dataChange()}scrollColumns(s,e){this.scrollLeft!=s&&(this.scrollLeft=s,this.scroll(s-(this.vDomScrollPosLeft+this.window)))}rerenderColumns(s,e){var t={cols:this.columns,leftCol:this.leftCol,rightCol:this.rightCol};if(!s||this.initialized){this.clear(),this.scrollLeft=this.elementVertical.scrollLeft,this.vDomScrollPosLeft=this.scrollLeft-this.window,this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.window;var n=0;this.table.columnManager.columnsByIndex.forEach(o=>{var r={};if(o.visible){var a=o.getWidth();r.leftPos=n,r.rightPos=n+a,r.width=a,"fitData"===this.options("layout")&&(r.fitDataCheck=!o.modules.vdomHoz||o.modules.vdomHoz.fitDataCheck),n+a>this.vDomScrollPosLeft&&n<this.vDomScrollPosRight?(-1==this.leftCol&&(this.leftCol=this.columns.length,this.vDomPadLeft=n),this.rightCol=this.columns.length):-1!==this.leftCol&&(this.vDomPadRight+=a),this.columns.push(o),o.modules.vdomHoz=r,n+=a}}),this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.initialized=!0,e||(!s||this.reinitChanged(t))&&this.reinitializeRows(),this.elementVertical.scrollLeft=this.scrollLeft}}renderRowCells(s){this.initialized?this.initializeRow(s):s.cells.forEach(e=>{s.element.appendChild(e.getElement()),e.cellRendered()})}rerenderRowCells(s,e){this.reinitializeRow(s,e)}reinitializeColumnWidths(s){for(let e=this.leftCol;e<=this.rightCol;e++)this.columns[e].reinitializeWidth()}deinitialize(){this.initialized=!1}clear(){this.columns=[],this.leftCol=-1,this.rightCol=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0}dataChange(){var o,n,s=!1,e=0,t=0;if("fitData"===this.options("layout")){if(this.table.columnManager.columnsByIndex.forEach(r=>{!r.definition.width&&r.visible&&(s=!0)}),s&&s&&this.table.rowManager.getDisplayRows().length&&(this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.window,n=this.chain("rows-sample",[1],[],()=>this.table.rowManager.getDisplayRows()[0])[0])){for(o=n.getElement(),n.generateCells(),this.tableElement.appendChild(o),t=0;t<n.cells.length;t++){let f=n.cells[t];if(o.appendChild(f.getElement()),f.column.reinitializeWidth(),(e+=f.column.getWidth())>this.vDomScrollPosRight)break}for(o.parentNode.removeChild(o),this.fitDataColAvg=Math.floor(e/(t+1));t<this.table.columnManager.columnsByIndex.length;t++)this.table.columnManager.columnsByIndex[t].setWidth(this.fitDataColAvg);this.rerenderColumns(!1,!0)}}else"fitColumns"===this.options("layout")&&(this.layoutRefresh(),this.rerenderColumns(!1,!0))}reinitChanged(s){var e=!0;return s.cols.length!==this.columns.length||s.leftCol!==this.leftCol||s.rightCol!==this.rightCol||(s.cols.forEach((t,n)=>{t!==this.columns[n]&&(e=!1)}),!e)}reinitializeRows(){this.table.rowManager.getVisibleRows().forEach(e=>{this.reinitializeRow(e,!0)})}scroll(s){this.vDomScrollPosLeft+=s,this.vDomScrollPosRight+=s,s>.8*this.elementVertical.clientWidth?this.rerenderColumns():s>0?(this.addColRight(),this.removeColLeft()):(this.addColLeft(),this.removeColRight())}colPositionAdjust(s,e,t){for(let n=s;n<e;n++){let o=this.columns[n];o.modules.vdomHoz.leftPos+=t,o.modules.vdomHoz.rightPos+=t}}addColRight(){var s=this.columns[this.rightCol+1];s&&s.modules.vdomHoz.leftPos<=this.vDomScrollPosRight&&(this.table.rowManager.getVisibleRows().forEach(t=>{if("group"!==t.type){var n=t.getCell(s);t.getElement().appendChild(n.getElement()),n.cellRendered()}}),this.fitDataColActualWidthCheck(s),this.rightCol++,this.rightCol>=this.columns.length-1?this.vDomPadRight=0:this.vDomPadRight-=s.getWidth(),this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.addColRight())}addColLeft(){var s=this.columns[this.leftCol-1];s&&s.modules.vdomHoz.rightPos>=this.vDomScrollPosLeft&&(this.table.rowManager.getVisibleRows().forEach(n=>{if("group"!==n.type){var o=n.getCell(s);n.getElement().prepend(o.getElement()),o.cellRendered()}}),this.fitDataColActualWidthCheck(s),this.leftCol--,this.leftCol<=0?this.vDomPadLeft=0:this.vDomPadLeft-=s.getWidth(),this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.addColLeft())}removeColRight(e){var t;(e=this.columns[this.rightCol])&&e.modules.vdomHoz.leftPos>this.vDomScrollPosRight&&(t=this.table.rowManager.getVisibleRows(),e.modules.vdomHoz.visible=!1,t.forEach(n=>{if("group"!==n.type){var o=n.getCell(e);try{n.getElement().removeChild(o.getElement())}catch(r){console.warn("Could not removeColRight",r.message)}}}),this.vDomPadRight+=e.getWidth(),this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.rightCol--,this.removeColRight())}removeColLeft(){var s=this.columns[this.leftCol];s&&s.modules.vdomHoz.rightPos<this.vDomScrollPosLeft&&(this.table.rowManager.getVisibleRows().forEach(t=>{var n,o;if("group"!==t.type&&(n=t.getCell(s))&&(o=n.getElement()).parentNode)try{t.getElement().removeChild(o)}catch(r){console.warn("Could not removeColLeft",r.message)}}),this.vDomPadLeft+=s.getWidth(),this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.leftCol++,this.removeColLeft())}fitDataColActualWidthCheck(s){var e,t;s.modules.vdomHoz.fitDataCheck&&(s.reinitializeWidth(),(t=(e=s.getWidth())-s.modules.vdomHoz.width)&&(s.modules.vdomHoz.rightPos+=t,s.modules.vdomHoz.width=e,this.colPositionAdjust(this.rightCol+2,this.columns.length,t)),s.modules.vdomHoz.fitDataCheck=!1)}initializeRow(s){if("group"!==s.type){s.modules.vdomHoz={leftCol:this.leftCol,rightCol:this.rightCol};for(let e=this.leftCol;e<=this.rightCol;e++){let t=this.columns[e];if(t&&t.visible){let n=s.getCell(t);s.getElement().appendChild(n.getElement()),n.cellRendered()}}}}reinitializeRow(s,e){if("group"!==s.type&&(e||!s.modules.vdomHoz||s.modules.vdomHoz.leftCol!==this.leftCol||s.modules.vdomHoz.rightCol!==this.rightCol)){for(var t=s.getElement();t.firstChild;)t.removeChild(t.firstChild);this.initializeRow(s)}}}class Ii extends l{constructor(s){super(s),this.blockHozScrollEvent=!1,this.headersElement=null,this.element=null,this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.scrollLeft=0,this.optionsList=new yi(this.table,"column definition",Ze),this.renderer=null}initialize(){this.initializeRenderer(),this.headersElement=this.createHeadersElement(),this.element=this.createHeaderElement(),this.element.insertBefore(this.headersElement,this.element.firstChild),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this))}initializeRenderer(){var s;(s="string"==typeof this.table.options.renderHorizontal?{virtual:Hi,basic:Ai}[this.table.options.renderHorizontal]:this.table.options.renderHorizontal)?(this.renderer=new s(this.table,this.element,this.tableElement),this.renderer.initialize()):console.error("Unable to find matching renderer:",table.options.renderHorizontal)}createHeadersElement(){var s=document.createElement("div");return s.classList.add("tabulator-headers"),s.setAttribute("role","row"),s}createHeaderElement(){var s=document.createElement("div");return s.classList.add("tabulator-header"),s.setAttribute("role","rowgroup"),this.table.options.headerVisible||s.classList.add("tabulator-header-hidden"),s}getElement(){return this.element}getHeadersElement(){return this.headersElement}scrollHorizontal(s){var t=this.element.scrollWidth-this.table.element.clientWidth;this.element.scrollLeft=s,this.element.style.marginLeft=s>t?-(s-t)+"px":0,this.scrollLeft=s,this.renderer.scrollColumns(s)}generateColumnsFromRowData(s){var n,o,e=[],t=this.table.options.autoColumnsDefinitions;if(s&&s.length){for(var r in n=s[0]){let a={field:r,title:r},f=n[r];switch(typeof f){case"undefined":o="string";break;case"boolean":o="boolean";break;case"object":o=Array.isArray(f)?"array":"string";break;default:o=isNaN(f)||""===f?f.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)?"alphanum":"string":"number"}a.sorter=o,e.push(a)}if(t)switch(typeof t){case"function":this.table.options.columns=t.call(this.table,e);break;case"object":Array.isArray(t)?e.forEach(a=>{var f=t.find(y=>y.field===a.field);f&&Object.assign(a,f)}):e.forEach(a=>{t[a.field]&&Object.assign(a,t[a.field])}),this.table.options.columns=e}else this.table.options.columns=e;this.setColumns(this.table.options.columns)}}setColumns(s,e){for(;this.headersElement.firstChild;)this.headersElement.removeChild(this.headersElement.firstChild);this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.dispatch("columns-loading"),s.forEach((t,n)=>{this._addColumn(t)}),this._reIndexColumns(),this.dispatch("columns-loaded"),this.renderer.rerenderColumns(!1,!0),this.redraw(!0)}_addColumn(s,e,t){var n=new ye(s,this),o=n.getElement(),r=t&&this.findColumnIndex(t);if(t&&r>-1){var a=t.getTopColumn(),f=this.columns.indexOf(a),y=a.getElement();e?(this.columns.splice(f,0,n),y.parentNode.insertBefore(o,y)):(this.columns.splice(f+1,0,n),y.parentNode.insertBefore(o,y.nextSibling))}else e?(this.columns.unshift(n),this.headersElement.insertBefore(n.getElement(),this.headersElement.firstChild)):(this.columns.push(n),this.headersElement.appendChild(n.getElement()));return n.columnRendered(),n}registerColumnField(s){s.definition.field&&(this.columnsByField[s.definition.field]=s)}registerColumnPosition(s){this.columnsByIndex.push(s)}_reIndexColumns(){this.columnsByIndex=[],this.columns.forEach(function(s){s.reRegisterPosition()})}verticalAlignHeaders(){var s=0;this.columns.forEach(e=>{var t;e.clearVerticalAlign(),(t=e.getHeight())>s&&(s=t)}),this.columns.forEach(e=>{e.verticalAlign(this.table.options.columnHeaderVertAlign,s)}),this.table.rowManager.adjustTableSize()}findColumn(s){return"object"!=typeof s?this.columnsByField[s]||!1:s instanceof ye?s:s instanceof Xe?s._getSelf()||!1:"undefined"!=typeof HTMLElement&&s instanceof HTMLElement&&this.columns.find(t=>t.element===s)||!1}getColumnByField(s){return this.columnsByField[s]}getColumnsByFieldRoot(s){var e=[];return Object.keys(this.columnsByField).forEach(t=>{t.split(".")[0]===s&&e.push(this.columnsByField[t])}),e}getColumnByIndex(s){return this.columnsByIndex[s]}getFirstVisibleColumn(e){return(e=this.columnsByIndex.findIndex(t=>t.visible))>-1&&this.columnsByIndex[e]}getColumns(){return this.columns}findColumnIndex(s){return this.columnsByIndex.findIndex(e=>s===e)}getRealColumns(){return this.columnsByIndex}traverse(s){this.columnsByIndex.forEach((e,t)=>{s(e,t)})}getDefinitions(s){var e=[];return this.columnsByIndex.forEach(t=>{(!s||s&&t.visible)&&e.push(t.getDefinition())}),e}getDefinitionTree(){var s=[];return this.columns.forEach(e=>{s.push(e.getDefinition(!0))}),s}getComponents(s){var e=[];return(s?this.columns:this.columnsByIndex).forEach(n=>{e.push(n.getComponent())}),e}getWidth(){var s=0;return this.columnsByIndex.forEach(e=>{e.visible&&(s+=e.getWidth())}),s}moveColumn(s,e,t){this.moveColumnActual(s,e,t),e.element.parentNode.insertBefore(s.element,e.element),t&&e.element.parentNode.insertBefore(e.element,s.element),this.verticalAlignHeaders(),this.table.rowManager.reinitialize()}moveColumnActual(s,e,t){this._moveColumnInArray(s.parent.isGroup?s.parent.columns:this.columns,s,e,t),this._moveColumnInArray(this.columnsByIndex,s,e,t,!0),this.renderer.rerenderColumns(!0),this.dispatch("column-moved",s,e,t),this.subscribedExternal("columnMoved")&&this.dispatchExternal("columnMoved",s.getComponent(),this.table.columnManager.getComponents())}_moveColumnInArray(s,e,t,n,o){var a,r=s.indexOf(e);r>-1&&(s.splice(r,1),(a=s.indexOf(t))>-1?n&&(a+=1):a=r,s.splice(a,0,e),o&&(this.chain("column-moving-rows",[e,t,n],null,[])||[]).concat(this.table.rowManager.rows).forEach(function(y){if(y.cells.length){var x=y.cells.splice(r,1)[0];y.cells.splice(a,0,x)}}))}scrollToColumn(s,e,t){var n=0,o=0,r=0,a=s.getElement();return new Promise((f,y)=>{if(void 0===e&&(e=this.table.options.scrollToColumnPosition),void 0===t&&(t=this.table.options.scrollToColumnIfVisible),s.visible){switch(e){case"middle":case"center":r=-this.element.clientWidth/2;break;case"right":r=a.clientWidth-this.headersElement.clientWidth}if(!t&&(o=a.offsetLeft)>0&&o+a.offsetWidth<this.element.clientWidth)return!1;n=a.offsetLeft+r,n=Math.max(Math.min(n,this.table.rowManager.element.scrollWidth-this.table.rowManager.element.clientWidth),0),this.table.rowManager.scrollHorizontal(n),this.scrollHorizontal(n),f()}else console.warn("Scroll Error - Column not visible"),y("Scroll Error - Column not visible")})}generateCells(s){var e=[];return this.columnsByIndex.forEach(t=>{e.push(t.generateCell(s))}),e}getFlexBaseWidth(){var s=this.table.element.clientWidth,e=0;return this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(s-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),this.columnsByIndex.forEach(function(t){var n,o,r;t.visible&&(n=t.definition.width||0,o=parseInt(t.minWidth),r="string"==typeof n?n.indexOf("%")>-1?s/100*parseInt(n):parseInt(n):n,e+=r>o?r:o)}),e}addColumn(s,e,t){return new Promise((n,o)=>{var r=this._addColumn(s,e,t);this._reIndexColumns(),this.dispatch("column-add",s,e,t),"fitColumns"!=this.layoutMode()&&r.reinitializeWidth(),this.redraw(!0),this.table.rowManager.reinitialize(),this.renderer.rerenderColumns(),n(r)})}deregisterColumn(s){var t,e=s.getField();e&&delete this.columnsByField[e],(t=this.columnsByIndex.indexOf(s))>-1&&this.columnsByIndex.splice(t,1),(t=this.columns.indexOf(s))>-1&&this.columns.splice(t,1),this.verticalAlignHeaders(),this.redraw()}redraw(s){L.elVisible(this.element)&&this.verticalAlignHeaders(),s&&(this.table.rowManager.resetScroll(),this.table.rowManager.reinitialize()),this.confirm("table-redrawing",s)||this.layoutRefresh(),this.dispatch("table-redraw",s),this.table.footerManager.redraw()}}class Pi extends Wt{constructor(s){super(s),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0}clearRows(){for(var s=this.tableElement;s.firstChild;)s.removeChild(s.firstChild);s.scrollTop=0,s.scrollLeft=0,s.style.minWidth="",s.style.minHeight="",s.style.display="",s.style.visibility=""}renderRows(){var s=this.tableElement,e=!0;this.rows().forEach((t,n)=>{this.styleRow(t,n),s.appendChild(t.getElement()),t.initialize(!0),"group"!==t.type&&(e=!1)}),s.style.minWidth=e?this.table.columnManager.getWidth()+"px":""}rerenderRows(s){this.clearRows(),this.renderRows(),s&&s()}scrollToRowNearestTop(s){var e=L.elOffset(s.getElement()).top;return!(Math.abs(this.elementVertical.scrollTop-e)>Math.abs(this.elementVertical.scrollTop+this.elementVertical.clientHeight-e))}scrollToRow(s){var e=s.getElement();this.elementVertical.scrollTop=L.elOffset(e).top-L.elOffset(this.elementVertical).top+this.elementVertical.scrollTop}visibleRows(s){return this.rows()}}class Ci extends Wt{constructor(s){super(s),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.vDomRowHeight=20,this.vDomTop=0,this.vDomBottom=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomMaxRenderChain=90,this.vDomWindowBuffer=0,this.vDomWindowMinTotalRows=20,this.vDomWindowMinMarginRows=5,this.vDomTopNewRows=[],this.vDomBottomNewRows=[]}clearRows(){for(var s=this.tableElement;s.firstChild;)s.removeChild(s.firstChild);s.style.paddingTop="",s.style.paddingBottom="",s.style.minHeight="",s.style.display="",s.style.visibility="",this.elementVertical.scrollTop=0,this.elementVertical.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0,this.vDomTop=0,this.vDomBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0}renderRows(){this._virtualRenderFill()}rerenderRows(s){for(var e=this.elementVertical.scrollTop,t=!1,n=!1,o=this.table.rowManager.scrollLeft,r=this.rows(),a=this.vDomTop;a<=this.vDomBottom;a++)if(r[a]){var f=e-r[a].getElement().offsetTop;if(!(!1===n||Math.abs(f)<n))break;n=f,t=a}r.forEach(y=>{y.deinitializeHeight()}),s&&s(),this._virtualRenderFill(!1===t?this.rows.length-1:t,!0,n||0),this.scrollColumns(o)}scrollColumns(s){this.table.rowManager.scrollHorizontal(s)}scrollRows(s,e){var t=s-this.vDomScrollPosTop,n=s-this.vDomScrollPosBottom,o=2*this.vDomWindowBuffer,r=this.rows();if(this.scrollTop=s,-t>o||n>o){var a=this.table.rowManager.scrollLeft;this._virtualRenderFill(Math.floor(this.elementVertical.scrollTop/this.elementVertical.scrollHeight*r.length)),this.scrollColumns(a)}else e?(t<0&&this._addTopRow(r,-t),n<0&&(this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer?this._removeBottomRow(r,-n):this.vDomScrollPosBottom=this.scrollTop)):(n>=0&&this._addBottomRow(r,n),t>=0&&(this.scrollTop>this.vDomWindowBuffer?this._removeTopRow(r,t):this.vDomScrollPosTop=this.scrollTop))}resize(){this.vDomWindowBuffer=this.table.options.renderVerticalBuffer||this.elementVertical.clientHeight}scrollToRowNearestTop(s){var e=this.rows().indexOf(s);return!(Math.abs(this.vDomTop-e)>Math.abs(this.vDomBottom-e))}scrollToRow(s){var e=this.rows().indexOf(s);e>-1&&this._virtualRenderFill(e,!0)}visibleRows(s){var e=this.elementVertical.scrollTop,t=this.elementVertical.clientHeight+e,n=!1,o=0,r=0,a=this.rows();if(s)o=this.vDomTop,r=this.vDomBottom;else for(var f=this.vDomTop;f<=this.vDomBottom;f++)if(a[f])if(n){if(!(t-a[f].getElement().offsetTop>=0))break;r=f}else if(e-a[f].getElement().offsetTop>=0)o=f;else{if(n=!0,!(t-a[f].getElement().offsetTop>=0))break;r=f}return a.slice(o,r+1)}_virtualRenderFill(s,e,t){var n=this.tableElement,o=this.elementVertical,r=0,a=0,f=0,y=0,x=0,P=this.rows(),U=P.length,X=this.elementVertical.clientHeight;if(t=t||0,s=s||0){for(;n.firstChild;)n.removeChild(n.firstChild);(f=(U-s+1)*this.vDomRowHeight)<X&&(s-=Math.ceil((X-f)/this.vDomRowHeight))<0&&(s=0),s-=r=Math.min(Math.max(Math.floor(this.vDomWindowBuffer/this.vDomRowHeight),this.vDomWindowMinMarginRows),s)}else this.clear();if(U&&L.elVisible(this.elementVertical)){for(this.vDomTop=s,this.vDomBottom=s-1;(a<=X+this.vDomWindowBuffer||x<this.vDomWindowMinTotalRows)&&this.vDomBottom<U-1;){var be,he=this.vDomBottom+1,me=P[he];this.styleRow(me,he),n.appendChild(me.getElement()),me.initialize(),me.heightInitialized||me.normalizeHeight(!0),be=me.getHeight(),x<r?y+=be:a+=be,be>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*be),this.vDomBottom++,x++}s?(this.vDomTopPad=e?this.vDomRowHeight*this.vDomTop+t:this.scrollTop-y,this.vDomBottomPad=this.vDomBottom==U-1?0:Math.max(this.vDomScrollHeight-this.vDomTopPad-a-y,0)):(this.vDomTopPad=0,this.vDomRowHeight=Math.floor((a+y)/x),this.vDomBottomPad=this.vDomRowHeight*(U-this.vDomBottom-1),this.vDomScrollHeight=y+a+this.vDomBottomPad-X),n.style.paddingTop=this.vDomTopPad+"px",n.style.paddingBottom=this.vDomBottomPad+"px",e&&(this.scrollTop=this.vDomTopPad+y+t-(this.elementVertical.scrollWidth>this.elementVertical.clientWidth?this.elementVertical.offsetHeight-X:0)),this.scrollTop=Math.min(this.scrollTop,this.elementVertical.scrollHeight-X),this.elementVertical.scrollWidth>this.elementVertical.offsetWidth&&e&&(this.scrollTop+=this.elementVertical.offsetHeight-X),this.vDomScrollPosTop=this.scrollTop,this.vDomScrollPosBottom=this.scrollTop,o.scrollTop=this.scrollTop,this.dispatch("render-virtual-fill")}}_addTopRow(s,e){for(var t=this.tableElement,n=[],o=0,r=this.vDomTop-1,a=0;this.vDomTop;){let y,x,f=s[r];if(!(f&&a<this.vDomMaxRenderChain))break;if(y=f.getHeight()||this.vDomRowHeight,x=f.initialized,!(e>=y))break;this.styleRow(f,r),t.insertBefore(f.getElement(),t.firstChild),(!f.initialized||!f.heightInitialized)&&n.push(f),f.initialize(),x||(y=f.getElement().offsetHeight,y>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*y)),e-=y,o+=y,this.vDomTop--,r--,a++}for(let f of n)f.clearCellHeight();this._quickNormalizeRowHeight(n),o&&(this.vDomTopPad-=o,this.vDomTopPad<0&&(this.vDomTopPad=r*this.vDomRowHeight),r<1&&(this.vDomTopPad=0),t.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop-=o)}_removeTopRow(s,e){for(var t=[],n=0,o=0;;){let a,r=s[this.vDomTop];if(!(r&&o<this.vDomMaxRenderChain))break;if(a=r.getHeight()||this.vDomRowHeight,!(e>=a))break;this.vDomTop++,e-=a,n+=a,t.push(r),o++}for(let r of t){let a=r.getElement();a.parentNode&&a.parentNode.removeChild(a)}n&&(this.vDomTopPad+=n,this.tableElement.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop+=this.vDomTop?n:n+this.vDomWindowBuffer)}_addBottomRow(s,e){for(var t=this.tableElement,n=[],o=0,r=this.vDomBottom+1,a=0;;){let y,x,f=s[r];if(!(f&&a<this.vDomMaxRenderChain))break;if(y=f.getHeight()||this.vDomRowHeight,x=f.initialized,!(e>=y))break;this.styleRow(f,r),t.appendChild(f.getElement()),(!f.initialized||!f.heightInitialized)&&n.push(f),f.initialize(),x||(y=f.getElement().offsetHeight,y>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*y)),e-=y,o+=y,this.vDomBottom++,r++,a++}for(let f of n)f.clearCellHeight();this._quickNormalizeRowHeight(n),o&&(this.vDomBottomPad-=o,(this.vDomBottomPad<0||r==s.length-1)&&(this.vDomBottomPad=0),t.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom+=o)}_removeBottomRow(s,e){for(var t=[],n=0,o=0;;){let a,r=s[this.vDomBottom];if(!(r&&o<this.vDomMaxRenderChain))break;if(a=r.getHeight()||this.vDomRowHeight,!(e>=a))break;this.vDomBottom--,e-=a,n+=a,t.push(r),o++}for(let r of t){let a=r.getElement();a.parentNode&&a.parentNode.removeChild(a)}n&&(this.vDomBottomPad+=n,this.vDomBottomPad<0&&(this.vDomBottomPad=0),this.tableElement.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom-=n)}_quickNormalizeRowHeight(s){for(let e of s)e.calcHeight();for(let e of s)e.setCellHeight()}}class Li extends l{constructor(s){super(s),this.element=this.createHolderElement(),this.tableElement=this.createTableElement(),this.heightFixer=this.createTableElement(),this.placeholder=null,this.placeholderContents=null,this.firstRender=!1,this.renderMode="virtual",this.fixedHeight=!1,this.rows=[],this.activeRowsPipeline=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.scrollTop=0,this.scrollLeft=0,this.rowNumColumn=!1,this.redrawBlock=!1,this.redrawBlockRestoreConfig=!1,this.redrawBlockRenderInPosition=!1,this.dataPipeline=[],this.displayPipeline=[],this.renderer=null}createHolderElement(){var s=document.createElement("div");return s.classList.add("tabulator-tableholder"),s.setAttribute("tabindex",0),s.setAttribute("role","rowgroup"),s}createTableElement(){var s=document.createElement("div");return s.classList.add("tabulator-table"),s.setAttribute("role","rowgroup"),s}initializePlaceholder(){if("string"==typeof this.table.options.placeholder){let s=document.createElement("div");s.classList.add("tabulator-placeholder");let e=document.createElement("div");e.classList.add("tabulator-placeholder-contents"),e.innerHTML=this.table.options.placeholder,s.appendChild(e),this.placeholderContents=e,this.placeholder=s}}getElement(){return this.element}getTableElement(){return this.tableElement}getRowPosition(s,e){return e?this.activeRows.indexOf(s):this.rows.indexOf(s)}initialize(){this.initializePlaceholder(),this.initializeRenderer(),this.element.appendChild(this.tableElement),this.firstRender=!0,this.element.addEventListener("scroll",()=>{var s=this.element.scrollLeft,e=this.scrollLeft>s,t=this.element.scrollTop,n=this.scrollTop>t;this.scrollLeft!=s&&(this.scrollLeft=s,this.dispatch("scroll-horizontal",s,e),this.dispatchExternal("scrollHorizontal",s,e),this._positionPlaceholder()),this.scrollTop!=t&&(this.scrollTop=t,this.renderer.scrollRows(t,n),this.dispatch("scroll-vertical",t,n),this.dispatchExternal("scrollVertical",t,n))})}findRow(s){return"object"!=typeof s?null!=s&&(this.rows.find(t=>t.data[this.table.options.index]==s)||!1):s instanceof $e?s:s instanceof Ge?s._getSelf()||!1:"undefined"!=typeof HTMLElement&&s instanceof HTMLElement&&this.rows.find(t=>t.getElement()===s)||!1}getRowFromDataObject(s){return this.rows.find(t=>t.data===s)||!1}getRowFromPosition(s,e){return e?this.activeRows[s]:this.rows[s]}scrollToRow(s,e,t){return this.renderer.scrollToRowPosition(s,e,t)}setData(s,e,t){return new Promise((n,o)=>{e&&this.getDisplayRows().length?this.table.options.pagination?this._setDataActual(s,!0):this.reRenderInPosition(()=>{this._setDataActual(s)}):(this.table.options.autoColumns&&t&&this.table.initialized&&this.table.columnManager.generateColumnsFromRowData(s),this.resetScroll(),this._setDataActual(s)),n()})}_setDataActual(s,e){this.dispatchExternal("dataProcessing",s),this._wipeElements(),Array.isArray(s)?(this.dispatch("data-processing",s),s.forEach((t,n)=>{if(t&&"object"==typeof t){var o=new $e(t,this);this.rows.push(o)}else console.warn("Data Loading Warning - Invalid row data detected and ignored, expecting object but received:",t)}),this.refreshActiveData(!1,!1,e),this.dispatch("data-processed",s),this.dispatchExternal("dataProcessed",s)):console.error("Data Loading Error - Unable to process data due to invalid data type \nExpecting: array \nReceived: ",typeof s,"\nData:     ",s)}_wipeElements(){this.dispatch("rows-wipe"),this.rows.forEach(s=>{s.wipe()}),this.rows=[],this.activeRows=[],this.activeRowsPipeline=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.adjustTableSize()}deleteRow(s,e){var t=this.rows.indexOf(s),n=this.activeRows.indexOf(s);n>-1&&this.activeRows.splice(n,1),t>-1&&this.rows.splice(t,1),this.setActiveRows(this.activeRows),this.displayRowIterator(o=>{var r=o.indexOf(s);r>-1&&o.splice(r,1)}),e||this.reRenderInPosition(),this.regenerateRowNumbers(),this.dispatchExternal("rowDeleted",s.getComponent()),this.displayRowsCount||this._showPlaceholder(),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.getData())}addRow(s,e,t,n){return this.addRowActual(s,e,t,n)}addRows(s,e,t){var n=[];return new Promise((o,r)=>{e=this.findAddRowPos(e),Array.isArray(s)||(s=[s]),(void 0===t&&e||void 0!==t&&!e)&&s.reverse(),s.forEach((a,f)=>{var y=this.addRow(a,e,t,!0);n.push(y),this.dispatch("row-added",y,s,e,t)}),this.refreshActiveData(!1,!1,!0),this.regenerateRowNumbers(),n.length&&this._clearPlaceholder(),o(n)})}findAddRowPos(s){return void 0===s&&(s=this.table.options.addRowPos),"pos"===s&&(s=!0),"bottom"===s&&(s=!1),s}addRowActual(s,e,t,n){var f,y,o=s instanceof $e?s:new $e(s||{},this),r=this.findAddRowPos(e),a=-1;return t||(y=this.chain("row-adding-position",[o,r],null,{index:t,top:r}),t=y.index,r=y.top),void 0!==t&&(t=this.findRow(t)),(t=this.chain("row-adding-index",[o,t,r],null,t))&&(a=this.rows.indexOf(t)),t&&a>-1?(f=this.activeRows.indexOf(t),this.displayRowIterator(function(x){var P=x.indexOf(t);P>-1&&x.splice(r?P:P+1,0,o)}),f>-1&&this.activeRows.splice(r?f:f+1,0,o),this.rows.splice(r?a:a+1,0,o)):r?(this.displayRowIterator(function(x){x.unshift(o)}),this.activeRows.unshift(o),this.rows.unshift(o)):(this.displayRowIterator(function(x){x.push(o)}),this.activeRows.push(o),this.rows.push(o)),this.setActiveRows(this.activeRows),this.dispatchExternal("rowAdded",o.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),n||this.reRenderInPosition(),o}moveRow(s,e,t){this.dispatch("row-move",s,e,t),this.moveRowActual(s,e,t),this.regenerateRowNumbers(),this.dispatch("row-moved",s,e,t),this.dispatchExternal("rowMoved",s.getComponent())}moveRowActual(s,e,t){this.moveRowInArray(this.rows,s,e,t),this.moveRowInArray(this.activeRows,s,e,t),this.displayRowIterator(n=>{this.moveRowInArray(n,s,e,t)}),this.dispatch("row-moving",s,e,t)}moveRowInArray(s,e,t,n){var o,r,f;if(e!==t&&((o=s.indexOf(e))>-1&&(s.splice(o,1),r=s.indexOf(t),s.splice(r>-1?n?r+1:r:o,0,e)),s===this.getDisplayRows())){f=r>o?r:o+1;for(let y=o<r?o:r;y<=f;y++)s[y]&&this.styleRow(s[y],y)}}clearData(){this.setData([])}getRowIndex(s){return this.findRowIndex(s,this.rows)}getDisplayRowIndex(s){var e=this.getDisplayRows().indexOf(s);return e>-1&&e}nextDisplayRow(s,e){var t=this.getDisplayRowIndex(s),n=!1;return!1!==t&&t<this.displayRowsCount-1&&(n=this.getDisplayRows()[t+1]),!n||n instanceof $e&&"row"==n.type?n:this.nextDisplayRow(n,e)}prevDisplayRow(s,e){var t=this.getDisplayRowIndex(s),n=!1;return t&&(n=this.getDisplayRows()[t-1]),!e||!n||n instanceof $e&&"row"==n.type?n:this.prevDisplayRow(n,e)}findRowIndex(s,e){var t;return!!((s=this.findRow(s))&&(t=e.indexOf(s),t>-1))&&t}getData(s,e){var t=[];return this.getRows(s).forEach(function(o){"row"==o.type&&t.push(o.getData(e||"data"))}),t}getComponents(s){var e=[];return this.getRows(s).forEach(function(n){e.push(n.getComponent())}),e}getDataCount(s){return this.getRows(s).length}scrollHorizontal(s){this.scrollLeft=s,this.element.scrollLeft=s,this.dispatch("scroll-horizontal",s)}registerDataPipelineHandler(s,e){void 0!==e?(this.dataPipeline.push({handler:s,priority:e}),this.dataPipeline.sort((t,n)=>t.priority-n.priority)):console.error("Data pipeline handlers must have a priority in order to be registered")}registerDisplayPipelineHandler(s,e){void 0!==e?(this.displayPipeline.push({handler:s,priority:e}),this.displayPipeline.sort((t,n)=>t.priority-n.priority)):console.error("Display pipeline handlers must have a priority in order to be registered")}refreshActiveData(s,e,t){var n=this.table,o="",r=0,a=["all","dataPipeline","display","displayPipeline","end"];if("function"==typeof s)if((r=this.dataPipeline.findIndex(f=>f.handler===s))>-1)o="dataPipeline",e&&(r==this.dataPipeline.length-1?o="display":r++);else{if(!((r=this.displayPipeline.findIndex(f=>f.handler===s))>-1))return void console.error("Unable to refresh data, invalid handler provided",s);o="displayPipeline",e&&(r==this.displayPipeline.length-1?o="end":r++)}else o=s||"all",r=0;this.redrawBlock?(!this.redrawBlockRestoreConfig||this.redrawBlockRestoreConfig&&(this.redrawBlockRestoreConfig.stage===o&&r<this.redrawBlockRestoreConfig.index||a.indexOf(o)<a.indexOf(this.redrawBlockRestoreConfig.stage)))&&(this.redrawBlockRestoreConfig={handler:s,skipStage:e,renderInPosition:t,stage:o,index:r}):(L.elVisible(this.element)?t?this.reRenderInPosition(this.refreshPipelines.bind(this,s,o,r,t)):(this.refreshPipelines(s,o,r,t),s||this.table.columnManager.renderer.renderColumns(),this.renderTable(),n.options.layoutColumnsOnNewData&&this.table.columnManager.redraw(!0)):this.refreshPipelines(s,o,r,t),this.dispatch("data-refreshed"))}refreshPipelines(s,e,t,n){switch(this.dispatch("data-refreshing"),s||(this.activeRowsPipeline[0]=this.rows.slice(0)),e){case"all":case"dataPipeline":for(let o=t;o<this.dataPipeline.length;o++){let r=this.dataPipeline[o].handler(this.activeRowsPipeline[o].slice(0));this.activeRowsPipeline[o+1]=r||this.activeRowsPipeline[o].slice(0)}this.setActiveRows(this.activeRowsPipeline[this.dataPipeline.length]),this.regenerateRowNumbers();case"display":t=0,this.resetDisplayRows();case"displayPipeline":for(let o=t;o<this.displayPipeline.length;o++){let r=this.displayPipeline[o].handler((o?this.getDisplayRows(o-1):this.activeRows).slice(0),n);this.setDisplayRows(r||this.getDisplayRows(o-1).slice(0),o)}}}regenerateRowNumbers(){this.rowNumColumn&&this.activeRows.forEach(s=>{var e=s.getCell(this.rowNumColumn);e&&e._generateContents()})}setActiveRows(s){this.activeRows=s,this.activeRowsCount=this.activeRows.length}resetDisplayRows(){this.displayRows=[],this.displayRows.push(this.activeRows.slice(0)),this.displayRowsCount=this.displayRows[0].length}getNextDisplayIndex(){return this.displayRows.length}setDisplayRows(s,e){var t=!0;return e&&void 0!==this.displayRows[e]?(this.displayRows[e]=s,t=!0):(this.displayRows.push(s),t=e=this.displayRows.length-1),e==this.displayRows.length-1&&(this.displayRowsCount=this.displayRows[this.displayRows.length-1].length),t}getDisplayRows(s){return void 0===s?this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]:this.displayRows[s]||[]}getVisibleRows(s,e){var t=Object.assign([],this.renderer.visibleRows(!e));return s&&(t=this.chain("rows-visible",[e],t,t)),t}displayRowIterator(s){this.activeRowsPipeline.forEach(s),this.displayRows.forEach(s),this.displayRowsCount=this.displayRows[this.displayRows.length-1].length}getRows(s){var e;switch(s){case"active":e=this.activeRows;break;case"display":e=this.table.rowManager.getDisplayRows();break;case"visible":e=this.getVisibleRows(!1,!0);break;default:e=this.chain("rows-retrieve",s,null,this.rows)||this.rows}return e}reRenderInPosition(s){this.redrawBlock?s?s():this.redrawBlockRenderInPosition=!0:this.renderer.rerenderRows(s)}initializeRenderer(){var s;(s="string"==typeof this.table.options.renderVertical?{virtual:Ci,basic:Pi}[this.table.options.renderVertical]:this.table.options.renderVertical)?(this.renderer=new s(this.table,this.element,this.tableElement),this.renderer.initialize(),this.fixedHeight=!(!this.table.element.clientHeight&&!this.table.options.height)):console.error("Unable to find matching renderer:",table.options.renderVertical)}getRenderMode(){return this.renderMode}renderTable(){this.dispatchExternal("renderStarted"),this.element.scrollTop=0,this._clearTable(),this.displayRowsCount?(this.renderer.renderRows(),this.firstRender&&(this.firstRender=!1,this.layoutRefresh())):this.renderEmptyScroll(),this.fixedHeight||this.adjustTableSize(),this.dispatch("table-layout"),this.displayRowsCount||this._showPlaceholder(),this.dispatchExternal("renderComplete")}renderEmptyScroll(){this.placeholder?this.tableElement.style.display="none":this.tableElement.style.minWidth=this.table.columnManager.getWidth()+"px"}_clearTable(){this._clearPlaceholder(),this.scrollTop=0,this.scrollLeft=0,this.renderer.clearRows()}_showPlaceholder(){this.placeholder&&(this.placeholder.setAttribute("tabulator-render-mode",this.renderMode),this.getElement().appendChild(this.placeholder),this._positionPlaceholder())}_clearPlaceholder(){this.placeholder&&this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder)}_positionPlaceholder(){this.placeholder&&this.placeholder.parentNode&&(this.placeholder.style.width=this.table.columnManager.getWidth()+"px",this.placeholderContents.style.width=this.table.rowManager.element.clientWidth+"px",this.placeholderContents.style.marginLeft=this.scrollLeft+"px")}styleRow(s,e){var t=s.getElement();e%2?(t.classList.add("tabulator-row-even"),t.classList.remove("tabulator-row-odd")):(t.classList.add("tabulator-row-odd"),t.classList.remove("tabulator-row-even"))}normalizeHeight(){this.activeRows.forEach(function(s){s.normalizeHeight()})}adjustTableSize(){var s=this.element.clientHeight;if("fill"===this.renderer.verticalFillMode){let e=Math.floor(this.table.columnManager.getElement().getBoundingClientRect().height+(this.table.footerManager&&this.table.footerManager.active&&!this.table.footerManager.external?this.table.footerManager.getElement().getBoundingClientRect().height:0));this.fixedHeight?(this.element.style.minHeight="calc(100% - "+e+"px)",this.element.style.height="calc(100% - "+e+"px)",this.element.style.maxHeight="calc(100% - "+e+"px)"):(this.element.style.height="",this.element.style.height=this.table.element.clientHeight-e+"px",this.element.scrollTop=this.scrollTop),this.renderer.resize(),!this.fixedHeight&&s!=this.element.clientHeight&&(this.subscribed("table-resize")?this.dispatch("table-resize"):this.redraw())}this._positionPlaceholder()}reinitialize(){this.rows.forEach(function(s){s.reinitialize(!0)})}blockRedraw(){this.redrawBlock=!0,this.redrawBlockRestoreConfig=!1}restoreRedraw(){this.redrawBlock=!1,this.redrawBlockRestoreConfig?(this.refreshActiveData(this.redrawBlockRestoreConfig.handler,this.redrawBlockRestoreConfig.skipStage,this.redrawBlockRestoreConfig.renderInPosition),this.redrawBlockRestoreConfig=!1):this.redrawBlockRenderInPosition&&this.reRenderInPosition(),this.redrawBlockRenderInPosition=!1}redraw(s){var e=this.scrollLeft;this.adjustTableSize(),this.table.tableWidth=this.table.element.clientWidth,s?this.renderTable():(this.reRenderInPosition(),this.scrollHorizontal(e))}resetScroll(){if(this.element.scrollLeft=0,this.element.scrollTop=0,"ie"===this.table.browser){var s=document.createEvent("Event");s.initEvent("scroll",!1,!0),this.element.dispatchEvent(s)}else this.element.dispatchEvent(new Event("scroll"))}}class Ei extends l{constructor(s){super(s),this.active=!1,this.element=this.createElement(),this.containerElement=this.createContainerElement(),this.external=!1,this.links=[]}initialize(){this.initializeElement()}createElement(){var s=document.createElement("div");return s.classList.add("tabulator-footer"),s}createContainerElement(){var s=document.createElement("div");return s.classList.add("tabulator-footer-contents"),this.element.appendChild(s),s}initializeElement(){this.table.options.footerElement&&("string"==typeof this.table.options.footerElement?"<"===this.table.options.footerElement[0]?this.containerElement.innerHTML=this.table.options.footerElement:(this.external=!0,this.element=document.querySelector(this.table.options.footerElement)):this.element=this.table.options.footerElement)}getElement(){return this.element}append(s,e){this.activate(e),this.containerElement.appendChild(s),this.table.rowManager.adjustTableSize()}prepend(s,e){this.activate(e),this.element.insertBefore(s,this.element.firstChild),this.table.rowManager.adjustTableSize()}remove(s){s.parentNode.removeChild(s),this.deactivate()}deactivate(s){(!this.element.firstChild||s)&&(this.external||this.element.parentNode.removeChild(this.element),this.active=!1)}activate(s){this.active||(this.active=!0,this.external||(this.table.element.appendChild(this.getElement()),this.table.element.style.display="")),s&&this.links.push(s)}redraw(){this.links.forEach(function(s){s.footerRedraw()})}}class wi extends l{constructor(s){super(s),this.el=null,this.abortClasses=["tabulator-headers","tabulator-table"],this.previousTargets={},this.listeners=["click","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","touchstart","touchend"],this.componentMap={"tabulator-cell":"cell","tabulator-row":"row","tabulator-group":"group","tabulator-col":"column"},this.pseudoTrackers={row:{subscriber:null,target:null},cell:{subscriber:null,target:null},group:{subscriber:null,target:null},column:{subscriber:null,target:null}},this.pseudoTracking=!1}initialize(){this.el=this.table.element,this.buildListenerMap(),this.bindSubscriptionWatchers()}buildListenerMap(){var s={};this.listeners.forEach(e=>{s[e]={handler:null,components:[]}}),this.listeners=s}bindPseudoEvents(){Object.keys(this.pseudoTrackers).forEach(s=>{this.pseudoTrackers[s].subscriber=this.pseudoMouseEnter.bind(this,s),this.subscribe(s+"-mouseover",this.pseudoTrackers[s].subscriber)}),this.pseudoTracking=!0}pseudoMouseEnter(s,e,t){this.pseudoTrackers[s].target!==t&&(this.pseudoTrackers[s].target&&this.dispatch(s+"-mouseleave",e,t),this.pseudoMouseLeave(s,e),this.pseudoTrackers[s].target=t,this.dispatch(s+"-mouseenter",e,t))}pseudoMouseLeave(s,e){var t=Object.keys(this.pseudoTrackers),n={row:["cell"],cell:["row"]};(t=t.filter(o=>{var r=n[s];return o!==s&&(!r||r&&!r.includes(o))})).forEach(o=>{this.pseudoTrackers[o].target&&(this.dispatch(o+"-mouseleave",e,this.pseudoTrackers[o].target),this.pseudoTrackers[o].target=null)})}bindSubscriptionWatchers(){var s=Object.keys(this.listeners),e=Object.values(this.componentMap);for(let t of e)for(let n of s)this.subscriptionChange(t+"-"+n,this.subscriptionChanged.bind(this,t,n));this.subscribe("table-destroy",this.clearWatchers.bind(this))}subscriptionChanged(s,e,t){var n=this.listeners[e].components,o=n.indexOf(s),r=!1;t?-1===o&&(n.push(s),r=!0):this.subscribed(s+"-"+e)||o>-1&&(n.splice(o,1),r=!0),("mouseenter"===e||"mouseleave"===e)&&!this.pseudoTracking&&this.bindPseudoEvents(),r&&this.updateEventListeners()}updateEventListeners(){for(let s in this.listeners){let e=this.listeners[s];e.components.length?e.handler||(e.handler=this.track.bind(this,s),this.el.addEventListener(s,e.handler)):e.handler&&(this.el.removeEventListener(s,e.handler),e.handler=null)}}track(s,e){var t=e.composedPath&&e.composedPath()||e.path,n=this.findTargets(t);n=this.bindComponents(s,n),this.triggerEvents(s,e,n),this.pseudoTracking&&("mouseover"==s||"mouseleave"==s)&&!Object.keys(n).length&&this.pseudoMouseLeave("none",e)}findTargets(s){var e={};let t=Object.keys(this.componentMap);for(let n of s){let o=n.classList?[...n.classList]:[];if(o.filter(f=>this.abortClasses.includes(f)).length)break;let a=o.filter(f=>t.includes(f));for(let f of a)e[this.componentMap[f]]=n}return e.group&&e.group===e.row&&delete e.row,e}bindComponents(s,e){var t=Object.keys(e).reverse(),n=this.listeners[s],o={};for(let r of t){let a,f=e[r],y=this.previousTargets[r];if(y&&y.target===f)a=y.component;else switch(r){case"row":case"group":(n.components.includes("row")||n.components.includes("cell")||n.components.includes("group"))&&(a=this.table.rowManager.getVisibleRows(!0).find(P=>P.getElement()===f),e.row.parentNode&&e.row.parentNode.closest(".tabulator-row")&&(e[r]=!1));break;case"column":n.components.includes("column")&&(a=this.table.columnManager.findColumn(f));break;case"cell":n.components.includes("cell")&&(e.row instanceof $e?a=e.row.findCell(f):e.row&&console.warn("Event Target Lookup Error - The row this cell is attached to cannot be found, has the table been reinitialized without being destroyed first?"))}a&&(e[r]=a,o[r]={target:f,component:a})}return this.previousTargets=o,e}triggerEvents(s,e,t){var n=this.listeners[s];for(let o in t)t[o]&&n.components.includes(o)&&this.dispatch(o+"-"+s,e,t[o])}clearWatchers(){for(let s in this.listeners){let e=this.listeners[s];e.handler&&(this.el.removeEventListener(s,e.handler),e.handler=null)}}}class Fi{constructor(s){this.table=s,this.bindings={}}bind(s,e,t){this.bindings[s]||(this.bindings[s]={}),this.bindings[s][e]?console.warn("Unable to bind component handler, a matching function name is already bound",s,e,hanlder):this.bindings[s][e]=t}handle(s,e,t){if(this.bindings[s]&&this.bindings[s][t])return this.bindings[s][t].bind(null,e);"then"!==t&&"string"==typeof t&&!t.startsWith("_")&&console.error("The "+s+" component does not have a "+t+" function, have you checked that you have the correct Tabulator module installed?")}}class Mi extends l{constructor(s){super(s),this.loaderElement=this.createLoaderElement(),this.msgElement=this.createMsgElement(),this.loadingElement=null,this.errorElement=null,this.requestOrder=0,this.loading=!1}initialize(){var s;this.loaderElement.appendChild(this.msgElement),this.table.options.dataLoaderLoading&&("string"==typeof this.table.options.dataLoaderLoading?((s=document.createElement("template")).innerHTML=this.table.options.dataLoaderLoading.trim(),this.loadingElement=s.firstElementChild):this.loadingElement=this.table.options.dataLoaderLoading),this.table.options.dataLoaderError&&("string"==typeof this.table.options.dataLoaderError?((s=document.createElement("template")).innerHTML=this.table.options.dataLoaderError.trim(),this.errorElement=s.firstElementChild):this.errorElement=this.table.options.dataLoaderError)}createLoaderElement(){var s=document.createElement("div");return s.classList.add("tabulator-loader"),s}createMsgElement(){var s=document.createElement("div");return s.classList.add("tabulator-loader-msg"),s.setAttribute("role","alert"),s}load(s,e,t,n,o){var r=++this.requestOrder;return this.dispatchExternal("dataLoading",s),s&&(0==s.indexOf("{")||0==s.indexOf("["))&&(s=JSON.parse(s)),this.confirm("data-loading",[s,e,t,o])?(this.loading=!0,o||this.showLoader(),e=this.chain("data-params",[s,t,o],e||{},e||{}),e=this.mapParams(e,this.table.options.dataSendParams),this.chain("data-load",[s,e,t,o],!1,Promise.resolve([])).then(f=>{!Array.isArray(f)&&"object"==typeof f&&(f=this.mapParams(f,this.objectInvert(this.table.options.dataReceiveParams)));var y=this.chain("data-loaded",f,null,f);r==this.requestOrder?(this.hideLoader(),!1!==y&&(this.dispatchExternal("dataLoaded",y),this.table.rowManager.setData(y,n,!n))):console.warn("Data Load Response Blocked - An active data load request was blocked by an attempt to change table data while the request was being made")}).catch(f=>{console.error("Data Load Error: ",f),this.dispatchExternal("dataLoadError",f),o||this.showError(),setTimeout(()=>{this.hideLoader()},this.table.options.dataLoaderErrorTimeout)}).finally(()=>{this.loading=!1})):(this.dispatchExternal("dataLoaded",s),s||(s=[]),this.table.rowManager.setData(s,n,!n),Promise.resolve())}mapParams(s,e){var t={};for(let n in s)t[e.hasOwnProperty(n)?e[n]:n]=s[n];return t}objectInvert(s){var e={};for(let t in s)e[s[t]]=t;return e}blockActiveLoad(){this.requestOrder++}showLoader(){if("function"==typeof this.table.options.dataLoader?this.table.options.dataLoader():this.table.options.dataLoader){for(this.hideLoader();this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.remove("tabulator-error"),this.msgElement.classList.add("tabulator-loading"),this.loadingElement?this.msgElement.appendChild(this.loadingElement):this.msgElement.innerHTML=this.langText("data|loading"),this.table.element.appendChild(this.loaderElement)}}showError(){for(this.hideLoader();this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.remove("tabulator-loading"),this.msgElement.classList.add("tabulator-error"),this.errorElement?this.msgElement.appendChild(this.errorElement):this.msgElement.innerHTML=this.langText("data|error"),this.table.element.appendChild(this.loaderElement)}hideLoader(){this.loaderElement.parentNode&&this.loaderElement.parentNode.removeChild(this.loaderElement)}}class Bi{constructor(s,e,t){this.table=s,this.events={},this.optionsList=e||{},this.subscriptionNotifiers={},this.dispatch=t?this._debugDispatch.bind(this):this._dispatch.bind(this),this.debug=t}subscriptionChange(s,e){this.subscriptionNotifiers[s]||(this.subscriptionNotifiers[s]=[]),this.subscriptionNotifiers[s].push(e),this.subscribed(s)&&this._notifiySubscriptionChange(s,!0)}subscribe(s,e){this.events[s]||(this.events[s]=[]),this.events[s].push(e),this._notifiySubscriptionChange(s,!0)}unsubscribe(s,e){var t;if(this.events[s]){if(e){if(!((t=this.events[s].findIndex(n=>n===e))>-1))return void console.warn("Cannot remove event, no matching event found:",s,e);this.events[s].splice(t,1)}else delete this.events[s];this._notifiySubscriptionChange(s,!1)}else console.warn("Cannot remove event, no events set on:",s)}subscribed(s){return this.events[s]&&this.events[s].length}_notifiySubscriptionChange(s,e){var t=this.subscriptionNotifiers[s];t&&t.forEach(n=>{n(e)})}_dispatch(){var t,s=Array.from(arguments),e=s.shift();return this.events[e]&&this.events[e].forEach((n,o)=>{let r=n.apply(this.table,s);o||(t=r)}),t}_debugDispatch(){var s=Array.from(arguments),e=s[0];return s[0]="ExternalEvent:"+s[0],(!0===this.debug||this.debug.includes(e))&&console.log(...s),this._dispatch(...arguments)}}class Jt{constructor(s){this.events={},this.subscriptionNotifiers={},this.dispatch=s?this._debugDispatch.bind(this):this._dispatch.bind(this),this.chain=s?this._debugChain.bind(this):this._chain.bind(this),this.confirm=s?this._debugConfirm.bind(this):this._confirm.bind(this),this.debug=s}subscriptionChange(s,e){this.subscriptionNotifiers[s]||(this.subscriptionNotifiers[s]=[]),this.subscriptionNotifiers[s].push(e),this.subscribed(s)&&this._notifiySubscriptionChange(s,!0)}subscribe(s,e,t=1e4){this.events[s]||(this.events[s]=[]),this.events[s].push({callback:e,priority:t}),this.events[s].sort((n,o)=>n.priority-o.priority),this._notifiySubscriptionChange(s,!0)}unsubscribe(s,e){var t;if(this.events[s]){if(e){if(!((t=this.events[s].findIndex(n=>n.callback===e))>-1))return void console.warn("Cannot remove event, no matching event found:",s,e);this.events[s].splice(t,1)}this._notifiySubscriptionChange(s,!1)}else console.warn("Cannot remove event, no events set on:",s)}subscribed(s){return this.events[s]&&this.events[s].length}_chain(s,e,t,n){var o=t;return Array.isArray(e)||(e=[e]),this.subscribed(s)?(this.events[s].forEach((r,a)=>{o=r.callback.apply(this,e.concat([o]))}),o):"function"==typeof n?n():n}_confirm(s,e){var t=!1;return Array.isArray(e)||(e=[e]),this.subscribed(s)&&this.events[s].forEach((n,o)=>{n.callback.apply(this,e)&&(t=!0)}),t}_notifiySubscriptionChange(s,e){var t=this.subscriptionNotifiers[s];t&&t.forEach(n=>{n(e)})}_dispatch(){var s=Array.from(arguments),e=s.shift();this.events[e]&&this.events[e].forEach(t=>{t.callback.apply(this,s)})}_debugDispatch(){var s=Array.from(arguments),e=s[0];return s[0]="InternalEvent:"+e,(!0===this.debug||this.debug.includes(e))&&console.log(...s),this._dispatch(...arguments)}_debugChain(){var s=Array.from(arguments),e=s[0];return s[0]="InternalEvent:"+e,(!0===this.debug||this.debug.includes(e))&&console.log(...s),this._chain(...arguments)}_debugConfirm(){var s=Array.from(arguments),e=s[0];return s[0]="InternalEvent:"+e,(!0===this.debug||this.debug.includes(e))&&console.log(...s),this._confirm(...arguments)}}let Qt=(()=>{class c{static register(e){c.tables.push(e)}static deregister(e){var t=c.tables.indexOf(e);t>-1&&c.tables.splice(t,1)}static lookupTable(e,t){var o,r,n=[];if("string"==typeof e){if((o=document.querySelectorAll(e)).length)for(var a=0;a<o.length;a++)(r=c.matchElement(o[a]))&&n.push(r)}else"undefined"!=typeof HTMLElement&&e instanceof HTMLElement||e instanceof ei?(r=c.matchElement(e))&&n.push(r):Array.isArray(e)?e.forEach(function(f){n=n.concat(c.lookupTable(f))}):t||console.warn("Table Connection Error - Invalid Selector",e);return n}static matchElement(e){return c.tables.find(function(t){return e instanceof ei?t===e:t.element===e})}}return c.tables=[],c})();function Di(c){c.forEach(function(s){s.reinitializeWidth()}),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}var zi={fitData:function li(c){this.table.columnManager.renderer.reinitializeColumnWidths(c),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataFill:Di,fitDataTable:Di,fitDataStretch:function ci(c){var s=0,e=this.table.rowManager.element.clientWidth,t=0,n=!1;c.forEach((o,r)=>{o.widthFixed||o.reinitializeWidth(),(this.table.options.responsiveLayout?o.modules.responsive.visible:o.visible)&&(n=o),o.visible&&(s+=o.getWidth())}),n?(t=e-s+n.getWidth(),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&(n.setWidth(0),this.table.modules.responsiveLayout.update()),t>0?n.setWidth(t):n.reinitializeWidth()):this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitColumns:function Ti(c){var o,y,s=this.table.element.clientWidth,e=0,t=0,n=0,r=[],a=[],f=0,U=0;function x(X){return"string"==typeof X?X.indexOf("%")>-1?s/100*parseInt(X):parseInt(X):X}function P(X,he,me,be){var Ie=[],Ue=0,mt=0,vt=0,At=n,kt=0,It=0,xt=[];function zt(et){return me*(et.column.definition.widthGrow||1)}function St(et){return x(et.width)-me*(et.column.definition.widthShrink||0)}return X.forEach(function(et,Vt){var Nt=be?St(et):zt(et);et.column.minWidth>=Nt?Ie.push(et):et.column.maxWidth&&et.column.maxWidth<Nt?(et.width=et.column.maxWidth,he-=et.column.maxWidth,(At-=be?et.column.definition.widthShrink||1:et.column.definition.widthGrow||1)&&(me=Math.floor(he/At))):(xt.push(et),It+=be?et.column.definition.widthShrink||1:et.column.definition.widthGrow||1)}),Ie.length?(Ie.forEach(function(et){Ue+=be?et.width-et.column.minWidth:et.column.minWidth,et.width=et.column.minWidth}),kt=(mt=he-Ue)-(vt=It?Math.floor(mt/It):mt)*It,kt+=P(xt,mt,vt,be)):(kt=It?he-Math.floor(he/It)*It:he,xt.forEach(function(et){et.width=be?St(et):zt(et)})),kt}this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(s-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),c.forEach(function(X){var he,me,be;X.visible&&(he=X.definition.width,me=parseInt(X.minWidth),he?(be=x(he),e+=be>me?be:me,X.definition.widthShrink&&(a.push({column:X,width:be>me?be:me}),f+=X.definition.widthShrink)):(r.push({column:X,width:0}),n+=X.definition.widthGrow||1))}),t=s-e,o=Math.floor(t/n),U=P(r,t,o,!1),r.length&&U>0&&(r[r.length-1].width+=+U),r.forEach(function(X){t-=X.width}),(y=Math.abs(U)+t)>0&&f&&(U=P(a,y,Math.floor(y/f),!0)),a.length&&(a[a.length-1].width-=U),r.forEach(function(X){X.column.setWidth(X.width)}),a.forEach(function(X){X.column.setWidth(X.width)})}},Ni={default:{groups:{item:"item",items:"items"},columns:{},data:{loading:"Loading",error:"Error"},pagination:{page_size:"Page Size",page_title:"Show Page",first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page",all:"All",counter:{showing:"Showing",of:"of",rows:"rows",pages:"pages"}},headerFilters:{default:"filter column...",columns:{}}}},qt=Object.freeze({__proto__:null,LayoutModule:(()=>{class c extends d{constructor(e){super(e,"layout"),this.mode=null,this.registerTableOption("layout","fitData"),this.registerTableOption("layoutColumnsOnNewData",!1),this.registerColumnOption("widthGrow"),this.registerColumnOption("widthShrink")}initialize(){var e=this.table.options.layout;c.modes[e]?this.mode=e:(console.warn("Layout Error - invalid mode set, defaulting to 'fitData' : "+e),this.mode="fitData"),this.table.element.setAttribute("tabulator-layout",this.mode)}getMode(){return this.mode}layout(){this.dispatch("layout-refreshing"),c.modes[this.mode].call(this,this.table.columnManager.columnsByIndex),this.dispatch("layout-refreshed")}}return c.moduleName="layout",c.modes=zi,c})(),LocalizeModule:(()=>{class c extends d{constructor(e){super(e),this.locale="default",this.lang=!1,this.bindings={},this.langList={},this.registerTableOption("locale",!1),this.registerTableOption("langs",{})}initialize(){this.langList=L.deepClone(c.langs),!1!==this.table.options.columnDefaults.headerFilterPlaceholder&&this.setHeaderFilterPlaceholder(this.table.options.columnDefaults.headerFilterPlaceholder);for(let e in this.table.options.langs)this.installLang(e,this.table.options.langs[e]);this.setLocale(this.table.options.locale),this.registerTableFunction("setLocale",this.setLocale.bind(this)),this.registerTableFunction("getLocale",this.getLocale.bind(this)),this.registerTableFunction("getLang",this.getLang.bind(this))}setHeaderFilterPlaceholder(e){this.langList.default.headerFilters.default=e}setHeaderFilterColumnPlaceholder(e,t){this.langList.default.headerFilters.columns[e]=t,this.lang&&!this.lang.headerFilters.columns[e]&&(this.lang.headerFilters.columns[e]=t)}installLang(e,t){this.langList[e]?this._setLangProp(this.langList[e],t):this.langList[e]=t}_setLangProp(e,t){for(let n in t)e[n]&&"object"==typeof e[n]?this._setLangProp(e[n],t[n]):e[n]=t[n]}setLocale(e){if(!0===(e=e||"default")&&navigator.language&&(e=navigator.language.toLowerCase()),e&&!this.langList[e]){let n=e.split("-")[0];this.langList[n]?(console.warn("Localization Error - Exact matching locale not found, using closest match: ",e,n),e=n):(console.warn("Localization Error - Matching locale not found, using default: ",e),e="default")}this.locale=e,this.lang=L.deepClone(this.langList.default||{}),"default"!=e&&function t(n,o){for(var r in n)"object"==typeof n[r]?(o[r]||(o[r]={}),t(n[r],o[r])):o[r]=n[r]}(this.langList[e],this.lang),this.dispatchExternal("localized",this.locale,this.lang),this._executeBindings()}getLocale(e){return this.locale}getLang(e){return e?this.langList[e]:this.lang}getText(n,t){var o=(n=t?n+"|"+t:n).split("|");return this._getLangElement(o,this.locale)||""}_getLangElement(e,t){var n=this.lang;return e.forEach(function(o){var r;n&&(n=void 0!==(r=n[o])&&r)}),n}bind(e,t){this.bindings[e]||(this.bindings[e]=[]),this.bindings[e].push(t),t(this.getText(e),this.lang)}_executeBindings(){for(let e in this.bindings)this.bindings[e].forEach(t=>{t(this.getText(e),this.lang)})}}return c.moduleName="localize",c.langs=Ni,c})(),CommsModule:(()=>{class c extends d{constructor(e){super(e)}initialize(){this.registerTableFunction("tableComms",this.receive.bind(this))}getConnections(e){var t=[];return Qt.lookupTable(e).forEach(o=>{this.table!==o&&t.push(o)}),t}send(e,t,n,o){var r=this.getConnections(e);r.forEach(a=>{a.tableComms(this.table.element,t,n,o)}),!r.length&&e&&console.warn("Table Connection Error - No tables matching selector found",e)}receive(e,t,n,o){if(this.table.modExists(t))return this.table.modules[t].commsReceived(e,n,o);console.warn("Inter-table Comms Error - no such module:",t)}}return c.moduleName="comms",c})()});class di{constructor(s,e){this.bindStaticFuctionality(s),this.bindModules(s,qt,!0),e&&this.bindModules(s,e)}bindStaticFuctionality(s){s.moduleBindings={},s.extendModule=function(e,t,n){if(s.moduleBindings[e]){var o=s.moduleBindings[e][t];if(o)if("object"==typeof n)for(let r in n)o[r]=n[r];else console.warn("Module Error - Invalid value type, it must be an object");else console.warn("Module Error - property does not exist:",t)}else console.warn("Module Error - module does not exist:",e)},s.registerModule=function(e){Array.isArray(e)||(e=[e]),e.forEach(t=>{s.registerModuleBinding(t)})},s.registerModuleBinding=function(e){s.moduleBindings[e.moduleName]=e},s.findTable=function(e){var t=Qt.lookupTable(e,!0);return!(Array.isArray(t)&&!t.length)&&t},s.prototype.bindModules=function(){var e=[],t=[];for(var n in this.modules={},s.moduleBindings){let o=s.moduleBindings[n],r=new o(this);this.modules[n]=r,o.prototype.moduleCore?this.modulesCore.push(r):o.moduleInitOrder?e.push(r):t.push(r)}e.sort((o,r)=>o.moduleInitOrder>r.moduleInitOrder?1:-1),this.modulesRegular=e.concat(t)}}bindModules(s,e,t){var n=Object.values(e);t&&n.forEach(o=>{o.prototype.moduleCore=!0}),s.registerModule(n)}}let ei=(()=>{class c{constructor(e,t){this.options={},this.columnManager=null,this.rowManager=null,this.footerManager=null,this.vdomHoz=null,this.externalEvents=null,this.eventBus=null,this.interactionMonitor=!1,this.browser="",this.browserSlow=!1,this.browserMobile=!1,this.rtl=!1,this.originalElement=null,this.componentFunctionBinder=new Fi(this),this.dataLoader=!1,this.modules={},this.modulesCore=[],this.modulesRegular=[],this.optionsList=new yi(this,"table constructor"),this.initialized=!1,this.initializeElement(e)&&(this.initializeCoreSystems(t),setTimeout(()=>{this._create()})),Qt.register(this)}initializeElement(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement?(this.element=e,!0):"string"==typeof e?(this.element=document.querySelector(e),!!this.element||(console.error("Tabulator Creation Error - no element found matching selector: ",e),!1)):(console.error("Tabulator Creation Error - Invalid element provided:",e),!1)}initializeCoreSystems(e){this.columnManager=new Ii(this),this.rowManager=new Li(this),this.footerManager=new Ei(this),this.dataLoader=new Mi(this),this.bindModules(),this.options=this.optionsList.generate(c.defaultOptions,e),this._clearObjectPointers(),this._mapDeprecatedFunctionality(),this.externalEvents=new Bi(this,this.options,this.options.debugEventsExternal),this.eventBus=new Jt(this.options.debugEventsInternal),this.interactionMonitor=new wi(this),this.dataLoader.initialize(),this.footerManager.initialize()}_mapDeprecatedFunctionality(){}_clearSelection(){this.element.classList.add("tabulator-block-select"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.element.classList.remove("tabulator-block-select")}_create(){this.externalEvents.dispatch("tableBuilding"),this.eventBus.dispatch("table-building"),this._rtlCheck(),this._buildElement(),this._initializeTable(),this._loadInitialData(),this.initialized=!0,this.externalEvents.dispatch("tableBuilt")}_rtlCheck(){var e=window.getComputedStyle(this.element);switch(this.options.textDirection){case"auto":if("rtl"!==e.direction)break;case"rtl":this.element.classList.add("tabulator-rtl"),this.rtl=!0;break;case"ltr":this.element.classList.add("tabulator-ltr");default:this.rtl=!1}}_clearObjectPointers(){this.options.columns=this.options.columns.slice(0),this.options.data&&!this.options.reactiveData&&(this.options.data=this.options.data.slice(0))}_buildElement(){var n,e=this.element,t=this.options;if("TABLE"===e.tagName){this.originalElement=this.element,n=document.createElement("div");var o=e.attributes;for(var r in o)"object"==typeof o[r]&&n.setAttribute(o[r].name,o[r].value);e.parentNode.replaceChild(n,e),this.element=e=n}for(e.classList.add("tabulator"),e.setAttribute("role","grid");e.firstChild;)e.removeChild(e.firstChild);t.height&&(t.height=isNaN(t.height)?t.height:t.height+"px",e.style.height=t.height),!1!==t.minHeight&&(t.minHeight=isNaN(t.minHeight)?t.minHeight:t.minHeight+"px",e.style.minHeight=t.minHeight),!1!==t.maxHeight&&(t.maxHeight=isNaN(t.maxHeight)?t.maxHeight:t.maxHeight+"px",e.style.maxHeight=t.maxHeight)}_initializeTable(){var e=this.element,t=this.options;this.interactionMonitor.initialize(),this.columnManager.initialize(),this.rowManager.initialize(),this._detectBrowser(),this.modulesCore.forEach(n=>{n.initialize()}),e.appendChild(this.columnManager.getElement()),e.appendChild(this.rowManager.getElement()),t.footerElement&&this.footerManager.activate(),t.autoColumns&&t.data&&this.columnManager.generateColumnsFromRowData(this.options.data),this.modulesRegular.forEach(n=>{n.initialize()}),this.columnManager.setColumns(t.columns),this.eventBus.dispatch("table-built")}_loadInitialData(){this.dataLoader.load(this.options.data)}destroy(){var e=this.element;for(Qt.deregister(this),this.eventBus.dispatch("table-destroy"),this.rowManager.rows.forEach(function(t){t.wipe()}),this.rowManager.rows=[],this.rowManager.activeRows=[],this.rowManager.displayRows=[];e.firstChild;)e.removeChild(e.firstChild);e.classList.remove("tabulator")}_detectBrowser(){var e=navigator.userAgent||navigator.vendor||window.opera;e.indexOf("Trident")>-1?(this.browser="ie",this.browserSlow=!0):e.indexOf("Edge")>-1?(this.browser="edge",this.browserSlow=!0):e.indexOf("Firefox")>-1?(this.browser="firefox",this.browserSlow=!1):(this.browser="other",this.browserSlow=!1),this.browserMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.slice(0,4))}blockRedraw(){return this.rowManager.blockRedraw()}restoreRedraw(){return this.rowManager.restoreRedraw()}setData(e,t,n){if(this.initialized)return this.dataLoader.load(e,t,n,!1);console.warn("setData failed - table not yet initialized. To set initial data please use the 'data' property in the table constructor.")}clearData(){this.dataLoader.blockActiveLoad(),this.rowManager.clearData()}getData(e){return this.rowManager.getData(e)}getDataCount(e){return this.rowManager.getDataCount(e)}replaceData(e,t,n){if(this.initialized)return this.dataLoader.load(e,t,n,!0,!0);console.warn("replaceData failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}updateData(e){var t=0;if(this.initialized)return new Promise((n,o)=>{this.dataLoader.blockActiveLoad(),"string"==typeof e&&(e=JSON.parse(e)),e?e.forEach(r=>{var a=this.rowManager.findRow(r[this.options.index]);a&&(t++,a.updateData(r).then(()=>{--t||n()}))}):(console.warn("Update Error - No data provided"),o("Update Error - No data provided"))});console.warn("updateData failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}addData(e,t,n){if(this.initialized)return new Promise((o,r)=>{this.dataLoader.blockActiveLoad(),"string"==typeof e&&(e=JSON.parse(e)),e?this.rowManager.addRows(e,t,n).then(a=>{var f=[];a.forEach(function(y){f.push(y.getComponent())}),o(f)}):(console.warn("Update Error - No data provided"),r("Update Error - No data provided"))});console.warn("addData failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}updateOrAddData(e){var t=[],n=0;if(this.initialized)return new Promise((o,r)=>{this.dataLoader.blockActiveLoad(),"string"==typeof e&&(e=JSON.parse(e)),e?e.forEach(a=>{var f=this.rowManager.findRow(a[this.options.index]);n++,f?f.updateData(a).then(()=>{n--,t.push(f.getComponent()),n||o(t)}):this.rowManager.addRows(a).then(y=>{n--,t.push(y[0].getComponent()),n||o(t)})}):(console.warn("Update Error - No data provided"),r("Update Error - No data provided"))});console.warn("updateOrAddData failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}getRow(e){var t=this.rowManager.findRow(e);return t?t.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}getRowFromPosition(e,t){var n=this.rowManager.getRowFromPosition(e,t);return n?n.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}deleteRow(e){var t=[];Array.isArray(e)||(e=[e]);for(let n of e){let o=this.rowManager.findRow(n,!0);if(!o)return console.error("Delete Error - No matching row found:",n),Promise.reject("Delete Error - No matching row found");t.push(o)}return t.sort((n,o)=>this.rowManager.rows.indexOf(n)>this.rowManager.rows.indexOf(o)?1:-1),t.forEach(n=>{n.delete()}),this.rowManager.reRenderInPosition(),Promise.resolve()}addRow(e,t,n){if(this.initialized)return"string"==typeof e&&(e=JSON.parse(e)),this.rowManager.addRows(e,t,n).then(o=>o[0].getComponent());console.warn("addRow failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}updateOrAddRow(e,t){var n=this.rowManager.findRow(e);return"string"==typeof t&&(t=JSON.parse(t)),n?n.updateData(t).then(()=>n.getComponent()):this.rowManager.addRows(t).then(o=>o[0].getComponent())}updateRow(e,t){var n=this.rowManager.findRow(e);return"string"==typeof t&&(t=JSON.parse(t)),n?n.updateData(t).then(()=>Promise.resolve(n.getComponent())):(console.warn("Update Error - No matching row found:",e),Promise.reject("Update Error - No matching row found"))}scrollToRow(e,t,n){var o=this.rowManager.findRow(e);return o?this.rowManager.scrollToRow(o,t,n):(console.warn("Scroll Error - No matching row found:",e),Promise.reject("Scroll Error - No matching row found"))}moveRow(e,t,n){var o=this.rowManager.findRow(e);o?o.moveToRow(t,n):console.warn("Move Error - No matching row found:",e)}getRows(e){return this.rowManager.getComponents(e)}getRowPosition(e,t){var n=this.rowManager.findRow(e);return n?this.rowManager.getRowPosition(n,t):(console.warn("Position Error - No matching row found:",e),!1)}setColumns(e){this.initialized?this.columnManager.setColumns(e):console.warn("setColumns failed - table not yet initialized. To set initial data please use the 'columns' property in the table constructor.")}getColumns(e){return this.columnManager.getComponents(e)}getColumn(e){var t=this.columnManager.findColumn(e);return t?t.getComponent():(console.warn("Find Error - No matching column found:",e),!1)}getColumnDefinitions(){return this.columnManager.getDefinitionTree()}showColumn(e){var t=this.columnManager.findColumn(e);if(!t)return console.warn("Column Show Error - No matching column found:",e),!1;t.show()}hideColumn(e){var t=this.columnManager.findColumn(e);if(!t)return console.warn("Column Hide Error - No matching column found:",e),!1;t.hide()}toggleColumn(e){var t=this.columnManager.findColumn(e);if(!t)return console.warn("Column Visibility Toggle Error - No matching column found:",e),!1;t.visible?t.hide():t.show()}addColumn(e,t,n){var o=this.columnManager.findColumn(n);return this.columnManager.addColumn(e,t,o).then(r=>r.getComponent())}deleteColumn(e){var t=this.columnManager.findColumn(e);return t?t.delete():(console.warn("Column Delete Error - No matching column found:",e),Promise.reject())}updateColumnDefinition(e,t){var n=this.columnManager.findColumn(e);return n?n.updateDefinition(t):(console.warn("Column Update Error - No matching column found:",e),Promise.reject())}moveColumn(e,t,n){var o=this.columnManager.findColumn(e),r=this.columnManager.findColumn(t);o?r?this.columnManager.moveColumn(o,r,n):console.warn("Move Error - No matching column found:",r):console.warn("Move Error - No matching column found:",e)}scrollToColumn(e,t,n){return new Promise((o,r)=>{var a=this.columnManager.findColumn(e);return a?this.columnManager.scrollToColumn(a,t,n):(console.warn("Scroll Error - No matching column found:",e),Promise.reject("Scroll Error - No matching column found"))})}redraw(e){this.initialized?(this.columnManager.redraw(e),this.rowManager.redraw(e)):console.warn("redraw failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}setHeight(e){this.options.height=isNaN(e)?e:e+"px",this.element.style.height=this.options.height,this.rowManager.initializeRenderer(),this.rowManager.redraw()}on(e,t){this.externalEvents.subscribe(e,t)}off(e,t){this.externalEvents.unsubscribe(e,t)}dispatchEvent(){Array.from(arguments).shift(),this.externalEvents.dispatch(...arguments)}modExists(e,t){return!!this.modules[e]||(t&&console.error("Tabulator Module Not Installed: "+e),!1)}module(e){var t=this.modules[e];return t||console.error("Tabulator module not installed: "+e),t}}return c.defaultOptions=vi,c})();new di(ei);class ui extends ei{}new di(ui,bi)},5391:de=>{var H,te="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),l={},d=0,L=0;function I(ae){var Y="";do{Y=te[ae%64]+Y,ae=Math.floor(ae/64)}while(ae>0);return Y}function $(){var ae=I(+new Date);return ae!==H?(d=0,H=ae):ae+"."+I(d++)}for(;L<64;L++)l[te[L]]=L;$.encode=I,$.decode=function G(ae){var Y=0;for(L=0;L<ae.length;L++)Y=64*Y+l[ae.charAt(L)];return Y},de.exports=$},6811:(de,te,E)=>{E.d(te,{m:()=>se});var l=E(92),d=E(7451),H=E(325),I=E(3192),$=E(8213);function ae(le,N){1&le&&(d.\u0275\u0275elementContainerStart(0),d.\u0275\u0275elementStart(1,"section",2),d.\u0275\u0275element(2,"spiner-atom"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementContainerEnd())}function Y(le,N){if(1&le&&(d.\u0275\u0275elementContainerStart(0),d.\u0275\u0275text(1),d.\u0275\u0275elementContainerEnd()),2&le){const R=d.\u0275\u0275nextContext();d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(R.title)}}let se=(()=>{class le{constructor(R){this.dynamicFormBuilderService=R,this.title="",this.eventType="",this.fetching={},this.disabled=!1,this.formGroup=new l.cw({}),this.style={},this.loading=!1}onEventTriggered(){this.eventType&&this.dynamicFormBuilderService.emmitButtonTriggerEventType({eventType:this.eventType??"",key:this.key,fetching:this.fetching??{}})}}return le.\u0275fac=function(R){return new(R||le)(d.\u0275\u0275directiveInject(H.D))},le.\u0275cmp=d.\u0275\u0275defineComponent({type:le,selectors:[["button-atom"]],inputs:{key:"key",title:"title",eventType:"eventType",fetching:"fetching",disabled:"disabled",formGroup:"formGroup",style:"style",loading:"loading"},decls:3,vars:6,consts:[[1,"mobilform-button-atom",3,"disabled","id","name","ngStyle","click"],[4,"ngIf"],[1,"mobilform-button-atom__loading"]],template:function(R,C){1&R&&(d.\u0275\u0275elementStart(0,"button",0),d.\u0275\u0275listener("click",function(){return C.onEventTriggered()}),d.\u0275\u0275template(1,ae,3,0,"ng-container",1),d.\u0275\u0275template(2,Y,2,1,"ng-container",1),d.\u0275\u0275elementEnd()),2&R&&(d.\u0275\u0275property("disabled",C.disabled||C.loading)("id",C.key)("name",C.key)("ngStyle",C.style),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",C.loading),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",!C.loading))},directives:[I.NgStyle,I.NgIf,$.J],styles:[".mobilform-button-atom[_ngcontent-%COMP%]{font-size:10px;font-weight:700;padding:.5rem 1rem;border-radius:.25rem;background-color:#1d4ed8;color:#fff;width:100%}.mobilform-button-atom[_ngcontent-%COMP%]:hover{background-color:#1e40af}.mobilform-button-atom__loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.mobilform-button-atom__loading[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-left:.5rem}"]}),le})()},8367:(de,te,E)=>{E.d(te,{A:()=>G});var l=E(92),d=E(7451),H=E(3192);let G=(()=>{class ${constructor(){this.key="",this.label="",this.formGroup=new l.cw({}),this.style={}}ngOnInit(){}getFormGroupGroup(){return this.formGroup.get(this.key)}}return $.\u0275fac=function(Y){return new(Y||$)},$.\u0275cmp=d.\u0275\u0275defineComponent({type:$,selectors:[["checkbox-atom"]],inputs:{key:"key",label:"label",formGroup:"formGroup",style:"style"},decls:2,vars:5,consts:[[1,"mobilform-checkbox",3,"formGroup"],["type","checkbox",3,"id","formControlName","name","ngStyle"]],template:function(Y,se){1&Y&&(d.\u0275\u0275elementStart(0,"section",0),d.\u0275\u0275element(1,"input",1),d.\u0275\u0275elementEnd()),2&Y&&(d.\u0275\u0275property("formGroup",se.formGroup),d.\u0275\u0275advance(1),d.\u0275\u0275property("id",se.key)("formControlName",se.key)("name",se.key)("ngStyle",se.style))},directives:[l.JL,l.sg,l.Wl,l.JJ,l.u,H.NgStyle],styles:[".mobilform-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;height:100%;font-size:.625rem}"]}),$})()},7288:(de,te,E)=>{E.d(te,{$:()=>N});var l=E(92),d=E(824),H=E(5033),G=E(7451),ae=E(325),Y=E(3192);function le(R,C){if(1&R&&(G.\u0275\u0275elementStart(0,"option",4),G.\u0275\u0275text(1),G.\u0275\u0275elementEnd()),2&R){const O=C.$implicit;G.\u0275\u0275property("ngValue",O.key),G.\u0275\u0275advance(1),G.\u0275\u0275textInterpolate1(" ",O.label," ")}}let N=(()=>{class R{constructor(O){this.dynamicFormBuilderService=O,this.key="",this.id="",this.options=[],this.placeholder="",this.formGroup=new l.cw({}),this.fetching={},this.style={}}ngOnInit(){switch(this.fetching?.typEvent){case"onInit":this.onInitMethod();break;case"onChange":this.listenChangesField()}}ngOnDestroy(){this.changesFieldSubscription$?.unsubscribe(),this.responseFetchingElement$?.unsubscribe()}onInitMethod(){this.dynamicFormBuilderService.emmitFetchingElement({...this.fetching,identifierElement:this.key})}listenChangesResponseFetchingElement(){this.responseFetchingElement$=this.dynamicFormBuilderService.onChangesResponseFetchingElement().subscribe(O=>{O.identifierElement===this.key&&this.dynamicFormBuilderService.assignValueVariableWithKey(this.fetching?.variable??"",O.response)})}listenChangesField(){this.changesFieldSubscription$=this.formGroup.get(this.key)?.valueChanges.pipe((0,H.delay)(1e3)).subscribe(()=>{this.dynamicFormBuilderService.emmitFetchingElement({...this.fetching,identifierElement:this.key})})??new d.Subscription,this.listenChangesResponseFetchingElement()}}return R.\u0275fac=function(O){return new(O||R)(G.\u0275\u0275directiveInject(ae.D))},R.\u0275cmp=G.\u0275\u0275defineComponent({type:R,selectors:[["dropdown-atom"]],inputs:{key:"key",id:"id",options:"options",placeholder:"placeholder",formGroup:"formGroup",fetching:"fetching",style:"style"},decls:5,vars:9,consts:[[3,"formGroup"],["aria-label","Default select example",1,"mobilform-select",3,"ngStyle","name","id","formControlName"],[3,"ngValue","disabled"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(O,B){1&O&&(G.\u0275\u0275elementStart(0,"section",0),G.\u0275\u0275elementStart(1,"select",1),G.\u0275\u0275elementStart(2,"option",2),G.\u0275\u0275text(3),G.\u0275\u0275elementEnd(),G.\u0275\u0275template(4,le,2,2,"option",3),G.\u0275\u0275elementEnd(),G.\u0275\u0275elementEnd()),2&O&&(G.\u0275\u0275property("formGroup",B.formGroup),G.\u0275\u0275advance(1),G.\u0275\u0275property("ngStyle",B.style)("name",B.key)("id",B.id)("formControlName",B.key),G.\u0275\u0275advance(1),G.\u0275\u0275property("ngValue","")("disabled",!0),G.\u0275\u0275advance(1),G.\u0275\u0275textInterpolate(B.placeholder),G.\u0275\u0275advance(1),G.\u0275\u0275property("ngForOf",B.options))},directives:[l.JL,l.sg,l.EJ,Y.NgStyle,l.JJ,l.u,l.YN,l.Kr,Y.NgForOf],styles:[".mobilform-select[_ngcontent-%COMP%]{background-color:#fff;line-height:1.25;padding:.5rem .75rem;border-radius:.25rem;-webkit-appearance:none;-moz-appearance:none;width:100%;border-width:1px;font-size:12px;height:30px;background-repeat:no-repeat;appearance:none;background-clip:padding-box;display:block;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e\");background-position:right .75rem center;background-size:16px 12px;transition-property:color,background-color,border-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-text-decoration-color,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-text-decoration-color,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.mobilform-select[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px}"]}),R})()},716:(de,te,E)=>{E.d(te,{J:()=>G});var l=E(7451),L=E(3192);function I($,ae){1&$&&(l.\u0275\u0275elementStart(0,"strong",2),l.\u0275\u0275text(1,"*"),l.\u0275\u0275elementEnd())}let G=(()=>{class ${constructor(){this.required=!1,this.style={fontSize:"0.625rem",lineHeight:"1.25rem"}}ngOnInit(){}}return $.\u0275fac=function(Y){return new(Y||$)},$.\u0275cmp=l.\u0275\u0275defineComponent({type:$,selectors:[["label-atom"]],inputs:{key:"key",required:"required",title:"title",formGroup:"formGroup",style:"style"},decls:3,vars:5,consts:[[1,"block","text-gray-700","font-bold",3,"id","ngStyle"],["class","text-red-500",4,"ngIf"],[1,"text-red-500"]],template:function(Y,se){1&Y&&(l.\u0275\u0275elementStart(0,"label",0),l.\u0275\u0275text(1),l.\u0275\u0275template(2,I,2,0,"strong",1),l.\u0275\u0275elementEnd()),2&Y&&(l.\u0275\u0275property("id",se.key)("ngStyle",se.style),l.\u0275\u0275attribute("for",se.key),l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate1(" ",se.title," "),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",se.required))},directives:[L.NgStyle,L.NgIf],styles:[".label__sm[_ngcontent-%COMP%]{font-size:.75rem;line-height:1rem}.label__md[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem}.label__xl[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.75rem}"]}),$})()},3818:(de,te,E)=>{E.d(te,{t:()=>ae});var l=E(92),d=E(7451),H=E(3192),G=E(716);function $(Y,se){if(1&Y){const le=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"section",2),d.\u0275\u0275elementStart(1,"input",3),d.\u0275\u0275listener("change",function(R){return d.\u0275\u0275restoreView(le),d.\u0275\u0275nextContext().changeValue(R)}),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(2,"label-atom",4),d.\u0275\u0275elementEnd()}if(2&Y){const le=se.$implicit,N=d.\u0275\u0275nextContext();d.\u0275\u0275advance(1),d.\u0275\u0275property("value",le.key)("checked",le.key===N.valueField),d.\u0275\u0275advance(1),d.\u0275\u0275property("title",le.label)("key",le.label)}}let ae=(()=>{class Y{constructor(){this.key="",this.options=[],this.formGroup=new l.cw({})}get valueField(){return this.formGroup.get(this.key)?.value}changeValue({target:{value:le}}){this.formGroup.get(this.key)?.setValue(le)}ngOnInit(){}}return Y.\u0275fac=function(le){return new(le||Y)},Y.\u0275cmp=d.\u0275\u0275defineComponent({type:Y,selectors:[["radio-atom"]],inputs:{key:"key",options:"options",formGroup:"formGroup"},decls:2,vars:2,consts:[[1,"form-check",3,"formGroup"],["class","mobilform-radio__wrapper",4,"ngFor","ngForOf"],[1,"mobilform-radio__wrapper"],["type","radio",1,"mobilform-radio__wrapper__input",3,"value","checked","change"],[3,"title","key"]],template:function(le,N){1&le&&(d.\u0275\u0275elementStart(0,"div",0),d.\u0275\u0275template(1,$,3,4,"section",1),d.\u0275\u0275elementEnd()),2&le&&(d.\u0275\u0275property("formGroup",N.formGroup),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",N.options))},directives:[l.JL,l.sg,H.NgForOf,G.J],styles:[".mobilform-radio__wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}.mobilform-radio__wrapper__input[_ngcontent-%COMP%]{margin-right:.5rem}"]}),Y})()},8213:(de,te,E)=>{E.d(te,{J:()=>L});var l=E(7451);let L=(()=>{class H{constructor(){this.dimension=18}ngOnInit(){}}return H.\u0275fac=function(G){return new(G||H)},H.\u0275cmp=l.\u0275\u0275defineComponent({type:H,selectors:[["spiner-atom"]],inputs:{dimension:"dimension"},decls:1,vars:4,consts:[[1,"mobilform-spinner"]],template:function(G,$){1&G&&l.\u0275\u0275element(0,"div",0),2&G&&l.\u0275\u0275styleProp("width",$.dimension,"px")("height",$.dimension,"px")},styles:[".mobilform-spinner[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.1);border-radius:50%;border-image:linear-gradient(180deg,#04bfad 6.33%,#0476d9 52.12%,#e1c532 105.1%) 1;animation:spin 1s ease infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),H})()},4565:(de,te,E)=>{E.d(te,{n:()=>R});var l=E(7451),L=E(325),H=E(3192),G=E(92);function $(C,O){if(1&C&&l.\u0275\u0275element(0,"input",5),2&C){const B=l.\u0275\u0275nextContext(2);l.\u0275\u0275property("id",B.key)("name",B.key)("formControlName",B.key)("placeholder",B.placeholder)("ngStyle",B.style)("value",B.value),l.\u0275\u0275attribute("type",B.type)("disabled",B.disabled?"":null)}}function ae(C,O){if(1&C&&l.\u0275\u0275element(0,"textarea",6),2&C){const B=l.\u0275\u0275nextContext(2);l.\u0275\u0275classProp("is-invalid",B.isDirty&&!B.isValid),l.\u0275\u0275property("id",B.key)("name",B.key)("ngStyle",B.style)("value",B.value)("formControlName",B.key)("placeholder",B.placeholder),l.\u0275\u0275attribute("disabled",B.disabled?"":null)}}function Y(C,O){if(1&C&&(l.\u0275\u0275elementStart(0,"section",2),l.\u0275\u0275template(1,$,1,8,"input",3),l.\u0275\u0275template(2,ae,1,9,"textarea",4),l.\u0275\u0275elementEnd()),2&C){const B=l.\u0275\u0275nextContext();l.\u0275\u0275property("formGroup",B.formGroup),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",!B.multiline),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",B.multiline)}}function se(C,O){if(1&C&&l.\u0275\u0275element(0,"input",5),2&C){const B=l.\u0275\u0275nextContext(2);l.\u0275\u0275property("id",B.key)("name",B.key)("formControlName",B.key)("placeholder",B.placeholder)("ngStyle",B.style)("value",B.value),l.\u0275\u0275attribute("disabled",B.disabled?"":null)("type",B.type)}}function le(C,O){if(1&C&&l.\u0275\u0275element(0,"textarea",6),2&C){const B=l.\u0275\u0275nextContext(2);l.\u0275\u0275classProp("is-invalid",B.isDirty&&!B.isValid),l.\u0275\u0275property("id",B.key)("name",B.key)("ngStyle",B.style)("value",B.value)("formControlName",B.key)("placeholder",B.placeholder),l.\u0275\u0275attribute("disabled",B.disabled?"":null)}}function N(C,O){if(1&C&&(l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275template(1,se,1,8,"input",3),l.\u0275\u0275template(2,le,1,9,"textarea",4),l.\u0275\u0275elementContainerEnd()),2&C){const B=l.\u0275\u0275nextContext();l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",!B.multiline),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",B.multiline)}}let R=(()=>{class C{constructor(B){this.dynamicFormBuilderService=B,this.key="",this.type="",this.mask="",this.specialCharacters=[],this.patterns={},this.placeholder="",this.style={}}get isValid(){return this.formGroup.controls[this.key].valid}get isDirty(){return this.formGroup.controls[this.key].dirty}ngOnInit(){this.listenChangesVariablesGlobales()}ngOnDestroy(){this.variablesChanges$?.unsubscribe()}listenChangesVariablesGlobales(){this.variablesChanges$=this.dynamicFormBuilderService.onChangesVariablesChanges().subscribe(()=>{this.value&&this.formGroup.get(this.key)?.setValue(this.dynamicFormBuilderService.getValueInterpolated(this.value))})}}return C.\u0275fac=function(B){return new(B||C)(l.\u0275\u0275directiveInject(L.D))},C.\u0275cmp=l.\u0275\u0275defineComponent({type:C,selectors:[["atom-text-field"]],inputs:{key:"key",type:"type",mask:"mask",disabled:"disabled",specialCharacters:"specialCharacters",value:"value",patterns:"patterns",multiline:"multiline",placeholder:"placeholder",formGroup:"formGroup",style:"style"},decls:2,vars:2,consts:[[3,"formGroup",4,"ngIf"],[4,"ngIf"],[3,"formGroup"],["class","mobilform-input","autocomplete","off",3,"id","name","formControlName","placeholder","ngStyle","value",4,"ngIf"],["rows","4","class","mobilform-textarea","autocomplete","off",3,"is-invalid","id","name","ngStyle","value","formControlName","placeholder",4,"ngIf"],["autocomplete","off",1,"mobilform-input",3,"id","name","formControlName","placeholder","ngStyle","value"],["rows","4","autocomplete","off",1,"mobilform-textarea",3,"id","name","ngStyle","value","formControlName","placeholder"]],template:function(B,ge){1&B&&(l.\u0275\u0275template(0,Y,3,3,"section",0),l.\u0275\u0275template(1,N,3,2,"ng-container",1)),2&B&&(l.\u0275\u0275property("ngIf",ge.formGroup),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",!ge.formGroup))},directives:[H.NgIf,G.JL,G.sg,G.Fj,G.JJ,G.u,H.NgStyle],styles:[".mobilform-input[_ngcontent-%COMP%]{line-height:1.25;padding:.5rem .75rem;border-radius:.25rem;-webkit-appearance:none;-moz-appearance:none;appearance:none;width:100%;border-width:1px;font-size:12px;height:30px}.mobilform-input[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px}.mobilform-textarea[_ngcontent-%COMP%]{line-height:1.25;padding:.5rem .75rem;border-radius:.25rem;-webkit-appearance:none;-moz-appearance:none;appearance:none;width:100%;border-width:1px;font-size:12px}.mobilform-textarea[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px}"]}),C})()},2515:(de,te,E)=>{E(7451)},6640:(de,te,E)=>{E(7451),E(3192)},9282:(de,te,E)=>{E.d(te,{D:()=>$});var l=E(7451),L=E(3192);const I=function(ae){return["shadow-lg rounded-lg",ae]},G=["*"];let $=(()=>{class ae{constructor(){this.extendedClass="bg-white"}ngOnInit(){}}return ae.\u0275fac=function(se){return new(se||ae)},ae.\u0275cmp=l.\u0275\u0275defineComponent({type:ae,selectors:[["card-molecule"]],inputs:{extendedClass:"extendedClass"},ngContentSelectors:G,decls:2,vars:3,consts:[[3,"ngClass"]],template:function(se,le){1&se&&(l.\u0275\u0275projectionDef(),l.\u0275\u0275elementStart(0,"section",0),l.\u0275\u0275projection(1),l.\u0275\u0275elementEnd()),2&se&&l.\u0275\u0275property("ngClass",l.\u0275\u0275pureFunction1(1,I,le.extendedClass))},directives:[L.NgClass],styles:[".backgroud-red[_ngcontent-%COMP%]{background:red!important}"]}),ae})()},290:(de,te,E)=>{E.d(te,{n:()=>ae});var l=E(92),d=E(9153),L=E(6483),H=E(7451),G=E(716),$=E(8367);let ae=(()=>{class Y{constructor(){this.key="",this.title="",this.formGroup=new l.cw({}),this.elementTheming={},this.schemeComponent=d.s.EnumToObject(L.y)}ngOnInit(){}}return Y.\u0275fac=function(le){return new(le||Y)},Y.\u0275cmp=H.\u0275\u0275defineComponent({type:Y,selectors:[["label-checkbox-molecule"]],inputs:{key:"key",title:"title",formGroup:"formGroup",elementTheming:"elementTheming"},decls:3,vars:9,consts:[[1,"mobilform-label-checkbox"],[3,"title","key"],[3,"key","formGroup","label"]],template:function(le,N){1&le&&(H.\u0275\u0275elementStart(0,"section",0),H.\u0275\u0275element(1,"label-atom",1),H.\u0275\u0275element(2,"checkbox-atom",2),H.\u0275\u0275elementEnd()),2&le&&(H.\u0275\u0275advance(1),H.\u0275\u0275styleMap(N.elementTheming[N.schemeComponent.ELEMENT_LABEL]),H.\u0275\u0275property("title",N.title)("key",N.key),H.\u0275\u0275advance(1),H.\u0275\u0275styleMap(N.elementTheming[N.schemeComponent.ELEMENT_CHECKBOX]),H.\u0275\u0275property("key",N.key)("formGroup",N.formGroup)("label",N.title))},directives:[G.J,$.A,l.JL,l.sg],styles:[".mobilform-label-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;height:100%;font-size:.625rem}"]}),Y})()},4206:(de,te,E)=>{E.d(te,{I:()=>le});var l=E(92),d=E(9153),L=E(6483),H=E(7451),G=E(3192),ae=E(7288),Y=E(716);function se(N,R){if(1&N&&H.\u0275\u0275element(0,"label-atom",2),2&N){const C=H.\u0275\u0275nextContext();H.\u0275\u0275styleMap(C.elementTheming[C.schemeComponent.ELEMENT_LABEL]),H.\u0275\u0275property("title",C.label)("required",C.required)("formGroup",C.formGroup)}}let le=(()=>{class N{constructor(){this.label="",this.required=!1,this.key="",this.id="",this.options=[],this.formGroup=new l.cw({}),this.fetching={},this.elementTheming={},this.schemeComponent=d.s.EnumToObject(L.y)}ngOnInit(){}}return N.\u0275fac=function(C){return new(C||N)},N.\u0275cmp=H.\u0275\u0275defineComponent({type:N,selectors:[["label-dropdown-molecule"]],inputs:{label:"label",required:"required",key:"key",id:"id",placeholder:"placeholder",options:"options",formGroup:"formGroup",fetching:"fetching",elementTheming:"elementTheming"},decls:2,vars:9,consts:[[3,"title","required","formGroup","style",4,"ngIf"],[3,"key","id","options","placeholder","formGroup","fetching"],[3,"title","required","formGroup"]],template:function(C,O){1&C&&(H.\u0275\u0275template(0,se,1,5,"label-atom",0),H.\u0275\u0275element(1,"dropdown-atom",1)),2&C&&(H.\u0275\u0275property("ngIf",O.label),H.\u0275\u0275advance(1),H.\u0275\u0275styleMap(O.elementTheming[O.schemeComponent.ELEMENT_DROPDOWN]),H.\u0275\u0275property("key",O.key)("id",O.id)("options",O.options)("placeholder",O.placeholder)("formGroup",O.formGroup)("fetching",O.fetching))},directives:[G.NgIf,ae.$,l.JL,l.sg,Y.J],encapsulation:2}),N})()},8307:(de,te,E)=>{E.d(te,{q:()=>G});var l=E(92),d=E(7451),H=E(716),I=E(3818);let G=(()=>{class ${constructor(){this.label="",this.required=!1,this.key="",this.options=[],this.formGroup=new l.cw({})}ngOnInit(){}}return $.\u0275fac=function(Y){return new(Y||$)},$.\u0275cmp=d.\u0275\u0275defineComponent({type:$,selectors:[["label-radio-molecule"]],inputs:{label:"label",required:"required",key:"key",options:"options",formGroup:"formGroup"},decls:2,vars:6,consts:[[3,"title","required","formGroup"],[3,"key","options","formGroup"]],template:function(Y,se){if(1&Y&&(d.\u0275\u0275element(0,"label-atom",0),d.\u0275\u0275element(1,"radio-atom",1)),2&Y){let le;d.\u0275\u0275property("title",null!==(le=se.label)&&void 0!==le?le:"")("required",se.required)("formGroup",se.formGroup),d.\u0275\u0275advance(1),d.\u0275\u0275property("key",se.key)("options",se.options)("formGroup",se.formGroup)}},directives:[H.J,l.JL,l.sg,I.t],encapsulation:2}),$})()},8945:(de,te,E)=>{E.d(te,{z:()=>le});var l=E(9153),d=E(6483),L=E(7451),I=E(3192),$=E(4565),ae=E(92),Y=E(716);function se(N,R){if(1&N&&L.\u0275\u0275element(0,"label-atom",2),2&N){const C=L.\u0275\u0275nextContext();L.\u0275\u0275styleMap(C.elementTheming[C.schemeComponent.ELEMENT_LABEL]),L.\u0275\u0275property("title",C.label)("required",C.required)("formGroup",C.formGroup)}}let le=(()=>{class N{constructor(){this.label="",this.required=!1,this.disabled=!1,this.multiline=!1,this.placeholder="",this.elementTheming={},this.schemeComponent=l.s.EnumToObject(d.y)}ngOnInit(){}}return N.\u0275fac=function(C){return new(C||N)},N.\u0275cmp=L.\u0275\u0275defineComponent({type:N,selectors:[["label-text-field-moelcule"]],inputs:{label:"label",required:"required",disabled:"disabled",key:"key",type:"type",multiline:"multiline",mask:"mask",specialCharacters:"specialCharacters",patterns:"patterns",placeholder:"placeholder",formGroup:"formGroup",formGroupName:"formGroupName",value:"value",elementTheming:"elementTheming"},decls:2,vars:13,consts:[[3,"title","required","formGroup","style",4,"ngIf"],[3,"key","type","multiline","mask","value","disabled","specialCharacters","patterns","placeholder","formGroup"],[3,"title","required","formGroup"]],template:function(C,O){1&C&&(L.\u0275\u0275template(0,se,1,5,"label-atom",0),L.\u0275\u0275element(1,"atom-text-field",1)),2&C&&(L.\u0275\u0275property("ngIf",O.label),L.\u0275\u0275advance(1),L.\u0275\u0275styleMap(O.elementTheming[O.schemeComponent.ELEMENT_TEXT]),L.\u0275\u0275property("key",O.key)("type",O.type)("multiline",O.multiline)("mask",O.mask)("value",O.value)("disabled",O.disabled)("specialCharacters",O.specialCharacters)("patterns",O.patterns)("placeholder",O.placeholder)("formGroup",O.formGroup))},directives:[I.NgIf,$.n,ae.JL,ae.sg,Y.J],encapsulation:2}),N})()},3028:(de,te,E)=>{E.d(te,{c:()=>Y});var l=E(7451),L=E(3965),H=E(3928),I=E(3192);const $=function(se){return{width:se}},ae=["*"];let Y=(()=>{class se{constructor(){this.typeElement="",this.bounds={},this.position={x:0,y:0},this.onEmitDimensionPosition=new l.EventEmitter,this.style={},this.dimension={width:L.a[this.typeElement]?.width??0,height:L.a[this.typeElement]?.height??0},this.validate=N=>R=>!(R.rectangle.width&&R.rectangle.height&&R.rectangle.width<L.a[N].width)}get minWidth(){return L.a[this.typeElement].width}ngOnInit(){}emmitResize(N){this.dimension={width:N.size?.width,height:N.size?.height},this.onEmitDimensionPosition.emit({...this.position,width:N.size?.width??0,height:N.size?.height??0})}emmitPosition(N){this.onEmitDimensionPosition.emit({...this.dimension,x:N.x,y:N.y})}}return se.\u0275fac=function(N){return new(N||se)},se.\u0275cmp=l.\u0275\u0275defineComponent({type:se,selectors:[["resize-wrapper-molecule"]],inputs:{typeElement:"typeElement",bounds:"bounds",position:"position",dimension:"dimension"},outputs:{onEmitDimensionPosition:"onEmitDimensionPosition"},ngContentSelectors:ae,decls:10,vars:14,consts:[["ngDraggable","","ngResizable","",1,"wrapper-element",3,"bounds","inBounds","handle","gridSize","zIndex","position","preventDefaultEvent","rzGrid","rzHandles","rzContainment","rzMinWidth","ngStyle","endOffset","rzStop"],[1,"wrapper-element__content"],[1,"drag-grid"],["handle",""],[1,"box-resize_wrapper"],[1,"box-resize","box-resize--border-top"],[1,"box-resize","box-resize--border-bottom"],[1,"box-resize","box-resize--border-left"],[1,"box-resize","box-resize--border-right"]],template:function(N,R){if(1&N&&(l.\u0275\u0275projectionDef(),l.\u0275\u0275elementStart(0,"section",0),l.\u0275\u0275listener("endOffset",function(O){return R.emmitPosition(O)})("rzStop",function(O){return R.emmitResize(O)}),l.\u0275\u0275elementStart(1,"div",1),l.\u0275\u0275elementStart(2,"div",2,3),l.\u0275\u0275projection(4),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(5,"div",4),l.\u0275\u0275element(6,"div",5),l.\u0275\u0275element(7,"div",6),l.\u0275\u0275element(8,"div",7),l.\u0275\u0275element(9,"div",8),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&N){const C=l.\u0275\u0275reference(3);l.\u0275\u0275property("bounds",R.bounds)("inBounds",!0)("handle",C)("gridSize",10)("zIndex","100")("position",R.position)("preventDefaultEvent",!0)("rzGrid",10)("rzHandles","w,e")("rzContainment",R.bounds)("rzMinWidth",R.minWidth)("ngStyle",l.\u0275\u0275pureFunction1(12,$,R.dimension.width+"px"))}},directives:[H.Zc,H.OI,I.NgStyle],styles:[".rectangle[_ngcontent-%COMP%]{position:relative;width:max-content;height:max-content;border:2px dashed gray;outline-offset:5px}.resize-handle-top[_ngcontent-%COMP%], .resize-handle-bottom[_ngcontent-%COMP%], .resize-handle-left[_ngcontent-%COMP%], .resize-handle-right[_ngcontent-%COMP%]{position:absolute;height:12px;width:12px;background-color:#00f;border-radius:50rem}.resize-handle-top[_ngcontent-%COMP%]{top:-6px;left:50%;cursor:row-resize}.resize-handle-bottom[_ngcontent-%COMP%]{bottom:-6px;left:50%;cursor:row-resize}.resize-handle-left[_ngcontent-%COMP%]{left:-6px;top:50%;cursor:col-resize}.resize-handle-right[_ngcontent-%COMP%]{right:-6px;top:50%;cursor:col-resize}.content[_ngcontent-%COMP%]{height:-webkit-fill-available}.drag-grid[_ngcontent-%COMP%]{width:100%;height:100%}.wrapper-element[_ngcontent-%COMP%]{position:absolute}.box-resize_wrapper[_ngcontent-%COMP%]{width:100px}.box-resize[_ngcontent-%COMP%]{border:0 #0372d2 solid;position:absolute}.wrapper-element__content[_ngcontent-%COMP%]{padding:10px;position:relative}.box-resize--border-top[_ngcontent-%COMP%]{border-top-width:1px;left:0;top:0;transform:translate(-.5px,-.5px) scaleY(1.1);width:calc(100% + 1px)}.box-resize--border-bottom[_ngcontent-%COMP%]{border-bottom-width:1px;left:0;bottom:0;transform:translate(-.5px,.5px) scaleY(1.1);width:calc(100% + 1px)}.box-resize--border-right[_ngcontent-%COMP%]{border-right-width:1px;height:calc(100% + 1px);right:0;top:0;transform:translate(.5px,-.5px) scaleX(1.1)}.box-resize--border-left[_ngcontent-%COMP%]{border-left-width:1px;height:calc(100% + 1px);left:0;top:0;transform:translate(-.5px,-.5px) scaleX(1.1)}.box-resize_point-resize[_ngcontent-%COMP%]{background-color:#fff;border:1px solid blue;border-radius:4px;box-shadow:0 2px 6px #0000000a;height:8px;width:8px;margin:-4px;pointer-events:auto;position:absolute;z-index:2}.box-resize_point-resize-widget[_ngcontent-%COMP%]{cursor:ew-resize;width:7px;height:30px;margin:0;max-height:80%;min-height:7px;top:50%}.box-resize_point-resize--rigth[_ngcontent-%COMP%]{right:0;transform:translate(50%,-50%)}.box-resize_point-resize--left[_ngcontent-%COMP%]{left:0;transform:translate(-50%,-50%)}"]}),se})()},3965:(de,te,E)=>{E.d(te,{a:()=>L});var l=E(6483);const d={width:200,height:100},L={[l.y.ELEMENT_TEXT]:{...d},[l.y.ELEMENT_DATE]:{...d},[l.y.ELEMENT_DROPDOWN]:{...d},[l.y.ELEMENT_RADIO]:{...d},[l.y.ELEMENT_CHECKBOX]:{...d},[l.y.ELEMENT_FILE]:{...d},[l.y.ELEMENT_LABEL]:{...d},[l.y.ELEMENT_BUTTON]:{...d},[l.y.ELEMENT_TABLE]:{width:400,height:200}}},7617:(de,te,E)=>{E(7451),E(3192)},1593:(de,te,E)=>{E.d(te,{_:()=>ae});var l=E(7451),L=E(3192),I=E(8213),G=E(2042);function $(Y,se){1&Y&&l.\u0275\u0275element(0,"icon-mobilform-svg",3),2&Y&&l.\u0275\u0275property("dimension",328)}let ae=(()=>{class Y{constructor(){this.description="Cargando informaci\xf3n.",this.showSvg=!0}ngOnInit(){}}return Y.\u0275fac=function(le){return new(le||Y)},Y.\u0275cmp=l.\u0275\u0275defineComponent({type:Y,selectors:[["splash-view-organism"]],inputs:{description:"description",showSvg:"showSvg"},decls:6,vars:2,consts:[[1,"mobilform-splash-view"],[3,"dimension",4,"ngIf"],[1,"mobilform-splash-view__description"],[3,"dimension"]],template:function(le,N){1&le&&(l.\u0275\u0275elementStart(0,"section",0),l.\u0275\u0275template(1,$,1,1,"icon-mobilform-svg",1),l.\u0275\u0275elementStart(2,"section",2),l.\u0275\u0275element(3,"spiner-atom"),l.\u0275\u0275elementStart(4,"span"),l.\u0275\u0275text(5),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&le&&(l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",N.showSvg),l.\u0275\u0275advance(4),l.\u0275\u0275textInterpolate(N.description))},directives:[L.NgIf,I.J,G.q],styles:[".mobilform-splash-view[_ngcontent-%COMP%]{height:100vh;width:100%;display:flex;justify-content:center;align-items:center;flex-flow:column;background-color:#363636}.mobilform-splash-view__description[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-flow:column}.mobilform-splash-view__description[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-weight:700;font-size:18px;color:#fff;margin-top:1rem}"]}),Y})()},4877:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{f:()=>TableOrganism});var tabulator_tables__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2885),_angular_forms__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(92),projects_mf_components_src_utils_string_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(754),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7451),_angular_core__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_angular_core__WEBPACK_IMPORTED_MODULE_0__),_dynamic_form_builder_dynamic_form_builder_model_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(325);const _c0=["idTableTabulator"];let TableOrganism=(()=>{class TableOrganism{constructor(de){this.dynamicFormBuilderService=de,this.header=[],this.records=[],this.value="",this.style={},this.fetching={},this.tableSettingFormDynamic=new _angular_forms__WEBPACK_IMPORTED_MODULE_2__.cw({groupBy:new _angular_forms__WEBPACK_IMPORTED_MODULE_2__.NI("")}),this.groupByOption=[]}ngOnInit(){this.tableSettingFormDynamicSubscription$=this.tableSettingFormDynamic.valueChanges.subscribe(de=>{this.tableReference.setGroupBy(de.groupBy)}),this.listenChangesResponseFetchingElement(),"onInit"===this.fetching?.typEvent&&this.onInitMethod()}ngOnDestroy(){this.tableSettingFormDynamicSubscription$.unsubscribe(),this.responseFetchingElement$.unsubscribe()}ngOnChanges(de){this.drawTable()}getDataRow(de,te){return te.find(E=>E.key===de)}listenChangesResponseFetchingElement(){this.responseFetchingElement$=this.dynamicFormBuilderService.onChangesResponseFetchingElement().subscribe(de=>{de.identifierElement===this.key&&(this.dynamicFormBuilderService.assignValueVariableWithKey(this.fetching?.variable??"",de.response),this.assignValue())})}onInitMethod(){this.dynamicFormBuilderService.emmitFetchingElement({...this.fetching,identifierElement:this.key})}drawTable(){this.tableReference=new tabulator_tables__WEBPACK_IMPORTED_MODULE_3__.Ae(this.idTableTabulator.nativeElement,{data:this.records??[],reactiveData:!0,columns:this.header?.map(de=>({title:de.label,field:de.key}))??[],groupBy:void 0,layout:"fitColumns",height:"300px",paginationMode:"local",pagination:!0,paginationSize:6,paginationSizeSelector:[3,6,8,10],movableColumns:!0,debugInvalidOptions:!1}),document?.getElementById("my-tabular-table")?.appendChild(this.idTableTabulator.nativeElement)}assignValue(){this.tableReference.setData(eval(`this.dynamicFormBuilderService.variables?.${projects_mf_components_src_utils_string_utils__WEBPACK_IMPORTED_MODULE_4__.r.getValueBetweenTwoCharacters(this.value??"","{{","}}")}`))}}return TableOrganism.\u0275fac=function de(te){return new(te||TableOrganism)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(_dynamic_form_builder_dynamic_form_builder_model_service__WEBPACK_IMPORTED_MODULE_1__.D))},TableOrganism.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineComponent({type:TableOrganism,selectors:[["table-organism"]],viewQuery:function de(te,E){if(1&te&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275viewQuery(_c0,7),2&te){let l;_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275queryRefresh(l=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275loadQuery())&&(E.idTableTabulator=l.first)}},inputs:{key:"key",header:"header",records:"records",value:"value",style:"style",fetching:"fetching"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275NgOnChangesFeature],decls:2,vars:1,consts:[[3,"id"],["idTableTabulator",""]],template:function de(te,E){1&te&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275element(0,"div",0,1),2&te&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275property("id",E.key)},encapsulation:2}),TableOrganism})()},82:(de,te,E)=>{var l=E(6483),d=E(6132);const L=[{key:l.y.ELEMENT_LABEL,title:"Label",icon:"title",type:d.ae.BASIC,visible:!0},{key:l.y.ELEMENT_TEXT,title:"Text Field",icon:"text_fields",type:d.ae.BASIC,visible:!0},{key:l.y.ELEMENT_BUTTON,title:"Button",icon:"smart_button",type:d.ae.BASIC,visible:!0},{key:l.y.ELEMENT_DROPDOWN,title:"Dropdown",icon:"list_alt",type:d.ae.BASIC,visible:!0},{key:l.y.ELEMENT_TABLE,title:"Table",icon:"table_view",type:d.ae.BASIC,visible:!0},{key:l.y.ELEMENT_CHECKBOX,title:"Checkbox",icon:"check_box",type:d.ae.BASIC,visible:!0},{key:l.y.ELEMENT_RADIO,title:"Radio",icon:"radio_button_checked",type:d.ae.BASIC,visible:!0},{key:l.y.ELEMENT_DATE,title:"Date Input",icon:"event",type:d.ae.BASIC,visible:!0},{key:l.y.ELEMENT_ROW,title:"Row",icon:"table_rows",type:d.ae.LAYOUT,visible:!0}];L.filter(I=>I.type===d.ae.BASIC).map(I=>I.key),L.filter(I=>I.type===d.ae.LAYOUT).map(I=>I.key)},6893:(de,te,E)=>{E.d(te,{s:()=>yt}),E(7451),E(82),E(2186),E(5387),E(8433),E(7617),E(3192),E(2515),E(6640),E(6322),E(4565),E(8797),E(3638),E(2263),E(8945),E(6811),E(716),E(9435),E(846);const yt="tools-elements-list"},6132:(de,te,E)=>{E.d(te,{ae:()=>l});var l=(()=>{return(I=l||(l={})).BASIC="basic",I.LAYOUT="layout",I.CUSTOM="custom",l;var I})()},6846:(de,te,E)=>{E.r(te),E.d(te,{DynamicFormBuilderComponent:()=>Rt});var l=E(4350),d=E(7451),H=E(92),I=E(824),$=E(6893),ae=E(2019),Y=E(6483),se=E(952),le=E(5033),R=E(3965),C=E(2898),O=E(5387),B=E(325),ge=E(3192),Ye=E(1593),Xe=E(3028),Ze=E(3331),ye=E(9282),Ge=E(8824);function $e(ue,We){1&ue&&d.\u0275\u0275element(0,"splash-view-organism",10),2&ue&&d.\u0275\u0275property("showSvg",!1)("description","building form")}function Be(ue,We){if(1&ue&&d.\u0275\u0275elementContainer(0,11),2&ue){const W=d.\u0275\u0275nextContext(),pe=d.\u0275\u0275reference(6),ve=d.\u0275\u0275reference(10);d.\u0275\u0275property("ngTemplateOutlet",W.modeGridPosition?pe:ve)}}function Pe(ue,We){if(1&ue){const W=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"section",15),d.\u0275\u0275listener("cdkDropListDropped",function(ve){return d.\u0275\u0275restoreView(W),d.\u0275\u0275nextContext(2).drop(ve)}),d.\u0275\u0275text(1,"Drop zone"),d.\u0275\u0275elementEnd()}if(2&ue){const W=d.\u0275\u0275nextContext(2);d.\u0275\u0275property("id","gridZone")("cdkDropListData",W.getKeyFields())}}function ee(ue,We){if(1&ue){const W=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"pan-zoom",16),d.\u0275\u0275listener("modelChanged",function(ve){return d.\u0275\u0275restoreView(W),d.\u0275\u0275nextContext(2).modelChanged(ve)}),d.\u0275\u0275elementContainer(1,11),d.\u0275\u0275elementEnd()}if(2&ue){const W=d.\u0275\u0275nextContext(2),pe=d.\u0275\u0275reference(8);d.\u0275\u0275property("config",W.panZoomConfig),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngTemplateOutlet",pe)}}function oe(ue,We){if(1&ue&&d.\u0275\u0275elementContainer(0,11),2&ue){d.\u0275\u0275nextContext(2);const W=d.\u0275\u0275reference(8);d.\u0275\u0275property("ngTemplateOutlet",W)}}const we=function(ue){return[ue]};function ce(ue,We){if(1&ue&&(d.\u0275\u0275template(0,Pe,2,2,"section",12),d.\u0275\u0275elementStart(1,"section",13),d.\u0275\u0275template(2,ee,2,2,"pan-zoom",14),d.\u0275\u0275template(3,oe,1,1,"ng-container",4),d.\u0275\u0275elementEnd()),2&ue){const W=d.\u0275\u0275nextContext();d.\u0275\u0275property("ngIf",W.modeGridPosition&&!W.modeBuildProduction),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngClass",d.\u0275\u0275pureFunction1(4,we,W.modeBuildProduction?"":"wrapper-grid")),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",!W.modeBuildProduction),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",W.modeBuildProduction)}}function Ne(ue,We){1&ue&&d.\u0275\u0275element(0,"section",21)}const Me=function(){return{x:0,y:0}},Ve=function(){return{width:0,height:0}},j=function(ue,We,W){return{fieldString:ue,keyRow:null,columKey:null,elemenType:We,propertiesStyle:W}};function q(ue,We){if(1&ue){const W=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"section"),d.\u0275\u0275elementStart(1,"resize-wrapper-molecule",25),d.\u0275\u0275listener("onEmitDimensionPosition",function(ve){d.\u0275\u0275restoreView(W);const Le=d.\u0275\u0275nextContext().$implicit;return d.\u0275\u0275nextContext(2).onSaveDimensionElement(ve,Le.key)}),d.\u0275\u0275elementStart(2,"section",26),d.\u0275\u0275elementContainer(3,27),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}if(2&ue){const W=d.\u0275\u0275nextContext().$implicit;d.\u0275\u0275nextContext();const pe=d.\u0275\u0275reference(1);d.\u0275\u0275nextContext();const ve=d.\u0275\u0275reference(14);let Le,qe;d.\u0275\u0275advance(1),d.\u0275\u0275property("bounds",pe)("position",null!==(Le=null==W||null==W.propertiesStyle?null:W.propertiesStyle.position)&&void 0!==Le?Le:d.\u0275\u0275pureFunction0(6,Me))("dimension",null!==(qe=null==W||null==W.propertiesStyle?null:W.propertiesStyle.dimensions)&&void 0!==qe?qe:d.\u0275\u0275pureFunction0(7,Ve))("typeElement",W.type),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngTemplateOutlet",ve)("ngTemplateOutletContext",d.\u0275\u0275pureFunction3(8,j,W.key,W.type,W.propertiesStyle))}}const _e=function(ue,We,W){return{fieldString:ue,elemenType:We,propertiesStyle:W}};function Ee(ue,We){if(1&ue&&d.\u0275\u0275elementContainer(0,27),2&ue){const W=d.\u0275\u0275nextContext().$implicit;d.\u0275\u0275nextContext(2);const pe=d.\u0275\u0275reference(14);d.\u0275\u0275property("ngTemplateOutlet",pe)("ngTemplateOutletContext",d.\u0275\u0275pureFunction3(2,_e,W.key,W.type,W.propertiesStyle))}}const Oe=function(ue,We){return{position:"absolute",padding:"10px",top:ue,left:We}};function Je(ue,We){if(1&ue&&(d.\u0275\u0275elementStart(0,"section"),d.\u0275\u0275template(1,q,4,12,"section",22),d.\u0275\u0275elementStart(2,"section",23),d.\u0275\u0275template(3,Ee,1,6,"ng-container",24),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()),2&ue){const W=We.$implicit,pe=d.\u0275\u0275nextContext(2);d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",!pe.modeBuildProduction),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngStyle",d.\u0275\u0275pureFunction2(3,Oe,(null==W.propertiesStyle.position?null:W.propertiesStyle.position.y)+"px",(null==W.propertiesStyle.position?null:W.propertiesStyle.position.x)+"px")),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",pe.modeBuildProduction)}}function rt(ue,We){if(1&ue&&(d.\u0275\u0275elementStart(0,"section",17,18),d.\u0275\u0275template(2,Ne,1,0,"section",19),d.\u0275\u0275template(3,Je,4,6,"section",20),d.\u0275\u0275elementEnd()),2&ue){const W=d.\u0275\u0275nextContext();d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",!W.modeBuildProduction),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",W.fields)}}function at(ue,We){if(1&ue){const W=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"section",33),d.\u0275\u0275elementStart(1,"mat-icon",34),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(W);const ve=d.\u0275\u0275nextContext().$implicit;return d.\u0275\u0275nextContext(2).removeColumn(ve.key)}),d.\u0275\u0275text(2,"remove"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(3,"mat-icon",34),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(W);const ve=d.\u0275\u0275nextContext().$implicit;return d.\u0275\u0275nextContext(2).addColumn(ve.key)}),d.\u0275\u0275text(4,"add"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(5,"mat-icon",35),d.\u0275\u0275text(6,"drag_indicator"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}}const ht=function(ue){return{"border border-red-400 hover:border-dotted hover:border-2 p-2 m":ue}},Ct=function(ue,We,W){return{keyRow:ue,schemaLayout:We,numberColumns:W}};function yt(ue,We){if(1&ue&&(d.\u0275\u0275elementStart(0,"div",31),d.\u0275\u0275elementStart(1,"section",13),d.\u0275\u0275elementContainer(2,27),d.\u0275\u0275template(3,at,7,0,"section",32),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()),2&ue){const W=We.$implicit,pe=d.\u0275\u0275nextContext(2),ve=d.\u0275\u0275reference(12);d.\u0275\u0275property("cdkDragDisabled",pe.modeBuildProduction)("cdkDragData",W)("id",W.key),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngClass",d.\u0275\u0275pureFunction1(7,ht,!pe.modeBuildProduction)),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngTemplateOutlet",ve)("ngTemplateOutletContext",d.\u0275\u0275pureFunction3(9,Ct,W.key,W.schemaLayout,W.numberColumns)),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",!pe.modeBuildProduction)}}function pt(ue,We){if(1&ue){const W=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"form",28),d.\u0275\u0275elementStart(1,"section",29),d.\u0275\u0275listener("cdkDropListDropped",function(ve){return d.\u0275\u0275restoreView(W),d.\u0275\u0275nextContext().dropLayout(ve)}),d.\u0275\u0275template(2,yt,4,13,"div",30),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}if(2&ue){const W=d.\u0275\u0275nextContext();d.\u0275\u0275property("formGroup",W.formGroup),d.\u0275\u0275advance(1),d.\u0275\u0275property("cdkDropListData",W.schemeColumns),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",W.schemeColumns)}}const Te=function(ue,We,W){return{fieldString:ue,keyRow:We,columKey:W}};function ke(ue,We){if(1&ue&&(d.\u0275\u0275elementStart(0,"card-molecule",42),d.\u0275\u0275elementContainer(1,27),d.\u0275\u0275elementEnd()),2&ue){const W=d.\u0275\u0275nextContext().$implicit,pe=d.\u0275\u0275nextContext().$implicit,ve=d.\u0275\u0275nextContext().keyRow,Le=d.\u0275\u0275nextContext(),qe=d.\u0275\u0275reference(14);d.\u0275\u0275property("extendedClass","bg-white m-2"+((null==Le.selectedFieldProperties?null:Le.selectedFieldProperties.selectedFieldKey)===W?" border-2 border-black border-dotted ":"")),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngTemplateOutlet",qe)("ngTemplateOutletContext",d.\u0275\u0275pureFunction3(3,Te,W,ve,pe.key))}}const ie=function(ue){return{fieldString:ue}};function Se(ue,We){if(1&ue&&d.\u0275\u0275elementContainer(0,27),2&ue){const W=d.\u0275\u0275nextContext().$implicit;d.\u0275\u0275nextContext(3);const pe=d.\u0275\u0275reference(14);d.\u0275\u0275property("ngTemplateOutlet",pe)("ngTemplateOutletContext",d.\u0275\u0275pureFunction1(2,ie,W))}}function He(ue,We){if(1&ue&&(d.\u0275\u0275elementStart(0,"div",40),d.\u0275\u0275template(1,ke,2,7,"card-molecule",41),d.\u0275\u0275template(2,Se,1,4,"ng-container",24),d.\u0275\u0275elementEnd()),2&ue){const W=We.$implicit,pe=d.\u0275\u0275nextContext(3);d.\u0275\u0275property("cdkDragData",W)("cdkDragDisabled",pe.modeBuildProduction),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",!pe.modeBuildProduction),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",pe.modeBuildProduction)}}function Qe(ue,We){if(1&ue){const W=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"section",38),d.\u0275\u0275listener("cdkDropListDropped",function(ve){return d.\u0275\u0275restoreView(W),d.\u0275\u0275nextContext(2).drop(ve)}),d.\u0275\u0275template(1,He,3,4,"div",39),d.\u0275\u0275elementEnd()}if(2&ue){const W=We.$implicit,pe=d.\u0275\u0275nextContext(2);d.\u0275\u0275property("id",W.key)("cdkDropListData",W.schemaColums)("cdkDropListConnectedTo",pe.connectColumnList),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",W.schemaColums)}}function nt(ue,We){if(1&ue&&(d.\u0275\u0275elementStart(0,"div",36),d.\u0275\u0275template(1,Qe,2,4,"section",37),d.\u0275\u0275elementEnd()),2&ue){const W=We.schemaLayout;d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",W)}}function dt(ue,We){if(1&ue){const W=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",46),d.\u0275\u0275elementStart(1,"section",47),d.\u0275\u0275elementStart(2,"mat-icon",48),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(W);const ve=d.\u0275\u0275nextContext(),Le=ve.fieldString,qe=ve.keyRow,_t=ve.columKey;return d.\u0275\u0275nextContext().openSettings(Le,qe,_t)}),d.\u0275\u0275text(3,"settings"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(4,"mat-icon",48),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(W);const ve=d.\u0275\u0275nextContext().fieldString;return d.\u0275\u0275nextContext().removeElement(ve)}),d.\u0275\u0275text(5,"delete"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}}const gt=function(ue){return{minHeight:"auto",width:ue,height:"auto",maxWidth:"-webkit-fill-available",maxHeight:"-webkit-fill-available"}};function Mt(ue,We){if(1&ue&&(d.\u0275\u0275elementStart(0,"section",43),d.\u0275\u0275template(1,dt,6,0,"div",44),d.\u0275\u0275elementStart(2,"section",23),d.\u0275\u0275element(3,"field-builder",45),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()),2&ue){const W=We.fieldString,pe=We.propertiesStyle,ve=d.\u0275\u0275nextContext();d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",!ve.modeBuildProduction),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngStyle",d.\u0275\u0275pureFunction1(4,gt,ve.modeGridPosition?pe.dimensions.width+"px":"auto")),d.\u0275\u0275advance(1),d.\u0275\u0275property("field",ve.getField(W))("formGroup",ve.formGroup)}}let Rt=(()=>{class ue{constructor(W,pe){this.FormBuilderService=W,this.dynamicFormBuilderService=pe,this.fields=[],this.schemeColumns=[],this.generalSetting=new se.gk,this.modeBuildProduction=!1,this.modeGridPosition=!0,this.onSubmit=new d.EventEmitter,this.onShareConnectColumnList=new d.EventEmitter,this.formGroup=new H.cw({}),this.connectColumnList=[],this.formIsReady=!1,this.selectedFieldKey="",this._idListToolElement=$.s,this.minDimenssionAllowed=R.a,this.panZoomConfig=new C.ke({zoomLevels:5,initialZoomLevel:.9,neutralZoomLevel:1,scalePerZoomLevel:2,zoomStepDuration:.2,freeMouseWheelFactor:.001,zoomToFitZoomLevelFactor:.9,dragMouseButton:"left"})}modelChanged(W){console.log(W)}ngOnInit(){this.formIsReady=!1,this.initializeSubscriptions(),this.initializeFormBuilder()}ngOnDestroy(){this.formBuilderSubscription$?.unsubscribe(),this.formToggleSubscription$?.unsubscribe(),this.buttonButtonTriggerEventTypeSubscription$?.unsubscribe(),this.fetchingSubscription$?.unsubscribe(),this.fetchingElement$.unsubscribe(),this.formBuilderValuesSubscription$.unsubscribe()}ngOnChanges(W){W?.fields?.isFirstChange()||(this.formIsReady=!1,this.initializeFormBuilder()),this.dynamicFormBuilderService.generalSetting=W.generalSetting?.currentValue}initializeSubscriptions(){this.listenChangesFormBuilder(),this.listenChangesButtonTriggerEventType(),this.listenChangesFetchingElement(),this.listenChangesFormBuilderValues()}listenChangesFormBuilder(){this.formBuilderSubscription$=this.FormBuilderService.onChangesField().pipe((0,le.debounceTime)(1e3)).subscribe(({keyModified:W,field:pe,newKey:ve})=>{const Le=this.fields.findIndex(ct=>ct.key===W);this.fields[Le]={...pe};const{keyRow:qe,columKey:_t}=this.selectedFieldProperties;if(qe&&_t){const ct=this.schemeColumns.findIndex(S=>S.key===qe),fe=this.schemeColumns[ct].schemaLayout.findIndex(S=>S.key===_t),V=this.schemeColumns[ct].schemaLayout[fe].schemaColums.indexOf(W??"");this.schemeColumns[ct].schemaLayout[fe].schemaColums[V]=ve}this.openSettings(ve,qe,_t),this.initializeFormBuilder()})}listenChangesButtonTriggerEventType(){this.buttonButtonTriggerEventTypeSubscription$=this.dynamicFormBuilderService.onChangesButtonButtonTriggerEventType().subscribe(({eventType:W,key:pe,fetching:ve})=>{this.onButtonEventTypeInvoke({eventType:W,key:pe,fetching:ve})})}listenChangesFetchingElement(){this.fetchingElement$=this.dynamicFormBuilderService.onChangesFetchingElement().subscribe(({urlFetching:W,method:pe,identifierElement:ve})=>{W&&ve&&this.onFetching({url:W,method:pe??"GET",identifierElement:ve})})}listenChangesFormBuilderValues(){this.formBuilderValuesSubscription$=this.formGroup.valueChanges.subscribe(W=>{const pe=Object.keys(W).reduce((ve,Le)=>({...ve,["form_"+Le]:W[Le]}),{});this.dynamicFormBuilderService.loadVariables(pe)})}initializeFormBuilder(){this.buildForm().pipe((0,le.delay)(0)).subscribe({complete:()=>{this.sharedConnectList(),this.formIsReady=!0}})}sharedConnectList(){this.connectColumnList=this.getListConnectColums(),this.FormBuilderService.emmitSharedConnectList(this.connectColumnList)}getKeyFields(){return this.fields.map(W=>W.key)}noElementsForm(){return[Y.y.ELEMENT_LABEL,Y.y.ELEMENT_BUTTON]}buildForm(W){return new I.Observable(pe=>{this.formGroup=new H.cw({});const ve=[...this.fields];W&&ve.push(W);const Le=new H.cw({});for(const qe of ve)this.noElementsForm().includes(qe.type)||Le.addControl(qe.key,new H.NI(qe?.value,qe.required?H.kI.required:null));this.formGroup=Le,this.listenChangesFormBuilderValues(),pe.complete()})}removeElement(W){const pe=this.fields.findIndex(ve=>ve.key===W);this.fields.splice(pe,1),this.buildForm().pipe((0,le.delay)(1e3)).subscribe({complete:()=>{this.sharedConnectList()}})}drop(W){if(this.comeFromToolElements(W.previousContainer.id)){const pe=W.item.data,ve=`${pe}${Date.now()}`,Le=(0,ae.f)(ve,pe);this.buildForm(Le).subscribe({complete:()=>{this.fields.push(Le),W.container.data.push(ve)}})}else if(W.previousContainer===W.container?(0,l.bA)(W.previousContainer.data,W.previousIndex,W.currentIndex):(0,l.EA)(W.previousContainer.data,W.container.data,W.previousIndex,W.currentIndex),this.modeGridPosition){const pe=this.fields?.findIndex(ve=>ve.key===W.item.data);this.fields[pe].propertiesStyle.position=W.distance}}dropLayout(W){this.comeFromToolElements(W.previousContainer.id)?this.addNewRow():(0,l.bA)(W.container.data,W.previousIndex,W.currentIndex)}addNewRow(){this.schemeColumns.push({key:`row${this.schemeColumns.length+2}`,numberColumns:1,schemaLayout:[{key:`row${this.schemeColumns.length+2}Column`,schemaColums:[]}]}),this.sharedConnectList()}addColumn(W){const pe=this.schemeColumns?.find(ve=>ve.key===W)??new se.bn;pe.numberColumns=(pe?.numberColumns??0)+1,pe.schemaLayout.push({key:`${pe.key}Column${Date.now()}`,schemaColums:[]}),this.sharedConnectList()}removeColumn(W){const pe=this.schemeColumns?.find(ve=>ve.key===W)??new se.bn;pe.numberColumns=(pe?.numberColumns??0)-1,pe.schemaLayout.pop(),this.sharedConnectList()}getField(W){return this.fields.find(pe=>pe.key===W)??new se.K7}getListConnectColums(){return this.schemeColumns.reduce((pe,ve)=>[...pe,...ve?.schemaLayout.map(Le=>Le.key)],[])}openSettings(W,pe,ve){this.selectedFieldKey=W,this.selectedFieldProperties={selectedFieldKey:W,keyRow:pe,columKey:ve},this.FormBuilderService.emmitFieldKey(W)}comeFromToolElements(W){return W===$.s}onButtonEventTypeInvoke({eventType:W,key:pe,fetching:ve}){switch(W){case se.Ku.SUBMIT:console.log(se.Ku.SUBMIT,this.formGroup.value,this.fields);break;case se.Ku.FETCHING:const Le=Object.keys(ve.keys??{}).filter(v=>ve.keys?.[v]),qe=Le.reduce((v,m)=>({...v,[m]:this.formGroup.value[m]}),{});this.onFetching({url:ve?.urlFetching??"",data:qe,method:"POST"});for(const v of Le)this.formGroup.get(v)?.reset();break;case se.Ku.FILL_DATATABLE:const _t=this.fields.find(v=>v.key===pe),ct=_t?.data?.fieldReference.keyTable,V=_t?.data?.fieldReference.reference?.reduce((v,m)=>({...v,[m.columnReference]:this.formGroup.value[m.fieldReference]}),{}),S=this.fields.findIndex(v=>v.key===ct);"records"in this.fields[S]||(this.fields[S]={...this.fields[S],records:[]}),this.fields[S].records?.push(V)}}onFetching({url:W,data:pe,method:ve,identifierElement:Le}){const qe=this.dynamicFormBuilderService.getValueInterpolated(W);this.fetchingSubscription$=this.dynamicFormBuilderService.onFetchingMethod({baseUrl:this.generalSetting.endpointUrlBase,endpoint:qe,method:ve,data:pe??{},headers:{}}).subscribe(_t=>{this.dynamicFormBuilderService.emmitResponseFetchingElement({response:_t,identifierElement:Le})})}computeDragRenderPos(W,pe){return{x:1*Math.floor(W.x/1),y:1*Math.floor(W.y/1)}}getPosition(W){if(W.source.data){const pe=this.fields.findIndex(ve=>ve.key===W.source.data);this.fields[pe].propertiesStyle.position=W.source.getFreeDragPosition()}}onSaveDimensionElement(W,pe){const ve=this.fields.findIndex(Le=>Le.key===pe);this.fields[ve].propertiesStyle.position={x:W.x,y:W.y},this.fields[ve].propertiesStyle.dimensions={width:W.width,height:W.height}}}return ue.\u0275fac=function(W){return new(W||ue)(d.\u0275\u0275directiveInject(O.c),d.\u0275\u0275directiveInject(B.D))},ue.\u0275cmp=d.\u0275\u0275defineComponent({type:ue,selectors:[["dynamic-form-builder"]],inputs:{fields:"fields",schemeColumns:"schemeColumns",generalSetting:"generalSetting",modeBuildProduction:"modeBuildProduction",modeGridPosition:"modeGridPosition"},outputs:{onSubmit:"onSubmit",onShareConnectColumnList:"onShareConnectColumnList"},features:[d.\u0275\u0275NgOnChangesFeature],decls:15,vars:2,consts:[[1,"dynamic-form-builder-general"],[3,"showSvg","description",4,"ngIf"],[2,"position","relative","width","100%","height","100%"],[2,"position","absolute","top","0","bottom","0","left","0","right","0"],[3,"ngTemplateOutlet",4,"ngIf"],["formFreeLayout",""],["contentCanvas",""],["formGridLayout",""],["columContainerElements",""],["formElementComponent",""],[3,"showSvg","description"],[3,"ngTemplateOutlet"],["class","border-2 border-black border-dotted w-full","cdkDropList","",3,"id","cdkDropListData","cdkDropListDropped",4,"ngIf"],[3,"ngClass"],[3,"config","modelChanged",4,"ngIf"],["cdkDropList","",1,"border-2","border-black","border-dotted","w-full",3,"id","cdkDropListData","cdkDropListDropped"],[3,"config","modelChanged"],["id","boundary",1,"grid-container"],["boundary",""],["class","grid-container__grid-figure--horizontal",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"grid-container__grid-figure--horizontal"],[4,"ngIf"],[3,"ngStyle"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"bounds","position","dimension","typeElement","onEmitDimensionPosition"],[1,"handler-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["cdkDropListGroup","",3,"formGroup"],["id","layout-builder-section","cdkDropList","",1,"p-4",3,"cdkDropListData","cdkDropListDropped"],["cdkDrag","","class","mb-2",3,"cdkDragDisabled","cdkDragData","id",4,"ngFor","ngForOf"],["cdkDrag","",1,"mb-2",3,"cdkDragDisabled","cdkDragData","id"],["class","border-t py flex justify-end",4,"ngIf"],[1,"border-t","py","flex","justify-end"],[1,"text-slate-400","cursor-pointer",3,"click"],["cdkDragHandle","",1,"text-slate-400","cursor-move"],["cdkDropListGroup","",1,"grid","grid-cols-auto-fit"],["class","border w-full","cdkDropList","",3,"id","cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped",4,"ngFor","ngForOf"],["cdkDropList","",1,"border","w-full",3,"id","cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["cdkDrag","","class","grid gap-4",3,"cdkDragData","cdkDragDisabled",4,"ngFor","ngForOf"],["cdkDrag","",1,"grid","gap-4",3,"cdkDragData","cdkDragDisabled"],[3,"extendedClass",4,"ngIf"],[3,"extendedClass"],[1,"relative","element-card-parent"],["class","element-card-child bg-black absolute h-full w-full opacity-25 cursor-move","style","z-index: 100;",4,"ngIf"],[3,"field","formGroup"],[1,"element-card-child","bg-black","absolute","h-full","w-full","opacity-25","cursor-move",2,"z-index","100"],[1,"flex","justify-center","items-center","h-full","w-full"],[1,"text-white","cursor-pointer",3,"click"]],template:function(W,pe){1&W&&(d.\u0275\u0275elementStart(0,"section",0),d.\u0275\u0275template(1,$e,1,2,"splash-view-organism",1),d.\u0275\u0275elementStart(2,"section",2),d.\u0275\u0275elementStart(3,"section",3),d.\u0275\u0275template(4,Be,1,1,"ng-container",4),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(5,ce,4,6,"ng-template",null,5,d.\u0275\u0275templateRefExtractor),d.\u0275\u0275template(7,rt,4,2,"ng-template",null,6,d.\u0275\u0275templateRefExtractor),d.\u0275\u0275template(9,pt,3,3,"ng-template",null,7,d.\u0275\u0275templateRefExtractor),d.\u0275\u0275template(11,nt,2,1,"ng-template",null,8,d.\u0275\u0275templateRefExtractor),d.\u0275\u0275template(13,Mt,4,6,"ng-template",null,9,d.\u0275\u0275templateRefExtractor)),2&W&&(d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",!pe.formIsReady),d.\u0275\u0275advance(3),d.\u0275\u0275property("ngIf",pe.formIsReady))},directives:[ge.NgIf,Ye._,ge.NgTemplateOutlet,ge.NgClass,l.Wj,C.A0,ge.NgForOf,ge.NgStyle,Xe.c,H._Y,H.JL,l.Fd,H.sg,l.Zt,Ze.Hw,l.Bh,ye.D,Ge.w],styles:[".dynamic-form-builder-general[_ngcontent-%COMP%]{-moz-tab-size:4;tab-size:4;font-family:Inter,sans-serif;height:calc(100vh - 116px)}.example-custom-placeholder[_ngcontent-%COMP%]{background:#ccc;border:dotted 3px #999;min-height:60px;width:100%;transition:transform .25s cubic-bezier(0,0,.2,1)}.element-card-parent[_ngcontent-%COMP%]:hover > .element-card-child[_ngcontent-%COMP%]{display:block}.element-card-child[_ngcontent-%COMP%]{display:none}.element-card-child[_ngcontent-%COMP%]:active{display:block}.element-card-parent[_ngcontent-%COMP%]{max-height:-webkit-fill-available}.handler-content[_ngcontent-%COMP%]{height:-webkit-fill-available}.mobilform-dynamic-formbuilder-freelayout[_ngcontent-%COMP%]{height:calc(100vh - 60px);position:relative;z-index:10;width:100%;overflow-x:auto}.fade-in[_ngcontent-%COMP%]{animation:fade-in 1.2s cubic-bezier(.39,.575,.565,1) both}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.wrapper-grid[_ngcontent-%COMP%]{height:calc(100vh - 100px);background-color:#363636}.grid-container[_ngcontent-%COMP%]{position:relative;height:1024px;width:1280px;background:white}.grid-container__grid-figure--horizontal[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;background-image:repeating-linear-gradient(rgba(0,0,0,.05) 0 1px,transparent 1px 100%),repeating-linear-gradient(90deg,rgba(0,0,0,.05) 0 1px,transparent 1px 100%);background-size:10px 10px}.grid2[_ngcontent-%COMP%]{position:absolute;width:100px;height:50px;background-color:#20c997;color:#fff;text-align:center;line-height:50px;border:1px dashed #067002}.drag-grid[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#f8cb00;color:#fff;line-height:50px;text-align:center}.wrapper-element[_ngcontent-%COMP%]{position:absolute}.box-resize_wrapper[_ngcontent-%COMP%]{width:100px}.box-resize[_ngcontent-%COMP%]{border:0 #0372d2 solid;position:absolute}.wrapper-element__content[_ngcontent-%COMP%]{padding:10px;position:relative}.box-resize--border-top[_ngcontent-%COMP%]{border-top-width:2px;left:0;top:0;transform:translate(-.5px,-.5px) scaleY(1.1);width:calc(100% + 1px)}.box-resize--border-bottom[_ngcontent-%COMP%]{border-bottom-width:2px;left:0;bottom:0;transform:translate(-.5px,.5px) scaleY(1.1);width:calc(100% + 1px)}.box-resize--border-right[_ngcontent-%COMP%]{border-right-width:2px;height:calc(100% + 1px);right:0;top:0;transform:translate(.5px,-.5px) scaleX(1.1)}.box-resize--border-left[_ngcontent-%COMP%]{border-left-width:2px;height:calc(100% + 1px);left:0;top:0;transform:translate(-.5px,-.5px) scaleX(1.1)}.box-resize_point-resize[_ngcontent-%COMP%]{background-color:#fff;border:1px solid blue;border-radius:4px;box-shadow:0 2px 6px #0000000a;height:8px;width:8px;margin:-4px;pointer-events:auto;position:absolute;z-index:2}.box-resize_point-resize-widget[_ngcontent-%COMP%]{cursor:ew-resize;width:7px;height:30px;margin:0;max-height:80%;min-height:7px;top:50%}.box-resize_point-resize--rigth[_ngcontent-%COMP%]{right:0;transform:translate(50%,-50%)}.box-resize_point-resize--left[_ngcontent-%COMP%]{left:0;transform:translate(-50%,-50%)}"]}),ue})()},325:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>DynamicFormBuilderService});var rxjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(824),rxjs__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(rxjs__WEBPACK_IMPORTED_MODULE_0__),_utils_string_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(754),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7451),_angular_core__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_angular_core__WEBPACK_IMPORTED_MODULE_1__),_angular_common_http__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6152),_angular_common_http__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__);let DynamicFormBuilderService=(()=>{class DynamicFormBuilderService{constructor(de){this.http=de,this._buttonTriggerEventType$=new rxjs__WEBPACK_IMPORTED_MODULE_0__.Subject,this.buttonTriggerEventType$=this._buttonTriggerEventType$.asObservable(),this._tableDataAssign$=new rxjs__WEBPACK_IMPORTED_MODULE_0__.Subject,this.tableDataAssignObservable$=this._tableDataAssign$.asObservable(),this._variablesChanges$=new rxjs__WEBPACK_IMPORTED_MODULE_0__.Subject,this.variablesChangesObservable$=this._variablesChanges$.asObservable(),this._fetchingElement$=new rxjs__WEBPACK_IMPORTED_MODULE_0__.Subject,this.fetchingElementObservable$=this._fetchingElement$.asObservable(),this._responseFetchingElement$=new rxjs__WEBPACK_IMPORTED_MODULE_0__.Subject,this.responseFetchingElement$=this._responseFetchingElement$.asObservable(),this.variables={}}emmitButtonTriggerEventType(de){return this._buttonTriggerEventType$.next(de)}onChangesButtonButtonTriggerEventType(){return this.buttonTriggerEventType$}emmitFetchingElement(de){return this._fetchingElement$.next(de)}onChangesFetchingElement(){return this.fetchingElementObservable$}emmitResponseFetchingElement(de){return this._responseFetchingElement$.next(de)}onChangesResponseFetchingElement(){return this.responseFetchingElement$}emmitVariablesChanges(de){return this._variablesChanges$.next(de)}onChangesVariablesChanges(){return this.variablesChangesObservable$}onFetchingMethod({baseUrl:de,endpoint:te,method:E,headers:l,data:d}){const H=`${de}/${te}`,I={headers:l};switch(E){case"GET":return this.http.get(H,I);case"POST":return this.http.post(H,d,I);case"PUT":return this.http.put(H,d,I);case"DELETE":return this.http.delete(H,I)}}loadVariables(de){this.variables=Array.isArray(de)?de.reduce((te,E)=>({...te,[E]:null}),{}):{...this.variables,...de}}assignValueVariableWithKey(de,te){`${de}`in this.variables&&(this.variables[de]=te),this.emmitVariablesChanges(!0)}getValueInterpolated(str){let _str=str??"";const getParamsInserted=_utils_string_utils__WEBPACK_IMPORTED_MODULE_3__.r.getAllValueBetweenCharacters("{{","}}")(str),withParameters=getParamsInserted?.reduce((value,key)=>(value=_str?.replace(`{{${key}}}`,eval(`this.variables?.${key}`)??""),value),""),stringParsed=getParamsInserted?.length?withParameters:_str;return stringParsed??""}}return DynamicFormBuilderService.\u0275fac=function de(te){return new(te||DynamicFormBuilderService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275inject(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.HttpClient))},DynamicFormBuilderService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275defineInjectable({token:DynamicFormBuilderService,factory:DynamicFormBuilderService.\u0275fac,providedIn:"root"}),DynamicFormBuilderService})()},6483:(de,te,E)=>{E.d(te,{y:()=>l});var l=(()=>{return(L=l||(l={})).ELEMENT_TEXT="text",L.ELEMENT_DATE="date",L.ELEMENT_DROPDOWN="dropdown",L.ELEMENT_RADIO="radio",L.ELEMENT_CHECKBOX="checkbox",L.ELEMENT_BUTTON="button",L.ELEMENT_FILE="file",L.ELEMENT_LABEL="label",L.ELEMENT_TABLE="table",L.ELEMENT_HR="hr",L.ELEMENT_ROW="row",l;var L})()},2019:(de,te,E)=>{E.d(te,{f:()=>d});var l=E(6483);const d=(L,H)=>{[l.y.ELEMENT_TEXT]:{key:L,type:l.y.ELEMENT_TEXT,label:L,value:"",required:!0,propertiesStyle:{position:{x:0,y:0},dimensions:{width:400,height:100}}},[l.y.ELEMENT_BUTTON]:{key:L,type:l.y.ELEMENT_BUTTON,title:L,data:{fieldReference:{keyTable:"",reference:[]}},propertiesStyle:{position:{x:0,y:0},dimensions:{width:400,height:100}},fetching:{urlFetching:"",keys:{}}},[l.y.ELEMENT_TABLE]:{key:L,type:l.y.ELEMENT_TABLE,title:L,header:[],propertiesStyle:{position:{x:0,y:0},dimensions:{width:400,height:100}},fetching:{typEvent:"onInit",urlFetching:"",method:"GET"}},[l.y.ELEMENT_DROPDOWN]:{key:L,type:l.y.ELEMENT_DROPDOWN,label:L,options:[],propertiesStyle:{position:{x:0,y:0},dimensions:{width:400,height:100}}},[l.y.ELEMENT_CHECKBOX]:{key:L,type:l.y.ELEMENT_CHECKBOX,title:L,propertiesStyle:{position:{x:0,y:0},dimensions:{width:400,height:100}}},[l.y.ELEMENT_RADIO]:{key:L,type:l.y.ELEMENT_RADIO,label:L,options:[{key:"option1",label:"Option 1"}],propertiesStyle:{position:{x:0,y:0},dimensions:{width:400,height:100}}},[l.y.ELEMENT_LABEL]:{key:L,type:l.y.ELEMENT_LABEL,title:L,propertiesStyle:{position:{x:0,y:0},dimensions:{width:400,height:100}}},[l.y.ELEMENT_DATE]:{key:L,type:l.y.ELEMENT_DATE,label:L,propertiesStyle:{position:{x:0,y:0},dimensions:{width:400,height:100}}}}?.[H]},8824:(de,te,E)=>{E.d(te,{w:()=>ee});var l=E(92),d=E(952),L=E(9153),H=E(6483),I=E(7451),$=E(3192),Y=E(716),se=E(6811),le=E(8945),N=E(4206),R=E(290),C=E(8307),O=E(4877);function B(oe,we){if(1&oe&&I.\u0275\u0275element(0,"label-atom",12),2&oe){const ce=I.\u0275\u0275nextContext();I.\u0275\u0275property("key",ce.field.key)("title",ce.field.label)("required",ce.field.required)}}function ge(oe,we){if(1&oe&&I.\u0275\u0275element(0,"label-atom",13),2&oe){const ce=I.\u0275\u0275nextContext();I.\u0275\u0275property("key",ce.field.key)("title",ce.field.title)}}function xe(oe,we){if(1&oe&&I.\u0275\u0275element(0,"button-atom",14),2&oe){const ce=I.\u0275\u0275nextContext();I.\u0275\u0275property("key",ce.field.key)("title",ce.field.title)("eventType",ce.field.eventType)("fetching",ce.field.fetching)}}function Ye(oe,we){if(1&oe&&I.\u0275\u0275element(0,"label-text-field-moelcule",15),2&oe){const ce=I.\u0275\u0275nextContext();I.\u0275\u0275property("key",ce.field.key)("multiline",ce.field.multiline)("type",ce.field.type)("disabled",ce.field.disabled)("value",ce.field.value)("formGroup",ce.formGroup)}}function Xe(oe,we){if(1&oe&&I.\u0275\u0275element(0,"label-text-field-moelcule",16),2&oe){const ce=I.\u0275\u0275nextContext();I.\u0275\u0275property("key",ce.field.key)("type",ce.field.type)("formGroup",ce.formGroup)}}function Ze(oe,we){if(1&oe&&I.\u0275\u0275element(0,"label-dropdown-molecule",17),2&oe){const ce=I.\u0275\u0275nextContext();I.\u0275\u0275property("key",ce.field.key)("options",ce.field.options)("formGroup",ce.formGroup)("fetching",ce.field.fetching)}}function ye(oe,we){if(1&oe&&I.\u0275\u0275element(0,"label-checkbox-molecule",18),2&oe){const ce=I.\u0275\u0275nextContext();I.\u0275\u0275property("key",ce.field.key)("title",ce.field.title)("formGroup",ce.formGroup)}}function Ge(oe,we){if(1&oe&&I.\u0275\u0275element(0,"label-radio-molecule",19),2&oe){const ce=I.\u0275\u0275nextContext();I.\u0275\u0275property("key",ce.field.key)("options",ce.field.options)("formGroup",ce.formGroup)}}function $e(oe,we){if(1&oe&&I.\u0275\u0275element(0,"table-organism",20),2&oe){const ce=I.\u0275\u0275nextContext();I.\u0275\u0275property("key",ce.field.key)("header",ce.field.header)("records",ce.field.records)("fetching",ce.field.fetching)("value",ce.field.value)}}function Be(oe,we){if(1&oe&&(I.\u0275\u0275elementStart(0,"div",21),I.\u0275\u0275text(1),I.\u0275\u0275elementEnd()),2&oe){const ce=I.\u0275\u0275nextContext();I.\u0275\u0275advance(1),I.\u0275\u0275textInterpolate1(" ",ce.field.label," is required ")}}const Pe=function(){return{height:"-webkit-fill-available"}};let ee=(()=>{class oe{constructor(){this.field=new d.K7,this.formGroup=new l.cw({})}get isValid(){return this.formGroup.controls?.[this.field.key]?.valid}get isDirty(){return this.formGroup.controls?.[this.field.key]?.dirty}getType(ce){return L.s.EnumToObject(H.y)[ce]}}return oe.\u0275fac=function(ce){return new(ce||oe)},oe.\u0275cmp=I.\u0275\u0275defineComponent({type:oe,selectors:[["field-builder"]],inputs:{field:"field",formGroup:"formGroup"},decls:12,vars:14,consts:[[1,"form-group","row",3,"formGroup"],[3,"key","title","required",4,"ngIf"],[3,"ngStyle","ngSwitch"],[3,"key","title",4,"ngSwitchCase"],[3,"key","title","eventType","fetching",4,"ngSwitchCase"],[3,"key","multiline","type","disabled","value","formGroup",4,"ngSwitchCase"],[3,"key","type","formGroup",4,"ngSwitchCase"],[3,"key","options","formGroup","fetching",4,"ngSwitchCase"],[3,"key","title","formGroup",4,"ngSwitchCase"],[3,"key","options","formGroup",4,"ngSwitchCase"],[3,"key","header","records","fetching","value",4,"ngSwitchCase"],["class","alert alert-danger my-1 p-2 fadeInDown animated",4,"ngIf"],[3,"key","title","required"],[3,"key","title"],[3,"key","title","eventType","fetching"],[3,"key","multiline","type","disabled","value","formGroup"],[3,"key","type","formGroup"],[3,"key","options","formGroup","fetching"],[3,"key","title","formGroup"],[3,"key","options","formGroup"],[3,"key","header","records","fetching","value"],[1,"alert","alert-danger","my-1","p-2","fadeInDown","animated"]],template:function(ce,Ne){1&ce&&(I.\u0275\u0275elementStart(0,"div",0),I.\u0275\u0275template(1,B,1,3,"label-atom",1),I.\u0275\u0275elementStart(2,"div",2),I.\u0275\u0275template(3,ge,1,2,"label-atom",3),I.\u0275\u0275template(4,xe,1,4,"button-atom",4),I.\u0275\u0275template(5,Ye,1,6,"label-text-field-moelcule",5),I.\u0275\u0275template(6,Xe,1,3,"label-text-field-moelcule",6),I.\u0275\u0275template(7,Ze,1,4,"label-dropdown-molecule",7),I.\u0275\u0275template(8,ye,1,3,"label-checkbox-molecule",8),I.\u0275\u0275template(9,Ge,1,3,"label-radio-molecule",9),I.\u0275\u0275template(10,$e,1,5,"table-organism",10),I.\u0275\u0275template(11,Be,2,1,"div",11),I.\u0275\u0275elementEnd(),I.\u0275\u0275elementEnd()),2&ce&&(I.\u0275\u0275property("formGroup",Ne.formGroup),I.\u0275\u0275advance(1),I.\u0275\u0275property("ngIf",Ne.field.label),I.\u0275\u0275advance(1),I.\u0275\u0275property("ngStyle",I.\u0275\u0275pureFunction0(13,Pe))("ngSwitch",Ne.field.type),I.\u0275\u0275advance(1),I.\u0275\u0275property("ngSwitchCase",Ne.getType("ELEMENT_LABEL")),I.\u0275\u0275advance(1),I.\u0275\u0275property("ngSwitchCase",Ne.getType("ELEMENT_BUTTON")),I.\u0275\u0275advance(1),I.\u0275\u0275property("ngSwitchCase",Ne.getType("ELEMENT_TEXT")),I.\u0275\u0275advance(1),I.\u0275\u0275property("ngSwitchCase",Ne.getType("ELEMENT_DATE")),I.\u0275\u0275advance(1),I.\u0275\u0275property("ngSwitchCase",Ne.getType("ELEMENT_DROPDOWN")),I.\u0275\u0275advance(1),I.\u0275\u0275property("ngSwitchCase",Ne.getType("ELEMENT_CHECKBOX")),I.\u0275\u0275advance(1),I.\u0275\u0275property("ngSwitchCase",Ne.getType("ELEMENT_RADIO")),I.\u0275\u0275advance(1),I.\u0275\u0275property("ngSwitchCase",Ne.getType("ELEMENT_TABLE")),I.\u0275\u0275advance(1),I.\u0275\u0275property("ngIf",!Ne.isValid&&Ne.isDirty))},directives:[l.JL,l.sg,$.NgIf,$.NgStyle,$.NgSwitch,$.NgSwitchCase,Y.J,se.m,le.z,N.I,R.n,C.q,O.f],encapsulation:2}),oe})()},6398:(de,te,E)=>{E.r(te),E.d(te,{SharedDynamicFormBuilderComponent:()=>G});var l=E(952),d=E(7451),H=E(325),I=E(6846);let G=(()=>{class ${constructor(Y){this.dynamicFormBuilderService=Y,this.schemaFormFields=new l.UZ}ngOnInit(){this.dynamicFormBuilderService.loadVariables(this.schemaFormFields.variables)}}return $.\u0275fac=function(Y){return new(Y||$)(d.\u0275\u0275directiveInject(H.D))},$.\u0275cmp=d.\u0275\u0275defineComponent({type:$,selectors:[["shared-dynamic-form-builder"]],inputs:{schemaFormFields:"schemaFormFields"},decls:1,vars:5,consts:[[3,"modeBuildProduction","modeGridPosition","fields","schemeColumns","generalSetting"]],template:function(Y,se){1&Y&&d.\u0275\u0275element(0,"dynamic-form-builder",0),2&Y&&d.\u0275\u0275property("modeBuildProduction",!0)("modeGridPosition",!0)("fields",se.schemaFormFields.fields)("schemeColumns",se.schemaFormFields.schemeColumns)("generalSetting",se.schemaFormFields.generalSetting)},directives:[I.DynamicFormBuilderComponent],encapsulation:2}),$})()},2263:(de,te,E)=>{E(7451)},2042:(de,te,E)=>{E.d(te,{q:()=>L});var l=E(7451);let L=(()=>{class H{constructor(){this.dimension=37,this.animated=!1}}return H.\u0275fac=function(G){return new(G||H)},H.\u0275cmp=l.\u0275\u0275defineComponent({type:H,selectors:[["icon-mobilform-svg"]],inputs:{dimension:"dimension",animated:"animated"},decls:10,vars:5,consts:[["id","elEkoYVmvDp1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 37 38","shape-rendering","geometricPrecision","text-rendering","geometricPrecision"],["transform","translate(25.5,22.5) scale(1,1)"],["transform","translate(-25.5,-22.5)"],["r","7.5","transform","translate(25.5 22.5)","fill","#f2d335"],["transform","translate(18,15) scale(1,1)"],["width","15","height","15","rx","0","ry","0","transform","translate(-7.5,-7.5)","fill","#0476d9"],["transform","translate(10.500004,5.625) scale(1,1)"],["d","M10.5,0l6.4952,11.25h-12.99039L10.5,0Z","transform","translate(-10.500004,-5.625)","fill","#04bfad"]],template:function(G,$){1&G&&(l.\u0275\u0275namespaceSVG(),l.\u0275\u0275elementStart(0,"svg",0),l.\u0275\u0275elementStart(1,"g",1),l.\u0275\u0275elementStart(2,"g",2),l.\u0275\u0275element(3,"circle",3),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(4,"g"),l.\u0275\u0275elementStart(5,"g",4),l.\u0275\u0275element(6,"rect",5),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(7,"g"),l.\u0275\u0275elementStart(8,"g",6),l.\u0275\u0275element(9,"path",7),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&G&&(l.\u0275\u0275attribute("width",$.dimension)("height",$.dimension),l.\u0275\u0275advance(1),l.\u0275\u0275attribute("id",$.animated?"elEkoYVmvDp2_ts":""),l.\u0275\u0275advance(4),l.\u0275\u0275attribute("id",$.animated?"elEkoYVmvDp5_ts":""),l.\u0275\u0275advance(3),l.\u0275\u0275attribute("id",$.animated?"elEkoYVmvDp7_ts":""))},styles:["#elEkoYVmvDp2_ts[_ngcontent-%COMP%]{animation:elEkoYVmvDp2_ts__ts 3s linear infinite normal forwards}@keyframes elEkoYVmvDp2_ts__ts{0%{transform:translate(25.5px,22.5px) scale(1)}66.666667%{transform:translate(25.5px,22.5px) scale(1);animation-timing-function:cubic-bezier(.39,.575,.565,1)}86.666667%{transform:translate(25.5px,22.5px) scale(.744092);animation-timing-function:cubic-bezier(.39,.575,.565,1)}to{transform:translate(25.5px,22.5px) scale(.979763)}}#elEkoYVmvDp5_ts[_ngcontent-%COMP%]{animation:elEkoYVmvDp5_ts__ts 3s linear infinite normal forwards}@keyframes elEkoYVmvDp5_ts__ts{0%{transform:translate(18px,15px) scale(1)}33.333333%{transform:translate(18px,15px) scale(1);animation-timing-function:cubic-bezier(.39,.575,.565,1)}50%{transform:translate(18px,15px) scale(.744092);animation-timing-function:cubic-bezier(.39,.575,.565,1)}66.666667%{transform:translate(18px,15px) scale(.979763)}to{transform:translate(18px,15px) scale(.979763)}}#elEkoYVmvDp7_ts[_ngcontent-%COMP%]{animation:elEkoYVmvDp7_ts__ts 3s linear infinite normal forwards}@keyframes elEkoYVmvDp7_ts__ts{0%{transform:translate(10.500004px,5.625px) scale(1);animation-timing-function:cubic-bezier(.39,.575,.565,1)}16.666667%{transform:translate(10.500004px,5.625px) scale(.744092);animation-timing-function:cubic-bezier(.39,.575,.565,1)}33.333333%{transform:translate(10.500004px,5.625px) scale(.979763)}to{transform:translate(10.500004px,5.625px) scale(.979763)}}"]}),H})()},846:(de,te,E)=>{E(7451)},9435:(de,te,E)=>{E(7451)},6322:(de,te,E)=>{E(7451)},8797:(de,te,E)=>{E(7451)},3638:(de,te,E)=>{E(7451)},5387:(de,te,E)=>{E.d(te,{c:()=>bt});var l={};E.r(l),E.d(l,{Decoder:()=>_,Encoder:()=>m,PacketType:()=>v,protocol:()=>S});var d=E(824),L=E(747),H=E(952),I=E(4171),$=E(4966);const ae="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function Y(z){const T=z.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!T||$))return new XMLHttpRequest}catch{}if(!T)try{return new(ae[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch{}}function se(z,...T){return T.reduce((g,b)=>(z.hasOwnProperty(b)&&(g[b]=z[b]),g),{})}const le=setTimeout,N=clearTimeout;function R(z,T){T.useNativeTimers?(z.setTimeoutFn=le.bind(ae),z.clearTimeoutFn=N.bind(ae)):(z.setTimeoutFn=setTimeout.bind(ae),z.clearTimeoutFn=clearTimeout.bind(ae))}var C=E(8573);const O=Object.create(null);O.open="0",O.close="1",O.ping="2",O.pong="3",O.message="4",O.upgrade="5",O.noop="6";const B=Object.create(null);Object.keys(O).forEach(z=>{B[O[z]]=z});const ge={type:"error",data:"parser error"},xe="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Ye="function"==typeof ArrayBuffer,ye=(z,T)=>{const g=new FileReader;return g.onload=function(){const b=g.result.split(",")[1];T("b"+b)},g.readAsDataURL(z)},Ge=({type:z,data:T},g,b)=>xe&&T instanceof Blob?g?b(T):ye(T,b):Ye&&(T instanceof ArrayBuffer||(z=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(z):z&&z.buffer instanceof ArrayBuffer)(T))?g?b(T):ye(new Blob([T]),b):b(O[z]+(T||""));for(var $e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Be="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Pe=0;Pe<$e.length;Pe++)Be[$e.charCodeAt(Pe)]=Pe;const we="function"==typeof ArrayBuffer,Ne=(z,T)=>{if(we){const g=function(z){var b,F,J,De,je,T=.75*z.length,g=z.length,M=0;"="===z[z.length-1]&&(T--,"="===z[z.length-2]&&T--);var it=new ArrayBuffer(T),ot=new Uint8Array(it);for(b=0;b<g;b+=4)F=Be[z.charCodeAt(b)],J=Be[z.charCodeAt(b+1)],De=Be[z.charCodeAt(b+2)],je=Be[z.charCodeAt(b+3)],ot[M++]=F<<2|J>>4,ot[M++]=(15&J)<<4|De>>2,ot[M++]=(3&De)<<6|63&je;return it}(z);return Me(g,T)}return{base64:!0,data:z}},Me=(z,T)=>"blob"===T&&z instanceof ArrayBuffer?new Blob([z]):z,Ve=(z,T)=>{if("string"!=typeof z)return{type:"message",data:Me(z,T)};const g=z.charAt(0);return"b"===g?{type:"message",data:Ne(z.substring(1),T)}:B[g]?z.length>1?{type:B[g],data:z.substring(1)}:{type:B[g]}:ge},j=String.fromCharCode(30);class Oe extends C.Q{constructor(T){super(),this.writable=!1,R(this,T),this.opts=T,this.query=T.query,this.readyState="",this.socket=T.socket}onError(T,g){const b=new Error(T);return b.type="TransportError",b.description=g,super.emit("error",b),this}open(){return("closed"===this.readyState||""===this.readyState)&&(this.readyState="opening",this.doOpen()),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(T){"open"===this.readyState&&this.write(T)}onOpen(){this.readyState="open",this.writable=!0,super.emit("open")}onData(T){const g=Ve(T,this.socket.binaryType);this.onPacket(g)}onPacket(T){super.emit("packet",T)}onClose(){this.readyState="closed",super.emit("close")}}var Je=E(5391),rt=E(9603);class at extends Oe{constructor(){super(...arguments),this.polling=!1}get name(){return"polling"}doOpen(){this.poll()}pause(T){this.readyState="pausing";const g=()=>{this.readyState="paused",T()};if(this.polling||!this.writable){let b=0;this.polling&&(b++,this.once("pollComplete",function(){--b||g()})),this.writable||(b++,this.once("drain",function(){--b||g()}))}else g()}poll(){this.polling=!0,this.doPoll(),this.emit("poll")}onData(T){((z,T)=>{const g=z.split(j),b=[];for(let M=0;M<g.length;M++){const F=Ve(g[M],T);if(b.push(F),"error"===F.type)break}return b})(T,this.socket.binaryType).forEach(b=>{if("opening"===this.readyState&&"open"===b.type&&this.onOpen(),"close"===b.type)return this.onClose(),!1;this.onPacket(b)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const T=()=>{this.write([{type:"close"}])};"open"===this.readyState?T():this.once("open",T)}write(T){this.writable=!1,((z,T)=>{const g=z.length,b=new Array(g);let M=0;z.forEach((F,J)=>{Ge(F,!1,De=>{b[J]=De,++M===g&&T(b.join(j))})})})(T,g=>{this.doWrite(g,()=>{this.writable=!0,this.emit("drain")})})}uri(){let T=this.query||{};const g=this.opts.secure?"https":"http";let b="";!1!==this.opts.timestampRequests&&(T[this.opts.timestampParam]=Je()),!this.supportsBinary&&!T.sid&&(T.b64=1),this.opts.port&&("https"===g&&443!==Number(this.opts.port)||"http"===g&&80!==Number(this.opts.port))&&(b=":"+this.opts.port);const M=rt.encode(T);return g+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+b+this.opts.path+(M.length?"?"+M:"")}}function ht(){}const Ct=null!=new Y({xdomain:!1}).responseType;let pt=(()=>{class z extends C.Q{constructor(g,b){super(),R(this,b),this.opts=b,this.method=b.method||"GET",this.uri=g,this.async=!1!==b.async,this.data=void 0!==b.data?b.data:null,this.create()}create(){const g=se(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");g.xdomain=!!this.opts.xd,g.xscheme=!!this.opts.xs;const b=this.xhr=new Y(g);try{b.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){b.setDisableHeaderCheck&&b.setDisableHeaderCheck(!0);for(let M in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(M)&&b.setRequestHeader(M,this.opts.extraHeaders[M])}}catch{}if("POST"===this.method)try{b.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{b.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in b&&(b.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(b.timeout=this.opts.requestTimeout),b.onreadystatechange=()=>{4===b.readyState&&(200===b.status||1223===b.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof b.status?b.status:0)},0))},b.send(this.data)}catch(M){return void this.setTimeoutFn(()=>{this.onError(M)},0)}"undefined"!=typeof document&&(this.index=z.requestsCount++,z.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(g){this.emit("data",g),this.onSuccess()}onError(g){this.emit("error",g),this.cleanup(!0)}cleanup(g){if(null!=this.xhr){if(this.xhr.onreadystatechange=ht,g)try{this.xhr.abort()}catch{}"undefined"!=typeof document&&delete z.requests[this.index],this.xhr=null}}onLoad(){const g=this.xhr.responseText;null!==g&&this.onData(g)}abort(){this.cleanup()}}return z.requestsCount=0,z.requests={},z})();function Te(){for(let z in pt.requests)pt.requests.hasOwnProperty(z)&&pt.requests[z].abort()}"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",Te):"function"==typeof addEventListener&&addEventListener("onpagehide"in ae?"pagehide":"unload",Te,!1));const ke="function"==typeof Promise&&"function"==typeof Promise.resolve?T=>Promise.resolve().then(T):(T,g)=>g(T,0),ie=ae.WebSocket||ae.MozWebSocket,Qe="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class nt extends Oe{constructor(T){super(T),this.supportsBinary=!T.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const T=this.uri(),g=this.opts.protocols,b=Qe?{}:se(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(b.headers=this.opts.extraHeaders);try{this.ws=Qe?new ie(T,g,b):g?new ie(T,g):new ie(T)}catch(M){return this.emit("error",M)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=T=>this.onData(T.data),this.ws.onerror=T=>this.onError("websocket error",T)}write(T){this.writable=!1;for(let g=0;g<T.length;g++){const M=g===T.length-1;Ge(T[g],this.supportsBinary,F=>{try{this.ws.send(F)}catch{}M&&ke(()=>{this.writable=!0,this.emit("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let T=this.query||{};const g=this.opts.secure?"wss":"ws";let b="";this.opts.port&&("wss"===g&&443!==Number(this.opts.port)||"ws"===g&&80!==Number(this.opts.port))&&(b=":"+this.opts.port),this.opts.timestampRequests&&(T[this.opts.timestampParam]=Je()),this.supportsBinary||(T.b64=1);const M=rt.encode(T);return g+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+b+this.opts.path+(M.length?"?"+M:"")}check(){return!(!ie||"__initialize"in ie&&this.name===nt.prototype.name)}}const dt={websocket:nt,polling:class yt extends at{constructor(T){if(super(T),"undefined"!=typeof location){const b="https:"===location.protocol;let M=location.port;M||(M=b?"443":"80"),this.xd="undefined"!=typeof location&&T.hostname!==location.hostname||M!==T.port,this.xs=T.secure!==b}this.supportsBinary=Ct&&!(T&&T.forceBase64)}request(T={}){return Object.assign(T,{xd:this.xd,xs:this.xs},this.opts),new pt(this.uri(),T)}doWrite(T,g){const b=this.request({method:"POST",data:T});b.on("success",g),b.on("error",M=>{this.onError("xhr post error",M)})}doPoll(){const T=this.request();T.on("data",this.onData.bind(this)),T.on("error",g=>{this.onError("xhr poll error",g)}),this.pollXhr=T}}};let gt=(()=>{class z extends C.Q{constructor(g,b={}){super(),g&&"object"==typeof g&&(b=g,g=null),g?(g=I(g),b.hostname=g.host,b.secure="https"===g.protocol||"wss"===g.protocol,b.port=g.port,g.query&&(b.query=g.query)):b.host&&(b.hostname=I(b.host).host),R(this,b),this.secure=null!=b.secure?b.secure:"undefined"!=typeof location&&"https:"===location.protocol,b.hostname&&!b.port&&(b.port=this.secure?"443":"80"),this.hostname=b.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=b.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=b.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},b),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=rt.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close")},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(g){const b=function Mt(z){const T={};for(let g in z)z.hasOwnProperty(g)&&(T[g]=z[g]);return T}(this.opts.query);b.EIO=4,b.transport=g,this.id&&(b.sid=this.id);const M=Object.assign({},this.opts.transportOptions[g],this.opts,{query:b,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new dt[g](M)}open(){let g;if(this.opts.rememberUpgrade&&z.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))g="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);g=this.transports[0]}this.readyState="opening";try{g=this.createTransport(g)}catch{return this.transports.shift(),void this.open()}g.open(),this.setTransport(g)}setTransport(g){this.transport&&this.transport.removeAllListeners(),this.transport=g,g.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",()=>{this.onClose("transport close")})}probe(g){let b=this.createTransport(g),M=!1;z.priorWebsocketSuccess=!1;const F=()=>{M||(b.send([{type:"ping",data:"probe"}]),b.once("packet",Ot=>{if(!M)if("pong"===Ot.type&&"probe"===Ot.data){if(this.upgrading=!0,this.emitReserved("upgrading",b),!b)return;z.priorWebsocketSuccess="websocket"===b.name,this.transport.pause(()=>{M||"closed"!==this.readyState&&(Lt(),this.setTransport(b),b.send([{type:"upgrade"}]),this.emitReserved("upgrade",b),b=null,this.upgrading=!1,this.flush())})}else{const Pt=new Error("probe error");Pt.transport=b.name,this.emitReserved("upgradeError",Pt)}}))};function J(){M||(M=!0,Lt(),b.close(),b=null)}const De=Ot=>{const Pt=new Error("probe error: "+Ot);Pt.transport=b.name,J(),this.emitReserved("upgradeError",Pt)};function je(){De("transport closed")}function it(){De("socket closed")}function ot(Ot){b&&Ot.name!==b.name&&J()}const Lt=()=>{b.removeListener("open",F),b.removeListener("error",De),b.removeListener("close",je),this.off("close",it),this.off("upgrading",ot)};b.once("open",F),b.once("error",De),b.once("close",je),this.once("close",it),this.once("upgrading",ot),b.open()}onOpen(){if(this.readyState="open",z.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let g=0;const b=this.upgrades.length;for(;g<b;g++)this.probe(this.upgrades[g])}}onPacket(g){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",g),this.emitReserved("heartbeat"),g.type){case"open":this.onHandshake(JSON.parse(g.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const b=new Error("server error");b.code=g.data,this.onError(b);break;case"message":this.emitReserved("data",g.data),this.emitReserved("message",g.data)}}onHandshake(g){this.emitReserved("handshake",g),this.id=g.sid,this.transport.query.sid=g.sid,this.upgrades=this.filterUpgrades(g.upgrades),this.pingInterval=g.pingInterval,this.pingTimeout=g.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emitReserved("flush"))}write(g,b,M){return this.sendPacket("message",g,b,M),this}send(g,b,M){return this.sendPacket("message",g,b,M),this}sendPacket(g,b,M,F){if("function"==typeof b&&(F=b,b=void 0),"function"==typeof M&&(F=M,M=null),"closing"===this.readyState||"closed"===this.readyState)return;(M=M||{}).compress=!1!==M.compress;const J={type:g,data:b,options:M};this.emitReserved("packetCreate",J),this.writeBuffer.push(J),F&&this.once("flush",F),this.flush()}close(){const g=()=>{this.onClose("forced close"),this.transport.close()},b=()=>{this.off("upgrade",b),this.off("upgradeError",b),g()},M=()=>{this.once("upgrade",b),this.once("upgradeError",b)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?M():g()}):this.upgrading?M():g()),this}onError(g){z.priorWebsocketSuccess=!1,this.emitReserved("error",g),this.onClose("transport error",g)}onClose(g,b){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",g,b),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(g){const b=[];let M=0;const F=g.length;for(;M<F;M++)~this.transports.indexOf(g[M])&&b.push(g[M]);return b}}return z.protocol=4,z})();const ue="function"==typeof ArrayBuffer,W=Object.prototype.toString,pe="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===W.call(Blob),ve="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===W.call(File);function Le(z){return ue&&(z instanceof ArrayBuffer||(z=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(z):z.buffer instanceof ArrayBuffer)(z))||pe&&z instanceof Blob||ve&&z instanceof File}function qe(z,T){if(!z||"object"!=typeof z)return!1;if(Array.isArray(z)){for(let g=0,b=z.length;g<b;g++)if(qe(z[g]))return!0;return!1}if(Le(z))return!0;if(z.toJSON&&"function"==typeof z.toJSON&&1===arguments.length)return qe(z.toJSON(),!0);for(const g in z)if(Object.prototype.hasOwnProperty.call(z,g)&&qe(z[g]))return!0;return!1}function _t(z){const T=[],b=z;return b.data=ct(z.data,T),b.attachments=T.length,{packet:b,buffers:T}}function ct(z,T){if(!z)return z;if(Le(z)){const g={_placeholder:!0,num:T.length};return T.push(z),g}if(Array.isArray(z)){const g=new Array(z.length);for(let b=0;b<z.length;b++)g[b]=ct(z[b],T);return g}if("object"==typeof z&&!(z instanceof Date)){const g={};for(const b in z)Object.prototype.hasOwnProperty.call(z,b)&&(g[b]=ct(z[b],T));return g}return z}function fe(z,T){return z.data=V(z.data,T),z.attachments=void 0,z}function V(z,T){if(!z)return z;if(z&&z._placeholder)return T[z.num];if(Array.isArray(z))for(let g=0;g<z.length;g++)z[g]=V(z[g],T);else if("object"==typeof z)for(const g in z)Object.prototype.hasOwnProperty.call(z,g)&&(z[g]=V(z[g],T));return z}const S=5;var v=(()=>{return(z=v||(v={}))[z.CONNECT=0]="CONNECT",z[z.DISCONNECT=1]="DISCONNECT",z[z.EVENT=2]="EVENT",z[z.ACK=3]="ACK",z[z.CONNECT_ERROR=4]="CONNECT_ERROR",z[z.BINARY_EVENT=5]="BINARY_EVENT",z[z.BINARY_ACK=6]="BINARY_ACK",v;var z})();class m{encode(T){return T.type!==v.EVENT&&T.type!==v.ACK||!qe(T)?[this.encodeAsString(T)]:(T.type=T.type===v.EVENT?v.BINARY_EVENT:v.BINARY_ACK,this.encodeAsBinary(T))}encodeAsString(T){let g=""+T.type;return(T.type===v.BINARY_EVENT||T.type===v.BINARY_ACK)&&(g+=T.attachments+"-"),T.nsp&&"/"!==T.nsp&&(g+=T.nsp+","),null!=T.id&&(g+=T.id),null!=T.data&&(g+=JSON.stringify(T.data)),g}encodeAsBinary(T){const g=_t(T),b=this.encodeAsString(g.packet),M=g.buffers;return M.unshift(b),M}}class _ extends C.Q{constructor(){super()}add(T){let g;if("string"==typeof T)g=this.decodeString(T),g.type===v.BINARY_EVENT||g.type===v.BINARY_ACK?(this.reconstructor=new k(g),0===g.attachments&&super.emitReserved("decoded",g)):super.emitReserved("decoded",g);else{if(!Le(T)&&!T.base64)throw new Error("Unknown type: "+T);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");g=this.reconstructor.takeBinaryData(T),g&&(this.reconstructor=null,super.emitReserved("decoded",g))}}decodeString(T){let g=0;const b={type:Number(T.charAt(0))};if(void 0===v[b.type])throw new Error("unknown packet type "+b.type);if(b.type===v.BINARY_EVENT||b.type===v.BINARY_ACK){const F=g+1;for(;"-"!==T.charAt(++g)&&g!=T.length;);const J=T.substring(F,g);if(J!=Number(J)||"-"!==T.charAt(g))throw new Error("Illegal attachments");b.attachments=Number(J)}if("/"===T.charAt(g+1)){const F=g+1;for(;++g&&","!==T.charAt(g)&&g!==T.length;);b.nsp=T.substring(F,g)}else b.nsp="/";const M=T.charAt(g+1);if(""!==M&&Number(M)==M){const F=g+1;for(;++g;){const J=T.charAt(g);if(null==J||Number(J)!=J){--g;break}if(g===T.length)break}b.id=Number(T.substring(F,g+1))}if(T.charAt(++g)){const F=function w(z){try{return JSON.parse(z)}catch{return!1}}(T.substr(g));if(!_.isPayloadValid(b.type,F))throw new Error("invalid payload");b.data=F}return b}static isPayloadValid(T,g){switch(T){case v.CONNECT:return"object"==typeof g;case v.DISCONNECT:return void 0===g;case v.CONNECT_ERROR:return"string"==typeof g||"object"==typeof g;case v.EVENT:case v.BINARY_EVENT:return Array.isArray(g)&&g.length>0;case v.ACK:case v.BINARY_ACK:return Array.isArray(g)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class k{constructor(T){this.packet=T,this.buffers=[],this.reconPack=T}takeBinaryData(T){if(this.buffers.push(T),this.buffers.length===this.reconPack.attachments){const g=fe(this.reconPack,this.buffers);return this.finishedReconstruction(),g}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function K(z,T,g){return z.on(T,g),function(){z.off(T,g)}}const ne=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Ce extends C.Q{constructor(T,g,b){super(),this.connected=!1,this.disconnected=!0,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=T,this.nsp=g,b&&b.auth&&(this.auth=b.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;const T=this.io;this.subs=[K(T,"open",this.onopen.bind(this)),K(T,"packet",this.onpacket.bind(this)),K(T,"error",this.onerror.bind(this)),K(T,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...T){return T.unshift("message"),this.emit.apply(this,T),this}emit(T,...g){if(ne.hasOwnProperty(T))throw new Error('"'+T+'" is a reserved event name');g.unshift(T);const b={type:v.EVENT,data:g,options:{}};if(b.options.compress=!1!==this.flags.compress,"function"==typeof g[g.length-1]){const J=this.ids++,De=g.pop();this._registerAckCallback(J,De),b.id=J}return this.flags.volatile&&(!(this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable)||!this.connected)||(this.connected?this.packet(b):this.sendBuffer.push(b)),this.flags={},this}_registerAckCallback(T,g){const b=this.flags.timeout;if(void 0===b)return void(this.acks[T]=g);const M=this.io.setTimeoutFn(()=>{delete this.acks[T];for(let F=0;F<this.sendBuffer.length;F++)this.sendBuffer[F].id===T&&this.sendBuffer.splice(F,1);g.call(this,new Error("operation has timed out"))},b);this.acks[T]=(...F)=>{this.io.clearTimeoutFn(M),g.apply(this,[null,...F])}}packet(T){T.nsp=this.nsp,this.io._packet(T)}onopen(){"function"==typeof this.auth?this.auth(T=>{this.packet({type:v.CONNECT,data:T})}):this.packet({type:v.CONNECT,data:this.auth})}onerror(T){this.connected||this.emitReserved("connect_error",T)}onclose(T){this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",T)}onpacket(T){if(T.nsp===this.nsp)switch(T.type){case v.CONNECT:T.data&&T.data.sid?this.onconnect(T.data.sid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case v.EVENT:case v.BINARY_EVENT:this.onevent(T);break;case v.ACK:case v.BINARY_ACK:this.onack(T);break;case v.DISCONNECT:this.ondisconnect();break;case v.CONNECT_ERROR:this.destroy();const b=new Error(T.data.message);b.data=T.data.data,this.emitReserved("connect_error",b)}}onevent(T){const g=T.data||[];null!=T.id&&g.push(this.ack(T.id)),this.connected?this.emitEvent(g):this.receiveBuffer.push(Object.freeze(g))}emitEvent(T){if(this._anyListeners&&this._anyListeners.length){const g=this._anyListeners.slice();for(const b of g)b.apply(this,T)}super.emit.apply(this,T)}ack(T){const g=this;let b=!1;return function(...M){b||(b=!0,g.packet({type:v.ACK,id:T,data:M}))}}onack(T){const g=this.acks[T.id];"function"==typeof g&&(g.apply(this,T.data),delete this.acks[T.id])}onconnect(T){this.id=T,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(T=>this.emitEvent(T)),this.receiveBuffer=[],this.sendBuffer.forEach(T=>this.packet(T)),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(T=>T()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:v.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(T){return this.flags.compress=T,this}get volatile(){return this.flags.volatile=!0,this}timeout(T){return this.flags.timeout=T,this}onAny(T){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(T),this}prependAny(T){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(T),this}offAny(T){if(!this._anyListeners)return this;if(T){const g=this._anyListeners;for(let b=0;b<g.length;b++)if(T===g[b])return g.splice(b,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}var Fe=E(7591);class Ke extends C.Q{constructor(T,g){var b;super(),this.nsps={},this.subs=[],T&&"object"==typeof T&&(g=T,T=void 0),(g=g||{}).path=g.path||"/socket.io",this.opts=g,R(this,g),this.reconnection(!1!==g.reconnection),this.reconnectionAttempts(g.reconnectionAttempts||1/0),this.reconnectionDelay(g.reconnectionDelay||1e3),this.reconnectionDelayMax(g.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(b=g.randomizationFactor)&&void 0!==b?b:.5),this.backoff=new Fe({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(g.timeout??2e4),this._readyState="closed",this.uri=T;const M=g.parser||l;this.encoder=new M.Encoder,this.decoder=new M.Decoder,this._autoConnect=!1!==g.autoConnect,this._autoConnect&&this.open()}reconnection(T){return arguments.length?(this._reconnection=!!T,this):this._reconnection}reconnectionAttempts(T){return void 0===T?this._reconnectionAttempts:(this._reconnectionAttempts=T,this)}reconnectionDelay(T){var g;return void 0===T?this._reconnectionDelay:(this._reconnectionDelay=T,null===(g=this.backoff)||void 0===g||g.setMin(T),this)}randomizationFactor(T){var g;return void 0===T?this._randomizationFactor:(this._randomizationFactor=T,null===(g=this.backoff)||void 0===g||g.setJitter(T),this)}reconnectionDelayMax(T){var g;return void 0===T?this._reconnectionDelayMax:(this._reconnectionDelayMax=T,null===(g=this.backoff)||void 0===g||g.setMax(T),this)}timeout(T){return arguments.length?(this._timeout=T,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(T){if(~this._readyState.indexOf("open"))return this;this.engine=new gt(this.uri,this.opts);const g=this.engine,b=this;this._readyState="opening",this.skipReconnect=!1;const M=K(g,"open",function(){b.onopen(),T&&T()}),F=K(g,"error",J=>{b.cleanup(),b._readyState="closed",this.emitReserved("error",J),T?T(J):b.maybeReconnectOnOpen()});if(!1!==this._timeout){const J=this._timeout;0===J&&M();const De=this.setTimeoutFn(()=>{M(),g.close(),g.emit("error",new Error("timeout"))},J);this.opts.autoUnref&&De.unref(),this.subs.push(function(){clearTimeout(De)})}return this.subs.push(M),this.subs.push(F),this}connect(T){return this.open(T)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const T=this.engine;this.subs.push(K(T,"ping",this.onping.bind(this)),K(T,"data",this.ondata.bind(this)),K(T,"error",this.onerror.bind(this)),K(T,"close",this.onclose.bind(this)),K(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(T){this.decoder.add(T)}ondecoded(T){this.emitReserved("packet",T)}onerror(T){this.emitReserved("error",T)}socket(T,g){let b=this.nsps[T];return b||(b=new Ce(this,T,g),this.nsps[T]=b),b}_destroy(T){const g=Object.keys(this.nsps);for(const b of g)if(this.nsps[b].active)return;this._close()}_packet(T){const g=this.encoder.encode(T);for(let b=0;b<g.length;b++)this.engine.write(g[b],T.options)}cleanup(){this.subs.forEach(T=>T()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(T){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",T),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const T=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const g=this.backoff.duration();this._reconnecting=!0;const b=this.setTimeoutFn(()=>{T.skipReconnect||(this.emitReserved("reconnect_attempt",T.backoff.attempts),!T.skipReconnect&&T.open(M=>{M?(T._reconnecting=!1,T.reconnect(),this.emitReserved("reconnect_error",M)):T.onreconnect()}))},g);this.opts.autoUnref&&b.unref(),this.subs.push(function(){clearTimeout(b)})}}onreconnect(){const T=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",T)}}const st={};function tt(z,T){"object"==typeof z&&(T=z,z=void 0);const g=function G(z,T="",g){let b=z;g=g||"undefined"!=typeof location&&location,null==z&&(z=g.protocol+"//"+g.host),"string"==typeof z&&("/"===z.charAt(0)&&(z="/"===z.charAt(1)?g.protocol+z:g.host+z),/^(https?|wss?):\/\//.test(z)||(z=void 0!==g?g.protocol+"//"+z:"https://"+z),b=I(z)),b.port||(/^(http|ws)$/.test(b.protocol)?b.port="80":/^(http|ws)s$/.test(b.protocol)&&(b.port="443")),b.path=b.path||"/";const F=-1!==b.host.indexOf(":")?"["+b.host+"]":b.host;return b.id=b.protocol+"://"+F+":"+b.port+T,b.href=b.protocol+"://"+F+(g&&g.port===b.port?"":":"+b.port),b}(z,(T=T||{}).path||"/socket.io"),b=g.source,M=g.id;let je;return T.forceNew||T["force new connection"]||!1===T.multiplex||st[M]&&g.path in st[M].nsps?je=new Ke(b,T):(st[M]||(st[M]=new Ke(b,T)),je=st[M]),g.query&&!T.query&&(T.query=g.queryKey),je.socket(g.path,T)}Object.assign(tt,{Manager:Ke,Socket:Ce,io:tt,connect:tt});var ft=E(7451),wt=E(6152);let bt=(()=>{class z{constructor(g){this.http=g,this.baseUrl=L.N.baseUrl,this._fieldSchemaObservable$=new d.Subject,this.fieldSchemaSubject$=this._fieldSchemaObservable$.asObservable(),this._selectedFieldKeySubject$=new d.Subject,this.selectedFieldKeyObservable$=this._selectedFieldKeySubject$.asObservable(),this._sharedConnectListSubject$=new d.Subject,this.sharedConnectListObservable$=this._sharedConnectListSubject$.asObservable(),this._showSectionToolbarSubject$=new d.Subject,this.showSectionToolbarObservable$=this._showSectionToolbarSubject$.asObservable(),this._selectedFormSubject$=new d.Subject,this.selectedFormObservable$=this._selectedFormSubject$.asObservable(),this.forms=[],this.onSnapshotSuccess=b=>{this.forms=b,tt(this.baseUrl).on("forms",F=>{switch(F.operationType){case"update":const J=this.forms.findIndex(ot=>ot._id===F.documentKey._id);this.forms[J]={...this.forms[J],...F.updateDescription?.updatedFields},this.selectedForm._id&&this.getFormById(this.selectedForm._id);break;case"insert":const De=F.fullDocument;this.forms.push(De),this.getFormById(De._id);break;case"delete":const je=F.documentKey._id,it=this.forms.findIndex(ot=>ot._id===je);this.forms.splice(it,1),this.selectedForm._id===je&&this.getFormById(this.forms[this.forms.length-1]._id)}})},this.onSnapshotError=b=>{console.log(b)}}get selectedForm(){return this._selectedForm}set selectedForm(g){this._selectedForm=g}emmitChangesFields(g){this._fieldSchemaObservable$.next(g)}onChangesField(){return this.fieldSchemaSubject$}emmitFieldKey(g){this._selectedFieldKeySubject$.next(g)}onChangedFieldKey(){return this.selectedFieldKeyObservable$}emmitSharedConnectList(g){this._sharedConnectListSubject$.next(g)}onChangesSharedConnectList(){return this.sharedConnectListObservable$}emmitShowSectionToolbar(g){this._showSectionToolbarSubject$.next(g)}onChangesShowSectionToolbar(){return this.showSectionToolbarObservable$}emmitSelectedForm(g){this._selectedFormSubject$.next(g)}onChangesSelectedForm(){return this.selectedFormObservable$}getFormById(g){const b=this.forms.find(M=>M._id===g)??this.forms[this.forms.length-1];this.selectedForm=b??new H.l0,this.emmitSelectedForm(b)}formBuilderCreateForm(g){return this.http.post(`${this.baseUrl}/forms`,g)}formBuilderUpdateForm(g,b){return this.http.put(`${this.baseUrl}/forms/${g}`,b)}formBuilderGetAll(){return this.http.get(`${this.baseUrl}/forms`)}formBuilderGetOne(g){return this.http.get(`${this.baseUrl}/forms/${g}`)}formBuilderRemoveOne(g){return this.http.delete(`${this.baseUrl}/forms/${g}`)}}return z.\u0275fac=function(g){return new(g||z)(ft.\u0275\u0275inject(wt.HttpClient))},z.\u0275prov=ft.\u0275\u0275defineInjectable({token:z,factory:z.\u0275fac,providedIn:"root"}),z})()},747:(de,te,E)=>{E.d(te,{N:()=>l});const l={production:!0,baseUrl:"http://localhost:3000"}},952:(de,te,E)=>{E.d(te,{Ku:()=>l,UZ:()=>H,bn:()=>G,K7:()=>$,gk:()=>Y,l0:()=>le});var l=(()=>{return(N=l||(l={})).SUBMIT="submit",N.FETCHING="fetching",N.FILL_DATATABLE="fillDataTable",l;var N})();class H{constructor(R){this.fields=R?.fields??[],this.schemeColumns=R?.schemeColumns??[],this.generalSetting=R?.generalSetting??new Y,this.variables=R?.variables??[]}}class G{constructor(R){this.key=R?.key??"",this.numberColumns=R?.numberColumns??0,this.schemaLayout=R?.schemaLayout??[]}}class ${constructor(R){this.key=R?.key??"",this.isArray=R?.isArray??!1,this.type=R?.type??"",this.label=R?.label??"",this.title=R?.title??"",this.value=R?.value??"",this.mask=R?.mask??"",this.specialCharacters=R?.specialCharacters??[],this.patterns=R?.patterns??{},this.required=R?.required??!1,this.disabled=R?.disabled??!1,this.placeholder=R?.placeholder??"",this.options=R?.options??[],this.multiline=R?.multiline??!1,this.eventType=R?.eventType??"",this.propertiesStyle=R?.propertiesStyle??{},this.typeReference=R?.typeReference??"",this.header=R?.header??[],this.fetching=R?.fetching??{}}}class Y{constructor(R){this.endpointUrlBase=R?.endpointUrlBase??"",this.token=R?.token??"",this.typeForm=R?.typeForm??""}}class le extends class se{constructor(R){this._id=R?._id??"",this.active=R?.active??0,this.createdAt=R?.createdAt??0,this.updatedAt=R?.updatedAt??0}}{constructor(R){super(R),this.name=R?.name??"",this.description=R?.description??"",this.settings=R?.settings??new H}}},9153:(de,te,E)=>{E.d(te,{s:()=>l});class l{static EnumToObject(L){return Object.keys(L).reduce((H,I)=>({...H,[I]:L[I]}),{})}}},2186:(de,te,E)=>{E(6483)},754:(de,te,E)=>{E.d(te,{r:()=>l});class l{static getValueBetweenTwoCharacters(L,H,I){return L.substring(L.indexOf(H)+H.length,L.lastIndexOf(I))}static getAllValueBetweenCharacters(L,H){const I=new RegExp(`${L}(.*?)${H}`,"gm"),G=$=>$.slice(L.length,-1*H.length);return function($){return $.match(I)?.map(G)}}}},8954:(de,te,E)=>{function pt(fe){return 0===fe.offsetX&&0===fe.offsetY}function Te(fe){const V=fe.touches&&fe.touches[0]||fe.changedTouches&&fe.changedTouches[0];return!(!V||-1!==V.identifier||null!=V.radiusX&&1!==V.radiusX||null!=V.radiusY&&1!==V.radiusY)}E.d(te,{X6:()=>pt,yG:()=>Te}),E(3192),E(7451),E(824),E(5436),E(5033),E(6321)},5875:(de,te,E)=>{E.d(te,{Is:()=>$});var l=E(7451),d=E(3192);const L=new l.InjectionToken("cdk-dir-doc",{providedIn:"root",factory:function H(){return(0,l.inject)(d.DOCUMENT)}}),I=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let $=(()=>{class se{constructor(N){if(this.value="ltr",this.change=new l.EventEmitter,N){const C=N.documentElement?N.documentElement.dir:null;this.value=function G(se){const le=se?.toLowerCase()||"";return"auto"===le&&"undefined"!=typeof navigator&&navigator?.language?I.test(navigator.language)?"rtl":"ltr":"rtl"===le?"rtl":"ltr"}((N.body?N.body.dir:null)||C||"ltr")}}ngOnDestroy(){this.change.complete()}}return se.\u0275fac=function(N){return new(N||se)(l.\u0275\u0275inject(L,8))},se.\u0275prov=l.\u0275\u0275defineInjectable({token:se,factory:se.\u0275fac,providedIn:"root"}),se})()},4929:(de,te,E)=>{E.d(te,{Eq:()=>I,Ig:()=>d,fI:()=>$,su:()=>L});var l=E(7451);function d(Y){return null!=Y&&"false"!=`${Y}`}function L(Y,se=0){return function H(Y){return!isNaN(parseFloat(Y))&&!isNaN(Number(Y))}(Y)?Number(Y):se}function I(Y){return Array.isArray(Y)?Y:[Y]}function $(Y){return Y instanceof l.ElementRef?Y.nativeElement:Y}},4350:(de,te,E)=>{E.d(te,{Zt:()=>fe,Bh:()=>pe,Wj:()=>We,Fd:()=>dt,bA:()=>Ee,EA:()=>Oe});var l=E(7451),d=E(3192),L=E(5531),H=E(6321),I=E(4929),G=E(8954),$=E(824),ae=E(5033),Y=E(5875);function se(S,v,m){for(let _ in v)if(v.hasOwnProperty(_)){const w=v[_];w?S.setProperty(_,w,m?.has(_)?"important":""):S.removeProperty(_)}return S}function le(S,v){const m=v?"":"none";se(S.style,{"touch-action":v?"":"none","-webkit-user-drag":v?"":"none","-webkit-tap-highlight-color":v?"":"transparent","user-select":m,"-ms-user-select":m,"-webkit-user-select":m,"-moz-user-select":m})}function N(S,v,m){se(S.style,{position:v?"":"fixed",top:v?"":"0",opacity:v?"":"0",left:v?"":"-999em"},m)}function R(S,v){return v&&"none"!=v?S+" "+v:S}function C(S){const v=S.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(S)*v}function B(S,v){return S.getPropertyValue(v).split(",").map(_=>_.trim())}function ge(S){const v=S.getBoundingClientRect();return{top:v.top,right:v.right,bottom:v.bottom,left:v.left,width:v.width,height:v.height,x:v.x,y:v.y}}function xe(S,v,m){const{top:_,bottom:w,left:k,right:K}=S;return m>=_&&m<=w&&v>=k&&v<=K}function Ye(S,v,m){S.top+=v,S.bottom=S.top+S.height,S.left+=m,S.right=S.left+S.width}function Xe(S,v,m,_){const{top:w,right:k,bottom:K,left:ne,width:Ce,height:Fe}=S,Ke=Ce*v,st=Fe*v;return _>w-st&&_<K+st&&m>ne-Ke&&m<k+Ke}class Ze{constructor(v,m){this._document=v,this._viewportRuler=m,this.positions=new Map}clear(){this.positions.clear()}cache(v){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),v.forEach(m=>{this.positions.set(m,{scrollPosition:{top:m.scrollTop,left:m.scrollLeft},clientRect:ge(m)})})}handleScroll(v){const m=(0,H.sA)(v),_=this.positions.get(m);if(!_)return null;const w=_.scrollPosition;let k,K;if(m===this._document){const Fe=this._viewportRuler.getViewportScrollPosition();k=Fe.top,K=Fe.left}else k=m.scrollTop,K=m.scrollLeft;const ne=w.top-k,Ce=w.left-K;return this.positions.forEach((Fe,Ke)=>{Fe.clientRect&&m!==Ke&&m.contains(Ke)&&Ye(Fe.clientRect,ne,Ce)}),w.top=k,w.left=K,{top:ne,left:Ce}}}function ye(S){const v=S.cloneNode(!0),m=v.querySelectorAll("[id]"),_=S.nodeName.toLowerCase();v.removeAttribute("id");for(let w=0;w<m.length;w++)m[w].removeAttribute("id");return"canvas"===_?Pe(S,v):("input"===_||"select"===_||"textarea"===_)&&Be(S,v),Ge("canvas",S,v,Pe),Ge("input, textarea, select",S,v,Be),v}function Ge(S,v,m,_){const w=v.querySelectorAll(S);if(w.length){const k=m.querySelectorAll(S);for(let K=0;K<w.length;K++)_(w[K],k[K])}}let $e=0;function Be(S,v){"file"!==v.type&&(v.value=S.value),"radio"===v.type&&v.name&&(v.name=`mat-clone-${v.name}-${$e++}`)}function Pe(S,v){const m=v.getContext("2d");if(m)try{m.drawImage(S,0,0)}catch{}}const ee=(0,H.i$)({passive:!0}),oe=(0,H.i$)({passive:!1}),ce=new Set(["position"]);class Ne{constructor(v,m,_,w,k,K){this._config=m,this._document=_,this._ngZone=w,this._viewportRuler=k,this._dragDropRegistry=K,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new $.Subject,this._pointerMoveSubscription=$.Subscription.EMPTY,this._pointerUpSubscription=$.Subscription.EMPTY,this._scrollSubscription=$.Subscription.EMPTY,this._resizeSubscription=$.Subscription.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new $.Subject,this.started=new $.Subject,this.released=new $.Subject,this.ended=new $.Subject,this.entered=new $.Subject,this.exited=new $.Subject,this.dropped=new $.Subject,this.moved=this._moveEvents,this._pointerDown=ne=>{if(this.beforeStarted.next(),this._handles.length){const Ce=this._handles.find(Fe=>ne.target&&(ne.target===Fe||Fe.contains(ne.target)));Ce&&!this._disabledHandles.has(Ce)&&!this.disabled&&this._initializeDragSequence(Ce,ne)}else this.disabled||this._initializeDragSequence(this._rootElement,ne)},this._pointerMove=ne=>{const Ce=this._getPointerPositionOnPage(ne);if(!this._hasStartedDragging){if(Math.abs(Ce.x-this._pickupPositionOnPage.x)+Math.abs(Ce.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const ft=Date.now()>=this._dragStartTime+this._getDragStartDelay(ne),wt=this._dropContainer;if(!ft)return void this._endDragSequence(ne);(!wt||!wt.isDragging()&&!wt.isReceiving())&&(ne.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(ne)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),ne.preventDefault();const Fe=this._getConstrainedPointerPosition(Ce);if(this._hasMoved=!0,this._lastKnownPointerPosition=Ce,this._updatePointerDirectionDelta(Fe),this._dropContainer)this._updateActiveDropContainer(Fe,Ce);else{const Ke=this._activeTransform;Ke.x=Fe.x-this._pickupPositionOnPage.x+this._passiveTransform.x,Ke.y=Fe.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(Ke.x,Ke.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:Fe,event:ne,distance:this._getDragDistance(Fe),delta:this._pointerDirectionDelta})})},this._pointerUp=ne=>{this._endDragSequence(ne)},this.withRootElement(v).withParent(m.parentDragRef||null),this._parentPositions=new Ze(_,k),K.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(v){const m=(0,I.Ig)(v);m!==this._disabled&&(this._disabled=m,this._toggleNativeDragInteractions(),this._handles.forEach(_=>le(_,m)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(v){this._handles=v.map(_=>(0,I.fI)(_)),this._handles.forEach(_=>le(_,this.disabled)),this._toggleNativeDragInteractions();const m=new Set;return this._disabledHandles.forEach(_=>{this._handles.indexOf(_)>-1&&m.add(_)}),this._disabledHandles=m,this}withPreviewTemplate(v){return this._previewTemplate=v,this}withPlaceholderTemplate(v){return this._placeholderTemplate=v,this}withRootElement(v){const m=(0,I.fI)(v);return m!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{m.addEventListener("mousedown",this._pointerDown,oe),m.addEventListener("touchstart",this._pointerDown,ee)}),this._initialTransform=void 0,this._rootElement=m),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(v){return this._boundaryElement=v?(0,I.fI)(v):null,this._resizeSubscription.unsubscribe(),v&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(v){return this._parentDragRef=v,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(v){!this._disabledHandles.has(v)&&this._handles.indexOf(v)>-1&&(this._disabledHandles.add(v),le(v,!0))}enableHandle(v){this._disabledHandles.has(v)&&(this._disabledHandles.delete(v),le(v,this.disabled))}withDirection(v){return this._direction=v,this}_withDropContainer(v){this._dropContainer=v}getFreeDragPosition(){const v=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:v.x,y:v.y}}setFreeDragPosition(v){return this._activeTransform={x:0,y:0},this._passiveTransform.x=v.x,this._passiveTransform.y=v.y,this._dropContainer||this._applyRootElementTransform(v.x,v.y),this}withPreviewContainer(v){return this._previewContainer=v,this}_sortFromLastPointerPosition(){const v=this._lastKnownPointerPosition;v&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(v),v)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(v){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(v),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const m=this._getPointerPositionOnPage(v);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(m),dropPoint:m})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(v){j(v)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const m=this._dropContainer;if(m){const _=this._rootElement,w=_.parentNode,k=this._placeholder=this._createPlaceholderElement(),K=this._anchor=this._anchor||this._document.createComment(""),ne=this._getShadowRoot();w.insertBefore(K,_),this._initialTransform=_.style.transform||"",this._preview=this._createPreviewElement(),N(_,!1,ce),this._document.body.appendChild(w.replaceChild(k,_)),this._getPreviewInsertionPoint(w,ne).appendChild(this._preview),this.started.next({source:this}),m.start(),this._initialContainer=m,this._initialIndex=m.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(m?m.getScrollableParents():[])}_initializeDragSequence(v,m){this._parentDragRef&&m.stopPropagation();const _=this.isDragging(),w=j(m),k=!w&&0!==m.button,K=this._rootElement,ne=(0,H.sA)(m),Ce=!w&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),Fe=w?(0,G.yG)(m):(0,G.X6)(m);if(ne&&ne.draggable&&"mousedown"===m.type&&m.preventDefault(),_||k||Ce||Fe)return;if(this._handles.length){const tt=K.style;this._rootElementTapHighlight=tt.webkitTapHighlightColor||"",tt.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(tt=>this._updateOnScroll(tt)),this._boundaryElement&&(this._boundaryRect=ge(this._boundaryElement));const Ke=this._previewTemplate;this._pickupPositionInElement=Ke&&Ke.template&&!Ke.matchSize?{x:0,y:0}:this._getPointerPositionInElement(v,m);const st=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(m);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:st.x,y:st.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,m)}_cleanupDragArtifacts(v){N(this._rootElement,!0,ce),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const m=this._dropContainer,_=m.getItemIndex(this),w=this._getPointerPositionOnPage(v),k=this._getDragDistance(w),K=m._isOverContainer(w.x,w.y);this.ended.next({source:this,distance:k,dropPoint:w}),this.dropped.next({item:this,currentIndex:_,previousIndex:this._initialIndex,container:m,previousContainer:this._initialContainer,isPointerOverContainer:K,distance:k,dropPoint:w}),m.drop(this,_,this._initialIndex,this._initialContainer,K,k,w),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:v,y:m},{x:_,y:w}){let k=this._initialContainer._getSiblingContainerFromPosition(this,v,m);!k&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(v,m)&&(k=this._initialContainer),k&&k!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=k,this._dropContainer.enter(this,v,m,k===this._initialContainer&&k.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:k,currentIndex:k.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(_,w),this._dropContainer._sortItem(this,v,m,this._pointerDirectionDelta),this._applyPreviewTransform(v-this._pickupPositionInElement.x,m-this._pickupPositionInElement.y))}_createPreviewElement(){const v=this._previewTemplate,m=this.previewClass,_=v?v.template:null;let w;if(_&&v){const k=v.matchSize?this._rootElement.getBoundingClientRect():null,K=v.viewContainer.createEmbeddedView(_,v.context);K.detectChanges(),w=q(K,this._document),this._previewRef=K,v.matchSize?_e(w,k):w.style.transform=Me(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const k=this._rootElement;w=ye(k),_e(w,k.getBoundingClientRect()),this._initialTransform&&(w.style.transform=this._initialTransform)}return se(w.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},ce),le(w,!1),w.classList.add("cdk-drag-preview"),w.setAttribute("dir",this._direction),m&&(Array.isArray(m)?m.forEach(k=>w.classList.add(k)):w.classList.add(m)),w}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const v=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(v.left,v.top);const m=function O(S){const v=getComputedStyle(S),m=B(v,"transition-property"),_=m.find(ne=>"transform"===ne||"all"===ne);if(!_)return 0;const w=m.indexOf(_),k=B(v,"transition-duration"),K=B(v,"transition-delay");return C(k[w])+C(K[w])}(this._preview);return 0===m?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(_=>{const w=K=>{(!K||(0,H.sA)(K)===this._preview&&"transform"===K.propertyName)&&(this._preview?.removeEventListener("transitionend",w),_(),clearTimeout(k))},k=setTimeout(w,1.5*m);this._preview.addEventListener("transitionend",w)}))}_createPlaceholderElement(){const v=this._placeholderTemplate,m=v?v.template:null;let _;return m?(this._placeholderRef=v.viewContainer.createEmbeddedView(m,v.context),this._placeholderRef.detectChanges(),_=q(this._placeholderRef,this._document)):_=ye(this._rootElement),_.classList.add("cdk-drag-placeholder"),_}_getPointerPositionInElement(v,m){const _=this._rootElement.getBoundingClientRect(),w=v===this._rootElement?null:v,k=w?w.getBoundingClientRect():_,K=j(m)?m.targetTouches[0]:m,ne=this._getViewportScrollPosition();return{x:k.left-_.left+(K.pageX-k.left-ne.left),y:k.top-_.top+(K.pageY-k.top-ne.top)}}_getPointerPositionOnPage(v){const m=this._getViewportScrollPosition(),_=j(v)?v.touches[0]||v.changedTouches[0]||{pageX:0,pageY:0}:v,w=_.pageX-m.left,k=_.pageY-m.top;if(this._ownerSVGElement){const K=this._ownerSVGElement.getScreenCTM();if(K){const ne=this._ownerSVGElement.createSVGPoint();return ne.x=w,ne.y=k,ne.matrixTransform(K.inverse())}}return{x:w,y:k}}_getConstrainedPointerPosition(v){const m=this._dropContainer?this._dropContainer.lockAxis:null;let{x:_,y:w}=this.constrainPosition?this.constrainPosition(v,this):v;if("x"===this.lockAxis||"x"===m?w=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===m)&&(_=this._pickupPositionOnPage.x),this._boundaryRect){const{x:k,y:K}=this._pickupPositionInElement,ne=this._boundaryRect,Ce=this._previewRect,Fe=ne.top+K,Ke=ne.bottom-(Ce.height-K);_=Ve(_,ne.left+k,ne.right-(Ce.width-k)),w=Ve(w,Fe,Ke)}return{x:_,y:w}}_updatePointerDirectionDelta(v){const{x:m,y:_}=v,w=this._pointerDirectionDelta,k=this._pointerPositionAtLastDirectionChange,K=Math.abs(m-k.x),ne=Math.abs(_-k.y);return K>this._config.pointerDirectionChangeThreshold&&(w.x=m>k.x?1:-1,k.x=m),ne>this._config.pointerDirectionChangeThreshold&&(w.y=_>k.y?1:-1,k.y=_),w}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const v=this._handles.length>0||!this.isDragging();v!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=v,le(this._rootElement,v))}_removeRootElementListeners(v){v.removeEventListener("mousedown",this._pointerDown,oe),v.removeEventListener("touchstart",this._pointerDown,ee)}_applyRootElementTransform(v,m){const _=Me(v,m),w=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=w.transform&&"none"!=w.transform?w.transform:""),w.transform=R(_,this._initialTransform)}_applyPreviewTransform(v,m){const _=this._previewTemplate?.template?void 0:this._initialTransform,w=Me(v,m);this._preview.style.transform=R(w,_)}_getDragDistance(v){const m=this._pickupPositionOnPage;return m?{x:v.x-m.x,y:v.y-m.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:v,y:m}=this._passiveTransform;if(0===v&&0===m||this.isDragging()||!this._boundaryElement)return;const _=this._boundaryElement.getBoundingClientRect(),w=this._rootElement.getBoundingClientRect();if(0===_.width&&0===_.height||0===w.width&&0===w.height)return;const k=_.left-w.left,K=w.right-_.right,ne=_.top-w.top,Ce=w.bottom-_.bottom;_.width>w.width?(k>0&&(v+=k),K>0&&(v-=K)):v=0,_.height>w.height?(ne>0&&(m+=ne),Ce>0&&(m-=Ce)):m=0,(v!==this._passiveTransform.x||m!==this._passiveTransform.y)&&this.setFreeDragPosition({y:m,x:v})}_getDragStartDelay(v){const m=this.dragStartDelay;return"number"==typeof m?m:j(v)?m.touch:m?m.mouse:0}_updateOnScroll(v){const m=this._parentPositions.handleScroll(v);if(m){const _=(0,H.sA)(v);this._boundaryRect&&_!==this._boundaryElement&&_.contains(this._boundaryElement)&&Ye(this._boundaryRect,m.top,m.left),this._pickupPositionOnPage.x+=m.left,this._pickupPositionOnPage.y+=m.top,this._dropContainer||(this._activeTransform.x-=m.left,this._activeTransform.y-=m.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const v=this._parentPositions.positions.get(this._document);return v?v.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,H.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(v,m){const _=this._previewContainer||"global";if("parent"===_)return v;if("global"===_){const w=this._document;return m||w.fullscreenElement||w.webkitFullscreenElement||w.mozFullScreenElement||w.msFullscreenElement||w.body}return(0,I.fI)(_)}}function Me(S,v){return`translate3d(${Math.round(S)}px, ${Math.round(v)}px, 0)`}function Ve(S,v,m){return Math.max(v,Math.min(m,S))}function j(S){return"t"===S.type[0]}function q(S,v){const m=S.rootNodes;if(1===m.length&&m[0].nodeType===v.ELEMENT_NODE)return m[0];const _=v.createElement("div");return m.forEach(w=>_.appendChild(w)),_}function _e(S,v){S.style.width=`${v.width}px`,S.style.height=`${v.height}px`,S.style.transform=Me(v.left,v.top)}function Ee(S,v,m){const _=rt(v,S.length-1),w=rt(m,S.length-1);if(_===w)return;const k=S[_],K=w<_?-1:1;for(let ne=_;ne!==w;ne+=K)S[ne]=S[ne+K];S[w]=k}function Oe(S,v,m,_){const w=rt(m,S.length-1),k=rt(_,v.length);S.length&&v.splice(k,0,S.splice(w,1)[0])}function rt(S,v){return Math.max(0,Math.min(v,S))}class Ct{constructor(v,m,_,w,k){this._dragDropRegistry=m,this._ngZone=w,this._viewportRuler=k,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new $.Subject,this.entered=new $.Subject,this.exited=new $.Subject,this.dropped=new $.Subject,this.sorted=new $.Subject,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=$.Subscription.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new $.Subject,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,$.interval)(0,$.animationFrameScheduler).pipe((0,ae.takeUntil)(this._stopScrollTimers)).subscribe(()=>{const K=this._scrollNode,ne=this.autoScrollStep;1===this._verticalScrollDirection?K.scrollBy(0,-ne):2===this._verticalScrollDirection&&K.scrollBy(0,ne),1===this._horizontalScrollDirection?K.scrollBy(-ne,0):2===this._horizontalScrollDirection&&K.scrollBy(ne,0)})},this.element=(0,I.fI)(v),this._document=_,this.withScrollableParents([this.element]),m.registerDropContainer(this),this._parentPositions=new Ze(_,k)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(v,m,_,w){let k;this._draggingStarted(),null==w?(k=this.sortingDisabled?this._draggables.indexOf(v):-1,-1===k&&(k=this._getItemIndexFromPointerPosition(v,m,_))):k=w;const K=this._activeDraggables,ne=K.indexOf(v),Ce=v.getPlaceholderElement();let Fe=K[k];if(Fe===v&&(Fe=K[k+1]),!Fe&&(null==k||-1===k||k<K.length-1)&&this._shouldEnterAsFirstChild(m,_)&&(Fe=K[0]),ne>-1&&K.splice(ne,1),Fe&&!this._dragDropRegistry.isDragging(Fe)){const Ke=Fe.getRootElement();Ke.parentElement.insertBefore(Ce,Ke),K.splice(k,0,v)}else(0,I.fI)(this.element).appendChild(Ce),K.push(v);Ce.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:v,container:this,currentIndex:this.getItemIndex(v)})}exit(v){this._reset(),this.exited.next({item:v,container:this})}drop(v,m,_,w,k,K,ne){this._reset(),this.dropped.next({item:v,currentIndex:m,previousIndex:_,container:this,previousContainer:w,isPointerOverContainer:k,distance:K,dropPoint:ne})}withItems(v){const m=this._draggables;return this._draggables=v,v.forEach(_=>_._withDropContainer(this)),this.isDragging()&&(m.filter(w=>w.isDragging()).every(w=>-1===v.indexOf(w))?this._reset():this._cacheItems()),this}withDirection(v){return this._direction=v,this}connectedTo(v){return this._siblings=v.slice(),this}withOrientation(v){return this._orientation=v,this}withScrollableParents(v){const m=(0,I.fI)(this.element);return this._scrollableElements=-1===v.indexOf(m)?[m,...v]:v.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(v){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(_=>_.drag===v):this._draggables.indexOf(v)}isReceiving(){return this._activeSiblings.size>0}_sortItem(v,m,_,w){if(this.sortingDisabled||!this._clientRect||!Xe(this._clientRect,.05,m,_))return;const k=this._itemPositions,K=this._getItemIndexFromPointerPosition(v,m,_,w);if(-1===K&&k.length>0)return;const ne="horizontal"===this._orientation,Ce=k.findIndex(bt=>bt.drag===v),Fe=k[K],st=Fe.clientRect,tt=Ce>K?1:-1,ft=this._getItemOffsetPx(k[Ce].clientRect,st,tt),wt=this._getSiblingOffsetPx(Ce,k,tt),Dt=k.slice();Ee(k,Ce,K),this.sorted.next({previousIndex:Ce,currentIndex:K,container:this,item:v}),k.forEach((bt,z)=>{if(Dt[z]===bt)return;const T=bt.drag===v,g=T?ft:wt,b=T?v.getPlaceholderElement():bt.drag.getRootElement();bt.offset+=g,ne?(b.style.transform=R(`translate3d(${Math.round(bt.offset)}px, 0, 0)`,bt.initialTransform),Ye(bt.clientRect,0,g)):(b.style.transform=R(`translate3d(0, ${Math.round(bt.offset)}px, 0)`,bt.initialTransform),Ye(bt.clientRect,g,0))}),this._previousSwap.overlaps=xe(st,m,_),this._previousSwap.drag=Fe.drag,this._previousSwap.delta=ne?w.x:w.y}_startScrollingIfNecessary(v,m){if(this.autoScrollDisabled)return;let _,w=0,k=0;if(this._parentPositions.positions.forEach((K,ne)=>{ne===this._document||!K.clientRect||_||Xe(K.clientRect,.05,v,m)&&([w,k]=function Te(S,v,m,_){const w=yt(v,_),k=pt(v,m);let K=0,ne=0;if(w){const Ce=S.scrollTop;1===w?Ce>0&&(K=1):S.scrollHeight-Ce>S.clientHeight&&(K=2)}if(k){const Ce=S.scrollLeft;1===k?Ce>0&&(ne=1):S.scrollWidth-Ce>S.clientWidth&&(ne=2)}return[K,ne]}(ne,K.clientRect,v,m),(w||k)&&(_=ne))}),!w&&!k){const{width:K,height:ne}=this._viewportRuler.getViewportSize(),Ce={width:K,height:ne,top:0,right:K,bottom:ne,left:0};w=yt(Ce,m),k=pt(Ce,v),_=window}_&&(w!==this._verticalScrollDirection||k!==this._horizontalScrollDirection||_!==this._scrollNode)&&(this._verticalScrollDirection=w,this._horizontalScrollDirection=k,this._scrollNode=_,(w||k)&&_?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const v=(0,I.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=v.msScrollSnapType||v.scrollSnapType||"",v.scrollSnapType=v.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const v=(0,I.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(v).clientRect}_cacheItemPositions(){const v="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(m=>{const _=m.getVisibleElement();return{drag:m,offset:0,initialTransform:_.style.transform||"",clientRect:ge(_)}}).sort((m,_)=>v?m.clientRect.left-_.clientRect.left:m.clientRect.top-_.clientRect.top)}_reset(){this._isDragging=!1;const v=(0,I.fI)(this.element).style;v.scrollSnapType=v.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(m=>{const _=m.getRootElement();if(_){const w=this._itemPositions.find(k=>k.drag===m)?.initialTransform;_.style.transform=w||""}}),this._siblings.forEach(m=>m._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(v,m,_){const w="horizontal"===this._orientation,k=m[v].clientRect,K=m[v+-1*_];let ne=k[w?"width":"height"]*_;if(K){const Ce=w?"left":"top",Fe=w?"right":"bottom";-1===_?ne-=K.clientRect[Ce]-k[Fe]:ne+=k[Ce]-K.clientRect[Fe]}return ne}_getItemOffsetPx(v,m,_){const w="horizontal"===this._orientation;let k=w?m.left-v.left:m.top-v.top;return-1===_&&(k+=w?m.width-v.width:m.height-v.height),k}_shouldEnterAsFirstChild(v,m){if(!this._activeDraggables.length)return!1;const _=this._itemPositions,w="horizontal"===this._orientation;if(_[0].drag!==this._activeDraggables[0]){const K=_[_.length-1].clientRect;return w?v>=K.right:m>=K.bottom}{const K=_[0].clientRect;return w?v<=K.left:m<=K.top}}_getItemIndexFromPointerPosition(v,m,_,w){const k="horizontal"===this._orientation,K=this._itemPositions.findIndex(({drag:ne,clientRect:Ce})=>{if(ne===v)return!1;if(w){const Fe=k?w.x:w.y;if(ne===this._previousSwap.drag&&this._previousSwap.overlaps&&Fe===this._previousSwap.delta)return!1}return k?m>=Math.floor(Ce.left)&&m<Math.floor(Ce.right):_>=Math.floor(Ce.top)&&_<Math.floor(Ce.bottom)});return-1!==K&&this.sortPredicate(K,v,this)?K:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(v,m){return null!=this._clientRect&&xe(this._clientRect,v,m)}_getSiblingContainerFromPosition(v,m,_){return this._siblings.find(w=>w._canReceive(v,m,_))}_canReceive(v,m,_){if(!this._clientRect||!xe(this._clientRect,m,_)||!this.enterPredicate(v,this))return!1;const w=this._getShadowRoot().elementFromPoint(m,_);if(!w)return!1;const k=(0,I.fI)(this.element);return w===k||k.contains(w)}_startReceiving(v,m){const _=this._activeSiblings;!_.has(v)&&m.every(w=>this.enterPredicate(w,this)||this._draggables.indexOf(w)>-1)&&(_.add(v),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(v){this._activeSiblings.delete(v),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(v=>{if(this.isDragging()){const m=this._parentPositions.handleScroll(v);m&&(this._itemPositions.forEach(({clientRect:_})=>{Ye(_,m.top,m.left)}),this._itemPositions.forEach(({drag:_})=>{this._dragDropRegistry.isDragging(_)&&_._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const v=(0,H.kV)((0,I.fI)(this.element));this._cachedShadowRoot=v||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const v=this._activeDraggables.filter(m=>m.isDragging());this._siblings.forEach(m=>m._startReceiving(this,v))}}function yt(S,v){const{top:m,bottom:_,height:w}=S,k=.05*w;return v>=m-k&&v<=m+k?1:v>=_-k&&v<=_+k?2:0}function pt(S,v){const{left:m,right:_,width:w}=S,k=.05*w;return v>=m-k&&v<=m+k?1:v>=_-k&&v<=_+k?2:0}const ke=(0,H.i$)({passive:!1,capture:!0});let ie=(()=>{class S{constructor(m,_){this._ngZone=m,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=w=>w.isDragging(),this.pointerMove=new $.Subject,this.pointerUp=new $.Subject,this.scroll=new $.Subject,this._preventDefaultWhileDragging=w=>{this._activeDragInstances.length>0&&w.preventDefault()},this._persistentTouchmoveListener=w=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&w.preventDefault(),this.pointerMove.next(w))},this._document=_}registerDropContainer(m){this._dropInstances.has(m)||this._dropInstances.add(m)}registerDragItem(m){this._dragInstances.add(m),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,ke)})}removeDropContainer(m){this._dropInstances.delete(m)}removeDragItem(m){this._dragInstances.delete(m),this.stopDragging(m),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,ke)}startDragging(m,_){if(!(this._activeDragInstances.indexOf(m)>-1)&&(this._activeDragInstances.push(m),1===this._activeDragInstances.length)){const w=_.type.startsWith("touch");this._globalListeners.set(w?"touchend":"mouseup",{handler:k=>this.pointerUp.next(k),options:!0}).set("scroll",{handler:k=>this.scroll.next(k),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:ke}),w||this._globalListeners.set("mousemove",{handler:k=>this.pointerMove.next(k),options:ke}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((k,K)=>{this._document.addEventListener(K,k.handler,k.options)})})}}stopDragging(m){const _=this._activeDragInstances.indexOf(m);_>-1&&(this._activeDragInstances.splice(_,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(m){return this._activeDragInstances.indexOf(m)>-1}scrolled(m){const _=[this.scroll];return m&&m!==this._document&&_.push(new $.Observable(w=>this._ngZone.runOutsideAngular(()=>{const K=ne=>{this._activeDragInstances.length&&w.next(ne)};return m.addEventListener("scroll",K,!0),()=>{m.removeEventListener("scroll",K,!0)}}))),(0,$.merge)(..._)}ngOnDestroy(){this._dragInstances.forEach(m=>this.removeDragItem(m)),this._dropInstances.forEach(m=>this.removeDropContainer(m)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((m,_)=>{this._document.removeEventListener(_,m.handler,m.options)}),this._globalListeners.clear()}}return S.\u0275fac=function(m){return new(m||S)(l.\u0275\u0275inject(l.NgZone),l.\u0275\u0275inject(d.DOCUMENT))},S.\u0275prov=l.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const Se={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let He=(()=>{class S{constructor(m,_,w,k){this._document=m,this._ngZone=_,this._viewportRuler=w,this._dragDropRegistry=k}createDrag(m,_=Se){return new Ne(m,_,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(m){return new Ct(m,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return S.\u0275fac=function(m){return new(m||S)(l.\u0275\u0275inject(d.DOCUMENT),l.\u0275\u0275inject(l.NgZone),l.\u0275\u0275inject(L.rL),l.\u0275\u0275inject(ie))},S.\u0275prov=l.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const Qe=new l.InjectionToken("CDK_DRAG_PARENT"),nt=new l.InjectionToken("CdkDropListGroup");let dt=(()=>{class S{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(m){this._disabled=(0,I.Ig)(m)}ngOnDestroy(){this._items.clear()}}return S.\u0275fac=function(m){return new(m||S)},S.\u0275dir=l.\u0275\u0275defineDirective({type:S,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],features:[l.\u0275\u0275ProvidersFeature([{provide:nt,useExisting:S}])]}),S})();const gt=new l.InjectionToken("CDK_DRAG_CONFIG");let Rt=0;const ue=new l.InjectionToken("CdkDropList");let We=(()=>{class S{constructor(m,_,w,k,K,ne,Ce){this.element=m,this._changeDetectorRef=w,this._scrollDispatcher=k,this._dir=K,this._group=ne,this._destroyed=new $.Subject,this.connectedTo=[],this.id="cdk-drop-list-"+Rt++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new l.EventEmitter,this.entered=new l.EventEmitter,this.exited=new l.EventEmitter,this.sorted=new l.EventEmitter,this._unsortedItems=new Set,this._dropListRef=_.createDropList(m),this._dropListRef.data=this,Ce&&this._assignDefaults(Ce),this._dropListRef.enterPredicate=(Fe,Ke)=>this.enterPredicate(Fe.data,Ke.data),this._dropListRef.sortPredicate=(Fe,Ke,st)=>this.sortPredicate(Fe,Ke.data,st.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),S._dropLists.push(this),ne&&ne._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(m){this._dropListRef.disabled=this._disabled=(0,I.Ig)(m)}addItem(m){this._unsortedItems.add(m),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(m){this._unsortedItems.delete(m),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((m,_)=>m._dragRef.getVisibleElement().compareDocumentPosition(_._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const m=S._dropLists.indexOf(this);m>-1&&S._dropLists.splice(m,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(m){this._dir&&this._dir.change.pipe((0,ae.startWith)(this._dir.value),(0,ae.takeUntil)(this._destroyed)).subscribe(_=>m.withDirection(_)),m.beforeStarted.subscribe(()=>{const _=(0,I.Eq)(this.connectedTo).map(w=>"string"==typeof w?S._dropLists.find(K=>K.id===w):w);if(this._group&&this._group._items.forEach(w=>{-1===_.indexOf(w)&&_.push(w)}),!this._scrollableParentsResolved){const w=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(k=>k.getElementRef().nativeElement);this._dropListRef.withScrollableParents(w),this._scrollableParentsResolved=!0}m.disabled=this.disabled,m.lockAxis=this.lockAxis,m.sortingDisabled=(0,I.Ig)(this.sortingDisabled),m.autoScrollDisabled=(0,I.Ig)(this.autoScrollDisabled),m.autoScrollStep=(0,I.su)(this.autoScrollStep,2),m.connectedTo(_.filter(w=>w&&w!==this).map(w=>w._dropListRef)).withOrientation(this.orientation)})}_handleEvents(m){m.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),m.entered.subscribe(_=>{this.entered.emit({container:this,item:_.item.data,currentIndex:_.currentIndex})}),m.exited.subscribe(_=>{this.exited.emit({container:this,item:_.item.data}),this._changeDetectorRef.markForCheck()}),m.sorted.subscribe(_=>{this.sorted.emit({previousIndex:_.previousIndex,currentIndex:_.currentIndex,container:this,item:_.item.data})}),m.dropped.subscribe(_=>{this.dropped.emit({previousIndex:_.previousIndex,currentIndex:_.currentIndex,previousContainer:_.previousContainer.data,container:_.container.data,item:_.item.data,isPointerOverContainer:_.isPointerOverContainer,distance:_.distance,dropPoint:_.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(m){const{lockAxis:_,draggingDisabled:w,sortingDisabled:k,listAutoScrollDisabled:K,listOrientation:ne}=m;this.disabled=w??!1,this.sortingDisabled=k??!1,this.autoScrollDisabled=K??!1,this.orientation=ne||"vertical",_&&(this.lockAxis=_)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(m=>m._dragRef))}}return S._dropLists=[],S.\u0275fac=function(m){return new(m||S)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(He),l.\u0275\u0275directiveInject(l.ChangeDetectorRef),l.\u0275\u0275directiveInject(L.mF),l.\u0275\u0275directiveInject(Y.Is,8),l.\u0275\u0275directiveInject(nt,12),l.\u0275\u0275directiveInject(gt,8))},S.\u0275dir=l.\u0275\u0275defineDirective({type:S,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(m,_){2&m&&(l.\u0275\u0275attribute("id",_.id),l.\u0275\u0275classProp("cdk-drop-list-disabled",_.disabled)("cdk-drop-list-dragging",_._dropListRef.isDragging())("cdk-drop-list-receiving",_._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[l.\u0275\u0275ProvidersFeature([{provide:nt,useValue:void 0},{provide:ue,useExisting:S}])]}),S})();const W=new l.InjectionToken("CdkDragHandle");let pe=(()=>{class S{constructor(m,_){this.element=m,this._stateChanges=new $.Subject,this._disabled=!1,this._parentDrag=_}get disabled(){return this._disabled}set disabled(m){this._disabled=(0,I.Ig)(m),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return S.\u0275fac=function(m){return new(m||S)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(Qe,12))},S.\u0275dir=l.\u0275\u0275defineDirective({type:S,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[l.\u0275\u0275ProvidersFeature([{provide:W,useExisting:S}])]}),S})();const ve=new l.InjectionToken("CdkDragPlaceholder"),qe=new l.InjectionToken("CdkDragPreview");let fe=(()=>{class S{constructor(m,_,w,k,K,ne,Ce,Fe,Ke,st,tt){this.element=m,this.dropContainer=_,this._ngZone=k,this._viewContainerRef=K,this._dir=Ce,this._changeDetectorRef=Ke,this._selfHandle=st,this._parentDrag=tt,this._destroyed=new $.Subject,this.started=new l.EventEmitter,this.released=new l.EventEmitter,this.ended=new l.EventEmitter,this.entered=new l.EventEmitter,this.exited=new l.EventEmitter,this.dropped=new l.EventEmitter,this.moved=new $.Observable(ft=>{const wt=this._dragRef.moved.pipe((0,ae.map)(Dt=>({source:this,pointerPosition:Dt.pointerPosition,event:Dt.event,delta:Dt.delta,distance:Dt.distance}))).subscribe(ft);return()=>{wt.unsubscribe()}}),this._dragRef=Fe.createDrag(m,{dragStartThreshold:ne&&null!=ne.dragStartThreshold?ne.dragStartThreshold:5,pointerDirectionChangeThreshold:ne&&null!=ne.pointerDirectionChangeThreshold?ne.pointerDirectionChangeThreshold:5,zIndex:ne?.zIndex}),this._dragRef.data=this,S._dragInstances.push(this),ne&&this._assignDefaults(ne),_&&(this._dragRef._withDropContainer(_._dropListRef),_.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(m){this._disabled=(0,I.Ig)(m),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,ae.take)(1),(0,ae.takeUntil)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(m){const _=m.rootElementSelector,w=m.freeDragPosition;_&&!_.firstChange&&this._updateRootElement(),w&&!w.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const m=S._dragInstances.indexOf(this);m>-1&&S._dragInstances.splice(m,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const m=this.element.nativeElement;let _=m;this.rootElementSelector&&(_=void 0!==m.closest?m.closest(this.rootElementSelector):m.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(_||m)}_getBoundaryElement(){const m=this.boundaryElement;return m?"string"==typeof m?this.element.nativeElement.closest(m):(0,I.fI)(m):null}_syncInputs(m){m.beforeStarted.subscribe(()=>{if(!m.isDragging()){const _=this._dir,w=this.dragStartDelay,k=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,K=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;m.disabled=this.disabled,m.lockAxis=this.lockAxis,m.dragStartDelay="object"==typeof w&&w?w:(0,I.su)(w),m.constrainPosition=this.constrainPosition,m.previewClass=this.previewClass,m.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(k).withPreviewTemplate(K).withPreviewContainer(this.previewContainer||"global"),_&&m.withDirection(_.value)}}),m.beforeStarted.pipe((0,ae.take)(1)).subscribe(()=>{if(this._parentDrag)return void m.withParent(this._parentDrag._dragRef);let _=this.element.nativeElement.parentElement;for(;_;){if(_.classList.contains("cdk-drag")){m.withParent(S._dragInstances.find(w=>w.element.nativeElement===_)?._dragRef||null);break}_=_.parentElement}})}_handleEvents(m){m.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),m.released.subscribe(()=>{this.released.emit({source:this})}),m.ended.subscribe(_=>{this.ended.emit({source:this,distance:_.distance,dropPoint:_.dropPoint}),this._changeDetectorRef.markForCheck()}),m.entered.subscribe(_=>{this.entered.emit({container:_.container.data,item:this,currentIndex:_.currentIndex})}),m.exited.subscribe(_=>{this.exited.emit({container:_.container.data,item:this})}),m.dropped.subscribe(_=>{this.dropped.emit({previousIndex:_.previousIndex,currentIndex:_.currentIndex,previousContainer:_.previousContainer.data,container:_.container.data,isPointerOverContainer:_.isPointerOverContainer,item:this,distance:_.distance,dropPoint:_.dropPoint})})}_assignDefaults(m){const{lockAxis:_,dragStartDelay:w,constrainPosition:k,previewClass:K,boundaryElement:ne,draggingDisabled:Ce,rootElementSelector:Fe,previewContainer:Ke}=m;this.disabled=Ce??!1,this.dragStartDelay=w||0,_&&(this.lockAxis=_),k&&(this.constrainPosition=k),K&&(this.previewClass=K),ne&&(this.boundaryElement=ne),Fe&&(this.rootElementSelector=Fe),Ke&&(this.previewContainer=Ke)}_setupHandlesListener(){this._handles.changes.pipe((0,ae.startWith)(this._handles),(0,ae.tap)(m=>{const _=m.filter(w=>w._parentDrag===this).map(w=>w.element);this._selfHandle&&this.rootElementSelector&&_.push(this.element),this._dragRef.withHandles(_)}),(0,ae.switchMap)(m=>(0,$.merge)(...m.map(_=>_._stateChanges.pipe((0,ae.startWith)(_))))),(0,ae.takeUntil)(this._destroyed)).subscribe(m=>{const _=this._dragRef,w=m.element.nativeElement;m.disabled?_.disableHandle(w):_.enableHandle(w)})}}return S._dragInstances=[],S.\u0275fac=function(m){return new(m||S)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(ue,12),l.\u0275\u0275directiveInject(d.DOCUMENT),l.\u0275\u0275directiveInject(l.NgZone),l.\u0275\u0275directiveInject(l.ViewContainerRef),l.\u0275\u0275directiveInject(gt,8),l.\u0275\u0275directiveInject(Y.Is,8),l.\u0275\u0275directiveInject(He),l.\u0275\u0275directiveInject(l.ChangeDetectorRef),l.\u0275\u0275directiveInject(W,10),l.\u0275\u0275directiveInject(Qe,12))},S.\u0275dir=l.\u0275\u0275defineDirective({type:S,selectors:[["","cdkDrag",""]],contentQueries:function(m,_,w){if(1&m&&(l.\u0275\u0275contentQuery(w,qe,5),l.\u0275\u0275contentQuery(w,ve,5),l.\u0275\u0275contentQuery(w,W,5)),2&m){let k;l.\u0275\u0275queryRefresh(k=l.\u0275\u0275loadQuery())&&(_._previewTemplate=k.first),l.\u0275\u0275queryRefresh(k=l.\u0275\u0275loadQuery())&&(_._placeholderTemplate=k.first),l.\u0275\u0275queryRefresh(k=l.\u0275\u0275loadQuery())&&(_._handles=k)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(m,_){2&m&&l.\u0275\u0275classProp("cdk-drag-disabled",_.disabled)("cdk-drag-dragging",_._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[l.\u0275\u0275ProvidersFeature([{provide:Qe,useExisting:S}]),l.\u0275\u0275NgOnChangesFeature]}),S})()},5436:(de,te,E)=>{E.d(te,{zL:()=>ae,jx:()=>$,b2:()=>gi,MW:()=>ct,JU:()=>G});const G=16,$=17,ae=18,ct=91,gi=224},6321:(de,te,E)=>{E.d(te,{t4:()=>H,sA:()=>Xe,kV:()=>xe,i$:()=>le});var l=E(7451),d=E(3192);let L;try{L="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch{L=!1}let Y,B,H=(()=>{class ye{constructor($e){this._platformId=$e,this.isBrowser=this._platformId?(0,d.isPlatformBrowser)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!L)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return ye.\u0275fac=function($e){return new($e||ye)(l.\u0275\u0275inject(l.PLATFORM_ID))},ye.\u0275prov=l.\u0275\u0275defineInjectable({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})();function le(ye){return function se(){if(null==Y&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Y=!0}))}finally{Y=Y||!1}return Y}()?ye:!!ye.capture}function xe(ye){if(function ge(){if(null==B){const ye="undefined"!=typeof document?document.head:null;B=!(!ye||!ye.createShadowRoot&&!ye.attachShadow)}return B}()){const Ge=ye.getRootNode?ye.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&Ge instanceof ShadowRoot)return Ge}return null}function Xe(ye){return ye.composedPath?ye.composedPath()[0]:ye.target}},5531:(de,te,E)=>{E.d(te,{mF:()=>C,rL:()=>ge});var l=E(4929),d=E(7451),L=E(824),H=E(5033),I=E(6321),G=E(3192);let C=(()=>{class Be{constructor(ee,oe,we){this._ngZone=ee,this._platform=oe,this._scrolled=new L.Subject,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=we}register(ee){this.scrollContainers.has(ee)||this.scrollContainers.set(ee,ee.elementScrolled().subscribe(()=>this._scrolled.next(ee)))}deregister(ee){const oe=this.scrollContainers.get(ee);oe&&(oe.unsubscribe(),this.scrollContainers.delete(ee))}scrolled(ee=20){return this._platform.isBrowser?new L.Observable(oe=>{this._globalSubscription||this._addGlobalListener();const we=ee>0?this._scrolled.pipe((0,H.auditTime)(ee)).subscribe(oe):this._scrolled.subscribe(oe);return this._scrolledCount++,()=>{we.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,L.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((ee,oe)=>this.deregister(oe)),this._scrolled.complete()}ancestorScrolled(ee,oe){const we=this.getAncestorScrollContainers(ee);return this.scrolled(oe).pipe((0,H.filter)(ce=>!ce||we.indexOf(ce)>-1))}getAncestorScrollContainers(ee){const oe=[];return this.scrollContainers.forEach((we,ce)=>{this._scrollableContainsElement(ce,ee)&&oe.push(ce)}),oe}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(ee,oe){let we=(0,l.fI)(oe),ce=ee.getElementRef().nativeElement;do{if(we==ce)return!0}while(we=we.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const ee=this._getWindow();return(0,L.fromEvent)(ee.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return Be.\u0275fac=function(ee){return new(ee||Be)(d.\u0275\u0275inject(d.NgZone),d.\u0275\u0275inject(I.t4),d.\u0275\u0275inject(G.DOCUMENT,8))},Be.\u0275prov=d.\u0275\u0275defineInjectable({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})(),ge=(()=>{class Be{constructor(ee,oe,we){this._platform=ee,this._change=new L.Subject,this._changeListener=ce=>{this._change.next(ce)},this._document=we,oe.runOutsideAngular(()=>{if(ee.isBrowser){const ce=this._getWindow();ce.addEventListener("resize",this._changeListener),ce.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const ee=this._getWindow();ee.removeEventListener("resize",this._changeListener),ee.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const ee={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),ee}getViewportRect(){const ee=this.getViewportScrollPosition(),{width:oe,height:we}=this.getViewportSize();return{top:ee.top,left:ee.left,bottom:ee.top+we,right:ee.left+oe,height:we,width:oe}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const ee=this._document,oe=this._getWindow(),we=ee.documentElement,ce=we.getBoundingClientRect();return{top:-ce.top||ee.body.scrollTop||oe.scrollY||we.scrollTop||0,left:-ce.left||ee.body.scrollLeft||oe.scrollX||we.scrollLeft||0}}change(ee=20){return ee>0?this._change.pipe((0,H.auditTime)(ee)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const ee=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:ee.innerWidth,height:ee.innerHeight}:{width:0,height:0}}}return Be.\u0275fac=function(ee){return new(ee||Be)(d.\u0275\u0275inject(I.t4),d.\u0275\u0275inject(d.NgZone),d.\u0275\u0275inject(G.DOCUMENT,8))},Be.\u0275prov=d.\u0275\u0275defineInjectable({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})()},92:(de,te,E)=>{E.d(te,{Wl:()=>Y,Fj:()=>R,NI:()=>Zt,u:()=>hi,cw:()=>Ht,sg:()=>Jt,Cf:()=>B,JU:()=>$,JJ:()=>nt,JL:()=>dt,YN:()=>di,EJ:()=>qt,kI:()=>Ye,_Y:()=>vi,Kr:()=>e});var l=E(7451),d=E(3192),L=E(824),H=E(5033);let I=(()=>{class p{constructor(h,D){this._renderer=h,this._elementRef=D,this.onChange=Q=>{},this.onTouched=()=>{}}setProperty(h,D){this._renderer.setProperty(this._elementRef.nativeElement,h,D)}registerOnTouched(h){this.onTouched=h}registerOnChange(h){this.onChange=h}setDisabledState(h){this.setProperty("disabled",h)}}return p.\u0275fac=function(h){return new(h||p)(l.\u0275\u0275directiveInject(l.Renderer2),l.\u0275\u0275directiveInject(l.ElementRef))},p.\u0275dir=l.\u0275\u0275defineDirective({type:p}),p})(),G=(()=>{class p extends I{}return p.\u0275fac=function(){let u;return function(D){return(u||(u=l.\u0275\u0275getInheritedFactory(p)))(D||p)}}(),p.\u0275dir=l.\u0275\u0275defineDirective({type:p,features:[l.\u0275\u0275InheritDefinitionFeature]}),p})();const $=new l.InjectionToken("NgValueAccessor"),ae={provide:$,useExisting:(0,l.forwardRef)(()=>Y),multi:!0};let Y=(()=>{class p extends G{writeValue(h){this.setProperty("checked",h)}}return p.\u0275fac=function(){let u;return function(D){return(u||(u=l.\u0275\u0275getInheritedFactory(p)))(D||p)}}(),p.\u0275dir=l.\u0275\u0275defineDirective({type:p,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(h,D){1&h&&l.\u0275\u0275listener("change",function(ze){return D.onChange(ze.target.checked)})("blur",function(){return D.onTouched()})},features:[l.\u0275\u0275ProvidersFeature([ae]),l.\u0275\u0275InheritDefinitionFeature]}),p})();const se={provide:$,useExisting:(0,l.forwardRef)(()=>R),multi:!0},N=new l.InjectionToken("CompositionEventMode");let R=(()=>{class p extends I{constructor(h,D,Q){super(h,D),this._compositionMode=Q,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function le(){const p=(0,d.\u0275getDOM)()?(0,d.\u0275getDOM)().getUserAgent():"";return/android (\d+)/.test(p.toLowerCase())}())}writeValue(h){this.setProperty("value",h??"")}_handleInput(h){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(h)}_compositionStart(){this._composing=!0}_compositionEnd(h){this._composing=!1,this._compositionMode&&this.onChange(h)}}return p.\u0275fac=function(h){return new(h||p)(l.\u0275\u0275directiveInject(l.Renderer2),l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(N,8))},p.\u0275dir=l.\u0275\u0275defineDirective({type:p,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(h,D){1&h&&l.\u0275\u0275listener("input",function(ze){return D._handleInput(ze.target.value)})("blur",function(){return D.onTouched()})("compositionstart",function(){return D._compositionStart()})("compositionend",function(ze){return D._compositionEnd(ze.target.value)})},features:[l.\u0275\u0275ProvidersFeature([se]),l.\u0275\u0275InheritDefinitionFeature]}),p})();function C(p){return null==p||0===p.length}function O(p){return null!=p&&"number"==typeof p.length}const B=new l.InjectionToken("NgValidators"),ge=new l.InjectionToken("NgAsyncValidators"),xe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ye{static min(u){return function Xe(p){return u=>{if(C(u.value)||C(p))return null;const h=parseFloat(u.value);return!isNaN(h)&&h<p?{min:{min:p,actual:u.value}}:null}}(u)}static max(u){return function Ze(p){return u=>{if(C(u.value)||C(p))return null;const h=parseFloat(u.value);return!isNaN(h)&&h>p?{max:{max:p,actual:u.value}}:null}}(u)}static required(u){return function ye(p){return C(p.value)?{required:!0}:null}(u)}static requiredTrue(u){return function Ge(p){return!0===p.value?null:{required:!0}}(u)}static email(u){return function $e(p){return C(p.value)||xe.test(p.value)?null:{email:!0}}(u)}static minLength(u){return function Be(p){return u=>C(u.value)||!O(u.value)?null:u.value.length<p?{minlength:{requiredLength:p,actualLength:u.value.length}}:null}(u)}static maxLength(u){return function Pe(p){return u=>O(u.value)&&u.value.length>p?{maxlength:{requiredLength:p,actualLength:u.value.length}}:null}(u)}static pattern(u){return function ee(p){if(!p)return oe;let u,h;return"string"==typeof p?(h="","^"!==p.charAt(0)&&(h+="^"),h+=p,"$"!==p.charAt(p.length-1)&&(h+="$"),u=new RegExp(h)):(h=p.toString(),u=p),D=>{if(C(D.value))return null;const Q=D.value;return u.test(Q)?null:{pattern:{requiredPattern:h,actualValue:Q}}}}(u)}static nullValidator(u){return null}static compose(u){return q(u)}static composeAsync(u){return Ee(u)}}function oe(p){return null}function we(p){return null!=p}function ce(p){const u=(0,l.\u0275isPromise)(p)?(0,L.from)(p):p;return(0,l.\u0275isObservable)(u),u}function Ne(p){let u={};return p.forEach(h=>{u=null!=h?{...u,...h}:u}),0===Object.keys(u).length?null:u}function Me(p,u){return u.map(h=>h(p))}function j(p){return p.map(u=>function Ve(p){return!p.validate}(u)?u:h=>u.validate(h))}function q(p){if(!p)return null;const u=p.filter(we);return 0==u.length?null:function(h){return Ne(Me(h,u))}}function _e(p){return null!=p?q(j(p)):null}function Ee(p){if(!p)return null;const u=p.filter(we);return 0==u.length?null:function(h){const D=Me(h,u).map(ce);return(0,L.forkJoin)(D).pipe((0,H.map)(Ne))}}function Oe(p){return null!=p?Ee(j(p)):null}function Je(p,u){return null===p?[u]:Array.isArray(p)?[...p,u]:[p,u]}function rt(p){return p._rawValidators}function at(p){return p._rawAsyncValidators}function ht(p){return p?Array.isArray(p)?p:[p]:[]}function Ct(p,u){return Array.isArray(p)?p.includes(u):p===u}function yt(p,u){const h=ht(u);return ht(p).forEach(Q=>{Ct(h,Q)||h.push(Q)}),h}function pt(p,u){return ht(u).filter(h=>!Ct(p,h))}class Te{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(u){this._rawValidators=u||[],this._composedValidatorFn=_e(this._rawValidators)}_setAsyncValidators(u){this._rawAsyncValidators=u||[],this._composedAsyncValidatorFn=Oe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(u){this._onDestroyCallbacks.push(u)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(u=>u()),this._onDestroyCallbacks=[]}reset(u){this.control&&this.control.reset(u)}hasError(u,h){return!!this.control&&this.control.hasError(u,h)}getError(u,h){return this.control?this.control.getError(u,h):null}}class ke extends Te{get formDirective(){return null}get path(){return null}}class ie extends Te{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Se{constructor(u){this._cd=u}is(u){return"submitted"===u?!!this._cd?.submitted:!!this._cd?.control?.[u]}}let nt=(()=>{class p extends Se{constructor(h){super(h)}}return p.\u0275fac=function(h){return new(h||p)(l.\u0275\u0275directiveInject(ie,2))},p.\u0275dir=l.\u0275\u0275defineDirective({type:p,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(h,D){2&h&&l.\u0275\u0275classProp("ng-untouched",D.is("untouched"))("ng-touched",D.is("touched"))("ng-pristine",D.is("pristine"))("ng-dirty",D.is("dirty"))("ng-valid",D.is("valid"))("ng-invalid",D.is("invalid"))("ng-pending",D.is("pending"))},features:[l.\u0275\u0275InheritDefinitionFeature]}),p})(),dt=(()=>{class p extends Se{constructor(h){super(h)}}return p.\u0275fac=function(h){return new(h||p)(l.\u0275\u0275directiveInject(ke,10))},p.\u0275dir=l.\u0275\u0275defineDirective({type:p,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(h,D){2&h&&l.\u0275\u0275classProp("ng-untouched",D.is("untouched"))("ng-touched",D.is("touched"))("ng-pristine",D.is("pristine"))("ng-dirty",D.is("dirty"))("ng-valid",D.is("valid"))("ng-invalid",D.is("invalid"))("ng-pending",D.is("pending"))("ng-submitted",D.is("submitted"))},features:[l.\u0275\u0275InheritDefinitionFeature]}),p})();function _(p,u){ne(p,u),u.valueAccessor.writeValue(p.value),function Fe(p,u){u.valueAccessor.registerOnChange(h=>{p._pendingValue=h,p._pendingChange=!0,p._pendingDirty=!0,"change"===p.updateOn&&st(p,u)})}(p,u),function tt(p,u){const h=(D,Q)=>{u.valueAccessor.writeValue(D),Q&&u.viewToModelUpdate(D)};p.registerOnChange(h),u._registerOnDestroy(()=>{p._unregisterOnChange(h)})}(p,u),function Ke(p,u){u.valueAccessor.registerOnTouched(()=>{p._pendingTouched=!0,"blur"===p.updateOn&&p._pendingChange&&st(p,u),"submit"!==p.updateOn&&p.markAsTouched()})}(p,u),function K(p,u){if(u.valueAccessor.setDisabledState){const h=D=>{u.valueAccessor.setDisabledState(D)};p.registerOnDisabledChange(h),u._registerOnDestroy(()=>{p._unregisterOnDisabledChange(h)})}}(p,u)}function w(p,u,h=!0){const D=()=>{};u.valueAccessor&&(u.valueAccessor.registerOnChange(D),u.valueAccessor.registerOnTouched(D)),Ce(p,u),p&&(u._invokeOnDestroyCallbacks(),p._registerOnCollectionChange(()=>{}))}function k(p,u){p.forEach(h=>{h.registerOnValidatorChange&&h.registerOnValidatorChange(u)})}function ne(p,u){const h=rt(p);null!==u.validator?p.setValidators(Je(h,u.validator)):"function"==typeof h&&p.setValidators([h]);const D=at(p);null!==u.asyncValidator?p.setAsyncValidators(Je(D,u.asyncValidator)):"function"==typeof D&&p.setAsyncValidators([D]);const Q=()=>p.updateValueAndValidity();k(u._rawValidators,Q),k(u._rawAsyncValidators,Q)}function Ce(p,u){let h=!1;if(null!==p){if(null!==u.validator){const Q=rt(p);if(Array.isArray(Q)&&Q.length>0){const ze=Q.filter(re=>re!==u.validator);ze.length!==Q.length&&(h=!0,p.setValidators(ze))}}if(null!==u.asyncValidator){const Q=at(p);if(Array.isArray(Q)&&Q.length>0){const ze=Q.filter(re=>re!==u.asyncValidator);ze.length!==Q.length&&(h=!0,p.setAsyncValidators(ze))}}}const D=()=>{};return k(u._rawValidators,D),k(u._rawAsyncValidators,D),h}function st(p,u){p._pendingDirty&&p.markAsDirty(),p.setValue(p._pendingValue,{emitModelToViewChange:!1}),u.viewToModelUpdate(p._pendingValue),p._pendingChange=!1}function M(p,u){const h=p.indexOf(u);h>-1&&p.splice(h,1)}const De="VALID",je="INVALID",it="PENDING",ot="DISABLED";function Ot(p){return(Gt(p)?p.validators:p)||null}function Pt(p){return Array.isArray(p)?_e(p):p||null}function Ut(p,u){return(Gt(u)?u.asyncValidators:p)||null}function ti(p){return Array.isArray(p)?Oe(p):p||null}function Gt(p){return null!=p&&!Array.isArray(p)&&"object"==typeof p}const ii=p=>p instanceof Zt,Kt=p=>p instanceof Ht;function ni(p){return ii(p)?p.value:p.getRawValue()}function si(p,u){const h=Kt(p),D=p.controls;if(!(h?Object.keys(D):D).length)throw new l.\u0275RuntimeError(1e3,"");if(!D[u])throw new l.\u0275RuntimeError(1001,"")}function oi(p,u){Kt(p),p._forEachChild((D,Q)=>{if(void 0===u[Q])throw new l.\u0275RuntimeError(1002,"")})}class $t{constructor(u,h){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=u,this._rawAsyncValidators=h,this._composedValidatorFn=Pt(this._rawValidators),this._composedAsyncValidatorFn=ti(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(u){this._rawValidators=this._composedValidatorFn=u}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(u){this._rawAsyncValidators=this._composedAsyncValidatorFn=u}get parent(){return this._parent}get valid(){return this.status===De}get invalid(){return this.status===je}get pending(){return this.status==it}get disabled(){return this.status===ot}get enabled(){return this.status!==ot}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(u){this._rawValidators=u,this._composedValidatorFn=Pt(u)}setAsyncValidators(u){this._rawAsyncValidators=u,this._composedAsyncValidatorFn=ti(u)}addValidators(u){this.setValidators(yt(u,this._rawValidators))}addAsyncValidators(u){this.setAsyncValidators(yt(u,this._rawAsyncValidators))}removeValidators(u){this.setValidators(pt(u,this._rawValidators))}removeAsyncValidators(u){this.setAsyncValidators(pt(u,this._rawAsyncValidators))}hasValidator(u){return Ct(this._rawValidators,u)}hasAsyncValidator(u){return Ct(this._rawAsyncValidators,u)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(u={}){this.touched=!0,this._parent&&!u.onlySelf&&this._parent.markAsTouched(u)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(u=>u.markAllAsTouched())}markAsUntouched(u={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(h=>{h.markAsUntouched({onlySelf:!0})}),this._parent&&!u.onlySelf&&this._parent._updateTouched(u)}markAsDirty(u={}){this.pristine=!1,this._parent&&!u.onlySelf&&this._parent.markAsDirty(u)}markAsPristine(u={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(h=>{h.markAsPristine({onlySelf:!0})}),this._parent&&!u.onlySelf&&this._parent._updatePristine(u)}markAsPending(u={}){this.status=it,!1!==u.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!u.onlySelf&&this._parent.markAsPending(u)}disable(u={}){const h=this._parentMarkedDirty(u.onlySelf);this.status=ot,this.errors=null,this._forEachChild(D=>{D.disable({...u,onlySelf:!0})}),this._updateValue(),!1!==u.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...u,skipPristineCheck:h}),this._onDisabledChange.forEach(D=>D(!0))}enable(u={}){const h=this._parentMarkedDirty(u.onlySelf);this.status=De,this._forEachChild(D=>{D.enable({...u,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:u.emitEvent}),this._updateAncestors({...u,skipPristineCheck:h}),this._onDisabledChange.forEach(D=>D(!1))}_updateAncestors(u){this._parent&&!u.onlySelf&&(this._parent.updateValueAndValidity(u),u.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(u){this._parent=u}updateValueAndValidity(u={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===De||this.status===it)&&this._runAsyncValidator(u.emitEvent)),!1!==u.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!u.onlySelf&&this._parent.updateValueAndValidity(u)}_updateTreeValidity(u={emitEvent:!0}){this._forEachChild(h=>h._updateTreeValidity(u)),this.updateValueAndValidity({onlySelf:!0,emitEvent:u.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ot:De}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(u){if(this.asyncValidator){this.status=it,this._hasOwnPendingAsyncValidator=!0;const h=ce(this.asyncValidator(this));this._asyncValidationSubscription=h.subscribe(D=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(D,{emitEvent:u})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(u,h={}){this.errors=u,this._updateControlsErrors(!1!==h.emitEvent)}get(u){return function Lt(p,u,h){if(null==u||(Array.isArray(u)||(u=u.split(h)),Array.isArray(u)&&0===u.length))return null;let D=p;return u.forEach(Q=>{D=Kt(D)?D.controls.hasOwnProperty(Q)?D.controls[Q]:null:(p=>p instanceof mi)(D)&&D.at(Q)||null}),D}(this,u,".")}getError(u,h){const D=h?this.get(h):this;return D&&D.errors?D.errors[u]:null}hasError(u,h){return!!this.getError(u,h)}get root(){let u=this;for(;u._parent;)u=u._parent;return u}_updateControlsErrors(u){this.status=this._calculateStatus(),u&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(u)}_initObservables(){this.valueChanges=new l.EventEmitter,this.statusChanges=new l.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?ot:this.errors?je:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(it)?it:this._anyControlsHaveStatus(je)?je:De}_anyControlsHaveStatus(u){return this._anyControls(h=>h.status===u)}_anyControlsDirty(){return this._anyControls(u=>u.dirty)}_anyControlsTouched(){return this._anyControls(u=>u.touched)}_updatePristine(u={}){this.pristine=!this._anyControlsDirty(),this._parent&&!u.onlySelf&&this._parent._updatePristine(u)}_updateTouched(u={}){this.touched=this._anyControlsTouched(),this._parent&&!u.onlySelf&&this._parent._updateTouched(u)}_isBoxedValue(u){return"object"==typeof u&&null!==u&&2===Object.keys(u).length&&"value"in u&&"disabled"in u}_registerOnCollectionChange(u){this._onCollectionChange=u}_setUpdateStrategy(u){Gt(u)&&null!=u.updateOn&&(this._updateOn=u.updateOn)}_parentMarkedDirty(u){return!u&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Zt extends $t{constructor(u=null,h,D){super(Ot(h),Ut(D,h)),this._onChange=[],this._pendingChange=!1,this._applyFormState(u),this._setUpdateStrategy(h),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(u,h={}){this.value=this._pendingValue=u,this._onChange.length&&!1!==h.emitModelToViewChange&&this._onChange.forEach(D=>D(this.value,!1!==h.emitViewToModelChange)),this.updateValueAndValidity(h)}patchValue(u,h={}){this.setValue(u,h)}reset(u=null,h={}){this._applyFormState(u),this.markAsPristine(h),this.markAsUntouched(h),this.setValue(this.value,h),this._pendingChange=!1}_updateValue(){}_anyControls(u){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(u){this._onChange.push(u)}_unregisterOnChange(u){M(this._onChange,u)}registerOnDisabledChange(u){this._onDisabledChange.push(u)}_unregisterOnDisabledChange(u){M(this._onDisabledChange,u)}_forEachChild(u){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(u){this._isBoxedValue(u)?(this.value=this._pendingValue=u.value,u.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=u}}class Ht extends $t{constructor(u,h,D){super(Ot(h),Ut(D,h)),this.controls=u,this._initObservables(),this._setUpdateStrategy(h),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(u,h){return this.controls[u]?this.controls[u]:(this.controls[u]=h,h.setParent(this),h._registerOnCollectionChange(this._onCollectionChange),h)}addControl(u,h,D={}){this.registerControl(u,h),this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}removeControl(u,h={}){this.controls[u]&&this.controls[u]._registerOnCollectionChange(()=>{}),delete this.controls[u],this.updateValueAndValidity({emitEvent:h.emitEvent}),this._onCollectionChange()}setControl(u,h,D={}){this.controls[u]&&this.controls[u]._registerOnCollectionChange(()=>{}),delete this.controls[u],h&&this.registerControl(u,h),this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}contains(u){return this.controls.hasOwnProperty(u)&&this.controls[u].enabled}setValue(u,h={}){oi(this,u),Object.keys(u).forEach(D=>{si(this,D),this.controls[D].setValue(u[D],{onlySelf:!0,emitEvent:h.emitEvent})}),this.updateValueAndValidity(h)}patchValue(u,h={}){null!=u&&(Object.keys(u).forEach(D=>{this.controls[D]&&this.controls[D].patchValue(u[D],{onlySelf:!0,emitEvent:h.emitEvent})}),this.updateValueAndValidity(h))}reset(u={},h={}){this._forEachChild((D,Q)=>{D.reset(u[Q],{onlySelf:!0,emitEvent:h.emitEvent})}),this._updatePristine(h),this._updateTouched(h),this.updateValueAndValidity(h)}getRawValue(){return this._reduceChildren({},(u,h,D)=>(u[D]=ni(h),u))}_syncPendingControls(){let u=this._reduceChildren(!1,(h,D)=>!!D._syncPendingControls()||h);return u&&this.updateValueAndValidity({onlySelf:!0}),u}_forEachChild(u){Object.keys(this.controls).forEach(h=>{const D=this.controls[h];D&&u(D,h)})}_setUpControls(){this._forEachChild(u=>{u.setParent(this),u._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(u){for(const h of Object.keys(this.controls)){const D=this.controls[h];if(this.contains(h)&&u(D))return!0}return!1}_reduceValue(){return this._reduceChildren({},(u,h,D)=>((h.enabled||this.disabled)&&(u[D]=h.value),u))}_reduceChildren(u,h){let D=u;return this._forEachChild((Q,ze)=>{D=h(D,Q,ze)}),D}_allControlsDisabled(){for(const u of Object.keys(this.controls))if(this.controls[u].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class mi extends $t{constructor(u,h,D){super(Ot(h),Ut(D,h)),this.controls=u,this._initObservables(),this._setUpdateStrategy(h),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(u){return this.controls[u]}push(u,h={}){this.controls.push(u),this._registerControl(u),this.updateValueAndValidity({emitEvent:h.emitEvent}),this._onCollectionChange()}insert(u,h,D={}){this.controls.splice(u,0,h),this._registerControl(h),this.updateValueAndValidity({emitEvent:D.emitEvent})}removeAt(u,h={}){this.controls[u]&&this.controls[u]._registerOnCollectionChange(()=>{}),this.controls.splice(u,1),this.updateValueAndValidity({emitEvent:h.emitEvent})}setControl(u,h,D={}){this.controls[u]&&this.controls[u]._registerOnCollectionChange(()=>{}),this.controls.splice(u,1),h&&(this.controls.splice(u,0,h),this._registerControl(h)),this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(u,h={}){oi(this,u),u.forEach((D,Q)=>{si(this,Q),this.at(Q).setValue(D,{onlySelf:!0,emitEvent:h.emitEvent})}),this.updateValueAndValidity(h)}patchValue(u,h={}){null!=u&&(u.forEach((D,Q)=>{this.at(Q)&&this.at(Q).patchValue(D,{onlySelf:!0,emitEvent:h.emitEvent})}),this.updateValueAndValidity(h))}reset(u=[],h={}){this._forEachChild((D,Q)=>{D.reset(u[Q],{onlySelf:!0,emitEvent:h.emitEvent})}),this._updatePristine(h),this._updateTouched(h),this.updateValueAndValidity(h)}getRawValue(){return this.controls.map(u=>ni(u))}clear(u={}){this.controls.length<1||(this._forEachChild(h=>h._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:u.emitEvent}))}_syncPendingControls(){let u=this.controls.reduce((h,D)=>!!D._syncPendingControls()||h,!1);return u&&this.updateValueAndValidity({onlySelf:!0}),u}_forEachChild(u){this.controls.forEach((h,D)=>{u(h,D)})}_updateValue(){this.value=this.controls.filter(u=>u.enabled||this.disabled).map(u=>u.value)}_anyControls(u){return this.controls.some(h=>h.enabled&&u(h))}_setUpControls(){this._forEachChild(u=>this._registerControl(u))}_allControlsDisabled(){for(const u of this.controls)if(u.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(u){u.setParent(this),u._registerOnCollectionChange(this._onCollectionChange)}}let vi=(()=>{class p{}return p.\u0275fac=function(h){return new(h||p)},p.\u0275dir=l.\u0275\u0275defineDirective({type:p,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),p})();const wi=new l.InjectionToken("NgModelWithFormControlWarning"),Bi={provide:ke,useExisting:(0,l.forwardRef)(()=>Jt)};let Jt=(()=>{class p extends ke{constructor(h,D){super(),this.validators=h,this.asyncValidators=D,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.EventEmitter,this._setValidators(h),this._setAsyncValidators(D)}ngOnChanges(h){this._checkFormPresent(),h.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ce(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(h){const D=this.form.get(h.path);return _(D,h),D.updateValueAndValidity({emitEvent:!1}),this.directives.push(h),D}getControl(h){return this.form.get(h.path)}removeControl(h){w(h.control||null,h,!1),M(this.directives,h)}addFormGroup(h){this._setUpFormContainer(h)}removeFormGroup(h){this._cleanUpFormContainer(h)}getFormGroup(h){return this.form.get(h.path)}addFormArray(h){this._setUpFormContainer(h)}removeFormArray(h){this._cleanUpFormContainer(h)}getFormArray(h){return this.form.get(h.path)}updateModel(h,D){this.form.get(h.path).setValue(D)}onSubmit(h){return this.submitted=!0,function g(p,u){p._syncPendingControls(),u.forEach(h=>{const D=h.control;"submit"===D.updateOn&&D._pendingChange&&(h.viewToModelUpdate(D._pendingValue),D._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(h),!1}onReset(){this.resetForm()}resetForm(h){this.form.reset(h),this.submitted=!1}_updateDomValue(){this.directives.forEach(h=>{const D=h.control,Q=this.form.get(h.path);D!==Q&&(w(D||null,h),ii(Q)&&(_(Q,h),h.control=Q))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(h){const D=this.form.get(h.path);(function ft(p,u){ne(p,u)})(D,h),D.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(h){if(this.form){const D=this.form.get(h.path);D&&function wt(p,u){return Ce(p,u)}(D,h)&&D.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ne(this.form,this),this._oldForm&&Ce(this._oldForm,this)}_checkFormPresent(){}}return p.\u0275fac=function(h){return new(h||p)(l.\u0275\u0275directiveInject(B,10),l.\u0275\u0275directiveInject(ge,10))},p.\u0275dir=l.\u0275\u0275defineDirective({type:p,selectors:[["","formGroup",""]],hostBindings:function(h,D){1&h&&l.\u0275\u0275listener("submit",function(ze){return D.onSubmit(ze)})("reset",function(){return D.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l.\u0275\u0275ProvidersFeature([Bi]),l.\u0275\u0275InheritDefinitionFeature,l.\u0275\u0275NgOnChangesFeature]}),p})();const zi={provide:ie,useExisting:(0,l.forwardRef)(()=>hi)};let hi=(()=>{class p extends ie{constructor(h,D,Q,ze,re){super(),this._ngModelWarningConfig=re,this._added=!1,this.update=new l.EventEmitter,this._ngModelWarningSent=!1,this._parent=h,this._setValidators(D),this._setAsyncValidators(Q),this.valueAccessor=function b(p,u){if(!u)return null;let h,D,Q;return Array.isArray(u),u.forEach(ze=>{ze.constructor===R?h=ze:function T(p){return Object.getPrototypeOf(p.constructor)===G}(ze)?D=ze:Q=ze}),Q||D||h||null}(0,ze)}set isDisabled(h){}ngOnChanges(h){this._added||this._setUpControl(),function z(p,u){if(!p.hasOwnProperty("model"))return!1;const h=p.model;return!!h.isFirstChange()||!Object.is(u,h.currentValue)}(h,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(h){this.viewModel=h,this.update.emit(h)}get path(){return function m(p,u){return[...u.path,p]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return p._ngModelWarningSentOnce=!1,p.\u0275fac=function(h){return new(h||p)(l.\u0275\u0275directiveInject(ke,13),l.\u0275\u0275directiveInject(B,10),l.\u0275\u0275directiveInject(ge,10),l.\u0275\u0275directiveInject($,10),l.\u0275\u0275directiveInject(wi,8))},p.\u0275dir=l.\u0275\u0275defineDirective({type:p,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l.\u0275\u0275ProvidersFeature([zi]),l.\u0275\u0275InheritDefinitionFeature,l.\u0275\u0275NgOnChangesFeature]}),p})();const Ni={provide:$,useExisting:(0,l.forwardRef)(()=>qt),multi:!0};function Vi(p,u){return null==p?`${u}`:(u&&"object"==typeof u&&(u="Object"),`${p}: ${u}`.slice(0,50))}let qt=(()=>{class p extends G{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(h){this._compareWith=h}writeValue(h){this.value=h;const D=this._getOptionId(h);null==D&&this.setProperty("selectedIndex",-1);const Q=Vi(D,h);this.setProperty("value",Q)}registerOnChange(h){this.onChange=D=>{this.value=this._getOptionValue(D),h(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(h){for(const D of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(D),h))return D;return null}_getOptionValue(h){const D=function Wi(p){return p.split(":")[0]}(h);return this._optionMap.has(D)?this._optionMap.get(D):h}}return p.\u0275fac=function(){let u;return function(D){return(u||(u=l.\u0275\u0275getInheritedFactory(p)))(D||p)}}(),p.\u0275dir=l.\u0275\u0275defineDirective({type:p,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(h,D){1&h&&l.\u0275\u0275listener("change",function(ze){return D.onChange(ze.target.value)})("blur",function(){return D.onTouched()})},inputs:{compareWith:"compareWith"},features:[l.\u0275\u0275ProvidersFeature([Ni]),l.\u0275\u0275InheritDefinitionFeature]}),p})(),di=(()=>{class p{constructor(h,D,Q){this._element=h,this._renderer=D,this._select=Q,this._select&&(this.id=this._select._registerOption())}set ngValue(h){null!=this._select&&(this._select._optionMap.set(this.id,h),this._setElementValue(Vi(this.id,h)),this._select.writeValue(this._select.value))}set value(h){this._setElementValue(h),this._select&&this._select.writeValue(this._select.value)}_setElementValue(h){this._renderer.setProperty(this._element.nativeElement,"value",h)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return p.\u0275fac=function(h){return new(h||p)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(l.Renderer2),l.\u0275\u0275directiveInject(qt,9))},p.\u0275dir=l.\u0275\u0275defineDirective({type:p,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),p})();const ei={provide:$,useExisting:(0,l.forwardRef)(()=>s),multi:!0};function ui(p,u){return null==p?`${u}`:("string"==typeof u&&(u=`'${u}'`),u&&"object"==typeof u&&(u="Object"),`${p}: ${u}`.slice(0,50))}let s=(()=>{class p extends G{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(h){this._compareWith=h}writeValue(h){let D;if(this.value=h,Array.isArray(h)){const Q=h.map(ze=>this._getOptionId(ze));D=(ze,re)=>{ze._setSelected(Q.indexOf(re.toString())>-1)}}else D=(Q,ze)=>{Q._setSelected(!1)};this._optionMap.forEach(D)}registerOnChange(h){this.onChange=D=>{const Q=[],ze=D.selectedOptions;if(void 0!==ze){const re=ze;for(let Ae=0;Ae<re.length;Ae++){const Et=this._getOptionValue(re[Ae].value);Q.push(Et)}}else{const re=D.options;for(let Ae=0;Ae<re.length;Ae++){const lt=re[Ae];if(lt.selected){const Et=this._getOptionValue(lt.value);Q.push(Et)}}}this.value=Q,h(Q)}}_registerOption(h){const D=(this._idCounter++).toString();return this._optionMap.set(D,h),D}_getOptionId(h){for(const D of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(D)._value,h))return D;return null}_getOptionValue(h){const D=function ji(p){return p.split(":")[0]}(h);return this._optionMap.has(D)?this._optionMap.get(D)._value:h}}return p.\u0275fac=function(){let u;return function(D){return(u||(u=l.\u0275\u0275getInheritedFactory(p)))(D||p)}}(),p.\u0275dir=l.\u0275\u0275defineDirective({type:p,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(h,D){1&h&&l.\u0275\u0275listener("change",function(ze){return D.onChange(ze.target)})("blur",function(){return D.onTouched()})},inputs:{compareWith:"compareWith"},features:[l.\u0275\u0275ProvidersFeature([ei]),l.\u0275\u0275InheritDefinitionFeature]}),p})(),e=(()=>{class p{constructor(h,D,Q){this._element=h,this._renderer=D,this._select=Q,this._select&&(this.id=this._select._registerOption(this))}set ngValue(h){null!=this._select&&(this._value=h,this._setElementValue(ui(this.id,h)),this._select.writeValue(this._select.value))}set value(h){this._select?(this._value=h,this._setElementValue(ui(this.id,h)),this._select.writeValue(this._select.value)):this._setElementValue(h)}_setElementValue(h){this._renderer.setProperty(this._element.nativeElement,"value",h)}_setSelected(h){this._renderer.setProperty(this._element.nativeElement,"selected",h)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return p.\u0275fac=function(h){return new(h||p)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(l.Renderer2),l.\u0275\u0275directiveInject(s,9))},p.\u0275dir=l.\u0275\u0275defineDirective({type:p,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),p})()},2612:(de,te,E)=>{function ye(m,_){return class extends m{constructor(...w){super(...w),this.defaultColor=_,this.color=_}get color(){return this._color}set color(w){const k=w||this.defaultColor;k!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),k&&this._elementRef.nativeElement.classList.add(`mat-${k}`),this._color=k)}}}E.d(te,{pj:()=>ye}),E(7451),E(3192),E(6321),E(824),E(5033)},3331:(de,te,E)=>{E.d(te,{Hw:()=>ce});var l=E(7451),d=E(2612),L=E(4929),H=E(3192),I=E(824),G=E(5033),$=E(6152),ae=E(5998);const Y=["*"];let se;function N(Me){return function le(){if(void 0===se&&(se=null,"undefined"!=typeof window)){const Me=window;void 0!==Me.trustedTypes&&(se=Me.trustedTypes.createPolicy("angular#components",{createHTML:Ve=>Ve}))}return se}()?.createHTML(Me)||Me}function R(Me){return Error(`Unable to find icon with the name "${Me}"`)}function O(Me){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${Me}".`)}function B(Me){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${Me}".`)}class ge{constructor(Ve,j,q){this.url=Ve,this.svgText=j,this.options=q}}let xe=(()=>{class Me{constructor(j,q,_e,Ee){this._httpClient=j,this._sanitizer=q,this._errorHandler=Ee,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=_e}addSvgIcon(j,q,_e){return this.addSvgIconInNamespace("",j,q,_e)}addSvgIconLiteral(j,q,_e){return this.addSvgIconLiteralInNamespace("",j,q,_e)}addSvgIconInNamespace(j,q,_e,Ee){return this._addSvgIconConfig(j,q,new ge(_e,null,Ee))}addSvgIconResolver(j){return this._resolvers.push(j),this}addSvgIconLiteralInNamespace(j,q,_e,Ee){const Oe=this._sanitizer.sanitize(l.SecurityContext.HTML,_e);if(!Oe)throw B(_e);const Je=N(Oe);return this._addSvgIconConfig(j,q,new ge("",Je,Ee))}addSvgIconSet(j,q){return this.addSvgIconSetInNamespace("",j,q)}addSvgIconSetLiteral(j,q){return this.addSvgIconSetLiteralInNamespace("",j,q)}addSvgIconSetInNamespace(j,q,_e){return this._addSvgIconSetConfig(j,new ge(q,null,_e))}addSvgIconSetLiteralInNamespace(j,q,_e){const Ee=this._sanitizer.sanitize(l.SecurityContext.HTML,q);if(!Ee)throw B(q);const Oe=N(Ee);return this._addSvgIconSetConfig(j,new ge("",Oe,_e))}registerFontClassAlias(j,q=j){return this._fontCssClassesByAlias.set(j,q),this}classNameForFontAlias(j){return this._fontCssClassesByAlias.get(j)||j}setDefaultFontSetClass(j){return this._defaultFontSetClass=j,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(j){const q=this._sanitizer.sanitize(l.SecurityContext.RESOURCE_URL,j);if(!q)throw O(j);const _e=this._cachedIconsByUrl.get(q);return _e?(0,I.of)(Ze(_e)):this._loadSvgIconFromConfig(new ge(j,null)).pipe((0,G.tap)(Ee=>this._cachedIconsByUrl.set(q,Ee)),(0,G.map)(Ee=>Ze(Ee)))}getNamedSvgIcon(j,q=""){const _e=ye(q,j);let Ee=this._svgIconConfigs.get(_e);if(Ee)return this._getSvgFromConfig(Ee);if(Ee=this._getIconConfigFromResolvers(q,j),Ee)return this._svgIconConfigs.set(_e,Ee),this._getSvgFromConfig(Ee);const Oe=this._iconSetConfigs.get(q);return Oe?this._getSvgFromIconSetConfigs(j,Oe):(0,I.throwError)(R(_e))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(j){return j.svgText?(0,I.of)(Ze(this._svgElementFromConfig(j))):this._loadSvgIconFromConfig(j).pipe((0,G.map)(q=>Ze(q)))}_getSvgFromIconSetConfigs(j,q){const _e=this._extractIconWithNameFromAnySet(j,q);if(_e)return(0,I.of)(_e);const Ee=q.filter(Oe=>!Oe.svgText).map(Oe=>this._loadSvgIconSetFromConfig(Oe).pipe((0,G.catchError)(Je=>{const at=`Loading icon set URL: ${this._sanitizer.sanitize(l.SecurityContext.RESOURCE_URL,Oe.url)} failed: ${Je.message}`;return this._errorHandler.handleError(new Error(at)),(0,I.of)(null)})));return(0,I.forkJoin)(Ee).pipe((0,G.map)(()=>{const Oe=this._extractIconWithNameFromAnySet(j,q);if(!Oe)throw R(j);return Oe}))}_extractIconWithNameFromAnySet(j,q){for(let _e=q.length-1;_e>=0;_e--){const Ee=q[_e];if(Ee.svgText&&Ee.svgText.toString().indexOf(j)>-1){const Oe=this._svgElementFromConfig(Ee),Je=this._extractSvgIconFromSet(Oe,j,Ee.options);if(Je)return Je}}return null}_loadSvgIconFromConfig(j){return this._fetchIcon(j).pipe((0,G.tap)(q=>j.svgText=q),(0,G.map)(()=>this._svgElementFromConfig(j)))}_loadSvgIconSetFromConfig(j){return j.svgText?(0,I.of)(null):this._fetchIcon(j).pipe((0,G.tap)(q=>j.svgText=q))}_extractSvgIconFromSet(j,q,_e){const Ee=j.querySelector(`[id="${q}"]`);if(!Ee)return null;const Oe=Ee.cloneNode(!0);if(Oe.removeAttribute("id"),"svg"===Oe.nodeName.toLowerCase())return this._setSvgAttributes(Oe,_e);if("symbol"===Oe.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Oe),_e);const Je=this._svgElementFromString(N("<svg></svg>"));return Je.appendChild(Oe),this._setSvgAttributes(Je,_e)}_svgElementFromString(j){const q=this._document.createElement("DIV");q.innerHTML=j;const _e=q.querySelector("svg");if(!_e)throw Error("<svg> tag not found");return _e}_toSvgElement(j){const q=this._svgElementFromString(N("<svg></svg>")),_e=j.attributes;for(let Ee=0;Ee<_e.length;Ee++){const{name:Oe,value:Je}=_e[Ee];"id"!==Oe&&q.setAttribute(Oe,Je)}for(let Ee=0;Ee<j.childNodes.length;Ee++)j.childNodes[Ee].nodeType===this._document.ELEMENT_NODE&&q.appendChild(j.childNodes[Ee].cloneNode(!0));return q}_setSvgAttributes(j,q){return j.setAttribute("fit",""),j.setAttribute("height","100%"),j.setAttribute("width","100%"),j.setAttribute("preserveAspectRatio","xMidYMid meet"),j.setAttribute("focusable","false"),q&&q.viewBox&&j.setAttribute("viewBox",q.viewBox),j}_fetchIcon(j){const{url:q,options:_e}=j,Ee=_e?.withCredentials??!1;if(!this._httpClient)throw function C(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==q)throw Error(`Cannot fetch icon from URL "${q}".`);const Oe=this._sanitizer.sanitize(l.SecurityContext.RESOURCE_URL,q);if(!Oe)throw O(q);const Je=this._inProgressUrlFetches.get(Oe);if(Je)return Je;const rt=this._httpClient.get(Oe,{responseType:"text",withCredentials:Ee}).pipe((0,G.map)(at=>N(at)),(0,G.finalize)(()=>this._inProgressUrlFetches.delete(Oe)),(0,G.share)());return this._inProgressUrlFetches.set(Oe,rt),rt}_addSvgIconConfig(j,q,_e){return this._svgIconConfigs.set(ye(j,q),_e),this}_addSvgIconSetConfig(j,q){const _e=this._iconSetConfigs.get(j);return _e?_e.push(q):this._iconSetConfigs.set(j,[q]),this}_svgElementFromConfig(j){if(!j.svgElement){const q=this._svgElementFromString(j.svgText);this._setSvgAttributes(q,j.options),j.svgElement=q}return j.svgElement}_getIconConfigFromResolvers(j,q){for(let _e=0;_e<this._resolvers.length;_e++){const Ee=this._resolvers[_e](q,j);if(Ee)return Ge(Ee)?new ge(Ee.url,null,Ee.options):new ge(Ee,null)}}}return Me.\u0275fac=function(j){return new(j||Me)(l.\u0275\u0275inject($.HttpClient,8),l.\u0275\u0275inject(ae.H7),l.\u0275\u0275inject(H.DOCUMENT,8),l.\u0275\u0275inject(l.ErrorHandler))},Me.\u0275prov=l.\u0275\u0275defineInjectable({token:Me,factory:Me.\u0275fac,providedIn:"root"}),Me})();function Ze(Me){return Me.cloneNode(!0)}function ye(Me,Ve){return Me+":"+Ve}function Ge(Me){return!(!Me.url||!Me.options)}const $e=(0,d.pj)(class{constructor(Me){this._elementRef=Me}}),Be=new l.InjectionToken("mat-icon-location",{providedIn:"root",factory:function Pe(){const Me=(0,l.inject)(H.DOCUMENT),Ve=Me?Me.location:null;return{getPathname:()=>Ve?Ve.pathname+Ve.search:""}}}),ee=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],oe=ee.map(Me=>`[${Me}]`).join(", "),we=/^url\(['"]?#(.*?)['"]?\)$/;let ce=(()=>{class Me extends $e{constructor(j,q,_e,Ee,Oe){super(j),this._iconRegistry=q,this._location=Ee,this._errorHandler=Oe,this._inline=!1,this._currentIconFetch=I.Subscription.EMPTY,_e||j.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(j){this._inline=(0,L.Ig)(j)}get svgIcon(){return this._svgIcon}set svgIcon(j){j!==this._svgIcon&&(j?this._updateSvgIcon(j):this._svgIcon&&this._clearSvgElement(),this._svgIcon=j)}get fontSet(){return this._fontSet}set fontSet(j){const q=this._cleanupFontValue(j);q!==this._fontSet&&(this._fontSet=q,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(j){const q=this._cleanupFontValue(j);q!==this._fontIcon&&(this._fontIcon=q,this._updateFontIconClasses())}_splitIconName(j){if(!j)return["",""];const q=j.split(":");switch(q.length){case 1:return["",q[0]];case 2:return q;default:throw Error(`Invalid icon name: "${j}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const j=this._elementsWithExternalReferences;if(j&&j.size){const q=this._location.getPathname();q!==this._previousPath&&(this._previousPath=q,this._prependPathToReferences(q))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(j){this._clearSvgElement();const q=j.querySelectorAll("style");for(let Ee=0;Ee<q.length;Ee++)q[Ee].textContent+=" ";const _e=this._location.getPathname();this._previousPath=_e,this._cacheChildrenWithExternalReferences(j),this._prependPathToReferences(_e),this._elementRef.nativeElement.appendChild(j)}_clearSvgElement(){const j=this._elementRef.nativeElement;let q=j.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();q--;){const _e=j.childNodes[q];(1!==_e.nodeType||"svg"===_e.nodeName.toLowerCase())&&_e.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const j=this._elementRef.nativeElement,q=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();q!=this._previousFontSetClass&&(this._previousFontSetClass&&j.classList.remove(this._previousFontSetClass),q&&j.classList.add(q),this._previousFontSetClass=q),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&j.classList.remove(this._previousFontIconClass),this.fontIcon&&j.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(j){return"string"==typeof j?j.trim().split(" ")[0]:j}_prependPathToReferences(j){const q=this._elementsWithExternalReferences;q&&q.forEach((_e,Ee)=>{_e.forEach(Oe=>{Ee.setAttribute(Oe.name,`url('${j}#${Oe.value}')`)})})}_cacheChildrenWithExternalReferences(j){const q=j.querySelectorAll(oe),_e=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Ee=0;Ee<q.length;Ee++)ee.forEach(Oe=>{const Je=q[Ee],rt=Je.getAttribute(Oe),at=rt?rt.match(we):null;if(at){let ht=_e.get(Je);ht||(ht=[],_e.set(Je,ht)),ht.push({name:Oe,value:at[1]})}})}_updateSvgIcon(j){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),j){const[q,_e]=this._splitIconName(j);q&&(this._svgNamespace=q),_e&&(this._svgName=_e),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(_e,q).pipe((0,G.take)(1)).subscribe(Ee=>this._setSvgElement(Ee),Ee=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${q}:${_e}! ${Ee.message}`))})}}}return Me.\u0275fac=function(j){return new(j||Me)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(xe),l.\u0275\u0275injectAttribute("aria-hidden"),l.\u0275\u0275directiveInject(Be),l.\u0275\u0275directiveInject(l.ErrorHandler))},Me.\u0275cmp=l.\u0275\u0275defineComponent({type:Me,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(j,q){2&j&&(l.\u0275\u0275attribute("data-mat-icon-type",q._usingFontIcon()?"font":"svg")("data-mat-icon-name",q._svgName||q.fontIcon)("data-mat-icon-namespace",q._svgNamespace||q.fontSet),l.\u0275\u0275classProp("mat-icon-inline",q.inline)("mat-icon-no-color","primary"!==q.color&&"accent"!==q.color&&"warn"!==q.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:Y,decls:1,vars:0,template:function(j,q){1&j&&(l.\u0275\u0275projectionDef(),l.\u0275\u0275projection(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),Me})()},5998:(de,te,E)=>{E.d(te,{H7:()=>Dt});var l=E(3192),d=E(7451);"undefined"!=typeof window&&window;let Dt=(()=>{class g{}return g.\u0275fac=function(M){return new(M||g)},g.\u0275prov=d.\u0275\u0275defineInjectable({token:g,factory:function(M){let F=null;return F=M?new(M||g):d.\u0275\u0275inject(z),F},providedIn:"root"}),g})(),z=(()=>{class g extends Dt{constructor(M){super(),this._doc=M}sanitize(M,F){if(null==F)return null;switch(M){case d.SecurityContext.NONE:return F;case d.SecurityContext.HTML:return(0,d.\u0275allowSanitizationBypassAndThrow)(F,"HTML")?(0,d.\u0275unwrapSafeValue)(F):(0,d.\u0275_sanitizeHtml)(this._doc,String(F)).toString();case d.SecurityContext.STYLE:return(0,d.\u0275allowSanitizationBypassAndThrow)(F,"Style")?(0,d.\u0275unwrapSafeValue)(F):F;case d.SecurityContext.SCRIPT:if((0,d.\u0275allowSanitizationBypassAndThrow)(F,"Script"))return(0,d.\u0275unwrapSafeValue)(F);throw new Error("unsafe value used in a script context");case d.SecurityContext.URL:return(0,d.\u0275getSanitizationBypassType)(F),(0,d.\u0275allowSanitizationBypassAndThrow)(F,"URL")?(0,d.\u0275unwrapSafeValue)(F):(0,d.\u0275_sanitizeUrl)(String(F));case d.SecurityContext.RESOURCE_URL:if((0,d.\u0275allowSanitizationBypassAndThrow)(F,"ResourceURL"))return(0,d.\u0275unwrapSafeValue)(F);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${M} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(M){return(0,d.\u0275bypassSanitizationTrustHtml)(M)}bypassSecurityTrustStyle(M){return(0,d.\u0275bypassSanitizationTrustStyle)(M)}bypassSecurityTrustScript(M){return(0,d.\u0275bypassSanitizationTrustScript)(M)}bypassSecurityTrustUrl(M){return(0,d.\u0275bypassSanitizationTrustUrl)(M)}bypassSecurityTrustResourceUrl(M){return(0,d.\u0275bypassSanitizationTrustResourceUrl)(M)}}return g.\u0275fac=function(M){return new(M||g)(d.\u0275\u0275inject(l.DOCUMENT))},g.\u0275prov=d.\u0275\u0275defineInjectable({token:g,factory:function(M){let F=null;return F=M?new M:function bt(g){return new z(g.get(l.DOCUMENT))}(d.\u0275\u0275inject(d.Injector)),F},providedIn:"root"}),g})()},2898:(de,te,E)=>{E.d(te,{A0:()=>ae,ke:()=>se});var l=E(7451),d=E(824);const L=["frameElement"],H=["panElement"],I=["zoomElement"],G=["panzoomOverlay"],$=["*"];let ae=(()=>{class le{constructor(R){this.zone=R,this.isDragging=!1,this.lastTick=0,this.isChrome=!1,this.willChangeNextFrame=!0,this.isMobile=!1,this.isFirstSync=!0,this.zoomLevelIsChanging=!1,this.dragFinishing=!1,this.onMouseWheel=C=>{if(!(C&&C.pageX&&C.pageY))return;let O=C.deltaY;if(this.config.zoomOnMouseWheel){if(this.animationParams)return;this.config.invertMouseWheel||(O=-O);const B=this.getFrameElementOffset(),ge={x:C.pageX-B.left,y:C.pageY-B.top};this.lastClickPoint=ge,this.config.freeMouseWheel?this.freeZoom(ge,O):O<0?this.zoomInToPoint(ge):O>0&&this.zoomOutFromPoint(ge)}},this.onMousedown=C=>{if(!(this.config.noDragFromElementClass&&this.isParentElement(this.config.noDragFromElementClass,C.srcElement)||C.button!==this.dragMouseButton&&"touchstart"!==C.type))return"touchstart"!==C.type&&C.preventDefault(),this.dragFinishing=!1,this.panVelocity=void 0,this.config.panOnClickDrag&&(this.previousPosition={x:C.pageX,y:C.pageY},this.lastMouseEventTime=C.timeStamp,this.isDragging=!0,this.model.isPanning=!1,this.isMobile?(this.zone.runOutsideAngular(()=>document.addEventListener("touchend",this.onTouchEnd,!1)),this.zone.runOutsideAngular(()=>document.addEventListener("touchmove",this.onTouchMove,{passive:!0,capture:!1}))):(this.zone.runOutsideAngular(()=>document.addEventListener("mousemove",this.onMouseMove,{passive:!0,capture:!1})),this.zone.runOutsideAngular(()=>document.addEventListener("mouseup",this.onMouseUp)))),!1},this.onTouchStart=C=>{if(1!==C.touches.length){const O=C.touches[0].pageX-C.touches[1].pageX,B=C.touches[0].pageY-C.touches[1].pageY;this.previousPosition={length:O*O+B*B}}this.onMousedown(C)},this.onMouseMove=C=>{let O;if(C&&C.pageX&&C.pageY)O=C;else{if("touchmove"!==C.type||!C.touches[0].pageX||!C.touches[0].pageY)return;O={pageX:C.touches[0].pageX,pageY:C.touches[0].pageY}}const B=C.timeStamp,ge=(B-this.lastMouseEventTime)/1e3;this.lastMouseEventTime=B;const xe={x:O.pageX-this.previousPosition.x,y:O.pageY-this.previousPosition.y};if(this.config.keepInBounds){const ye=this.getViewPosition({x:0,y:0}),Ge=this.getViewPosition({x:this.contentWidth,y:this.contentHeight});ye.x>0&&xe.x>0&&(xe.x*=Math.min(1,Math.pow(ye.x,-this.config.keepInBoundsDragPullback))),ye.y>0&&xe.y>0&&(xe.y*=Math.min(1,Math.pow(ye.y,-this.config.keepInBoundsDragPullback))),Ge.x<this.contentWidth&&xe.x<0&&(xe.x*=Math.min(1,Math.pow(this.contentWidth-Ge.x,-this.config.keepInBoundsDragPullback))),Ge.y<this.contentHeight&&xe.y<0&&(xe.y*=Math.min(1,Math.pow(this.contentHeight-Ge.y,-this.config.keepInBoundsDragPullback)))}const Ye_y=xe.y||0;this.model.pan.x+=xe.x||0,this.model.pan.y+=Ye_y,this.syncBaseToModel(),this.animationTick(),this.model.isPanning||(this.panzoomOverlayRef.nativeElement.style.display="block"),this.model.isPanning=!0;const Xe=xe.x/ge,Ze=xe.y/ge;this.panVelocity={x:Number.isFinite(Xe)?Xe:0,y:Number.isFinite(Ze)?Ze:0},this.previousPosition={x:O.pageX,y:O.pageY}},this.onTouchMove=C=>{if(1===C.touches.length)this.onMouseMove(C);else{const O=C.touches[0].pageX-C.touches[1].pageX,B=C.touches[0].pageY-C.touches[1].pageY,ge=O*O+B*B,xe=ge-this.previousPosition.length;if(Math.abs(xe)<100)return;const Ye=C.touches[1].pageX+O/2,Xe=C.touches[1].pageY+B/2,Ze=this.getFrameElementOffset(),ye={x:Ye-Ze.left,y:Xe-Ze.top};this.lastClickPoint=ye,this.changeZoomLevel(this.base.zoomLevel+1e-4*xe,ye),this.previousPosition={length:ge}}},this.onMouseUp=C=>{if(C.button!==this.dragMouseButton&&"touchend"!==C.type)return;"touchend"!==C.type&&C.preventDefault();const B=(C.timeStamp-this.lastMouseEventTime)/1e3;if(!this.panVelocity||0===this.panVelocity.x&&0===this.panVelocity.y)this.panVelocity=void 0,this.dragFinishing=!1,this.model.isPanning=!1,this.config.modelChanged.next(this.model),this.syncBaseToModel();else{const ge=Math.max(0,-.2+Math.pow(B+1,-4));this.panVelocity.x*=ge,this.panVelocity.y*=ge,this.dragFinishing=!0,this.zone.runOutsideAngular(()=>this.animationId=this.animationFrameFunc(this.animationTick))}this.isDragging=!1,this.isMobile?(this.zone.runOutsideAngular(()=>document.removeEventListener("touchend",this.onTouchEnd)),this.zone.runOutsideAngular(()=>document.removeEventListener("touchmove",this.onTouchMove,{passive:!0,capture:!1}))):(this.zone.runOutsideAngular(()=>document.removeEventListener("mousemove",this.onMouseMove,{passive:!0,capture:!1})),this.zone.runOutsideAngular(()=>document.removeEventListener("mouseup",this.onMouseUp,{passive:!0}))),this.panzoomOverlayRef.nativeElement.style.display="none"},this.onTouchEnd=C=>{this.onMouseUp(C)},this.onDblClick=C=>{if(C.preventDefault(),!this.config.zoomOnDoubleClick)return;const O=this.getFrameElementOffset(),B={x:C.pageX-O.left,y:C.pageY-O.top};this.lastClickPoint=B,this.zoomInToPoint(B)},this.preventDefault=C=>{C.preventDefault()},this.animationTick=(C=performance.now())=>{let O=0;if(0!==this.lastTick&&(O=C-this.lastTick),this.lastTick=C,this.animationParams&&(this.animationParams.progress+=Math.abs(O/this.animationParams.duration),this.animationParams.progress>=1&&(this.animationParams.progress=1,this.updateDOM(),this.animationParams=void 0)),this.panVelocity&&this.dragFinishing)for(O>0&&(O/=1e3);O>0;){const B=Math.min(.02,O);if(O-=B,this.model.pan.x=this.model.pan.x+this.panVelocity.x*B,this.panVelocity.x=this.panVelocity.x*(1-this.config.friction*B),this.model.pan.y=this.model.pan.y+this.panVelocity.y*B,this.panVelocity.y=this.panVelocity.y*(1-this.config.friction*B),this.length(this.panVelocity)<=this.config.haltSpeed){this.panVelocity=void 0,this.dragFinishing=!1;break}}if(this.config.keepInBounds||this.dragFinishing){const B=this.getViewPosition({x:0,y:0}),ge=this.getViewPosition({x:this.contentWidth,y:this.contentHeight});B.x>0&&(this.base.pan.x-=this.config.keepInBoundsRestoreForce*B.x),B.y>0&&(this.base.pan.y-=this.config.keepInBoundsRestoreForce*B.y),ge.x<this.contentWidth&&(this.base.pan.x-=this.config.keepInBoundsRestoreForce*(ge.x-this.contentWidth)),ge.y<this.contentHeight&&(this.base.pan.y-=this.config.keepInBoundsRestoreForce*(ge.y-this.contentHeight))}if(this.updateDOM(),this.config.modelChanged.next(this.model),this.animationParams||this.panVelocity&&this.dragFinishing)this.isChrome&&this.zoomLevelIsChanging&&(this.zoomElementRef.nativeElement.style.willChange=this.willChangeNextFrame?"auto":"transform",this.willChangeNextFrame=!this.willChangeNextFrame),this.animationFrameFunc(this.animationTick);else{if(this.panVelocity&&!this.dragFinishing)return;this.model.isPanning&&(this.model.isPanning=!1),this.syncBaseToModel(),this.config.modelChanged.next(this.model),this.scale=this.getCssScale(this.base.zoomLevel),this.willChangeNextFrame=!0,this.zoomElementRef.nativeElement.style.willChange="transform",this.zoomLevelIsChanging=!1,this.lastTick=0}}}ngOnInit(){switch(this.base=this.config.initialZoomToFit?this.calcZoomToFit(this.config.initialZoomToFit):{zoomLevel:this.config.initialZoomLevel,pan:{x:this.config.initialPanX,y:this.config.initialPanY}},this.model={zoomLevel:this.base.zoomLevel,isPanning:!1,pan:{x:this.base.pan.x,y:this.base.pan.y}},this.config.modelChanged.next(this.model),this.api={model:this.model,config:this.config,changeZoomLevel:this.zoomToLevelAndPoint.bind(this),zoomIn:this.zoomIn.bind(this),zoomOut:this.zoomOut.bind(this),zoomToFit:this.zoomToFit.bind(this),resetView:this.resetView.bind(this),getViewPosition:this.getViewPosition.bind(this),getModelPosition:this.getModelPosition.bind(this),panToPoint:this.panToPoint.bind(this),panDelta:this.panDelta.bind(this),panDeltaPercent:this.panDeltaPercent.bind(this),panDeltaAbsolute:this.panDeltaAbsolute.bind(this),centerContent:this.centerContent.bind(this),centerX:this.centerX.bind(this),centerY:this.centerY.bind(this),centerTopLeft:this.centerTopLeftCorner.bind(this),centerBottomLeft:this.centerBottomLeftCorner.bind(this),centerTopRight:this.centerTopRightCorner.bind(this),centerBottomRight:this.centerBottomRightCorner.bind(this),updateContentDimensions:this.updateContentDimensions.bind(this),detectContentDimensions:this.detectContentDimensions.bind(this)},this.config.api.next(this.api),this.config.freeMouseWheel&&(this.scale=this.getCssScale(this.config.initialZoomLevel),this.maxScale=this.getCssScale(this.config.zoomLevels-1),this.minScale=this.getCssScale(0)),this.minimumAllowedZoomLevel=0,this.config.keepInBounds&&(this.minimumAllowedZoomLevel=this.config.neutralZoomLevel,this.minScale=this.getCssScale(this.config.neutralZoomLevel)),this.zoomElementRef.nativeElement.style.willChange="transform",navigator.userAgent.search("Chrome")>=0&&(this.isChrome=!0,this.zoomElementRef.nativeElement.style.transform="translateZ(0)"),this.config.acceleratePan&&(this.panElementRef.nativeElement.style.willChange="transform",navigator.userAgent.search("Chrome")>=0&&(this.isChrome=!0,this.panElementRef.nativeElement.style.transform="translateZ(0)")),this.animationTick(),this.scale=this.getCssScale(this.base.zoomLevel),this.isFirstSync=!1,this.config.dragMouseButton){case"left":default:this.dragMouseButton=0;break;case"middle":this.dragMouseButton=1,this.zone.runOutsideAngular(()=>this.frameElementRef.nativeElement.addEventListener("auxclick",this.preventDefault));break;case"right":this.zone.runOutsideAngular(()=>document.addEventListener("contextmenu",this.preventDefault)),this.dragMouseButton=2}}ngAfterViewInit(){this.detectContentDimensions();const R=getComputedStyle(this.frameElementRef.nativeElement);this.frameHeight=parseInt(R.getPropertyValue("height").split("px")[0]),this.frameWidth=parseInt(R.getPropertyValue("width").split("px")[0]),this.zone.runOutsideAngular(()=>this.animationFrameFunc=window.requestAnimationFrame),this.config.dynamicContentDimensions&&(window.ResizeObserver?(this.resizeObserver=new window.ResizeObserver(C=>this.onContentDimensionsChangeDetected(C)),this.zone.runOutsideAngular(()=>this.resizeObserver.observe(this.zoomElementRef.nativeElement))):console.error("ResizeObserver API is not supported by this browser.  See https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver for info on browser compatibility.")),this.isMobileDevice()?(this.isMobile=!0,this.zone.runOutsideAngular(()=>this.frameElementRef.nativeElement.addEventListener("touchstart",this.onTouchStart))):this.zone.runOutsideAngular(()=>{this.frameElementRef.nativeElement.addEventListener("mousedown",this.onMousedown),this.frameElementRef.nativeElement.addEventListener("dblclick",this.onDblClick),this.frameElementRef.nativeElement.addEventListener("wheel",C=>this.animationFrameFunc(()=>this.onMouseWheel(C)),{passive:!0})})}ngOnDestroy(){switch(this.isMobile?this.frameElementRef.nativeElement.removeEventListener("touchstart",this.onTouchStart):(this.frameElementRef.nativeElement.removeEventListener("mousedown",this.onMousedown),this.frameElementRef.nativeElement.removeEventListener("wheel",R=>this.animationFrameFunc(()=>this.onMouseWheel(R)),{passive:!0}),this.frameElementRef.nativeElement.removeEventListener("dblclick",this.onDblClick)),this.animationFrameFunc&&this.animationId&&window.cancelAnimationFrame(this.animationId),this.resizeObserver&&this.resizeObserver.disconnect(),this.config.dragMouseButton){case"middle":this.dragMouseButton=1,this.zone.runOutsideAngular(()=>this.frameElementRef.nativeElement.removeEventListener("auxclick",this.preventDefault));break;case"right":this.zone.runOutsideAngular(()=>document.removeEventListener("contextmenu",this.preventDefault)),this.dragMouseButton=2}}isParentElement(R,C){let O=C.parentNode;for(;null!==O;){if(O.classList&&O.classList.contains(R))return!0;O=O.parentNode}return!1}updateDOM(){if(this.animationParams){this.model.zoomLevel=this.base.zoomLevel+this.animationParams.deltaZoomLevel*this.animationParams.progress;const C=this.animationParams.panStepFunc(this.model.zoomLevel);if(this.model.pan.x=this.base.pan.x+C.x,this.model.pan.y=this.base.pan.y+C.y,this.config.keepInBounds){const O=this.getViewPosition({x:0,y:0}),B=this.getViewPosition({x:this.contentWidth,y:this.contentHeight});O.x>0&&(this.model.pan.x=0),O.y>0&&(this.model.pan.y=0),B.x<this.contentWidth&&(this.model.pan.x-=B.x-this.contentWidth),B.y<this.contentHeight&&(this.model.pan.y-=B.y-this.contentHeight)}}if(this.animationParams||this.isFirstSync){const B=`transform-origin: 0 0; transform: scale(${this.getCssScale(this.model.zoomLevel)});`;this.zoomElementRef.nativeElement.setAttribute("style",B)}this.panElementRef.nativeElement.style.transform=`translate3d(${this.model.pan.x}px, ${this.model.pan.y}px, 0)`}freeZoom(R,C){if(this.isDragging)return;this.animationParams&&(this.animationParams=void 0),this.panVelocity&&(this.dragFinishing=!1,this.panVelocity=void 0);const O_x=this.model.pan.x,O_y=this.model.pan.y,B=this.scale;let ge=this.scale+C*this.config.freeMouseWheelFactor*this.scale;ge=Math.max(this.minScale,Math.min(this.maxScale,ge)),this.scale=ge;const xe={x:R.x-ge/B*(R.x-O_x),y:R.y-ge/B*(R.y-O_y)};this.panElementRef.nativeElement.style.transform=`translate3d(${xe.x}px, ${xe.y}px, 0)`;let Ze=`transform-origin: 0 0; transform: scale(${this.scale});`;this.isChrome&&(Ze+=this.willChangeNextFrame?" will-change: auto;":" will-change: transform;",this.willChangeNextFrame=!this.willChangeNextFrame),this.zoomElementRef.nativeElement.setAttribute("style",Ze),this.model.pan.x=xe.x,this.model.pan.y=xe.y,this.model.zoomLevel=this.getZoomLevel(this.scale),this.config.modelChanged.next(this.model),this.syncBaseToModel()}isMobileDevice(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")}syncBaseToModel(){this.base.pan.x=this.model.pan.x,this.base.pan.y=this.model.pan.y,this.base.zoomLevel=this.model.zoomLevel}length(R){return Math.sqrt(R.x*R.x+R.y*R.y)}getCentrePoint(){return{x:this.frameElementRef.nativeElement.offsetWidth/2,y:this.frameElementRef.nativeElement.offsetHeight/2}}getCssScale(R){return Math.pow(this.config.scalePerZoomLevel,R-this.config.neutralZoomLevel)}getZoomLevel(R){return Math.log10(R)/Math.log10(this.config.scalePerZoomLevel)+this.config.neutralZoomLevel}calcZoomToFit(R){const C=this.frameElementRef.nativeElement.offsetWidth,O=this.frameElementRef.nativeElement.offsetHeight,B=R.width,ge=R.height,xe=Math.min(C/B,O/ge),Xe=this.getZoomLevel(xe)*this.config.zoomToFitZoomLevelFactor,Ze=this.getCssScale(Xe);return{zoomLevel:Xe,pan:{x:-R.x*Ze+(C-B*Ze)/2,y:-R.y*Ze+(O-ge*Ze)/2}}}zoomToFitModel(R,C){this.model.isPanning=!0,this.animateToTarget(R,C)}zoomToLevelAndPoint(R,C){this.changeZoomLevel(R,C)}zoomIn(R="lastPoint"){"lastPoint"===R?this.changeZoomLevel(this.base.zoomLevel+this.config.zoomButtonIncrement,this.lastClickPoint):"viewCenter"===R&&this.changeZoomLevel(this.base.zoomLevel+this.config.zoomButtonIncrement,this.getCentrePoint())}zoomOut(R="lastPoint"){"lastPoint"===R?this.changeZoomLevel(this.base.zoomLevel-this.config.zoomButtonIncrement,this.lastClickPoint):"viewCenter"===R&&this.changeZoomLevel(this.base.zoomLevel-this.config.zoomButtonIncrement,this.getCentrePoint())}startAnimation(){this.lastTick=performance.now(),this.zone.runOutsideAngular(()=>this.animationId=this.animationFrameFunc(this.animationTick))}getFrameElementOffset(){const R=this.frameElementRef.nativeElement.getBoundingClientRect();return{top:R.top+window.scrollY,left:R.left+window.scrollX}}onContentDimensionsChangeDetected(R){this.contentHeight=R[0].contentRect.height,this.contentWidth=R[0].contentRect.width}getViewPosition(R){let C,O;if(this.animationParams){C=this.getCssScale(this.base.zoomLevel+this.animationParams.deltaZoomLevel*this.animationParams.progress);let B=this.animationParams.panStepFunc(this.model.zoomLevel);O={x:this.base.pan.x+B.x,y:this.base.pan.y+B.y}}else C=this.getCssScale(this.base.zoomLevel),O=this.base.pan;return{x:R.x*C+O.x,y:R.y*C+O.y}}getModelPosition(R){const C=R,O=this.getCssScale(this.base.zoomLevel),B=this.base.pan;return{x:1/O*(C.x-B.x),y:1/O*(C.y-B.y)}}resetView(){this.config.initialZoomToFit?this.zoomToFit(this.config.initialZoomToFit):void 0!==this.config.initialPanX&&void 0!==this.config.initialPanY&&void 0!==this.config.initialZoomLevel?this.zoomToFitModel({zoomLevel:this.config.initialZoomLevel,pan:{x:this.config.initialPanX,y:this.config.initialPanY}}):(console.error("PanZoomComponent: resetView() could not reset view as some vars were not set.  The culprits are either config.initialZoomLevel, config.initialPanX, or config.initialPanY.  Or just set panzoomConfig.initialZoomToFit"),console.log("config.initialZoomLevel: "+this.config.initialZoomLevel),console.log("config.initialPanX: "+this.config.initialPanX),console.log("config.initialPanY: "+this.config.initialPanY))}zoomToFit(R,C){const O=this.calcZoomToFit(R);this.model.isPanning=!0,this.animateToTarget(O,C)}zoomInToPoint(R){this.changeZoomLevel(this.base.zoomLevel+this.config.zoomButtonIncrement,R)}zoomOutFromPoint(R){this.changeZoomLevel(this.base.zoomLevel-this.config.zoomButtonIncrement,R)}panToPoint(R,C){const O={pan:{x:this.frameWidth/2-R.x*this.scale,y:this.frameHeight/2-R.y*this.scale},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(O,C)}panToPointCurrentScale(R,C){const O={pan:{x:this.frameWidth/2-R.x,y:this.frameHeight/2-R.y},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(O,C)}panDelta(R,C){const O={pan:{x:this.base.pan.x-this.scale*R.x,y:this.base.pan.y-this.scale*R.y},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(O,C)}panDeltaAbsolute(R,C){const O={pan:{x:this.base.pan.x-R.x,y:this.base.pan.y-R.y},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(O,C)}panDeltaPercent(R,C){let O=0,B=0;0!==R.x&&(O=this.contentWidth*(R.x/100)*this.scale),0!==R.y&&(B=this.contentHeight*(R.y/100)*this.scale);const ge={pan:{x:this.base.pan.x-O,y:this.base.pan.y-B},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(ge,C)}centerContent(R){this.panToPoint({x:this.contentWidth/2,y:this.contentHeight/2},R)}centerX(R){const C={pan:{x:this.frameWidth/2-this.contentWidth/2*this.scale,y:this.base.pan.y},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(C,R)}centerY(R){const C={pan:{x:this.base.pan.x,y:this.frameHeight/2-this.contentHeight/2*this.scale},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(C,R)}centerTopLeftCorner(R){this.panToPoint({x:0,y:0},R)}centerBottomLeftCorner(R){this.panToPoint({x:0,y:this.contentHeight},R)}centerTopRightCorner(R){this.panToPoint({x:this.contentWidth,y:0},R)}centerBottomRightCorner(R){this.panToPoint({x:this.contentWidth,y:this.contentHeight},R)}updateContentDimensions(R,C){void 0!==C&&(this.contentHeight=C),void 0!==R&&(this.contentWidth=R)}detectContentDimensions(){const R=getComputedStyle(this.zoomElementRef.nativeElement);this.contentHeight=parseInt(R.getPropertyValue("height").split("px")[0]),this.contentWidth=parseInt(R.getPropertyValue("width").split("px")[0])}animateToTarget(R,C){if(this.animationParams)return;this.zoomLevelIsChanging=!1,this.base.zoomLevel!==R.zoomLevel&&(this.zoomLevelIsChanging=!0);const O=R.zoomLevel-this.base.zoomLevel,B_x=this.base.pan.x,B_y=this.base.pan.y;this.model.pan.x=this.base.pan.x,this.model.pan.y=this.base.pan.y,this.animationParams={deltaZoomLevel:O,panStepFunc:xe=>({x:-(B_x-R.pan.x)*this.animationParams.progress,y:-(B_y-R.pan.y)*this.animationParams.progress}),duration:C=C?1e3*C:1e3*this.config.zoomStepDuration,progress:0},this.startAnimation()}changeZoomLevel(R,C){if(this.animationParams)return;this.zoomLevelIsChanging=!0,R=Math.max(this.minimumAllowedZoomLevel,R);const O=(R=Math.min(this.config.zoomLevels-1,R))-this.base.zoomLevel;if(!O)return;const B_x=this.base.pan.x,B_y=this.base.pan.y,ge=this.scale,xe=C||this.getCentrePoint();this.animationParams={deltaZoomLevel:O,panStepFunc:Xe=>{const Ze=this.getCssScale(Xe);return{x:xe.x-Ze/ge*(xe.x-B_x)-B_x,y:xe.y-Ze/ge*(xe.y-B_y)-B_y}},duration:1e3*this.config.zoomStepDuration,progress:0},this.startAnimation()}}return le.\u0275fac=function(R){return new(R||le)(l.\u0275\u0275directiveInject(l.NgZone))},le.\u0275cmp=l.\u0275\u0275defineComponent({type:le,selectors:[["pan-zoom"]],viewQuery:function(R,C){if(1&R&&(l.\u0275\u0275viewQuery(L,7),l.\u0275\u0275viewQuery(H,7),l.\u0275\u0275viewQuery(I,7),l.\u0275\u0275viewQuery(G,7)),2&R){let O;l.\u0275\u0275queryRefresh(O=l.\u0275\u0275loadQuery())&&(C.frameElementRef=O.first),l.\u0275\u0275queryRefresh(O=l.\u0275\u0275loadQuery())&&(C.panElementRef=O.first),l.\u0275\u0275queryRefresh(O=l.\u0275\u0275loadQuery())&&(C.zoomElementRef=O.first),l.\u0275\u0275queryRefresh(O=l.\u0275\u0275loadQuery())&&(C.panzoomOverlayRef=O.first)}},inputs:{config:"config"},ngContentSelectors:$,decls:9,vars:0,consts:[[1,"pan-zoom-frame"],["frameElement",""],[1,"pan-element"],["panElement",""],[1,"zoom-element"],["zoomElement",""],[1,"pan-zoom-overlay"],["panzoomOverlay",""]],template:function(R,C){1&R&&(l.\u0275\u0275projectionDef(),l.\u0275\u0275elementStart(0,"div",0,1),l.\u0275\u0275elementStart(2,"div",2,3),l.\u0275\u0275elementStart(4,"div",4,5),l.\u0275\u0275projection(6),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(7,"div",6,7))},styles:[".pan-zoom-frame[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;overflow:hidden}.pan-element[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px}.pan-zoom-overlay[_ngcontent-%COMP%]{position:absolute;display:none;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none}"]}),le})();class se{constructor(N){this.zoomLevels=5,this.neutralZoomLevel=2,this.scalePerZoomLevel=2,this.initialZoomLevel=this.neutralZoomLevel,this.friction=10,this.haltSpeed=100,this.initialPanX=0,this.initialPanY=0,this.keepInBounds=!1,this.keepInBoundsDragPullback=.7,this.keepInBoundsRestoreForce=.5,this.panOnClickDrag=!0,this.dragMouseButton="left",this.zoomButtonIncrement=1,this.zoomOnDoubleClick=!0,this.zoomOnMouseWheel=!0,this.invertMouseWheel=!1,this.zoomStepDuration=.2,this.zoomToFitZoomLevelFactor=.95,this.freeMouseWheel=!0,this.freeMouseWheelFactor=.08,this.modelChanged=new d.BehaviorSubject({isPanning:null,zoomLevel:null,pan:{x:null,y:null}}),this.api=new d.BehaviorSubject({model:null,config:null,changeZoomLevel:null,zoomIn:null,zoomOut:null,zoomToFit:null,getViewPosition:null,getModelPosition:null,resetView:null,panToPoint:null,panDelta:null,panDeltaPercent:null,panDeltaAbsolute:null,centerContent:null,centerX:null,centerY:null,centerTopLeft:null,centerTopRight:null,centerBottomLeft:null,centerBottomRight:null,updateContentDimensions:null,detectContentDimensions:null}),this.acceleratePan=!0,this.dynamicContentDimensions=!1,void 0!==N&&("zoomLevels"in N&&(this.zoomLevels=N.zoomLevels),"neutralZoomLevel"in N&&(this.neutralZoomLevel=N.neutralZoomLevel),"scalePerZoomLevel"in N&&(this.scalePerZoomLevel=N.scalePerZoomLevel),"initialZoomLevel"in N&&(this.initialZoomLevel=N.initialZoomLevel),"friction"in N&&(this.friction=N.friction),"haltSpeed"in N&&(this.haltSpeed=N.haltSpeed),"initialPanX"in N&&(this.initialPanX=N.initialPanX),"initialPanY"in N&&(this.initialPanY=N.initialPanY),"initialZoomToFit"in N&&(this.initialZoomToFit=N.initialZoomToFit),"keepInBounds"in N&&(this.keepInBounds=N.keepInBounds),"keepInBoundsDragPullback"in N&&(this.keepInBoundsDragPullback=N.keepInBoundsDragPullback),"keepInBoundsRestoreForce"in N&&(this.keepInBoundsRestoreForce=N.keepInBoundsRestoreForce),"panOnClickDrag"in N&&(this.panOnClickDrag=N.panOnClickDrag),"dragMouseButton"in N&&(this.dragMouseButton=N.dragMouseButton),"zoomButtonIncrement"in N&&(this.zoomButtonIncrement=N.zoomButtonIncrement),"zoomOnDoubleClick"in N&&(this.zoomOnDoubleClick=N.zoomOnDoubleClick),"zoomOnMouseWheel"in N&&(this.zoomOnMouseWheel=N.zoomOnMouseWheel),"invertMouseWheel"in N&&(this.invertMouseWheel=N.invertMouseWheel),"zoomStepDuration"in N&&(this.zoomStepDuration=N.zoomStepDuration),"zoomToFitZoomLevelFactor"in N&&(this.zoomToFitZoomLevelFactor=N.zoomToFitZoomLevelFactor),"freeMouseWheel"in N&&(this.freeMouseWheel=N.freeMouseWheel),"freeMouseWheelFactor"in N&&(this.freeMouseWheelFactor=N.freeMouseWheelFactor),this.keepInBounds&&0!==this.neutralZoomLevel&&console.warn("You have set keepInBounds to true and neutralZoomLevel to "+this.neutralZoomLevel+". Be aware that the zoom level cannot go below "+this.neutralZoomLevel),"noDragFromElementClass"in N&&(this.noDragFromElementClass=N.noDragFromElementClass),"acceleratePan"in N&&(this.acceleratePan=N.acceleratePan),"dynamicContentDimensions"in N&&(this.dynamicContentDimensions=N.dynamicContentDimensions))}}}}]);
(self.webpackChunkmfComponents=self.webpackChunkmfComponents||[]).push([[507,734],{92:(Ue,ee,A)=>{A.d(ee,{Wl:()=>N,Zs:()=>$e,Fj:()=>te,Oe:()=>Re,CE:()=>Me,qu:()=>mr,NI:()=>ve,u:()=>Ge,cw:()=>ae,sg:()=>Ce,u5:()=>fr,Cf:()=>S,JU:()=>k,a5:()=>Z,JJ:()=>Ze,JL:()=>qe,F:()=>ye,YN:()=>gt,UX:()=>bt,EJ:()=>ke,kI:()=>w,_Y:()=>lt,Kr:()=>vt});var o=A(7451),v=A(3192),$=A(824),q=A(5033);let I=(()=>{class r{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return r.\u0275fac=function(e){return new(e||r)(o.\u0275\u0275directiveInject(o.Renderer2),o.\u0275\u0275directiveInject(o.ElementRef))},r.\u0275dir=o.\u0275\u0275defineDirective({type:r}),r})(),b=(()=>{class r extends I{}return r.\u0275fac=function(){let t;return function(i){return(t||(t=o.\u0275\u0275getInheritedFactory(r)))(i||r)}}(),r.\u0275dir=o.\u0275\u0275defineDirective({type:r,features:[o.\u0275\u0275InheritDefinitionFeature]}),r})();const k=new o.InjectionToken("NgValueAccessor"),L={provide:k,useExisting:(0,o.forwardRef)(()=>N),multi:!0};let N=(()=>{class r extends b{writeValue(e){this.setProperty("checked",e)}}return r.\u0275fac=function(){let t;return function(i){return(t||(t=o.\u0275\u0275getInheritedFactory(r)))(i||r)}}(),r.\u0275dir=o.\u0275\u0275defineDirective({type:r,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,i){1&e&&o.\u0275\u0275listener("change",function(u){return i.onChange(u.target.checked)})("blur",function(){return i.onTouched()})},features:[o.\u0275\u0275ProvidersFeature([L]),o.\u0275\u0275InheritDefinitionFeature]}),r})();const T={provide:k,useExisting:(0,o.forwardRef)(()=>te),multi:!0},Y=new o.InjectionToken("CompositionEventMode");let te=(()=>{class r extends I{constructor(e,i,a){super(e,i),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function x(){const r=(0,v.\u0275getDOM)()?(0,v.\u0275getDOM)().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return r.\u0275fac=function(e){return new(e||r)(o.\u0275\u0275directiveInject(o.Renderer2),o.\u0275\u0275directiveInject(o.ElementRef),o.\u0275\u0275directiveInject(Y,8))},r.\u0275dir=o.\u0275\u0275defineDirective({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&o.\u0275\u0275listener("input",function(u){return i._handleInput(u.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(u){return i._compositionEnd(u.target.value)})},features:[o.\u0275\u0275ProvidersFeature([T]),o.\u0275\u0275InheritDefinitionFeature]}),r})();function H(r){return null==r||0===r.length}function ie(r){return null!=r&&"number"==typeof r.length}const S=new o.InjectionToken("NgValidators"),P=new o.InjectionToken("NgAsyncValidators"),f=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class w{static min(t){return function n(r){return t=>{if(H(t.value)||H(r))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<r?{min:{min:r,actual:t.value}}:null}}(t)}static max(t){return function s(r){return t=>{if(H(t.value)||H(r))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>r?{max:{max:r,actual:t.value}}:null}}(t)}static required(t){return l(t)}static requiredTrue(t){return c(t)}static email(t){return function p(r){return H(r.value)||f.test(r.value)?null:{email:!0}}(t)}static minLength(t){return function y(r){return t=>H(t.value)||!ie(t.value)?null:t.value.length<r?{minlength:{requiredLength:r,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function h(r){return t=>ie(t.value)&&t.value.length>r?{maxlength:{requiredLength:r,actualLength:t.value.length}}:null}(t)}static pattern(t){return function d(r){if(!r)return m;let t,e;return"string"==typeof r?(e="","^"!==r.charAt(0)&&(e+="^"),e+=r,"$"!==r.charAt(r.length-1)&&(e+="$"),t=new RegExp(e)):(e=r.toString(),t=r),i=>{if(H(i.value))return null;const a=i.value;return t.test(a)?null:{pattern:{requiredPattern:e,actualValue:a}}}}(t)}static nullValidator(t){return null}static compose(t){return K(t)}static composeAsync(t){return J(t)}}function l(r){return H(r.value)?{required:!0}:null}function c(r){return!0===r.value?null:{required:!0}}function m(r){return null}function E(r){return null!=r}function D(r){const t=(0,o.\u0275isPromise)(r)?(0,$.from)(r):r;return(0,o.\u0275isObservable)(t),t}function C(r){let t={};return r.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function M(r,t){return t.map(e=>e(r))}function z(r){return r.map(t=>function U(r){return!r.validate}(t)?t:e=>t.validate(e))}function K(r){if(!r)return null;const t=r.filter(E);return 0==t.length?null:function(e){return C(M(e,t))}}function W(r){return null!=r?K(z(r)):null}function J(r){if(!r)return null;const t=r.filter(E);return 0==t.length?null:function(e){const i=M(e,t).map(D);return(0,$.forkJoin)(i).pipe((0,q.map)(C))}}function _(r){return null!=r?J(z(r)):null}function g(r,t){return null===r?[t]:Array.isArray(r)?[...r,t]:[r,t]}function R(r){return r._rawValidators}function O(r){return r._rawAsyncValidators}function Q(r){return r?Array.isArray(r)?r:[r]:[]}function X(r,t){return Array.isArray(r)?r.includes(t):r===t}function G(r,t){const e=Q(t);return Q(r).forEach(a=>{X(e,a)||e.push(a)}),e}function j(r,t){return Q(t).filter(e=>!X(r,e))}class he{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=W(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class F extends he{get formDirective(){return null}get path(){return null}}class Z extends he{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class We{constructor(t){this._cd=t}is(t){return"submitted"===t?!!this._cd?.submitted:!!this._cd?.control?.[t]}}let Ze=(()=>{class r extends We{constructor(e){super(e)}}return r.\u0275fac=function(e){return new(e||r)(o.\u0275\u0275directiveInject(Z,2))},r.\u0275dir=o.\u0275\u0275defineDirective({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&o.\u0275\u0275classProp("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[o.\u0275\u0275InheritDefinitionFeature]}),r})(),qe=(()=>{class r extends We{constructor(e){super(e)}}return r.\u0275fac=function(e){return new(e||r)(o.\u0275\u0275directiveInject(F,10))},r.\u0275dir=o.\u0275\u0275defineDirective({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&o.\u0275\u0275classProp("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[o.\u0275\u0275InheritDefinitionFeature]}),r})();function ue(r,t){return[...t.path,r]}function ne(r,t){De(r,t),t.valueAccessor.writeValue(r.value),function Rt(r,t){t.valueAccessor.registerOnChange(e=>{r._pendingValue=e,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&Ke(r,t)})}(r,t),function Ht(r,t){const e=(i,a)=>{t.valueAccessor.writeValue(i),a&&t.viewToModelUpdate(i)};r.registerOnChange(e),t._registerOnDestroy(()=>{r._unregisterOnChange(e)})}(r,t),function Tt(r,t){t.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&Ke(r,t),"submit"!==r.updateOn&&r.markAsTouched()})}(r,t),function Pt(r,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};r.registerOnDisabledChange(e),t._registerOnDestroy(()=>{r._unregisterOnDisabledChange(e)})}}(r,t)}function de(r,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),pe(r,t),r&&(t._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function fe(r,t){r.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function De(r,t){const e=R(r);null!==t.validator?r.setValidators(g(e,t.validator)):"function"==typeof e&&r.setValidators([e]);const i=O(r);null!==t.asyncValidator?r.setAsyncValidators(g(i,t.asyncValidator)):"function"==typeof i&&r.setAsyncValidators([i]);const a=()=>r.updateValueAndValidity();fe(t._rawValidators,a),fe(t._rawAsyncValidators,a)}function pe(r,t){let e=!1;if(null!==r){if(null!==t.validator){const a=R(r);if(Array.isArray(a)&&a.length>0){const u=a.filter(V=>V!==t.validator);u.length!==a.length&&(e=!0,r.setValidators(u))}}if(null!==t.asyncValidator){const a=O(r);if(Array.isArray(a)&&a.length>0){const u=a.filter(V=>V!==t.asyncValidator);u.length!==a.length&&(e=!0,r.setAsyncValidators(u))}}}const i=()=>{};return fe(t._rawValidators,i),fe(t._rawAsyncValidators,i),e}function Ke(r,t){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function Je(r,t){De(r,t)}function Xe(r,t){r._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function me(r,t){const e=r.indexOf(t);e>-1&&r.splice(e,1)}const se="VALID",ge="INVALID",re="PENDING",oe="DISABLED";function xe(r){return(Ne(r)?r.validators:r)||null}function Ye(r){return Array.isArray(r)?W(r):r||null}function Ie(r,t){return(Ne(t)?t.asyncValidators:r)||null}function Qe(r){return Array.isArray(r)?_(r):r||null}function Ne(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}const Oe=r=>r instanceof ve,_e=r=>r instanceof ae,et=r=>r instanceof Re;function tt(r){return Oe(r)?r.value:r.getRawValue()}function rt(r,t){const e=_e(r),i=r.controls;if(!(e?Object.keys(i):i).length)throw new o.\u0275RuntimeError(1e3,"");if(!i[t])throw new o.\u0275RuntimeError(1001,"")}function it(r,t){_e(r),r._forEachChild((i,a)=>{if(void 0===t[a])throw new o.\u0275RuntimeError(1002,"")})}class Pe{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Ye(this._rawValidators),this._composedAsyncValidatorFn=Qe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===se}get invalid(){return this.status===ge}get pending(){return this.status==re}get disabled(){return this.status===oe}get enabled(){return this.status!==oe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Ye(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Qe(t)}addValidators(t){this.setValidators(G(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(G(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(j(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(j(t,this._rawAsyncValidators))}hasValidator(t){return X(this._rawValidators,t)}hasAsyncValidator(t){return X(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=re,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=oe,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=se,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===se||this.status===re)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?oe:se}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=re,this._hasOwnPendingAsyncValidator=!0;const e=D(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function $t(r,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=r;return t.forEach(a=>{i=_e(i)?i.controls.hasOwnProperty(a)?i.controls[a]:null:et(i)&&i.at(a)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new o.EventEmitter,this.statusChanges=new o.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?oe:this.errors?ge:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(re)?re:this._anyControlsHaveStatus(ge)?ge:se}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ne(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ve extends Pe{constructor(t=null,e,i){super(xe(e),Ie(i,e)),this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){me(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){me(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class ae extends Pe{constructor(t,e,i){super(xe(e),Ie(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){it(this,t),Object.keys(t).forEach(i=>{rt(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,a)=>{i.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=tt(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((a,u)=>{i=e(i,a,u)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Re extends Pe{constructor(t,e,i){super(xe(e),Ie(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){it(this,t),t.forEach((i,a)=>{rt(this,a),this.at(a).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,a)=>{this.at(a)&&this.at(a).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,a)=>{i.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>tt(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Lt={provide:F,useExisting:(0,o.forwardRef)(()=>ye)},le=(()=>Promise.resolve(null))();let ye=(()=>{class r extends F{constructor(e,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new o.EventEmitter,this.form=new ae({},W(e),_(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){le.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),ne(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){le.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),me(this._directives,e)})}addFormGroup(e){le.then(()=>{const i=this._findContainer(e.path),a=new ae({});Je(a,e),i.registerControl(e.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){le.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){le.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Xe(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return r.\u0275fac=function(e){return new(e||r)(o.\u0275\u0275directiveInject(S,10),o.\u0275\u0275directiveInject(P,10))},r.\u0275dir=o.\u0275\u0275defineDirective({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&o.\u0275\u0275listener("submit",function(u){return i.onSubmit(u)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o.\u0275\u0275ProvidersFeature([Lt]),o.\u0275\u0275InheritDefinitionFeature]}),r})(),nt=(()=>{class r extends F{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ue(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return r.\u0275fac=function(){let t;return function(i){return(t||(t=o.\u0275\u0275getInheritedFactory(r)))(i||r)}}(),r.\u0275dir=o.\u0275\u0275defineDirective({type:r,features:[o.\u0275\u0275InheritDefinitionFeature]}),r})(),lt=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=o.\u0275\u0275defineDirective({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),r})(),ct=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=o.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=o.\u0275\u0275defineInjector({}),r})();const Te=new o.InjectionToken("NgModelWithFormControlWarning"),Xt={provide:F,useExisting:(0,o.forwardRef)(()=>Ce)};let Ce=(()=>{class r extends F{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.EventEmitter,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(pe(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return ne(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){de(e.control||null,e,!1),me(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,Xe(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,a=this.form.get(e.path);i!==a&&(de(i||null,e),Oe(a)&&(ne(a,e),e.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);Je(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Gt(r,t){return pe(r,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){De(this.form,this),this._oldForm&&pe(this._oldForm,this)}_checkFormPresent(){}}return r.\u0275fac=function(e){return new(e||r)(o.\u0275\u0275directiveInject(S,10),o.\u0275\u0275directiveInject(P,10))},r.\u0275dir=o.\u0275\u0275defineDirective({type:r,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&o.\u0275\u0275listener("submit",function(u){return i.onSubmit(u)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o.\u0275\u0275ProvidersFeature([Xt]),o.\u0275\u0275InheritDefinitionFeature,o.\u0275\u0275NgOnChangesFeature]}),r})();const Yt={provide:F,useExisting:(0,o.forwardRef)(()=>He)};let He=(()=>{class r extends nt{constructor(e,i,a){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(a)}_checkParentType(){pt(this._parent)}}return r.\u0275fac=function(e){return new(e||r)(o.\u0275\u0275directiveInject(F,13),o.\u0275\u0275directiveInject(S,10),o.\u0275\u0275directiveInject(P,10))},r.\u0275dir=o.\u0275\u0275defineDirective({type:r,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[o.\u0275\u0275ProvidersFeature([Yt]),o.\u0275\u0275InheritDefinitionFeature]}),r})();const Qt={provide:F,useExisting:(0,o.forwardRef)(()=>Me)};let Me=(()=>{class r extends F{constructor(e,i,a){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(a)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ue(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){pt(this._parent)}}return r.\u0275fac=function(e){return new(e||r)(o.\u0275\u0275directiveInject(F,13),o.\u0275\u0275directiveInject(S,10),o.\u0275\u0275directiveInject(P,10))},r.\u0275dir=o.\u0275\u0275defineDirective({type:r,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[o.\u0275\u0275ProvidersFeature([Qt]),o.\u0275\u0275InheritDefinitionFeature]}),r})();function pt(r){return!(r instanceof He||r instanceof Ce||r instanceof Me)}const er={provide:Z,useExisting:(0,o.forwardRef)(()=>Ge)};let Ge=(()=>{class r extends Z{constructor(e,i,a,u,V){super(),this._ngModelWarningConfig=V,this._added=!1,this.update=new o.EventEmitter,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(a),this.valueAccessor=function we(r,t){if(!t)return null;let e,i,a;return Array.isArray(t),t.forEach(u=>{u.constructor===te?e=u:function Bt(r){return Object.getPrototypeOf(r.constructor)===b}(u)?i=u:a=u}),a||i||e||null}(0,u)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function be(r,t){if(!r.hasOwnProperty("model"))return!1;const e=r.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return ue(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return r._ngModelWarningSentOnce=!1,r.\u0275fac=function(e){return new(e||r)(o.\u0275\u0275directiveInject(F,13),o.\u0275\u0275directiveInject(S,10),o.\u0275\u0275directiveInject(P,10),o.\u0275\u0275directiveInject(k,10),o.\u0275\u0275directiveInject(Te,8))},r.\u0275dir=o.\u0275\u0275defineDirective({type:r,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o.\u0275\u0275ProvidersFeature([er]),o.\u0275\u0275InheritDefinitionFeature,o.\u0275\u0275NgOnChangesFeature]}),r})();const tr={provide:k,useExisting:(0,o.forwardRef)(()=>ke),multi:!0};function mt(r,t){return null==r?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${r}: ${t}`.slice(0,50))}let ke=(()=>{class r extends b{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=this._getOptionId(e);null==i&&this.setProperty("selectedIndex",-1);const a=mt(i,e);this.setProperty("value",a)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function rr(r){return r.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return r.\u0275fac=function(){let t;return function(i){return(t||(t=o.\u0275\u0275getInheritedFactory(r)))(i||r)}}(),r.\u0275dir=o.\u0275\u0275defineDirective({type:r,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&o.\u0275\u0275listener("change",function(u){return i.onChange(u.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[o.\u0275\u0275ProvidersFeature([tr]),o.\u0275\u0275InheritDefinitionFeature]}),r})(),gt=(()=>{class r{constructor(e,i,a){this._element=e,this._renderer=i,this._select=a,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(mt(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(e){return new(e||r)(o.\u0275\u0275directiveInject(o.ElementRef),o.\u0275\u0275directiveInject(o.Renderer2),o.\u0275\u0275directiveInject(ke,9))},r.\u0275dir=o.\u0275\u0275defineDirective({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})();const ir={provide:k,useExisting:(0,o.forwardRef)(()=>je),multi:!0};function _t(r,t){return null==r?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${r}: ${t}`.slice(0,50))}let je=(()=>{class r extends b{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const a=e.map(u=>this._getOptionId(u));i=(u,V)=>{u._setSelected(a.indexOf(V.toString())>-1)}}else i=(a,u)=>{a._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const a=[],u=i.selectedOptions;if(void 0!==u){const V=u;for(let B=0;B<V.length;B++){const Le=this._getOptionValue(V[B].value);a.push(Le)}}else{const V=i.options;for(let B=0;B<V.length;B++){const Ve=V[B];if(Ve.selected){const Le=this._getOptionValue(Ve.value);a.push(Le)}}}this.value=a,e(a)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function nr(r){return r.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return r.\u0275fac=function(){let t;return function(i){return(t||(t=o.\u0275\u0275getInheritedFactory(r)))(i||r)}}(),r.\u0275dir=o.\u0275\u0275defineDirective({type:r,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&o.\u0275\u0275listener("change",function(u){return i.onChange(u.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[o.\u0275\u0275ProvidersFeature([ir]),o.\u0275\u0275InheritDefinitionFeature]}),r})(),vt=(()=>{class r{constructor(e,i,a){this._element=e,this._renderer=i,this._select=a,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(_t(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(_t(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(e){return new(e||r)(o.\u0275\u0275directiveInject(o.ElementRef),o.\u0275\u0275directiveInject(o.Renderer2),o.\u0275\u0275directiveInject(je,9))},r.\u0275dir=o.\u0275\u0275defineDirective({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})();const ar={provide:S,useExisting:(0,o.forwardRef)(()=>Be),multi:!0},lr={provide:S,useExisting:(0,o.forwardRef)(()=>$e),multi:!0};let Be=(()=>{class r{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?l(e):null}registerOnValidatorChange(e){this._onChange=e}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=o.\u0275\u0275defineDirective({type:r,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&o.\u0275\u0275attribute("required",i.required?"":null)},inputs:{required:"required"},features:[o.\u0275\u0275ProvidersFeature([ar])]}),r})(),$e=(()=>{class r extends Be{validate(e){return this.required?c(e):null}}return r.\u0275fac=function(){let t;return function(i){return(t||(t=o.\u0275\u0275getInheritedFactory(r)))(i||r)}}(),r.\u0275dir=o.\u0275\u0275defineDirective({type:r,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&o.\u0275\u0275attribute("required",i.required?"":null)},features:[o.\u0275\u0275ProvidersFeature([lr]),o.\u0275\u0275InheritDefinitionFeature]}),r})(),Dt=179==A.j?(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=o.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=o.\u0275\u0275defineInjector({imports:[[ct]]}),r})():null,fr=179==A.j?(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=o.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=o.\u0275\u0275defineInjector({imports:[Dt]}),r})():null,bt=179==A.j?(()=>{class r{static withConfig(e){return{ngModule:r,providers:[{provide:Te,useValue:e.warnOnNgModelWithFormControl}]}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=o.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=o.\u0275\u0275defineInjector({imports:[Dt]}),r})():null,mr=179==A.j?(()=>{class r{group(e,i=null){const a=this._reduceControls(e);let B,u=null,V=null;return null!=i&&(function pr(r){return void 0!==r.asyncValidators||void 0!==r.validators||void 0!==r.updateOn}(i)?(u=null!=i.validators?i.validators:null,V=null!=i.asyncValidators?i.asyncValidators:null,B=null!=i.updateOn?i.updateOn:void 0):(u=null!=i.validator?i.validator:null,V=null!=i.asyncValidator?i.asyncValidator:null)),new ae(a,{asyncValidators:V,updateOn:B,validators:u})}control(e,i,a){return new ve(e,i,a)}array(e,i,a){const u=e.map(V=>this._createControl(V));return new Re(u,i,a)}_reduceControls(e){const i={};return Object.keys(e).forEach(a=>{i[a]=this._createControl(e[a])}),i}_createControl(e){return Oe(e)||_e(e)||et(e)?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=o.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:bt}),r})():null},7734:(Ue,ee,A)=>{A.r(ee),A.d(ee,{INITIAL_CONFIG:()=>k,MaskApplierService:()=>x,MaskDirective:()=>te,MaskPipe:()=>H,MaskService:()=>Y,NEW_CONFIG:()=>b,NgxMaskModule:()=>S,_configFactory:()=>ie,config:()=>I,initialConfig:()=>L,timeMasks:()=>N,withoutValidation:()=>T});var o=A(8239),v=A(7451),$=A(92),q=A(3192);const I=new v.InjectionToken("config"),b=new v.InjectionToken("NEW_CONFIG"),k=new v.InjectionToken("INITIAL_CONFIG"),L={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:[".",","],clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},N=["Hh:m0:s0","Hh:m0","m0:s0"],T=["percent","Hh","s0","m0","separator","d0/M0/0000","d0/M0","d0","M0"];let x=(()=>{class f{constructor(n){this._config=n,this.maskExpression="",this.actualValue="",this.shownMaskExpression="",this._formatWithSeparators=(s,l,c,p)=>{let y=[],h="";if(Array.isArray(c)){const C=new RegExp(c.map(M=>"[\\^$.|?*+()".indexOf(M)>=0?`\\${M}`:M).join("|"));y=s.split(C),h=s.match(C)?.[0]??""}else y=s.split(c),h=c;const d=y.length>1?`${h}${y[1]}`:"";let m=y[0];const E=this.separatorLimit.replace(/\s/g,"");E&&+E&&(m="-"===m[0]?`-${m.slice(1,m.length).slice(0,E.length)}`:m.slice(0,E.length));const D=/(\d+)(\d{3})/;for(;l&&D.test(m);)m=m.replace(D,"$1"+l+"$2");return void 0===p?m+d:0===p?m:m+d.substr(0,p+1)},this.percentage=s=>Number(s)>=0&&Number(s)<=100,this.getPrecision=s=>{const l=s.split(".");return l.length>1?Number(l[l.length-1]):1/0},this.checkAndRemoveSuffix=s=>{for(let l=this.suffix?.length-1;l>=0;l--){const c=this.suffix.substr(l,this.suffix?.length);if(s.includes(c)&&(l-1<0||!s.includes(this.suffix.substr(l-1,this.suffix?.length))))return s.replace(c,"")}return s},this.checkInputPrecision=(s,l,c)=>{if(l<1/0){if(Array.isArray(c)){const h=c.find(d=>d!==this.thousandSeparator);c=h||c[0]}const p=new RegExp(this._charToRegExpExpression(c)+`\\d{${l}}.*$`),y=s.match(p);y&&y[0].length-1>l&&(s=s.substring(0,s.length-(y[0].length-1-l))),0===l&&this._compareOrIncludes(s[s.length-1],c,this.thousandSeparator)&&(s=s.substring(0,s.length-1))}return s},this._shift=new Set,this.clearIfNotMatch=this._config.clearIfNotMatch,this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.maskSpecialCharacters=this._config.specialCharacters,this.maskAvailablePatterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.hiddenInput=this._config.hiddenInput,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime}applyMaskWithPattern(n,s){const[l,c]=s;return this.customPattern=c,this.applyMask(n,l)}applyMask(n,s,l=0,c=!1,p=!1,y=(()=>{})){if(!s||"string"!=typeof n)return"";let h=0,d="",m=!1,E=!1,D=1,C=!1;n.slice(0,this.prefix.length)===this.prefix&&(n=n.slice(this.prefix.length,n.length)),this.suffix&&n?.length>0&&(n=this.checkAndRemoveSuffix(n));const M=n.toString().split("");"IP"===s&&(this.ipError=M.filter(_=>"."===_).length<3&&M.length<7,s="099.099.099.099");const U=[];for(let _=0;_<n.length;_++)n[_]?.match("\\d")&&U.push(n[_]);if("CPF_CNPJ"===s&&(this.cpfCnpjError=11!==U.length&&14!==U.length,s=U.length>11?"00.000.000/0000-00":"000.000.000-00"),s.startsWith("percent")){if(n.match("[a-z]|[A-Z]")||n.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)){n=this._stripToDecimal(n);const _=this.getPrecision(s);n=this.checkInputPrecision(n,_,this.decimalMarker)}n.indexOf(".")>0&&!this.percentage(n.substring(0,n.indexOf(".")))&&(n=`${n.substring(0,n.indexOf(".")-1)}${n.substring(n.indexOf("."),n.length)}`),d=this.percentage(n)?n:n.substring(0,n.length-1)}else if(s.startsWith("separator")){(n.match("[w\u0430-\u044f\u0410-\u042f]")||n.match("[\u0401\u0451\u0410-\u044f]")||n.match("[a-z]|[A-Z]")||n.match(/[-@#!$%\\^&*()_\xa3\xac'+|~=`{}\[\]:";<>.?\/]/)||n.match("[^A-Za-z0-9,]"))&&(n=this._stripToDecimal(n)),n=n.length>1&&"0"===n[0]&&!this._compareOrIncludes(n[1],this.decimalMarker,this.thousandSeparator)&&!p?n.slice(1,n.length):n,p&&(n=this._compareOrIncludes(n[n.length-1],this.decimalMarker,this.thousandSeparator)?n.slice(0,n.length-1):n);const _=this._charToRegExpExpression(this.thousandSeparator);let g='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(_,"");if(Array.isArray(this.decimalMarker))for(const j of this.decimalMarker)g=g.replace(this._charToRegExpExpression(j),"");else g=g.replace(this._charToRegExpExpression(this.decimalMarker),"");const R=new RegExp("["+g+"]");(n.match(R)||1===n.length&&this._compareOrIncludes(n,this.decimalMarker,this.thousandSeparator))&&(n=n.substring(0,n.length-1));const O=this.getPrecision(s),Q=(n=this.checkInputPrecision(n,O,this.decimalMarker)).replace(new RegExp(_,"g"),"");d=this._formatWithSeparators(Q,this.thousandSeparator,this.decimalMarker,O);const X=d.indexOf(",")-n.indexOf(","),G=d.length-n.length;if(G>0&&","!==d[l]){E=!0;let j=0;do{this._shift.add(l+j),j++}while(j<G)}else 0!==X&&l>0&&!(d.indexOf(",")>=l&&l>3)||!(d.indexOf(".")>=l&&l>3)&&G<=0?(this._shift.clear(),E=!0,D=G,this._shift.add(l+=G)):this._shift.clear()}else for(let _=0,g=M[0];_<M.length&&h!==s.length;_++,g=M[_])if(this._checkSymbolMask(g,s[h])&&"?"===s[h+1])d+=g,h+=2;else if("*"===s[h+1]&&m&&this._checkSymbolMask(g,s[h+2]))d+=g,h+=3,m=!1;else if(this._checkSymbolMask(g,s[h])&&"*"===s[h+1])d+=g,m=!0;else if("?"===s[h+1]&&this._checkSymbolMask(g,s[h+2]))d+=g,h+=3;else if(this._checkSymbolMask(g,s[h])){if("H"===s[h]&&Number(g)>2){h+=1,this._shiftStep(s,h,M.length),_--,this.leadZeroDateTime&&(d+="0");continue}if("h"===s[h]&&"2"===d&&Number(g)>3){h+=1,_--;continue}if("m"===s[h]&&Number(g)>5){h+=1,this._shiftStep(s,h,M.length),_--,this.leadZeroDateTime&&(d+="0");continue}if("s"===s[h]&&Number(g)>5){h+=1,this._shiftStep(s,h,M.length),_--,this.leadZeroDateTime&&(d+="0");continue}const R=31;if("d"===s[h]&&(Number(g)>3&&this.leadZeroDateTime||Number(n.slice(h,h+2))>R||"/"===n[h+1])){h+=1,this._shiftStep(s,h,M.length),_--,this.leadZeroDateTime&&(d+="0");continue}if("M"===s[h]){const O=12,Q=0===h&&(Number(g)>2||Number(n.slice(h,h+2))>O||"/"===n[h+1]),X=n.slice(h-3,h-1).includes("/")&&("/"===n[h-2]&&Number(n.slice(h-1,h+1))>O&&"/"!==n[h]||"/"===n[h]||"/"===n[h-3]&&Number(n.slice(h-2,h))>O&&"/"!==n[h-1]||"/"===n[h-1]),G=Number(n.slice(h-3,h-1))<=R&&!n.slice(h-3,h-1).includes("/")&&"/"===n[h-1]&&(Number(n.slice(h,h+2))>O||"/"===n[h+1]),j=Number(n.slice(h-3,h-1))>R&&!n.slice(h-3,h-1).includes("/")&&!n.slice(h-2,h).includes("/")&&Number(n.slice(h-2,h))>O,he=Number(n.slice(h-3,h-1))<=R&&!n.slice(h-3,h-1).includes("/")&&"/"!==n[h-1]&&Number(n.slice(h-1,h+1))>O;if(Number(g)>1&&this.leadZeroDateTime||Q||X||G||j||he){h+=1,this._shiftStep(s,h,M.length),_--,this.leadZeroDateTime&&(d+="0");continue}}d+=g,h++}else-1!==this.maskSpecialCharacters.indexOf(s[h])?(d+=s[h],h++,this._shiftStep(s,h,M.length),_--):this.maskSpecialCharacters.indexOf(g)>-1&&this.maskAvailablePatterns[s[h]]&&this.maskAvailablePatterns[s[h]]?.optional?(!!M[h]&&"099.099.099.099"!==s&&"000.000.000-00"!==s&&"00.000.000/0000-00"!==s&&(d+=M[h]),h++,_--):"*"===this.maskExpression[h+1]&&this._findSpecialChar(this.maskExpression[h+2])&&this._findSpecialChar(g)===this.maskExpression[h+2]&&m||"?"===this.maskExpression[h+1]&&this._findSpecialChar(this.maskExpression[h+2])&&this._findSpecialChar(g)===this.maskExpression[h+2]&&m?(h+=3,d+=g):this.showMaskTyped&&this.maskSpecialCharacters.indexOf(g)<0&&g!==this.placeHolderCharacter&&(C=!0);d.length+1===s.length&&-1!==this.maskSpecialCharacters.indexOf(s[s.length-1])&&(d+=s[s.length-1]);let z=l+1;for(;this._shift.has(z);)D++,z++;let K=c?h:this._shift.has(l)?D:0;C&&K--,y(K,E),D<0&&this._shift.clear();let W=!1;p&&(W=M.every(_=>this.maskSpecialCharacters.includes(_)));let J=`${this.prefix}${W?"":d}${this.suffix}`;return 0===d.length&&(J=`${this.prefix}${d}`),J}_findSpecialChar(n){return this.maskSpecialCharacters.find(s=>s===n)}_checkSymbolMask(n,s){return this.maskAvailablePatterns=this.customPattern?this.customPattern:this.maskAvailablePatterns,this.maskAvailablePatterns[s]&&this.maskAvailablePatterns[s].pattern&&this.maskAvailablePatterns[s].pattern.test(n)}_stripToDecimal(n){return n.split("").filter((s,l)=>s.match("^-?\\d")||s.match("\\s")||"."===s||","===s||"-"===s&&0===l&&this.allowNegativeNumbers).join("")}_charToRegExpExpression(n){return n&&(" "===n?"\\s":"[\\^$.|?*+()".indexOf(n)>=0?`\\${n}`:n)}_shiftStep(n,s,l){const c=/[*?]/g.test(n.slice(0,s))?l:s;this._shift.add(c+this.prefix.length||0)}_compareOrIncludes(n,s,l){return Array.isArray(s)?s.filter(c=>c!==l).includes(n):n===s}}return f.\u0275fac=function(n){return new(n||f)(v.\u0275\u0275inject(I))},f.\u0275prov=v.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac}),f})(),Y=(()=>{class f extends x{constructor(n,s,l,c){super(s),this.document=n,this._config=s,this._elementRef=l,this._renderer=c,this.maskExpression="",this.isNumberValue=!1,this.placeHolderCharacter="_",this.maskIsShown="",this.selStart=null,this.selEnd=null,this.writingValue=!1,this.maskChanged=!1,this.onChange=p=>{}}applyMask(n,s,l=0,c=!1,p=!1,y=(()=>{})){if(!s)return n;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():"","IP"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(n||"#")),"CPF_CNPJ"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(n||"#")),!n&&this.showMaskTyped)return this.formControlResult(this.prefix),this.prefix+this.maskIsShown;const h=n&&"number"==typeof this.selStart?n[this.selStart]:"";let d="";if(this.hiddenInput&&!this.writingValue){let C=this.actualValue.split("");""!==n&&C.length?"number"==typeof this.selStart&&"number"==typeof this.selEnd&&(n.length>C.length?C.splice(this.selStart,0,h):n.length<C.length&&(C.length-n.length==1?C.splice(this.selStart-1,1):C.splice(this.selStart,this.selEnd-this.selStart))):C=[],this.showMaskTyped&&(n=this.removeMask(n)),d=this.actualValue.length&&C.length<=n.length?this.shiftTypedSymbols(C.join("")):n}d=Boolean(d)&&d.length?d:n;const m=super.applyMask(d,s,l,c,p,y);if(this.actualValue=this.getActualValue(m),"."===this.thousandSeparator&&"."===this.decimalMarker&&(this.decimalMarker=","),this.maskExpression.startsWith("separator")&&!0===this.dropSpecialCharacters&&(this.maskSpecialCharacters=this.maskSpecialCharacters.filter(C=>!this._compareOrIncludes(C,this.decimalMarker,this.thousandSeparator))),this.formControlResult(m),!this.showMaskTyped)return this.hiddenInput&&m&&m.length?this.hideInput(m,this.maskExpression):m;const E=m.length,D=this.prefix+this.maskIsShown;if(this.maskExpression.includes("H")){const C=this._numberSkipedSymbols(m);return m+D.slice(E+C)}return"IP"===this.maskExpression||"CPF_CNPJ"===this.maskExpression?m+D:m+D.slice(E)}_numberSkipedSymbols(n){const s=/(^|\D)(\d\D)/g;let l=s.exec(n),c=0;for(;null!=l;)c+=1,l=s.exec(n);return c}applyValueChanges(n=0,s,l,c=(()=>{})){const p=this._elementRef.nativeElement;p.value=this.applyMask(p.value,this.maskExpression,n,s,l,c),p!==this.document.activeElement&&this.clearIfNotMatchFn()}hideInput(n,s){return n.split("").map((l,c)=>this.maskAvailablePatterns&&this.maskAvailablePatterns[s[c]]&&this.maskAvailablePatterns[s[c]]?.symbol?this.maskAvailablePatterns[s[c]]?.symbol:l).join("")}getActualValue(n){const s=n.split("").filter((l,c)=>this._checkSymbolMask(l,this.maskExpression[c])||this.maskSpecialCharacters.includes(this.maskExpression[c])&&l===this.maskExpression[c]);return s.join("")===n?s.join(""):n}shiftTypedSymbols(n){let s="";return(n&&n.split("").map((c,p)=>{if(this.maskSpecialCharacters.includes(n[p+1])&&n[p+1]!==this.maskExpression[p+1])return s=c,n[p+1];if(s.length){const y=s;return s="",y}return c})||[]).join("")}showMaskInInput(n){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}if(this.showMaskTyped){if(n){if("IP"===this.maskExpression)return this._checkForIp(n);if("CPF_CNPJ"===this.maskExpression)return this._checkForCpfCnpj(n)}return this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){const n=this._elementRef.nativeElement;this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==n.value.replace(/_/g,"").length&&(this.formElementProperty=["value",""],this.applyMask(n.value,this.maskExpression))}set formElementProperty([n,s]){Promise.resolve().then(()=>this._renderer.setProperty(this._elementRef.nativeElement,n,s))}checkSpecialCharAmount(n){return n.split("").filter(l=>this._findSpecialChar(l)).length}removeMask(n){return this._removeMask(this._removeSuffix(this._removePrefix(n)),this.maskSpecialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(n){if("#"===n)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;const s=[];for(let l=0;l<n.length;l++)n[l]?.match("\\d")&&s.push(n[l]);return s.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:s.length>3&&s.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:s.length>6&&s.length<=9?this.placeHolderCharacter:""}_checkForCpfCnpj(n){const s=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,l=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if("#"===n)return s;const c=[];for(let p=0;p<n.length;p++)n[p]?.match("\\d")&&c.push(n[p]);return c.length<=3?s.slice(c.length,s.length):c.length>3&&c.length<=6?s.slice(c.length+1,s.length):c.length>6&&c.length<=9?s.slice(c.length+2,s.length):c.length>9&&c.length<11?s.slice(c.length+3,s.length):11===c.length?"":12===c.length?l.slice(17===n.length?16:15,l.length):c.length>12&&c.length<=14?l.slice(c.length+4,l.length):""}formControlResult(n){this.writingValue||this.maskChanged?this.maskChanged=!1:Array.isArray(this.dropSpecialCharacters)?this.onChange(this._toNumber(this._removeMask(this._removeSuffix(this._removePrefix(n)),this.dropSpecialCharacters))):this.onChange(this.dropSpecialCharacters?this._toNumber(this._checkSymbols(n)):this._removeSuffix(n))}_toNumber(n){if(!this.isNumberValue||""===n)return n;const s=Number(n);return Number.isNaN(s)?n:s}_removeMask(n,s){return n&&n.replace(this._regExpForRemove(s),"")}_removePrefix(n){return this.prefix?n&&n.replace(this.prefix,""):n}_removeSuffix(n){return this.suffix?n&&n.replace(this.suffix,""):n}_retrieveSeparatorValue(n){return this._removeMask(this._removeSuffix(this._removePrefix(n)),this.maskSpecialCharacters)}_regExpForRemove(n){return new RegExp(n.map(s=>`\\${s}`).join("|"),"gi")}_checkSymbols(n){if(""===n)return n;const s=this._retrieveSeparatorPrecision(this.maskExpression);let l=this._retrieveSeparatorValue(n);return"."!==this.decimalMarker&&!Array.isArray(this.decimalMarker)&&(l=l.replace(this.decimalMarker,".")),this.isNumberValue?s?n===this.decimalMarker?null:this._checkPrecision(this.maskExpression,l):Number(l):l}_retrieveSeparatorPrecision(n){const s=n.match(new RegExp("^separator\\.([^d]*)"));return s?Number(s[1]):null}_checkPrecision(n,s){return n.indexOf("2")>0?Number(s).toFixed(2):Number(s)}}return f.\u0275fac=function(n){return new(n||f)(v.\u0275\u0275inject(q.DOCUMENT),v.\u0275\u0275inject(I),v.\u0275\u0275inject(v.ElementRef),v.\u0275\u0275inject(v.Renderer2))},f.\u0275prov=v.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac}),f})(),te=(()=>{class f{constructor(n,s,l){this.document=n,this._maskService=s,this._config=l,this.maskExpression="",this.specialCharacters=[],this.patterns={},this.prefix="",this.suffix="",this.thousandSeparator=" ",this.decimalMarker=".",this.dropSpecialCharacters=null,this.hiddenInput=null,this.showMaskTyped=null,this.placeHolderCharacter=null,this.shownMaskExpression=null,this.showTemplate=null,this.clearIfNotMatch=null,this.validation=null,this.separatorLimit=null,this.allowNegativeNumbers=null,this.leadZeroDateTime=null,this._maskValue="",this._position=null,this._maskExpressionArray=[],this._justPasted=!1,this.onChange=c=>{},this.onTouch=()=>{}}ngOnChanges(n){const{maskExpression:s,specialCharacters:l,patterns:c,prefix:p,suffix:y,thousandSeparator:h,decimalMarker:d,dropSpecialCharacters:m,hiddenInput:E,showMaskTyped:D,placeHolderCharacter:C,shownMaskExpression:M,showTemplate:U,clearIfNotMatch:z,validation:K,separatorLimit:W,allowNegativeNumbers:J,leadZeroDateTime:_}=n;if(s&&(s.currentValue!==s.previousValue&&!s.firstChange&&(this._maskService.maskChanged=!0),s.currentValue&&s.currentValue.split("||").length>1?(this._maskExpressionArray=s.currentValue.split("||").sort((g,R)=>g.length-R.length),this._maskValue=this._maskExpressionArray[0],this.maskExpression=this._maskExpressionArray[0],this._maskService.maskExpression=this._maskExpressionArray[0]):(this._maskExpressionArray=[],this._maskValue=s.currentValue||"",this._maskService.maskExpression=this._maskValue)),l){if(!l.currentValue||!Array.isArray(l.currentValue))return;this._maskService.maskSpecialCharacters=l.currentValue||[]}c&&c.currentValue&&(this._maskService.maskAvailablePatterns=c.currentValue),p&&(this._maskService.prefix=p.currentValue),y&&(this._maskService.suffix=y.currentValue),h&&(this._maskService.thousandSeparator=h.currentValue),d&&(this._maskService.decimalMarker=d.currentValue),m&&(this._maskService.dropSpecialCharacters=m.currentValue),E&&(this._maskService.hiddenInput=E.currentValue),D&&(this._maskService.showMaskTyped=D.currentValue),C&&(this._maskService.placeHolderCharacter=C.currentValue),M&&(this._maskService.shownMaskExpression=M.currentValue),U&&(this._maskService.showTemplate=U.currentValue),z&&(this._maskService.clearIfNotMatch=z.currentValue),K&&(this._maskService.validation=K.currentValue),W&&(this._maskService.separatorLimit=W.currentValue),J&&(this._maskService.allowNegativeNumbers=J.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.maskSpecialCharacters=this._maskService.maskSpecialCharacters.filter(g=>"-"!==g))),_&&(this._maskService.leadZeroDateTime=_.currentValue),this._applyMask()}validate({value:n}){if(!this._maskService.validation||!this._maskValue)return null;if(this._maskService.ipError)return this._createValidationError(n);if(this._maskService.cpfCnpjError)return this._createValidationError(n);if(this._maskValue.startsWith("separator")||T.includes(this._maskValue)||this._maskService.clearIfNotMatch)return null;if(N.includes(this._maskValue))return this._validateTime(n);if(n&&n.toString().length>=1){let s=0;for(const l in this._maskService.maskAvailablePatterns)if(this._maskService.maskAvailablePatterns[l].optional&&(this._maskValue.indexOf(l)!==this._maskValue.lastIndexOf(l)?s+=this._maskValue.split("").filter(p=>p===l).join("").length:-1!==this._maskValue.indexOf(l)&&s++,-1!==this._maskValue.indexOf(l)&&n.toString().length>=this._maskValue.indexOf(l)||s===this._maskValue.length))return null;if(1===this._maskValue.indexOf("{")&&n.toString().length===this._maskValue.length+Number(this._maskValue.split("{")[1].split("}")[0])-4||1===this._maskValue.indexOf("*")||1===this._maskValue.indexOf("?"))return null;if(this._maskValue.indexOf("*")>1&&n.toString().length<this._maskValue.indexOf("*")||this._maskValue.indexOf("?")>1&&n.toString().length<this._maskValue.indexOf("?")||1===this._maskValue.indexOf("{"))return this._createValidationError(n);if(-1===this._maskValue.indexOf("*")||-1===this._maskValue.indexOf("?")){const l=this._maskService.dropSpecialCharacters?this._maskValue.length-this._maskService.checkSpecialCharAmount(this._maskValue)-s:this._maskValue.length-s;if(n.toString().length<l)return this._createValidationError(n)}}return null}onPaste(){this._justPasted=!0}onModelChange(n){!n&&this._maskService.actualValue&&(this._maskService.actualValue=this._maskService.getActualValue(""))}onInput(n){const s=n.target;if(this._inputValue=s.value,this._setMask(),!this._maskValue)return void this.onChange(s.value);const l=1===s.selectionStart?s.selectionStart+this._maskService.prefix.length:s.selectionStart;let c=0,p=!1;if(this._maskService.applyValueChanges(l,this._justPasted,"Backspace"===this._code||"Delete"===this._code,(h,d)=>{this._justPasted=!1,c=h,p=d}),this.document.activeElement!==s)return;this._position=1===this._position&&1===this._inputValue.length?null:this._position;let y=this._position?this._inputValue.length+l+c:l+("Backspace"!==this._code||p?c:0);y>this._getActualInputLength()&&(y=this._getActualInputLength()),y<0&&(y=0),s.setSelectionRange(y,y),this._position=null}onBlur(){this._maskValue&&this._maskService.clearIfNotMatchFn(),this.onTouch()}onClick(n){if(!this._maskValue)return;const s=n.target;null!==s&&null!==s.selectionStart&&s.selectionStart===s.selectionEnd&&s.selectionStart>this._maskService.prefix.length&&38!==n.keyCode&&this._maskService.showMaskTyped&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),s.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===s.value?(s.focus(),s.setSelectionRange(0,0)):s.selectionStart>this._maskService.actualValue.length&&s.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));const p=s.value&&s.value!==this._maskService.prefix?s.value:this._maskService.prefix+this._maskService.maskIsShown;s.value!==p&&(s.value=p),(s.selectionStart||s.selectionEnd)<=this._maskService.prefix.length?s.selectionStart=this._maskService.prefix.length:s.selectionEnd>this._getActualInputLength()&&(s.selectionEnd=this._getActualInputLength())}onKeyDown(n){if(!this._maskValue)return;this._code=n.code?n.code:n.key;const s=n.target;if(this._inputValue=s.value,this._setMask(),38===n.keyCode&&n.preventDefault(),37===n.keyCode||8===n.keyCode||46===n.keyCode){if(8===n.keyCode&&0===s.value.length&&(s.selectionStart=s.selectionEnd),8===n.keyCode&&0!==s.selectionStart)if(this.specialCharacters=this.specialCharacters?.length?this.specialCharacters:this._config.specialCharacters,this.prefix.length>1&&s.selectionStart<=this.prefix.length)s.setSelectionRange(this.prefix.length,s.selectionEnd);else if(this._inputValue.length!==s.selectionStart&&1!==s.selectionStart)for(;this.specialCharacters.includes(this._inputValue[s.selectionStart-1].toString())&&(this.prefix.length>=1&&s.selectionStart>this.prefix.length||0===this.prefix.length);)s.setSelectionRange(s.selectionStart-1,s.selectionEnd);this.checkSelectionOnDeletion(s),this._maskService.prefix.length&&s.selectionStart<=this._maskService.prefix.length&&s.selectionEnd<=this._maskService.prefix.length&&n.preventDefault();const l=s.selectionStart;8===n.keyCode&&!s.readOnly&&0===l&&s.selectionEnd===s.value.length&&0!==s.value.length&&(this._position=this._maskService.prefix?this._maskService.prefix.length:0,this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position))}this.suffix&&this.suffix.length>1&&this._inputValue.length-this.suffix.length<s.selectionStart?s.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length):(65===n.keyCode&&n.ctrlKey||65===n.keyCode&&n.metaKey)&&(s.setSelectionRange(0,this._getActualInputLength()),n.preventDefault()),this._maskService.selStart=s.selectionStart,this._maskService.selEnd=s.selectionEnd}writeValue(n){var s=this;return(0,o.Z)(function*(){"object"==typeof n&&null!==n&&"value"in n&&("disable"in n&&s.setDisabledState(Boolean(n.disable)),n=n.value),"number"==typeof n&&(n=String(n),Array.isArray(s.decimalMarker)||(n="."!==s.decimalMarker?n.replace(".",s.decimalMarker):n),s._maskService.isNumberValue=!0),"string"!=typeof n&&(n=""),s._inputValue=n,s._setMask(),n&&s._maskService.maskExpression||s._maskService.maskExpression&&(s._maskService.prefix||s._maskService.showMaskTyped)?(s._maskService.writingValue=!0,s._maskService.formElementProperty=["value",s._maskService.applyMask(n,s._maskService.maskExpression)],s._maskService.writingValue=!1):s._maskService.formElementProperty=["value",n],s._inputValue=n})()}registerOnChange(n){this.onChange=n,this._maskService.onChange=this.onChange}registerOnTouched(n){this.onTouch=n}checkSelectionOnDeletion(n){n.selectionStart=Math.min(Math.max(this.prefix.length,n.selectionStart),this._inputValue.length-this.suffix.length),n.selectionEnd=Math.min(Math.max(this.prefix.length,n.selectionEnd),this._inputValue.length-this.suffix.length)}setDisabledState(n){this._maskService.formElementProperty=["disabled",n]}_repeatPatternSymbols(n){return n.match(/{[0-9]+}/)&&n.split("").reduce((s,l,c)=>{if(this._start="{"===l?c:this._start,"}"!==l)return this._maskService._findSpecialChar(l)?s+l:s;this._end=c;const p=Number(n.slice(this._start+1,this._end));return s+new Array(p+1).join(n[this._start-1])},"")||n}_applyMask(){this._maskService.maskExpression=this._repeatPatternSymbols(this._maskValue||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue,this._maskService.maskExpression)]}_validateTime(n){const s=this._maskValue.split("").filter(l=>":"!==l).length;return n&&(0==+n[n.length-1]&&n.length<s||n.length<=s-2)?this._createValidationError(n):null}_getActualInputLength(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}_createValidationError(n){return{mask:{requiredMask:this._maskValue,actualValue:n}}}_setMask(){this._maskExpressionArray.length>0&&this._maskExpressionArray.some(n=>{const s=this._maskService.removeMask(this._inputValue)?.length<=this._maskService.removeMask(n)?.length;if(this._inputValue&&s)return this._maskValue=n,this.maskExpression=n,this._maskService.maskExpression=n,s;this._maskValue=this._maskExpressionArray[this._maskExpressionArray.length-1],this.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1],this._maskService.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1]})}}return f.\u0275fac=function(n){return new(n||f)(v.\u0275\u0275directiveInject(q.DOCUMENT),v.\u0275\u0275directiveInject(Y),v.\u0275\u0275directiveInject(I))},f.\u0275dir=v.\u0275\u0275defineDirective({type:f,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function(n,s){1&n&&v.\u0275\u0275listener("paste",function(){return s.onPaste()})("ngModelChange",function(c){return s.onModelChange(c)})("input",function(c){return s.onInput(c)})("blur",function(){return s.onBlur()})("click",function(c){return s.onClick(c)})("keydown",function(c){return s.onKeyDown(c)})},inputs:{maskExpression:["mask","maskExpression"],specialCharacters:"specialCharacters",patterns:"patterns",prefix:"prefix",suffix:"suffix",thousandSeparator:"thousandSeparator",decimalMarker:"decimalMarker",dropSpecialCharacters:"dropSpecialCharacters",hiddenInput:"hiddenInput",showMaskTyped:"showMaskTyped",placeHolderCharacter:"placeHolderCharacter",shownMaskExpression:"shownMaskExpression",showTemplate:"showTemplate",clearIfNotMatch:"clearIfNotMatch",validation:"validation",separatorLimit:"separatorLimit",allowNegativeNumbers:"allowNegativeNumbers",leadZeroDateTime:"leadZeroDateTime"},features:[v.\u0275\u0275ProvidersFeature([{provide:$.JU,useExisting:(0,v.forwardRef)(()=>f),multi:!0},{provide:$.Cf,useExisting:(0,v.forwardRef)(()=>f),multi:!0},Y]),v.\u0275\u0275NgOnChangesFeature]}),f})(),H=(()=>{class f{constructor(n){this._maskService=n}transform(n,s,l=null){return n||"number"==typeof n?(l&&(this._maskService.thousandSeparator=l),"string"==typeof s?this._maskService.applyMask(`${n}`,s):this._maskService.applyMaskWithPattern(`${n}`,s)):""}}return f.\u0275fac=function(n){return new(n||f)(v.\u0275\u0275directiveInject(x,16))},f.\u0275pipe=v.\u0275\u0275definePipe({name:"mask",type:f,pure:!0}),f})();function ie(f,w){return w instanceof Function?{...f,...w()}:{...f,...w}}let S=(()=>{class f{static forRoot(n){return{ngModule:f,providers:[{provide:b,useValue:n},{provide:k,useValue:L},{provide:I,useFactory:ie,deps:[k,b]},x]}}static forChild(){return{ngModule:f}}}return f.\u0275fac=function(n){return new(n||f)},f.\u0275mod=v.\u0275\u0275defineNgModule({type:f}),f.\u0275inj=v.\u0275\u0275defineInjector({}),f})();const P="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};P.KeyboardEvent||(P.KeyboardEvent=function(f,w){})},8239:(Ue,ee,A)=>{function o($,q,I,b,k,L,N){try{var T=$[L](N),x=T.value}catch(Y){return void I(Y)}T.done?q(x):Promise.resolve(x).then(b,k)}function v($){return function(){var q=this,I=arguments;return new Promise(function(b,k){var L=$.apply(q,I);function N(x){o(L,b,k,N,T,"next",x)}function T(x){o(L,b,k,N,T,"throw",x)}N(void 0)})}}A.d(ee,{Z:()=>v})}}]);
(self.webpackChunkmfComponents=self.webpackChunkmfComponents||[]).push([[537],{4537:(eE,yl,hr)=>{hr.r(yl),hr.d(yl,{ANALYZE_FOR_ENTRY_COMPONENTS:()=>fm,APP_BOOTSTRAP_LISTENER:()=>Ah,APP_ID:()=>Th,APP_INITIALIZER:()=>qa,ApplicationInitStatus:()=>_n,ApplicationModule:()=>UC,ApplicationRef:()=>fr,Attribute:()=>mc,COMPILER_OPTIONS:()=>Lh,CUSTOM_ELEMENTS_SCHEMA:()=>Yc,ChangeDetectionStrategy:()=>he,ChangeDetectorRef:()=>Jh,Compiler:()=>Qa,CompilerFactory:()=>eC,Component:()=>UD,ComponentFactory:()=>yo,ComponentFactoryResolver:()=>ir,ComponentRef:()=>fp,ContentChild:()=>hm,ContentChildren:()=>pm,DEFAULT_CURRENCY_CODE:()=>Sh,DebugElement:()=>TC,DebugEventListener:()=>IC,DebugNode:()=>bC,DefaultIterableDiffer:()=>ng,Directive:()=>bh,ElementRef:()=>sr,EmbeddedViewRef:()=>vC,ErrorHandler:()=>Un,EventEmitter:()=>We,Host:()=>Ec,HostBinding:()=>WD,HostListener:()=>zD,INJECTOR:()=>io,Inject:()=>Fn,InjectFlags:()=>T,Injectable:()=>gI,InjectionToken:()=>B,Injector:()=>Ie,Input:()=>GD,IterableDiffers:()=>No,KeyValueDiffers:()=>Ro,LOCALE_ID:()=>To,MissingTranslationStrategy:()=>ze,ModuleWithComponentFactories:()=>Oh,NO_ERRORS_SCHEMA:()=>Xc,NgModule:()=>ZD,NgModuleFactory:()=>Cp,NgModuleRef:()=>yn,NgProbeToken:()=>lC,NgZone:()=>_e,Optional:()=>It,Output:()=>QD,PACKAGE_ROOT_URL:()=>KD,PLATFORM_ID:()=>Rh,PLATFORM_INITIALIZER:()=>Nh,Pipe:()=>qD,PlatformRef:()=>el,Query:()=>Pn,QueryList:()=>Co,ReflectiveInjector:()=>dn,ReflectiveKey:()=>ot,Renderer2:()=>oD,RendererFactory2:()=>hp,RendererStyleFlags2:()=>Ue,ResolvedReflectiveFactory:()=>$d,Sanitizer:()=>gp,SecurityContext:()=>G,Self:()=>Gr,SimpleChange:()=>Pl,SkipSelf:()=>_t,TRANSLATIONS:()=>YD,TRANSLATIONS_FORMAT:()=>XD,TemplateRef:()=>cr,Testability:()=>jh,TestabilityRegistry:()=>Ja,Type:()=>$r,VERSION:()=>yp,Version:()=>mp,ViewChild:()=>mm,ViewChildren:()=>gm,ViewContainerRef:()=>wo,ViewEncapsulation:()=>Ke,ViewRef:()=>Yh,asNativeElements:()=>_C,assertPlatform:()=>qh,createNgModuleRef:()=>fD,createPlatform:()=>Bh,createPlatformFactory:()=>Uh,defineInjectable:()=>mg,destroyPlatform:()=>cC,enableProdMode:()=>hC,forwardRef:()=>gr,getDebugNode:()=>xo,getModuleFactory:()=>gC,getNgModuleById:()=>mC,getPlatform:()=>Xa,inject:()=>Rm,isDevMode:()=>pC,platformCore:()=>kC,resolveForwardRef:()=>b,setTestabilityGetter:()=>aC,\u0275ALLOW_MULTIPLE_PLATFORMS:()=>Ya,\u0275APP_ID_RANDOM_PROVIDER:()=>xh,\u0275ChangeDetectorStatus:()=>ee,\u0275ComponentFactory:()=>yo,\u0275Console:()=>Ph,\u0275DEFAULT_LOCALE_ID:()=>er,\u0275INJECTOR_SCOPE:()=>ls,\u0275LifecycleHooksFeature:()=>Td,\u0275LocaleDataIndex:()=>C,\u0275NG_COMP_DEF:()=>En,\u0275NG_DIR_DEF:()=>_r,\u0275NG_ELEMENT_ID:()=>xt,\u0275NG_INJ_DEF:()=>Ir,\u0275NG_MOD_DEF:()=>Lo,\u0275NG_PIPE_DEF:()=>Dr,\u0275NG_PROV_DEF:()=>Cn,\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR:()=>vo,\u0275NO_CHANGE:()=>w,\u0275NgModuleFactory:()=>Do,\u0275NoopNgZone:()=>Vh,\u0275ReflectionCapabilities:()=>ui,\u0275Render3ComponentFactory:()=>_o,\u0275Render3ComponentRef:()=>_p,\u0275Render3NgModuleRef:()=>Na,\u0275RuntimeError:()=>de,\u0275ViewRef:()=>mn,\u0275_sanitizeHtml:()=>Hc,\u0275_sanitizeUrl:()=>jn,\u0275allowSanitizationBypassAndThrow:()=>Qt,\u0275bypassSanitizationTrustHtml:()=>Qm,\u0275bypassSanitizationTrustResourceUrl:()=>Jm,\u0275bypassSanitizationTrustScript:()=>zm,\u0275bypassSanitizationTrustStyle:()=>Wm,\u0275bypassSanitizationTrustUrl:()=>Zm,\u0275clearResolutionOfComponentResourcesQueue:()=>xc,\u0275compileComponent:()=>hh,\u0275compileDirective:()=>Ua,\u0275compileNgModule:()=>lh,\u0275compileNgModuleDefs:()=>ch,\u0275compileNgModuleFactory:()=>Hh,\u0275compilePipe:()=>wh,\u0275createInjector:()=>us,\u0275defaultIterableDiffers:()=>lg,\u0275defaultKeyValueDiffers:()=>cg,\u0275detectChanges:()=>cd,\u0275devModeEqual:()=>Rd,\u0275findLocaleData:()=>Ia,\u0275flushModuleScopingQueueAsMuchAsPossible:()=>sh,\u0275getDebugNode:()=>xo,\u0275getDebugNodeR2:()=>MC,\u0275getDirectives:()=>_d,\u0275getHostElement:()=>ps,\u0275getInjectableDef:()=>vr,\u0275getLContext:()=>re,\u0275getLocaleCurrencyCode:()=>o_,\u0275getLocalePluralCase:()=>kf,\u0275getSanitizationBypassType:()=>Pc,\u0275global:()=>j,\u0275injectChangeDetectorRef:()=>Kh,\u0275isBoundToModule:()=>$h,\u0275isDefaultChangeDetectionStrategy:()=>Dg,\u0275isListLikeIterable:()=>Zn,\u0275isObservable:()=>Jd,\u0275isPromise:()=>Fs,\u0275isSubscribable:()=>Zd,\u0275ivyEnabled:()=>qC,\u0275makeDecorator:()=>$t,\u0275markDirty:()=>ud,\u0275noSideEffects:()=>Je,\u0275patchComponentDefWithScope:()=>Ha,\u0275publishDefaultGlobalUtils:()=>Yv,\u0275publishGlobalUtil:()=>Te,\u0275registerLocaleData:()=>r_,\u0275registerNgModuleType:()=>wp,\u0275renderComponent:()=>Xv,\u0275resetCompiledComponents:()=>SD,\u0275resetJitOptions:()=>AD,\u0275resolveComponentResources:()=>bc,\u0275setClassMetadata:()=>Dp,\u0275setCurrentInjector:()=>pi,\u0275setDocument:()=>kg,\u0275setLocaleId:()=>jf,\u0275store:()=>Pd,\u0275stringify:()=>P,\u0275transitiveScopesFor:()=>dr,\u0275unregisterLocaleData:()=>i_,\u0275unwrapSafeValue:()=>tt,\u0275whenRendered:()=>eI,\u0275\u0275CopyDefinitionFeature:()=>Nd,\u0275\u0275FactoryTarget:()=>z,\u0275\u0275InheritDefinitionFeature:()=>gs,\u0275\u0275NgOnChangesFeature:()=>Bo,\u0275\u0275ProvidersFeature:()=>dp,\u0275\u0275advance:()=>Ru,\u0275\u0275attribute:()=>vs,\u0275\u0275attributeInterpolate1:()=>Is,\u0275\u0275attributeInterpolate2:()=>_s,\u0275\u0275attributeInterpolate3:()=>Ds,\u0275\u0275attributeInterpolate4:()=>Cs,\u0275\u0275attributeInterpolate5:()=>Es,\u0275\u0275attributeInterpolate6:()=>ws,\u0275\u0275attributeInterpolate7:()=>Ms,\u0275\u0275attributeInterpolate8:()=>bs,\u0275\u0275attributeInterpolateV:()=>Ts,\u0275\u0275classMap:()=>uf,\u0275\u0275classMapInterpolate1:()=>vf,\u0275\u0275classMapInterpolate2:()=>If,\u0275\u0275classMapInterpolate3:()=>_f,\u0275\u0275classMapInterpolate4:()=>Df,\u0275\u0275classMapInterpolate5:()=>Cf,\u0275\u0275classMapInterpolate6:()=>Ef,\u0275\u0275classMapInterpolate7:()=>wf,\u0275\u0275classMapInterpolate8:()=>Mf,\u0275\u0275classMapInterpolateV:()=>bf,\u0275\u0275classProp:()=>Ks,\u0275\u0275contentQuery:()=>eh,\u0275\u0275defineComponent:()=>ko,\u0275\u0275defineDirective:()=>Nl,\u0275\u0275defineInjectable:()=>X,\u0275\u0275defineInjector:()=>yr,\u0275\u0275defineNgModule:()=>Fo,\u0275\u0275definePipe:()=>Rl,\u0275\u0275directiveInject:()=>Yn,\u0275\u0275disableBindings:()=>Ul,\u0275\u0275element:()=>Qd,\u0275\u0275elementContainer:()=>Wd,\u0275\u0275elementContainerEnd:()=>ks,\u0275\u0275elementContainerStart:()=>Ls,\u0275\u0275elementEnd:()=>Os,\u0275\u0275elementStart:()=>Ss,\u0275\u0275enableBindings:()=>Bl,\u0275\u0275getCurrentView:()=>zd,\u0275\u0275getInheritedFactory:()=>gc,\u0275\u0275hostProperty:()=>ya,\u0275\u0275i18n:()=>sp,\u0275\u0275i18nApply:()=>lp,\u0275\u0275i18nAttributes:()=>ap,\u0275\u0275i18nEnd:()=>Ea,\u0275\u0275i18nExp:()=>wa,\u0275\u0275i18nPostprocess:()=>cp,\u0275\u0275i18nStart:()=>Ca,\u0275\u0275inject:()=>Y,\u0275\u0275injectAttribute:()=>ai,\u0275\u0275invalidFactory:()=>Gd,\u0275\u0275invalidFactoryDep:()=>hi,\u0275\u0275listener:()=>Vs,\u0275\u0275loadQuery:()=>th,\u0275\u0275namespaceHTML:()=>nc,\u0275\u0275namespaceMathML:()=>tc,\u0275\u0275namespaceSVG:()=>ec,\u0275\u0275nextContext:()=>Xd,\u0275\u0275ngDeclareClassMetadata:()=>QC,\u0275\u0275ngDeclareComponent:()=>WC,\u0275\u0275ngDeclareDirective:()=>GC,\u0275\u0275ngDeclareFactory:()=>zC,\u0275\u0275ngDeclareInjectable:()=>JC,\u0275\u0275ngDeclareInjector:()=>KC,\u0275\u0275ngDeclareNgModule:()=>YC,\u0275\u0275ngDeclarePipe:()=>XC,\u0275\u0275pipe:()=>$p,\u0275\u0275pipeBind1:()=>Bp,\u0275\u0275pipeBind2:()=>Up,\u0275\u0275pipeBind3:()=>qp,\u0275\u0275pipeBind4:()=>Gp,\u0275\u0275pipeBindV:()=>Qp,\u0275\u0275projection:()=>tf,\u0275\u0275projectionDef:()=>ef,\u0275\u0275property:()=>As,\u0275\u0275propertyInterpolate:()=>$s,\u0275\u0275propertyInterpolate1:()=>co,\u0275\u0275propertyInterpolate2:()=>Bs,\u0275\u0275propertyInterpolate3:()=>Us,\u0275\u0275propertyInterpolate4:()=>qs,\u0275\u0275propertyInterpolate5:()=>Gs,\u0275\u0275propertyInterpolate6:()=>Qs,\u0275\u0275propertyInterpolate7:()=>Ws,\u0275\u0275propertyInterpolate8:()=>zs,\u0275\u0275propertyInterpolateV:()=>Zs,\u0275\u0275pureFunction0:()=>bp,\u0275\u0275pureFunction1:()=>Tp,\u0275\u0275pureFunction2:()=>xp,\u0275\u0275pureFunction3:()=>Np,\u0275\u0275pureFunction4:()=>Rp,\u0275\u0275pureFunction5:()=>Ap,\u0275\u0275pureFunction6:()=>Pp,\u0275\u0275pureFunction7:()=>Sp,\u0275\u0275pureFunction8:()=>Op,\u0275\u0275pureFunctionV:()=>Lp,\u0275\u0275queryRefresh:()=>Yp,\u0275\u0275reference:()=>Sd,\u0275\u0275resolveBody:()=>ou,\u0275\u0275resolveDocument:()=>ru,\u0275\u0275resolveWindow:()=>nu,\u0275\u0275restoreView:()=>ql,\u0275\u0275sanitizeHtml:()=>$c,\u0275\u0275sanitizeResourceUrl:()=>wi,\u0275\u0275sanitizeScript:()=>Uc,\u0275\u0275sanitizeStyle:()=>Bc,\u0275\u0275sanitizeUrl:()=>Ei,\u0275\u0275sanitizeUrlOrResourceUrl:()=>Qc,\u0275\u0275setComponentScope:()=>El,\u0275\u0275setNgModuleScope:()=>Tl,\u0275\u0275styleMap:()=>Oe,\u0275\u0275styleMapInterpolate1:()=>Tf,\u0275\u0275styleMapInterpolate2:()=>xf,\u0275\u0275styleMapInterpolate3:()=>Nf,\u0275\u0275styleMapInterpolate4:()=>Rf,\u0275\u0275styleMapInterpolate5:()=>Af,\u0275\u0275styleMapInterpolate6:()=>Pf,\u0275\u0275styleMapInterpolate7:()=>Sf,\u0275\u0275styleMapInterpolate8:()=>Of,\u0275\u0275styleMapInterpolateV:()=>Lf,\u0275\u0275styleProp:()=>Js,\u0275\u0275stylePropInterpolate1:()=>la,\u0275\u0275stylePropInterpolate2:()=>ca,\u0275\u0275stylePropInterpolate3:()=>ua,\u0275\u0275stylePropInterpolate4:()=>da,\u0275\u0275stylePropInterpolate5:()=>fa,\u0275\u0275stylePropInterpolate6:()=>pa,\u0275\u0275stylePropInterpolate7:()=>ha,\u0275\u0275stylePropInterpolate8:()=>ga,\u0275\u0275stylePropInterpolateV:()=>ma,\u0275\u0275syntheticHostListener:()=>js,\u0275\u0275syntheticHostProperty:()=>va,\u0275\u0275template:()=>Ad,\u0275\u0275templateRefExtractor:()=>ih,\u0275\u0275text:()=>yf,\u0275\u0275textInterpolate:()=>Xs,\u0275\u0275textInterpolate1:()=>fo,\u0275\u0275textInterpolate2:()=>ea,\u0275\u0275textInterpolate3:()=>ta,\u0275\u0275textInterpolate4:()=>na,\u0275\u0275textInterpolate5:()=>ra,\u0275\u0275textInterpolate6:()=>oa,\u0275\u0275textInterpolate7:()=>ia,\u0275\u0275textInterpolate8:()=>sa,\u0275\u0275textInterpolateV:()=>aa,\u0275\u0275trustConstantHtml:()=>qc,\u0275\u0275trustConstantResourceUrl:()=>Gc,\u0275\u0275viewQuery:()=>Xp});var Dn=hr(824),ug=hr(5033);function O(e){for(let t in e)if(e[t]===O)return t;throw Error("Could not find renamed property on target object.")}function Ao(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function P(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(P).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Po(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const dg=O({__forward_ref__:O});function gr(e){return e.__forward_ref__=gr,e.toString=function(){return P(this())},e}function b(e){return vl(e)?e():e}function vl(e){return"function"==typeof e&&e.hasOwnProperty(dg)&&e.__forward_ref__===gr}class de extends Error{constructor(t,n){super(function So(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function M(e){return"string"==typeof e?e:null==e?"":String(e)}function se(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():M(e)}function mr(e,t){const n=t?` in ${t}`:"";throw new de(-201,`No provider for ${se(e)} found${n}`)}function F(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}function X(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}const mg=X;function yr(e){return{providers:e.providers||[],imports:e.imports||[]}}function vr(e){return Il(e,Cn)||Il(e,Dl)}function Il(e,t){return e.hasOwnProperty(t)?e[t]:null}function _l(e){return e&&(e.hasOwnProperty(Ir)||e.hasOwnProperty(Ig))?e[Ir]:null}const Cn=O({\u0275prov:O}),Ir=O({\u0275inj:O}),Dl=O({ngInjectableDef:O}),Ig=O({ngInjectorDef:O});var T=(()=>((T=T||{})[T.Default=0]="Default",T[T.Host=1]="Host",T[T.Self=2]="Self",T[T.SkipSelf=4]="SkipSelf",T[T.Optional=8]="Optional",T))();let Oo;function it(e){const t=Oo;return Oo=e,t}function Cl(e,t,n){const r=vr(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&T.Optional?null:void 0!==t?t:void mr(P(e),"Injector")}function Je(e){return{toString:e}.toString()}var he=(()=>((he=he||{})[he.OnPush=0]="OnPush",he[he.Default=1]="Default",he))(),ee=(()=>((ee=ee||{})[ee.CheckOnce=0]="CheckOnce",ee[ee.Checked=1]="Checked",ee[ee.CheckAlways=2]="CheckAlways",ee[ee.Detached=3]="Detached",ee[ee.Errored=4]="Errored",ee[ee.Destroyed=5]="Destroyed",ee))();function Dg(e){return null==e||e===he.Default}var Ke=(()=>{return(e=Ke||(Ke={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Ke;var e})();const Cg="undefined"!=typeof globalThis&&globalThis,Eg="undefined"!=typeof window&&window,wg="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j=Cg||"undefined"!=typeof global&&global||Eg||wg,Tt={},L=[],En=O({\u0275cmp:O}),_r=O({\u0275dir:O}),Dr=O({\u0275pipe:O}),Lo=O({\u0275mod:O}),Ye=O({\u0275fac:O}),xt=O({__NG_ELEMENT_ID__:O});let Mg=0;function ko(e){return Je(()=>{const n={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===he.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||L,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Ke.Emulated,id:"c",styles:e.styles||L,_:null,setInput:null,schemas:e.schemas||null,tView:null},o=e.directives,i=e.features,s=e.pipes;return r.id+=Mg++,r.inputs=xl(e.inputs,n),r.outputs=xl(e.outputs),i&&i.forEach(a=>a(r)),r.directiveDefs=o?()=>("function"==typeof o?o():o).map(wl):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(Ml):null,r})}function El(e,t,n){const r=e.\u0275cmp;r.directiveDefs=()=>t.map(wl),r.pipeDefs=()=>n.map(Ml)}function wl(e){return te(e)||st(e)}function Ml(e){return ht(e)}const bl={};function Fo(e){return Je(()=>{const t={type:e.type,bootstrap:e.bootstrap||L,declarations:e.declarations||L,imports:e.imports||L,exports:e.exports||L,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(bl[e.id]=e.type),t})}function Tl(e,t){return Je(()=>{const n=Ce(e,!0);n.declarations=t.declarations||L,n.imports=t.imports||L,n.exports=t.exports||L})}function xl(e,t){if(null==e)return Tt;const n={};for(const r in e)if(e.hasOwnProperty(r)){let o=e[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),n[o]=r,t&&(t[o]=i)}return n}const Nl=ko;function Rl(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function te(e){return e[En]||null}function st(e){return e[_r]||null}function ht(e){return e[Dr]||null}function Ce(e,t){const n=e[Lo]||null;if(!n&&!0===t)throw new Error(`Type ${P(e)} does not have '\u0275mod' property.`);return n}const x=11,k=20;function Ve(e){return Array.isArray(e)&&"object"==typeof e[1]}function Re(e){return Array.isArray(e)&&!0===e[1]}function Ho(e){return 0!=(8&e.flags)}function Mr(e){return 2==(2&e.flags)}function br(e){return 1==(1&e.flags)}function Ae(e){return null!==e.template}function Ng(e){return 0!=(512&e[2])}function vt(e,t){return e.hasOwnProperty(Ye)?e[Ye]:null}class Pl{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Bo(){return Sl}function Sl(e){return e.type.prototype.ngOnChanges&&(e.setInput=Sg),Pg}function Pg(){const e=Ll(this),t=e?.current;if(t){const n=e.previous;if(n===Tt)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Sg(e,t,n,r){const o=Ll(e)||function Og(e,t){return e[Ol]=t}(e,{previous:Tt,current:null}),i=o.current||(o.current={}),s=o.previous,a=this.declaredInputs[n],l=s[a];i[a]=new Pl(l&&l.currentValue,t,s===Tt),e[r]=t}Bo.ngInherit=!0;const Ol="__ngSimpleChanges__";function Ll(e){return e[Ol]||null}let Uo=null;const Lg=e=>{Uo=e},we=function(e,t,n){null!=Uo&&Uo(e,t,n)},kl="http://www.w3.org/2000/svg",Fl="http://www.w3.org/1998/MathML/";let qo;function kg(e){qo=e}function Go(){return void 0!==qo?qo:"undefined"!=typeof document?document:void 0}function H(e){return!!e.listen}const Vl={createRenderer:(e,t)=>Go()};function Q(e){for(;Array.isArray(e);)e=e[0];return e}function Tr(e,t){return Q(t[e])}function Me(e,t){return Q(t[e.index])}function Qo(e,t){return e.data[t]}function St(e,t){return e[t]}function me(e,t){const n=t[e];return Ve(n)?n:n[0]}function jl(e){return 4==(4&e[2])}function Wo(e){return 128==(128&e[2])}function at(e,t){return null==t?null:e[t]}function Hl(e){e[18]=0}function zo(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const E={lFrame:Kl(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function $l(){return E.bindingsEnabled}function Bl(){E.bindingsEnabled=!0}function Ul(){E.bindingsEnabled=!1}function m(){return E.lFrame.lView}function A(){return E.lFrame.tView}function ql(e){return E.lFrame.contextLView=e,e[8]}function W(){let e=Gl();for(;null!==e&&64===e.type;)e=e.parent;return e}function Gl(){return E.lFrame.currentTNode}function Tn(){const e=E.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function je(e,t){const n=E.lFrame;n.currentTNode=e,n.isParent=t}function Zo(){return E.lFrame.isParent}function Jo(){E.lFrame.isParent=!1}function xr(){return E.isInCheckNoChangesMode}function Nr(e){E.isInCheckNoChangesMode=e}function ae(){const e=E.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Xe(){return E.lFrame.bindingIndex}function Ql(e){return E.lFrame.bindingIndex=e}function Ot(){return E.lFrame.bindingIndex++}function et(e){const t=E.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Wl(e){E.lFrame.inI18n=e}function Qg(e,t){const n=E.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ko(t)}function Ko(e){E.lFrame.currentDirectiveIndex=e}function Yo(e){const t=E.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function zl(){return E.lFrame.currentQueryIndex}function Xo(e){E.lFrame.currentQueryIndex=e}function zg(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Zl(e,t,n){if(n&T.SkipSelf){let o=t,i=e;for(;!(o=o.parent,null!==o||n&T.Host||(o=zg(i),null===o||(i=i[15],10&o.type))););if(null===o)return!1;t=o,e=i}const r=E.lFrame=Jl();return r.currentTNode=t,r.lView=e,!0}function Rr(e){const t=Jl(),n=e[1];E.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Jl(){const e=E.lFrame,t=null===e?null:e.child;return null===t?Kl(e):t}function Kl(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Yl(){const e=E.lFrame;return E.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Xl=Yl;function Ar(){const e=Yl();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function le(){return E.lFrame.selectedIndex}function lt(e){E.lFrame.selectedIndex=e}function $(){const e=E.lFrame;return Qo(e.tView,e.selectedIndex)}function ec(){E.lFrame.currentNamespace=kl}function tc(){E.lFrame.currentNamespace=Fl}function nc(){!function Kg(){E.lFrame.currentNamespace=null}()}function Pr(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=i;s&&(e.contentHooks||(e.contentHooks=[])).push(-n,s),a&&((e.contentHooks||(e.contentHooks=[])).push(n,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,a)),l&&(e.viewHooks||(e.viewHooks=[])).push(-n,l),c&&((e.viewHooks||(e.viewHooks=[])).push(n,c),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,c)),null!=u&&(e.destroyHooks||(e.destroyHooks=[])).push(n,u)}}function Sr(e,t,n){rc(e,t,3,n)}function Or(e,t,n,r){(3&e[2])===n&&rc(e,t,n,r)}function ei(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function rc(e,t,n,r){const i=r??-1,s=t.length-1;let a=0;for(let l=void 0!==r?65535&e[18]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(e[18]+=65536),(a<i||-1==i)&&(em(e,n,t,l),e[18]=(4294901760&e[18])+l+2),l++}function em(e,t,n,r){const o=n[r]<0,i=n[r+1],a=e[o?-n[r]:n[r]];if(o){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048,we(4,a,i);try{i.call(a)}finally{we(5,a,i)}}}else{we(4,a,i);try{i.call(a)}finally{we(5,a,i)}}}class xn{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Lr(e,t,n){const r=H(e);let o=0;for(;o<n.length;){const i=n[o];if("number"==typeof i){if(0!==i)break;o++;const s=n[o++],a=n[o++],l=n[o++];r?e.setAttribute(t,a,l,s):t.setAttributeNS(s,a,l)}else{const s=i,a=n[++o];ni(s)?r&&e.setProperty(t,s,a):r?e.setAttribute(t,s,a):t.setAttribute(s,a),o++}}return o}function oc(e){return 3===e||4===e||6===e}function ni(e){return 64===e.charCodeAt(0)}function kr(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||ic(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function ic(e,t,n,r,o){let i=0,s=e.length;if(-1===t)s=-1;else for(;i<e.length;){const a=e[i++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=i-1;break}}}for(;i<e.length;){const a=e[i];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==o&&(e[i+1]=o));if(r===e[i+1])return void(e[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),null!==r&&e.splice(i++,0,r),null!==o&&e.splice(i++,0,o)}function sc(e){return-1!==e}function Lt(e){return 32767&e}function kt(e,t){let n=function im(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let ri=!0;function Fr(e){const t=ri;return ri=e,t}let sm=0;function Rn(e,t){const n=ii(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,oi(r.data,e),oi(t,null),oi(r.blueprint,null));const o=Vr(e,t),i=e.injectorIndex;if(sc(o)){const s=Lt(o),a=kt(o,t),l=a[1].data;for(let c=0;c<8;c++)t[i+c]=a[s+c]|l[s+c]}return t[i+8]=o,i}function oi(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ii(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Vr(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){const i=o[1],s=i.type;if(r=2===s?i.declTNode:1===s?o[6]:null,null===r)return-1;if(n++,o=o[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function jr(e,t,n){!function am(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(xt)&&(r=n[xt]),null==r&&(r=n[xt]=sm++);const o=255&r;t.data[e+(o>>5)]|=1<<o}(e,t,n)}function cc(e,t,n){if(n&T.Optional)return e;mr(t,"NodeInjector")}function uc(e,t,n,r){if(n&T.Optional&&void 0===r&&(r=null),0==(n&(T.Self|T.Host))){const o=e[9],i=it(void 0);try{return o?o.get(t,r,n&T.Optional):Cl(t,r,n&T.Optional)}finally{it(i)}}return cc(r,t,n)}function dc(e,t,n,r=T.Default,o){if(null!==e){const i=function dm(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(xt)?e[xt]:void 0;return"number"==typeof t?t>=0?255&t:cm:t}(n);if("function"==typeof i){if(!Zl(t,e,r))return r&T.Host?cc(o,n,r):uc(t,n,r,o);try{const s=i(r);if(null!=s||r&T.Optional)return s;mr(n)}finally{Xl()}}else if("number"==typeof i){let s=null,a=ii(e,t),l=-1,c=r&T.Host?t[16][6]:null;for((-1===a||r&T.SkipSelf)&&(l=-1===a?Vr(e,t):t[a+8],-1!==l&&hc(r,!1)?(s=t[1],a=Lt(l),t=kt(l,t)):a=-1);-1!==a;){const u=t[1];if(pc(i,a,u.data)){const d=um(a,t,n,s,r,c);if(d!==fc)return d}l=t[a+8],-1!==l&&hc(r,t[1].data[a+8]===c)&&pc(i,a,t)?(s=u,a=Lt(l),t=kt(l,t)):a=-1}}}return uc(t,n,r,o)}const fc={};function cm(){return new Ft(W(),m())}function um(e,t,n,r,o,i){const s=t[1],a=s.data[e+8],u=Hr(a,s,n,null==r?Mr(a)&&ri:r!=s&&0!=(3&a.type),o&T.Host&&i===a);return null!==u?An(t,s,u,a):fc}function Hr(e,t,n,r,o){const i=e.providerIndexes,s=t.data,a=1048575&i,l=e.directiveStart,u=i>>20,f=o?a+u:e.directiveEnd;for(let p=r?a:a+u;p<f;p++){const h=s[p];if(p<l&&n===h||p>=l&&h.type===n)return p}if(o){const p=s[l];if(p&&Ae(p)&&p.type===n)return l}return null}function An(e,t,n,r){let o=e[n];const i=t.data;if(function tm(e){return e instanceof xn}(o)){const s=o;s.resolving&&function fg(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new de(-200,`Circular dependency in DI detected for ${e}${n}`)}(se(i[n]));const a=Fr(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?it(s.injectImpl):null;Zl(e,r,T.Default);try{o=e[n]=s.factory(void 0,i,e,r),t.firstCreatePass&&n>=r.directiveStart&&function Xg(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){const s=Sl(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,o),i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,i))}(n,i[n],t)}finally{null!==l&&it(l),Fr(a),s.resolving=!1,Xl()}}return o}function pc(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function hc(e,t){return!(e&T.Self||e&T.Host&&t)}class Ft{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return dc(this._tNode,this._lView,t,r,n)}}function gc(e){return Je(()=>{const t=e.prototype.constructor,n=t[Ye]||si(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const i=o[Ye]||si(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function si(e){return vl(e)?()=>{const t=si(b(e));return t&&t()}:vt(e)}function ai(e){return function lm(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let o=0;for(;o<r;){const i=n[o];if(oc(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(i===t)return n[o+1];o+=2}}}return null}(W(),e)}const Vt="__annotations__",jt="__parameters__",Ht="__prop__metadata__";function $t(e,t,n,r,o){return Je(()=>{const i=li(t);function s(...a){if(this instanceof s)return i.call(this,...a),this;const l=new s(...a);return function(u){return o&&o(u,...a),(u.hasOwnProperty(Vt)?u[Vt]:Object.defineProperty(u,Vt,{value:[]})[Vt]).push(l),r&&r(u),u}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}function li(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}function Bt(e,t,n){return Je(()=>{const r=li(t);function o(...i){if(this instanceof o)return r.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(jt)?l[jt]:Object.defineProperty(l,jt,{value:[]})[jt];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function ut(e,t,n,r){return Je(()=>{const o=li(t);function i(...s){if(this instanceof i)return o.apply(this,s),this;const a=new i(...s);return function l(c,u){const d=c.constructor,f=d.hasOwnProperty(Ht)?d[Ht]:Object.defineProperty(d,Ht,{value:{}})[Ht];f[u]=f.hasOwnProperty(u)&&f[u]||[],f[u].unshift(a),r&&r(c,u,...s)}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}const mc=Bt("Attribute",e=>({attributeName:e,__NG_ELEMENT_ID__:()=>ai(e)}));class B{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=X({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const fm=new B("AnalyzeForEntryComponents");class Pn{}const pm=ut("ContentChildren",(e,t={})=>({selector:e,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0,...t}),Pn),hm=ut("ContentChild",(e,t={})=>({selector:e,first:!0,isViewQuery:!1,descendants:!0,...t}),Pn),gm=ut("ViewChildren",(e,t={})=>({selector:e,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:!0,...t}),Pn),mm=ut("ViewChild",(e,t)=>({selector:e,first:!0,isViewQuery:!0,descendants:!0,...t}),Pn);var z=(()=>((z=z||{})[z.Directive=0]="Directive",z[z.Component=1]="Component",z[z.Injectable=2]="Injectable",z[z.Pipe=3]="Pipe",z[z.NgModule=4]="NgModule",z))();function Z(e){const t=j.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const $r=Function;function Sn(e){return"function"==typeof e}function be(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),be(r,t)):t!==e&&t.push(r)}return t}function He(e,t){e.forEach(n=>Array.isArray(n)?He(n,t):t(n))}function vc(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Br(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function On(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function ye(e,t,n){let r=Ut(e,t);return r>=0?e[1|r]=n:(r=~r,function Im(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function ci(e,t){const n=Ut(e,t);if(n>=0)return e[1|n]}function Ut(e,t){return function Dc(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}(e,t,1)}const _m=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,Dm=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Cm=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Em=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class ui{constructor(t){this._reflect=t||j.Reflect}isReflectionEnabled(){return!0}factory(t){return(...n)=>new t(...n)}_zipTypesAndAnnotations(t,n){let r;r=On(void 0===t?n.length:t.length);for(let o=0;o<r.length;o++)r[o]=void 0===t?[]:t[o]&&t[o]!=Object?[t[o]]:[],n&&null!=n[o]&&(r[o]=r[o].concat(n[o]));return r}_ownParameters(t,n){if(function wm(e){return _m.test(e)||Em.test(e)||Dm.test(e)&&!Cm.test(e)}(t.toString()))return null;if(t.parameters&&t.parameters!==n.parameters)return t.parameters;const o=t.ctorParameters;if(o&&o!==n.ctorParameters){const a="function"==typeof o?o():o,l=a.map(u=>u&&u.type),c=a.map(u=>u&&di(u.decorators));return this._zipTypesAndAnnotations(l,c)}const i=t.hasOwnProperty(jt)&&t[jt],s=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return s||i?this._zipTypesAndAnnotations(s,i):On(t.length)}parameters(t){if(!Sn(t))return[];const n=Ur(t);let r=this._ownParameters(t,n);return!r&&n!==Object&&(r=this.parameters(n)),r||[]}_ownAnnotations(t,n){if(t.annotations&&t.annotations!==n.annotations){let r=t.annotations;return"function"==typeof r&&r.annotations&&(r=r.annotations),r}return t.decorators&&t.decorators!==n.decorators?di(t.decorators):t.hasOwnProperty(Vt)?t[Vt]:null}annotations(t){if(!Sn(t))return[];const n=Ur(t),r=this._ownAnnotations(t,n)||[];return(n!==Object?this.annotations(n):[]).concat(r)}_ownPropMetadata(t,n){if(t.propMetadata&&t.propMetadata!==n.propMetadata){let r=t.propMetadata;return"function"==typeof r&&r.propMetadata&&(r=r.propMetadata),r}if(t.propDecorators&&t.propDecorators!==n.propDecorators){const r=t.propDecorators,o={};return Object.keys(r).forEach(i=>{o[i]=di(r[i])}),o}return t.hasOwnProperty(Ht)?t[Ht]:null}propMetadata(t){if(!Sn(t))return{};const n=Ur(t),r={};if(n!==Object){const i=this.propMetadata(n);Object.keys(i).forEach(s=>{r[s]=i[s]})}const o=this._ownPropMetadata(t,n);return o&&Object.keys(o).forEach(i=>{const s=[];r.hasOwnProperty(i)&&s.push(...r[i]),s.push(...o[i]),r[i]=s}),r}ownPropMetadata(t){return Sn(t)&&this._ownPropMetadata(t,Ur(t))||{}}hasLifecycleHook(t,n){return t instanceof $r&&n in t.prototype}guards(t){return{}}getter(t){return new Function("o","return o."+t+";")}setter(t){return new Function("o","v","return o."+t+" = v;")}method(t){return new Function("o","args",`if (!o.${t}) throw new Error('"${t}" is undefined');\n        return o.${t}.apply(o, args);`)}importUri(t){return"object"==typeof t&&t.filePath?t.filePath:`./${P(t)}`}resourceUri(t){return`./${P(t)}`}resolveIdentifier(t,n,r,o){return o}resolveEnum(t,n){return t[n]}}function di(e){return e?e.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function Ur(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}const dt={},fi="__NG_DI_FLAG__",qr="ngTempTokenPath",bm=/\n/gm,Cc="__source",xm=O({provide:String,useValue:O});let Ln;function pi(e){const t=Ln;return Ln=e,t}function Nm(e,t=T.Default){if(void 0===Ln)throw new Error("inject() must be called from an injection context");return null===Ln?Cl(e,void 0,t):Ln.get(e,t&T.Optional?null:void 0,t)}function Y(e,t=T.Default){return(function _g(){return Oo}()||Nm)(b(e),t)}function hi(e){throw new Error("invalid")}const Rm=Y;function gi(e){const t=[];for(let n=0;n<e.length;n++){const r=b(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let o,i=T.Default;for(let s=0;s<r.length;s++){const a=r[s],l=Am(a);"number"==typeof l?-1===l?o=a.token:i|=l:o=a}t.push(Y(o,i))}else t.push(Y(r))}return t}function kn(e,t){return e[fi]=t,e.prototype[fi]=t,e}function Am(e){return e[fi]}const Fn=kn(Bt("Inject",e=>({token:e})),-1),It=kn(Bt("Optional"),8),Gr=kn(Bt("Self"),2),_t=kn(Bt("SkipSelf"),4),Ec=kn(Bt("Host"),1);let wc=null;function mi(){return wc=wc||new ui}function Qr(e){return Mc(mi().parameters(e))}function Mc(e){return e.map(t=>function Om(e){const t={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(e)&&e.length>0)for(let n=0;n<e.length;n++){const r=e[n];if(void 0===r)continue;const o=Object.getPrototypeOf(r);if(r instanceof It||"Optional"===o.ngMetadataName)t.optional=!0;else if(r instanceof _t||"SkipSelf"===o.ngMetadataName)t.skipSelf=!0;else if(r instanceof Gr||"Self"===o.ngMetadataName)t.self=!0;else if(r instanceof Ec||"Host"===o.ngMetadataName)t.host=!0;else if(r instanceof Fn)t.token=r.token;else if(r instanceof mc){if(void 0===r.attributeName)throw new Error("Attribute name must be defined.");t.attribute=r.attributeName}else t.token=r}else t.token=void 0===e||Array.isArray(e)&&0===e.length?null:e;return t}(t))}function bc(e){const t=[],n=new Map;function r(o){let i=n.get(o);if(!i){const s=e(o);n.set(o,i=s.then(Fm))}return i}return qt.forEach((o,i)=>{const s=[];o.templateUrl&&s.push(r(o.templateUrl).then(d=>{o.template=d}));const a=o.styleUrls,l=o.styles||(o.styles=[]),c=o.styles.length;a&&a.forEach((d,f)=>{l.push(""),s.push(r(d).then(p=>{l[c+f]=p,a.splice(a.indexOf(d),1),0==a.length&&(o.styleUrls=void 0)}))});const u=Promise.all(s).then(()=>function Vm(e){Vn.delete(e)}(i));t.push(u)}),xc(),Promise.all(t).then(()=>{})}let qt=new Map;const Vn=new Set;function Tc(e){return!!(e.templateUrl&&!e.hasOwnProperty("template")||e.styleUrls&&e.styleUrls.length)}function xc(){const e=qt;return qt=new Map,e}function Fm(e){return"string"==typeof e?e:e.text()}let Wr,zr;function yi(){if(void 0===Wr&&(Wr=null,j.trustedTypes))try{Wr=j.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Wr}function Gt(e){return yi()?.createHTML(e)||e}function vi(){if(void 0===zr&&(zr=null,j.trustedTypes))try{zr=j.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return zr}function Nc(e){return vi()?.createHTML(e)||e}function Rc(e){return vi()?.createScript(e)||e}function Ac(e){return vi()?.createScriptURL(e)||e}class Dt{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class $m extends Dt{getTypeName(){return"HTML"}}class Bm extends Dt{getTypeName(){return"Style"}}class Um extends Dt{getTypeName(){return"Script"}}class qm extends Dt{getTypeName(){return"URL"}}class Gm extends Dt{getTypeName(){return"ResourceURL"}}function tt(e){return e instanceof Dt?e.changingThisBreaksApplicationSecurity:e}function Qt(e,t){const n=Pc(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function Pc(e){return e instanceof Dt&&e.getTypeName()||null}function Qm(e){return new $m(e)}function Wm(e){return new Bm(e)}function zm(e){return new Um(e)}function Zm(e){return new qm(e)}function Jm(e){return new Gm(e)}function Sc(e){const t=new Ym(e);return function Xm(){try{return!!(new window.DOMParser).parseFromString(Gt(""),"text/html")}catch{return!1}}()?new Km(t):t}class Km{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(Gt(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch{return null}}}class Ym{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const r=this.inertDocument.createElement("body");n.appendChild(r)}}getInertBodyElement(t){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=Gt(t),n;const r=this.inertDocument.createElement("body");return r.innerHTML=Gt(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const n=t.attributes;for(let o=n.length-1;0<o;o--){const s=n.item(o).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&t.removeAttribute(s)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const ey=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ty=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function jn(e){return(e=String(e)).match(ey)||e.match(ty)?e:"unsafe:"+e}function Oc(e){return(e=String(e)).split(",").map(t=>jn(t.trim())).join(", ")}function $e(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Hn(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const Lc=$e("area,br,col,hr,img,wbr"),kc=$e("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fc=$e("rp,rt"),Ii=Hn(Lc,Hn(kc,$e("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hn(Fc,$e("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hn(Fc,kc)),_i=$e("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Di=$e("srcset"),Vc=Hn(_i,Di,$e("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$e("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ny=$e("script,style,template");class ry{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=this.checkClobberedElement(n,n.nextSibling);if(o){n=o;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!Ii.hasOwnProperty(n))return this.sanitizedSomething=!0,!ny.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let o=0;o<r.length;o++){const i=r.item(o),s=i.name,a=s.toLowerCase();if(!Vc.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=i.value;_i[a]&&(l=jn(l)),Di[a]&&(l=Oc(l)),this.buf.push(" ",s,'="',jc(l),'"')}return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();Ii.hasOwnProperty(n)&&!Lc.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(jc(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const oy=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,iy=/([^\#-~ |!])/g;function jc(e){return e.replace(/&/g,"&amp;").replace(oy,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(iy,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Zr;function Hc(e,t){let n=null;try{Zr=Zr||Sc(e);let r=t?String(t):"";n=Zr.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=n.innerHTML,n=Zr.getInertBodyElement(r)}while(r!==i);return Gt((new ry).sanitizeChildren(Ci(n)||n))}finally{if(n){const r=Ci(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Ci(e){return"content"in e&&function sy(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var G=(()=>((G=G||{})[G.NONE=0]="NONE",G[G.HTML=1]="HTML",G[G.STYLE=2]="STYLE",G[G.SCRIPT=3]="SCRIPT",G[G.URL=4]="URL",G[G.RESOURCE_URL=5]="RESOURCE_URL",G))();function $c(e){const t=$n();return t?Nc(t.sanitize(G.HTML,e)||""):Qt(e,"HTML")?Nc(tt(e)):Hc(Go(),M(e))}function Bc(e){const t=$n();return t?t.sanitize(G.STYLE,e)||"":Qt(e,"Style")?tt(e):M(e)}function Ei(e){const t=$n();return t?t.sanitize(G.URL,e)||"":Qt(e,"URL")?tt(e):jn(M(e))}function wi(e){const t=$n();if(t)return Ac(t.sanitize(G.RESOURCE_URL,e)||"");if(Qt(e,"ResourceURL"))return Ac(tt(e));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function Uc(e){const t=$n();if(t)return Rc(t.sanitize(G.SCRIPT,e)||"");if(Qt(e,"Script"))return Rc(tt(e));throw new Error("unsafe value used in a script context")}function qc(e){return Gt(e[0])}function Gc(e){return function Hm(e){return yi()?.createScriptURL(e)||e}(e[0])}function Qc(e,t,n){return function ay(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?wi:Ei}(t,n)(e)}function $n(){const e=m();return e&&e[12]}function re(e){let t=Bn(e);if(t){if(Array.isArray(t)){const n=t;let r,o,i;if(function ly(e){return e&&e.constructor&&e.constructor.\u0275cmp}(e)){if(r=Jc(n,e),-1==r)throw new Error("The provided component was not found in the application");o=e}else if(function cy(e){return e&&e.constructor&&e.constructor.\u0275dir}(e)){if(r=function dy(e,t){let n=e[1].firstChild;for(;n;){const o=n.directiveEnd;for(let i=n.directiveStart;i<o;i++)if(e[i]===t)return n.index;n=uy(n)}return-1}(n,e),-1==r)throw new Error("The provided directive was not found in the application");i=Kc(r,n,!1)}else if(r=Zc(n,e),-1==r)return null;const s=Q(n[r]),a=Bn(s),l=a&&!Array.isArray(a)?a:Mi(n,r,s);if(o&&void 0===l.component&&(l.component=o,oe(l.component,l)),i&&void 0===l.directives){l.directives=i;for(let c=0;c<i.length;c++)oe(i[c],l)}oe(l.native,l),t=l}}else{const n=e;let r=n;for(;r=r.parentNode;){const o=Bn(r);if(o){let i;if(i=Array.isArray(o)?o:o.lView,!i)return null;const s=Zc(i,n);if(s>=0){const a=Q(i[s]),l=Mi(i,s,a);oe(a,l),t=l;break}}}}return t||null}function Mi(e,t,n){return{lView:e,nodeIndex:t,native:n,component:void 0,directives:void 0,localRefs:void 0}}function Wc(e){let n,t=Bn(e);if(Array.isArray(t)){const r=Jc(t,e);n=me(r,t);const o=Mi(t,r,n[0]);o.component=e,oe(e,o),oe(o.native,o)}else n=me(t.nodeIndex,t.lView);return n}const zc="__ngContext__";function oe(e,t){e[zc]=t}function Bn(e){return e[zc]||null}function bi(e){const t=Bn(e);return t?Array.isArray(t)?t:t.lView:null}function Zc(e,t){const n=e[1];for(let r=k;r<n.bindingStartIndex;r++)if(Q(e[r])===t)return r;return-1}function uy(e){if(e.child)return e.child;if(e.next)return e.next;for(;e.parent&&!e.parent.next;)e=e.parent;return e.parent&&e.parent.next}function Jc(e,t){const n=e[1].components;if(n)for(let r=0;r<n.length;r++){const o=n[r];if(me(o,e)[8]===t)return o}else if(me(k,e)[8]===t)return k;return-1}function Kc(e,t,n){const r=t[1].data[e];let o=r.directiveStart;return 0==o?L:(!n&&2&r.flags&&o++,t.slice(o,r.directiveEnd))}const Ti="ngOriginalError";function xi(e){return e[Ti]}function yy(e,...t){e.error(...t)}class Un{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),r=function my(e){return e&&e.ngErrorLogger||yy}(t);r(this._console,"ERROR",t),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&xi(t);for(;n&&xi(n);)n=xi(n);return n||null}}const Yc={name:"custom-elements"},Xc={name:"no-errors-schema"},vy=/^>|^->|<!--|-->|--!>|<!-$/g,Iy=/(<|>)/;const tu=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(j))();function nu(e){return e.ownerDocument.defaultView}function ru(e){return e.ownerDocument}function ou(e){return e.ownerDocument.body}function Be(e){return e instanceof Function?e():e}var Ue=(()=>((Ue=Ue||{})[Ue.Important=1]="Important",Ue[Ue.DashCase=2]="DashCase",Ue))();let Ni;function Ri(e,t){return Ni(e,t)}function qn(e){const t=e[3];return Re(t)?t[3]:t}function lu(e){return function au(e){let t=Ve(e)?e:bi(e);for(;t&&!(512&t[2]);)t=qn(t);return t}(e)[8]}function Ai(e){return cu(e[13])}function Pi(e){return cu(e[4])}function cu(e){for(;null!==e&&!Re(e);)e=e[4];return e}function zt(e,t,n,r,o){if(null!=r){let i,s=!1;Re(r)?i=r:Ve(r)&&(s=!0,r=r[0]);const a=Q(r);0===e&&null!==n?null==o?gu(t,n,a):Ct(t,n,a,o||null,!0):1===e&&null!==n?Ct(t,n,a,o||null,!0):2===e?Cu(t,a,s):3===e&&t.destroyNode(a),null!=i&&function Vy(e,t,n,r,o){const i=n[7];i!==Q(n)&&zt(t,e,r,i,o);for(let a=10;a<n.length;a++){const l=n[a];Gn(l[1],l,e,t,r,i)}}(t,e,i,n,o)}}function Si(e,t){return H(e)?e.createText(t):e.createTextNode(t)}function uu(e,t,n){H(e)?e.setValue(t,n):t.textContent=n}function by(e,t){return e.createComment(function eu(e){return e.replace(vy,t=>t.replace(Iy,"\u200b$1\u200b"))}(t))}function Oi(e,t,n){return H(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function du(e,t){const n=e[9],r=n.indexOf(t),o=t[3];1024&t[2]&&(t[2]&=-1025,zo(o,-1)),n.splice(r,1)}function Li(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const o=r[17];null!==o&&o!==e&&du(o,r),t>0&&(e[n-1][4]=r[4]);const i=Br(e,10+t);!function Ty(e,t){Gn(e,t,t[x],2,null,null),t[0]=null,t[6]=null}(r[1],r);const s=i[19];null!==s&&s.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function fu(e,t){if(!(256&t[2])){const n=t[x];H(n)&&n.destroyNode&&Gn(e,t,n,3,null,null),function Ry(e){let t=e[13];if(!t)return ki(e[1],e);for(;t;){let n=null;if(Ve(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Ve(t)&&ki(t[1],t),t=t[3];null===t&&(t=e),Ve(t)&&ki(t[1],t),n=t&&t[4]}t=n}}(t)}}function ki(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function Oy(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof xn)){const i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],l=i[s+1];we(4,a,l);try{l.call(a)}finally{we(5,a,l)}}else{we(4,o,i);try{i.call(o)}finally{we(5,o,i)}}}}}(e,t),function Sy(e,t){const n=e.cleanup,r=t[7];let o=-1;if(null!==n)for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const s=n[i+1],a="function"==typeof s?s(t):Q(t[s]),l=r[o=n[i+2]],c=n[i+3];"boolean"==typeof c?a.removeEventListener(n[i],l,c):c>=0?r[o=c]():r[o=-c].unsubscribe(),i+=2}else{const s=r[o=n[i+1]];n[i].call(s)}if(null!==r){for(let i=o+1;i<r.length;i++)r[i]();t[7]=null}}(e,t),1===t[1].type&&H(t[x])&&t[x].destroy();const n=t[17];if(null!==n&&Re(t[3])){n!==t[3]&&du(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function pu(e,t,n){return hu(e,t.parent,n)}function hu(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const o=e.data[r.directiveStart].encapsulation;if(o===Ke.None||o===Ke.Emulated)return null}return Me(r,n)}function Ct(e,t,n,r,o){H(e)?e.insertBefore(t,n,r,o):t.insertBefore(n,r,o)}function gu(e,t,n){H(e)?e.appendChild(t,n):t.appendChild(n)}function mu(e,t,n,r,o){null!==r?Ct(e,t,n,r,o):gu(e,t,n)}function Jr(e,t){return H(e)?e.parentNode(t):t.parentNode}function yu(e,t,n){return Iu(e,t,n)}function vu(e,t,n){return 40&e.type?Me(e,n):null}let Fi,Iu=vu;function _u(e,t){Iu=e,Fi=t}function Kr(e,t,n,r){const o=pu(e,r,t),i=t[x],a=yu(r.parent||t[6],r,t);if(null!=o)if(Array.isArray(n))for(let l=0;l<n.length;l++)mu(i,o,n[l],a,!1);else mu(i,o,n,a,!1);void 0!==Fi&&Fi(i,r,t,n,o)}function Yr(e,t){if(null!==t){const n=t.type;if(3&n)return Me(t,e);if(4&n)return Vi(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Yr(e,r);{const o=e[t.index];return Re(o)?Vi(-1,o):Q(o)}}if(32&n)return Ri(t,e)()||Q(e[t.index]);{const r=Du(e,t);return null!==r?Array.isArray(r)?r[0]:Yr(qn(e[16]),r):Yr(e,t.next)}}return null}function Du(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Vi(e,t){const n=10+e+1;if(n<t.length){const r=t[n],o=r[1].firstChild;if(null!==o)return Yr(r,o)}return t[7]}function Cu(e,t,n){const r=Jr(e,t);r&&function Ly(e,t,n,r){H(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}function ji(e,t,n,r,o,i,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===t&&(a&&oe(Q(a),r),n.flags|=4),64!=(64&n.flags))if(8&l)ji(e,t,n.child,r,o,i,!1),zt(t,e,o,a,i);else if(32&l){const c=Ri(n,r);let u;for(;u=c();)zt(t,e,o,u,i);zt(t,e,o,a,i)}else 16&l?Eu(e,t,r,n,o,i):zt(t,e,o,a,i);n=s?n.projectionNext:n.next}}function Gn(e,t,n,r,o,i){ji(n,r,e.firstChild,t,o,i,!1)}function Eu(e,t,n,r,o,i){const s=n[16],l=s[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)zt(t,e,o,l[c],i);else ji(e,t,l,s[3],o,i,!0)}function wu(e,t,n){H(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Hi(e,t,n){H(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Mu(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}const bu="ng-template";function Hy(e,t,n){let r=0;for(;r<e.length;){let o=e[r++];if(n&&"class"===o){if(o=e[r],-1!==Mu(o.toLowerCase(),t,0))return!0}else if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===t)return!0;return!1}}return!1}function Tu(e){return 4===e.type&&e.value!==bu}function $y(e,t,n){return t===(4!==e.type||n?e.value:bu)}function By(e,t,n){let r=4;const o=e.attrs||[],i=function Gy(e){for(let t=0;t<e.length;t++)if(oc(e[t]))return t;return e.length}(o);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!$y(e,l,n)||""===l&&1===t.length){if(Pe(r))return!1;s=!0}}else{const c=8&r?l:t[++a];if(8&r&&null!==e.attrs){if(!Hy(e.attrs,c,n)){if(Pe(r))return!1;s=!0}continue}const d=Uy(8&r?"class":l,o,Tu(e),n);if(-1===d){if(Pe(r))return!1;s=!0;continue}if(""!==c){let f;f=d>i?"":o[d+1].toLowerCase();const p=8&r?f:null;if(p&&-1!==Mu(p,c,0)||2&r&&c!==f){if(Pe(r))return!1;s=!0}}}}else{if(!s&&!Pe(r)&&!Pe(l))return!1;if(s&&Pe(l))continue;s=!1,r=l|1&r}}return Pe(r)||s}function Pe(e){return 0==(1&e)}function Uy(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){const s=t[o];if(s===e)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=t[++o];for(;"string"==typeof a;)a=t[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function Qy(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function xu(e,t,n=!1){for(let r=0;r<t.length;r++)if(By(e,t[r],n))return!0;return!1}function Wy(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let o=0;o<e.length;o++)if(e[o]!==r[o])continue e;return!0}}return!1}function Nu(e,t){return e?":not("+t.trim()+")":t}function zy(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!Pe(s)&&(t+=Nu(i,o),o=""),r=s,i=i||!Pe(r);n++}return""!==o&&(t+=Nu(i,o)),t}const w={};function Ru(e){Au(A(),m(),le()+e,xr())}function Au(e,t,n,r){if(!r)if(3==(3&t[2])){const i=e.preOrderCheckHooks;null!==i&&Sr(t,i,n)}else{const i=e.preOrderHooks;null!==i&&Or(t,i,0,n)}lt(n)}function Xr(e,t){return e<<17|t<<2}function Se(e){return e>>17&32767}function $i(e){return 2|e}function nt(e){return(131068&e)>>2}function Bi(e,t){return-131069&e|t<<2}function Ui(e){return 1|e}const Ki=(()=>Promise.resolve(null))();function Bu(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r],i=n[r+1];if(-1!==i){const s=e.data[i];Xo(o),s.contentQueries(2,t[i],i)}}}function Qn(e,t,n,r,o,i,s,a,l,c){const u=t.blueprint.slice();return u[0]=o,u[2]=140|r,Hl(u),u[3]=u[15]=e,u[8]=n,u[10]=s||e&&e[10],u[x]=a||e&&e[x],u[12]=l||e&&e[12]||null,u[9]=c||e&&e[9]||null,u[6]=i,u[16]=2==t.type?e[16]:u,u}function Zt(e,t,n,r,o){let i=e.data[t];if(null===i)i=Yi(e,t,n,r,o),function Gg(){return E.lFrame.inI18n}()&&(i.flags|=64);else if(64&i.type){i.type=n,i.value=r,i.attrs=o;const s=Tn();i.injectorIndex=null===s?-1:s.injectorIndex}return je(i,!0),i}function Yi(e,t,n,r,o){const i=Gl(),s=Zo(),l=e.data[t]=function fv(e,t,n,r,o,i){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=l),null!==i&&(s?null==i.child&&null!==l.parent&&(i.child=l):null===i.next&&(i.next=l)),l}function Jt(e,t,n,r){if(0===n)return-1;const o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function Wn(e,t,n){Rr(t);try{const r=e.viewQuery;null!==r&&as(1,r,n);const o=e.template;null!==o&&Uu(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Bu(e,t),e.staticViewQueries&&as(2,e.viewQuery,n);const i=e.components;null!==i&&function cv(e,t){for(let n=0;n<t.length;n++)Rv(e,t[n])}(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,Ar()}}function Kt(e,t,n,r){const o=t[2];if(256==(256&o))return;Rr(t);const i=xr();try{Hl(t),Ql(e.bindingStartIndex),null!==n&&Uu(e,t,n,2,r);const s=3==(3&o);if(!i)if(s){const c=e.preOrderCheckHooks;null!==c&&Sr(t,c,null)}else{const c=e.preOrderHooks;null!==c&&Or(t,c,0,null),ei(t,0)}if(function xv(e){for(let t=Ai(e);null!==t;t=Pi(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const o=n[r],i=o[3];0==(1024&o[2])&&zo(i,1),o[2]|=1024}}}(t),function Tv(e){for(let t=Ai(e);null!==t;t=Pi(t))for(let n=10;n<t.length;n++){const r=t[n],o=r[1];Wo(r)&&Kt(o,r,o.template,r[8])}}(t),null!==e.contentQueries&&Bu(e,t),!i)if(s){const c=e.contentCheckHooks;null!==c&&Sr(t,c)}else{const c=e.contentHooks;null!==c&&Or(t,c,1),ei(t,1)}!function av(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)lt(~o);else{const i=o,s=n[++r],a=n[++r];Qg(s,i),a(2,t[i])}}}finally{lt(-1)}}(e,t);const a=e.components;null!==a&&function lv(e,t){for(let n=0;n<t.length;n++)Nv(e,t[n])}(t,a);const l=e.viewQuery;if(null!==l&&as(2,l,r),!i)if(s){const c=e.viewCheckHooks;null!==c&&Sr(t,c)}else{const c=e.viewHooks;null!==c&&Or(t,c,2),ei(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),i||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,zo(t[3],-1))}finally{Ar()}}function uv(e,t,n,r){const o=t[10],i=!xr(),s=jl(t);try{i&&!s&&o.begin&&o.begin(),s&&Wn(e,t,r),Kt(e,t,n,r)}finally{i&&!s&&o.end&&o.end()}}function Uu(e,t,n,r,o){const i=le(),s=2&r;try{lt(-1),s&&t.length>k&&Au(e,t,k,xr()),we(s?2:0,o),n(r,o)}finally{lt(i),we(s?3:1,o)}}function qu(e,t,n){if(Ho(t)){const o=t.directiveEnd;for(let i=t.directiveStart;i<o;i++){const s=e.data[i];s.contentQueries&&s.contentQueries(1,n[i],i)}}}function Xi(e,t,n){!$l()||(function Iv(e,t,n,r){const o=n.directiveStart,i=n.directiveEnd;e.firstCreatePass||Rn(n,t),oe(r,t);const s=n.initialInputs;for(let a=o;a<i;a++){const l=e.data[a],c=Ae(l);c&&wv(t,n,l);const u=An(t,e,a,n);oe(u,t),null!==s&&Mv(0,a-o,u,l,0,s),c&&(me(n.index,t)[8]=u)}}(e,t,n,Me(n,t)),128==(128&n.flags)&&function _v(e,t,n){const r=n.directiveStart,o=n.directiveEnd,s=n.index,a=function Wg(){return E.lFrame.currentDirectiveIndex}();try{lt(s);for(let l=r;l<o;l++){const c=e.data[l],u=t[l];Ko(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Yu(c,u)}}finally{lt(-1),Ko(a)}}(e,t,n))}function es(e,t,n=Me){const r=t.localNames;if(null!==r){let o=t.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?n(t,e):e[s];e[o++]=a}}}function Gu(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=no(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function no(e,t,n,r,o,i,s,a,l,c){const u=k+r,d=u+o,f=function dv(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:w);return n}(u,d),p="function"==typeof c?c():c;return f[1]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function Wu(e,t,n){if(H(e))return e.selectRootElement(t,n===Ke.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}function zu(e,t,n,r){const o=od(t);null===n?o.push(r):(o.push(n),e.firstCreatePass&&id(e).push(r,o.length-1))}function Zu(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const o=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,o):n[r]=[t,o]}return n}function ve(e,t,n,r,o,i,s,a){const l=Me(t,n);let u,c=t.inputs;!a&&null!=c&&(u=c[r])?(ld(e,n,u,r,o),Mr(t)&&function gv(e,t){const n=me(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r=function hv(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=s?s(o,t.value||"",r):o,H(i)?i.setProperty(l,r,o):ni(r)||(l.setProperty?l.setProperty(r,o):l[r]=o))}function ts(e,t,n,r){let o=!1;if($l()){const i=function Dv(e,t,n){const r=e.directiveRegistry;let o=null;if(r)for(let i=0;i<r.length;i++){const s=r[i];xu(n,s.selectors,!1)&&(o||(o=[]),jr(Rn(n,t),e,s.type),Ae(s)?(Xu(e,n),o.unshift(s)):o.push(s))}return o}(e,t,n),s=null===r?null:{"":-1};if(null!==i){o=!0,ed(n,e.data.length,i.length);for(let u=0;u<i.length;u++){const d=i[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=Jt(e,t,i.length,null);for(let u=0;u<i.length;u++){const d=i[u];n.mergedAttrs=kr(n.mergedAttrs,d.hostAttrs),td(e,n,t,c,d),Ev(c,d,s),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const f=d.type.prototype;!a&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),a=!0),!l&&(f.ngOnChanges||f.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),l=!0),c++}!function pv(e,t){const r=t.directiveEnd,o=e.data,i=t.attrs,s=[];let a=null,l=null;for(let c=t.directiveStart;c<r;c++){const u=o[c],d=u.inputs,f=null===i||Tu(t)?null:bv(d,i);s.push(f),a=Zu(d,c,a),l=Zu(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=l}(e,n)}s&&function Cv(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const i=n[t[o+1]];if(null==i)throw new de(-301,`Export of name '${t[o+1]}' not found!`);r.push(t[o],i)}}}(n,r,s)}return n.mergedAttrs=kr(n.mergedAttrs,n.attrs),o}function Ku(e,t,n,r,o,i){const s=i.hostBindings;if(s){let a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);const l=~t.index;(function vv(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(a)!=l&&a.push(l),a.push(r,o,s)}}function Yu(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Xu(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Ev(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Ae(t)&&(n[""]=e)}}function ed(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function td(e,t,n,r,o){e.data[r]=o;const i=o.factory||(o.factory=vt(o.type)),s=new xn(i,Ae(o),null);e.blueprint[r]=s,n[r]=s,Ku(e,t,0,r,Jt(e,n,o.hostVars,w),o)}function wv(e,t,n){const r=Me(t,e),o=Gu(n),i=e[10],s=ro(e,Qn(e,o,null,n.onPush?64:16,r,t,i,i.createRenderer(r,n),null,null));e[t.index]=s}function qe(e,t,n,r,o,i){const s=Me(e,t);ns(t[x],s,i,e.value,n,r,o)}function ns(e,t,n,r,o,i,s){if(null==i)H(e)?e.removeAttribute(t,o,n):t.removeAttribute(o);else{const a=null==s?M(i):s(i,r||"",o);H(e)?e.setAttribute(t,o,a,n):n?t.setAttributeNS(n,o,a):t.setAttribute(o,a)}}function Mv(e,t,n,r,o,i){const s=i[t];if(null!==s){const a=r.setInput;for(let l=0;l<s.length;){const c=s[l++],u=s[l++],d=s[l++];null!==a?r.setInput(n,d,c,u):n[u]=d}}}function bv(e,t){let n=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;e.hasOwnProperty(o)&&(null===n&&(n=[]),n.push(o,e[o],t[r+1])),r+=2}else r+=2;else r+=4}return n}function nd(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function Nv(e,t){const n=me(t,e);if(Wo(n)){const r=n[1];80&n[2]?Kt(r,n,r.template,n[8]):n[5]>0&&rs(n)}}function rs(e){for(let r=Ai(e);null!==r;r=Pi(r))for(let o=10;o<r.length;o++){const i=r[o];if(1024&i[2]){const s=i[1];Kt(s,i,s.template,i[8])}else i[5]>0&&rs(i)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const o=me(n[r],e);Wo(o)&&o[5]>0&&rs(o)}}function Rv(e,t){const n=me(t,e),r=n[1];(function Av(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),Wn(r,n,n[8])}function ro(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function os(e){for(;e;){e[2]|=64;const t=qn(e);if(Ng(e)&&!t)return e;e=t}return null}function is(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=bi(n),o=r[1];uv(o,r,o.template,n)}}function ss(e,t,n){const r=t[10];r.begin&&r.begin();try{Kt(e,t,e.template,n)}catch(o){throw ad(t,o),o}finally{r.end&&r.end()}}function rd(e){is(e[8])}function as(e,t,n){Xo(0),t(e,n)}const Lv=Ki;function od(e){return e[7]||(e[7]=[])}function id(e){return e.cleanup||(e.cleanup=[])}function sd(e,t,n){return(null===e||Ae(e))&&(n=function Vg(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[x]}function ad(e,t){const n=e[9],r=n?n.get(Un,null):null;r&&r.handleError(t)}function ld(e,t,n,r,o){for(let i=0;i<n.length;){const s=n[i++],a=n[i++],l=t[s],c=e.data[s];null!==c.setInput?c.setInput(l,o,r,a):l[a]=o}}function rt(e,t,n){const r=Tr(t,e);uu(e[x],r,n)}function oo(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?i=a:1==i?o=Po(o,a):2==i&&(r=Po(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function cd(e){const t=Wc(e);ss(t[1],t,e)}function ud(e){!function Pv(e,t){if(0===e.flags&&e.clean==Ki){let r;e.flags|=t,e.clean=new Promise(o=>r=o),e.scheduler(()=>{if(1&e.flags&&(e.flags&=-2,is(e)),2&e.flags){e.flags&=-3;const o=e.playerHandler;o&&o.flushPlayers()}e.clean=Ki,r(null)})}}(os(Wc(e))[8],1)}const io=new B("INJECTOR",-1);class dd{get(t,n=dt){if(n===dt){const r=new Error(`NullInjectorError: No provider for ${P(t)}!`);throw r.name="NullInjectorError",r}return n}}const ls=new B("Set Injector scope."),zn={},kv={};let cs;function fd(){return void 0===cs&&(cs=new dd),cs}function us(e,t=null,n=null,r){const o=pd(e,t,n,r);return o._resolveInjectorDefTypes(),o}function pd(e,t=null,n=null,r){return new Fv(e,n,t||fd(),r)}class Fv{constructor(t,n,r,o=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];n&&He(n,a=>this.processProvider(a,t,n)),He([t],a=>this.processInjectorType(a,[],i)),this.records.set(io,Yt(void 0,this));const s=this.records.get(ls);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof t?null:P(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=dt,r=T.Default){this.assertNotDestroyed();const o=pi(this),i=it(void 0);try{if(!(r&T.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function Gv(e){return"function"==typeof e||"object"==typeof e&&e instanceof B}(t)&&vr(t);a=l&&this.injectableDefInScope(l)?Yt(ds(t),zn):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(r&T.Self?fd():this.parent).get(t,n=r&T.Optional&&n===dt?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[qr]=s[qr]||[]).unshift(P(t)),o)throw s;return function Pm(e,t,n,r){const o=e[qr];throw t[Cc]&&o.unshift(t[Cc]),e.message=function Sm(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let o=P(t);if(Array.isArray(t))o=t.map(P).join(" -> ");else if("object"==typeof t){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):P(a)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(bm,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[qr]=null,e}(s,t,"R3InjectorError",this.source)}throw s}finally{it(i),pi(o)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,o)=>t.push(P(o))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,n,r){if(!(t=b(t)))return!1;let o=_l(t);const i=null==o&&t.ngModule||void 0,s=void 0===i?t:i,a=-1!==r.indexOf(s);if(void 0!==i&&(o=_l(i)),null==o)return!1;if(null!=o.imports&&!a){let u;r.push(s);try{He(o.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===u&&(u=[]),u.push(d))})}finally{}if(void 0!==u)for(let d=0;d<u.length;d++){const{ngModule:f,providers:p}=u[d];He(p,h=>this.processProvider(h,f,p||L))}}this.injectorDefTypes.add(s);const l=vt(s)||(()=>new s);this.records.set(s,Yt(l,zn));const c=o.providers;if(null!=c&&!a){const u=t;He(c,d=>this.processProvider(d,u,c))}return void 0!==i&&void 0!==t.providers}processProvider(t,n,r){let o=Xt(t=b(t))?t:b(t&&t.provide);const i=function jv(e,t,n){return gd(e)?Yt(void 0,e.useValue):Yt(hd(e),zn)}(t);if(Xt(t)||!0!==t.multi)this.records.get(o);else{let s=this.records.get(o);s||(s=Yt(void 0,zn,!0),s.factory=()=>gi(s.multi),this.records.set(o,s)),o=t,s.multi.push(t)}this.records.set(o,i)}hydrate(t,n){return n.value===zn&&(n.value=kv,n.value=n.factory()),"object"==typeof n.value&&n.value&&function qv(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=b(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function ds(e){const t=vr(e),n=null!==t?t.factory:vt(e);if(null!==n)return n;if(e instanceof B)throw new Error(`Token ${P(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function Vv(e){const t=e.length;if(t>0){const r=On(t,"?");throw new Error(`Can't resolve all parameters for ${P(e)}: (${r.join(", ")}).`)}const n=function yg(e){const t=e&&(e[Cn]||e[Dl]);if(t){const n=function vg(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function hd(e,t,n){let r;if(Xt(e)){const o=b(e);return vt(o)||ds(o)}if(gd(e))r=()=>b(e.useValue);else if(function $v(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...gi(e.deps||[]));else if(function Hv(e){return!(!e||!e.useExisting)}(e))r=()=>Y(b(e.useExisting));else{const o=b(e&&(e.useClass||e.provide));if(!function Uv(e){return!!e.deps}(e))return vt(o)||ds(o);r=()=>new o(...gi(e.deps))}return r}function Yt(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function gd(e){return null!==e&&"object"==typeof e&&xm in e}function Xt(e){return"function"==typeof e}let Ie=(()=>{class e{static create(n,r){if(Array.isArray(n))return us({name:""},r,n,"");{const o=n.name??"";return us({name:o},n.parent,n.providers,o)}}}return e.THROW_IF_NOT_FOUND=dt,e.NULL=new dd,e.\u0275prov=X({token:e,providedIn:"any",factory:()=>Y(io)}),e.__NG_ELEMENT_ID__=-1,e})();function fs(e){hs(e);const t=re(e);return null===t?null:(void 0===t.component&&(t.component=function fy(e,t){const n=t[1].data[e];return 2&n.flags?t[n.directiveStart]:null}(t.nodeIndex,t.lView)),t.component)}function md(e){hs(e);const t=re(e);return null===t?null:t.lView[8]}function yd(e){const t=re(e);if(null===t)return null;let r,n=t.lView;for(;2===n[1].type&&(r=qn(n));)n=r;return 512&n[2]?null:n[8]}function vd(e){return[...lu(e).components]}function Id(e){const t=re(e);return null===t?Ie.NULL:new Ft(t.lView[1].data[t.nodeIndex],t.lView)}function _d(e){if(e instanceof Text)return[];const t=re(e);if(null===t)return[];const n=t.lView,o=t.nodeIndex;return n[1]?.data[o]?(void 0===t.directives&&(t.directives=Kc(o,n,!1)),null===t.directives?[]:[...t.directives]):[]}function Wv(e){const{constructor:t}=e;if(!t)throw new Error("Unable to find the instance constructor");const n=te(t);if(n)return{inputs:n.inputs,outputs:n.outputs,encapsulation:n.encapsulation,changeDetection:n.onPush?he.OnPush:he.Default};const r=st(t);return r?{inputs:r.inputs,outputs:r.outputs}:null}function ps(e){return re(e).native}function Dd(e){hs(e);const t=re(e);if(null===t)return[];const n=t.lView,o=n[7],i=n[1].cleanup,s=[];if(i&&o)for(let a=0;a<i.length;){const l=i[a++],c=i[a++];if("string"==typeof l){const u=l,d=Q(n[c]),f=o[i[a++]],p=i[a++],h="boolean"==typeof p||p>=0?"dom":"output",y="boolean"==typeof p&&p;e==d&&s.push({element:e,name:u,callback:f,useCapture:y,type:h})}}return s.sort(Zv),s}function Zv(e,t){return e.name==t.name?0:e.name<t.name?-1:1}function Jv(e){return void 0!==e.type&&void 0!==e.template&&void 0!==e.declaredInputs}function hs(e){if("undefined"!=typeof Element&&!(e instanceof Element))throw new Error("Expecting instance of DOM Element")}function Kv(e){ud(e),vd(e).forEach(t=>cd(t))}let Ed=!1;function Yv(){Ed||(Ed=!0,Te("\u0275setProfiler",Lg),Te("getDirectiveMetadata",Wv),Te("getComponent",fs),Te("getContext",md),Te("getListeners",Dd),Te("getOwningComponent",yd),Te("getHostElement",ps),Te("getInjector",Id),Te("getRootComponents",vd),Te("getDirectives",_d),Te("applyChanges",Kv))}function Te(e,t){if("undefined"==typeof COMPILED||!COMPILED){const n=j;if(n){let r=n.ng;r||(r=n.ng={}),r[e]=t}}}function Xv(e,t={}){const n=t.rendererFactory||Vl,r=t.sanitizer||null,o=te(e);o.type!=e&&(o.type=e);const i=o.selectors[0][0],a=Wu(n.createRenderer(null,null),t.host||i,o.encapsulation),l=o.onPush?576:528,c=bd(t.scheduler,t.playerHandler),u=n.createRenderer(a,o),d=no(0,null,null,1,0,null,null,null,null,null),f=Qn(null,d,c,l,null,null,n,u,null,t.injector||null);let p;Rr(f);try{n.begin&&n.begin(),p=Md(wd(a,o,f,n,u,r),o,f,c,t.hostFeatures||null),Wn(d,f,null),Kt(d,f,null,null)}finally{Ar(),n.end&&n.end()}return p}function wd(e,t,n,r,o,i){const s=n[1];n[20]=e;const l=Zt(s,20,2,"#host",null),c=l.mergedAttrs=t.hostAttrs;null!==c&&(oo(l,c,!0),null!==e&&(Lr(o,e,c),null!==l.classes&&Hi(o,e,l.classes),null!==l.styles&&wu(o,e,l.styles)));const u=r.createRenderer(e,t),d=Qn(n,Gu(t),null,t.onPush?64:16,n[20],l,r,u,i||null,null);return s.firstCreatePass&&(jr(Rn(l,n),s,t.type),Xu(s,l),ed(l,n.length,1)),ro(n,d),n[20]=d}function Md(e,t,n,r,o){const i=n[1],s=function yv(e,t,n){const r=W();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),td(e,r,t,Jt(e,t,1,null),n));const o=An(t,e,r.directiveStart,r);oe(o,t);const i=Me(r,t);return i&&oe(i,t),o}(i,n,t);if(r.components.push(s),e[8]=s,o&&o.forEach(l=>l(s,t)),t.contentQueries){const l=W();t.contentQueries(1,s,l.directiveStart)}const a=W();return!i.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(lt(a.index),Ku(n[1],a,0,a.directiveStart,a.directiveEnd,t),Yu(t,s)),s}function bd(e,t){return{components:[],scheduler:e||tu,clean:Lv,playerHandler:t||null,flags:0}}function Td(e,t){Pr(bi(e)[1],W())}function eI(e){return lu(e).clean}function xd(e){return Object.getPrototypeOf(e.prototype).constructor}function gs(e){let t=xd(e.type),n=!0;const r=[e];for(;t;){let o;if(Ae(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");o=t.\u0275dir}if(o){if(n){r.push(o);const s=e;s.inputs=ms(e.inputs),s.declaredInputs=ms(e.declaredInputs),s.outputs=ms(e.outputs);const a=o.hostBindings;a&&oI(e,a);const l=o.viewQuery,c=o.contentQueries;if(l&&nI(e,l),c&&rI(e,c),Ao(e.inputs,o.inputs),Ao(e.declaredInputs,o.declaredInputs),Ao(e.outputs,o.outputs),Ae(o)&&o.data.animation){const u=e.data;u.animation=(u.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(e),a===gs&&(n=!1)}}t=Object.getPrototypeOf(t)}!function tI(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=kr(o.hostAttrs,n=kr(n,o.hostAttrs))}}(r)}function ms(e){return e===Tt?{}:e===L?[]:e}function nI(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function rI(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,i)=>{t(r,o,i),n(r,o,i)}:t}function oI(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}const iI=["providersResolver"],sI=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function Nd(e){let n,t=xd(e.type);n=Ae(e)?t.\u0275cmp:t.\u0275dir;const r=e;for(const o of iI)r[o]=n[o];if(Ae(n))for(const o of sI)r[o]=n[o]}let so=null;function en(){if(!so){const e=j.Symbol;if(e&&e.iterator)so=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(so=r)}}}return so}function Rd(e,t){const n=Zn(e),r=Zn(t);return n&&r?function aI(e,t,n){const r=e[en()](),o=t[en()]();for(;;){const i=r.next(),s=o.next();if(i.done&&s.done)return!0;if(i.done||s.done||!n(i.value,s.value))return!1}}(e,t,Rd):!(n||!e||"object"!=typeof e&&"function"!=typeof e||r||!t||"object"!=typeof t&&"function"!=typeof t)||Object.is(e,t)}function Zn(e){return!!ys(e)&&(Array.isArray(e)||!(e instanceof Map)&&en()in e)}function ys(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ge(e,t,n){return e[t]=n}function Jn(e,t){return e[t]}function ie(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Et(e,t,n,r){const o=ie(e,t,n);return ie(e,t+1,r)||o}function ao(e,t,n,r,o){const i=Et(e,t,n,r);return ie(e,t+2,o)||i}function xe(e,t,n,r,o,i){const s=Et(e,t,n,r);return Et(e,t+2,o,i)||s}function vs(e,t,n,r){const o=m();return ie(o,Ot(),t)&&(A(),qe($(),o,e,t,n,r)),vs}function tn(e,t){let n=!1,r=Xe();for(let i=1;i<t.length;i+=2)n=ie(e,r++,t[i])||n;if(Ql(r),!n)return w;let o=t[0];for(let i=1;i<t.length;i+=2)o+=M(t[i])+t[i+1];return o}function nn(e,t,n,r){return ie(e,Ot(),n)?t+M(n)+r:w}function rn(e,t,n,r,o,i){const a=Et(e,Xe(),n,o);return et(2),a?t+M(n)+r+M(o)+i:w}function on(e,t,n,r,o,i,s,a){const c=ao(e,Xe(),n,o,s);return et(3),c?t+M(n)+r+M(o)+i+M(s)+a:w}function sn(e,t,n,r,o,i,s,a,l,c){const d=xe(e,Xe(),n,o,s,l);return et(4),d?t+M(n)+r+M(o)+i+M(s)+a+M(l)+c:w}function an(e,t,n,r,o,i,s,a,l,c,u,d){const f=Xe();let p=xe(e,f,n,o,s,l);return p=ie(e,f+4,u)||p,et(5),p?t+M(n)+r+M(o)+i+M(s)+a+M(l)+c+M(u)+d:w}function ln(e,t,n,r,o,i,s,a,l,c,u,d,f,p){const h=Xe();let y=xe(e,h,n,o,s,l);return y=Et(e,h+4,u,f)||y,et(6),y?t+M(n)+r+M(o)+i+M(s)+a+M(l)+c+M(u)+d+M(f)+p:w}function cn(e,t,n,r,o,i,s,a,l,c,u,d,f,p,h,y){const v=Xe();let _=xe(e,v,n,o,s,l);return _=ao(e,v+4,u,f,h)||_,et(7),_?t+M(n)+r+M(o)+i+M(s)+a+M(l)+c+M(u)+d+M(f)+p+M(h)+y:w}function un(e,t,n,r,o,i,s,a,l,c,u,d,f,p,h,y,v,_){const g=Xe();let D=xe(e,g,n,o,s,l);return D=xe(e,g+4,u,f,h,v)||D,et(8),D?t+M(n)+r+M(o)+i+M(s)+a+M(l)+c+M(u)+d+M(f)+p+M(h)+y+M(v)+_:w}function Is(e,t,n,r,o,i){const s=m(),a=nn(s,t,n,r);return a!==w&&qe($(),s,e,a,o,i),Is}function _s(e,t,n,r,o,i,s,a){const l=m(),c=rn(l,t,n,r,o,i);return c!==w&&qe($(),l,e,c,s,a),_s}function Ds(e,t,n,r,o,i,s,a,l,c){const u=m(),d=on(u,t,n,r,o,i,s,a);return d!==w&&qe($(),u,e,d,l,c),Ds}function Cs(e,t,n,r,o,i,s,a,l,c,u,d){const f=m(),p=sn(f,t,n,r,o,i,s,a,l,c);return p!==w&&qe($(),f,e,p,u,d),Cs}function Es(e,t,n,r,o,i,s,a,l,c,u,d,f,p){const h=m(),y=an(h,t,n,r,o,i,s,a,l,c,u,d);return y!==w&&qe($(),h,e,y,f,p),Es}function ws(e,t,n,r,o,i,s,a,l,c,u,d,f,p,h,y){const v=m(),_=ln(v,t,n,r,o,i,s,a,l,c,u,d,f,p);return _!==w&&qe($(),v,e,_,h,y),ws}function Ms(e,t,n,r,o,i,s,a,l,c,u,d,f,p,h,y,v,_){const g=m(),D=cn(g,t,n,r,o,i,s,a,l,c,u,d,f,p,h,y);return D!==w&&qe($(),g,e,D,v,_),Ms}function bs(e,t,n,r,o,i,s,a,l,c,u,d,f,p,h,y,v,_,g,D){const R=m(),S=un(R,t,n,r,o,i,s,a,l,c,u,d,f,p,h,y,v,_);return S!==w&&qe($(),R,e,S,g,D),bs}function Ts(e,t,n,r){const o=m(),i=tn(o,t);return i!==w&&qe($(),o,e,i,n,r),Ts}function Ad(e,t,n,r,o,i,s,a){const l=m(),c=A(),u=e+k,d=c.firstCreatePass?function cI(e,t,n,r,o,i,s,a,l){const c=t.consts,u=Zt(t,e,4,s||null,at(c,a));ts(t,n,u,at(c,l)),Pr(t,u);const d=u.tViews=no(2,u,r,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,n,r,o,i,s):c.data[u];je(d,!1);const f=l[x].createComment("");Kr(c,l,f,d),oe(f,l),ro(l,l[u]=nd(f,l,f,d)),br(d)&&Xi(c,l,d),null!=s&&es(l,d,a)}function Pd(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function Sd(e){return St(function qg(){return E.lFrame.contextLView}(),k+e)}const Od={\u0275\u0275defineInjectable:X,\u0275\u0275defineInjector:yr,\u0275\u0275inject:Y,\u0275\u0275invalidFactoryDep:hi,resolveForwardRef:b};const dI=O({provide:String,useValue:O});function Ld(e){return void 0!==e.useClass}function kd(e){return void 0!==e.useFactory}const gI=$t("Injectable",void 0,void 0,void 0,(e,t)=>function uI(e,t){let n=null,r=null;e.hasOwnProperty(Cn)||Object.defineProperty(e,Cn,{get:()=>(null===n&&(n=Z().compileInjectable(Od,`ng:///${e.name}/\u0275prov.js`,function hI(e,t){const n=t||{providedIn:null},r={name:e.name,type:e,typeArgumentCount:0,providedIn:n.providedIn};return(Ld(n)||kd(n))&&void 0!==n.deps&&(r.deps=Mc(n.deps)),Ld(n)?r.useClass=n.useClass:function fI(e){return dI in e}(n)?r.useValue=n.useValue:kd(n)?r.useFactory=n.useFactory:function pI(e){return void 0!==e.useExisting}(n)&&(r.useExisting=n.useExisting),r}(e,t))),n)}),e.hasOwnProperty(Ye)||Object.defineProperty(e,Ye,{get:()=>{if(null===r){const o=Z();r=o.compileFactory(Od,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,typeArgumentCount:0,deps:Qr(e),target:o.FactoryTarget.Injectable})}return r},configurable:!0})}(e,t));function xs(e){return e.length>1?" ("+function mI(e){const t=[];for(let n=0;n<e.length;++n){if(t.indexOf(e[n])>-1)return t.push(e[n]),t;t.push(e[n])}return t}(e.slice().reverse()).map(r=>P(r.token)).join(" -> ")+")":""}function Ns(e,t,n,r){const o=[t],i=n(o),s=r?function gy(e,t){const n=`${e} caused by: ${t instanceof Error?t.message:t}`,r=Error(n);return r[Ti]=t,r}(i,r):Error(i);return s.addKey=yI,s.keys=o,s.injectors=[e],s.constructResolvingMessage=n,s[Ti]=r,s}function yI(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)}function Fd(e,t){const n=[];for(let r=0,o=t.length;r<o;r++){const i=t[r];n.push(i&&0!=i.length?i.map(P).join(" "):"?")}return Error("Cannot resolve all parameters for '"+P(e)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+P(e)+"' is decorated with Injectable.")}function EI(e,t){return Error(`Cannot mix multi providers and regular providers, got: ${e} ${t}`)}class ot{constructor(t,n){if(this.token=t,this.id=n,!t)throw new Error("Token must be defined!");this.displayName=P(this.token)}static get(t){return Vd.get(b(t))}static get numberOfKeys(){return Vd.numberOfKeys}}class wI{constructor(){this._allKeys=new Map}get(t){if(t instanceof ot)return t;if(this._allKeys.has(t))return this._allKeys.get(t);const n=new ot(t,ot.numberOfKeys);return this._allKeys.set(t,n),n}get numberOfKeys(){return this._allKeys.size}}const Vd=new wI;class MI{constructor(t){this.reflectionCapabilities=t}updateCapabilities(t){this.reflectionCapabilities=t}factory(t){return this.reflectionCapabilities.factory(t)}parameters(t){return this.reflectionCapabilities.parameters(t)}annotations(t){return this.reflectionCapabilities.annotations(t)}propMetadata(t){return this.reflectionCapabilities.propMetadata(t)}hasLifecycleHook(t,n){return this.reflectionCapabilities.hasLifecycleHook(t,n)}getter(t){return this.reflectionCapabilities.getter(t)}setter(t){return this.reflectionCapabilities.setter(t)}method(t){return this.reflectionCapabilities.method(t)}importUri(t){return this.reflectionCapabilities.importUri(t)}resourceUri(t){return this.reflectionCapabilities.resourceUri(t)}resolveIdentifier(t,n,r,o){return this.reflectionCapabilities.resolveIdentifier(t,n,r,o)}resolveEnum(t,n){return this.reflectionCapabilities.resolveEnum(t,n)}}const jd=new MI(new ui);class lo{constructor(t,n,r){this.key=t,this.optional=n,this.visibility=r}static fromKey(t){return new lo(t,!1,null)}}const bI=[];class Hd{constructor(t,n,r){this.key=t,this.resolvedFactories=n,this.multiProvider=r,this.resolvedFactory=this.resolvedFactories[0]}}class $d{constructor(t,n){this.factory=t,this.dependencies=n}}function TI(e){let t,n;if(e.useClass){const r=b(e.useClass);t=jd.factory(r),n=Ud(r)}else e.useExisting?(t=r=>r,n=[lo.fromKey(ot.get(e.useExisting))]):e.useFactory?(t=e.useFactory,n=function AI(e,t){if(t){const n=t.map(r=>[r]);return t.map(r=>qd(e,r,n))}return Ud(e)}(e.useFactory,e.deps)):(t=()=>e.useValue,n=bI);return new $d(t,n)}function xI(e){return new Hd(ot.get(e.provide),[TI(e)],e.multi||!1)}function NI(e){const r=function RI(e,t){for(let n=0;n<e.length;n++){const r=e[n],o=t.get(r.key.id);if(o){if(r.multiProvider!==o.multiProvider)throw EI(o,r);if(r.multiProvider)for(let i=0;i<r.resolvedFactories.length;i++)o.resolvedFactories.push(r.resolvedFactories[i]);else t.set(r.key.id,r)}else{let i;i=r.multiProvider?new Hd(r.key,r.resolvedFactories.slice(),r.multiProvider):r,t.set(r.key.id,i)}}return t}(Bd(e,[]).map(xI),new Map);return Array.from(r.values())}function Bd(e,t){return e.forEach(n=>{if(n instanceof $r)t.push({provide:n,useClass:n});else if(n&&"object"==typeof n&&void 0!==n.provide)t.push(n);else{if(!Array.isArray(n))throw function DI(e){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${e}`)}(n);Bd(n,t)}}),t}function Ud(e){const t=jd.parameters(e);if(!t)return[];if(t.some(n=>null==n))throw Fd(e,t);return t.map(n=>qd(e,n,t))}function qd(e,t,n){let r=null,o=!1;if(!Array.isArray(t))return Rs(t instanceof Fn?t.token:t,o,null);let i=null;for(let s=0;s<t.length;++s){const a=t[s];a instanceof $r?r=a:a instanceof Fn?r=a.token:a instanceof It?o=!0:a instanceof Gr||a instanceof _t?i=a:a instanceof B&&(r=a)}if(r=b(r),null!=r)return Rs(r,o,i);throw Fd(e,n)}function Rs(e,t,n){return new lo(ot.get(e),t,n)}const Kn={};class dn{static resolve(t){return NI(t)}static resolveAndCreate(t,n){const r=dn.resolve(t);return dn.fromResolvedProviders(r,n)}static fromResolvedProviders(t,n){return new PI(t,n)}}let PI=(()=>{class e{constructor(n,r){this._constructionCounter=0,this._providers=n,this.parent=r||null;const o=n.length;this.keyIds=[],this.objs=[];for(let i=0;i<o;i++)this.keyIds[i]=n[i].key.id,this.objs[i]=Kn}get(n,r=dt){return this._getByKey(ot.get(n),null,r)}resolveAndCreateChild(n){const r=dn.resolve(n);return this.createChildFromResolved(r)}createChildFromResolved(n){const r=new e(n);return r.parent=this,r}resolveAndInstantiate(n){return this.instantiateResolved(dn.resolve([n])[0])}instantiateResolved(n){return this._instantiateProvider(n)}getProviderAtIndex(n){if(n<0||n>=this._providers.length)throw function CI(e){return Error(`Index ${e} is out-of-bounds.`)}(n);return this._providers[n]}_new(n){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function II(e,t){return Ns(e,t,function(n){return`Cannot instantiate cyclic dependency!${xs(n)}`})}(this,n.key);return this._instantiateProvider(n)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(n){if(n.multiProvider){const r=[];for(let o=0;o<n.resolvedFactories.length;++o)r[o]=this._instantiate(n,n.resolvedFactories[o]);return r}return this._instantiate(n,n.resolvedFactories[0])}_instantiate(n,r){const o=r.factory;let i,s;try{i=r.dependencies.map(a=>this._getByReflectiveDependency(a))}catch(a){throw a.addKey&&a.addKey(this,n.key),a}try{s=o(...i)}catch(a){throw function _I(e,t,n,r){return Ns(e,r,function(o){const i=P(o[0].token);return`${t.message}: Error during instantiation of ${i}!${xs(o)}.`},t)}(this,a,0,n.key)}return s}_getByReflectiveDependency(n){return this._getByKey(n.key,n.visibility,n.optional?null:dt)}_getByKey(n,r,o){return n===e.INJECTOR_KEY?this:r instanceof Gr?this._getByKeySelf(n,o):this._getByKeyDefault(n,o,r)}_getObjByKeyId(n){for(let r=0;r<this.keyIds.length;r++)if(this.keyIds[r]===n)return this.objs[r]===Kn&&(this.objs[r]=this._new(this._providers[r])),this.objs[r];return Kn}_throwOrNull(n,r){if(r!==dt)return r;throw function vI(e,t){return Ns(e,t,function(n){return`No provider for ${P(n[0].token)}!${xs(n)}`})}(this,n)}_getByKeySelf(n,r){const o=this._getObjByKeyId(n.id);return o!==Kn?o:this._throwOrNull(n,r)}_getByKeyDefault(n,r,o){let i;for(i=o instanceof _t?this.parent:this;i instanceof e;){const s=i,a=s._getObjByKeyId(n.id);if(a!==Kn)return a;i=s.parent}return null!==i?i.get(n.token,r):this._throwOrNull(n,r)}get displayName(){return`ReflectiveInjector(providers: [${function SI(e,t){const n=[];for(let r=0;r<e._providers.length;++r)n[r]=t(e.getProviderAtIndex(r));return n}(this,r=>' "'+r.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}return e.INJECTOR_KEY=ot.get(Ie),e})();function Yn(e,t=T.Default){const n=m();return null===n?Y(e,t):dc(W(),n,b(e),t)}function Gd(){throw new Error("invalid")}function As(e,t,n){const r=m();return ie(r,Ot(),t)&&ve(A(),$(),r,e,t,r[x],n,!1),As}function Ps(e,t,n,r,o){const s=o?"class":"style";ld(e,n,t.inputs[s],s,r)}function Ss(e,t,n,r){const o=m(),i=A(),s=k+e,a=o[x],l=o[s]=Oi(a,t,function Yg(){return E.lFrame.currentNamespace}()),c=i.firstCreatePass?function OI(e,t,n,r,o,i,s){const a=t.consts,c=Zt(t,e,2,o,at(a,i));return ts(t,n,c,at(a,s)),null!==c.attrs&&oo(c,c.attrs,!1),null!==c.mergedAttrs&&oo(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,i,o,0,t,n,r):i.data[s];je(c,!0);const u=c.mergedAttrs;null!==u&&Lr(a,l,u);const d=c.classes;null!==d&&Hi(a,l,d);const f=c.styles;null!==f&&wu(a,l,f),64!=(64&c.flags)&&Kr(i,o,l,c),0===function $g(){return E.lFrame.elementDepthCount}()&&oe(l,o),function Bg(){E.lFrame.elementDepthCount++}(),br(c)&&(Xi(i,o,c),qu(i,c,o)),null!==r&&es(o,c)}function Os(){let e=W();Zo()?Jo():(e=e.parent,je(e,!1));const t=e;!function Ug(){E.lFrame.elementDepthCount--}();const n=A();n.firstCreatePass&&(Pr(n,e),Ho(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function rm(e){return 0!=(16&e.flags)}(t)&&Ps(n,t,m(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function om(e){return 0!=(32&e.flags)}(t)&&Ps(n,t,m(),t.stylesWithoutHost,!1)}function Qd(e,t,n,r){Ss(e,t,n,r),Os()}function Ls(e,t,n){const r=m(),o=A(),i=e+k,s=o.firstCreatePass?function LI(e,t,n,r,o){const i=t.consts,s=at(i,r),a=Zt(t,e,8,"ng-container",s);return null!==s&&oo(a,s,!0),ts(t,n,a,at(i,o)),null!==t.queries&&t.queries.elementStart(t,a),a}(i,o,r,t,n):o.data[i];je(s,!0);const a=r[i]=r[x].createComment("");Kr(o,r,a,s),oe(a,r),br(s)&&(Xi(o,r,s),qu(o,s,r)),null!=n&&es(r,s)}function ks(){let e=W();const t=A();Zo()?Jo():(e=e.parent,je(e,!1)),t.firstCreatePass&&(Pr(t,e),Ho(e)&&t.queries.elementEnd(e))}function Wd(e,t,n){Ls(e,t,n),ks()}function zd(){return m()}function Fs(e){return!!e&&"function"==typeof e.then}function Zd(e){return!!e&&"function"==typeof e.subscribe}const Jd=Zd;function Vs(e,t,n,r){const o=m(),i=A(),s=W();return Kd(i,o,o[x],s,e,t,!!n,r),Vs}function js(e,t){const n=W(),r=m(),o=A();return Kd(o,r,sd(Yo(o.data),n,r),n,e,t,!1),js}function Kd(e,t,n,r,o,i,s,a){const l=br(r),u=e.firstCreatePass&&id(e),d=t[8],f=od(t);let p=!0;if(3&r.type||a){const v=Me(r,t),_=a?a(v):v,g=f.length,D=a?R=>a(Q(R[r.index])):r.index;if(H(n)){let R=null;if(!a&&l&&(R=function kI(e,t,n,r){const o=e.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===n&&o[i+1]===r){const a=t[7],l=o[i+2];return a.length>l?a[l]:null}"string"==typeof s&&(i+=2)}return null}(e,t,o,r.index)),null!==R)(R.__ngLastListenerFn__||R).__ngNextListenerFn__=i,R.__ngLastListenerFn__=i,p=!1;else{i=Hs(r,t,d,i,!1);const S=n.listen(_,o,i);f.push(i,S),u&&u.push(o,D,g,g+1)}}else i=Hs(r,t,d,i,!0),_.addEventListener(o,i,s),f.push(i),u&&u.push(o,D,g,s)}else i=Hs(r,t,d,i,!1);const h=r.outputs;let y;if(p&&null!==h&&(y=h[o])){const v=y.length;if(v)for(let _=0;_<v;_+=2){const De=t[y[_]][y[_+1]].subscribe(i),bt=f.length;f.push(i,De),u&&u.push(o,r.index,bt,-(bt+1))}}}function Yd(e,t,n,r){try{return we(6,t,n),!1!==n(r)}catch(o){return ad(e,o),!1}finally{we(7,t,n)}}function Hs(e,t,n,r,o){return function i(s){if(s===Function)return r;const a=2&e.flags?me(e.index,t):t;0==(32&t[2])&&os(a);let l=Yd(t,n,r,s),c=i.__ngNextListenerFn__;for(;c;)l=Yd(t,n,c,s)&&l,c=c.__ngNextListenerFn__;return o&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function Xd(e=1){return function Zg(e){return(E.lFrame.contextLView=function Jg(e,t){for(;e>0;)t=t[15],e--;return t}(e,E.lFrame.contextLView))[8]}(e)}function FI(e,t){let n=null;const r=function qy(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e);for(let o=0;o<t.length;o++){const i=t[o];if("*"!==i){if(null===r?xu(e,i,!0):Wy(r,i))return o}else n=o}return n}function ef(e){const t=m()[16][6];if(!t.projection){const r=t.projection=On(e?e.length:1,null),o=r.slice();let i=t.child;for(;null!==i;){const s=e?FI(i,e):0;null!==s&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i),i=i.next}}}function tf(e,t=0,n){const r=m(),o=A(),i=Zt(o,k+e,16,null,n||null);null===i.projection&&(i.projection=t),Jo(),64!=(64&i.flags)&&function Fy(e,t,n){Eu(t[x],0,t,n,pu(e,n,t),yu(n.parent||t[6],n,t))}(o,r,i)}function $s(e,t,n){return co(e,"",t,"",n),$s}function co(e,t,n,r,o){const i=m(),s=nn(i,t,n,r);return s!==w&&ve(A(),$(),i,e,s,i[x],o,!1),co}function Bs(e,t,n,r,o,i,s){const a=m(),l=rn(a,t,n,r,o,i);return l!==w&&ve(A(),$(),a,e,l,a[x],s,!1),Bs}function Us(e,t,n,r,o,i,s,a,l){const c=m(),u=on(c,t,n,r,o,i,s,a);return u!==w&&ve(A(),$(),c,e,u,c[x],l,!1),Us}function qs(e,t,n,r,o,i,s,a,l,c,u){const d=m(),f=sn(d,t,n,r,o,i,s,a,l,c);return f!==w&&ve(A(),$(),d,e,f,d[x],u,!1),qs}function Gs(e,t,n,r,o,i,s,a,l,c,u,d,f){const p=m(),h=an(p,t,n,r,o,i,s,a,l,c,u,d);return h!==w&&ve(A(),$(),p,e,h,p[x],f,!1),Gs}function Qs(e,t,n,r,o,i,s,a,l,c,u,d,f,p,h){const y=m(),v=ln(y,t,n,r,o,i,s,a,l,c,u,d,f,p);return v!==w&&ve(A(),$(),y,e,v,y[x],h,!1),Qs}function Ws(e,t,n,r,o,i,s,a,l,c,u,d,f,p,h,y,v){const _=m(),g=cn(_,t,n,r,o,i,s,a,l,c,u,d,f,p,h,y);return g!==w&&ve(A(),$(),_,e,g,_[x],v,!1),Ws}function zs(e,t,n,r,o,i,s,a,l,c,u,d,f,p,h,y,v,_,g){const D=m(),R=un(D,t,n,r,o,i,s,a,l,c,u,d,f,p,h,y,v,_);return R!==w&&ve(A(),$(),D,e,R,D[x],g,!1),zs}function Zs(e,t,n){const r=m(),o=tn(r,t);return o!==w&&ve(A(),$(),r,e,o,r[x],n,!1),Zs}function nf(e,t,n,r,o){const i=e[n+1],s=null===t;let a=r?Se(i):nt(i),l=!1;for(;0!==a&&(!1===l||s);){const u=e[a+1];HI(e[a],t)&&(l=!0,e[a+1]=r?Ui(u):$i(u)),a=r?Se(u):nt(u)}l&&(e[n+1]=r?$i(i):Ui(i))}function HI(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ut(e,t)>=0}const J={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function rf(e){return e.substring(J.key,J.keyEnd)}function $I(e){return e.substring(J.value,J.valueEnd)}function of(e,t){const n=J.textEnd;return n===t?-1:(t=J.keyEnd=function qI(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,J.key=t,n),fn(e,t,n))}function sf(e,t){const n=J.textEnd;let r=J.key=fn(e,t,n);return n===r?-1:(r=J.keyEnd=function GI(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=lf(e,r,n),r=J.value=fn(e,r,n),r=J.valueEnd=function QI(e,t,n){let r=-1,o=-1,i=-1,s=t,a=s;for(;s<n;){const l=e.charCodeAt(s++);if(59===l)return a;34===l||39===l?a=s=cf(e,l,s,n):t===s-4&&85===i&&82===o&&76===r&&40===l?a=s=cf(e,41,s,n):l>32&&(a=s),i=o,o=r,r=-33&l}return a}(e,r,n),lf(e,r,n))}function af(e){J.key=0,J.keyEnd=0,J.value=0,J.valueEnd=0,J.textEnd=e.length}function fn(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function lf(e,t,n,r){return(t=fn(e,t,n))<n&&t++,t}function cf(e,t,n,r){let o=-1,i=n;for(;i<r;){const s=e.charCodeAt(i++);if(s==t&&92!==o)return i;o=92==s&&92===o?0:s}throw new Error}function Js(e,t,n){return Le(e,t,n,!1),Js}function Ks(e,t){return Le(e,t,null,!0),Ks}function Oe(e){ke(pf,WI,e,!1)}function WI(e,t){for(let n=function UI(e){return af(e),sf(e,fn(e,0,J.textEnd))}(t);n>=0;n=sf(t,n))pf(e,rf(t),$I(t))}function uf(e){ke(ye,Qe,e,!0)}function Qe(e,t){for(let n=function BI(e){return af(e),of(e,fn(e,0,J.textEnd))}(t);n>=0;n=of(t,n))ye(e,rf(t),!0)}function Le(e,t,n,r){const o=m(),i=A(),s=et(2);i.firstUpdatePass&&ff(i,e,s,r),t!==w&&ie(o,s,t)&&hf(i,i.data[le()],o,o[x],e,o[s+1]=function e_(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=P(tt(e)))),e}(t,n),r,s)}function ke(e,t,n,r){const o=A(),i=et(2);o.firstUpdatePass&&ff(o,null,i,r);const s=m();if(n!==w&&ie(s,i,n)){const a=o.data[le()];if(mf(a,r)&&!df(o,i)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(n=Po(l,n||"")),Ps(o,a,s,n,r)}else!function XI(e,t,n,r,o,i,s,a){o===w&&(o=L);let l=0,c=0,u=0<o.length?o[0]:null,d=0<i.length?i[0]:null;for(;null!==u||null!==d;){const f=l<o.length?o[l+1]:void 0,p=c<i.length?i[c+1]:void 0;let y,h=null;u===d?(l+=2,c+=2,f!==p&&(h=d,y=p)):null===d||null!==u&&u<d?(l+=2,h=u):(c+=2,h=d,y=p),null!==h&&hf(e,t,n,r,h,y,s,a),u=l<o.length?o[l]:null,d=c<i.length?i[c]:null}}(o,a,s,s[x],s[i+1],s[i+1]=function YI(e,t,n){if(null==n||""===n)return L;const r=[],o=tt(n);if(Array.isArray(o))for(let i=0;i<o.length;i++)e(r,o[i],!0);else if("object"==typeof o)for(const i in o)o.hasOwnProperty(i)&&e(r,i,o[i]);else"string"==typeof o&&t(r,o);return r}(e,t,n),r,i)}}function df(e,t){return t>=e.expandoStartIndex}function ff(e,t,n,r){const o=e.data;if(null===o[n+1]){const i=o[le()],s=df(e,n);mf(i,r)&&null===t&&!s&&(t=!1),t=function zI(e,t,n,r){const o=Yo(e);let i=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=Xn(n=Ys(null,e,t,n,r),t.attrs,r),i=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==o)if(n=Ys(o,e,t,n,r),null===i){let l=function ZI(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==nt(r))return e[Se(r)]}(e,t,r);void 0!==l&&Array.isArray(l)&&(l=Ys(null,e,t,l[1],r),l=Xn(l,t.attrs,r),function JI(e,t,n,r){e[Se(n?t.classBindings:t.styleBindings)]=r}(e,t,r,l))}else i=function KI(e,t,n){let r;const o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++)r=Xn(r,e[i].hostAttrs,n);return Xn(r,t.attrs,n)}(e,t,r)}return void 0!==i&&(r?t.residualClasses=i:t.residualStyles=i),n}(o,i,t,r),function VI(e,t,n,r,o,i){let s=i?t.classBindings:t.styleBindings,a=Se(s),l=nt(s);e[r]=n;let u,c=!1;if(Array.isArray(n)){const d=n;u=d[1],(null===u||Ut(d,u)>0)&&(c=!0)}else u=n;if(o)if(0!==l){const f=Se(e[a+1]);e[r+1]=Xr(f,a),0!==f&&(e[f+1]=Bi(e[f+1],r)),e[a+1]=function Ky(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=Xr(a,0),0!==a&&(e[a+1]=Bi(e[a+1],r)),a=r;else e[r+1]=Xr(l,0),0===a?a=r:e[l+1]=Bi(e[l+1],r),l=r;c&&(e[r+1]=$i(e[r+1])),nf(e,u,r,!0),nf(e,u,r,!1),function jI(e,t,n,r,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&Ut(i,t)>=0&&(n[r+1]=Ui(n[r+1]))}(t,u,e,r,i),s=Xr(a,l),i?t.classBindings=s:t.styleBindings=s}(o,i,t,n,s,r)}}function Ys(e,t,n,r,o){let i=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(i=t[a],r=Xn(r,i.hostAttrs,o),i!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Xn(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?o=s:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ye(e,s,!!n||t[++i]))}return void 0===e?null:e}function pf(e,t,n){ye(e,t,tt(n))}function hf(e,t,n,r,o,i,s,a){if(!(3&t.type))return;const l=e.data,c=l[a+1];uo(function Ou(e){return 1==(1&e)}(c)?gf(l,t,n,o,nt(c),s):void 0)||(uo(i)||function Su(e){return 2==(2&e)}(c)&&(i=gf(l,null,n,o,a,s)),function jy(e,t,n,r,o){const i=H(e);if(t)o?i?e.addClass(n,r):n.classList.add(r):i?e.removeClass(n,r):n.classList.remove(r);else{let s=-1===r.indexOf("-")?void 0:Ue.DashCase;if(null==o)i?e.removeStyle(n,r,s):n.style.removeProperty(r);else{const a="string"==typeof o&&o.endsWith("!important");a&&(o=o.slice(0,-10),s|=Ue.Important),i?e.setStyle(n,r,o,s):n.style.setProperty(r,o,a?"important":"")}}}(r,s,Tr(le(),n),o,i))}function gf(e,t,n,r,o,i){const s=null===t;let a;for(;o>0;){const l=e[o],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let f=n[o+1];f===w&&(f=d?L:void 0);let p=d?ci(f,r):u===r?f:void 0;if(c&&!uo(p)&&(p=ci(l,r)),uo(p)&&(a=p,s))return a;const h=e[o+1];o=s?Se(h):nt(h)}if(null!==t){let l=i?t.residualClasses:t.residualStyles;null!=l&&(a=ci(l,r))}return a}function uo(e){return void 0!==e}function mf(e,t){return 0!=(e.flags&(t?16:32))}function yf(e,t=""){const n=m(),r=A(),o=e+k,i=r.firstCreatePass?Zt(r,o,1,t,null):r.data[o],s=n[o]=Si(n[x],t);Kr(r,n,s,i),je(i,!1)}function Xs(e){return fo("",e,""),Xs}function fo(e,t,n){const r=m(),o=nn(r,e,t,n);return o!==w&&rt(r,le(),o),fo}function ea(e,t,n,r,o){const i=m(),s=rn(i,e,t,n,r,o);return s!==w&&rt(i,le(),s),ea}function ta(e,t,n,r,o,i,s){const a=m(),l=on(a,e,t,n,r,o,i,s);return l!==w&&rt(a,le(),l),ta}function na(e,t,n,r,o,i,s,a,l){const c=m(),u=sn(c,e,t,n,r,o,i,s,a,l);return u!==w&&rt(c,le(),u),na}function ra(e,t,n,r,o,i,s,a,l,c,u){const d=m(),f=an(d,e,t,n,r,o,i,s,a,l,c,u);return f!==w&&rt(d,le(),f),ra}function oa(e,t,n,r,o,i,s,a,l,c,u,d,f){const p=m(),h=ln(p,e,t,n,r,o,i,s,a,l,c,u,d,f);return h!==w&&rt(p,le(),h),oa}function ia(e,t,n,r,o,i,s,a,l,c,u,d,f,p,h){const y=m(),v=cn(y,e,t,n,r,o,i,s,a,l,c,u,d,f,p,h);return v!==w&&rt(y,le(),v),ia}function sa(e,t,n,r,o,i,s,a,l,c,u,d,f,p,h,y,v){const _=m(),g=un(_,e,t,n,r,o,i,s,a,l,c,u,d,f,p,h,y,v);return g!==w&&rt(_,le(),g),sa}function aa(e){const t=m(),n=tn(t,e);return n!==w&&rt(t,le(),n),aa}function vf(e,t,n){ke(ye,Qe,nn(m(),e,t,n),!0)}function If(e,t,n,r,o){ke(ye,Qe,rn(m(),e,t,n,r,o),!0)}function _f(e,t,n,r,o,i,s){ke(ye,Qe,on(m(),e,t,n,r,o,i,s),!0)}function Df(e,t,n,r,o,i,s,a,l){ke(ye,Qe,sn(m(),e,t,n,r,o,i,s,a,l),!0)}function Cf(e,t,n,r,o,i,s,a,l,c,u){ke(ye,Qe,an(m(),e,t,n,r,o,i,s,a,l,c,u),!0)}function Ef(e,t,n,r,o,i,s,a,l,c,u,d,f){ke(ye,Qe,ln(m(),e,t,n,r,o,i,s,a,l,c,u,d,f),!0)}function wf(e,t,n,r,o,i,s,a,l,c,u,d,f,p,h){ke(ye,Qe,cn(m(),e,t,n,r,o,i,s,a,l,c,u,d,f,p,h),!0)}function Mf(e,t,n,r,o,i,s,a,l,c,u,d,f,p,h,y,v){ke(ye,Qe,un(m(),e,t,n,r,o,i,s,a,l,c,u,d,f,p,h,y,v),!0)}function bf(e){ke(ye,Qe,tn(m(),e),!0)}function Tf(e,t,n){Oe(nn(m(),e,t,n))}function xf(e,t,n,r,o){Oe(rn(m(),e,t,n,r,o))}function Nf(e,t,n,r,o,i,s){Oe(on(m(),e,t,n,r,o,i,s))}function Rf(e,t,n,r,o,i,s,a,l){Oe(sn(m(),e,t,n,r,o,i,s,a,l))}function Af(e,t,n,r,o,i,s,a,l,c,u){Oe(an(m(),e,t,n,r,o,i,s,a,l,c,u))}function Pf(e,t,n,r,o,i,s,a,l,c,u,d,f){Oe(ln(m(),e,t,n,r,o,i,s,a,l,c,u,d,f))}function Sf(e,t,n,r,o,i,s,a,l,c,u,d,f,p,h){Oe(cn(m(),e,t,n,r,o,i,s,a,l,c,u,d,f,p,h))}function Of(e,t,n,r,o,i,s,a,l,c,u,d,f,p,h,y,v){Oe(un(m(),e,t,n,r,o,i,s,a,l,c,u,d,f,p,h,y,v))}function Lf(e){Oe(tn(m(),e))}function la(e,t,n,r,o){return Le(e,nn(m(),t,n,r),o,!1),la}function ca(e,t,n,r,o,i,s){return Le(e,rn(m(),t,n,r,o,i),s,!1),ca}function ua(e,t,n,r,o,i,s,a,l){return Le(e,on(m(),t,n,r,o,i,s,a),l,!1),ua}function da(e,t,n,r,o,i,s,a,l,c,u){return Le(e,sn(m(),t,n,r,o,i,s,a,l,c),u,!1),da}function fa(e,t,n,r,o,i,s,a,l,c,u,d,f){return Le(e,an(m(),t,n,r,o,i,s,a,l,c,u,d),f,!1),fa}function pa(e,t,n,r,o,i,s,a,l,c,u,d,f,p,h){return Le(e,ln(m(),t,n,r,o,i,s,a,l,c,u,d,f,p),h,!1),pa}function ha(e,t,n,r,o,i,s,a,l,c,u,d,f,p,h,y,v){return Le(e,cn(m(),t,n,r,o,i,s,a,l,c,u,d,f,p,h,y),v,!1),ha}function ga(e,t,n,r,o,i,s,a,l,c,u,d,f,p,h,y,v,_,g){return Le(e,un(m(),t,n,r,o,i,s,a,l,c,u,d,f,p,h,y,v,_),g,!1),ga}function ma(e,t,n){return Le(e,tn(m(),t),n,!1),ma}function ya(e,t,n){const r=m();return ie(r,Ot(),t)&&ve(A(),$(),r,e,t,r[x],n,!0),ya}function va(e,t,n){const r=m();if(ie(r,Ot(),t)){const i=A(),s=$();ve(i,s,r,e,t,sd(Yo(i.data),s,r),n,!0)}return va}const wt=void 0;var n_=["en",[["a","p"],["AM","PM"],wt],[["AM","PM"],wt,wt],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wt,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wt,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wt,"{1} 'at' {0}",wt],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function t_(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let pn={};function r_(e,t,n){"string"!=typeof t&&(n=t,t=e[C.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),pn[t]=e,n&&(pn[t][C.ExtraData]=n)}function Ia(e){const t=function s_(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Ff(t);if(n)return n;const r=t.split("-")[0];if(n=Ff(r),n)return n;if("en"===r)return n_;throw new Error(`Missing locale data for the locale "${e}".`)}function o_(e){return Ia(e)[C.CurrencyCode]||null}function kf(e){return Ia(e)[C.PluralCase]}function Ff(e){return e in pn||(pn[e]=j.ng&&j.ng.common&&j.ng.common.locales&&j.ng.common.locales[e]),pn[e]}function i_(){pn={}}var C=(()=>((C=C||{})[C.LocaleId=0]="LocaleId",C[C.DayPeriodsFormat=1]="DayPeriodsFormat",C[C.DayPeriodsStandalone=2]="DayPeriodsStandalone",C[C.DaysFormat=3]="DaysFormat",C[C.DaysStandalone=4]="DaysStandalone",C[C.MonthsFormat=5]="MonthsFormat",C[C.MonthsStandalone=6]="MonthsStandalone",C[C.Eras=7]="Eras",C[C.FirstDayOfWeek=8]="FirstDayOfWeek",C[C.WeekendRange=9]="WeekendRange",C[C.DateFormat=10]="DateFormat",C[C.TimeFormat=11]="TimeFormat",C[C.DateTimeFormat=12]="DateTimeFormat",C[C.NumberSymbols=13]="NumberSymbols",C[C.NumberFormats=14]="NumberFormats",C[C.CurrencyCode=15]="CurrencyCode",C[C.CurrencySymbol=16]="CurrencySymbol",C[C.CurrencyName=17]="CurrencyName",C[C.Currencies=18]="Currencies",C[C.Directionality=19]="Directionality",C[C.PluralCase=20]="PluralCase",C[C.ExtraData=21]="ExtraData",C))();const a_=["zero","one","two","few","many"],er="en-US",po={marker:"element"},ho={marker:"ICU"};var U=(()=>((U=U||{})[U.SHIFT=2]="SHIFT",U[U.APPEND_EAGERLY=1]="APPEND_EAGERLY",U[U.COMMENT=2]="COMMENT",U))();let Vf=er;function jf(e){(function pe(e,t){null==e&&F(t,e,null,"!=")})(e,"Expected localeId to be defined"),"string"==typeof e&&(Vf=e.toLowerCase().replace(/_/g,"-"))}function Hf(e,t,n){const r=t.insertBeforeIndex,o=Array.isArray(r)?r[0]:r;return null===o?vu(e,0,n):Q(n[o])}function $f(e,t,n,r,o){const i=t.insertBeforeIndex;if(Array.isArray(i)){let s=r,a=null;if(3&t.type||(a=s,s=o),null!==s&&0==(2&t.flags))for(let l=1;l<i.length;l++)Ct(e,s,n[i[l]],a,!1)}}function Bf(e,t){if(e.push(t),e.length>1)for(let n=e.length-2;n>=0;n--){const r=e[n];Uf(r)||d_(r,t)&&null===f_(r)&&p_(r,t.index)}}function Uf(e){return!(64&e.type)}function d_(e,t){return Uf(t)||e.index>t.index}function f_(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function p_(e,t){const n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(_u(Hf,$f),e.insertBeforeIndex=t)}function tr(e,t){const n=e.data[t];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function m_(e,t,n){const r=Yi(e,n,64,null,null);return Bf(t,r),r}function go(e,t){const n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}function qf(e){return e>>>17}function Gf(e){return(131070&e)>>>1}let nr=0,rr=0;function Wf(e,t,n,r){const o=n[x];let s,i=null;for(let a=0;a<t.length;a++){const l=t[a];if("string"==typeof l){const c=t[++a];null===n[c]&&(n[c]=Si(o,l))}else if("number"==typeof l)switch(1&l){case 0:const c=qf(l);let u,d;if(null===i&&(i=c,s=Jr(o,r)),c===i?(u=r,d=s):(u=null,d=Q(n[c])),null!==d){const y=Gf(l);Ct(o,d,n[y],u,!1);const _=tr(e,y);if(null!==_&&"object"==typeof _){const g=go(_,n);null!==g&&Wf(e,_.create[g],n,n[_.anchorIdx])}}break;case 1:const p=t[++a],h=t[++a];ns(o,Tr(l>>>1,n),null,null,p,h,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${l}"`)}else switch(l){case ho:const c=t[++a],u=t[++a];null===n[u]&&oe(n[u]=by(o,c),n);break;case po:const d=t[++a],f=t[++a];null===n[f]&&oe(n[f]=Oi(o,d,null),n)}}}function zf(e,t,n,r,o){for(let i=0;i<n.length;i++){const s=n[i],a=n[++i];if(s&o){let l="";for(let c=i+1;c<=i+a;c++){const u=n[c];if("string"==typeof u)l+=u;else if("number"==typeof u)if(u<0)l+=M(t[r-u]);else{const d=u>>>2;switch(3&u){case 1:const f=n[++c],p=n[++c],h=e.data[d];"string"==typeof h?ns(t[x],t[d],null,h,f,l,p):ve(e,h,t,f,l,t[x],p,!1);break;case 0:const y=t[d];null!==y&&uu(t[x],y,l);break;case 2:D_(e,tr(e,d),t,l);break;case 3:Zf(e,tr(e,d),r,t)}}}}else{const l=n[i+1];if(l>0&&3==(3&l)){const u=tr(e,l>>>2);t[u.currentCaseLViewIndex]<0&&Zf(e,u,r,t)}}i+=a}}function Zf(e,t,n,r){let o=r[t.currentCaseLViewIndex];if(null!==o){let i=nr;o<0&&(o=r[t.currentCaseLViewIndex]=~o,i=-1),zf(e,r,t.update[o],n,i)}}function D_(e,t,n,r){const o=function C_(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const r=function l_(e,t){const n=kf(t)(parseInt(e,10)),r=a_[n];return void 0!==r?r:"other"}(t,function u_(){return Vf}());n=e.cases.indexOf(r),-1===n&&"other"!==r&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,r);if(go(t,n)!==o&&(Jf(e,t,n),n[t.currentCaseLViewIndex]=null===o?null:~o,null!==o)){const s=n[t.anchorIdx];s&&Wf(e,t.create[o],n,s)}}function Jf(e,t,n){let r=go(t,n);if(null!==r){const o=t.remove[r];for(let i=0;i<o.length;i++){const s=o[i];if(s>0){const a=Tr(s,n);null!==a&&Cu(n[x],a)}else Jf(e,tr(e,~s),n)}}}function E_(){const e=[];let n,r,t=-1;function i(a,l){t=0;const c=go(a,l);r=null!==c?a.remove[c]:L}function s(){if(t<r.length){const a=r[t++];return a>0?n[a]:(e.push(t,r),i(n[1].data[~a],n),s())}return 0===e.length?null:(r=e.pop(),t=e.pop(),s())}return function o(a,l){for(n=l;e.length;)e.pop();return i(a.value,l),s}}const mo=/\ufffd(\d+):?\d*\ufffd/gi,w_=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,M_=/\ufffd(\d+)\ufffd/,Yf=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,b_=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,T_=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,x_=/\uE500/g;function Xf(e,t,n,r,o,i,s){const a=Jt(e,r,1,null);let l=a<<U.SHIFT,c=Tn();t===c&&(c=null),null===c&&(l|=U.APPEND_EAGERLY),s&&(l|=U.COMMENT,function My(e){void 0===Ni&&(Ni=e())}(E_)),o.push(l,null===i?"":i);const u=Yi(e,a,s?32:1,null===i?"":i,null);Bf(n,u);const d=u.index;return je(u,!1),null!==c&&t!==c&&function g_(e,t){let n=e.insertBeforeIndex;null===n?(_u(Hf,$f),n=e.insertBeforeIndex=[null,t]):(function Ze(e,t,n){e!=t&&F(n,e,t,"==")}(Array.isArray(n),!0,"Expecting array here"),n.push(t))}(c,d),u}function A_(e,t,n,r,o,i,s){const a=s.match(mo),l=Xf(e,t,n,i,r,a?null:s,!1);a&&hn(o,s,l.index,null,0,null)}function hn(e,t,n,r,o,i){const s=e.length,a=s+1;e.push(null,null);const l=s+2,c=t.split(mo);let u=0;for(let d=0;d<c.length;d++){const f=c[d];if(1&d){const p=o+parseInt(f,10);e.push(-1-p),u|=ep(p)}else""!==f&&e.push(f)}return e.push(n<<2|(r?1:0)),r&&e.push(r,i),e[s]=u,e[a]=e.length-l,u}function S_(e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];"number"==typeof r&&r<0&&t++}return t}function ep(e){return 1<<Math.min(e,31)}function tp(e){let t,i,n="",r=0,o=!1;for(;null!==(t=b_.exec(e));)o?t[0]===`\ufffd/*${i}\ufffd`&&(r=t.index,o=!1):(n+=e.substring(r,t.index+t[0].length),i=t[1],o=!0);return n+=e.substr(r),n}function np(e,t,n,r,o,i){let s=0;const a={type:o.type,currentCaseLViewIndex:Jt(e,t,1,null),anchorIdx:i,cases:[],create:[],remove:[],update:[]};(function j_(e,t,n){e.push(ep(t.mainBinding),2,-1-t.mainBinding,n<<2|2)})(n,o,i),function h_(e,t,n){const r=e.data[t];null===r?e.data[t]=n:r.value=n}(e,i,a);const l=o.values;for(let c=0;c<l.length;c++){const u=l[c],d=[];for(let f=0;f<u.length;f++){const p=u[f];if("string"!=typeof p){const h=d.push(p)-1;u[f]=`\x3c!--\ufffd${h}\ufffd--\x3e`}}s=F_(e,a,t,n,r,o.cases[c],u.join(""),d)|s}s&&function H_(e,t,n){e.push(t,1,n<<2|3)}(n,s,i)}function k_(e){const t=[],n=[];let r=1,o=0;const i=_a(e=e.replace(Yf,function(s,a,l){return r="select"===l?0:1,o=parseInt(a.substr(1),10),""}));for(let s=0;s<i.length;){let a=i[s++].trim();1===r&&(a=a.replace(/\s*(?:=)?(\w+)\s*/,"$1")),a.length&&t.push(a);const l=_a(i[s++]);t.length>n.length&&n.push(l)}return{type:r,mainBinding:o,cases:t,values:n}}function _a(e){if(!e)return[];let t=0;const n=[],r=[],o=/[{}]/g;let i;for(o.lastIndex=0;i=o.exec(e);){const a=i.index;if("}"==i[0]){if(n.pop(),0==n.length){const l=e.substring(t,a);Yf.test(l)?r.push(k_(l)):r.push(l),t=a+1}}else{if(0==n.length){const l=e.substring(t,a);r.push(l),t=a+1}n.push("{")}}const s=e.substring(t);return r.push(s),r}function F_(e,t,n,r,o,i,s,a){const l=[],c=[],u=[];t.cases.push(i),t.create.push(l),t.remove.push(c),t.update.push(u);const f=Sc(Go()).getInertBodyElement(s),p=Ci(f)||f;return p?rp(e,t,n,r,l,c,u,p,o,a,0):0}function rp(e,t,n,r,o,i,s,a,l,c,u){let d=0,f=a.firstChild;for(;f;){const p=Jt(e,n,1,null);switch(f.nodeType){case Node.ELEMENT_NODE:const h=f,y=h.tagName.toLowerCase();if(Ii.hasOwnProperty(y)){Da(o,po,y,l,p),e.data[p]=y;const D=h.attributes;for(let R=0;R<D.length;R++){const S=D.item(R),De=S.name.toLowerCase();S.value.match(mo)?Vc.hasOwnProperty(De)&&hn(s,S.value,p,S.name,0,_i[De]?jn:Di[De]?Oc:null):$_(o,p,S)}d=rp(e,t,n,r,o,i,s,f,p,c,u+1)|d,op(i,p,u)}break;case Node.TEXT_NODE:const v=f.textContent||"",_=v.match(mo);Da(o,null,_?"":v,l,p),op(i,p,u),_&&(d=hn(s,v,p,null,0,null)|d);break;case Node.COMMENT_NODE:const g=M_.exec(f.textContent||"");if(g){const R=c[parseInt(g[1],10)];Da(o,ho,"",l,p),np(e,n,r,l,R,p),V_(i,p,u)}}f=f.nextSibling}return d}function op(e,t,n){0===n&&e.push(t)}function V_(e,t,n){0===n&&(e.push(~t),e.push(t))}function Da(e,t,n,r,o){null!==t&&e.push(t),e.push(n,o,function y_(e,t,n){return e|t<<17|n<<1}(0,r,o))}function $_(e,t,n){e.push(t<<1|1,n.name,n.value)}const B_=/\[(\ufffd.+?\ufffd?)\]/,U_=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,q_=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,G_=/{([A-Z0-9_]+)}/g,Q_=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,W_=/\/\*/,z_=/\d+\:(\d+)/;function Ca(e,t,n=-1){const r=A(),o=m(),i=k+e,s=at(r.consts,t),a=Tn();r.firstCreatePass&&function R_(e,t,n,r,o,i){const s=Tn(),a=[],l=[],c=[[]];o=function L_(e,t){if(function O_(e){return-1===e}(t))return tp(e);{const n=e.indexOf(`:${t}\ufffd`)+2+t.toString().length,r=e.search(new RegExp(`\ufffd\\/\\*\\d+:${t}\ufffd`));return tp(e.substring(n,r))}}(o,i);const u=function N_(e){return e.replace(x_," ")}(o).split(T_);for(let d=0;d<u.length;d++){let f=u[d];if(0==(1&d)){const p=_a(f);for(let h=0;h<p.length;h++){let y=p[h];if(0==(1&h)){const v=y;""!==v&&A_(e,s,c[0],a,l,n,v)}else{const v=y;if("object"!=typeof v)throw new Error(`Unable to parse ICU expression in "${o}" message.`);np(e,n,l,t,v,Xf(e,s,c[0],n,a,"",!0).index)}}}else{const p=47===f.charCodeAt(0),y=(f.charCodeAt(p?1:0),k+Number.parseInt(f.substring(p?2:1)));if(p)c.shift(),je(Tn(),!1);else{const v=m_(e,c[0],y);c.unshift([]),je(v,!0)}}}e.data[r]={create:a,update:l}}(r,null===a?0:a.index,o,i,s,n);const l=r.data[i],u=hu(r,a===o[6]?null:a,o);(function __(e,t,n,r){const o=e[x];for(let i=0;i<t.length;i++){const s=t[i++],a=t[i],l=(s&U.COMMENT)===U.COMMENT,c=(s&U.APPEND_EAGERLY)===U.APPEND_EAGERLY,u=s>>>U.SHIFT;let d=e[u];null===d&&(d=e[u]=l?o.createComment(a):Si(o,a)),c&&null!==n&&Ct(o,n,d,r,!1)}})(o,l.create,u,a&&8&a.type?o[a.index]:null),Wl(!0)}function Ea(){Wl(!1)}function sp(e,t,n){Ca(e,t,n),Ea()}function ap(e,t){const n=A(),r=at(n.consts,t);!function P_(e,t,n){const o=W().index,i=[];if(e.firstCreatePass&&null===e.data[t]){for(let s=0;s<n.length;s+=2){const a=n[s],l=n[s+1];if(""!==l){if(w_.test(l))throw new Error(`ICU expressions are not supported in attributes. Message: "${l}".`);hn(i,l,o,a,S_(i),null)}}e.data[t]=i}}(n,e+k,r)}function wa(e){return function v_(e){e&&(nr|=1<<Math.min(rr,31)),rr++}(ie(m(),Ot(),e)),wa}function lp(e){!function I_(e,t,n){if(rr>0){const r=e.data[n];zf(e,t,Array.isArray(r)?r:r.update,Xe()-rr-1,nr)}nr=0,rr=0}(A(),m(),e+k)}function cp(e,t={}){return function Z_(e,t={}){let n=e;if(B_.test(e)){const r={},o=[0];n=n.replace(U_,(i,s,a)=>{const l=s||a,c=r[l]||[];if(c.length||(l.split("|").forEach(y=>{const v=y.match(z_),_=v?parseInt(v[1],10):0,g=W_.test(y);c.push([_,g,y])}),r[l]=c),!c.length)throw new Error(`i18n postprocess: unmatched placeholder - ${l}`);const u=o[o.length-1];let d=0;for(let y=0;y<c.length;y++)if(c[y][0]===u){d=y;break}const[f,p,h]=c[d];return p?o.pop():u!==f&&o.push(f),c.splice(d,1),h})}return Object.keys(t).length&&(n=n.replace(q_,(r,o,i,s,a,l)=>t.hasOwnProperty(i)?`${o}${t[i]}${l}`:r),n=n.replace(G_,(r,o)=>t.hasOwnProperty(o)?t[o]:r),n=n.replace(Q_,(r,o)=>{if(t.hasOwnProperty(o)){const i=t[o];if(!i.length)throw new Error(`i18n postprocess: unmatched ICU - ${r} with key: ${o}`);return i.shift()}return r})),n}(e,t)}function Ma(e,t,n,r,o){if(e=b(e),Array.isArray(e))for(let i=0;i<e.length;i++)Ma(e[i],t,n,r,o);else{const i=A(),s=m();let a=Xt(e)?e:b(e.provide),l=hd(e);const c=W(),u=1048575&c.providerIndexes,d=c.directiveStart,f=c.providerIndexes>>20;if(Xt(e)||!e.multi){const p=new xn(l,o,Yn),h=Ta(a,t,o?u:u+f,d);-1===h?(jr(Rn(c,s),i,a),ba(i,e,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),n.push(p),s.push(p)):(n[h]=p,s[h]=p)}else{const p=Ta(a,t,u+f,d),h=Ta(a,t,u,u+f),y=p>=0&&n[p],v=h>=0&&n[h];if(o&&!v||!o&&!y){jr(Rn(c,s),i,a);const _=function X_(e,t,n,r,o){const i=new xn(e,n,Yn);return i.multi=[],i.index=t,i.componentProviders=0,up(i,o,r&&!n),i}(o?Y_:K_,n.length,o,r,l);!o&&v&&(n[h].providerFactory=_),ba(i,e,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),n.push(_),s.push(_)}else ba(i,e,p>-1?p:h,up(n[o?h:p],l,!o&&r));!o&&r&&v&&n[h].componentProviders++}}}function ba(e,t,n,r){const o=Xt(t),i=function Bv(e){return!!e.useClass}(t);if(o||i){const l=(i?b(t.useClass):t).prototype.ngOnDestroy;if(l){const c=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const u=c.indexOf(n);-1===u?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function up(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Ta(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function K_(e,t,n,r){return xa(this.multi,[])}function Y_(e,t,n,r){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=An(n,n[1],this.providerFactory.index,r);i=a.slice(0,s),xa(o,i);for(let l=s;l<a.length;l++)i.push(a[l])}else i=[],xa(o,i);return i}function xa(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function dp(e,t=[]){return n=>{n.providersResolver=(r,o)=>function J_(e,t,n){const r=A();if(r.firstCreatePass){const o=Ae(e);Ma(n,r.data,r.blueprint,o,!0),Ma(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}class fp{}class yo{}class tD{resolveComponentFactory(t){throw function eD(e){const t=Error(`No component factory found for ${P(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let ir=(()=>{class e{}return e.NULL=new tD,e})();function nD(){return gn(W(),m())}function gn(e,t){return new sr(Me(e,t))}let sr=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=nD,e})();function rD(e){return e instanceof sr?e.nativeElement:e}class hp{}let oD=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function sD(){const e=m(),n=me(W().index,e);return function iD(e){return e[x]}(Ve(n)?n:e)}(),e})(),gp=(()=>{class e{}return e.\u0275prov=X({token:e,providedIn:"root",factory:()=>null}),e})();class mp{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const yp=new mp("13.1.2"),vo={};function Io(e,t,n,r,o=!1){for(;null!==n;){const i=t[n.index];if(null!==i&&r.push(Q(i)),Re(i))for(let a=10;a<i.length;a++){const l=i[a],c=l[1].firstChild;null!==c&&Io(l[1],l,c,r)}const s=n.type;if(8&s)Io(e,t,n.child,r);else if(32&s){const a=Ri(n,t);let l;for(;l=a();)r.push(l)}else if(16&s){const a=Du(t,n);if(Array.isArray(a))r.push(...a);else{const l=qn(t[16]);Io(l[1],l,a,r,!0)}}n=o?n.projectionNext:n.next}return r}class mn{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return Io(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Re(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Li(t,r),Br(n,r))}this._attachedToViewContainer=!1}fu(this._lView[1],this._lView)}onDestroy(t){zu(this._lView[1],this._lView,null,t)}markForCheck(){os(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ss(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Sv(e,t,n){Nr(!0);try{ss(e,t,n)}finally{Nr(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ny(e,t){Gn(e,t,t[x],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class aD extends mn{constructor(t){super(t),this._view=t}detectChanges(){rd(this._view)}checkNoChanges(){!function Ov(e){Nr(!0);try{rd(e)}finally{Nr(!1)}}(this._view)}get context(){return null}}class vp extends ir{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=te(t);return new _o(n,this.ngModule)}}function Ip(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const cD=new B("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>tu});class _o extends yo{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Zy(e){return e.map(zy).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Ip(this.componentDef.inputs)}get outputs(){return Ip(this.componentDef.outputs)}create(t,n,r,o){const i=(o=o||this.ngModule)?function uD(e,t){return{get:(n,r,o)=>{const i=e.get(n,vo,o);return i!==vo||r===vo?i:t.get(n,r,o)}}}(t,o.injector):t,s=i.get(hp,Vl),a=i.get(gp,null),l=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=r?Wu(l,r,this.componentDef.encapsulation):Oi(s.createRenderer(null,this.componentDef),c,function lD(e){const t=e.toLowerCase();return"svg"===t?kl:"math"===t?Fl:null}(c)),d=this.componentDef.onPush?576:528,f=bd(),p=no(0,null,null,1,0,null,null,null,null,null),h=Qn(null,p,f,d,null,null,s,l,a,i);let y,v;Rr(h);try{const _=wd(u,this.componentDef,h,s,l);if(u)if(r)Lr(l,u,["ng-version",yp.full]);else{const{attrs:g,classes:D}=function Jy(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let i=e[r];if("string"==typeof i)2===o?""!==i&&t.push(i,e[++r]):8===o&&n.push(i);else{if(!Pe(o))break;o=i}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);g&&Lr(l,u,g),D&&D.length>0&&Hi(l,u,D.join(" "))}if(v=Qo(p,k),void 0!==n){const g=v.projection=[];for(let D=0;D<this.ngContentSelectors.length;D++){const R=n[D];g.push(null!=R?Array.from(R):null)}}y=Md(_,this.componentDef,h,f,[Td]),Wn(p,h,null)}finally{Ar()}return new _p(this.componentType,y,gn(v,h),h,v)}}class _p extends fp{constructor(t,n,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.instance=n,this.hostView=this.changeDetectorRef=new aD(o),this.componentType=t}get injector(){return new Ft(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Dp(e,t,n,r){return Je(()=>{const o=e;null!==t&&(o.hasOwnProperty("decorators")&&void 0!==o.decorators?o.decorators.push(...t):o.decorators=t),null!==n&&(o.ctorParameters=n),null!==r&&(o.propDecorators=o.hasOwnProperty("propDecorators")&&void 0!==o.propDecorators?{...o.propDecorators,...r}:r)})}class yn{}class Cp{}const vn=new Map;function wp(e){const t=new Set;!function n(r){const o=Ce(r,!0),i=o.id;if(null!==i){(function Ep(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${P(t)} vs ${P(t.name)}`)})(i,vn.get(i),r),vn.set(i,r)}const s=Be(o.imports);for(const a of s)t.has(a)||(t.add(a),n(a))}(e)}function Mp(e){return vn.get(e)||bl[e]}function fD(e,t){return new Na(e,t??null)}class Na extends yn{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new vp(this);const r=Ce(t);this._bootstrapComponents=Be(r.bootstrap),this._r3Injector=pd(t,n,[{provide:yn,useValue:this},{provide:ir,useValue:this.componentFactoryResolver}],P(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=Ie.THROW_IF_NOT_FOUND,r=T.Default){return t===Ie||t===yn||t===io?this:this._r3Injector.get(t,n,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Do extends Cp{constructor(t){super(),this.moduleType=t,null!==Ce(t)&&wp(t)}create(t){return new Na(this.moduleType,t)}}function bp(e,t,n){const r=ae()+e,o=m();return o[r]===w?Ge(o,r,n?t.call(n):t()):Jn(o,r)}function Tp(e,t,n,r){return kp(m(),ae(),e,t,n,r)}function xp(e,t,n,r,o){return Fp(m(),ae(),e,t,n,r,o)}function Np(e,t,n,r,o,i){return Vp(m(),ae(),e,t,n,r,o,i)}function Rp(e,t,n,r,o,i,s){return jp(m(),ae(),e,t,n,r,o,i,s)}function Ap(e,t,n,r,o,i,s,a){const l=ae()+e,c=m(),u=xe(c,l,n,r,o,i);return ie(c,l+4,s)||u?Ge(c,l+5,a?t.call(a,n,r,o,i,s):t(n,r,o,i,s)):Jn(c,l+5)}function Pp(e,t,n,r,o,i,s,a,l){const c=ae()+e,u=m(),d=xe(u,c,n,r,o,i);return Et(u,c+4,s,a)||d?Ge(u,c+6,l?t.call(l,n,r,o,i,s,a):t(n,r,o,i,s,a)):Jn(u,c+6)}function Sp(e,t,n,r,o,i,s,a,l,c){const u=ae()+e,d=m();let f=xe(d,u,n,r,o,i);return ao(d,u+4,s,a,l)||f?Ge(d,u+7,c?t.call(c,n,r,o,i,s,a,l):t(n,r,o,i,s,a,l)):Jn(d,u+7)}function Op(e,t,n,r,o,i,s,a,l,c,u){const d=ae()+e,f=m(),p=xe(f,d,n,r,o,i);return xe(f,d+4,s,a,l,c)||p?Ge(f,d+8,u?t.call(u,n,r,o,i,s,a,l,c):t(n,r,o,i,s,a,l,c)):Jn(f,d+8)}function Lp(e,t,n,r){return Hp(m(),ae(),e,t,n,r)}function ar(e,t){const n=e[t];return n===w?void 0:n}function kp(e,t,n,r,o,i){const s=t+n;return ie(e,s,o)?Ge(e,s+1,i?r.call(i,o):r(o)):ar(e,s+1)}function Fp(e,t,n,r,o,i,s){const a=t+n;return Et(e,a,o,i)?Ge(e,a+2,s?r.call(s,o,i):r(o,i)):ar(e,a+2)}function Vp(e,t,n,r,o,i,s,a){const l=t+n;return ao(e,l,o,i,s)?Ge(e,l+3,a?r.call(a,o,i,s):r(o,i,s)):ar(e,l+3)}function jp(e,t,n,r,o,i,s,a,l){const c=t+n;return xe(e,c,o,i,s,a)?Ge(e,c+4,l?r.call(l,o,i,s,a):r(o,i,s,a)):ar(e,c+4)}function Hp(e,t,n,r,o,i){let s=t+n,a=!1;for(let l=0;l<o.length;l++)ie(e,s++,o[l])&&(a=!0);return a?Ge(e,s,r.apply(i,o)):ar(e,s)}function $p(e,t){const n=A();let r;const o=e+k;n.firstCreatePass?(r=function pD(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(o,r.onDestroy)):r=n.data[o];const i=r.factory||(r.factory=vt(r.type)),s=it(Yn);try{const a=Fr(!1),l=i();return Fr(a),Pd(n,m(),o,l),l}finally{it(s)}}function Bp(e,t,n){const r=e+k,o=m(),i=St(o,r);return lr(o,r)?kp(o,ae(),t,i.transform,n,i):i.transform(n)}function Up(e,t,n,r){const o=e+k,i=m(),s=St(i,o);return lr(i,o)?Fp(i,ae(),t,s.transform,n,r,s):s.transform(n,r)}function qp(e,t,n,r,o){const i=e+k,s=m(),a=St(s,i);return lr(s,i)?Vp(s,ae(),t,a.transform,n,r,o,a):a.transform(n,r,o)}function Gp(e,t,n,r,o,i){const s=e+k,a=m(),l=St(a,s);return lr(a,s)?jp(a,ae(),t,l.transform,n,r,o,i,l):l.transform(n,r,o,i)}function Qp(e,t,n){const r=e+k,o=m(),i=St(o,r);return lr(o,r)?Hp(o,ae(),t,i.transform,n,i):i.transform.apply(i,n)}function lr(e,t){return e[1].data[t].pure}function Ra(e){return t=>{setTimeout(e,void 0,t)}}const We=class hD extends Dn.Subject{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&"object"==typeof t){const l=t;o=l.next?.bind(l),i=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(i=Ra(i),o&&(o=Ra(o)),s&&(s=Ra(s)));const a=super.subscribe({next:o,error:i,complete:s});return t instanceof Dn.Subscription&&t.add(a),a}};function gD(){return this._results[en()]()}class Co{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=en(),r=Co.prototype;r[n]||(r[n]=gD)}get changes(){return this._changes||(this._changes=new We)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const o=be(t);(this._changesDetected=!function ym(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=t[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}(r._results,o,n))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let cr=(()=>{class e{}return e.__NG_ELEMENT_ID__=vD,e})();const mD=cr,yD=class extends mD{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t){const n=this._declarationTContainer.tViews,r=Qn(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const i=this._declarationLView[19];return null!==i&&(r[19]=i.createEmbeddedView(n)),Wn(n,r,t),new mn(r)}};function vD(){return Eo(W(),m())}function Eo(e,t){return 4&e.type?new yD(t,e,gn(e,t)):null}let wo=(()=>{class e{}return e.__NG_ELEMENT_ID__=ID,e})();function ID(){return Zp(W(),m())}const _D=wo,Wp=class extends _D{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return gn(this._hostTNode,this._hostLView)}get injector(){return new Ft(this._hostTNode,this._hostLView)}get parentInjector(){const t=Vr(this._hostTNode,this._hostLView);if(sc(t)){const n=kt(t,this._hostLView),r=Lt(t);return new Ft(n[1].data[r+8],n)}return new Ft(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=zp(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){const o=t.createEmbeddedView(n||{});return this.insert(o,r),o}createComponent(t,n,r,o,i){const s=t&&!Sn(t);let a;if(s)a=n;else{const d=n||{};a=d.index,r=d.injector,o=d.projectableNodes,i=d.ngModuleRef}const l=s?t:new _o(te(t)),c=r||this.parentInjector;if(!i&&null==l.ngModule&&c){const d=c.get(yn,null);d&&(i=d)}const u=l.create(c,o,void 0,i);return this.insert(u.hostView,a),u}insert(t,n){const r=t._lView,o=r[1];if(function Hg(e){return Re(e[3])}(r)){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const d=r[3],f=new Wp(d,d[6],d[3]);f.detach(f.indexOf(t))}}const i=this._adjustIndex(n),s=this._lContainer;!function Ay(e,t,n,r){const o=10+r,i=n.length;r>0&&(n[o-1][4]=t),r<i-10?(t[4]=n[o],vc(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[17];null!==s&&n!==s&&function Py(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(o,r,s,i);const a=Vi(i,s),l=r[x],c=Jr(l,s[7]);return null!==c&&function xy(e,t,n,r,o,i){r[0]=o,r[6]=t,Gn(e,r,n,1,o,i)}(o,s[6],l,r,c,a),t.attachToViewContainerRef(),vc(Aa(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=zp(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Li(this._lContainer,n);r&&(Br(Aa(this._lContainer),n),fu(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=Li(this._lContainer,n);return r&&null!=Br(Aa(this._lContainer),n)?new mn(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function zp(e){return e[8]}function Aa(e){return e[8]||(e[8]=[])}function Zp(e,t){let n;const r=t[e.index];if(Re(r))n=r;else{let o;if(8&e.type)o=Q(r);else{const i=t[x];o=i.createComment("");const s=Me(e,t);Ct(i,Jr(i,s),o,function ky(e,t){return H(e)?e.nextSibling(t):t.nextSibling}(i,s),!1)}t[e.index]=n=nd(r,t,o,e),ro(t,n)}return new Wp(n,e,t)}class Pa{constructor(t){this.queryList=t,this.matches=null}clone(){return new Pa(this.queryList)}setDirty(){this.queryList.setDirty()}}class Sa{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){const s=n.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new Sa(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==oh(t,n).matches&&this.queries[n].setDirty()}}class Jp{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Oa{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,null!==n?n.push(i):n=[i])}return null!==n?new Oa(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class La{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new La(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(t,n,ED(n,i)),this.matchTNodeWithReadOption(t,n,Hr(n,t,i,!1,!1))}else r===cr?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Hr(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===sr||o===wo||o===cr&&4&n.type)this.addMatch(n.index,-2);else{const i=Hr(n,t,o,!1,!1);null!==i&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function ED(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function MD(e,t,n,r){return-1===n?function wD(e,t){return 11&e.type?gn(e,t):4&e.type?Eo(e,t):null}(t,e):-2===n?function bD(e,t,n){return n===sr?gn(t,e):n===cr?Eo(t,e):n===wo?Zp(t,e):void 0}(e,t,r):An(e,e[1],n,t)}function Kp(e,t,n,r){const o=t[19].queries[r];if(null===o.matches){const i=e.data,s=n.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:MD(t,i[c],s[l+1],n.metadata.read))}o.matches=a}return o.matches}function ka(e,t,n,r){const o=e.queries.getByIndex(n),i=o.matches;if(null!==i){const s=Kp(e,t,o,n);for(let a=0;a<i.length;a+=2){const l=i[a];if(l>0)r.push(s[a/2]);else{const c=i[a+1],u=t[-l];for(let d=10;d<u.length;d++){const f=u[d];f[17]===f[3]&&ka(f[1],f,c,r)}if(null!==u[9]){const d=u[9];for(let f=0;f<d.length;f++){const p=d[f];ka(p[1],p,c,r)}}}}}return r}function Yp(e){const t=m(),n=A(),r=zl();Xo(r+1);const o=oh(n,r);if(e.dirty&&jl(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const i=o.crossesNgTemplate?ka(n,t,r,[]):Kp(n,t,o,r);e.reset(i,rD),e.notifyOnChanges()}return!0}return!1}function Xp(e,t,n){const r=A();r.firstCreatePass&&(rh(r,new Jp(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),nh(r,m(),t)}function eh(e,t,n,r){const o=A();if(o.firstCreatePass){const i=W();rh(o,new Jp(t,n,r),i.index),function xD(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(o,e),2==(2&n)&&(o.staticContentQueries=!0)}nh(o,m(),n)}function th(){return function TD(e,t){return e[19].queries[t].queryList}(m(),zl())}function nh(e,t,n){const r=new Co(4==(4&n));zu(e,t,r,r.destroy),null===t[19]&&(t[19]=new Sa),t[19].queries.push(new Pa(r))}function rh(e,t,n){null===e.queries&&(e.queries=new Oa),e.queries.track(new La(t,n))}function oh(e,t){return e.queries.getByIndex(t)}function ih(e,t){return Eo(e,t)}const ce=(()=>({\u0275\u0275attribute:vs,\u0275\u0275attributeInterpolate1:Is,\u0275\u0275attributeInterpolate2:_s,\u0275\u0275attributeInterpolate3:Ds,\u0275\u0275attributeInterpolate4:Cs,\u0275\u0275attributeInterpolate5:Es,\u0275\u0275attributeInterpolate6:ws,\u0275\u0275attributeInterpolate7:Ms,\u0275\u0275attributeInterpolate8:bs,\u0275\u0275attributeInterpolateV:Ts,\u0275\u0275defineComponent:ko,\u0275\u0275defineDirective:Nl,\u0275\u0275defineInjectable:X,\u0275\u0275defineInjector:yr,\u0275\u0275defineNgModule:Fo,\u0275\u0275definePipe:Rl,\u0275\u0275directiveInject:Yn,\u0275\u0275getInheritedFactory:gc,\u0275\u0275inject:Y,\u0275\u0275injectAttribute:ai,\u0275\u0275invalidFactory:Gd,\u0275\u0275invalidFactoryDep:hi,\u0275\u0275templateRefExtractor:ih,\u0275\u0275NgOnChangesFeature:Bo,\u0275\u0275ProvidersFeature:dp,\u0275\u0275CopyDefinitionFeature:Nd,\u0275\u0275InheritDefinitionFeature:gs,\u0275\u0275nextContext:Xd,\u0275\u0275namespaceHTML:nc,\u0275\u0275namespaceMathML:tc,\u0275\u0275namespaceSVG:ec,\u0275\u0275enableBindings:Bl,\u0275\u0275disableBindings:Ul,\u0275\u0275elementStart:Ss,\u0275\u0275elementEnd:Os,\u0275\u0275element:Qd,\u0275\u0275elementContainerStart:Ls,\u0275\u0275elementContainerEnd:ks,\u0275\u0275elementContainer:Wd,\u0275\u0275pureFunction0:bp,\u0275\u0275pureFunction1:Tp,\u0275\u0275pureFunction2:xp,\u0275\u0275pureFunction3:Np,\u0275\u0275pureFunction4:Rp,\u0275\u0275pureFunction5:Ap,\u0275\u0275pureFunction6:Pp,\u0275\u0275pureFunction7:Sp,\u0275\u0275pureFunction8:Op,\u0275\u0275pureFunctionV:Lp,\u0275\u0275getCurrentView:zd,\u0275\u0275restoreView:ql,\u0275\u0275listener:Vs,\u0275\u0275projection:tf,\u0275\u0275syntheticHostProperty:va,\u0275\u0275syntheticHostListener:js,\u0275\u0275pipeBind1:Bp,\u0275\u0275pipeBind2:Up,\u0275\u0275pipeBind3:qp,\u0275\u0275pipeBind4:Gp,\u0275\u0275pipeBindV:Qp,\u0275\u0275projectionDef:ef,\u0275\u0275hostProperty:ya,\u0275\u0275property:As,\u0275\u0275propertyInterpolate:$s,\u0275\u0275propertyInterpolate1:co,\u0275\u0275propertyInterpolate2:Bs,\u0275\u0275propertyInterpolate3:Us,\u0275\u0275propertyInterpolate4:qs,\u0275\u0275propertyInterpolate5:Gs,\u0275\u0275propertyInterpolate6:Qs,\u0275\u0275propertyInterpolate7:Ws,\u0275\u0275propertyInterpolate8:zs,\u0275\u0275propertyInterpolateV:Zs,\u0275\u0275pipe:$p,\u0275\u0275queryRefresh:Yp,\u0275\u0275viewQuery:Xp,\u0275\u0275loadQuery:th,\u0275\u0275contentQuery:eh,\u0275\u0275reference:Sd,\u0275\u0275classMap:uf,\u0275\u0275classMapInterpolate1:vf,\u0275\u0275classMapInterpolate2:If,\u0275\u0275classMapInterpolate3:_f,\u0275\u0275classMapInterpolate4:Df,\u0275\u0275classMapInterpolate5:Cf,\u0275\u0275classMapInterpolate6:Ef,\u0275\u0275classMapInterpolate7:wf,\u0275\u0275classMapInterpolate8:Mf,\u0275\u0275classMapInterpolateV:bf,\u0275\u0275styleMap:Oe,\u0275\u0275styleMapInterpolate1:Tf,\u0275\u0275styleMapInterpolate2:xf,\u0275\u0275styleMapInterpolate3:Nf,\u0275\u0275styleMapInterpolate4:Rf,\u0275\u0275styleMapInterpolate5:Af,\u0275\u0275styleMapInterpolate6:Pf,\u0275\u0275styleMapInterpolate7:Sf,\u0275\u0275styleMapInterpolate8:Of,\u0275\u0275styleMapInterpolateV:Lf,\u0275\u0275styleProp:Js,\u0275\u0275stylePropInterpolate1:la,\u0275\u0275stylePropInterpolate2:ca,\u0275\u0275stylePropInterpolate3:ua,\u0275\u0275stylePropInterpolate4:da,\u0275\u0275stylePropInterpolate5:fa,\u0275\u0275stylePropInterpolate6:pa,\u0275\u0275stylePropInterpolate7:ha,\u0275\u0275stylePropInterpolate8:ga,\u0275\u0275stylePropInterpolateV:ma,\u0275\u0275classProp:Ks,\u0275\u0275advance:Ru,\u0275\u0275template:Ad,\u0275\u0275text:yf,\u0275\u0275textInterpolate:Xs,\u0275\u0275textInterpolate1:fo,\u0275\u0275textInterpolate2:ea,\u0275\u0275textInterpolate3:ta,\u0275\u0275textInterpolate4:na,\u0275\u0275textInterpolate5:ra,\u0275\u0275textInterpolate6:oa,\u0275\u0275textInterpolate7:ia,\u0275\u0275textInterpolate8:sa,\u0275\u0275textInterpolateV:aa,\u0275\u0275i18n:sp,\u0275\u0275i18nAttributes:ap,\u0275\u0275i18nExp:wa,\u0275\u0275i18nStart:Ca,\u0275\u0275i18nEnd:Ea,\u0275\u0275i18nApply:lp,\u0275\u0275i18nPostprocess:cp,\u0275\u0275resolveWindow:nu,\u0275\u0275resolveDocument:ru,\u0275\u0275resolveBody:ou,\u0275\u0275setComponentScope:El,\u0275\u0275setNgModuleScope:Tl,\u0275\u0275sanitizeHtml:$c,\u0275\u0275sanitizeStyle:Bc,\u0275\u0275sanitizeResourceUrl:wi,\u0275\u0275sanitizeScript:Uc,\u0275\u0275sanitizeUrl:Ei,\u0275\u0275sanitizeUrlOrResourceUrl:Qc,\u0275\u0275trustConstantHtml:qc,\u0275\u0275trustConstantResourceUrl:Gc,forwardRef:gr,resolveForwardRef:b}))();let In=null;function AD(){In=null}const ur=[];let Fa=!1;function sh(){if(!Fa){Fa=!0;try{for(let e=ur.length-1;e>=0;e--){const{moduleType:t,ngModule:n}=ur[e];n.declarations&&n.declarations.every(ah)&&(ur.splice(e,1),OD(t,n))}}finally{Fa=!1}}}function ah(e){return Array.isArray(e)?e.every(ah):!!b(e)}function lh(e,t={}){ch(e,t),function PD(e,t){ur.push({moduleType:e,ngModule:t})}(e,t)}function ch(e,t,n=!1){const r=be(t.declarations||L);let o=null;Object.defineProperty(e,Lo,{configurable:!0,get:()=>(null===o&&(o=Z().compileNgModule(ce,`ng:///${e.name}/\u0275mod.js`,{type:e,bootstrap:be(t.bootstrap||L).map(b),declarations:r.map(b),imports:be(t.imports||L).map(b).map(ph),exports:be(t.exports||L).map(b).map(ph),schemas:t.schemas?be(t.schemas):null,id:t.id||null}),o.schemas||(o.schemas=[])),o)});let i=null;Object.defineProperty(e,Ye,{get:()=>{if(null===i){const a=Z();i=a.compileFactory(ce,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,deps:Qr(e),target:a.FactoryTarget.NgModule,typeArgumentCount:0})}return i},configurable:!1});let s=null;Object.defineProperty(e,Ir,{get:()=>{if(null===s){const a={name:e.name,type:e,providers:t.providers||L,imports:[(t.imports||L).map(b),(t.exports||L).map(b)]};s=Z().compileInjector(ce,`ng:///${e.name}/\u0275inj.js`,a)}return s},configurable:!1})}let Mo=new WeakMap,ja=new WeakMap;function SD(){Mo=new WeakMap,ja=new WeakMap,ur.length=0}function OD(e,t){const n=be(t.declarations||L),r=dr(e);n.forEach(o=>{o.hasOwnProperty(En)?Ha(te(o),r):!o.hasOwnProperty(_r)&&!o.hasOwnProperty(Dr)&&(o.ngSelectorScope=e)})}function Ha(e,t){e.directiveDefs=()=>Array.from(t.compilation.directives).map(n=>n.hasOwnProperty(En)?te(n):st(n)).filter(n=>!!n),e.pipeDefs=()=>Array.from(t.compilation.pipes).map(n=>ht(n)),e.schemas=t.schemas,e.tView=null}function dr(e){if(!$a(e))throw new Error(`${e.name} does not have a module def (\u0275mod property)`);const t=Ce(e);if(null!==t.transitiveCompileScopes)return t.transitiveCompileScopes;const n={schemas:t.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return Be(t.imports).forEach(r=>{const o=r;if(!$a(o))throw new Error(`Importing ${o.name} which does not have a \u0275mod property`);const i=dr(o);i.exported.directives.forEach(s=>n.compilation.directives.add(s)),i.exported.pipes.forEach(s=>n.compilation.pipes.add(s))}),Be(t.declarations).forEach(r=>{ht(r)?n.compilation.pipes.add(r):n.compilation.directives.add(r)}),Be(t.exports).forEach(r=>{const o=r;if($a(o)){const i=dr(o);i.exported.directives.forEach(s=>{n.compilation.directives.add(s),n.exported.directives.add(s)}),i.exported.pipes.forEach(s=>{n.compilation.pipes.add(s),n.exported.pipes.add(s)})}else ht(o)?n.exported.pipes.add(o):n.exported.directives.add(o)}),t.transitiveCompileScopes=n,n}function ph(e){return function LD(e){return void 0!==e.ngModule}(e)?e.ngModule:e}function $a(e){return!!Ce(e)}let Ba=0;function hh(e,t){let n=null;(function Lm(e,t){Tc(t)&&(qt.set(e,t),Vn.add(e))})(e,t),mh(e,t),Object.defineProperty(e,En,{get:()=>{if(null===n){const r=Z();if(Tc(t)){const c=[`Component '${e.name}' is not resolved:`];throw t.templateUrl&&c.push(` - templateUrl: ${t.templateUrl}`),t.styleUrls&&t.styleUrls.length&&c.push(` - styleUrls: ${JSON.stringify(t.styleUrls)}`),c.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(c.join("\n"))}const o=function RD(){return In}();let i=t.preserveWhitespaces;void 0===i&&(i=null!==o&&void 0!==o.preserveWhitespaces&&o.preserveWhitespaces);let s=t.encapsulation;void 0===s&&(s=null!==o&&void 0!==o.defaultEncapsulation?o.defaultEncapsulation:Ke.Emulated);const a=t.templateUrl||`ng:///${e.name}/template.html`,l={...yh(e,t),typeSourceSpan:r.createParseSourceSpan("Component",e.name,a),template:t.template||"",preserveWhitespaces:i,styles:t.styles||L,animations:t.animations,directives:[],changeDetection:t.changeDetection,pipes:new Map,encapsulation:s,interpolation:t.interpolation,viewProviders:t.viewProviders||null};Ba++;try{l.usesInheritance&&vh(e),n=r.compileComponent(ce,a,l)}finally{Ba--}if(0===Ba&&sh(),function kD(e){return void 0!==e.ngSelectorScope}(e)){const c=dr(e.ngSelectorScope);Ha(n,c)}}return n},configurable:!1})}function Ua(e,t){let n=null;mh(e,t||{}),Object.defineProperty(e,_r,{get:()=>{if(null===n){const r=gh(e,t||{});n=Z().compileDirective(ce,r.sourceMapUrl,r.metadata)}return n},configurable:!1})}function gh(e,t){const n=e&&e.name,r=`ng:///${n}/\u0275dir.js`,o=Z(),i=yh(e,t);return i.typeSourceSpan=o.createParseSourceSpan("Directive",n,r),i.usesInheritance&&vh(e),{metadata:i,sourceMapUrl:r}}function mh(e,t){let n=null;Object.defineProperty(e,Ye,{get:()=>{if(null===n){const r=gh(e,t),o=Z();n=o.compileFactory(ce,`ng:///${e.name}/\u0275fac.js`,{name:r.metadata.name,type:r.metadata.type,typeArgumentCount:0,deps:Qr(e),target:o.FactoryTarget.Directive})}return n},configurable:!1})}function FD(e){return Object.getPrototypeOf(e.prototype)===Object.prototype}function yh(e,t){const n=mi(),r=n.ownPropMetadata(e);return{name:e.name,type:e,selector:void 0!==t.selector?t.selector:null,host:t.host||Tt,propMetadata:r,inputs:t.inputs||L,outputs:t.outputs||L,queries:Ih(e,r,_h),lifecycle:{usesOnChanges:n.hasLifecycleHook(e,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!FD(e),exportAs:HD(t.exportAs),providers:t.providers||null,viewQueries:Ih(e,r,Dh)}}function vh(e){const t=Object.prototype;let n=Object.getPrototypeOf(e.prototype).constructor;for(;n&&n!==t;)!st(n)&&!te(n)&&BD(n)&&Ua(n,null),n=Object.getPrototypeOf(n)}function VD(e){return"string"==typeof e?Eh(e):b(e)}function jD(e,t){return{propertyName:e,predicate:VD(t.selector),descendants:t.descendants,first:t.first,read:t.read?t.read:null,static:!!t.static,emitDistinctChangesOnly:!!t.emitDistinctChangesOnly}}function Ih(e,t,n){const r=[];for(const o in t)if(t.hasOwnProperty(o)){const i=t[o];i.forEach(s=>{if(n(s)){if(!s.selector)throw new Error(`Can't construct a query for the property "${o}" of "${se(e)}" since the query selector wasn't defined.`);if(i.some(Ch))throw new Error("Cannot combine @Input decorators with query decorators");r.push(jD(o,s))}})}return r}function HD(e){return void 0===e?null:Eh(e)}function _h(e){const t=e.ngMetadataName;return"ContentChild"===t||"ContentChildren"===t}function Dh(e){const t=e.ngMetadataName;return"ViewChild"===t||"ViewChildren"===t}function Ch(e){return"Input"===e.ngMetadataName}function Eh(e){return e.split(",").map(t=>t.trim())}const $D=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function BD(e){const t=mi();if($D.some(r=>t.hasLifecycleHook(e,r)))return!0;const n=t.propMetadata(e);for(const r in n){const o=n[r];for(let i=0;i<o.length;i++){const s=o[i],a=s.ngMetadataName;if(Ch(s)||_h(s)||Dh(s)||"Output"===a||"HostBinding"===a||"HostListener"===a)return!0}}return!1}function wh(e,t){let n=null,r=null;Object.defineProperty(e,Ye,{get:()=>{if(null===r){const o=Mh(e,t),i=Z();r=i.compileFactory(ce,`ng:///${o.name}/\u0275fac.js`,{name:o.name,type:o.type,typeArgumentCount:0,deps:Qr(e),target:i.FactoryTarget.Pipe})}return r},configurable:!1}),Object.defineProperty(e,Dr,{get:()=>{if(null===n){const o=Mh(e,t);n=Z().compilePipe(ce,`ng:///${o.name}/\u0275pipe.js`,o)}return n},configurable:!1})}function Mh(e,t){return{type:e,name:e.name,pipeName:t.name,pure:void 0===t.pure||t.pure}}const bh=$t("Directive",(e={})=>e,void 0,void 0,(e,t)=>Ua(e,t)),UD=$t("Component",(e={})=>({changeDetection:he.Default,...e}),bh,void 0,(e,t)=>hh(e,t)),qD=$t("Pipe",e=>({pure:!0,...e}),void 0,void 0,(e,t)=>wh(e,t)),GD=ut("Input",e=>({bindingPropertyName:e})),QD=ut("Output",e=>({bindingPropertyName:e})),WD=ut("HostBinding",e=>({hostPropertyName:e})),zD=ut("HostListener",(e,t)=>({eventName:e,args:t})),ZD=$t("NgModule",e=>e,void 0,void 0,(e,t)=>lh(e,t));function bo(...e){}const qa=new B("Application Initializer");let _n=(()=>{class e{constructor(n){this.appInits=n,this.resolve=bo,this.reject=bo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const i=this.appInits[o]();if(Fs(i))n.push(i);else if(Jd(i)){const s=new Promise((a,l)=>{i.subscribe({complete:a,error:l})});n.push(s)}}Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(Y(qa,8))},e.\u0275prov=X({token:e,factory:e.\u0275fac}),e})();const Th=new B("AppId"),xh={provide:Th,useFactory:function JD(){return`${Ga()}${Ga()}${Ga()}`},deps:[]};function Ga(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Nh=new B("Platform Initializer"),Rh=new B("Platform ID"),Ah=new B("appBootstrapListener"),KD=new B("Application Packages Root URL");let Ph=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac}),e})();const To=new B("LocaleId"),Sh=new B("DefaultCurrencyCode"),YD=new B("Translations"),XD=new B("TranslationsFormat");var ze=(()=>((ze=ze||{})[ze.Error=0]="Error",ze[ze.Warning=1]="Warning",ze[ze.Ignore=2]="Ignore",ze))();class Oh{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let Qa=(()=>{class e{compileModuleSync(n){return new Do(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),i=Be(Ce(n).declarations).reduce((s,a)=>{const l=te(a);return l&&s.push(new _o(l)),s},[]);return new Oh(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac}),e})();const Lh=new B("compilerOptions");class eC{}const tC=(()=>Promise.resolve(0))();function Wa(e){"undefined"==typeof Zone?tC.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class _e{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new We(!1),this.onMicrotaskEmpty=new We(!1),this.onStable=new We(!1),this.onError=new We(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function nC(){let e=j.requestAnimationFrame,t=j.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function iC(e){const t=()=>{!function oC(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(j,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Za(e),e.isCheckStableRunning=!0,za(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Za(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,i,s,a)=>{try{return kh(e),n.invokeTask(o,i,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),Fh(e)}},onInvoke:(n,r,o,i,s,a,l)=>{try{return kh(e),n.invoke(o,i,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),Fh(e)}},onHasTask:(n,r,o,i)=>{n.hasTask(o,i),r===o&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,Za(e),za(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(n,r,o,i)=>(n.handleError(o,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(_e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,rC,bo,bo);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const rC={};function za(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Za(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function kh(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Fh(e){e._nesting--,za(e)}class Vh{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new We,this.onMicrotaskEmpty=new We,this.onStable=new We,this.onError=new We}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}let jh=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_e.assertNotInAngularZone(),Wa(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Wa(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:i,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,o){return[]}}return e.\u0275fac=function(n){return new(n||e)(Y(_e))},e.\u0275prov=X({token:e,factory:e.\u0275fac}),e})(),Ja=(()=>{class e{constructor(){this._applications=new Map,Ka.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Ka.findTestabilityInTree(this,n,r)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac}),e})();class sC{addToWindow(t){}findTestabilityInTree(t,n,r){return null}}function aC(e){Ka=e}let Fe,Ka=new sC;function Hh(e,t,n){const r=new Do(n);return Promise.resolve(r)}function $h(e){return e.isBoundToModule}const Ya=new B("AllowMultipleToken");class lC{constructor(t,n){this.name=t,this.token=n}}function Bh(e){if(Fe&&!Fe.destroyed&&!Fe.injector.get(Ya,!1))throw new de(400,"");Fe=e.get(el);const t=e.get(Nh,null);return t&&t.forEach(n=>n()),Fe}function Uh(e,t,n=[]){const r=`Platform: ${t}`,o=new B(r);return(i=[])=>{let s=Xa();if(!s||s.injector.get(Ya,!1))if(e)e(n.concat(i).concat({provide:o,useValue:!0}));else{const a=n.concat(i).concat({provide:o,useValue:!0},{provide:ls,useValue:"platform"});Bh(Ie.create({providers:a,name:r}))}return qh()}}function qh(e){const t=Xa();if(!t)throw new de(401,"");return t}function cC(){Fe&&!Fe.destroyed&&Fe.destroy()}function Xa(){return Fe&&!Fe.destroyed?Fe:null}let el=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function uC(e,t){let n;return n="noop"===e?new Vh:("zone.js"===e?void 0:e)||new _e({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!t?.ngZoneEventCoalescing,shouldCoalesceRunChangeDetection:!!t?.ngZoneRunCoalescing}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),l=[{provide:_e,useValue:a}];return a.run(()=>{const c=Ie.create({providers:l,parent:this.injector,name:n.moduleType.name}),u=n.create(c),d=u.injector.get(Un,null);if(!d)throw new de(402,"");return a.runOutsideAngular(()=>{const f=a.onError.subscribe({next:p=>{d.handleError(p)}});u.onDestroy(()=>{tl(this._modules,u),f.unsubscribe()})}),function dC(e,t,n){try{const r=n();return Fs(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(d,a,()=>{const f=u.injector.get(_n);return f.runInitializers(),f.donePromise.then(()=>(jf(u.injector.get(To,er)||er),this._moduleDoBootstrap(u),u))})})}bootstrapModule(n,r=[]){const o=Gh({},r);return Hh(0,0,n).then(i=>this.bootstrapModuleFactory(i,o))}_moduleDoBootstrap(n){const r=n.injector.get(fr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!n.instance.ngDoBootstrap)throw new de(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new de(404,"");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(Y(Ie))},e.\u0275prov=X({token:e,factory:e.\u0275fac}),e})();function Gh(e,t){return Array.isArray(t)?t.reduce(Gh,e):{...e,...t}}let fr=(()=>{class e{constructor(n,r,o,i,s){this._zone=n,this._injector=r,this._exceptionHandler=o,this._componentFactoryResolver=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Dn.Observable(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),l=new Dn.Observable(c=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{_e.assertNotInAngularZone(),Wa(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{_e.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{u.unsubscribe(),d.unsubscribe()}});this.isStable=(0,Dn.merge)(a,l.pipe((0,ug.share)()))}bootstrap(n,r){if(!this._initStatus.done)throw new de(405,"");let o;o=n instanceof yo?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(o.componentType);const i=$h(o)?void 0:this._injector.get(yn),a=o.create(Ie.NULL,[],r||o.selector,i),l=a.location.nativeElement,c=a.injector.get(jh,null),u=c&&a.injector.get(Ja);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),tl(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new de(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;tl(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Ah,[]).concat(this._bootstrapListeners).forEach(o=>o(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(Y(_e),Y(Ie),Y(Un),Y(ir),Y(_n))},e.\u0275prov=X({token:e,factory:e.\u0275fac}),e})();function tl(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let Wh=!0,zh=!1;function pC(){return zh=!0,Wh}function hC(){if(zh)throw new Error("Cannot enable prod mode after platform setup.");Wh=!1}function gC(e){const t=Mp(e);if(!t)throw Zh(e);return new Do(t)}function mC(e){const t=Mp(e);if(!t)throw Zh(e);return t}function Zh(e){return new Error(`No module with ID ${e} loaded`)}let Jh=(()=>{class e{}return e.__NG_ELEMENT_ID__=Kh,e})();function Kh(e){return function yC(e,t,n){if(Mr(e)&&!n){const r=me(e.index,t);return new mn(r,r)}return 47&e.type?new mn(t[16],t):null}(W(),m(),16==(16&e))}class Yh extends Jh{}class vC extends Yh{}class IC{constructor(t,n){this.name=t,this.callback=n}}function _C(e){return e.map(t=>t.nativeElement)}class nl{constructor(t){this.nativeNode=t}get parent(){const t=this.nativeNode.parentNode;return t?new pr(t):null}get injector(){return Id(this.nativeNode)}get componentInstance(){const t=this.nativeNode;return t&&(fs(t)||yd(t))}get context(){return fs(this.nativeNode)||md(this.nativeNode)}get listeners(){return Dd(this.nativeNode).filter(t=>"dom"===t.type)}get references(){return function zv(e){const t=re(e);return null===t?{}:(void 0===t.localRefs&&(t.localRefs=function py(e,t){const n=e[1].data[t];if(n&&n.localNames){const r={};let o=n.index+1;for(let i=0;i<n.localNames.length;i+=2)r[n.localNames[i]]=e[o],o++;return r}return null}(t.lView,t.nodeIndex)),t.localRefs||{})}(this.nativeNode)}get providerTokens(){return function Qv(e){const t=re(e);if(null===t)return[];const r=t.lView[1],o=r.data[t.nodeIndex],i=[],a=o.directiveEnd;for(let l=1048575&o.providerIndexes;l<a;l++){let c=r.data[l];Jv(c)&&(c=c.type),i.push(c)}return i}(this.nativeNode)}}class pr extends nl{constructor(t){super(t)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){const t=re(this.nativeNode);return null!==t?t.lView[1].data[t.nodeIndex].value:this.nativeNode.nodeName}get properties(){const t=re(this.nativeNode);if(null===t)return{};const n=t.lView,r=n[1].data,o=r[t.nodeIndex],i={};return function DC(e,t){if(e){let n=Object.getPrototypeOf(e);const r=Node.prototype;for(;null!==n&&n!==r;){const o=Object.getOwnPropertyDescriptors(n);for(let i in o)if(!i.startsWith("__")&&!i.startsWith("on")){const s=e[i];CC(s)&&(t[i]=s)}n=Object.getPrototypeOf(n)}}}(this.nativeElement,i),function EC(e,t,n,r){let o=t.propertyBindings;if(null!==o)for(let i=0;i<o.length;i++){const s=o[i],l=r[s].split("\ufffd"),c=l[0];if(l.length>1){let u=l[1];for(let d=1;d<l.length-1;d++)u+=M(n[s+d-1])+l[d+1];e[c]=u}else e[c]=n[s]}}(i,o,n,r),i}get attributes(){const t={},n=this.nativeElement;if(!n)return t;const r=re(n);if(null===r)return{};const i=r.lView[1].data[r.nodeIndex].attrs,s=[];if(i){let l=0;for(;l<i.length;){const c=i[l];if("string"!=typeof c)break;t[c]=i[l+1],s.push(c.toLowerCase()),l+=2}}const a=n.attributes;for(let l=0;l<a.length;l++){const c=a[l],u=c.name.toLowerCase();-1===s.indexOf(u)&&(t[u]=c.value)}return t}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const t={},r=this.nativeElement.className;return("string"!=typeof r?r.baseVal.split(" "):r.split(" ")).forEach(i=>t[i]=!0),t}get childNodes(){const t=this.nativeNode.childNodes,n=[];for(let r=0;r<t.length;r++)n.push(al(t[r]));return n}get children(){const t=this.nativeElement;if(!t)return[];const n=t.children,r=[];for(let o=0;o<n.length;o++)r.push(al(n[o]));return r}query(t){return this.queryAll(t)[0]||null}queryAll(t){const n=[];return Xh(this,t,n,!0),n}queryAllNodes(t){const n=[];return Xh(this,t,n,!1),n}triggerEventHandler(t,n){const r=this.nativeNode,o=[];this.listeners.forEach(i=>{if(i.name===t){const s=i.callback;s.call(r,n),o.push(s)}}),"function"==typeof r.eventListeners&&r.eventListeners(t).forEach(i=>{if(-1!==i.toString().indexOf("__ngUnwrap__")){const s=i("__ngUnwrap__");return-1===o.indexOf(s)&&s.call(r,n)}})}}function CC(e){return"string"==typeof e||"boolean"==typeof e||"number"==typeof e||null===e}function Xh(e,t,n,r){const o=re(e.nativeNode);null!==o?Mt(o.lView[1].data[o.nodeIndex],o.lView,t,n,r,e.nativeNode):ol(e.nativeNode,t,n,r)}function Mt(e,t,n,r,o,i){const s=function jg(e,t){const n=null===e?-1:e.index;return-1!==n?Q(t[n]):null}(e,t);if(11&e.type){if(rl(s,n,r,o,i),Mr(e)){const l=me(e.index,t);l&&l[1].firstChild&&Mt(l[1].firstChild,l,n,r,o,i)}else e.child&&Mt(e.child,t,n,r,o,i),s&&ol(s,n,r,o);const a=t[e.index];Re(a)&&eg(a,n,r,o,i)}else if(4&e.type){const a=t[e.index];rl(a[7],n,r,o,i),eg(a,n,r,o,i)}else if(16&e.type){const a=t[16],c=a[6].projection[e.projection];if(Array.isArray(c))for(let u of c)rl(u,n,r,o,i);else if(c){const u=a[3];Mt(u[1].data[c.index],u,n,r,o,i)}}else e.child&&Mt(e.child,t,n,r,o,i);if(i!==s){const a=4&e.flags?e.projectionNext:e.next;a&&Mt(a,t,n,r,o,i)}}function eg(e,t,n,r,o){for(let i=10;i<e.length;i++){const s=e[i],a=s[1].firstChild;a&&Mt(a,s,t,n,r,o)}}function rl(e,t,n,r,o){if(o!==e){const i=xo(e);if(!i)return;(r&&i instanceof pr&&t(i)&&-1===n.indexOf(i)||!r&&t(i)&&-1===n.indexOf(i))&&n.push(i)}}function ol(e,t,n,r){const o=e.childNodes,i=o.length;for(let s=0;s<i;s++){const a=o[s],l=xo(a);l&&((r&&l instanceof pr&&t(l)&&-1===n.indexOf(l)||!r&&t(l)&&-1===n.indexOf(l))&&n.push(l),ol(a,t,n,r))}}const sl="__ng_debug__";function al(e){return e instanceof Node?(e.hasOwnProperty(sl)||(e[sl]=e.nodeType==Node.ELEMENT_NODE?new pr(e):new nl(e)),e[sl]):null}const xo=al,MC=function wC(e){return null},bC=nl,TC=pr;class tg{constructor(){}supports(t){return Zn(t)}create(t){return new ng(t)}}const xC=(e,t)=>t;class ng{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||xC}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){const s=!r||n&&n.currentIndex<og(r,o,i)?n:r,a=og(s,o,i),l=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)o++;else{i||(i=[]);const c=a-o,u=l-o;if(c!=u){for(let f=0;f<c;f++){const p=f<i.length?i[f]:i[f]=0,h=p+f;u<=h&&h<c&&(i[f]=p+1)}i[s.previousIndex]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Zn(t))throw new Error(`Error trying to diff '${P(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,i,s,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)):(n=this._mismatch(n,i,s,a),r=!0),n=n._next}else o=0,function lI(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[en()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(o,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,i,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,i,o)):t=this._addAfter(new NC(n,r),i,o),t}_verifyReinsertion(t,n,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,i=t._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new rg),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rg),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class NC{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class RC{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class rg{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new RC,this.map.set(n,r)),r.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function og(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}class ig{constructor(){}supports(t){return t instanceof Map||ys(t)}create(){return new AC}}class AC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||ys(t)))throw new Error(`Error trying to diff '${P(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,o)=>{if(n&&n.key===o)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const i=this._getOrCreateRecordForKey(o,r);n=this._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const o=this._records.get(t);this._maybeAddToChanges(o,n);const i=o._prev,s=o._next;return i&&(i._next=s),s&&(s._prev=i),o._next=null,o._prev=null,o}const r=new PC(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class PC{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sg(){return new No([new tg])}let No=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||sg()),deps:[[e,new _t,new It]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function SC(e){return e.name||typeof e}(n)}'`)}}return e.\u0275prov=X({token:e,providedIn:"root",factory:sg}),e})();function ag(){return new Ro([new ig])}let Ro=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||ag()),deps:[[e,new _t,new It]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(r)return r;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return e.\u0275prov=X({token:e,providedIn:"root",factory:ag}),e})();const OC=[new ig],lg=new No([new tg]),cg=new Ro(OC),kC=Uh(null,"core",[{provide:Rh,useValue:"unknown"},{provide:el,deps:[Ie]},{provide:Ja,deps:[]},{provide:Ph,deps:[]}]),$C=[{provide:fr,useClass:fr,deps:[_e,Ie,Un,ir,_n]},{provide:cD,deps:[_e],useFactory:function BC(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(n){t.push(n)}}},{provide:_n,useClass:_n,deps:[[new It,qa]]},{provide:Qa,useClass:Qa,deps:[]},xh,{provide:No,useFactory:function FC(){return lg},deps:[]},{provide:Ro,useFactory:function VC(){return cg},deps:[]},{provide:To,useFactory:function jC(e){return e||function HC(){return"undefined"!=typeof $localize&&$localize.locale||er}()},deps:[[new Fn(To),new It,new _t]]},{provide:Sh,useValue:"USD"}];let UC=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(Y(fr))},e.\u0275mod=Fo({type:e}),e.\u0275inj=yr({providers:$C}),e})();const qC=!0;function GC(e){return Z().compileDirectiveDeclaration(ce,`ng:///${e.type.name}/\u0275fac.js`,e)}function QC(e){Dp(e.type,e.decorators,e.ctorParameters??null,e.propDecorators??null)}function WC(e){return Z().compileComponentDeclaration(ce,`ng:///${e.type.name}/\u0275cmp.js`,e)}function zC(e){return Z(function ZC(e){switch(e){case z.Directive:return"directive";case z.Component:return"component";case z.Injectable:return"injectable";case z.Pipe:return"pipe";case z.NgModule:return"NgModule"}}(e.target)).compileFactoryDeclaration(ce,`ng:///${e.type.name}/\u0275fac.js`,e)}function JC(e){return Z().compileInjectableDeclaration(ce,`ng:///${e.type.name}/\u0275prov.js`,e)}function KC(e){return Z().compileInjectorDeclaration(ce,`ng:///${e.type.name}/\u0275inj.js`,e)}function YC(e){return Z().compileNgModuleDeclaration(ce,`ng:///${e.type.name}/\u0275mod.js`,e)}function XC(e){return Z().compilePipeDeclaration(ce,`ng:///${e.type.name}/\u0275pipe.js`,e)}}}]);
(self.webpackChunkmfComponents=self.webpackChunkmfComponents||[]).push([[692,42],{8692:(Tn,me,ue)=>{ue.r(me),ue.d(me,{APP_BASE_HREF:()=>oe,AsyncPipe:()=>st,CommonModule:()=>yn,CurrencyPipe:()=>Et,DATE_PIPE_DEFAULT_TIMEZONE:()=>lt,DOCUMENT:()=>k,DatePipe:()=>Dt,DecimalPipe:()=>Ct,FormStyle:()=>E,FormatWidth:()=>g,HashLocationStrategy:()=>Rt,I18nPluralPipe:()=>dt,I18nSelectPipe:()=>ht,JsonPipe:()=>gt,KeyValuePipe:()=>Ft,LOCATION_INITIALIZED:()=>Tt,Location:()=>_e,LocationStrategy:()=>x,LowerCasePipe:()=>at,NgClass:()=>Ze,NgComponentOutlet:()=>Ke,NgForOf:()=>Je,NgForOfContext:()=>Xe,NgIf:()=>qe,NgIfContext:()=>et,NgLocaleLocalization:()=>ze,NgLocalization:()=>H,NgPlural:()=>ge,NgPluralCase:()=>rt,NgStyle:()=>it,NgSwitch:()=>te,NgSwitchCase:()=>nt,NgSwitchDefault:()=>ut,NgTemplateOutlet:()=>ot,NumberFormatStyle:()=>b,NumberSymbol:()=>c,PathLocationStrategy:()=>Ae,PercentPipe:()=>mt,PlatformLocation:()=>N,Plural:()=>y,SlicePipe:()=>yt,TitleCasePipe:()=>ct,TranslationWidth:()=>D,UpperCasePipe:()=>ft,VERSION:()=>bn,ViewportScroller:()=>Ln,WeekDay:()=>w,XhrFactory:()=>vn,formatCurrency:()=>Ue,formatDate:()=>ke,formatNumber:()=>We,formatPercent:()=>He,getCurrencySymbol:()=>Re,getLocaleCurrencyCode:()=>Gt,getLocaleCurrencyName:()=>$t,getLocaleCurrencySymbol:()=>jt,getLocaleDateFormat:()=>V,getLocaleDateTimeFormat:()=>$,getLocaleDayNames:()=>Be,getLocaleDayPeriods:()=>Le,getLocaleDirection:()=>Ht,getLocaleEraNames:()=>Me,getLocaleExtraDayPeriodRules:()=>Ie,getLocaleExtraDayPeriods:()=>Ne,getLocaleFirstDayOfWeek:()=>xt,getLocaleId:()=>be,getLocaleMonthNames:()=>Pe,getLocaleNumberFormat:()=>Z,getLocaleNumberSymbol:()=>B,getLocalePluralCase:()=>ve,getLocaleTimeFormat:()=>j,getLocaleWeekEndRange:()=>Vt,getNumberOfCurrencyDigits:()=>Oe,isPlatformBrowser:()=>An,isPlatformServer:()=>_n,isPlatformWorkerApp:()=>wn,isPlatformWorkerUi:()=>Sn,registerLocaleData:()=>Dn,\u0275BrowserPlatformLocation:()=>re,\u0275DomAdapter:()=>Mt,\u0275NullViewportScroller:()=>Mn,\u0275PLATFORM_BROWSER_ID:()=>At,\u0275PLATFORM_SERVER_ID:()=>_t,\u0275PLATFORM_WORKER_APP_ID:()=>wt,\u0275PLATFORM_WORKER_UI_ID:()=>St,\u0275getDOM:()=>z,\u0275parseCookieValue:()=>dn,\u0275setRootDomAdapter:()=>Pt});var i=ue(7451);let Y=null;function z(){return Y}function Pt(e){Y||(Y=e)}class Mt{}const k=new i.InjectionToken("DocumentToken");let N=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.\u0275\u0275defineInjectable({token:e,factory:function(){return function vt(){return(0,i.\u0275\u0275inject)(re)}()},providedIn:"platform"}),e})();const Tt=new i.InjectionToken("Location Initialized");let re=(()=>{class e extends N{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return z().getBaseHref(this._doc)}onPopState(t){const u=z().getGlobalEventTarget(this._doc,"window");return u.addEventListener("popstate",t,!1),()=>u.removeEventListener("popstate",t)}onHashChange(t){const u=z().getGlobalEventTarget(this._doc,"window");return u.addEventListener("hashchange",t,!1),()=>u.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,u,r){Ee()?this._history.pushState(t,u,r):this.location.hash=r}replaceState(t,u,r){Ee()?this._history.replaceState(t,u,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275inject(k))},e.\u0275prov=i.\u0275\u0275defineInjectable({token:e,factory:function(){return function It(){return new re((0,i.\u0275\u0275inject)(k))}()},providedIn:"platform"}),e})();function Ee(){return!!window.history.pushState}function ie(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function ye(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function T(e){return e&&"?"!==e[0]?"?"+e:e}let x=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.\u0275\u0275defineInjectable({token:e,factory:function(){return function Nt(e){const n=(0,i.\u0275\u0275inject)(k).location;return new Ae((0,i.\u0275\u0275inject)(N),n&&n.origin||"")}()},providedIn:"root"}),e})();const oe=new i.InjectionToken("appBaseHref");let Ae=(()=>{class e extends x{constructor(t,u){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==u&&(u=this._platformLocation.getBaseHrefFromDOM()),null==u)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=u}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ie(this._baseHref,t)}path(t=!1){const u=this._platformLocation.pathname+T(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${u}${r}`:u}pushState(t,u,r,o){const s=this.prepareExternalUrl(r+T(o));this._platformLocation.pushState(t,u,s)}replaceState(t,u,r,o){const s=this.prepareExternalUrl(r+T(o));this._platformLocation.replaceState(t,u,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275inject(N),i.\u0275\u0275inject(oe,8))},e.\u0275prov=i.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})(),Rt=(()=>{class e extends x{constructor(t,u){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=u&&(this._baseHref=u)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let u=this._platformLocation.hash;return null==u&&(u="#"),u.length>0?u.substring(1):u}prepareExternalUrl(t){const u=ie(this._baseHref,t);return u.length>0?"#"+u:u}pushState(t,u,r,o){let s=this.prepareExternalUrl(r+T(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,u,s)}replaceState(t,u,r,o){let s=this.prepareExternalUrl(r+T(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,u,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275inject(N),i.\u0275\u0275inject(oe,8))},e.\u0275prov=i.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})(),_e=(()=>{class e{constructor(t,u){this._subject=new i.EventEmitter,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=u,this._baseHref=ye(we(r)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,u=""){return this.path()==this.normalize(t+T(u))}normalize(t){return e.stripTrailingSlash(function kt(e,n){return e&&n.startsWith(e)?n.substring(e.length):n}(this._baseHref,we(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,u="",r=null){this._platformStrategy.pushState(r,"",t,u),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+T(u)),r)}replaceState(t,u="",r=null){this._platformStrategy.replaceState(r,"",t,u),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+T(u)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){this._platformStrategy.historyGo?.(t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(u=>{this._notifyUrlChangeListeners(u.url,u.state)}))}_notifyUrlChangeListeners(t="",u){this._urlChangeListeners.forEach(r=>r(t,u))}subscribe(t,u,r){return this._subject.subscribe({next:t,error:u,complete:r})}}return e.normalizeQueryParams=T,e.joinWithSlash=ie,e.stripTrailingSlash=ye,e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275inject(x),i.\u0275\u0275inject(N))},e.\u0275prov=i.\u0275\u0275defineInjectable({token:e,factory:function(){return function Ot(){return new _e((0,i.\u0275\u0275inject)(x),(0,i.\u0275\u0275inject)(N))}()},providedIn:"root"}),e})();function we(e){return e.replace(/\/index.html$/,"")}const Se={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var b=(()=>((b=b||{})[b.Decimal=0]="Decimal",b[b.Percent=1]="Percent",b[b.Currency=2]="Currency",b[b.Scientific=3]="Scientific",b))(),y=(()=>((y=y||{})[y.Zero=0]="Zero",y[y.One=1]="One",y[y.Two=2]="Two",y[y.Few=3]="Few",y[y.Many=4]="Many",y[y.Other=5]="Other",y))(),E=(()=>((E=E||{})[E.Format=0]="Format",E[E.Standalone=1]="Standalone",E))(),D=(()=>((D=D||{})[D.Narrow=0]="Narrow",D[D.Abbreviated=1]="Abbreviated",D[D.Wide=2]="Wide",D[D.Short=3]="Short",D))(),g=(()=>((g=g||{})[g.Short=0]="Short",g[g.Medium=1]="Medium",g[g.Long=2]="Long",g[g.Full=3]="Full",g))(),c=(()=>((c=c||{})[c.Decimal=0]="Decimal",c[c.Group=1]="Group",c[c.List=2]="List",c[c.PercentSign=3]="PercentSign",c[c.PlusSign=4]="PlusSign",c[c.MinusSign=5]="MinusSign",c[c.Exponential=6]="Exponential",c[c.SuperscriptingExponent=7]="SuperscriptingExponent",c[c.PerMille=8]="PerMille",c[c.Infinity=9]="Infinity",c[c.NaN=10]="NaN",c[c.TimeSeparator=11]="TimeSeparator",c[c.CurrencyDecimal=12]="CurrencyDecimal",c[c.CurrencyGroup=13]="CurrencyGroup",c))(),w=(()=>((w=w||{})[w.Sunday=0]="Sunday",w[w.Monday=1]="Monday",w[w.Tuesday=2]="Tuesday",w[w.Wednesday=3]="Wednesday",w[w.Thursday=4]="Thursday",w[w.Friday=5]="Friday",w[w.Saturday=6]="Saturday",w))();function be(e){return(0,i.\u0275findLocaleData)(e)[i.\u0275LocaleDataIndex.LocaleId]}function Le(e,n,t){const u=(0,i.\u0275findLocaleData)(e),o=P([u[i.\u0275LocaleDataIndex.DayPeriodsFormat],u[i.\u0275LocaleDataIndex.DayPeriodsStandalone]],n);return P(o,t)}function Be(e,n,t){const u=(0,i.\u0275findLocaleData)(e),o=P([u[i.\u0275LocaleDataIndex.DaysFormat],u[i.\u0275LocaleDataIndex.DaysStandalone]],n);return P(o,t)}function Pe(e,n,t){const u=(0,i.\u0275findLocaleData)(e),o=P([u[i.\u0275LocaleDataIndex.MonthsFormat],u[i.\u0275LocaleDataIndex.MonthsStandalone]],n);return P(o,t)}function Me(e,n){return P((0,i.\u0275findLocaleData)(e)[i.\u0275LocaleDataIndex.Eras],n)}function xt(e){return(0,i.\u0275findLocaleData)(e)[i.\u0275LocaleDataIndex.FirstDayOfWeek]}function Vt(e){return(0,i.\u0275findLocaleData)(e)[i.\u0275LocaleDataIndex.WeekendRange]}function V(e,n){return P((0,i.\u0275findLocaleData)(e)[i.\u0275LocaleDataIndex.DateFormat],n)}function j(e,n){return P((0,i.\u0275findLocaleData)(e)[i.\u0275LocaleDataIndex.TimeFormat],n)}function $(e,n){return P((0,i.\u0275findLocaleData)(e)[i.\u0275LocaleDataIndex.DateTimeFormat],n)}function B(e,n){const t=(0,i.\u0275findLocaleData)(e),u=t[i.\u0275LocaleDataIndex.NumberSymbols][n];if(void 0===u){if(n===c.CurrencyDecimal)return t[i.\u0275LocaleDataIndex.NumberSymbols][c.Decimal];if(n===c.CurrencyGroup)return t[i.\u0275LocaleDataIndex.NumberSymbols][c.Group]}return u}function Z(e,n){return(0,i.\u0275findLocaleData)(e)[i.\u0275LocaleDataIndex.NumberFormats][n]}function jt(e){return(0,i.\u0275findLocaleData)(e)[i.\u0275LocaleDataIndex.CurrencySymbol]||null}function $t(e){return(0,i.\u0275findLocaleData)(e)[i.\u0275LocaleDataIndex.CurrencyName]||null}function Gt(e){return(0,i.\u0275getLocaleCurrencyCode)(e)}const ve=i.\u0275getLocalePluralCase;function Te(e){if(!e[i.\u0275LocaleDataIndex.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[i.\u0275LocaleDataIndex.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ie(e){const n=(0,i.\u0275findLocaleData)(e);return Te(n),(n[i.\u0275LocaleDataIndex.ExtraData][2]||[]).map(u=>"string"==typeof u?se(u):[se(u[0]),se(u[1])])}function Ne(e,n,t){const u=(0,i.\u0275findLocaleData)(e);Te(u);const o=P([u[i.\u0275LocaleDataIndex.ExtraData][0],u[i.\u0275LocaleDataIndex.ExtraData][1]],n)||[];return P(o,t)||[]}function Ht(e){return(0,i.\u0275findLocaleData)(e)[i.\u0275LocaleDataIndex.Directionality]}function P(e,n){for(let t=n;t>-1;t--)if(void 0!==e[t])return e[t];throw new Error("Locale data API: locale data undefined")}function se(e){const[n,t]=e.split(":");return{hours:+n,minutes:+t}}function Re(e,n,t="en"){const u=function Ut(e){return(0,i.\u0275findLocaleData)(e)[i.\u0275LocaleDataIndex.Currencies]}(t)[e]||Se[e]||[],r=u[1];return"narrow"===n&&"string"==typeof r?r:u[0]||e}function Oe(e){let n;const t=Se[e];return t&&(n=t[2]),"number"==typeof n?n:2}const Yt=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,G={},zt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var _=(()=>((_=_||{})[_.Short=0]="Short",_[_.ShortGMT=1]="ShortGMT",_[_.Long=2]="Long",_[_.Extended=3]="Extended",_))(),f=(()=>((f=f||{})[f.FullYear=0]="FullYear",f[f.Month=1]="Month",f[f.Date=2]="Date",f[f.Hours=3]="Hours",f[f.Minutes=4]="Minutes",f[f.Seconds=5]="Seconds",f[f.FractionalSeconds=6]="FractionalSeconds",f[f.Day=7]="Day",f))(),l=(()=>((l=l||{})[l.DayPeriods=0]="DayPeriods",l[l.Days=1]="Days",l[l.Months=2]="Months",l[l.Eras=3]="Eras",l))();function ke(e,n,t,u){let r=function nn(e){if(je(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[r,o=1,s=1]=e.split("-").map(a=>+a);return K(r,o-1,s)}const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let u;if(u=e.match(Yt))return function un(e){const n=new Date(0);let t=0,u=0;const r=e[8]?n.setUTCFullYear:n.setFullYear,o=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),u=Number(e[9]+e[11])),r.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));const s=Number(e[4]||0)-t,a=Number(e[5]||0)-u,F=Number(e[6]||0),p=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return o.call(n,s,a,F,p),n}(u)}const n=new Date(e);if(!je(n))throw new Error(`Unable to convert "${e}" into a date`);return n}(e);n=I(t,n)||n;let a,s=[];for(;n;){if(a=zt.exec(n),!a){s.push(n);break}{s=s.concat(a.slice(1));const C=s.pop();if(!C)break;n=C}}let F=r.getTimezoneOffset();u&&(F=Ve(u,F),r=function tn(e,n,t){const u=t?-1:1,r=e.getTimezoneOffset();return function en(e,n){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+n),e}(e,u*(Ve(n,r)-r))}(r,u,!0));let p="";return s.forEach(C=>{const d=function qt(e){if(ce[e])return ce[e];let n;switch(e){case"G":case"GG":case"GGG":n=h(l.Eras,D.Abbreviated);break;case"GGGG":n=h(l.Eras,D.Wide);break;case"GGGGG":n=h(l.Eras,D.Narrow);break;case"y":n=A(f.FullYear,1,0,!1,!0);break;case"yy":n=A(f.FullYear,2,0,!0,!0);break;case"yyy":n=A(f.FullYear,3,0,!1,!0);break;case"yyyy":n=A(f.FullYear,4,0,!1,!0);break;case"Y":n=q(1);break;case"YY":n=q(2,!0);break;case"YYY":n=q(3);break;case"YYYY":n=q(4);break;case"M":case"L":n=A(f.Month,1,1);break;case"MM":case"LL":n=A(f.Month,2,1);break;case"MMM":n=h(l.Months,D.Abbreviated);break;case"MMMM":n=h(l.Months,D.Wide);break;case"MMMMM":n=h(l.Months,D.Narrow);break;case"LLL":n=h(l.Months,D.Abbreviated,E.Standalone);break;case"LLLL":n=h(l.Months,D.Wide,E.Standalone);break;case"LLLLL":n=h(l.Months,D.Narrow,E.Standalone);break;case"w":n=ae(1);break;case"ww":n=ae(2);break;case"W":n=ae(1,!0);break;case"d":n=A(f.Date,1);break;case"dd":n=A(f.Date,2);break;case"c":case"cc":n=A(f.Day,1);break;case"ccc":n=h(l.Days,D.Abbreviated,E.Standalone);break;case"cccc":n=h(l.Days,D.Wide,E.Standalone);break;case"ccccc":n=h(l.Days,D.Narrow,E.Standalone);break;case"cccccc":n=h(l.Days,D.Short,E.Standalone);break;case"E":case"EE":case"EEE":n=h(l.Days,D.Abbreviated);break;case"EEEE":n=h(l.Days,D.Wide);break;case"EEEEE":n=h(l.Days,D.Narrow);break;case"EEEEEE":n=h(l.Days,D.Short);break;case"a":case"aa":case"aaa":n=h(l.DayPeriods,D.Abbreviated);break;case"aaaa":n=h(l.DayPeriods,D.Wide);break;case"aaaaa":n=h(l.DayPeriods,D.Narrow);break;case"b":case"bb":case"bbb":n=h(l.DayPeriods,D.Abbreviated,E.Standalone,!0);break;case"bbbb":n=h(l.DayPeriods,D.Wide,E.Standalone,!0);break;case"bbbbb":n=h(l.DayPeriods,D.Narrow,E.Standalone,!0);break;case"B":case"BB":case"BBB":n=h(l.DayPeriods,D.Abbreviated,E.Format,!0);break;case"BBBB":n=h(l.DayPeriods,D.Wide,E.Format,!0);break;case"BBBBB":n=h(l.DayPeriods,D.Narrow,E.Format,!0);break;case"h":n=A(f.Hours,1,-12);break;case"hh":n=A(f.Hours,2,-12);break;case"H":n=A(f.Hours,1);break;case"HH":n=A(f.Hours,2);break;case"m":n=A(f.Minutes,1);break;case"mm":n=A(f.Minutes,2);break;case"s":n=A(f.Seconds,1);break;case"ss":n=A(f.Seconds,2);break;case"S":n=A(f.FractionalSeconds,1);break;case"SS":n=A(f.FractionalSeconds,2);break;case"SSS":n=A(f.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=J(_.Short);break;case"ZZZZZ":n=J(_.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=J(_.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=J(_.Long);break;default:return null}return ce[e]=n,n}(C);p+=d?d(r,t,F):"''"===C?"'":C.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),p}function K(e,n,t){const u=new Date(0);return u.setFullYear(e,n,t),u.setHours(0,0,0),u}function I(e,n){const t=be(e);if(G[t]=G[t]||{},G[t][n])return G[t][n];let u="";switch(n){case"shortDate":u=V(e,g.Short);break;case"mediumDate":u=V(e,g.Medium);break;case"longDate":u=V(e,g.Long);break;case"fullDate":u=V(e,g.Full);break;case"shortTime":u=j(e,g.Short);break;case"mediumTime":u=j(e,g.Medium);break;case"longTime":u=j(e,g.Long);break;case"fullTime":u=j(e,g.Full);break;case"short":const r=I(e,"shortTime"),o=I(e,"shortDate");u=X($(e,g.Short),[r,o]);break;case"medium":const s=I(e,"mediumTime"),a=I(e,"mediumDate");u=X($(e,g.Medium),[s,a]);break;case"long":const F=I(e,"longTime"),p=I(e,"longDate");u=X($(e,g.Long),[F,p]);break;case"full":const C=I(e,"fullTime"),d=I(e,"fullDate");u=X($(e,g.Full),[C,d])}return u&&(G[t][n]=u),u}function X(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,u){return null!=n&&u in n?n[u]:t})),e}function M(e,n,t="-",u,r){let o="";(e<0||r&&e<=0)&&(r?e=1-e:(e=-e,o=t));let s=String(e);for(;s.length<n;)s="0"+s;return u&&(s=s.substr(s.length-n)),o+s}function A(e,n,t=0,u=!1,r=!1){return function(o,s){let a=function Kt(e,n){switch(e){case f.FullYear:return n.getFullYear();case f.Month:return n.getMonth();case f.Date:return n.getDate();case f.Hours:return n.getHours();case f.Minutes:return n.getMinutes();case f.Seconds:return n.getSeconds();case f.FractionalSeconds:return n.getMilliseconds();case f.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,o);if((t>0||a>-t)&&(a+=t),e===f.Hours)0===a&&-12===t&&(a=12);else if(e===f.FractionalSeconds)return function Zt(e,n){return M(e,3).substr(0,n)}(a,n);const F=B(s,c.MinusSign);return M(a,n,F,u,r)}}function h(e,n,t=E.Format,u=!1){return function(r,o){return function Xt(e,n,t,u,r,o){switch(t){case l.Months:return Pe(n,r,u)[e.getMonth()];case l.Days:return Be(n,r,u)[e.getDay()];case l.DayPeriods:const s=e.getHours(),a=e.getMinutes();if(o){const p=Ie(n),C=Ne(n,r,u),d=p.findIndex(S=>{if(Array.isArray(S)){const[m,L]=S,W=s>=m.hours&&a>=m.minutes,R=s<L.hours||s===L.hours&&a<L.minutes;if(m.hours<L.hours){if(W&&R)return!0}else if(W||R)return!0}else if(S.hours===s&&S.minutes===a)return!0;return!1});if(-1!==d)return C[d]}return Le(n,r,u)[s<12?0:1];case l.Eras:return Me(n,u)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,o,e,n,t,u)}}function J(e){return function(n,t,u){const r=-1*u,o=B(t,c.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case _.Short:return(r>=0?"+":"")+M(s,2,o)+M(Math.abs(r%60),2,o);case _.ShortGMT:return"GMT"+(r>=0?"+":"")+M(s,1,o);case _.Long:return"GMT"+(r>=0?"+":"")+M(s,2,o)+":"+M(Math.abs(r%60),2,o);case _.Extended:return 0===u?"Z":(r>=0?"+":"")+M(s,2,o)+":"+M(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}function xe(e){return K(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function ae(e,n=!1){return function(t,u){let r;if(n){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();r=1+Math.floor((s+o)/7)}else{const o=xe(t),s=function Qt(e){const n=K(e,0,1).getDay();return K(e,0,1+(n<=4?4:11)-n)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return M(r,e,B(u,c.MinusSign))}}function q(e,n=!1){return function(t,u){return M(xe(t).getFullYear(),e,B(u,c.MinusSign),n)}}const ce={};function Ve(e,n){e=e.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function je(e){return e instanceof Date&&!isNaN(e.valueOf())}const rn=/^(\d+)?\.((\d+)(-(\d+))?)?$/,U="0";function le(e,n,t,u,r,o,s=!1){let a="",F=!1;if(isFinite(e)){let p=function fn(e){let u,r,o,s,a,n=Math.abs(e)+"",t=0;for((r=n.indexOf("."))>-1&&(n=n.replace(".","")),(o=n.search(/e/i))>0?(r<0&&(r=o),r+=+n.slice(o+1),n=n.substring(0,o)):r<0&&(r=n.length),o=0;n.charAt(o)===U;o++);if(o===(a=n.length))u=[0],r=1;else{for(a--;n.charAt(a)===U;)a--;for(r-=o,u=[],s=0;o<=a;o++,s++)u[s]=Number(n.charAt(o))}return r>22&&(u=u.splice(0,21),t=r-1,r=1),{digits:u,exponent:t,integerLen:r}}(e);s&&(p=function cn(e){if(0===e.digits[0])return e;const n=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===n?e.digits.push(0,0):1===n&&e.digits.push(0),e.integerLen+=2),e}(p));let C=n.minInt,d=n.minFrac,S=n.maxFrac;if(o){const O=o.match(rn);if(null===O)throw new Error(`${o} is not a valid digit info`);const Lt=O[1],Ce=O[3],Bt=O[5];null!=Lt&&(C=de(Lt)),null!=Ce&&(d=de(Ce)),null!=Bt?S=de(Bt):null!=Ce&&d>S&&(S=d)}!function ln(e,n,t){if(n>t)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${t}).`);let u=e.digits,r=u.length-e.integerLen;const o=Math.min(Math.max(n,r),t);let s=o+e.integerLen,a=u[s];if(s>0){u.splice(Math.max(e.integerLen,s));for(let d=s;d<u.length;d++)u[d]=0}else{r=Math.max(0,r),e.integerLen=1,u.length=Math.max(1,s=o+1),u[0]=0;for(let d=1;d<s;d++)u[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)u.unshift(0),e.integerLen++;u.unshift(1),e.integerLen++}else u[s-1]++;for(;r<Math.max(0,o);r++)u.push(0);let F=0!==o;const p=n+e.integerLen,C=u.reduceRight(function(d,S,m,L){return L[m]=(S+=d)<10?S:S-10,F&&(0===L[m]&&m>=p?L.pop():F=!1),S>=10?1:0},0);C&&(u.unshift(C),e.integerLen++)}(p,d,S);let m=p.digits,L=p.integerLen;const W=p.exponent;let R=[];for(F=m.every(O=>!O);L<C;L++)m.unshift(0);for(;L<0;L++)m.unshift(0);L>0?R=m.splice(L,m.length):(R=m,m=[0]);const ne=[];for(m.length>=n.lgSize&&ne.unshift(m.splice(-n.lgSize,m.length).join(""));m.length>n.gSize;)ne.unshift(m.splice(-n.gSize,m.length).join(""));m.length&&ne.unshift(m.join("")),a=ne.join(B(t,u)),R.length&&(a+=B(t,r)+R.join("")),W&&(a+=B(t,c.Exponential)+"+"+W)}else a=B(t,c.Infinity);return a=e<0&&!F?n.negPre+a+n.negSuf:n.posPre+a+n.posSuf,a}function Ue(e,n,t,u,r){const s=De(Z(n,b.Currency),B(n,c.MinusSign));return s.minFrac=Oe(u),s.maxFrac=s.minFrac,le(e,s,n,c.CurrencyGroup,c.CurrencyDecimal,r).replace("\xa4",t).replace("\xa4","").trim()}function He(e,n,t){return le(e,De(Z(n,b.Percent),B(n,c.MinusSign)),n,c.Group,c.Decimal,t,!0).replace(new RegExp("%","g"),B(n,c.PercentSign))}function We(e,n,t){return le(e,De(Z(n,b.Decimal),B(n,c.MinusSign)),n,c.Group,c.Decimal,t)}function De(e,n="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},u=e.split(";"),r=u[0],o=u[1],s=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf(U)+1),r.substring(r.lastIndexOf(U)+1)],a=s[0],F=s[1]||"";t.posPre=a.substr(0,a.indexOf("#"));for(let C=0;C<F.length;C++){const d=F.charAt(C);d===U?t.minFrac=t.maxFrac=C+1:"#"===d?t.maxFrac=C+1:t.posSuf+=d}const p=a.split(",");if(t.gSize=p[1]?p[1].length:0,t.lgSize=p[2]||p[1]?(p[2]||p[1]).length:0,o){const C=r.length-t.posPre.length-t.posSuf.length,d=o.indexOf("#");t.negPre=o.substr(0,d).replace(/'/g,""),t.negSuf=o.substr(d+C).replace(/'/g,"")}else t.negPre=n+t.posPre,t.negSuf=t.posSuf;return t}function de(e){const n=parseInt(e);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+e);return n}class H{}function Ye(e,n,t,u){let r=`=${e}`;if(n.indexOf(r)>-1||(r=t.getPluralCategory(e,u),n.indexOf(r)>-1))return r;if(n.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${e}"`)}let ze=(()=>{class e extends H{constructor(t){super(),this.locale=t}getPluralCategory(t,u){switch(ve(u||this.locale)(t)){case y.Zero:return"zero";case y.One:return"one";case y.Two:return"two";case y.Few:return"few";case y.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275inject(i.LOCALE_ID))},e.\u0275prov=i.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})();function Dn(e,n,t){return(0,i.\u0275registerLocaleData)(e,n,t)}function dn(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const u=t.indexOf("="),[r,o]=-1==u?[t,""]:[t.slice(0,u),t.slice(u+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}let Ze=(()=>{class e{constructor(t,u,r,o){this._iterableDiffers=t,this._keyValueDiffers=u,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,i.\u0275isListLikeIterable)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(u=>this._toggleClass(u.key,u.currentValue)),t.forEachChangedItem(u=>this._toggleClass(u.key,u.currentValue)),t.forEachRemovedItem(u=>{u.previousValue&&this._toggleClass(u.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(u=>{if("string"!=typeof u.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,i.\u0275stringify)(u.item)}`);this._toggleClass(u.item,!0)}),t.forEachRemovedItem(u=>this._toggleClass(u.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(u=>this._toggleClass(u,!0)):Object.keys(t).forEach(u=>this._toggleClass(u,!!t[u])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(u=>this._toggleClass(u,!1)):Object.keys(t).forEach(u=>this._toggleClass(u,!1)))}_toggleClass(t,u){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{u?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.IterableDiffers),i.\u0275\u0275directiveInject(i.KeyValueDiffers),i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(i.Renderer2))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})(),Ke=(()=>{class e{constructor(t){this._viewContainerRef=t,this._componentRef=null,this._moduleRef=null}ngOnChanges(t){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const u=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(t.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const s=u.get(i.NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(s.injector)}else this._moduleRef=null;const o=(this._moduleRef?this._moduleRef.componentFactoryResolver:u.get(i.ComponentFactoryResolver)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(o,this._viewContainerRef.length,u,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.ViewContainerRef))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[i.\u0275\u0275NgOnChangesFeature]}),e})();class Xe{constructor(n,t,u,r){this.$implicit=n,this.ngForOf=t,this.index=u,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Je=(()=>{class e{constructor(t,u,r){this._viewContainer=t,this._template=u,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const u=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)u.createEmbeddedView(this._template,new Xe(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)u.remove(null===o?void 0:o);else if(null!==o){const a=u.get(o);u.move(a,s),Qe(a,r)}});for(let r=0,o=u.length;r<o;r++){const a=u.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Qe(u.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,u){return!0}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.ViewContainerRef),i.\u0275\u0275directiveInject(i.TemplateRef),i.\u0275\u0275directiveInject(i.IterableDiffers))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();function Qe(e,n){e.context.$implicit=n.item}let qe=(()=>{class e{constructor(t,u){this._viewContainer=t,this._context=new et,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=u}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){tt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){tt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,u){return!0}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.ViewContainerRef),i.\u0275\u0275directiveInject(i.TemplateRef))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class et{constructor(){this.$implicit=null,this.ngIf=null}}function tt(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${(0,i.\u0275stringify)(n)}'.`)}class he{constructor(n,t){this._viewContainerRef=n,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let te=(()=>{class e{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const u=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||u,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),u}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let u=0;u<this._defaultViews.length;u++)this._defaultViews[u].enforceState(t)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e})(),nt=(()=>{class e{constructor(t,u,r){this.ngSwitch=r,r._addCase(),this._view=new he(t,u)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.ViewContainerRef),i.\u0275\u0275directiveInject(i.TemplateRef),i.\u0275\u0275directiveInject(te,9))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e})(),ut=(()=>{class e{constructor(t,u,r){r._addDefault(new he(t,u))}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.ViewContainerRef),i.\u0275\u0275directiveInject(i.TemplateRef),i.\u0275\u0275directiveInject(te,9))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["","ngSwitchDefault",""]]}),e})(),ge=(()=>{class e{constructor(t){this._localization=t,this._caseViews={}}set ngPlural(t){this._switchValue=t,this._updateView()}addCase(t,u){this._caseViews[t]=u}_updateView(){this._clearViews();const t=Object.keys(this._caseViews),u=Ye(this._switchValue,t,this._localization);this._activateView(this._caseViews[u])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(t){t&&(this._activeView=t,this._activeView.create())}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(H))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),e})(),rt=(()=>{class e{constructor(t,u,r,o){this.value=t;const s=!isNaN(Number(t));o.addCase(s?`=${t}`:t,new he(r,u))}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275injectAttribute("ngPluralCase"),i.\u0275\u0275directiveInject(i.TemplateRef),i.\u0275\u0275directiveInject(i.ViewContainerRef),i.\u0275\u0275directiveInject(ge,1))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["","ngPluralCase",""]]}),e})(),it=(()=>{class e{constructor(t,u,r){this._ngEl=t,this._differs=u,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,u){const[r,o]=t.split(".");null!=(u=null!=u&&o?`${u}${o}`:u)?this._renderer.setStyle(this._ngEl.nativeElement,r,u):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(t){t.forEachRemovedItem(u=>this._setStyle(u.key,null)),t.forEachAddedItem(u=>this._setStyle(u.key,u.currentValue)),t.forEachChangedItem(u=>this._setStyle(u.key,u.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(i.KeyValueDiffers),i.\u0275\u0275directiveInject(i.Renderer2))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e})(),ot=(()=>{class e{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const u=this._viewContainerRef;this._viewRef&&u.remove(u.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?u.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.ViewContainerRef))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[i.\u0275\u0275NgOnChangesFeature]}),e})();function v(e,n){return Error(`InvalidPipeArgument: '${n}' for pipe '${(0,i.\u0275stringify)(e)}'`)}class hn{createSubscription(n,t){return n.subscribe({next:t,error:u=>{throw u}})}dispose(n){n.unsubscribe()}onDestroy(n){n.unsubscribe()}}class gn{createSubscription(n,t){return n.then(t,u=>{throw u})}dispose(n){}onDestroy(n){}}const Fn=new gn,pn=new hn;let st=(()=>{class e{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,u=>this._updateLatestValue(t,u))}_selectStrategy(t){if((0,i.\u0275isPromise)(t))return Fn;if((0,i.\u0275isSubscribable)(t))return pn;throw v(e,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,u){t===this._obj&&(this._latestValue=u,this._ref.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.ChangeDetectorRef,16))},e.\u0275pipe=i.\u0275\u0275definePipe({name:"async",type:e,pure:!1}),e})(),at=(()=>{class e{transform(t){if(null==t)return null;if("string"!=typeof t)throw v(e,t);return t.toLowerCase()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.\u0275\u0275definePipe({name:"lowercase",type:e,pure:!0}),e})();const Cn=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let ct=(()=>{class e{transform(t){if(null==t)return null;if("string"!=typeof t)throw v(e,t);return t.replace(Cn,u=>u[0].toUpperCase()+u.substr(1).toLowerCase())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.\u0275\u0275definePipe({name:"titlecase",type:e,pure:!0}),e})(),ft=(()=>{class e{transform(t){if(null==t)return null;if("string"!=typeof t)throw v(e,t);return t.toUpperCase()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.\u0275\u0275definePipe({name:"uppercase",type:e,pure:!0}),e})();const lt=new i.InjectionToken("DATE_PIPE_DEFAULT_TIMEZONE");let Dt=(()=>{class e{constructor(t,u){this.locale=t,this.defaultTimezone=u}transform(t,u="mediumDate",r,o){if(null==t||""===t||t!=t)return null;try{return ke(t,u,o||this.locale,r??this.defaultTimezone??void 0)}catch(s){throw v(e,s.message)}}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.LOCALE_ID,16),i.\u0275\u0275directiveInject(lt,24))},e.\u0275pipe=i.\u0275\u0275definePipe({name:"date",type:e,pure:!0}),e})();const mn=/#/g;let dt=(()=>{class e{constructor(t){this._localization=t}transform(t,u,r){if(null==t)return"";if("object"!=typeof u||null===u)throw v(e,u);return u[Ye(t,Object.keys(u),this._localization,r)].replace(mn,t.toString())}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(H,16))},e.\u0275pipe=i.\u0275\u0275definePipe({name:"i18nPlural",type:e,pure:!0}),e})(),ht=(()=>{class e{transform(t,u){if(null==t)return"";if("object"!=typeof u||"string"!=typeof t)throw v(e,u);return u.hasOwnProperty(t)?u[t]:u.hasOwnProperty("other")?u.other:""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.\u0275\u0275definePipe({name:"i18nSelect",type:e,pure:!0}),e})(),gt=(()=>{class e{transform(t){return JSON.stringify(t,null,2)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.\u0275\u0275definePipe({name:"json",type:e,pure:!1}),e})(),Ft=(()=>{class e{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=pt}transform(t,u=pt){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const r=this.differ.diff(t),o=u!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(s=>{this.keyValues.push(function En(e,n){return{key:e,value:n}}(s.key,s.currentValue))})),(r||o)&&(this.keyValues.sort(u),this.compareFn=u),this.keyValues}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.KeyValueDiffers,16))},e.\u0275pipe=i.\u0275\u0275definePipe({name:"keyvalue",type:e,pure:!1}),e})();function pt(e,n){const t=e.key,u=n.key;if(t===u)return 0;if(void 0===t)return 1;if(void 0===u)return-1;if(null===t)return 1;if(null===u)return-1;if("string"==typeof t&&"string"==typeof u)return t<u?-1:1;if("number"==typeof t&&"number"==typeof u)return t-u;if("boolean"==typeof t&&"boolean"==typeof u)return t<u?-1:1;const r=String(t),o=String(u);return r==o?0:r<o?-1:1}let Ct=(()=>{class e{constructor(t){this._locale=t}transform(t,u,r){if(!Fe(t))return null;r=r||this._locale;try{return We(pe(t),r,u)}catch(o){throw v(e,o.message)}}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.LOCALE_ID,16))},e.\u0275pipe=i.\u0275\u0275definePipe({name:"number",type:e,pure:!0}),e})(),mt=(()=>{class e{constructor(t){this._locale=t}transform(t,u,r){if(!Fe(t))return null;r=r||this._locale;try{return He(pe(t),r,u)}catch(o){throw v(e,o.message)}}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.LOCALE_ID,16))},e.\u0275pipe=i.\u0275\u0275definePipe({name:"percent",type:e,pure:!0}),e})(),Et=(()=>{class e{constructor(t,u="USD"){this._locale=t,this._defaultCurrencyCode=u}transform(t,u=this._defaultCurrencyCode,r="symbol",o,s){if(!Fe(t))return null;s=s||this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");let a=u||this._defaultCurrencyCode;"code"!==r&&(a="symbol"===r||"symbol-narrow"===r?Re(a,"symbol"===r?"wide":"narrow",s):r);try{return Ue(pe(t),s,a,u,o)}catch(F){throw v(e,F.message)}}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.LOCALE_ID,16),i.\u0275\u0275directiveInject(i.DEFAULT_CURRENCY_CODE,16))},e.\u0275pipe=i.\u0275\u0275definePipe({name:"currency",type:e,pure:!0}),e})();function Fe(e){return!(null==e||""===e||e!=e)}function pe(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}let yt=(()=>{class e{transform(t,u,r){if(null==t)return null;if(!this.supports(t))throw v(e,t);return t.slice(u,r)}supports(t){return"string"==typeof t||Array.isArray(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.\u0275\u0275definePipe({name:"slice",type:e,pure:!1}),e})(),yn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=i.\u0275\u0275defineInjector({providers:[{provide:H,useClass:ze}]}),e})();const At="browser",_t="server",wt="browserWorkerApp",St="browserWorkerUi";function An(e){return e===At}function _n(e){return e===_t}function wn(e){return e===wt}function Sn(e){return e===St}const bn=new i.Version("13.1.2");let Ln=(()=>{class e{}return e.\u0275prov=(0,i.\u0275\u0275defineInjectable)({token:e,providedIn:"root",factory:()=>new Bn((0,i.\u0275\u0275inject)(k),window)}),e})();class Bn{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function Pn(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const u=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=u.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}r=u.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=n)}}scrollToElement(n){const t=n.getBoundingClientRect(),u=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(u-o[0],r-o[1])}attemptFocus(n){return n.focus(),this.document.activeElement===n}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=bt(this.window.history)||bt(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function bt(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class Mn{setOffset(n){}getScrollPosition(){return[0,0]}scrollToPosition(n){}scrollToAnchor(n){}setHistoryScrollRestoration(n){}}class vn{}}}]);
(self.webpackChunkmfComponents=self.webpackChunkmfComponents||[]).push([[695,732],{5732:(Ce,J,v)=>{v.r(J),v.d(J,{HTTP_INTERCEPTORS:()=>P,HttpBackend:()=>S,HttpClient:()=>Y,HttpClientJsonpModule:()=>Ee,HttpClientModule:()=>ge,HttpClientXsrfModule:()=>te,HttpContext:()=>W,HttpContextToken:()=>oe,HttpErrorResponse:()=>k,HttpEventType:()=>d,HttpHandler:()=>j,HttpHeaderResponse:()=>O,HttpHeaders:()=>m,HttpParams:()=>g,HttpRequest:()=>C,HttpResponse:()=>T,HttpResponseBase:()=>x,HttpUrlEncodingCodec:()=>X,HttpXhrBackend:()=>A,HttpXsrfTokenExtractor:()=>F,JsonpClientBackend:()=>D,JsonpInterceptor:()=>q,XhrFactory:()=>be,\u0275HttpInterceptingHandler:()=>ee});var N=v(3192),l=v(7451),M=v(824),w=v(5033);class j{}class S{}class m{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const n=e.slice(0,r),o=n.toLowerCase(),a=e.slice(r+1).trim();this.maybeSetNormalizedName(n,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const n=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(n,r),this.maybeSetNormalizedName(e,n))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof m?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new m;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof m?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const n=("a"===t.op?this.headers.get(e):void 0)||[];n.push(...r),this.headers.set(e,n);break;case"d":const o=t.value;if(o){let a=this.headers.get(e);if(!a)return;a=a.filter(h=>-1===o.indexOf(h)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class X{encodeKey(t){return z(t)}encodeValue(t){return z(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const ne=/%(\d[a-f0-9])/gi,re={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function z(s){return encodeURIComponent(s).replace(ne,(t,e)=>re[e]??t)}function K(s){return`${s}`}class g{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new X,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function se(s,t){const e=new Map;return s.length>0&&s.replace(/^\?/,"").split("&").forEach(n=>{const o=n.indexOf("="),[a,h]=-1==o?[t.decodeKey(n),""]:[t.decodeKey(n.slice(0,o)),t.decodeValue(n.slice(o+1))],i=e.get(a)||[];i.push(h),e.set(a,i)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e];this.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const n=t[r];Array.isArray(n)?n.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:n,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new g({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(K(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const n=r.indexOf(K(t.value));-1!==n&&r.splice(n,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class oe{constructor(t){this.defaultValue=t}}class W{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function $(s){return"undefined"!=typeof ArrayBuffer&&s instanceof ArrayBuffer}function V(s){return"undefined"!=typeof Blob&&s instanceof Blob}function G(s){return"undefined"!=typeof FormData&&s instanceof FormData}class C{constructor(t,e,r,n){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function ie(s){switch(s){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||n?(this.body=void 0!==r?r:null,o=n):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new m),this.context||(this.context=new W),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+a}}else this.params=new g,this.urlWithParams=e}serializeBody(){return null===this.body?null:$(this.body)||V(this.body)||G(this.body)||function ae(s){return"undefined"!=typeof URLSearchParams&&s instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof g?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||G(this.body)?null:V(this.body)?this.body.type||null:$(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof g?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,r=t.url||this.url,n=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,h=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let i=t.headers||this.headers,p=t.params||this.params;const b=t.context??this.context;return void 0!==t.setHeaders&&(i=Object.keys(t.setHeaders).reduce((E,y)=>E.set(y,t.setHeaders[y]),i)),t.setParams&&(p=Object.keys(t.setParams).reduce((E,y)=>E.set(y,t.setParams[y]),p)),new C(e,r,o,{params:p,headers:i,context:b,reportProgress:h,responseType:n,withCredentials:a})}}var d=(()=>((d=d||{})[d.Sent=0]="Sent",d[d.UploadProgress=1]="UploadProgress",d[d.ResponseHeader=2]="ResponseHeader",d[d.DownloadProgress=3]="DownloadProgress",d[d.Response=4]="Response",d[d.User=5]="User",d))();class x{constructor(t,e=200,r="OK"){this.headers=t.headers||new m,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class O extends x{constructor(t={}){super(t),this.type=d.ResponseHeader}clone(t={}){return new O({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class T extends x{constructor(t={}){super(t),this.type=d.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new T({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class k extends x{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function I(s,t){return{body:t,headers:s.headers,context:s.context,observe:s.observe,params:s.params,reportProgress:s.reportProgress,responseType:s.responseType,withCredentials:s.withCredentials}}let Y=(()=>{class s{constructor(e){this.handler=e}request(e,r,n={}){let o;if(e instanceof C)o=e;else{let i,p;i=n.headers instanceof m?n.headers:new m(n.headers),n.params&&(p=n.params instanceof g?n.params:new g({fromObject:n.params})),o=new C(e,r,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:p,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const a=(0,M.of)(o).pipe((0,w.concatMap)(i=>this.handler.handle(i)));if(e instanceof C||"events"===n.observe)return a;const h=a.pipe((0,w.filter)(i=>i instanceof T));switch(n.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,w.map)(i=>{if(null!==i.body&&!(i.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return i.body}));case"blob":return h.pipe((0,w.map)(i=>{if(null!==i.body&&!(i.body instanceof Blob))throw new Error("Response is not a Blob.");return i.body}));case"text":return h.pipe((0,w.map)(i=>{if(null!==i.body&&"string"!=typeof i.body)throw new Error("Response is not a string.");return i.body}));default:return h.pipe((0,w.map)(i=>i.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new g).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,n={}){return this.request("PATCH",e,I(n,r))}post(e,r,n={}){return this.request("POST",e,I(n,r))}put(e,r,n={}){return this.request("PUT",e,I(n,r))}}return s.\u0275fac=function(e){return new(e||s)(l.\u0275\u0275inject(j))},s.\u0275prov=l.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s})();class Q{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const P=new l.InjectionToken("HTTP_INTERCEPTORS");let le=(()=>{class s{intercept(e,r){return r.handle(e)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=l.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s})(),ce=0;class Z{}let D=(()=>{class s{constructor(e,r){this.callbackMap=e,this.document=r,this.resolvedPromise=Promise.resolve()}nextCallback(){return"ng_jsonp_callback_"+ce++}handle(e){if("JSONP"!==e.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==e.responseType)throw new Error("JSONP requests must use Json response type.");return new M.Observable(r=>{const n=this.nextCallback(),o=e.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${n}$1`),a=this.document.createElement("script");a.src=o;let h=null,i=!1,p=!1;this.callbackMap[n]=c=>{delete this.callbackMap[n],!p&&(h=c,i=!0)};const b=()=>{a.parentNode&&a.parentNode.removeChild(a),delete this.callbackMap[n]},E=c=>{p||this.resolvedPromise.then(()=>{b(),i?(r.next(new T({body:h,status:200,statusText:"OK",url:o})),r.complete()):r.error(new k({url:o,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")}))})},y=c=>{p||(b(),r.error(new k({error:c,status:0,statusText:"JSONP Error",url:o})))};return a.addEventListener("load",E),a.addEventListener("error",y),this.document.body.appendChild(a),r.next({type:d.Sent}),()=>{p=!0,a.removeEventListener("load",E),a.removeEventListener("error",y),b()}})}}return s.\u0275fac=function(e){return new(e||s)(l.\u0275\u0275inject(Z),l.\u0275\u0275inject(N.DOCUMENT))},s.\u0275prov=l.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s})(),q=(()=>{class s{constructor(e){this.jsonp=e}intercept(e,r){return"JSONP"===e.method?this.jsonp.handle(e):r.handle(e)}}return s.\u0275fac=function(e){return new(e||s)(l.\u0275\u0275inject(D))},s.\u0275prov=l.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s})();const pe=/^\)\]\}',?\n/;let A=(()=>{class s{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new M.Observable(r=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((c,u)=>n.setRequestHeader(c,u.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const c=e.detectContentTypeHeader();null!==c&&n.setRequestHeader("Content-Type",c)}if(e.responseType){const c=e.responseType.toLowerCase();n.responseType="json"!==c?c:"text"}const o=e.serializeBody();let a=null;const h=()=>{if(null!==a)return a;const c=1223===n.status?204:n.status,u=n.statusText||"OK",H=new m(n.getAllResponseHeaders()),R=function fe(s){return"responseURL"in s&&s.responseURL?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):null}(n)||e.url;return a=new O({headers:H,status:c,statusText:u,url:R}),a},i=()=>{let{headers:c,status:u,statusText:H,url:R}=h(),f=null;204!==u&&(f=void 0===n.response?n.responseText:n.response),0===u&&(u=f?200:0);let B=u>=200&&u<300;if("json"===e.responseType&&"string"==typeof f){const ve=f;f=f.replace(pe,"");try{f=""!==f?JSON.parse(f):null}catch(we){f=ve,B&&(B=!1,f={error:we,text:f})}}B?(r.next(new T({body:f,headers:c,status:u,statusText:H,url:R||void 0})),r.complete()):r.error(new k({error:f,headers:c,status:u,statusText:H,url:R||void 0}))},p=c=>{const{url:u}=h(),H=new k({error:c,status:n.status||0,statusText:n.statusText||"Unknown Error",url:u||void 0});r.error(H)};let b=!1;const E=c=>{b||(r.next(h()),b=!0);let u={type:d.DownloadProgress,loaded:c.loaded};c.lengthComputable&&(u.total=c.total),"text"===e.responseType&&!!n.responseText&&(u.partialText=n.responseText),r.next(u)},y=c=>{let u={type:d.UploadProgress,loaded:c.loaded};c.lengthComputable&&(u.total=c.total),r.next(u)};return n.addEventListener("load",i),n.addEventListener("error",p),n.addEventListener("timeout",p),n.addEventListener("abort",p),e.reportProgress&&(n.addEventListener("progress",E),null!==o&&n.upload&&n.upload.addEventListener("progress",y)),n.send(o),r.next({type:d.Sent}),()=>{n.removeEventListener("error",p),n.removeEventListener("abort",p),n.removeEventListener("load",i),n.removeEventListener("timeout",p),e.reportProgress&&(n.removeEventListener("progress",E),null!==o&&n.upload&&n.upload.removeEventListener("progress",y)),n.readyState!==n.DONE&&n.abort()}})}}return s.\u0275fac=function(e){return new(e||s)(l.\u0275\u0275inject(N.XhrFactory))},s.\u0275prov=l.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s})();const L=new l.InjectionToken("XSRF_COOKIE_NAME"),_=new l.InjectionToken("XSRF_HEADER_NAME");class F{}let ye=(()=>{class s{constructor(e,r,n){this.doc=e,this.platform=r,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,N.\u0275parseCookieValue)(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return s.\u0275fac=function(e){return new(e||s)(l.\u0275\u0275inject(N.DOCUMENT),l.\u0275\u0275inject(l.PLATFORM_ID),l.\u0275\u0275inject(L))},s.\u0275prov=l.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s})(),U=(()=>{class s{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return r.handle(e);const o=this.tokenService.getToken();return null!==o&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,o)})),r.handle(e)}}return s.\u0275fac=function(e){return new(e||s)(l.\u0275\u0275inject(F),l.\u0275\u0275inject(_))},s.\u0275prov=l.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s})(),ee=(()=>{class s{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(P,[]);this.chain=r.reduceRight((n,o)=>new Q(n,o),this.backend)}return this.chain.handle(e)}}return s.\u0275fac=function(e){return new(e||s)(l.\u0275\u0275inject(S),l.\u0275\u0275inject(l.Injector))},s.\u0275prov=l.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s})();function me(){return"object"==typeof window?window:{}}let te=(()=>{class s{static disable(){return{ngModule:s,providers:[{provide:U,useClass:le}]}}static withOptions(e={}){return{ngModule:s,providers:[e.cookieName?{provide:L,useValue:e.cookieName}:[],e.headerName?{provide:_,useValue:e.headerName}:[]]}}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=l.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=l.\u0275\u0275defineInjector({providers:[U,{provide:P,useExisting:U,multi:!0},{provide:F,useClass:ye},{provide:L,useValue:"XSRF-TOKEN"},{provide:_,useValue:"X-XSRF-TOKEN"}]}),s})(),ge=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=l.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=l.\u0275\u0275defineInjector({providers:[Y,{provide:j,useClass:ee},A,{provide:S,useExisting:A}],imports:[[te.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),s})(),Ee=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=l.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=l.\u0275\u0275defineInjector({providers:[D,{provide:Z,useFactory:me},{provide:P,useClass:q,multi:!0}]}),s})();const be=N.XhrFactory}}]);
(self.webpackChunkmfComponents=self.webpackChunkmfComponents||[]).push([[732],{5732:(Ce,J,v)=>{v.r(J),v.d(J,{HTTP_INTERCEPTORS:()=>P,HttpBackend:()=>S,HttpClient:()=>Y,HttpClientJsonpModule:()=>Ee,HttpClientModule:()=>ge,HttpClientXsrfModule:()=>te,HttpContext:()=>W,HttpContextToken:()=>oe,HttpErrorResponse:()=>k,HttpEventType:()=>d,HttpHandler:()=>j,HttpHeaderResponse:()=>O,HttpHeaders:()=>m,HttpParams:()=>g,HttpRequest:()=>C,HttpResponse:()=>T,HttpResponseBase:()=>x,HttpUrlEncodingCodec:()=>X,HttpXhrBackend:()=>A,HttpXsrfTokenExtractor:()=>F,JsonpClientBackend:()=>D,JsonpInterceptor:()=>q,XhrFactory:()=>be,\u0275HttpInterceptingHandler:()=>ee});var N=v(3192),l=v(7451),M=v(824),w=v(5033);class j{}class S{}class m{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const n=e.slice(0,r),o=n.toLowerCase(),a=e.slice(r+1).trim();this.maybeSetNormalizedName(n,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const n=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(n,r),this.maybeSetNormalizedName(e,n))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof m?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new m;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof m?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const n=("a"===t.op?this.headers.get(e):void 0)||[];n.push(...r),this.headers.set(e,n);break;case"d":const o=t.value;if(o){let a=this.headers.get(e);if(!a)return;a=a.filter(h=>-1===o.indexOf(h)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class X{encodeKey(t){return z(t)}encodeValue(t){return z(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const ne=/%(\d[a-f0-9])/gi,re={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function z(s){return encodeURIComponent(s).replace(ne,(t,e)=>re[e]??t)}function K(s){return`${s}`}class g{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new X,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function se(s,t){const e=new Map;return s.length>0&&s.replace(/^\?/,"").split("&").forEach(n=>{const o=n.indexOf("="),[a,h]=-1==o?[t.decodeKey(n),""]:[t.decodeKey(n.slice(0,o)),t.decodeValue(n.slice(o+1))],i=e.get(a)||[];i.push(h),e.set(a,i)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e];this.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const n=t[r];Array.isArray(n)?n.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:n,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new g({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(K(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const n=r.indexOf(K(t.value));-1!==n&&r.splice(n,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class oe{constructor(t){this.defaultValue=t}}class W{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function $(s){return"undefined"!=typeof ArrayBuffer&&s instanceof ArrayBuffer}function V(s){return"undefined"!=typeof Blob&&s instanceof Blob}function G(s){return"undefined"!=typeof FormData&&s instanceof FormData}class C{constructor(t,e,r,n){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function ie(s){switch(s){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||n?(this.body=void 0!==r?r:null,o=n):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new m),this.context||(this.context=new W),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+a}}else this.params=new g,this.urlWithParams=e}serializeBody(){return null===this.body?null:$(this.body)||V(this.body)||G(this.body)||function ae(s){return"undefined"!=typeof URLSearchParams&&s instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof g?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||G(this.body)?null:V(this.body)?this.body.type||null:$(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof g?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,r=t.url||this.url,n=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,h=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let i=t.headers||this.headers,p=t.params||this.params;const b=t.context??this.context;return void 0!==t.setHeaders&&(i=Object.keys(t.setHeaders).reduce((E,y)=>E.set(y,t.setHeaders[y]),i)),t.setParams&&(p=Object.keys(t.setParams).reduce((E,y)=>E.set(y,t.setParams[y]),p)),new C(e,r,o,{params:p,headers:i,context:b,reportProgress:h,responseType:n,withCredentials:a})}}var d=(()=>((d=d||{})[d.Sent=0]="Sent",d[d.UploadProgress=1]="UploadProgress",d[d.ResponseHeader=2]="ResponseHeader",d[d.DownloadProgress=3]="DownloadProgress",d[d.Response=4]="Response",d[d.User=5]="User",d))();class x{constructor(t,e=200,r="OK"){this.headers=t.headers||new m,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class O extends x{constructor(t={}){super(t),this.type=d.ResponseHeader}clone(t={}){return new O({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class T extends x{constructor(t={}){super(t),this.type=d.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new T({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class k extends x{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function I(s,t){return{body:t,headers:s.headers,context:s.context,observe:s.observe,params:s.params,reportProgress:s.reportProgress,responseType:s.responseType,withCredentials:s.withCredentials}}let Y=(()=>{class s{constructor(e){this.handler=e}request(e,r,n={}){let o;if(e instanceof C)o=e;else{let i,p;i=n.headers instanceof m?n.headers:new m(n.headers),n.params&&(p=n.params instanceof g?n.params:new g({fromObject:n.params})),o=new C(e,r,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:p,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const a=(0,M.of)(o).pipe((0,w.concatMap)(i=>this.handler.handle(i)));if(e instanceof C||"events"===n.observe)return a;const h=a.pipe((0,w.filter)(i=>i instanceof T));switch(n.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,w.map)(i=>{if(null!==i.body&&!(i.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return i.body}));case"blob":return h.pipe((0,w.map)(i=>{if(null!==i.body&&!(i.body instanceof Blob))throw new Error("Response is not a Blob.");return i.body}));case"text":return h.pipe((0,w.map)(i=>{if(null!==i.body&&"string"!=typeof i.body)throw new Error("Response is not a string.");return i.body}));default:return h.pipe((0,w.map)(i=>i.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new g).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,n={}){return this.request("PATCH",e,I(n,r))}post(e,r,n={}){return this.request("POST",e,I(n,r))}put(e,r,n={}){return this.request("PUT",e,I(n,r))}}return s.\u0275fac=function(e){return new(e||s)(l.\u0275\u0275inject(j))},s.\u0275prov=l.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s})();class Q{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const P=new l.InjectionToken("HTTP_INTERCEPTORS");let le=(()=>{class s{intercept(e,r){return r.handle(e)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=l.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s})(),ce=0;class Z{}let D=(()=>{class s{constructor(e,r){this.callbackMap=e,this.document=r,this.resolvedPromise=Promise.resolve()}nextCallback(){return"ng_jsonp_callback_"+ce++}handle(e){if("JSONP"!==e.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==e.responseType)throw new Error("JSONP requests must use Json response type.");return new M.Observable(r=>{const n=this.nextCallback(),o=e.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${n}$1`),a=this.document.createElement("script");a.src=o;let h=null,i=!1,p=!1;this.callbackMap[n]=c=>{delete this.callbackMap[n],!p&&(h=c,i=!0)};const b=()=>{a.parentNode&&a.parentNode.removeChild(a),delete this.callbackMap[n]},E=c=>{p||this.resolvedPromise.then(()=>{b(),i?(r.next(new T({body:h,status:200,statusText:"OK",url:o})),r.complete()):r.error(new k({url:o,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")}))})},y=c=>{p||(b(),r.error(new k({error:c,status:0,statusText:"JSONP Error",url:o})))};return a.addEventListener("load",E),a.addEventListener("error",y),this.document.body.appendChild(a),r.next({type:d.Sent}),()=>{p=!0,a.removeEventListener("load",E),a.removeEventListener("error",y),b()}})}}return s.\u0275fac=function(e){return new(e||s)(l.\u0275\u0275inject(Z),l.\u0275\u0275inject(N.DOCUMENT))},s.\u0275prov=l.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s})(),q=(()=>{class s{constructor(e){this.jsonp=e}intercept(e,r){return"JSONP"===e.method?this.jsonp.handle(e):r.handle(e)}}return s.\u0275fac=function(e){return new(e||s)(l.\u0275\u0275inject(D))},s.\u0275prov=l.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s})();const pe=/^\)\]\}',?\n/;let A=(()=>{class s{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new M.Observable(r=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((c,u)=>n.setRequestHeader(c,u.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const c=e.detectContentTypeHeader();null!==c&&n.setRequestHeader("Content-Type",c)}if(e.responseType){const c=e.responseType.toLowerCase();n.responseType="json"!==c?c:"text"}const o=e.serializeBody();let a=null;const h=()=>{if(null!==a)return a;const c=1223===n.status?204:n.status,u=n.statusText||"OK",H=new m(n.getAllResponseHeaders()),R=function fe(s){return"responseURL"in s&&s.responseURL?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):null}(n)||e.url;return a=new O({headers:H,status:c,statusText:u,url:R}),a},i=()=>{let{headers:c,status:u,statusText:H,url:R}=h(),f=null;204!==u&&(f=void 0===n.response?n.responseText:n.response),0===u&&(u=f?200:0);let B=u>=200&&u<300;if("json"===e.responseType&&"string"==typeof f){const ve=f;f=f.replace(pe,"");try{f=""!==f?JSON.parse(f):null}catch(we){f=ve,B&&(B=!1,f={error:we,text:f})}}B?(r.next(new T({body:f,headers:c,status:u,statusText:H,url:R||void 0})),r.complete()):r.error(new k({error:f,headers:c,status:u,statusText:H,url:R||void 0}))},p=c=>{const{url:u}=h(),H=new k({error:c,status:n.status||0,statusText:n.statusText||"Unknown Error",url:u||void 0});r.error(H)};let b=!1;const E=c=>{b||(r.next(h()),b=!0);let u={type:d.DownloadProgress,loaded:c.loaded};c.lengthComputable&&(u.total=c.total),"text"===e.responseType&&!!n.responseText&&(u.partialText=n.responseText),r.next(u)},y=c=>{let u={type:d.UploadProgress,loaded:c.loaded};c.lengthComputable&&(u.total=c.total),r.next(u)};return n.addEventListener("load",i),n.addEventListener("error",p),n.addEventListener("timeout",p),n.addEventListener("abort",p),e.reportProgress&&(n.addEventListener("progress",E),null!==o&&n.upload&&n.upload.addEventListener("progress",y)),n.send(o),r.next({type:d.Sent}),()=>{n.removeEventListener("error",p),n.removeEventListener("abort",p),n.removeEventListener("load",i),n.removeEventListener("timeout",p),e.reportProgress&&(n.removeEventListener("progress",E),null!==o&&n.upload&&n.upload.removeEventListener("progress",y)),n.readyState!==n.DONE&&n.abort()}})}}return s.\u0275fac=function(e){return new(e||s)(l.\u0275\u0275inject(N.XhrFactory))},s.\u0275prov=l.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s})();const L=new l.InjectionToken("XSRF_COOKIE_NAME"),_=new l.InjectionToken("XSRF_HEADER_NAME");class F{}let ye=(()=>{class s{constructor(e,r,n){this.doc=e,this.platform=r,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,N.\u0275parseCookieValue)(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return s.\u0275fac=function(e){return new(e||s)(l.\u0275\u0275inject(N.DOCUMENT),l.\u0275\u0275inject(l.PLATFORM_ID),l.\u0275\u0275inject(L))},s.\u0275prov=l.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s})(),U=(()=>{class s{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return r.handle(e);const o=this.tokenService.getToken();return null!==o&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,o)})),r.handle(e)}}return s.\u0275fac=function(e){return new(e||s)(l.\u0275\u0275inject(F),l.\u0275\u0275inject(_))},s.\u0275prov=l.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s})(),ee=(()=>{class s{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(P,[]);this.chain=r.reduceRight((n,o)=>new Q(n,o),this.backend)}return this.chain.handle(e)}}return s.\u0275fac=function(e){return new(e||s)(l.\u0275\u0275inject(S),l.\u0275\u0275inject(l.Injector))},s.\u0275prov=l.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s})();function me(){return"object"==typeof window?window:{}}let te=(()=>{class s{static disable(){return{ngModule:s,providers:[{provide:U,useClass:le}]}}static withOptions(e={}){return{ngModule:s,providers:[e.cookieName?{provide:L,useValue:e.cookieName}:[],e.headerName?{provide:_,useValue:e.headerName}:[]]}}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=l.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=l.\u0275\u0275defineInjector({providers:[U,{provide:P,useExisting:U,multi:!0},{provide:F,useClass:ye},{provide:L,useValue:"XSRF-TOKEN"},{provide:_,useValue:"X-XSRF-TOKEN"}]}),s})(),ge=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=l.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=l.\u0275\u0275defineInjector({providers:[Y,{provide:j,useClass:ee},A,{provide:S,useExisting:A}],imports:[[te.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),s})(),Ee=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=l.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=l.\u0275\u0275defineInjector({providers:[D,{provide:Z,useFactory:me},{provide:P,useClass:q,multi:!0}]}),s})();const be=N.XhrFactory}}]);
(self.webpackChunkmfComponents=self.webpackChunkmfComponents||[]).push([[734],{7734:(G,j,M)=>{M.r(j),M.d(j,{INITIAL_CONFIG:()=>x,MaskApplierService:()=>u,MaskDirective:()=>K,MaskPipe:()=>U,MaskService:()=>H,NEW_CONFIG:()=>C,NgxMaskModule:()=>z,_configFactory:()=>B,config:()=>S,initialConfig:()=>E,timeMasks:()=>y,withoutValidation:()=>b});var F=M(8239),f=M(7451),A=M(92),T=M(3192);const S=new f.InjectionToken("config"),C=new f.InjectionToken("NEW_CONFIG"),x=new f.InjectionToken("INITIAL_CONFIG"),E={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:[".",","],clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},y=["Hh:m0:s0","Hh:m0","m0:s0"],b=["percent","Hh","s0","m0","separator","d0/M0/0000","d0/M0","d0","M0"];let u=(()=>{class h{constructor(e){this._config=e,this.maskExpression="",this.actualValue="",this.shownMaskExpression="",this._formatWithSeparators=(t,s,r,n)=>{let m=[],i="";if(Array.isArray(r)){const d=new RegExp(r.map(p=>"[\\^$.|?*+()".indexOf(p)>=0?`\\${p}`:p).join("|"));m=t.split(d),i=t.match(d)?.[0]??""}else m=t.split(r),i=r;const a=m.length>1?`${i}${m[1]}`:"";let c=m[0];const k=this.separatorLimit.replace(/\s/g,"");k&&+k&&(c="-"===c[0]?`-${c.slice(1,c.length).slice(0,k.length)}`:c.slice(0,k.length));const g=/(\d+)(\d{3})/;for(;s&&g.test(c);)c=c.replace(g,"$1"+s+"$2");return void 0===n?c+a:0===n?c:c+a.substr(0,n+1)},this.percentage=t=>Number(t)>=0&&Number(t)<=100,this.getPrecision=t=>{const s=t.split(".");return s.length>1?Number(s[s.length-1]):1/0},this.checkAndRemoveSuffix=t=>{for(let s=this.suffix?.length-1;s>=0;s--){const r=this.suffix.substr(s,this.suffix?.length);if(t.includes(r)&&(s-1<0||!t.includes(this.suffix.substr(s-1,this.suffix?.length))))return t.replace(r,"")}return t},this.checkInputPrecision=(t,s,r)=>{if(s<1/0){if(Array.isArray(r)){const i=r.find(a=>a!==this.thousandSeparator);r=i||r[0]}const n=new RegExp(this._charToRegExpExpression(r)+`\\d{${s}}.*$`),m=t.match(n);m&&m[0].length-1>s&&(t=t.substring(0,t.length-(m[0].length-1-s))),0===s&&this._compareOrIncludes(t[t.length-1],r,this.thousandSeparator)&&(t=t.substring(0,t.length-1))}return t},this._shift=new Set,this.clearIfNotMatch=this._config.clearIfNotMatch,this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.maskSpecialCharacters=this._config.specialCharacters,this.maskAvailablePatterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.hiddenInput=this._config.hiddenInput,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime}applyMaskWithPattern(e,t){const[s,r]=t;return this.customPattern=r,this.applyMask(e,s)}applyMask(e,t,s=0,r=!1,n=!1,m=(()=>{})){if(!t||"string"!=typeof e)return"";let i=0,a="",c=!1,k=!1,g=1,d=!1;e.slice(0,this.prefix.length)===this.prefix&&(e=e.slice(this.prefix.length,e.length)),this.suffix&&e?.length>0&&(e=this.checkAndRemoveSuffix(e));const p=e.toString().split("");"IP"===t&&(this.ipError=p.filter(o=>"."===o).length<3&&p.length<7,t="099.099.099.099");const I=[];for(let o=0;o<e.length;o++)e[o]?.match("\\d")&&I.push(e[o]);if("CPF_CNPJ"===t&&(this.cpfCnpjError=11!==I.length&&14!==I.length,t=I.length>11?"00.000.000/0000-00":"000.000.000-00"),t.startsWith("percent")){if(e.match("[a-z]|[A-Z]")||e.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)){e=this._stripToDecimal(e);const o=this.getPrecision(t);e=this.checkInputPrecision(e,o,this.decimalMarker)}e.indexOf(".")>0&&!this.percentage(e.substring(0,e.indexOf(".")))&&(e=`${e.substring(0,e.indexOf(".")-1)}${e.substring(e.indexOf("."),e.length)}`),a=this.percentage(e)?e:e.substring(0,e.length-1)}else if(t.startsWith("separator")){(e.match("[w\u0430-\u044f\u0410-\u042f]")||e.match("[\u0401\u0451\u0410-\u044f]")||e.match("[a-z]|[A-Z]")||e.match(/[-@#!$%\\^&*()_\xa3\xac'+|~=`{}\[\]:";<>.?\/]/)||e.match("[^A-Za-z0-9,]"))&&(e=this._stripToDecimal(e)),e=e.length>1&&"0"===e[0]&&!this._compareOrIncludes(e[1],this.decimalMarker,this.thousandSeparator)&&!n?e.slice(1,e.length):e,n&&(e=this._compareOrIncludes(e[e.length-1],this.decimalMarker,this.thousandSeparator)?e.slice(0,e.length-1):e);const o=this._charToRegExpExpression(this.thousandSeparator);let l='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(o,"");if(Array.isArray(this.decimalMarker))for(const P of this.decimalMarker)l=l.replace(this._charToRegExpExpression(P),"");else l=l.replace(this._charToRegExpExpression(this.decimalMarker),"");const w=new RegExp("["+l+"]");(e.match(w)||1===e.length&&this._compareOrIncludes(e,this.decimalMarker,this.thousandSeparator))&&(e=e.substring(0,e.length-1));const v=this.getPrecision(t),L=(e=this.checkInputPrecision(e,v,this.decimalMarker)).replace(new RegExp(o,"g"),"");a=this._formatWithSeparators(L,this.thousandSeparator,this.decimalMarker,v);const Z=a.indexOf(",")-e.indexOf(","),N=a.length-e.length;if(N>0&&","!==a[s]){k=!0;let P=0;do{this._shift.add(s+P),P++}while(P<N)}else 0!==Z&&s>0&&!(a.indexOf(",")>=s&&s>3)||!(a.indexOf(".")>=s&&s>3)&&N<=0?(this._shift.clear(),k=!0,g=N,this._shift.add(s+=N)):this._shift.clear()}else for(let o=0,l=p[0];o<p.length&&i!==t.length;o++,l=p[o])if(this._checkSymbolMask(l,t[i])&&"?"===t[i+1])a+=l,i+=2;else if("*"===t[i+1]&&c&&this._checkSymbolMask(l,t[i+2]))a+=l,i+=3,c=!1;else if(this._checkSymbolMask(l,t[i])&&"*"===t[i+1])a+=l,c=!0;else if("?"===t[i+1]&&this._checkSymbolMask(l,t[i+2]))a+=l,i+=3;else if(this._checkSymbolMask(l,t[i])){if("H"===t[i]&&Number(l)>2){i+=1,this._shiftStep(t,i,p.length),o--,this.leadZeroDateTime&&(a+="0");continue}if("h"===t[i]&&"2"===a&&Number(l)>3){i+=1,o--;continue}if("m"===t[i]&&Number(l)>5){i+=1,this._shiftStep(t,i,p.length),o--,this.leadZeroDateTime&&(a+="0");continue}if("s"===t[i]&&Number(l)>5){i+=1,this._shiftStep(t,i,p.length),o--,this.leadZeroDateTime&&(a+="0");continue}const w=31;if("d"===t[i]&&(Number(l)>3&&this.leadZeroDateTime||Number(e.slice(i,i+2))>w||"/"===e[i+1])){i+=1,this._shiftStep(t,i,p.length),o--,this.leadZeroDateTime&&(a+="0");continue}if("M"===t[i]){const v=12,L=0===i&&(Number(l)>2||Number(e.slice(i,i+2))>v||"/"===e[i+1]),Z=e.slice(i-3,i-1).includes("/")&&("/"===e[i-2]&&Number(e.slice(i-1,i+1))>v&&"/"!==e[i]||"/"===e[i]||"/"===e[i-3]&&Number(e.slice(i-2,i))>v&&"/"!==e[i-1]||"/"===e[i-1]),N=Number(e.slice(i-3,i-1))<=w&&!e.slice(i-3,i-1).includes("/")&&"/"===e[i-1]&&(Number(e.slice(i,i+2))>v||"/"===e[i+1]),P=Number(e.slice(i-3,i-1))>w&&!e.slice(i-3,i-1).includes("/")&&!e.slice(i-2,i).includes("/")&&Number(e.slice(i-2,i))>v,J=Number(e.slice(i-3,i-1))<=w&&!e.slice(i-3,i-1).includes("/")&&"/"!==e[i-1]&&Number(e.slice(i-1,i+1))>v;if(Number(l)>1&&this.leadZeroDateTime||L||Z||N||P||J){i+=1,this._shiftStep(t,i,p.length),o--,this.leadZeroDateTime&&(a+="0");continue}}a+=l,i++}else-1!==this.maskSpecialCharacters.indexOf(t[i])?(a+=t[i],i++,this._shiftStep(t,i,p.length),o--):this.maskSpecialCharacters.indexOf(l)>-1&&this.maskAvailablePatterns[t[i]]&&this.maskAvailablePatterns[t[i]]?.optional?(!!p[i]&&"099.099.099.099"!==t&&"000.000.000-00"!==t&&"00.000.000/0000-00"!==t&&(a+=p[i]),i++,o--):"*"===this.maskExpression[i+1]&&this._findSpecialChar(this.maskExpression[i+2])&&this._findSpecialChar(l)===this.maskExpression[i+2]&&c||"?"===this.maskExpression[i+1]&&this._findSpecialChar(this.maskExpression[i+2])&&this._findSpecialChar(l)===this.maskExpression[i+2]&&c?(i+=3,a+=l):this.showMaskTyped&&this.maskSpecialCharacters.indexOf(l)<0&&l!==this.placeHolderCharacter&&(d=!0);a.length+1===t.length&&-1!==this.maskSpecialCharacters.indexOf(t[t.length-1])&&(a+=t[t.length-1]);let D=s+1;for(;this._shift.has(D);)g++,D++;let O=r?i:this._shift.has(s)?g:0;d&&O--,m(O,k),g<0&&this._shift.clear();let $=!1;n&&($=p.every(o=>this.maskSpecialCharacters.includes(o)));let R=`${this.prefix}${$?"":a}${this.suffix}`;return 0===a.length&&(R=`${this.prefix}${a}`),R}_findSpecialChar(e){return this.maskSpecialCharacters.find(t=>t===e)}_checkSymbolMask(e,t){return this.maskAvailablePatterns=this.customPattern?this.customPattern:this.maskAvailablePatterns,this.maskAvailablePatterns[t]&&this.maskAvailablePatterns[t].pattern&&this.maskAvailablePatterns[t].pattern.test(e)}_stripToDecimal(e){return e.split("").filter((t,s)=>t.match("^-?\\d")||t.match("\\s")||"."===t||","===t||"-"===t&&0===s&&this.allowNegativeNumbers).join("")}_charToRegExpExpression(e){return e&&(" "===e?"\\s":"[\\^$.|?*+()".indexOf(e)>=0?`\\${e}`:e)}_shiftStep(e,t,s){const r=/[*?]/g.test(e.slice(0,t))?s:t;this._shift.add(r+this.prefix.length||0)}_compareOrIncludes(e,t,s){return Array.isArray(t)?t.filter(r=>r!==s).includes(e):e===t}}return h.\u0275fac=function(e){return new(e||h)(f.\u0275\u0275inject(S))},h.\u0275prov=f.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac}),h})(),H=(()=>{class h extends u{constructor(e,t,s,r){super(t),this.document=e,this._config=t,this._elementRef=s,this._renderer=r,this.maskExpression="",this.isNumberValue=!1,this.placeHolderCharacter="_",this.maskIsShown="",this.selStart=null,this.selEnd=null,this.writingValue=!1,this.maskChanged=!1,this.onChange=n=>{}}applyMask(e,t,s=0,r=!1,n=!1,m=(()=>{})){if(!t)return e;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():"","IP"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(e||"#")),"CPF_CNPJ"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(e||"#")),!e&&this.showMaskTyped)return this.formControlResult(this.prefix),this.prefix+this.maskIsShown;const i=e&&"number"==typeof this.selStart?e[this.selStart]:"";let a="";if(this.hiddenInput&&!this.writingValue){let d=this.actualValue.split("");""!==e&&d.length?"number"==typeof this.selStart&&"number"==typeof this.selEnd&&(e.length>d.length?d.splice(this.selStart,0,i):e.length<d.length&&(d.length-e.length==1?d.splice(this.selStart-1,1):d.splice(this.selStart,this.selEnd-this.selStart))):d=[],this.showMaskTyped&&(e=this.removeMask(e)),a=this.actualValue.length&&d.length<=e.length?this.shiftTypedSymbols(d.join("")):e}a=Boolean(a)&&a.length?a:e;const c=super.applyMask(a,t,s,r,n,m);if(this.actualValue=this.getActualValue(c),"."===this.thousandSeparator&&"."===this.decimalMarker&&(this.decimalMarker=","),this.maskExpression.startsWith("separator")&&!0===this.dropSpecialCharacters&&(this.maskSpecialCharacters=this.maskSpecialCharacters.filter(d=>!this._compareOrIncludes(d,this.decimalMarker,this.thousandSeparator))),this.formControlResult(c),!this.showMaskTyped)return this.hiddenInput&&c&&c.length?this.hideInput(c,this.maskExpression):c;const k=c.length,g=this.prefix+this.maskIsShown;if(this.maskExpression.includes("H")){const d=this._numberSkipedSymbols(c);return c+g.slice(k+d)}return"IP"===this.maskExpression||"CPF_CNPJ"===this.maskExpression?c+g:c+g.slice(k)}_numberSkipedSymbols(e){const t=/(^|\D)(\d\D)/g;let s=t.exec(e),r=0;for(;null!=s;)r+=1,s=t.exec(e);return r}applyValueChanges(e=0,t,s,r=(()=>{})){const n=this._elementRef.nativeElement;n.value=this.applyMask(n.value,this.maskExpression,e,t,s,r),n!==this.document.activeElement&&this.clearIfNotMatchFn()}hideInput(e,t){return e.split("").map((s,r)=>this.maskAvailablePatterns&&this.maskAvailablePatterns[t[r]]&&this.maskAvailablePatterns[t[r]]?.symbol?this.maskAvailablePatterns[t[r]]?.symbol:s).join("")}getActualValue(e){const t=e.split("").filter((s,r)=>this._checkSymbolMask(s,this.maskExpression[r])||this.maskSpecialCharacters.includes(this.maskExpression[r])&&s===this.maskExpression[r]);return t.join("")===e?t.join(""):e}shiftTypedSymbols(e){let t="";return(e&&e.split("").map((r,n)=>{if(this.maskSpecialCharacters.includes(e[n+1])&&e[n+1]!==this.maskExpression[n+1])return t=r,e[n+1];if(t.length){const m=t;return t="",m}return r})||[]).join("")}showMaskInInput(e){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}if(this.showMaskTyped){if(e){if("IP"===this.maskExpression)return this._checkForIp(e);if("CPF_CNPJ"===this.maskExpression)return this._checkForCpfCnpj(e)}return this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){const e=this._elementRef.nativeElement;this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==e.value.replace(/_/g,"").length&&(this.formElementProperty=["value",""],this.applyMask(e.value,this.maskExpression))}set formElementProperty([e,t]){Promise.resolve().then(()=>this._renderer.setProperty(this._elementRef.nativeElement,e,t))}checkSpecialCharAmount(e){return e.split("").filter(s=>this._findSpecialChar(s)).length}removeMask(e){return this._removeMask(this._removeSuffix(this._removePrefix(e)),this.maskSpecialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(e){if("#"===e)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;const t=[];for(let s=0;s<e.length;s++)e[s]?.match("\\d")&&t.push(e[s]);return t.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:t.length>3&&t.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:t.length>6&&t.length<=9?this.placeHolderCharacter:""}_checkForCpfCnpj(e){const t=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,s=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if("#"===e)return t;const r=[];for(let n=0;n<e.length;n++)e[n]?.match("\\d")&&r.push(e[n]);return r.length<=3?t.slice(r.length,t.length):r.length>3&&r.length<=6?t.slice(r.length+1,t.length):r.length>6&&r.length<=9?t.slice(r.length+2,t.length):r.length>9&&r.length<11?t.slice(r.length+3,t.length):11===r.length?"":12===r.length?s.slice(17===e.length?16:15,s.length):r.length>12&&r.length<=14?s.slice(r.length+4,s.length):""}formControlResult(e){this.writingValue||this.maskChanged?this.maskChanged=!1:Array.isArray(this.dropSpecialCharacters)?this.onChange(this._toNumber(this._removeMask(this._removeSuffix(this._removePrefix(e)),this.dropSpecialCharacters))):this.onChange(this.dropSpecialCharacters?this._toNumber(this._checkSymbols(e)):this._removeSuffix(e))}_toNumber(e){if(!this.isNumberValue||""===e)return e;const t=Number(e);return Number.isNaN(t)?e:t}_removeMask(e,t){return e&&e.replace(this._regExpForRemove(t),"")}_removePrefix(e){return this.prefix?e&&e.replace(this.prefix,""):e}_removeSuffix(e){return this.suffix?e&&e.replace(this.suffix,""):e}_retrieveSeparatorValue(e){return this._removeMask(this._removeSuffix(this._removePrefix(e)),this.maskSpecialCharacters)}_regExpForRemove(e){return new RegExp(e.map(t=>`\\${t}`).join("|"),"gi")}_checkSymbols(e){if(""===e)return e;const t=this._retrieveSeparatorPrecision(this.maskExpression);let s=this._retrieveSeparatorValue(e);return"."!==this.decimalMarker&&!Array.isArray(this.decimalMarker)&&(s=s.replace(this.decimalMarker,".")),this.isNumberValue?t?e===this.decimalMarker?null:this._checkPrecision(this.maskExpression,s):Number(s):s}_retrieveSeparatorPrecision(e){const t=e.match(new RegExp("^separator\\.([^d]*)"));return t?Number(t[1]):null}_checkPrecision(e,t){return e.indexOf("2")>0?Number(t).toFixed(2):Number(t)}}return h.\u0275fac=function(e){return new(e||h)(f.\u0275\u0275inject(T.DOCUMENT),f.\u0275\u0275inject(S),f.\u0275\u0275inject(f.ElementRef),f.\u0275\u0275inject(f.Renderer2))},h.\u0275prov=f.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac}),h})(),K=(()=>{class h{constructor(e,t,s){this.document=e,this._maskService=t,this._config=s,this.maskExpression="",this.specialCharacters=[],this.patterns={},this.prefix="",this.suffix="",this.thousandSeparator=" ",this.decimalMarker=".",this.dropSpecialCharacters=null,this.hiddenInput=null,this.showMaskTyped=null,this.placeHolderCharacter=null,this.shownMaskExpression=null,this.showTemplate=null,this.clearIfNotMatch=null,this.validation=null,this.separatorLimit=null,this.allowNegativeNumbers=null,this.leadZeroDateTime=null,this._maskValue="",this._position=null,this._maskExpressionArray=[],this._justPasted=!1,this.onChange=r=>{},this.onTouch=()=>{}}ngOnChanges(e){const{maskExpression:t,specialCharacters:s,patterns:r,prefix:n,suffix:m,thousandSeparator:i,decimalMarker:a,dropSpecialCharacters:c,hiddenInput:k,showMaskTyped:g,placeHolderCharacter:d,shownMaskExpression:p,showTemplate:I,clearIfNotMatch:D,validation:O,separatorLimit:$,allowNegativeNumbers:R,leadZeroDateTime:o}=e;if(t&&(t.currentValue!==t.previousValue&&!t.firstChange&&(this._maskService.maskChanged=!0),t.currentValue&&t.currentValue.split("||").length>1?(this._maskExpressionArray=t.currentValue.split("||").sort((l,w)=>l.length-w.length),this._maskValue=this._maskExpressionArray[0],this.maskExpression=this._maskExpressionArray[0],this._maskService.maskExpression=this._maskExpressionArray[0]):(this._maskExpressionArray=[],this._maskValue=t.currentValue||"",this._maskService.maskExpression=this._maskValue)),s){if(!s.currentValue||!Array.isArray(s.currentValue))return;this._maskService.maskSpecialCharacters=s.currentValue||[]}r&&r.currentValue&&(this._maskService.maskAvailablePatterns=r.currentValue),n&&(this._maskService.prefix=n.currentValue),m&&(this._maskService.suffix=m.currentValue),i&&(this._maskService.thousandSeparator=i.currentValue),a&&(this._maskService.decimalMarker=a.currentValue),c&&(this._maskService.dropSpecialCharacters=c.currentValue),k&&(this._maskService.hiddenInput=k.currentValue),g&&(this._maskService.showMaskTyped=g.currentValue),d&&(this._maskService.placeHolderCharacter=d.currentValue),p&&(this._maskService.shownMaskExpression=p.currentValue),I&&(this._maskService.showTemplate=I.currentValue),D&&(this._maskService.clearIfNotMatch=D.currentValue),O&&(this._maskService.validation=O.currentValue),$&&(this._maskService.separatorLimit=$.currentValue),R&&(this._maskService.allowNegativeNumbers=R.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.maskSpecialCharacters=this._maskService.maskSpecialCharacters.filter(l=>"-"!==l))),o&&(this._maskService.leadZeroDateTime=o.currentValue),this._applyMask()}validate({value:e}){if(!this._maskService.validation||!this._maskValue)return null;if(this._maskService.ipError)return this._createValidationError(e);if(this._maskService.cpfCnpjError)return this._createValidationError(e);if(this._maskValue.startsWith("separator")||b.includes(this._maskValue)||this._maskService.clearIfNotMatch)return null;if(y.includes(this._maskValue))return this._validateTime(e);if(e&&e.toString().length>=1){let t=0;for(const s in this._maskService.maskAvailablePatterns)if(this._maskService.maskAvailablePatterns[s].optional&&(this._maskValue.indexOf(s)!==this._maskValue.lastIndexOf(s)?t+=this._maskValue.split("").filter(n=>n===s).join("").length:-1!==this._maskValue.indexOf(s)&&t++,-1!==this._maskValue.indexOf(s)&&e.toString().length>=this._maskValue.indexOf(s)||t===this._maskValue.length))return null;if(1===this._maskValue.indexOf("{")&&e.toString().length===this._maskValue.length+Number(this._maskValue.split("{")[1].split("}")[0])-4||1===this._maskValue.indexOf("*")||1===this._maskValue.indexOf("?"))return null;if(this._maskValue.indexOf("*")>1&&e.toString().length<this._maskValue.indexOf("*")||this._maskValue.indexOf("?")>1&&e.toString().length<this._maskValue.indexOf("?")||1===this._maskValue.indexOf("{"))return this._createValidationError(e);if(-1===this._maskValue.indexOf("*")||-1===this._maskValue.indexOf("?")){const s=this._maskService.dropSpecialCharacters?this._maskValue.length-this._maskService.checkSpecialCharAmount(this._maskValue)-t:this._maskValue.length-t;if(e.toString().length<s)return this._createValidationError(e)}}return null}onPaste(){this._justPasted=!0}onModelChange(e){!e&&this._maskService.actualValue&&(this._maskService.actualValue=this._maskService.getActualValue(""))}onInput(e){const t=e.target;if(this._inputValue=t.value,this._setMask(),!this._maskValue)return void this.onChange(t.value);const s=1===t.selectionStart?t.selectionStart+this._maskService.prefix.length:t.selectionStart;let r=0,n=!1;if(this._maskService.applyValueChanges(s,this._justPasted,"Backspace"===this._code||"Delete"===this._code,(i,a)=>{this._justPasted=!1,r=i,n=a}),this.document.activeElement!==t)return;this._position=1===this._position&&1===this._inputValue.length?null:this._position;let m=this._position?this._inputValue.length+s+r:s+("Backspace"!==this._code||n?r:0);m>this._getActualInputLength()&&(m=this._getActualInputLength()),m<0&&(m=0),t.setSelectionRange(m,m),this._position=null}onBlur(){this._maskValue&&this._maskService.clearIfNotMatchFn(),this.onTouch()}onClick(e){if(!this._maskValue)return;const t=e.target;null!==t&&null!==t.selectionStart&&t.selectionStart===t.selectionEnd&&t.selectionStart>this._maskService.prefix.length&&38!==e.keyCode&&this._maskService.showMaskTyped&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),t.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===t.value?(t.focus(),t.setSelectionRange(0,0)):t.selectionStart>this._maskService.actualValue.length&&t.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));const n=t.value&&t.value!==this._maskService.prefix?t.value:this._maskService.prefix+this._maskService.maskIsShown;t.value!==n&&(t.value=n),(t.selectionStart||t.selectionEnd)<=this._maskService.prefix.length?t.selectionStart=this._maskService.prefix.length:t.selectionEnd>this._getActualInputLength()&&(t.selectionEnd=this._getActualInputLength())}onKeyDown(e){if(!this._maskValue)return;this._code=e.code?e.code:e.key;const t=e.target;if(this._inputValue=t.value,this._setMask(),38===e.keyCode&&e.preventDefault(),37===e.keyCode||8===e.keyCode||46===e.keyCode){if(8===e.keyCode&&0===t.value.length&&(t.selectionStart=t.selectionEnd),8===e.keyCode&&0!==t.selectionStart)if(this.specialCharacters=this.specialCharacters?.length?this.specialCharacters:this._config.specialCharacters,this.prefix.length>1&&t.selectionStart<=this.prefix.length)t.setSelectionRange(this.prefix.length,t.selectionEnd);else if(this._inputValue.length!==t.selectionStart&&1!==t.selectionStart)for(;this.specialCharacters.includes(this._inputValue[t.selectionStart-1].toString())&&(this.prefix.length>=1&&t.selectionStart>this.prefix.length||0===this.prefix.length);)t.setSelectionRange(t.selectionStart-1,t.selectionEnd);this.checkSelectionOnDeletion(t),this._maskService.prefix.length&&t.selectionStart<=this._maskService.prefix.length&&t.selectionEnd<=this._maskService.prefix.length&&e.preventDefault();const s=t.selectionStart;8===e.keyCode&&!t.readOnly&&0===s&&t.selectionEnd===t.value.length&&0!==t.value.length&&(this._position=this._maskService.prefix?this._maskService.prefix.length:0,this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position))}this.suffix&&this.suffix.length>1&&this._inputValue.length-this.suffix.length<t.selectionStart?t.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length):(65===e.keyCode&&e.ctrlKey||65===e.keyCode&&e.metaKey)&&(t.setSelectionRange(0,this._getActualInputLength()),e.preventDefault()),this._maskService.selStart=t.selectionStart,this._maskService.selEnd=t.selectionEnd}writeValue(e){var t=this;return(0,F.Z)(function*(){"object"==typeof e&&null!==e&&"value"in e&&("disable"in e&&t.setDisabledState(Boolean(e.disable)),e=e.value),"number"==typeof e&&(e=String(e),Array.isArray(t.decimalMarker)||(e="."!==t.decimalMarker?e.replace(".",t.decimalMarker):e),t._maskService.isNumberValue=!0),"string"!=typeof e&&(e=""),t._inputValue=e,t._setMask(),e&&t._maskService.maskExpression||t._maskService.maskExpression&&(t._maskService.prefix||t._maskService.showMaskTyped)?(t._maskService.writingValue=!0,t._maskService.formElementProperty=["value",t._maskService.applyMask(e,t._maskService.maskExpression)],t._maskService.writingValue=!1):t._maskService.formElementProperty=["value",e],t._inputValue=e})()}registerOnChange(e){this.onChange=e,this._maskService.onChange=this.onChange}registerOnTouched(e){this.onTouch=e}checkSelectionOnDeletion(e){e.selectionStart=Math.min(Math.max(this.prefix.length,e.selectionStart),this._inputValue.length-this.suffix.length),e.selectionEnd=Math.min(Math.max(this.prefix.length,e.selectionEnd),this._inputValue.length-this.suffix.length)}setDisabledState(e){this._maskService.formElementProperty=["disabled",e]}_repeatPatternSymbols(e){return e.match(/{[0-9]+}/)&&e.split("").reduce((t,s,r)=>{if(this._start="{"===s?r:this._start,"}"!==s)return this._maskService._findSpecialChar(s)?t+s:t;this._end=r;const n=Number(e.slice(this._start+1,this._end));return t+new Array(n+1).join(e[this._start-1])},"")||e}_applyMask(){this._maskService.maskExpression=this._repeatPatternSymbols(this._maskValue||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue,this._maskService.maskExpression)]}_validateTime(e){const t=this._maskValue.split("").filter(s=>":"!==s).length;return e&&(0==+e[e.length-1]&&e.length<t||e.length<=t-2)?this._createValidationError(e):null}_getActualInputLength(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}_createValidationError(e){return{mask:{requiredMask:this._maskValue,actualValue:e}}}_setMask(){this._maskExpressionArray.length>0&&this._maskExpressionArray.some(e=>{const t=this._maskService.removeMask(this._inputValue)?.length<=this._maskService.removeMask(e)?.length;if(this._inputValue&&t)return this._maskValue=e,this.maskExpression=e,this._maskService.maskExpression=e,t;this._maskValue=this._maskExpressionArray[this._maskExpressionArray.length-1],this.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1],this._maskService.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1]})}}return h.\u0275fac=function(e){return new(e||h)(f.\u0275\u0275directiveInject(T.DOCUMENT),f.\u0275\u0275directiveInject(H),f.\u0275\u0275directiveInject(S))},h.\u0275dir=f.\u0275\u0275defineDirective({type:h,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function(e,t){1&e&&f.\u0275\u0275listener("paste",function(){return t.onPaste()})("ngModelChange",function(r){return t.onModelChange(r)})("input",function(r){return t.onInput(r)})("blur",function(){return t.onBlur()})("click",function(r){return t.onClick(r)})("keydown",function(r){return t.onKeyDown(r)})},inputs:{maskExpression:["mask","maskExpression"],specialCharacters:"specialCharacters",patterns:"patterns",prefix:"prefix",suffix:"suffix",thousandSeparator:"thousandSeparator",decimalMarker:"decimalMarker",dropSpecialCharacters:"dropSpecialCharacters",hiddenInput:"hiddenInput",showMaskTyped:"showMaskTyped",placeHolderCharacter:"placeHolderCharacter",shownMaskExpression:"shownMaskExpression",showTemplate:"showTemplate",clearIfNotMatch:"clearIfNotMatch",validation:"validation",separatorLimit:"separatorLimit",allowNegativeNumbers:"allowNegativeNumbers",leadZeroDateTime:"leadZeroDateTime"},features:[f.\u0275\u0275ProvidersFeature([{provide:A.JU,useExisting:(0,f.forwardRef)(()=>h),multi:!0},{provide:A.Cf,useExisting:(0,f.forwardRef)(()=>h),multi:!0},H]),f.\u0275\u0275NgOnChangesFeature]}),h})(),U=(()=>{class h{constructor(e){this._maskService=e}transform(e,t,s=null){return e||"number"==typeof e?(s&&(this._maskService.thousandSeparator=s),"string"==typeof t?this._maskService.applyMask(`${e}`,t):this._maskService.applyMaskWithPattern(`${e}`,t)):""}}return h.\u0275fac=function(e){return new(e||h)(f.\u0275\u0275directiveInject(u,16))},h.\u0275pipe=f.\u0275\u0275definePipe({name:"mask",type:h,pure:!0}),h})();function B(h,_){return _ instanceof Function?{...h,..._()}:{...h,..._}}let z=(()=>{class h{static forRoot(e){return{ngModule:h,providers:[{provide:C,useValue:e},{provide:x,useValue:E},{provide:S,useFactory:B,deps:[x,C]},u]}}static forChild(){return{ngModule:h}}}return h.\u0275fac=function(e){return new(e||h)},h.\u0275mod=f.\u0275\u0275defineNgModule({type:h}),h.\u0275inj=f.\u0275\u0275defineInjector({}),h})();const W="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};W.KeyboardEvent||(W.KeyboardEvent=function(h,_){})},8239:(G,j,M)=>{function F(A,T,S,C,x,E,y){try{var b=A[E](y),u=b.value}catch(H){return void S(H)}b.done?T(u):Promise.resolve(u).then(C,x)}function f(A){return function(){var T=this,S=arguments;return new Promise(function(C,x){var E=A.apply(T,S);function y(u){F(E,C,x,y,b,"next",u)}function b(u){F(E,C,x,y,b,"throw",u)}y(void 0)})}}M.d(j,{Z:()=>f})}}]);
(self.webpackChunkmfComponents=self.webpackChunkmfComponents||[]).push([[758],{2885:(I,W,A)=>{A.d(W,{Ae:()=>ct});class F{constructor(s){this.table=s}reloadData(s,e){return this.table.dataLoader.load(s,void 0,void 0,void 0,e)}langText(){return this.table.modules.localize.getText(...arguments)}langBind(){return this.table.modules.localize.bind(...arguments)}langLocale(){return this.table.modules.localize.getLocale(...arguments)}commsConnections(){return this.table.modules.comms.getConnections(...arguments)}commsSend(){return this.table.modules.comms.send(...arguments)}layoutMode(){return this.table.modules.layout.getMode()}layoutRefresh(){return this.table.modules.layout.layout()}subscribe(){return this.table.eventBus.subscribe(...arguments)}unsubscribe(){return this.table.eventBus.unsubscribe(...arguments)}subscribed(s){return this.table.eventBus.subscribed(s)}subscriptionChange(){return this.table.eventBus.subscriptionChange(...arguments)}dispatch(){return this.table.eventBus.dispatch(...arguments)}chain(){return this.table.eventBus.chain(...arguments)}confirm(){return this.table.eventBus.confirm(...arguments)}dispatchExternal(){return this.table.externalEvents.dispatch(...arguments)}subscribedExternal(s){return this.table.externalEvents.subscribed(s)}subscriptionChangeExternal(){return this.table.externalEvents.subscriptionChange(...arguments)}options(s){return this.table.options[s]}setOption(s,e){return void 0!==e&&(this.table.options[s]=e),this.table.options[s]}module(s){return this.table.module(s)}}class z extends F{constructor(s,e){super(s),this._handler=null}initialize(){}registerTableOption(s,e){this.table.optionsList.register(s,e)}registerColumnOption(s,e){this.table.columnManager.optionsList.register(s,e)}registerTableFunction(s,e){void 0===this.table[s]?this.table[s]=e:console.warn("Unable to bind table function, name already in use",s)}registerComponentFunction(s,e,t){return this.table.componentFunctionBinder.bind(s,e,t)}registerDataHandler(s,e){this.table.rowManager.registerDataPipelineHandler(s,e),this._handler=s}registerDisplayHandler(s,e){this.table.rowManager.registerDisplayPipelineHandler(s,e),this._handler=s}refreshData(s,e){e||(e=this._handler),e&&this.table.rowManager.refreshActiveData(e,!1,s)}}class B{static elVisible(s){return!(s.offsetWidth<=0&&s.offsetHeight<=0)}static elOffset(s){var e=s.getBoundingClientRect();return{top:e.top+window.pageYOffset-document.documentElement.clientTop,left:e.left+window.pageXOffset-document.documentElement.clientLeft}}static deepClone(s,e,t=[]){var n={}.__proto__,r=[].__proto__;for(var l in e||(e=Object.assign(Array.isArray(s)?[]:{},s)),s){let d,m,h=s[l];null!=h&&"object"==typeof h&&(h.__proto__===n||h.__proto__===r)&&(d=t.findIndex(f=>f.subject===h),d>-1?e[l]=t[d].copy:(m=Object.assign(Array.isArray(h)?[]:{},h),t.unshift({subject:h,copy:m}),e[l]=this.deepClone(h,m,t)))}return e}}var H={};let J=(()=>{class c extends z{constructor(e){super(e),this.allowedTypes=["","data","download","clipboard","print","htmlOutput"],this.registerColumnOption("accessor"),this.registerColumnOption("accessorParams"),this.registerColumnOption("accessorData"),this.registerColumnOption("accessorDataParams"),this.registerColumnOption("accessorDownload"),this.registerColumnOption("accessorDownloadParams"),this.registerColumnOption("accessorClipboard"),this.registerColumnOption("accessorClipboardParams"),this.registerColumnOption("accessorPrint"),this.registerColumnOption("accessorPrintParams"),this.registerColumnOption("accessorHtmlOutput"),this.registerColumnOption("accessorHtmlOutputParams")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-retrieve",this.transformRow.bind(this))}initializeColumn(e){var t=!1,n={};this.allowedTypes.forEach(r=>{var h,l="accessor"+(r.charAt(0).toUpperCase()+r.slice(1));e.definition[l]&&(h=this.lookupAccessor(e.definition[l]))&&(t=!0,n[l]={accessor:h,params:e.definition[l+"Params"]||{}})}),t&&(e.modules.accessor=n)}lookupAccessor(e){var t=!1;switch(typeof e){case"string":c.accessors[e]?t=c.accessors[e]:console.warn("Accessor Error - No such accessor found, ignoring: ",e);break;case"function":t=e}return t}transformRow(e,t){var n="accessor"+(t.charAt(0).toUpperCase()+t.slice(1)),r=e.getComponent(),l=B.deepClone(e.data||{});return this.table.columnManager.traverse(function(h){var d,m,f,b;h.modules.accessor&&(m=h.modules.accessor[n]||h.modules.accessor.accessor||!1)&&"undefined"!=(d=h.getFieldValue(l))&&(b=h.getComponent(),f="function"==typeof m.params?m.params(d,l,t,b,r):m.params,h.setFieldValue(l,m.accessor(d,l,t,f,b,r)))}),l}}return c.moduleName="accessor",c.accessors=H,c})();var he={method:"GET"};function Z(c,s){var e=[];if(s=s||"",Array.isArray(c))c.forEach((n,r)=>{e=e.concat(Z(n,s?s+"["+r+"]":r))});else if("object"==typeof c)for(var t in c)e=e.concat(Z(c[t],s?s+"["+t+"]":t));else e.push({key:s,value:c});return e}function pe(c){var s=Z(c),e=[];return s.forEach(function(t){e.push(encodeURIComponent(t.key)+"="+encodeURIComponent(t.value))}),e.join("&")}function o(c,s,e){return c&&e&&Object.keys(e).length&&(!s.method||"get"==s.method.toLowerCase())&&(s.method="get",c+=(c.includes("?")?"&":"?")+pe(e)),c}function E(c,s,e){var t;return new Promise((n,r)=>{if(c=this.urlGenerator.call(this.table,c,s,e),"GET"!=s.method.toUpperCase())if(t="object"==typeof this.table.options.ajaxContentType?this.table.options.ajaxContentType:this.contentTypeFormatters[this.table.options.ajaxContentType]){for(var l in t.headers)s.headers||(s.headers={}),void 0===s.headers[l]&&(s.headers[l]=t.headers[l]);s.body=t.body.call(this,c,s,e)}else console.warn("Ajax Error - Invalid ajaxContentType value:",this.table.options.ajaxContentType);c?(void 0===s.headers&&(s.headers={}),void 0===s.headers.Accept&&(s.headers.Accept="application/json"),void 0===s.headers["X-Requested-With"]&&(s.headers["X-Requested-With"]="XMLHttpRequest"),void 0===s.mode&&(s.mode="cors"),"cors"==s.mode?(void 0===s.headers.Origin&&(s.headers.Origin=window.location.origin),void 0===s.credentials&&(s.credentials="same-origin")):void 0===s.credentials&&(s.credentials="include"),fetch(c,s).then(h=>{h.ok?h.json().then(d=>{n(d)}).catch(d=>{r(d),console.warn("Ajax Load Error - Invalid JSON returned",d)}):(console.error("Ajax Load Error - Connection Error: "+h.status,h.statusText),r(h))}).catch(h=>{console.error("Ajax Load Error - Connection Error: ",h),r(h)})):(console.warn("Ajax Load Error - No URL Set"),n([]))})}function ne(c,s){var e=[];if(s=s||"",Array.isArray(c))c.forEach((n,r)=>{e=e.concat(ne(n,s?s+"["+r+"]":r))});else if("object"==typeof c)for(var t in c)e=e.concat(ne(c[t],s?s+"["+t+"]":t));else e.push({key:s,value:c});return e}var Ae={json:{headers:{"Content-Type":"application/json"},body:function(c,s,e){return JSON.stringify(e)}},form:{headers:{},body:function(c,s,e){var t=ne(e),n=new FormData;return t.forEach(function(r){n.append(r.key,r.value)}),n}}};let dt=(()=>{class c extends z{constructor(e){super(e),this.config={},this.url="",this.urlGenerator=!1,this.params=!1,this.loaderPromise=!1,this.registerTableOption("ajaxURL",!1),this.registerTableOption("ajaxURLGenerator",!1),this.registerTableOption("ajaxParams",{}),this.registerTableOption("ajaxConfig","get"),this.registerTableOption("ajaxContentType","form"),this.registerTableOption("ajaxRequestFunc",!1),this.registerTableOption("ajaxRequesting",function(){}),this.registerTableOption("ajaxResponse",!1),this.contentTypeFormatters=c.contentTypeFormatters}initialize(){this.loaderPromise=this.table.options.ajaxRequestFunc||c.defaultLoaderPromise,this.urlGenerator=this.table.options.ajaxURLGenerator||c.defaultURLGenerator,this.table.options.ajaxURL&&this.setUrl(this.table.options.ajaxURL),this.setDefaultConfig(this.table.options.ajaxConfig),this.registerTableFunction("getAjaxUrl",this.getUrl.bind(this)),this.subscribe("data-loading",this.requestDataCheck.bind(this)),this.subscribe("data-params",this.requestParams.bind(this)),this.subscribe("data-load",this.requestData.bind(this))}requestParams(e,t,n,r){var l=this.table.options.ajaxParams;return l&&("function"==typeof l&&(l=l.call(this.table)),r=Object.assign(r,l)),r}requestDataCheck(e,t,n,r){return!((e||!this.url)&&"string"!=typeof e)}requestData(e,t,n,r,l){var h;return!l&&this.requestDataCheck(e)?(e&&this.setUrl(e),h=this.generateConfig(n),this.sendRequest(this.url,t,h)):l}setDefaultConfig(e={}){this.config=Object.assign({},c.defaultConfig),"string"==typeof e?this.config.method=e:Object.assign(this.config,e)}generateConfig(e={}){var t=Object.assign({},this.config);return"string"==typeof e?t.method=e:Object.assign(t,e),t}setUrl(e){this.url=e}getUrl(){return this.url}sendRequest(e,t,n){return!1!==this.table.options.ajaxRequesting.call(this.table,e,t)?this.loaderPromise(e,n,t).then(r=>(this.table.options.ajaxResponse&&(r=this.table.options.ajaxResponse.call(this.table,e,t,r)),r)):Promise.reject()}}return c.moduleName="ajax",c.defaultConfig=he,c.defaultURLGenerator=o,c.defaultLoaderPromise=E,c.contentTypeFormatters=Ae,c})();var ut={replace:function(c){return this.table.setData(c)},update:function(c){return this.table.updateOrAddData(c)},insert:function(c){return this.table.addData(c)}},ze={table:function(c){var s=[],e=!0,t=this.table.columnManager.columns,n=[],r=[];return(c=c.split("\n")).forEach(function(l){s.push(l.split("\t"))}),!(!s.length||1===s.length&&s[0].length<2)&&(s[0].forEach(function(l){var h=t.find(function(d){return l&&d.definition.title&&l.trim()&&d.definition.title.trim()===l.trim()});h?n.push(h):e=!1}),e||(e=!0,n=[],s[0].forEach(function(l){var h=t.find(function(d){return l&&d.field&&l.trim()&&d.field.trim()===l.trim()});h?n.push(h):e=!1}),e||(n=this.table.columnManager.columnsByIndex)),e&&s.shift(),s.forEach(function(l){var h={};l.forEach(function(d,m){n[m]&&(h[n[m].field]=d)}),r.push(h)}),r)}};let mt=(()=>{class c extends z{constructor(e){super(e),this.mode=!0,this.pasteParser=function(){},this.pasteAction=function(){},this.customSelection=!1,this.rowRange=!1,this.blocked=!0,this.registerTableOption("clipboard",!1),this.registerTableOption("clipboardCopyStyled",!0),this.registerTableOption("clipboardCopyConfig",!1),this.registerTableOption("clipboardCopyFormatter",!1),this.registerTableOption("clipboardCopyRowRange","active"),this.registerTableOption("clipboardPasteParser","table"),this.registerTableOption("clipboardPasteAction","insert"),this.registerColumnOption("clipboard"),this.registerColumnOption("titleClipboard")}initialize(){this.mode=this.table.options.clipboard,this.rowRange=this.table.options.clipboardCopyRowRange,(!0===this.mode||"copy"===this.mode)&&this.table.element.addEventListener("copy",e=>{var t,n;if(!this.blocked){if(e.preventDefault(),this.customSelection)t=this.customSelection,this.table.options.clipboardCopyFormatter&&(t=this.table.options.clipboardCopyFormatter("plain",t));else{var r=this.table.modules.export.generateExportList(this.table.options.clipboardCopyConfig,this.table.options.clipboardCopyStyled,this.rowRange,"clipboard");t=(n=this.table.modules.export.genereateHTMLTable(r))?this.generatePlainContent(r):"",this.table.options.clipboardCopyFormatter&&(t=this.table.options.clipboardCopyFormatter("plain",t),n=this.table.options.clipboardCopyFormatter("html",n))}window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",t):e.clipboardData&&e.clipboardData.setData?(e.clipboardData.setData("text/plain",t),n&&e.clipboardData.setData("text/html",n)):e.originalEvent&&e.originalEvent.clipboardData.setData&&(e.originalEvent.clipboardData.setData("text/plain",t),n&&e.originalEvent.clipboardData.setData("text/html",n)),this.dispatchExternal("clipboardCopied",t,n),this.reset()}}),(!0===this.mode||"paste"===this.mode)&&this.table.element.addEventListener("paste",e=>{this.paste(e)}),this.setPasteParser(this.table.options.clipboardPasteParser),this.setPasteAction(this.table.options.clipboardPasteAction),this.registerTableFunction("copyToClipboard",this.copy.bind(this))}reset(){this.blocked=!0,this.customSelection=!1}generatePlainContent(e){var t=[];return e.forEach(n=>{var r=[];n.columns.forEach(l=>{var h="";if(l)if("group"===n.type&&(l.value=l.component.getKey()),null===l.value)h="";else switch(typeof l.value){case"object":h=JSON.stringify(l.value);break;case"undefined":h="";break;default:h=l.value}r.push(h)}),t.push(r.join("\t"))}),t.join("\n")}copy(n,t){var r,l;this.blocked=!1,this.customSelection=!1,(!0===this.mode||"copy"===this.mode)&&(this.rowRange=n||this.table.options.clipboardCopyRowRange,void 0!==window.getSelection&&void 0!==document.createRange?((n=document.createRange()).selectNodeContents(this.table.element),(r=window.getSelection()).toString()&&t&&(this.customSelection=r.toString()),r.removeAllRanges(),r.addRange(n)):void 0!==document.selection&&void 0!==document.body.createTextRange&&((l=document.body.createTextRange()).moveToElementText(this.table.element),l.select()),document.execCommand("copy"),r&&r.removeAllRanges())}setPasteAction(e){switch(typeof e){case"string":this.pasteAction=c.pasteActions[e],this.pasteAction||console.warn("Clipboard Error - No such paste action found:",e);break;case"function":this.pasteAction=e}}setPasteParser(e){switch(typeof e){case"string":this.pasteParser=c.pasteParsers[e],this.pasteParser||console.warn("Clipboard Error - No such paste parser found:",e);break;case"function":this.pasteParser=e}}paste(e){var t,n,r;this.checkPaseOrigin(e)&&(t=this.getPasteData(e),(n=this.pasteParser.call(this,t))?(e.preventDefault(),this.table.modExists("mutator")&&(n=this.mutateData(n)),r=this.pasteAction.call(this,n),this.dispatchExternal("clipboardPasted",t,n,r)):this.dispatchExternal("clipboardPasteError",t))}mutateData(e){var t=[];return Array.isArray(e)?e.forEach(n=>{t.push(this.table.modules.mutator.transformRow(n,"clipboard"))}):t=e,t}checkPaseOrigin(e){var t=!0;return("DIV"!=e.target.tagName||this.table.modules.edit.currentCell)&&(t=!1),t}getPasteData(e){var t;return window.clipboardData&&window.clipboardData.getData?t=window.clipboardData.getData("Text"):e.clipboardData&&e.clipboardData.getData?t=e.clipboardData.getData("text/plain"):e.originalEvent&&e.originalEvent.clipboardData.getData&&(t=e.originalEvent.clipboardData.getData("text/plain")),t}}return c.moduleName="clipboard",c.pasteActions=ut,c.pasteParsers=ze,c})();class Ee{constructor(s){return this._row=s,new Proxy(this,{get:function(e,t,n){return void 0!==e[t]?e[t]:e._row.table.componentFunctionBinder.handle("row",e._row,t)}})}getData(s){return this._row.getData(s)}getElement(){return this._row.getElement()}getTable(){return this._row.table}getCells(){var s=[];return this._row.getCells().forEach(function(e){s.push(e.getComponent())}),s}getCell(s){var e=this._row.getCell(s);return!!e&&e.getComponent()}_getSelf(){return this._row}}class Ke{constructor(s){return this._cell=s,new Proxy(this,{get:function(e,t,n){return void 0!==e[t]?e[t]:e._cell.table.componentFunctionBinder.handle("cell",e._cell,t)}})}getValue(){return this._cell.getValue()}getOldValue(){return this._cell.getOldValue()}getInitialValue(){return this._cell.initialValue}getElement(){return this._cell.getElement()}getRow(){return this._cell.row.getComponent()}getData(){return this._cell.row.getData()}getField(){return this._cell.column.getField()}getColumn(){return this._cell.column.getComponent()}setValue(s,e){void 0===e&&(e=!0),this._cell.setValue(s,e)}restoreOldValue(){this._cell.setValueActual(this._cell.getOldValue())}restoreInitialValue(){this._cell.setValueActual(this._cell.initialValue)}checkHeight(){this._cell.checkHeight()}getTable(){return this._cell.table}_getSelf(){return this._cell}}class ke extends F{constructor(s,e){super(s.table),this.table=s.table,this.column=s,this.row=e,this.element=null,this.value=null,this.oldValue=null,this.modules={},this.height=null,this.width=null,this.minWidth=null,this.component=null,this.loaded=!1,this.build()}build(){this.generateElement(),this.setWidth(),this._configureCell(),this.setValueActual(this.column.getFieldValue(this.row.data)),this.initialValue=this.value}generateElement(){this.element=document.createElement("div"),this.element.className="tabulator-cell",this.element.setAttribute("role","gridcell"),this.element=this.element}_configureCell(){var s=this.element,e=this.column.getField();s.style.textAlign=this.column.hozAlign,this.column.vertAlign&&(s.style.display="inline-flex",s.style.alignItems={top:"flex-start",bottom:"flex-end",middle:"center"}[this.column.vertAlign]||"",this.column.hozAlign&&(s.style.justifyContent={left:"flex-start",right:"flex-end",center:"center"}[this.column.hozAlign]||"")),e&&s.setAttribute("tabulator-field",e),this.column.definition.cssClass&&this.column.definition.cssClass.split(" ").forEach(l=>{s.classList.add(l)}),"hover"===this.table.options.tooltipGenerationMode&&s.addEventListener("mouseenter",l=>{this._generateTooltip()}),this.dispatch("cell-init",this),this.column.visible||this.hide()}_generateContents(){var s;switch(typeof(s=this.chain("cell-format",this,null,()=>this.element.innerHTML=this.value))){case"object":if(s instanceof Node){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.appendChild(s)}else this.element.innerHTML="",null!=s&&console.warn("Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",s);break;case"undefined":case"null":this.element.innerHTML="";break;default:this.element.innerHTML=s}}cellRendered(){this.dispatch("cell-rendered",this)}_generateTooltip(){var s=this.column.tooltip;s?(!0===s?s=this.value:"function"==typeof s&&!1===(s=s(this.getComponent()))&&(s=""),void 0===s&&(s=""),this.element.setAttribute("title",s)):this.element.setAttribute("title","")}getElement(s){return this.loaded||(this.loaded=!0,s||this.layoutElement()),this.element}getValue(){return this.value}getOldValue(){return this.oldValue}setValue(s,e){this.setValueProcessData(s,e)&&(this.dispatch("cell-value-updated",this),this.cellRendered(),this.column.definition.cellEdited&&this.column.definition.cellEdited.call(this.table,this.getComponent()),this.dispatchExternal("cellEdited",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()))}setValueProcessData(s,e){var t=!1;return this.value!==s&&(t=!0,e&&(s=this.chain("cell-value-changing",[this,s],null,s))),this.setValueActual(s),t&&this.dispatch("cell-value-changed",this),t}setValueActual(s){this.oldValue=this.value,this.value=s,this.dispatch("cell-value-save-before",this),this.column.setFieldValue(this.row.data,s),this.dispatch("cell-value-save-after",this),this.loaded&&this.layoutElement()}layoutElement(){this._generateContents(),this._generateTooltip(),this.dispatch("cell-layout",this)}setWidth(){this.width=this.column.width,this.element.style.width=this.column.widthStyled}clearWidth(){this.width="",this.element.style.width=""}getWidth(){return this.width||this.element.offsetWidth}setMinWidth(){this.minWidth=this.column.minWidth,this.element.style.minWidth=this.column.minWidthStyled}setMaxWidth(){this.maxWidth=this.column.maxWidth,this.element.style.maxWidth=this.column.maxWidthStyled}checkHeight(){this.row.reinitializeHeight()}clearHeight(){this.element.style.height="",this.height=null}setHeight(){this.height=this.row.height,this.element.style.height=this.row.heightStyled}getHeight(){return this.height||this.element.offsetHeight}show(){this.element.style.display=this.column.vertAlign?"inline-flex":""}hide(){this.element.style.display="none"}delete(){this.dispatch("cell-delete",this),!this.table.rowManager.redrawBlock&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.column.deleteCell(this),this.row.deleteCell(this),this.calcs={}}getIndex(){return this.row.getCellIndex(this)}getComponent(){return this.component||(this.component=new Ke(this)),this.component}}class $e{constructor(s){return this._column=s,this.type="ColumnComponent",new Proxy(this,{get:function(e,t,n){return void 0!==e[t]?e[t]:e._column.table.componentFunctionBinder.handle("column",e._column,t)}})}getElement(){return this._column.getElement()}getDefinition(){return this._column.getDefinition()}getField(){return this._column.getField()}getTitleDownload(){return this._column.getTitleDownload()}getCells(){var s=[];return this._column.cells.forEach(function(e){s.push(e.getComponent())}),s}isVisible(){return this._column.visible}show(){this._column.isGroup?this._column.columns.forEach(function(s){s.show()}):this._column.show()}hide(){this._column.isGroup?this._column.columns.forEach(function(s){s.hide()}):this._column.hide()}toggle(){this._column.visible?this.hide():this.show()}delete(){return this._column.delete()}getSubColumns(){var s=[];return this._column.columns.length&&this._column.columns.forEach(function(e){s.push(e.getComponent())}),s}getParentColumn(){return this._column.parent instanceof Ce&&this._column.parent.getComponent()}_getSelf(){return this._column}scrollTo(){return this._column.table.columnManager.scrollToColumn(this._column)}getTable(){return this._column.table}move(s,e){var t=this._column.table.columnManager.findColumn(s);t?this._column.table.columnManager.moveColumn(this._column,t,e):console.warn("Move Error - No matching column found:",t)}getNextColumn(){var s=this._column.nextColumn();return!!s&&s.getComponent()}getPrevColumn(){var s=this._column.prevColumn();return!!s&&s.getComponent()}updateDefinition(s){return this._column.updateDefinition(s)}getWidth(){return this._column.getWidth()}setWidth(s){var e;return e=!0===s?this._column.reinitializeWidth(!0):this._column.setWidth(s),this._column.table.columnManager.renderer.rerenderColumns(!0),e}}var Xe={title:void 0,field:void 0,columns:void 0,visible:void 0,hozAlign:void 0,vertAlign:void 0,width:void 0,minWidth:40,maxWidth:void 0,maxInitialWidth:void 0,tooltip:void 0,cssClass:void 0,variableHeight:void 0,headerTooltip:void 0,headerVertical:void 0,headerHozAlign:void 0,editableTitle:void 0};let Ce=(()=>{class c extends F{constructor(e,t){super(t.table),this.definition=e,this.parent=t,this.type="column",this.columns=[],this.cells=[],this.element=this.createElement(),this.contentElement=!1,this.titleHolderElement=!1,this.titleElement=!1,this.groupElement=this.createGroupElement(),this.isGroup=!1,this.tooltip=!1,this.hozAlign="",this.vertAlign="",this.field="",this.fieldStructure="",this.getFieldValue="",this.setFieldValue="",this.titleDownload=null,this.titleFormatterRendered=!1,this.mapDefinitions(),this.setField(this.definition.field),this.modules={},this.width=null,this.widthStyled="",this.maxWidth=null,this.maxWidthStyled="",this.maxInitialWidth=null,this.minWidth=null,this.minWidthStyled="",this.widthFixed=!1,this.visible=!0,this.component=null,this.definition.columns?(this.isGroup=!0,this.definition.columns.forEach((n,r)=>{var l=new c(n,this);this.attachColumn(l)}),this.checkColumnVisibility()):t.registerColumnField(this),this._initialize(),this.bindModuleColumns()}createElement(){var e=document.createElement("div");return e.classList.add("tabulator-col"),e.setAttribute("role","columnheader"),e.setAttribute("aria-sort","none"),e}createGroupElement(){var e=document.createElement("div");return e.classList.add("tabulator-col-group-cols"),e}mapDefinitions(){var e=this.table.options.columnDefaults;if(e)for(let t in e)void 0===this.definition[t]&&(this.definition[t]=e[t]);this.definition=this.table.columnManager.optionsList.generate(c.defaultOptionList,this.definition)}checkDefinition(){Object.keys(this.definition).forEach(e=>{-1===c.defaultOptionList.indexOf(e)&&console.warn("Invalid column definition option in '"+(this.field||this.definition.title)+"' column:",e)})}setField(e){this.field=e,this.fieldStructure=e?this.table.options.nestedFieldSeparator?e.split(this.table.options.nestedFieldSeparator):[e]:[],this.getFieldValue=this.fieldStructure.length>1?this._getNestedData:this._getFlatData,this.setFieldValue=this.fieldStructure.length>1?this._setNestedData:this._setFlatData}registerColumnPosition(e){this.parent.registerColumnPosition(e)}registerColumnField(e){this.parent.registerColumnField(e)}reRegisterPosition(){this.isGroup?this.columns.forEach(function(e){e.reRegisterPosition()}):this.registerColumnPosition(this)}_mapDepricatedFunctionality(){}setTooltip(){var e=this.definition,t=e.headerTooltip;t?!0===t?e.field?this.langBind("columns|"+e.field,n=>{this.element.setAttribute("title",n||e.title)}):this.element.setAttribute("title",e.title):("function"==typeof t&&!1===(t=t(this.getComponent()))&&(t=""),this.element.setAttribute("title",t)):this.element.setAttribute("title","")}_initialize(){for(var e=this.definition;this.element.firstChild;)this.element.removeChild(this.element.firstChild);e.headerVertical&&(this.element.classList.add("tabulator-col-vertical"),"flip"===e.headerVertical&&this.element.classList.add("tabulator-col-vertical-flip")),this.contentElement=this._bindEvents(),this.contentElement=this._buildColumnHeaderContent(),this.element.appendChild(this.contentElement),this.isGroup?this._buildGroupHeader():this._buildColumnHeader(),this.setTooltip(),this.dispatch("column-init",this),this.element.addEventListener("mouseenter",t=>{this.setTooltip()})}_bindEvents(){var t,n,r,e=this.definition;"function"==typeof e.headerClick&&this.element.addEventListener("click",l=>{e.headerClick(l,this.getComponent())}),"function"==typeof e.headerDblClick&&this.element.addEventListener("dblclick",l=>{e.headerDblClick(l,this.getComponent())}),"function"==typeof e.headerContext&&this.element.addEventListener("contextmenu",l=>{e.headerContext(l,this.getComponent())}),"function"==typeof e.headerTap&&(r=!1,this.element.addEventListener("touchstart",l=>{r=!0},{passive:!0}),this.element.addEventListener("touchend",l=>{r&&e.headerTap(l,this.getComponent()),r=!1})),"function"==typeof e.headerDblTap&&(t=null,this.element.addEventListener("touchend",l=>{t?(clearTimeout(t),t=null,e.headerDblTap(l,this.getComponent())):t=setTimeout(()=>{clearTimeout(t),t=null},300)})),"function"==typeof e.headerTapHold&&(n=null,this.element.addEventListener("touchstart",l=>{clearTimeout(n),n=setTimeout(function(){clearTimeout(n),n=null,r=!1,e.headerTapHold(l,this.getComponent())},1e3)},{passive:!0}),this.element.addEventListener("touchend",l=>{clearTimeout(n),n=null}))}_buildColumnHeader(){var e=this.definition;this.dispatch("column-layout",this),void 0!==e.visible&&(e.visible?this.show(!0):this.hide(!0)),e.cssClass&&e.cssClass.split(" ").forEach(r=>{this.element.classList.add(r)}),e.field&&this.element.setAttribute("tabulator-field",e.field),this.setMinWidth(parseInt(e.minWidth)),e.maxInitialWidth&&(this.maxInitialWidth=parseInt(e.maxInitialWidth)),e.maxWidth&&this.setMaxWidth(parseInt(e.maxWidth)),this.reinitializeWidth(),this.tooltip=this.definition.tooltip,this.hozAlign=this.definition.hozAlign,this.vertAlign=this.definition.vertAlign,this.titleElement.style.textAlign=this.definition.headerHozAlign}_buildColumnHeaderContent(){var n=document.createElement("div");return n.classList.add("tabulator-col-content"),this.titleHolderElement=document.createElement("div"),this.titleHolderElement.classList.add("tabulator-col-title-holder"),n.appendChild(this.titleHolderElement),this.titleElement=this._buildColumnHeaderTitle(),this.titleHolderElement.appendChild(this.titleElement),n}_buildColumnHeaderTitle(){var e=this.definition,t=document.createElement("div");if(t.classList.add("tabulator-col-title"),e.editableTitle){var n=document.createElement("input");n.classList.add("tabulator-title-editor"),n.addEventListener("click",r=>{r.stopPropagation(),n.focus()}),n.addEventListener("change",()=>{e.title=n.value,this.dispatchExternal("columnTitleChanged",this.getComponent())}),t.appendChild(n),e.field?this.langBind("columns|"+e.field,r=>{n.value=r||e.title||"&nbsp;"}):n.value=e.title||"&nbsp;"}else e.field?this.langBind("columns|"+e.field,r=>{this._formatColumnHeaderTitle(t,r||e.title||"&nbsp;")}):this._formatColumnHeaderTitle(t,e.title||"&nbsp;");return t}_formatColumnHeaderTitle(e,t){var n=this.chain("column-format",[this,t,e],null,()=>t);switch(typeof n){case"object":n instanceof Node?e.appendChild(n):(e.innerHTML="",console.warn("Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",n));break;case"undefined":case"null":e.innerHTML="";break;default:e.innerHTML=n}}_buildGroupHeader(){this.element.classList.add("tabulator-col-group"),this.element.setAttribute("role","columngroup"),this.element.setAttribute("aria-title",this.definition.title),this.definition.cssClass&&this.definition.cssClass.split(" ").forEach(t=>{this.element.classList.add(t)}),this.titleElement.style.textAlign=this.definition.headerHozAlign,this.element.appendChild(this.groupElement)}_getFlatData(e){return e[this.field]}_getNestedData(e){var l,t=e,n=this.fieldStructure,r=n.length;for(let h=0;h<r&&(l=t=t[n[h]],t);h++);return l}_setFlatData(e,t){this.field&&(e[this.field]=t)}_setNestedData(e,t){var n=e,r=this.fieldStructure,l=r.length;for(let h=0;h<l;h++)if(h==l-1)n[r[h]]=t;else{if(!n[r[h]]){if(void 0===t)break;n[r[h]]={}}n=n[r[h]]}}attachColumn(e){this.groupElement?(this.columns.push(e),this.groupElement.appendChild(e.getElement())):console.warn("Column Warning - Column being attached to another column instead of column group")}verticalAlign(e,t){var n=this.parent.isGroup?this.parent.getGroupElement().clientHeight:t||this.parent.getHeadersElement().clientHeight;this.element.style.height=n+"px",this.isGroup&&(this.groupElement.style.minHeight=n-this.contentElement.offsetHeight+"px"),!this.isGroup&&"top"!==e&&(this.element.style.paddingTop="bottom"===e?this.element.clientHeight-this.contentElement.offsetHeight+"px":(this.element.clientHeight-this.contentElement.offsetHeight)/2+"px"),this.columns.forEach(function(r){r.verticalAlign(e)})}clearVerticalAlign(){this.element.style.paddingTop="",this.element.style.height="",this.element.style.minHeight="",this.groupElement.style.minHeight="",this.columns.forEach(function(e){e.clearVerticalAlign()})}bindModuleColumns(){"rownum"==this.definition.formatter&&(this.table.rowManager.rowNumColumn=this)}getElement(){return this.element}getGroupElement(){return this.groupElement}getField(){return this.field}getTitleDownload(){return this.titleDownload}getFirstColumn(){return this.isGroup?!!this.columns.length&&this.columns[0].getFirstColumn():this}getLastColumn(){return this.isGroup?!!this.columns.length&&this.columns[this.columns.length-1].getLastColumn():this}getColumns(){return this.columns}getCells(){return this.cells}getTopColumn(){return this.parent.isGroup?this.parent.getTopColumn():this}getDefinition(e){var t=[];return this.isGroup&&e&&(this.columns.forEach(function(n){t.push(n.getDefinition(!0))}),this.definition.columns=t),this.definition}checkColumnVisibility(){var e=!1;this.columns.forEach(function(t){t.visible&&(e=!0)}),e?(this.show(),this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1)):this.hide()}show(e,t){this.visible||(this.visible=!0,this.element.style.display="",this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(n){n.show()}),!this.isGroup&&null===this.width&&this.reinitializeWidth(),this.table.columnManager.verticalAlignHeaders(),this.dispatch("column-show",this,t),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!0),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.renderer.rerenderColumns())}hide(e,t){this.visible&&(this.visible=!1,this.element.style.display="none",this.table.columnManager.verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(n){n.hide()}),this.dispatch("column-hide",this,t),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.renderer.rerenderColumns())}matchChildWidths(){var e=0;this.contentElement&&this.columns.length&&(this.columns.forEach(function(t){t.visible&&(e+=t.getWidth())}),this.contentElement.style.maxWidth=e-1+"px",this.parent.isGroup&&this.parent.matchChildWidths())}removeChild(e){var t=this.columns.indexOf(e);t>-1&&this.columns.splice(t,1),this.columns.length||this.delete()}setWidth(e){this.widthFixed=!0,this.setWidthActual(e)}setWidthActual(e){isNaN(e)&&(e=Math.floor(this.table.element.clientWidth/100*parseInt(e))),e=Math.max(this.minWidth,e),this.maxWidth&&(e=Math.min(this.maxWidth,e)),this.width=e,this.widthStyled=e?e+"px":"",this.element.style.width=this.widthStyled,this.isGroup||this.cells.forEach(function(t){t.setWidth()}),this.parent.isGroup&&this.parent.matchChildWidths(),this.dispatch("column-width",this)}checkCellHeights(){var e=[];this.cells.forEach(function(t){t.row.heightInitialized&&(null!==t.row.getElement().offsetParent?(e.push(t.row),t.row.clearCellHeight()):t.row.heightInitialized=!1)}),e.forEach(function(t){t.calcHeight()}),e.forEach(function(t){t.setCellHeight()})}getWidth(){var e=0;return this.isGroup?this.columns.forEach(function(t){t.visible&&(e+=t.getWidth())}):e=this.width,e}getHeight(){return Math.ceil(this.element.getBoundingClientRect().height)}setMinWidth(e){this.minWidth=e,this.minWidthStyled=e?e+"px":"",this.element.style.minWidth=this.minWidthStyled,this.cells.forEach(function(t){t.setMinWidth()})}setMaxWidth(e){this.maxWidth=e,this.maxWidthStyled=e?e+"px":"",this.element.style.maxWidth=this.maxWidthStyled,this.cells.forEach(function(t){t.setMaxWidth()})}delete(){return new Promise((e,t)=>{this.isGroup&&this.columns.forEach(function(r){r.delete()}),this.dispatch("column-delete",this);var n=this.cells.length;for(let r=0;r<n;r++)this.cells[0].delete();this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.contentElement=!1,this.titleElement=!1,this.groupElement=!1,this.parent.isGroup&&this.parent.removeChild(this),this.table.columnManager.deregisterColumn(this),this.table.columnManager.renderer.rerenderColumns(!0),e()})}columnRendered(){this.titleFormatterRendered&&this.titleFormatterRendered()}generateCell(e){var t=new ke(this,e);return this.cells.push(t),t}nextColumn(){var e=this.table.columnManager.findColumnIndex(this);return e>-1&&this._nextVisibleColumn(e+1)}_nextVisibleColumn(e){var t=this.table.columnManager.getColumnByIndex(e);return!t||t.visible?t:this._nextVisibleColumn(e+1)}prevColumn(){var e=this.table.columnManager.findColumnIndex(this);return e>-1&&this._prevVisibleColumn(e-1)}_prevVisibleColumn(e){var t=this.table.columnManager.getColumnByIndex(e);return!t||t.visible?t:this._prevVisibleColumn(e-1)}reinitializeWidth(e){this.widthFixed=!1,void 0!==this.definition.width&&!e&&this.setWidth(this.definition.width),this.dispatch("column-width-fit-before",this),this.fitToData(e),this.dispatch("column-width-fit-after",this)}fitToData(e){if(!this.isGroup){this.widthFixed||(this.element.style.width="",this.cells.forEach(r=>{r.clearWidth()}));var t=this.element.offsetWidth;if((!this.width||!this.widthFixed)&&(this.cells.forEach(r=>{var l=r.getWidth();l>t&&(t=l)}),t)){var n=t+1;this.maxInitialWidth&&!e&&(n=Math.min(n,this.maxInitialWidth)),this.setWidthActual(n)}}}updateDefinition(e){var t;return this.isGroup||this.parent.isGroup?(console.error("Column Update Error - The updateDefinition function is only available on ungrouped columns"),Promise.reject("Column Update Error - The updateDefinition function is only available on columns, not column groups")):(t=Object.assign({},this.getDefinition()),t=Object.assign(t,e),this.table.columnManager.addColumn(t,!1,this).then(n=>(t.field==this.field&&(this.field=!1),this.delete().then(()=>n.getComponent()))))}deleteCell(e){var t=this.cells.indexOf(e);t>-1&&this.cells.splice(t,1)}getComponent(){return this.component||(this.component=new $e(this)),this.component}}return c.defaultOptionList=Xe,c})();class Pe{constructor(s){return this._row=s,new Proxy(this,{get:function(e,t,n){return void 0!==e[t]?e[t]:e._row.table.componentFunctionBinder.handle("row",e._row,t)}})}getData(s){return this._row.getData(s)}getElement(){return this._row.getElement()}getCells(){var s=[];return this._row.getCells().forEach(function(e){s.push(e.getComponent())}),s}getCell(s){var e=this._row.getCell(s);return!!e&&e.getComponent()}getIndex(){return this._row.getData("data")[this._row.table.options.index]}getPosition(s){return this._row.table.rowManager.getRowPosition(this._row,s)}delete(){return this._row.delete()}scrollTo(){return this._row.table.rowManager.scrollToRow(this._row)}move(s,e){this._row.moveToRow(s,e)}update(s){return this._row.updateData(s)}normalizeHeight(){this._row.normalizeHeight(!0)}_getSelf(){return this._row}reformat(){return this._row.reinitialize()}getTable(){return this._row.table}getNextRow(){var s=this._row.nextRow();return s&&s.getComponent()}getPrevRow(){var s=this._row.prevRow();return s&&s.getComponent()}}class ee extends F{constructor(s,e,t="row"){super(e.table),this.parent=e,this.data={},this.type=t,this.element=!1,this.modules={},this.cells=[],this.height=0,this.heightStyled="",this.manualHeight=!1,this.outerHeight=0,this.initialized=!1,this.heightInitialized=!1,this.component=null,this.created=!1,this.setData(s)}create(){this.created||(this.created=!0,this.generateElement())}createElement(){var s=document.createElement("div");s.classList.add("tabulator-row"),s.setAttribute("role","row"),this.element=s}getElement(){return this.create(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}generateElement(){this.createElement(),this.dispatch("row-init",this)}generateCells(){this.cells=this.table.columnManager.generateCells(this)}initialize(s){if(this.create(),!this.initialized||s){for(this.deleteCells();this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.dispatch("row-layout-before",this),this.generateCells(),this.table.columnManager.renderer.renderRowCells(this),s&&this.normalizeHeight(),this.dispatch("row-layout",this),this.initialized=!0,this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent()),this.dispatch("row-layout-after",this)}else this.table.columnManager.renderer.rerenderRowCells(this)}reinitializeHeight(){this.heightInitialized=!1,this.element&&null!==this.element.offsetParent&&this.normalizeHeight(!0)}deinitializeHeight(){this.heightInitialized=!1}reinitialize(s){this.initialized=!1,this.heightInitialized=!1,this.manualHeight||(this.height=0,this.heightStyled=""),this.element&&null!==this.element.offsetParent&&this.initialize(!0),this.dispatch("row-relayout",this)}calcHeight(s){var e=0,t=this.table.options.resizableRows?this.element.clientHeight:0;this.cells.forEach(function(n){var r=n.getHeight();r>e&&(e=r)}),this.height=s?Math.max(e,t):this.manualHeight?this.height:Math.max(e,t),this.heightStyled=this.height?this.height+"px":"",this.outerHeight=this.element.offsetHeight}setCellHeight(){this.cells.forEach(function(s){s.setHeight()}),this.heightInitialized=!0}clearCellHeight(){this.cells.forEach(function(s){s.clearHeight()})}normalizeHeight(s){s&&this.clearCellHeight(),this.calcHeight(s),this.setCellHeight()}setHeight(s,e){(this.height!=s||e)&&(this.manualHeight=!0,this.height=s,this.heightStyled=s?s+"px":"",this.setCellHeight(),this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getWidth(){return this.element.offsetWidth}deleteCell(s){var e=this.cells.indexOf(s);e>-1&&this.cells.splice(e,1)}setData(s){this.data=this.chain("row-data-init-before",[this,s],void 0,s),this.dispatch("row-data-init-after",this)}updateData(s){var n,e=this.element&&B.elVisible(this.element),t={};return new Promise((r,l)=>{for(var h in"string"==typeof s&&(s=JSON.parse(s)),this.dispatch("row-data-save-before",this),this.subscribed("row-data-changing")&&(t=Object.assign(t,this.data),t=Object.assign(t,s)),n=this.chain("row-data-changing",[this,t,s],null,s))this.data[h]=n[h];for(var h in this.dispatch("row-data-save-after",this),s)this.table.columnManager.getColumnsByFieldRoot(h).forEach(f=>{let b=this.getCell(f.getField());if(b){let C=f.getFieldValue(n);b.getValue()!=C&&(b.setValueProcessData(C),e&&b.cellRendered())}});e?(this.normalizeHeight(!0),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent())):(this.initialized=!1,this.height=0,this.heightStyled=""),this.dispatch("row-data-changed",this,e,s),this.dispatchExternal("rowUpdated",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),r()})}getData(s){return s?this.chain("row-data-retrieve",[this,s],null,this.data):this.data}getCell(s){return s=this.table.columnManager.findColumn(s),this.initialized||this.generateCells(),this.cells.find(function(t){return t.column===s})}getCellIndex(s){return this.cells.findIndex(function(e){return e===s})}findCell(s){return this.cells.find(e=>e.element===s)}getCells(){return this.initialized||this.generateCells(),this.cells}nextRow(){return this.table.rowManager.nextDisplayRow(this,!0)||!1}prevRow(){return this.table.rowManager.prevDisplayRow(this,!0)||!1}moveToRow(s,e){var t=this.table.rowManager.findRow(s);t?(this.table.rowManager.moveRowActual(this,t,!e),this.table.rowManager.refreshActiveData("display",!1,!0)):console.warn("Move Error - No matching row found:",s)}delete(){return this.dispatch("row-delete",this),this.deleteActual(),Promise.resolve()}deleteActual(s){this.table.rowManager.getRowIndex(this),this.detatchModules(),this.table.rowManager.deleteRow(this,s),this.deleteCells(),this.initialized=!1,this.heightInitialized=!1,this.element=!1,this.dispatch("row-deleted",this)}detatchModules(){this.dispatch("row-deleting",this)}deleteCells(){var s=this.cells.length;for(let e=0;e<s;e++)this.cells[0].delete()}wipe(){if(this.detatchModules(),this.deleteCells(),this.element){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.parentNode&&this.element.parentNode.removeChild(this.element)}this.element=!1,this.modules={}}getGroup(){return this.modules.group||!1}getComponent(){return this.component||(this.component=new Pe(this)),this.component}}var pt={avg:function(c,s,e){var t=0,n=void 0!==e.precision?e.precision:2;return c.length&&(t=c.reduce(function(r,l){return Number(r)+Number(l)}),t/=c.length,t=!1!==n?t.toFixed(n):t),parseFloat(t).toString()},max:function(c,s,e){var t=null,n=void 0!==e.precision&&e.precision;return c.forEach(function(r){((r=Number(r))>t||null===t)&&(t=r)}),null!==t?!1!==n?t.toFixed(n):t:""},min:function(c,s,e){var t=null,n=void 0!==e.precision&&e.precision;return c.forEach(function(r){((r=Number(r))<t||null===t)&&(t=r)}),null!==t?!1!==n?t.toFixed(n):t:""},sum:function(c,s,e){var t=0,n=void 0!==e.precision&&e.precision;return c.length&&c.forEach(function(r){r=Number(r),t+=isNaN(r)?0:Number(r)}),!1!==n?t.toFixed(n):t},concat:function(c,s,e){var t=0;return c.length&&(t=c.reduce(function(n,r){return String(n)+String(r)})),t},count:function(c,s,e){var t=0;return c.length&&c.forEach(function(n){n&&t++}),t}};let ft=(()=>{class c extends z{constructor(e){super(e),this.topCalcs=[],this.botCalcs=[],this.genColumn=!1,this.topElement=this.createElement(),this.botElement=this.createElement(),this.topRow=!1,this.botRow=!1,this.topInitialized=!1,this.botInitialized=!1,this.registerTableOption("columnCalcs",!0),this.registerColumnOption("topCalc"),this.registerColumnOption("topCalcParams"),this.registerColumnOption("topCalcFormatter"),this.registerColumnOption("topCalcFormatterParams"),this.registerColumnOption("bottomCalc"),this.registerColumnOption("bottomCalcParams"),this.registerColumnOption("bottomCalcFormatter"),this.registerColumnOption("bottomCalcFormatterParams")}createElement(){var e=document.createElement("div");return e.classList.add("tabulator-calcs-holder"),e}initialize(){this.genColumn=new Ce({field:"value"},this),this.subscribe("cell-value-changed",this.cellValueChanged.bind(this)),this.subscribe("column-init",this.initializeColumnCheck.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("column-moved",this.recalcActiveRows.bind(this)),this.subscribe("column-add",this.recalcActiveRows.bind(this)),this.subscribe("data-refreshed",this.recalcActiveRowsRefresh.bind(this)),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.registerTableFunction("getCalcResults",this.getResults.bind(this)),this.registerTableFunction("recalc",this.userRecalc.bind(this))}tableRedraw(e){this.recalc(this.table.rowManager.activeRows),e&&this.redraw()}userRecalc(){this.recalc(this.table.rowManager.activeRows)}visibleRows(e,t){return this.topRow&&t.unshift(this.topRow),this.botRow&&t.push(this.botRow),t}rowsUpdated(e){this.table.options.groupBy?this.recalcRowGroup(this):this.recalcActiveRows()}recalcActiveRowsRefresh(){this.table.options.groupBy&&this.table.options.dataTreeStartExpanded&&this.table.options.dataTree?this.recalcAll():this.recalcActiveRows()}recalcActiveRows(){this.recalc(this.table.rowManager.activeRows)}cellValueChanged(e){(e.column.definition.topCalc||e.column.definition.bottomCalc)&&(this.table.options.groupBy?(("table"==this.table.options.columnCalcs||"both"==this.table.options.columnCalcs)&&this.recalcActiveRows(),"table"!=this.table.options.columnCalcs&&this.recalcRowGroup(e.row)):this.recalcActiveRows())}initializeColumnCheck(e){(e.definition.topCalc||e.definition.bottomCalc)&&this.initializeColumn(e)}initializeColumn(e){var t=e.definition,n={topCalcParams:t.topCalcParams||{},botCalcParams:t.bottomCalcParams||{}};if(t.topCalc){switch(typeof t.topCalc){case"string":c.calculations[t.topCalc]?n.topCalc=c.calculations[t.topCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",t.topCalc);break;case"function":n.topCalc=t.topCalc}n.topCalc&&(e.modules.columnCalcs=n,this.topCalcs.push(e),"group"!=this.table.options.columnCalcs&&this.initializeTopRow())}if(t.bottomCalc){switch(typeof t.bottomCalc){case"string":c.calculations[t.bottomCalc]?n.botCalc=c.calculations[t.bottomCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",t.bottomCalc);break;case"function":n.botCalc=t.bottomCalc}n.botCalc&&(e.modules.columnCalcs=n,this.botCalcs.push(e),"group"!=this.table.options.columnCalcs&&this.initializeBottomRow())}}registerColumnField(){}removeCalcs(){var e=!1;this.topInitialized&&(this.topInitialized=!1,this.topElement.parentNode.removeChild(this.topElement),e=!0),this.botInitialized&&(this.botInitialized=!1,this.table.footerManager.remove(this.botElement),e=!0),e&&this.table.rowManager.adjustTableSize()}initializeTopRow(){this.topInitialized||(this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.topInitialized=!0)}initializeBottomRow(){this.botInitialized||(this.table.footerManager.prepend(this.botElement),this.botInitialized=!0)}scrollHorizontal(e){this.botInitialized&&this.botRow&&(this.botRow.getElement().style.marginLeft=-e+"px")}recalc(e){var t;if(this.topInitialized||this.botInitialized){if(this.rowsToData(e),this.topInitialized){for(this.topRow&&this.topRow.deleteCells(),t=this.generateRow("top",this.rowsToData(e)),this.topRow=t;this.topElement.firstChild;)this.topElement.removeChild(this.topElement.firstChild);this.topElement.appendChild(t.getElement()),t.initialize(!0)}if(this.botInitialized){for(this.botRow&&this.botRow.deleteCells(),t=this.generateRow("bottom",this.rowsToData(e)),this.botRow=t;this.botElement.firstChild;)this.botElement.removeChild(this.botElement.firstChild);this.botElement.appendChild(t.getElement()),t.initialize(!0)}this.table.rowManager.adjustTableSize(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()}}recalcRowGroup(e){this.recalcGroup(this.table.modules.groupRows.getRowGroup(e))}recalcAll(){(this.topCalcs.length||this.botCalcs.length)&&("group"!==this.table.options.columnCalcs&&this.recalcActiveRows(),this.table.options.groupBy&&"table"!==this.table.options.columnCalcs)&&this.table.modules.groupRows.getChildGroups().forEach(t=>{this.recalcGroup(t)})}recalcGroup(e){var t,n;e&&e.calcs&&(e.calcs.bottom&&(t=this.rowsToData(e.rows),n=this.generateRowData("bottom",t),e.calcs.bottom.updateData(n),e.calcs.bottom.reinitialize()),e.calcs.top&&(t=this.rowsToData(e.rows),n=this.generateRowData("top",t),e.calcs.top.updateData(n),e.calcs.top.reinitialize()))}generateTopRow(e){return this.generateRow("top",this.rowsToData(e))}generateBottomRow(e){return this.generateRow("bottom",this.rowsToData(e))}rowsToData(e){var t=[];return e.forEach(n=>{if(t.push(n.getData()),this.table.options.dataTree&&this.table.options.dataTreeChildColumnCalcs&&n.modules.dataTree&&n.modules.dataTree.open){var r=this.rowsToData(this.table.modules.dataTree.getFilteredTreeChildren(n));t=t.concat(r)}}),t}generateRow(e,t){var r,n=this.generateRowData(e,t);return this.table.modExists("mutator")&&this.table.modules.mutator.disable(),r=new ee(n,this,"calc"),this.table.modExists("mutator")&&this.table.modules.mutator.enable(),r.getElement().classList.add("tabulator-calcs","tabulator-calcs-"+e),r.component=!1,r.getComponent=()=>(r.component||(r.component=new Ee(r)),r.component),r.generateCells=()=>{var l=[];this.table.columnManager.columnsByIndex.forEach(h=>{this.genColumn.setField(h.getField()),this.genColumn.hozAlign=h.hozAlign,this.genColumn.modules.format=h.definition[e+"CalcFormatter"]&&this.table.modExists("format")?{formatter:this.table.modules.format.getFormatter(h.definition[e+"CalcFormatter"]),params:h.definition[e+"CalcFormatterParams"]||{}}:{formatter:this.table.modules.format.getFormatter("plaintext"),params:{}},this.genColumn.definition.cssClass=h.definition.cssClass;var d=new ke(this.genColumn,r);d.getElement(),d.column=h,d.setWidth(),h.cells.push(d),l.push(d),h.visible||d.hide()}),r.cells=l},r}generateRowData(e,t){var h,d,n={},l="top"==e?"topCalc":"botCalc";return("top"==e?this.topCalcs:this.botCalcs).forEach(function(m){var f=[];m.modules.columnCalcs&&m.modules.columnCalcs[l]&&(t.forEach(function(b){f.push(m.getFieldValue(b))}),h="function"==typeof m.modules.columnCalcs[d=l+"Params"]?m.modules.columnCalcs[d](f,t):m.modules.columnCalcs[d],m.setFieldValue(n,m.modules.columnCalcs[l](f,t,h)))}),n}hasTopCalcs(){return!!this.topCalcs.length}hasBottomCalcs(){return!!this.botCalcs.length}redraw(){this.topRow&&this.topRow.normalizeHeight(!0),this.botRow&&this.botRow.normalizeHeight(!0)}getResults(){var e={};return this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.groupRows.getGroups(!0).forEach(n=>{e[n.getKey()]=this.getGroupResults(n)}):e={top:this.topRow?this.topRow.getData():{},bottom:this.botRow?this.botRow.getData():{}},e}getGroupResults(e){var t=e._getSelf(),n=e.getSubGroups(),r={};return n.forEach(h=>{r[h.getKey()]=this.getGroupResults(h)}),{top:t.calcs.top?t.calcs.top.getData():{},bottom:t.calcs.bottom?t.calcs.bottom.getData():{},groups:r}}}return c.moduleName="columnCalcs",c.calculations=pt,c})(),we=(()=>{class c extends z{constructor(e){super(e),this.indent=10,this.field="",this.collapseEl=null,this.expandEl=null,this.branchEl=null,this.elementField=!1,this.startOpen=function(){},this.displayIndex=0,this.registerTableOption("dataTree",!1),this.registerTableOption("dataTreeFilter",!0),this.registerTableOption("dataTreeSort",!0),this.registerTableOption("dataTreeElementColumn",!1),this.registerTableOption("dataTreeBranchElement",!0),this.registerTableOption("dataTreeChildIndent",9),this.registerTableOption("dataTreeChildField","_children"),this.registerTableOption("dataTreeCollapseElement",!1),this.registerTableOption("dataTreeExpandElement",!1),this.registerTableOption("dataTreeStartExpanded",!1),this.registerTableOption("dataTreeChildColumnCalcs",!1),this.registerTableOption("dataTreeSelectPropagate",!1),this.registerComponentFunction("row","treeCollapse",this.collapseRow.bind(this)),this.registerComponentFunction("row","treeExpand",this.expandRow.bind(this)),this.registerComponentFunction("row","treeToggle",this.toggleRow.bind(this)),this.registerComponentFunction("row","getTreeParent",this.getTreeParent.bind(this)),this.registerComponentFunction("row","getTreeChildren",this.getRowChildren.bind(this)),this.registerComponentFunction("row","addTreeChild",this.addTreeChildRow.bind(this)),this.registerComponentFunction("row","isTreeExpanded",this.isRowExpanded.bind(this))}initialize(){if(this.table.options.dataTree){var e=null,t=this.table.options;switch(this.field=t.dataTreeChildField,this.indent=t.dataTreeChildIndent,t.dataTreeBranchElement&&(!0===t.dataTreeBranchElement?(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch")):"string"==typeof t.dataTreeBranchElement?((e=document.createElement("div")).innerHTML=t.dataTreeBranchElement,this.branchEl=e.firstChild):this.branchEl=t.dataTreeBranchElement),t.dataTreeCollapseElement?"string"==typeof t.dataTreeCollapseElement?((e=document.createElement("div")).innerHTML=t.dataTreeCollapseElement,this.collapseEl=e.firstChild):this.collapseEl=t.dataTreeCollapseElement:(this.collapseEl=document.createElement("div"),this.collapseEl.classList.add("tabulator-data-tree-control"),this.collapseEl.tabIndex=0,this.collapseEl.innerHTML="<div class='tabulator-data-tree-control-collapse'></div>"),t.dataTreeExpandElement?"string"==typeof t.dataTreeExpandElement?((e=document.createElement("div")).innerHTML=t.dataTreeExpandElement,this.expandEl=e.firstChild):this.expandEl=t.dataTreeExpandElement:(this.expandEl=document.createElement("div"),this.expandEl.classList.add("tabulator-data-tree-control"),this.expandEl.tabIndex=0,this.expandEl.innerHTML="<div class='tabulator-data-tree-control-expand'></div>"),typeof t.dataTreeStartExpanded){case"boolean":this.startOpen=function(n,r){return t.dataTreeStartExpanded};break;case"function":this.startOpen=t.dataTreeStartExpanded;break;default:this.startOpen=function(n,r){return t.dataTreeStartExpanded[r]}}this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("row-deleted",this.rowDelete.bind(this),0),this.subscribe("row-data-changed",this.rowDataChanged.bind(this),10),this.subscribe("cell-value-updated",this.cellValueChanged.bind(this)),this.subscribe("edit-cancelled",this.cellValueChanged.bind(this)),this.subscribe("column-moving-rows",this.columnMoving.bind(this)),this.subscribe("table-built",this.initializeElementField.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),30)}}initializeElementField(){var e=this.table.columnManager.getFirstVisibleColumn();this.elementField=this.table.options.dataTreeElementColumn||!!e&&e.field}getRowChildren(e){return this.getTreeChildren(e,!0)}columnMoving(){var e=[];return this.table.rowManager.rows.forEach(t=>{e=e.concat(this.getTreeChildren(t,!1,!0))}),e}rowDataChanged(e,t,n){this.redrawNeeded(n)&&(this.initializeRow(e),t&&(this.layoutRow(e),this.refreshData(!0)))}cellValueChanged(e){e.column.getField()===this.elementField&&this.layoutRow(e.row)}initializeRow(e){var t=e.getData()[this.field],n=Array.isArray(t),r=n||!n&&"object"==typeof t&&null!==t;!r&&e.modules.dataTree&&e.modules.dataTree.branchEl&&e.modules.dataTree.branchEl.parentNode.removeChild(e.modules.dataTree.branchEl),!r&&e.modules.dataTree&&e.modules.dataTree.controlEl&&e.modules.dataTree.controlEl.parentNode.removeChild(e.modules.dataTree.controlEl),e.modules.dataTree={index:e.modules.dataTree?e.modules.dataTree.index:0,open:!!r&&(e.modules.dataTree?e.modules.dataTree.open:this.startOpen(e.getComponent(),0)),controlEl:!(!e.modules.dataTree||!r)&&e.modules.dataTree.controlEl,branchEl:!(!e.modules.dataTree||!r)&&e.modules.dataTree.branchEl,parent:!!e.modules.dataTree&&e.modules.dataTree.parent,children:r}}reinitializeRowChildren(e){this.getTreeChildren(e,!1,!0).forEach(function(n){n.reinitialize(!0)})}layoutRow(e){var n=(this.elementField?e.getCell(this.elementField):e.getCells()[0]).getElement(),r=e.modules.dataTree;r.branchEl&&(r.branchEl.parentNode&&r.branchEl.parentNode.removeChild(r.branchEl),r.branchEl=!1),r.controlEl&&(r.controlEl.parentNode&&r.controlEl.parentNode.removeChild(r.controlEl),r.controlEl=!1),this.generateControlElement(e,n),e.getElement().classList.add("tabulator-tree-level-"+r.index),r.index&&(this.branchEl?(r.branchEl=this.branchEl.cloneNode(!0),n.insertBefore(r.branchEl,n.firstChild),this.table.rtl?r.branchEl.style.marginRight=(r.branchEl.offsetWidth+r.branchEl.style.marginLeft)*(r.index-1)+r.index*this.indent+"px":r.branchEl.style.marginLeft=(r.branchEl.offsetWidth+r.branchEl.style.marginRight)*(r.index-1)+r.index*this.indent+"px"):this.table.rtl?n.style.paddingRight=parseInt(window.getComputedStyle(n,null).getPropertyValue("padding-right"))+r.index*this.indent+"px":n.style.paddingLeft=parseInt(window.getComputedStyle(n,null).getPropertyValue("padding-left"))+r.index*this.indent+"px")}generateControlElement(e,r){var n=e.modules.dataTree,l=(r=r||e.getCells()[0].getElement(),n.controlEl);!1!==n.children&&(n.open?(n.controlEl=this.collapseEl.cloneNode(!0),n.controlEl.addEventListener("click",h=>{h.stopPropagation(),this.collapseRow(e)})):(n.controlEl=this.expandEl.cloneNode(!0),n.controlEl.addEventListener("click",h=>{h.stopPropagation(),this.expandRow(e)})),n.controlEl.addEventListener("mousedown",h=>{h.stopPropagation()}),l&&l.parentNode===r?l.parentNode.replaceChild(n.controlEl,l):r.insertBefore(n.controlEl,r.firstChild))}setDisplayIndex(e){this.displayIndex=e}getDisplayIndex(){return this.displayIndex}getRows(e){var t=[];return e.forEach((n,r)=>{var l;t.push(n),n instanceof ee&&(n.create(),!(l=n.modules.dataTree.children).index&&!1!==l.children&&this.getChildren(n).forEach(d=>{d.create(),t.push(d)}))}),t}getChildren(e,t){var n=e.modules.dataTree,r=[],l=[];return!1!==n.children&&(n.open||t)&&(Array.isArray(n.children)||(n.children=this.generateChildren(e)),r=this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(n.children):n.children,this.table.modExists("sort")&&this.table.options.dataTreeSort&&this.table.modules.sort.sort(r),r.forEach(h=>{l.push(h),this.getChildren(h).forEach(m=>{l.push(m)})})),l}generateChildren(e){var t=[],n=e.getData()[this.field];return Array.isArray(n)||(n=[n]),n.forEach(r=>{var l=new ee(r||{},this.table.rowManager);l.create(),l.modules.dataTree.index=e.modules.dataTree.index+1,l.modules.dataTree.parent=e,l.modules.dataTree.children&&(l.modules.dataTree.open=this.startOpen(l.getComponent(),l.modules.dataTree.index)),t.push(l)}),t}expandRow(e,t){var n=e.modules.dataTree;!1!==n.children&&(n.open=!0,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowExpanded",e.getComponent(),e.modules.dataTree.index))}collapseRow(e){var t=e.modules.dataTree;!1!==t.children&&(t.open=!1,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowCollapsed",e.getComponent(),e.modules.dataTree.index))}toggleRow(e){var t=e.modules.dataTree;!1!==t.children&&(t.open?this.collapseRow(e):this.expandRow(e))}isRowExpanded(e){return e.modules.dataTree.open}getTreeParent(e){return!!e.modules.dataTree.parent&&e.modules.dataTree.parent.getComponent()}getFilteredTreeChildren(e){var t=e.modules.dataTree,n=[];return t.children&&(Array.isArray(t.children)||(t.children=this.generateChildren(e)),(this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(t.children):t.children).forEach(l=>{l instanceof ee&&n.push(l)})),n}rowDelete(e){var n,t=e.modules.dataTree.parent;t&&(!1!==(n=this.findChildIndex(e,t))&&t.data[this.field].splice(n,1),t.data[this.field].length||delete t.data[this.field],this.initializeRow(t),this.layoutRow(t)),this.refreshData(!0)}addTreeChildRow(e,t,n,r){var l=!1;"string"==typeof t&&(t=JSON.parse(t)),Array.isArray(e.data[this.field])||(e.data[this.field]=[],e.modules.dataTree.open=this.startOpen(e.getComponent(),e.modules.dataTree.index)),void 0!==r&&!1!==(l=this.findChildIndex(r,e))&&e.data[this.field].splice(n?l:l+1,0,t),!1===l&&(n?e.data[this.field].unshift(t):e.data[this.field].push(t)),this.initializeRow(e),this.layoutRow(e),this.refreshData(!0)}findChildIndex(e,t){var n=!1;return"object"==typeof e?e instanceof ee?n=e.data:e instanceof RowComponent?n=e._getSelf().data:"undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&t.modules.dataTree&&(n=t.modules.dataTree.children.find(r=>r instanceof ee&&r.element===e))&&(n=n.data):n=null!=e&&t.data[this.field].find(r=>r.data[this.table.options.index]==e),n&&(Array.isArray(t.data[this.field])&&(n=t.data[this.field].indexOf(n)),-1==n&&(n=!1)),n}getTreeChildren(e,t,n){var r=e.modules.dataTree,l=[];return r.children&&(Array.isArray(r.children)||(r.children=this.generateChildren(e)),r.children.forEach(h=>{h instanceof ee&&(l.push(t?h.getComponent():h),n&&(l=l.concat(this.getTreeChildren(h,t,n))))})),l}getChildField(){return this.field}redrawNeeded(e){return!!this.field&&void 0!==e[this.field]||!!this.elementField&&void 0!==e[this.elementField]}}return c.moduleName="dataTree",c})();var bt={csv:function L(c,s,e){var t=s&&s.delimiter?s.delimiter:",",n=[],r=[];c.forEach(l=>{var h=[];switch(l.type){case"group":console.warn("Download Warning - CSV downloader cannot process row groups");break;case"calc":console.warn("Download Warning - CSV downloader cannot process column calculations");break;case"header":l.columns.forEach((d,m)=>{d&&1===d.depth&&(r[m]=null==d.value?"":'"'+String(d.value).split('"').join('""')+'"')});break;case"row":l.columns.forEach(d=>{if(d){switch(typeof d.value){case"object":d.value=JSON.stringify(d.value);break;case"undefined":case"null":d.value=""}h.push('"'+String(d.value).split('"').join('""')+'"')}}),n.push(h.join(t))}}),r.length&&n.unshift(r.join(t)),n=n.join("\n"),s.bom&&(n="\ufeff"+n),e(n,"text/csv")},json:function Q(c,s,e){var t=[];c.forEach(n=>{var r={};switch(n.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":n.columns.forEach(l=>{l&&(r[l.component.getTitleDownload()||l.component.getField()]=l.value)}),t.push(r)}}),e(t=JSON.stringify(t,null,"\t"),"application/json")},jsonLines:function Be(c,s,e){const t=[];c.forEach(n=>{const r={};switch(n.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":n.columns.forEach(l=>{l&&(r[l.component.getTitleDownload()||l.component.getField()]=l.value)}),t.push(JSON.stringify(r))}}),e(t.join("\n"),"application/x-ndjson")},pdf:function qi(c,s,e){var t=[],n=[],r={},l=s.rowGroupStyles||{fontStyle:"bold",fontSize:12,cellPadding:6,fillColor:220},h=s.rowCalcStyles||{fontStyle:"bold",fontSize:10,cellPadding:4,fillColor:232},d=s.jsPDF||{},m=s&&s.title?s.title:"";function f(C,w){var y=[];return C.columns.forEach(x=>{var T;if(x){switch(typeof x.value){case"object":x.value=JSON.stringify(x.value);break;case"undefined":case"null":x.value=""}T={content:x.value,colSpan:x.width,rowSpan:x.height},w&&(T.styles=w),y.push(T)}}),y}d.orientation||(d.orientation=s.orientation||"landscape"),d.unit||(d.unit="pt"),c.forEach(C=>{switch(C.type){case"header":t.push(f(C));break;case"group":n.push(f(C,l));break;case"calc":n.push(f(C,h));break;case"row":n.push(f(C))}});var b=new jspdf.jsPDF(d);s&&s.autoTable&&(r="function"==typeof s.autoTable?s.autoTable(b)||{}:s.autoTable),m&&(r.didDrawPage=function(C){b.text(m,40,30)}),r.head=t,r.body=n,b.autoTable(r),s&&s.documentProcessing&&s.documentProcessing(b),e(b.output("arraybuffer"),"application/pdf")},xlsx:function gt(c,s,e){var n=s.sheetName||"Sheet1",r=XLSX.utils.book_new(),l=new F(this);function d(){var b=[],C=[],w={},y={s:{c:0,r:0},e:{c:c[0]?c[0].columns.reduce((x,T)=>x+(T&&T.width?T.width:1),0):0,r:c.length}};return c.forEach((x,T)=>{var S=[];x.columns.forEach(function(O,q){O?(S.push(O.value instanceof Date||"object"!=typeof O.value?O.value:JSON.stringify(O.value)),(O.width>1||O.height>-1)&&(O.height>1||O.width>1)&&C.push({s:{r:T,c:q},e:{r:T+O.height-1,c:q+O.width-1}})):S.push("")}),b.push(S)}),XLSX.utils.sheet_add_aoa(w,b),w["!ref"]=XLSX.utils.encode_range(y),C.length&&(w["!merges"]=C),w}if(r.SheetNames=[],r.Sheets={},s.sheetOnly)e(d());else{if(s.sheets)for(var m in s.sheets)!0===s.sheets[m]?(r.SheetNames.push(m),r.Sheets[m]=d()):(r.SheetNames.push(m),l.commsSend(s.sheets[m],"download","intercept",{type:"xlsx",options:{sheetOnly:!0},active:this.active,intercept:function(b){r.Sheets[m]=b}}));else r.SheetNames.push(n),r.Sheets[n]=d();s.documentProcessing&&(r=s.documentProcessing(r)),e(function f(b){for(var C=new ArrayBuffer(b.length),w=new Uint8Array(C),y=0;y!=b.length;++y)w[y]=255&b.charCodeAt(y);return C}(XLSX.write(r,{bookType:"xlsx",bookSST:!0,type:"binary"})),"application/octet-stream")}},html:function Ji(c,s,e){this.modExists("export",!0)&&e(this.modules.export.genereateHTMLTable(c),"text/html")}};let vt=(()=>{class c extends z{constructor(e){super(e),this.registerTableOption("downloadReady",function(t,n){return n}),this.registerTableOption("downloadConfig",{}),this.registerTableOption("downloadRowRange","active"),this.registerColumnOption("download"),this.registerColumnOption("titleDownload")}initialize(){this.registerTableFunction("download",this.download.bind(this)),this.registerTableFunction("downloadToTab",this.downloadToTab.bind(this))}downloadToTab(e,t,n,r){this.download(e,t,n,r,!0)}download(e,t,n,r,l){var h=!1;if("function"==typeof e?h=e:c.downloaders[e]?h=c.downloaders[e]:console.warn("Download Error - No such download type found: ",e),h){var m=this.generateExportList(r);h.call(this.table,m,n||{},function d(f,b){l?!0===l?this.triggerDownload(f,b,e,t,!0):l(f):this.triggerDownload(f,b,e,t)}.bind(this))}}generateExportList(e){var t=this.table.modules.export.generateExportList(this.table.options.downloadConfig,!1,e||this.table.options.downloadRowRange,"download"),n=this.table.options.groupHeaderDownload;return n&&!Array.isArray(n)&&(n=[n]),t.forEach(r=>{var l;"group"===r.type&&(l=r.columns[0],n&&n[r.indent]&&(l.value=n[r.indent](l.value,r.component._group.getRowCount(),r.component._group.getData(),r.component)))}),t}triggerDownload(e,t,n,m,l){var h=document.createElement("a"),d=new Blob([e],{type:t});m=m||"Tabulator."+("function"==typeof n?"txt":n),(d=this.table.options.downloadReady(e,d))&&(l?window.open(window.URL.createObjectURL(d)):navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(d,m):(h.setAttribute("href",window.URL.createObjectURL(d)),h.setAttribute("download",m),h.style.display="none",document.body.appendChild(h),h.click(),document.body.removeChild(h)),this.dispatchExternal("downloadComplete"))}commsReceived(e,t,n){"intercept"===t&&this.download(n.type,"",n.options,n.active,n.intercept)}}return c.moduleName="download",c.downloaders=bt,c})();function Re(c,s){var e=s.mask,t=void 0!==s.maskLetterChar?s.maskLetterChar:"A",n=void 0!==s.maskNumberChar?s.maskNumberChar:"9",r=void 0!==s.maskWildcardChar?s.maskWildcardChar:"*";function l(h){var d=e[h];void 0!==d&&d!==r&&d!==t&&d!==n&&(c.value=c.value+""+d,l(h+1))}c.addEventListener("keydown",h=>{var d=c.value.length,m=h.key;if(h.keyCode>46){if(d>=e.length)return h.preventDefault(),h.stopPropagation(),!1;switch(e[d]){case t:if(m.toUpperCase()==m.toLowerCase())return h.preventDefault(),h.stopPropagation(),!1;break;case n:if(isNaN(m))return h.preventDefault(),h.stopPropagation(),!1;break;case r:break;default:if(m!==e[d])return h.preventDefault(),h.stopPropagation(),!1}}}),c.addEventListener("keyup",h=>{h.keyCode>46&&s.maskAutoFill&&l(c.value.length)}),c.placeholder||(c.placeholder=e),s.maskAutoFill&&l(c.value.length)}var xt={input:function qe(c,s,e,t,n){var r=c.getValue(),l=document.createElement("input");if(l.setAttribute("type",n.search?"search":"text"),l.style.padding="4px",l.style.width="100%",l.style.boxSizing="border-box",n.elementAttributes&&"object"==typeof n.elementAttributes)for(let d in n.elementAttributes)"+"==d.charAt(0)?(d=d.slice(1),l.setAttribute(d,l.getAttribute(d)+n.elementAttributes["+"+d])):l.setAttribute(d,n.elementAttributes[d]);function h(d){null==r&&""!==l.value||l.value!==r?e(l.value)&&(r=l.value):t()}return l.value=void 0!==r?r:"",s(function(){l.focus({preventScroll:!0}),l.style.height="100%"}),l.addEventListener("change",h),l.addEventListener("blur",h),l.addEventListener("keydown",function(d){switch(d.keyCode){case 13:h();break;case 27:t();break;case 35:case 36:d.stopPropagation()}}),n.mask&&Re(l,n),l},textarea:function Je(c,s,e,t,n){var r=c.getValue(),l=n.verticalNavigation||"hybrid",h=String(null!=r?r:""),m=(h.match(/(?:\r\n|\r|\n)/g),document.createElement("textarea")),f=0;if(m.style.display="block",m.style.padding="2px",m.style.height="100%",m.style.width="100%",m.style.boxSizing="border-box",m.style.whiteSpace="pre-wrap",m.style.resize="none",n.elementAttributes&&"object"==typeof n.elementAttributes)for(let C in n.elementAttributes)"+"==C.charAt(0)?(C=C.slice(1),m.setAttribute(C,m.getAttribute(C)+n.elementAttributes["+"+C])):m.setAttribute(C,n.elementAttributes[C]);function b(C){null==r&&""!==m.value||m.value!==r?(e(m.value)&&(r=m.value),setTimeout(function(){c.getRow().normalizeHeight()},300)):t()}return m.value=h,s(function(){m.focus({preventScroll:!0}),m.style.height="100%",m.style.height=m.scrollHeight+"px",c.getRow().normalizeHeight()}),m.addEventListener("change",b),m.addEventListener("blur",b),m.addEventListener("keyup",function(){m.style.height="";var C=m.scrollHeight;m.style.height=C+"px",C!=f&&(f=C,c.getRow().normalizeHeight())}),m.addEventListener("keydown",function(C){switch(C.keyCode){case 27:t();break;case 38:("editor"==l||"hybrid"==l&&m.selectionStart)&&(C.stopImmediatePropagation(),C.stopPropagation());break;case 40:("editor"==l||"hybrid"==l&&m.selectionStart!==m.value.length)&&(C.stopImmediatePropagation(),C.stopPropagation());break;case 35:case 36:C.stopPropagation()}}),n.mask&&Re(m,n),m},number:function Ct(c,s,e,t,n){var r=c.getValue(),l=n.verticalNavigation||"editor",h=document.createElement("input");if(h.setAttribute("type","number"),void 0!==n.max&&h.setAttribute("max",n.max),void 0!==n.min&&h.setAttribute("min",n.min),void 0!==n.step&&h.setAttribute("step",n.step),h.style.padding="4px",h.style.width="100%",h.style.boxSizing="border-box",n.elementAttributes&&"object"==typeof n.elementAttributes)for(let f in n.elementAttributes)"+"==f.charAt(0)?(f=f.slice(1),h.setAttribute(f,h.getAttribute(f)+n.elementAttributes["+"+f])):h.setAttribute(f,n.elementAttributes[f]);h.value=r;var d=function(f){m()};function m(){var f=h.value;!isNaN(f)&&""!==f&&(f=Number(f)),f!==r?e(f)&&(r=f):t()}return s(function(){h.removeEventListener("blur",d),h.focus({preventScroll:!0}),h.style.height="100%",h.addEventListener("blur",d)}),h.addEventListener("keydown",function(f){switch(f.keyCode){case 13:m();break;case 27:t();break;case 38:case 40:"editor"==l&&(f.stopImmediatePropagation(),f.stopPropagation());break;case 35:case 36:f.stopPropagation()}}),n.mask&&Re(h,n),h},range:function wt(c,s,e,t,n){var r=c.getValue(),l=document.createElement("input");if(l.setAttribute("type","range"),void 0!==n.max&&l.setAttribute("max",n.max),void 0!==n.min&&l.setAttribute("min",n.min),void 0!==n.step&&l.setAttribute("step",n.step),l.style.padding="4px",l.style.width="100%",l.style.boxSizing="border-box",n.elementAttributes&&"object"==typeof n.elementAttributes)for(let d in n.elementAttributes)"+"==d.charAt(0)?(d=d.slice(1),l.setAttribute(d,l.getAttribute(d)+n.elementAttributes["+"+d])):l.setAttribute(d,n.elementAttributes[d]);function h(){var d=l.value;!isNaN(d)&&""!==d&&(d=Number(d)),d!=r?e(d)&&(r=d):t()}return l.value=r,s(function(){l.focus({preventScroll:!0}),l.style.height="100%"}),l.addEventListener("blur",function(d){h()}),l.addEventListener("keydown",function(d){switch(d.keyCode){case 13:h();break;case 27:t()}}),l},select:function Ie(c,s,e,t,n){var r=this,l=c.getElement(),h=c.getValue(),d=n.verticalNavigation||"editor",m=void 0!==h||null===h?Array.isArray(h)?h:[h]:void 0!==n.defaultValue?n.defaultValue:[],f=document.createElement("input"),b=document.createElement("div"),C=n.multiselect,w=[],y={},x=[],T=[],S=!0,O=!1,q="",Y=null;function ue(_){var te,D={},$=r.table.getData();return(te=_?r.table.columnManager.getColumnByField(_):c.getColumn()._getSelf())?$.forEach(function(je){var _e=te.getFieldValue(je);null!=_e&&""!==_e&&(D[_e]=!0)}):console.warn("unable to find matching column to create select lookup list:",_),Object.keys(D)}function se(_,D){!C&&y&&y.element&&y.element.classList.remove("active"),y&&y.element&&y.element.classList.remove("focused"),y=_,_.element&&(_.element.classList.add("focused"),D&&_.element.classList.add("active")),_&&_.element&&_.element.scrollIntoView&&_.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}function me(_){-1==T.indexOf(_)&&(T.push(_),se(_,!0)),R()}function oe(_){var D=T[_];_>-1&&(T.splice(_,1),D.element&&D.element.classList.remove("active"))}function N(_){_||(_=y);var D=T.indexOf(_);D>-1?oe(D):(!0!==C&&T.length>=C&&oe(0),me(_)),R()}function ye(_){V(),_||(_=y),_&&(f.value=_.label,e(_.value)),m=[_.value]}function be(_){_||V();var D=[];T.forEach($=>{D.push($.value)}),m=D,e(D)}function R(){var _=[];T.forEach(D=>{_.push(D.label)}),f.value=_.join(", "),!1===r.currentCell&&be(!0)}function U(){V(),t()}function V(){b.parentNode&&b.parentNode.removeChild(b),function j(){r.table.rowManager.element.removeEventListener("scroll",U)}()}if((Array.isArray(n)||!Array.isArray(n)&&"object"==typeof n&&!n.values)&&(console.warn("DEPRECATION WARNING - values for the select editor must now be passed into the values property of the editorParams object, not as the editorParams object"),n={values:n}),f.setAttribute("type","text"),f.style.padding="4px",f.style.width="100%",f.style.boxSizing="border-box",f.style.cursor="default",f.readOnly=0!=this.currentCell,n.elementAttributes&&"object"==typeof n.elementAttributes)for(let _ in n.elementAttributes)"+"==_.charAt(0)?(_=_.slice(1),f.setAttribute(_,f.getAttribute(_)+n.elementAttributes["+"+_])):f.setAttribute(_,n.elementAttributes[_]);return f.value=void 0!==h||null===h?h:"",f.addEventListener("search",function(_){f.value||(function P(){var _=T.length;for(let D=0;D<_;D++)oe(0)}(),be())}),f.addEventListener("keydown",function(_){var D;switch(_.keyCode){case 38:D=w.indexOf(y),("editor"==d||"hybrid"==d&&D)&&(_.stopImmediatePropagation(),_.stopPropagation(),_.preventDefault(),D>0&&se(w[D-1],!C));break;case 40:D=w.indexOf(y),("editor"==d||"hybrid"==d&&D<w.length-1)&&(_.stopImmediatePropagation(),_.stopPropagation(),_.preventDefault(),D<w.length-1&&se(-1==D?w[0]:w[D+1],!C));break;case 37:case 39:_.stopImmediatePropagation(),_.stopPropagation(),_.preventDefault();break;case 13:C?N():ye();break;case 27:U();break;case 9:break;default:!1===r.currentCell&&_.preventDefault(),_.keyCode>=38&&_.keyCode<=90&&function Xi(_){clearTimeout(Y);var D=String.fromCharCode(event.keyCode).toLowerCase();q+=D.toLowerCase();var $=w.find(te=>void 0!==te.label&&te.label.toLowerCase().startsWith(q));$&&se($,!C),Y=setTimeout(()=>{q=""},800)}()}}),f.addEventListener("blur",function(_){S&&(C?be():U())}),f.addEventListener("focus",function(_){O||function K(){if(T=[],!b.parentNode){!function re(_,D){var $=[],te=[];function je(u){return D.indexOf((u={label:u.label,value:u.value,itemParams:u.itemParams,elementAttributes:u.elementAttributes,element:!1}).value)>-1&&me(u),$.push(u),te.push(u),u}if("function"==typeof _&&(_=_(c)),Array.isArray(_))_.forEach(function(ie){var u;"object"==typeof ie?ie.options?(te.push(u={label:ie.label,group:!0,itemParams:ie.itemParams,elementAttributes:ie.elementAttributes,element:!1}),ie.options.forEach(function(g){je(g)})):je(ie):(D.indexOf((u={label:ie,value:ie,element:!1}).value)>-1&&me(u),$.push(u),te.push(u))});else for(var _e in _){var De={label:_[_e],value:_e,element:!1};D.indexOf(De.value)>-1&&me(De),$.push(De),te.push(De)}n.sortValuesList&&($.sort((ie,u)=>ie.label<u.label?-1:ie.label>u.label?1:0),te.sort((ie,u)=>ie.label<u.label?-1:ie.label>u.label?1:0),"asc"!==n.sortValuesList&&($.reverse(),te.reverse())),w=$,x=te,function le(){for(;b.firstChild;)b.removeChild(b.firstChild);x.forEach(function(_){var D=_.element;if(!D){if(D=document.createElement("div"),_.label=n.listItemFormatter?n.listItemFormatter(_.value,_.label,c,D,_.itemParams):_.label,_.group?(D.classList.add("tabulator-edit-select-list-group"),D.tabIndex=0,D.innerHTML=""===_.label?"&nbsp;":_.label):(D.classList.add("tabulator-edit-select-list-item"),D.tabIndex=0,D.innerHTML=""===_.label?"&nbsp;":_.label,D.addEventListener("click",function(){O=!0,setTimeout(()=>{O=!1},10),C?(N(_),f.focus()):ye(_)}),T.indexOf(_)>-1&&D.classList.add("active")),_.elementAttributes&&"object"==typeof _.elementAttributes)for(let $ in _.elementAttributes)"+"==$.charAt(0)?($=$.slice(1),D.setAttribute($,f.getAttribute($)+_.elementAttributes["+"+$])):D.setAttribute($,_.elementAttributes[$]);D.addEventListener("mousedown",function(){S=!1,setTimeout(function(){S=!0},10)}),_.element=D}b.appendChild(D)})}()}(!0===n.values?ue():"string"==typeof n.values?ue(n.values):n.values||[],m);var _=B.elOffset(l);b.style.minWidth=l.offsetWidth+"px",b.style.top=_.top+l.offsetHeight+"px",b.style.left=_.left+"px",b.addEventListener("mousedown",function(D){S=!1,setTimeout(function(){S=!0},10)}),document.body.appendChild(b)}}()}),(b=document.createElement("div")).classList.add("tabulator-edit-select-list"),s(function(){f.style.height="100%",f.focus({preventScroll:!0})}),setTimeout(()=>{this.table.rowManager.element.addEventListener("scroll",U)},10),f},autocomplete:function yt(c,s,e,t,n){var r=this,l=c.getElement(),h=c.getValue(),d=n.verticalNavigation||"editor",m=void 0!==h||null===h?h:void 0!==n.defaultValue?n.defaultValue:"",f=document.createElement("input"),b=document.createElement("div"),C=[],w=!1,y=!0,x=!1;if(f.setAttribute("type","search"),f.style.padding="4px",f.style.width="100%",f.style.boxSizing="border-box",n.elementAttributes&&"object"==typeof n.elementAttributes)for(let R in n.elementAttributes)"+"==R.charAt(0)?(R=R.slice(1),f.setAttribute(R,f.getAttribute(R)+n.elementAttributes["+"+R])):f.setAttribute(R,n.elementAttributes[R]);function T(){!0===n.values?x=S():"string"==typeof n.values&&(x=S(n.values))}function S(R){var K,P={},U=r.table.getData();return(K=R?r.table.columnManager.getColumnByField(R):c.getColumn()._getSelf())?(U.forEach(function(V){var j=K.getFieldValue(V);null!=j&&""!==j&&(P[j]=!0)}),P=n.sortValuesList?"asc"==n.sortValuesList?Object.keys(P).sort():Object.keys(P).sort().reverse():Object.keys(P)):console.warn("unable to find matching column to create autocomplete lookup list:",R),P}function O(R,P){var K,V,U=[];K=x||n.values||[],n.searchFunc?(U=n.searchFunc(R,K))instanceof Promise?(q(void 0!==n.searchingPlaceholder?n.searchingPlaceholder:"Searching..."),U.then(j=>{re(Y(j),P)}).catch(j=>{console.err("error in autocomplete search promise:",j)})):re(Y(U),P):(V=Y(K),""===R?n.showListOnEmpty&&(U=V):V.forEach(function(j){(null!==j.value||void 0!==j.value)&&(String(j.value).toLowerCase().indexOf(String(R).toLowerCase())>-1||String(j.title).toLowerCase().indexOf(String(R).toLowerCase())>-1)&&U.push(j)}),re(U,P))}function q(R){var P=document.createElement("div");ue(),!1!==R&&(P.classList.add("tabulator-edit-select-list-notice"),P.tabIndex=0,R instanceof Node?P.appendChild(R):P.innerHTML=R,b.appendChild(P))}function Y(R){var P=[];if(Array.isArray(R))R.forEach(function(V){var j={};"object"==typeof V?(j.title=n.listItemFormatter?n.listItemFormatter(V.value,V.label):V.label,j.value=V.value):(j.title=n.listItemFormatter?n.listItemFormatter(V,V):V,j.value=V),P.push(j)});else for(var U in R){var K={title:n.listItemFormatter?n.listItemFormatter(U,R[U]):R[U],value:U};P.push(K)}return P}function ue(){for(;b.firstChild;)b.removeChild(b.firstChild)}function re(R,P){R.length?function le(R,P){var U=!1;ue(),(C=R).forEach(function(K){var V=K.element;V||((V=document.createElement("div")).classList.add("tabulator-edit-select-list-item"),V.tabIndex=0,V.innerHTML=K.title,V.addEventListener("click",function(j){oe(K),se()}),V.addEventListener("mousedown",function(j){y=!1,setTimeout(function(){y=!0},10)}),K.element=V,P&&K.value==h&&(f.value=K.title,K.element.classList.add("active"),U=!0),K===w&&(K.element.classList.add("active"),U=!0)),b.appendChild(V)}),U||oe(!1)}(R,P):n.emptyPlaceholder&&q(n.emptyPlaceholder)}function se(){N(),w?h!==w.value?(h=w.value,f.value=w.title,e(w.value)):t():n.freetext||n.allowEmpty&&""===f.value?(h=f.value,e(f.value)):t()}function oe(R,P){w&&w.element&&w.element.classList.remove("active"),w=R,R&&R.element&&R.element.classList.add("active"),R&&R.element&&R.element.scrollIntoView&&R.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}function N(){b.parentNode&&b.parentNode.removeChild(b),function be(){r.table.rowManager.element.removeEventListener("scroll",ye)}()}function ye(){N(),t()}return b.classList.add("tabulator-edit-select-list"),b.addEventListener("mousedown",function(R){y=!1,setTimeout(function(){y=!0},10)}),f.addEventListener("keydown",function(R){var P;switch(R.keyCode){case 38:P=C.indexOf(w),("editor"==d||"hybrid"==d&&P)&&(R.stopImmediatePropagation(),R.stopPropagation(),R.preventDefault(),oe(P>0&&C[P-1]));break;case 40:P=C.indexOf(w),("editor"==d||"hybrid"==d&&P<C.length-1)&&(R.stopImmediatePropagation(),R.stopPropagation(),R.preventDefault(),P<C.length-1&&oe(-1==P?C[0]:C[P+1]));break;case 37:case 39:R.stopImmediatePropagation(),R.stopPropagation();break;case 13:se();break;case 27:ye();break;case 36:case 35:R.stopImmediatePropagation()}}),f.addEventListener("keyup",function(R){switch(R.keyCode){case 38:case 37:case 39:case 40:case 13:case 27:break;default:O(f.value)}}),f.addEventListener("search",function(R){O(f.value)}),f.addEventListener("blur",function(R){y&&se()}),f.addEventListener("focus",function(R){var P=m;T(),function me(){if(!b.parentNode){for(;b.firstChild;)b.removeChild(b.firstChild);var R=B.elOffset(l);b.style.minWidth=l.offsetWidth+"px",b.style.top=R.top+l.offsetHeight+"px",b.style.left=R.left+"px",document.body.appendChild(b)}}(),f.value=P,O(P,!0)}),s(function(){f.style.height="100%",f.focus({preventScroll:!0})}),n.mask&&Re(f,n),setTimeout(()=>{this.table.rowManager.element.addEventListener("scroll",ye)},10),T(),f.value=m,O(m,!0),f},star:function _t(c,s,e,t,n){var r=this,l=c.getElement(),h=c.getValue(),d=l.getElementsByTagName("svg").length||5,m=l.getElementsByTagName("svg")[0]?l.getElementsByTagName("svg")[0].getAttribute("width"):14,f=[],b=document.createElement("div"),C=document.createElementNS("http://www.w3.org/2000/svg","svg");function w(S){f.forEach(function(O,q){q<S?("ie"==r.table.browser?O.setAttribute("class","tabulator-star-active"):O.classList.replace("tabulator-star-inactive","tabulator-star-active"),O.innerHTML='<polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>'):("ie"==r.table.browser?O.setAttribute("class","tabulator-star-inactive"):O.classList.replace("tabulator-star-active","tabulator-star-inactive"),O.innerHTML='<polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>')})}function y(S){var O=document.createElement("span"),q=C.cloneNode(!0);f.push(q),O.addEventListener("mouseenter",function(Y){Y.stopPropagation(),Y.stopImmediatePropagation(),w(S)}),O.addEventListener("mousemove",function(Y){Y.stopPropagation(),Y.stopImmediatePropagation()}),O.addEventListener("click",function(Y){Y.stopPropagation(),Y.stopImmediatePropagation(),e(S),l.blur()}),O.appendChild(q),b.appendChild(O)}function x(S){h=S,w(S)}if(l.style.whiteSpace="nowrap",l.style.overflow="hidden",l.style.textOverflow="ellipsis",b.style.verticalAlign="middle",b.style.display="inline-block",b.style.padding="4px",C.setAttribute("width",m),C.setAttribute("height",m),C.setAttribute("viewBox","0 0 512 512"),C.setAttribute("xml:space","preserve"),C.style.padding="0 1px",n.elementAttributes&&"object"==typeof n.elementAttributes)for(let S in n.elementAttributes)"+"==S.charAt(0)?(S=S.slice(1),b.setAttribute(S,b.getAttribute(S)+n.elementAttributes["+"+S])):b.setAttribute(S,n.elementAttributes[S]);for(var T=1;T<=d;T++)y(T);return w(h=Math.min(parseInt(h),d)),b.addEventListener("mousemove",function(S){w(0)}),b.addEventListener("click",function(S){e(0)}),l.addEventListener("blur",function(S){t()}),l.addEventListener("keydown",function(S){switch(S.keyCode){case 39:x(h+1);break;case 37:x(h-1);break;case 13:e(h);break;case 27:t()}}),b},progress:function Et(c,s,e,t,n){var C,w,r=c.getElement(),l=void 0===n.max?r.getElementsByTagName("div")[0]&&r.getElementsByTagName("div")[0].getAttribute("max")||100:n.max,h=void 0===n.min?r.getElementsByTagName("div")[0]&&r.getElementsByTagName("div")[0].getAttribute("min")||0:n.min,d=(l-h)/100,m=c.getValue()||0,f=document.createElement("div"),b=document.createElement("div");function y(){var x=window.getComputedStyle(r,null),T=d*Math.round(b.offsetWidth/((r.clientWidth-parseInt(x.getPropertyValue("padding-left"))-parseInt(x.getPropertyValue("padding-right")))/100))+h;e(T),r.setAttribute("aria-valuenow",T),r.setAttribute("aria-label",m)}if(f.style.position="absolute",f.style.right="0",f.style.top="0",f.style.bottom="0",f.style.width="5px",f.classList.add("tabulator-progress-handle"),b.style.display="inline-block",b.style.position="relative",b.style.height="100%",b.style.backgroundColor="#488CE9",b.style.maxWidth="100%",b.style.minWidth="0%",n.elementAttributes&&"object"==typeof n.elementAttributes)for(let x in n.elementAttributes)"+"==x.charAt(0)?(x=x.slice(1),b.setAttribute(x,b.getAttribute(x)+n.elementAttributes["+"+x])):b.setAttribute(x,n.elementAttributes[x]);return r.style.padding="4px 4px",m=Math.min(parseFloat(m),l),m=Math.max(parseFloat(m),h),m=Math.round((m-h)/d),b.style.width=m+"%",r.setAttribute("aria-valuemin",h),r.setAttribute("aria-valuemax",l),b.appendChild(f),f.addEventListener("mousedown",function(x){C=x.screenX,w=b.offsetWidth}),f.addEventListener("mouseover",function(){f.style.cursor="ew-resize"}),r.addEventListener("mousemove",function(x){C&&(b.style.width=w+x.screenX-C+"px")}),r.addEventListener("mouseup",function(x){C&&(x.stopPropagation(),x.stopImmediatePropagation(),C=!1,w=!1,y())}),r.addEventListener("keydown",function(x){switch(x.keyCode){case 39:x.preventDefault(),b.style.width=b.clientWidth+r.clientWidth/100+"px";break;case 37:x.preventDefault(),b.style.width=b.clientWidth-r.clientWidth/100+"px";break;case 9:case 13:y();break;case 27:t()}}),r.addEventListener("blur",function(){t()}),b},tickCross:function de(c,s,e,t,n){var r=c.getValue(),l=document.createElement("input"),h=n.tristate,d=void 0===n.indeterminateValue?null:n.indeterminateValue,m=!1;if(l.setAttribute("type","checkbox"),l.style.marginTop="5px",l.style.boxSizing="border-box",n.elementAttributes&&"object"==typeof n.elementAttributes)for(let b in n.elementAttributes)"+"==b.charAt(0)?(b=b.slice(1),l.setAttribute(b,l.getAttribute(b)+n.elementAttributes["+"+b])):l.setAttribute(b,n.elementAttributes[b]);function f(b){return h?b?m?d:l.checked:l.checked&&!m?(l.checked=!1,l.indeterminate=!0,m=!0,d):(m=!1,l.checked):l.checked}return l.value=r,h&&(void 0===r||r===d||""===r)&&(m=!0,l.indeterminate=!0),"firefox"!=this.table.browser&&s(function(){l.focus({preventScroll:!0})}),l.checked=!0===r||"true"===r||"True"===r||1===r,s(function(){l.focus()}),l.addEventListener("change",function(b){e(f())}),l.addEventListener("blur",function(b){e(f(!0))}),l.addEventListener("keydown",function(b){13==b.keyCode&&e(f()),27==b.keyCode&&t()}),l}};let Tt=(()=>{class c extends z{constructor(e){super(e),this.currentCell=!1,this.mouseClick=!1,this.recursionBlock=!1,this.invalidEdit=!1,this.editedCells=[],this.editors=c.editors,this.registerColumnOption("editable"),this.registerColumnOption("editor"),this.registerColumnOption("editorParams"),this.registerColumnOption("cellEditing"),this.registerColumnOption("cellEdited"),this.registerColumnOption("cellEditCancelled"),this.registerTableFunction("getEditedCells",this.getEditedCells.bind(this)),this.registerTableFunction("clearCellEdited",this.clearCellEdited.bind(this)),this.registerTableFunction("navigatePrev",this.navigatePrev.bind(this)),this.registerTableFunction("navigateNext",this.navigateNext.bind(this)),this.registerTableFunction("navigateLeft",this.navigateLeft.bind(this)),this.registerTableFunction("navigateRight",this.navigateRight.bind(this)),this.registerTableFunction("navigateUp",this.navigateUp.bind(this)),this.registerTableFunction("navigateDown",this.navigateDown.bind(this)),this.registerComponentFunction("cell","isEdited",this.cellisEdited.bind(this)),this.registerComponentFunction("cell","clearEdited",this.clearEdited.bind(this)),this.registerComponentFunction("cell","edit",this.editCell.bind(this)),this.registerComponentFunction("cell","cancelEdit",this.cellCancelEdit.bind(this)),this.registerComponentFunction("cell","navigatePrev",this.navigatePrev.bind(this)),this.registerComponentFunction("cell","navigateNext",this.navigateNext.bind(this)),this.registerComponentFunction("cell","navigateLeft",this.navigateLeft.bind(this)),this.registerComponentFunction("cell","navigateRight",this.navigateRight.bind(this)),this.registerComponentFunction("cell","navigateUp",this.navigateUp.bind(this)),this.registerComponentFunction("cell","navigateDown",this.navigateDown.bind(this))}initialize(){this.subscribe("cell-init",this.bindEditor.bind(this)),this.subscribe("cell-delete",this.clearEdited.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("column-delete",this.columnDeleteCheck.bind(this)),this.subscribe("row-deleting",this.rowDeleteCheck.bind(this)),this.subscribe("data-refreshing",this.cancelEdit.bind(this)),this.subscribe("keybinding-nav-prev",this.navigatePrev.bind(this,void 0)),this.subscribe("keybinding-nav-next",this.keybindingNavigateNext.bind(this)),this.subscribe("keybinding-nav-left",this.navigateLeft.bind(this,void 0)),this.subscribe("keybinding-nav-right",this.navigateRight.bind(this,void 0)),this.subscribe("keybinding-nav-up",this.navigateUp.bind(this,void 0)),this.subscribe("keybinding-nav-down",this.navigateDown.bind(this,void 0))}keybindingNavigateNext(e){var t=this.currentCell,n=this.options("tabEndNewRow");t&&(this.navigateNext(t,e)||n&&(t.getElement().firstChild.blur(),(n=this.table.addRow(!0===n?{}:"function"==typeof n?n(t.row.getComponent()):Object.assign({},n))).then(()=>{setTimeout(()=>{t.getComponent().navigateNext()})})))}cellisEdited(e){return!!e.modules.edit&&e.modules.edit.edited}cellCancelEdit(e){e===this.currentCell?this.table.modules.edit.cancelEdit():console.warn("Cancel Editor Error - This cell is not currently being edited ")}clearCellEdited(e){e||(e=this.table.modules.edit.getEditedCells()),Array.isArray(e)||(e=[e]),e.forEach(t=>{this.table.modules.edit.clearEdited(t._getSelf())})}navigatePrev(e=this.currentCell,t){var n,r;if(e){if(t&&t.preventDefault(),n=this.navigateLeft())return!0;if((r=this.table.rowManager.prevDisplayRow(e.row,!0))&&(n=this.findNextEditableCell(r,r.cells.length)))return n.getComponent().edit(),!0}return!1}navigateNext(e=this.currentCell,t){var n,r;if(e){if(t&&t.preventDefault(),n=this.navigateRight())return!0;if((r=this.table.rowManager.nextDisplayRow(e.row,!0))&&(n=this.findNextEditableCell(r,-1)))return n.getComponent().edit(),!0}return!1}navigateLeft(e=this.currentCell,t){var n,r;return!(!e||(t&&t.preventDefault(),n=e.getIndex(),r=this.findPrevEditableCell(e.row,n),!r)||(r.getComponent().edit(),0))}navigateRight(e=this.currentCell,t){var n,r;return!(!e||(t&&t.preventDefault(),n=e.getIndex(),r=this.findNextEditableCell(e.row,n),!r)||(r.getComponent().edit(),0))}navigateUp(e=this.currentCell,t){var n,r;return!(!e||(t&&t.preventDefault(),n=e.getIndex(),r=this.table.rowManager.prevDisplayRow(e.row,!0),!r)||(r.cells[n].getComponent().edit(),0))}navigateDown(e=this.currentCell,t){var n,r;return!(!e||(t&&t.preventDefault(),n=e.getIndex(),r=this.table.rowManager.nextDisplayRow(e.row,!0),!r)||(r.cells[n].getComponent().edit(),0))}findNextEditableCell(e,t){var n=!1;if(t<e.cells.length-1)for(var r=t+1;r<e.cells.length;r++){let l=e.cells[r];if(l.column.modules.edit&&B.elVisible(l.getElement())){let h=!0;if("function"==typeof l.column.modules.edit.check&&(h=l.column.modules.edit.check(l.getComponent())),h){n=l;break}}}return n}findPrevEditableCell(e,t){var n=!1;if(t>0)for(var r=t-1;r>=0;r--){let l=e.cells[r],h=!0;if(l.column.modules.edit&&B.elVisible(l.getElement())&&("function"==typeof l.column.modules.edit.check&&(h=l.column.modules.edit.check(l.getComponent())),h)){n=l;break}}return n}initializeColumnCheck(e){void 0!==e.definition.editor&&this.initializeColumn(e)}columnDeleteCheck(e){this.currentCell&&this.currentCell.column===e&&this.cancelEdit()}rowDeleteCheck(e){this.currentCell&&this.currentCell.row===e&&this.cancelEdit()}initializeColumn(e){var t={editor:!1,blocked:!1,check:e.definition.editable,params:e.definition.editorParams||{}};switch(typeof e.definition.editor){case"string":this.editors[e.definition.editor]?t.editor=this.editors[e.definition.editor]:console.warn("Editor Error - No such editor found: ",e.definition.editor);break;case"function":t.editor=e.definition.editor;break;case"boolean":!0===e.definition.editor&&("function"!=typeof e.definition.formatter?t.editor=this.editors[e.definition.formatter]?this.editors[e.definition.formatter]:this.editors.input:console.warn("Editor Error - Cannot auto lookup editor for a custom formatter: ",e.definition.formatter))}t.editor&&(e.modules.edit=t)}getCurrentCell(){return!!this.currentCell&&this.currentCell.getComponent()}clearEditor(e){var n,t=this.currentCell;if(this.invalidEdit=!1,t){for(this.currentCell=!1,n=t.getElement(),e?t.column.modules.validate&&this.table.modExists("validate")&&this.table.modules.validate.cellValidate(t):n.classList.remove("tabulator-validation-fail"),n.classList.remove("tabulator-editing");n.firstChild;)n.removeChild(n.firstChild);t.row.getElement().classList.remove("tabulator-row-editing")}}cancelEdit(){if(this.currentCell){var e=this.currentCell,t=this.currentCell.getComponent();this.clearEditor(!0),e.setValueActual(e.getValue()),e.cellRendered(),("textarea"==e.column.definition.editor||e.column.definition.variableHeight)&&e.row.normalizeHeight(!0),e.column.definition.cellEditCancelled&&e.column.definition.cellEditCancelled.call(this.table,t),this.dispatch("edit-cancelled",e),this.dispatchExternal("cellEditCancelled",t)}}bindEditor(e){if(e.column.modules.edit){var t=this,n=e.getElement(!0);n.setAttribute("tabindex",0),n.addEventListener("click",function(r){n.classList.contains("tabulator-editing")||n.focus({preventScroll:!0})}),n.addEventListener("mousedown",function(r){2===r.button?r.preventDefault():t.mouseClick=!0}),n.addEventListener("focus",function(r){t.recursionBlock||t.edit(e,r,!1)})}}focusCellNoEvent(e,t){this.recursionBlock=!0,t&&"ie"===this.table.browser||e.getElement().focus({preventScroll:!0}),this.recursionBlock=!1}editCell(e,t){this.focusCellNoEvent(e),this.edit(e,!1,t)}focusScrollAdjust(e){if("virtual"==this.table.rowManager.getRenderMode()){var t=this.table.rowManager.element.scrollTop,n=this.table.rowManager.element.clientHeight+this.table.rowManager.element.scrollTop,r=e.row.getElement();r.offsetTop<t?this.table.rowManager.element.scrollTop-=t-r.offsetTop:r.offsetTop+r.offsetHeight>n&&(this.table.rowManager.element.scrollTop+=r.offsetTop+r.offsetHeight-n);var l=this.table.rowManager.element.scrollLeft,h=this.table.rowManager.element.clientWidth+this.table.rowManager.element.scrollLeft,d=e.getElement();this.table.modExists("frozenColumns")&&(l+=parseInt(this.table.modules.frozenColumns.leftMargin),h-=parseInt(this.table.modules.frozenColumns.rightMargin)),"virtual"===this.table.options.renderHorizontal&&(l-=parseInt(this.table.columnManager.renderer.vDomPadLeft),h-=parseInt(this.table.columnManager.renderer.vDomPadLeft)),d.offsetLeft<l?this.table.rowManager.element.scrollLeft-=l-d.offsetLeft:d.offsetLeft+d.offsetWidth>h&&(this.table.rowManager.element.scrollLeft+=d.offsetLeft+d.offsetWidth-h)}}edit(e,t,n){var m,f,b,r=this,l=!0,h=function(){},d=e.getElement();if(!this.currentCell){if(e.column.modules.edit.blocked)return this.mouseClick=!1,d.blur(),!1;switch(t&&t.stopPropagation(),typeof e.column.modules.edit.check){case"function":l=e.column.modules.edit.check(e.getComponent());break;case"boolean":l=e.column.modules.edit.check}if(l||n){if(r.cancelEdit(),r.currentCell=e,this.focusScrollAdjust(e),f=e.getComponent(),this.mouseClick&&(this.mouseClick=!1,e.column.definition.cellClick&&e.column.definition.cellClick.call(this.table,t,f)),e.column.definition.cellEditing&&e.column.definition.cellEditing.call(this.table,f),this.dispatchExternal("cellEditing",f),b="function"==typeof e.column.modules.edit.params?e.column.modules.edit.params(f):e.column.modules.edit.params,!1===(m=e.column.modules.edit.editor.call(r,f,function y(S){h=S},function C(S){if(r.currentCell===e){var O=!0;return e.column.modules.validate&&r.table.modExists("validate")&&"manual"!=r.table.options.validationMode&&(O=r.table.modules.validate.validate(e.column.modules.validate,e,S)),!0===O||"highlight"===r.table.options.validationMode?(r.clearEditor(),e.modules.edit||(e.modules.edit={}),e.modules.edit.edited=!0,-1==r.editedCells.indexOf(e)&&r.editedCells.push(e),e.setValue(S,!0),!0===O||(d.classList.add("tabulator-validation-fail"),r.table.externalEvents.dispatch("validationFailed",e.getComponent(),S,O),!1)):(r.invalidEdit=!0,d.classList.add("tabulator-validation-fail"),r.focusCellNoEvent(e,!0),h(),r.table.externalEvents.dispatch("validationFailed",e.getComponent(),S,O),!1)}},function w(){r.currentCell===e&&r.cancelEdit()},b)))return d.blur(),!1;if(!(m instanceof Node))return console.warn("Edit Error - Editor should return an instance of Node, the editor returned:",m),d.blur(),!1;for(d.classList.add("tabulator-editing"),e.row.getElement().classList.add("tabulator-row-editing");d.firstChild;)d.removeChild(d.firstChild);d.appendChild(m),h();for(var x=d.children,T=0;T<x.length;T++)x[T].addEventListener("click",function(S){S.stopPropagation()});return!0}return this.mouseClick=!1,d.blur(),!1}this.invalidEdit||this.cancelEdit()}getEditedCells(){var e=[];return this.editedCells.forEach(t=>{e.push(t.getComponent())}),e}clearEdited(e){var t;e.modules.edit&&e.modules.edit.edited&&(e.modules.edit.edited=!1,e.modules.validate&&(e.modules.validate.invalid=!1)),(t=this.editedCells.indexOf(e))>-1&&this.editedCells.splice(t,1)}}return c.moduleName="edit",c.editors=xt,c})();class Ye{constructor(s,e,t,n){this.type=s,this.columns=e,this.component=t||!1,this.indent=n||0}}class He{constructor(s,e,t,n,r){this.value=s,this.component=e||!1,this.width=t,this.height=n,this.depth=r}}let kt=(()=>{class c extends z{constructor(e){super(e),this.config={},this.cloneTableStyle=!0,this.colVisProp="",this.registerTableOption("htmlOutputConfig",!1),this.registerColumnOption("htmlOutput"),this.registerColumnOption("titleHtmlOutput")}initialize(){this.registerTableFunction("getHtml",this.getHtml.bind(this))}generateExportList(e,t,n,r){this.cloneTableStyle=t,this.config=e||{},this.colVisProp=r;var l=!1!==this.config.columnHeaders?this.headersToExportRows(this.generateColumnGroupHeaders()):[],h=this.bodyToExportRows(this.rowLookup(n));return l.concat(h)}genereateTable(e,t,n,r){var l=this.generateExportList(e,t,n,r);return this.genereateTableElement(l)}rowLookup(e){var t=[];if("function"==typeof e)e.call(this.table).forEach(n=>{(n=this.table.rowManager.findRow(n))&&t.push(n)});else switch(e){case!0:case"visible":t=this.table.rowManager.getVisibleRows(!1,!0);break;case"all":t=this.table.rowManager.rows;break;case"selected":t=this.table.modules.selectRow.selectedRows;break;default:t=this.table.options.pagination?this.table.rowManager.getDisplayRows(this.table.rowManager.displayRows.length-2):this.table.rowManager.getDisplayRows()}return Object.assign([],t)}generateColumnGroupHeaders(){var e=[];return(!1!==this.config.columnGroups?this.table.columnManager.columns:this.table.columnManager.columnsByIndex).forEach(n=>{var r=this.processColumnGroup(n);r&&e.push(r)}),e}processColumnGroup(e){var t=e.columns,n=0,l={title:e.definition["title"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))]||e.definition.title,column:e,depth:1};if(t.length){if(l.subGroups=[],l.width=0,t.forEach(h=>{var d=this.processColumnGroup(h);d&&(l.width+=d.width,l.subGroups.push(d),d.depth>n&&(n=d.depth))}),l.depth+=n,!l.width)return!1}else{if(!this.columnVisCheck(e))return!1;l.width=1}return l}columnVisCheck(e){return!1!==e.definition[this.colVisProp]&&(e.visible||!e.visible&&e.definition[this.colVisProp])}headersToExportRows(e){var t=[],n=0,r=[];function l(h,d){var m=n-d;if(void 0===t[d]&&(t[d]=[]),h.height=h.subGroups?1:m-h.depth+1,t[d].push(h),h.height>1)for(let f=1;f<h.height;f++)void 0===t[d+f]&&(t[d+f]=[]),t[d+f].push(!1);if(h.width>1)for(let f=1;f<h.width;f++)t[d].push(!1);h.subGroups&&h.subGroups.forEach(function(f){l(f,d+1)})}return e.forEach(function(h){h.depth>n&&(n=h.depth)}),e.forEach(function(h){l(h,0)}),t.forEach(h=>{var d=[];h.forEach(m=>{d.push(m?new He(void 0===m.title?"":m.title,m.column.getComponent(),m.width,m.height,m.depth):null)}),r.push(new Ye("header",d))}),r}bodyToExportRows(e){var t=[],n=[];return this.table.columnManager.columnsByIndex.forEach(r=>{this.columnVisCheck(r)&&t.push(r.getComponent())}),!1!==this.config.columnCalcs&&this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&e.unshift(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&e.push(this.table.modules.columnCalcs.botRow)),(e=e.filter(r=>{switch(r.type){case"group":return!1!==this.config.rowGroups;case"calc":return!1!==this.config.columnCalcs;case"row":return!(this.table.options.dataTree&&!1===this.config.dataTree&&r.modules.dataTree.parent)}return!0})).forEach((r,l)=>{var h=r.getData(this.colVisProp),d=[],m=0;switch(r.type){case"group":m=r.level,d.push(new He(r.key,r.getComponent(),t.length,1));break;case"calc":case"row":t.forEach(f=>{d.push(new He(f._column.getFieldValue(h),f,1,1))}),this.table.options.dataTree&&!1!==this.config.dataTree&&(m=r.modules.dataTree.index)}n.push(new Ye(r.type,d,r.getComponent(),m))}),n}genereateTableElement(e){var t=document.createElement("table"),n=document.createElement("thead"),r=document.createElement("tbody"),l=this.lookupTableStyles(),h=this.table.options["rowFormatter"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],d={};return d.rowFormatter=null!==h?h:this.table.options.rowFormatter,this.table.options.dataTree&&!1!==this.config.dataTree&&this.table.modExists("columnCalcs")&&(d.treeElementField=this.table.modules.dataTree.elementField),d.groupHeader=this.table.options["groupHeader"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],d.groupHeader&&!Array.isArray(d.groupHeader)&&(d.groupHeader=[d.groupHeader]),t.classList.add("tabulator-print-table"),this.mapElementStyles(this.table.columnManager.getHeadersElement(),n,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),e.length>1e3&&console.warn("It may take a long time to render an HTML table with more than 1000 rows"),e.forEach((m,f)=>{switch(m.type){case"header":n.appendChild(this.genereateHeaderElement(m,d,l));break;case"group":r.appendChild(this.genereateGroupElement(m,d,l));break;case"calc":r.appendChild(this.genereateCalcElement(m,d,l));break;case"row":let b=this.genereateRowElement(m,d,l);this.mapElementStyles(f%2&&l.evenRow?l.evenRow:l.oddRow,b,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),r.appendChild(b)}}),n.innerHTML&&t.appendChild(n),t.appendChild(r),this.mapElementStyles(this.table.element,t,["border-top","border-left","border-right","border-bottom"]),t}lookupTableStyles(){var e={};return this.cloneTableStyle&&window.getComputedStyle&&(e.oddRow=this.table.element.querySelector(".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)"),e.evenRow=this.table.element.querySelector(".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)"),e.calcRow=this.table.element.querySelector(".tabulator-row.tabulator-calcs"),e.firstRow=this.table.element.querySelector(".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)"),e.firstGroup=this.table.element.getElementsByClassName("tabulator-group")[0],e.firstRow&&(e.styleCells=e.firstRow.getElementsByClassName("tabulator-cell"),e.firstCell=e.styleCells[0],e.lastCell=e.styleCells[e.styleCells.length-1])),e}genereateHeaderElement(e,t,n){var r=document.createElement("tr");return e.columns.forEach(l=>{if(l){var h=document.createElement("th"),d=l.component._column.definition.cssClass?l.component._column.definition.cssClass.split(" "):[];h.colSpan=l.width,h.rowSpan=l.height,h.innerHTML=l.value,this.cloneTableStyle&&(h.style.boxSizing="border-box"),d.forEach(function(m){h.classList.add(m)}),this.mapElementStyles(l.component.getElement(),h,["text-align","border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),this.mapElementStyles(l.component._column.contentElement,h,["padding-top","padding-left","padding-right","padding-bottom"]),l.component._column.visible?this.mapElementStyles(l.component.getElement(),h,["width"]):l.component._column.definition.width&&(h.style.width=l.component._column.definition.width+"px"),l.component._column.parent&&this.mapElementStyles(l.component._column.parent.groupElement,h,["border-top"]),r.appendChild(h)}}),r}genereateGroupElement(e,t,n){var r=document.createElement("tr"),l=document.createElement("td"),h=e.columns[0];return r.classList.add("tabulator-print-table-row"),h.value=t.groupHeader&&t.groupHeader[e.indent]?t.groupHeader[e.indent](h.value,e.component._group.getRowCount(),e.component._group.getData(),e.component):!1===t.groupHeader?h.value:e.component._group.generator(h.value,e.component._group.getRowCount(),e.component._group.getData(),e.component),l.colSpan=h.width,l.innerHTML=h.value,r.classList.add("tabulator-print-table-group"),r.classList.add("tabulator-group-level-"+e.indent),h.component.isVisible()&&r.classList.add("tabulator-group-visible"),this.mapElementStyles(n.firstGroup,r,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),this.mapElementStyles(n.firstGroup,l,["padding-top","padding-left","padding-right","padding-bottom"]),r.appendChild(l),r}genereateCalcElement(e,t,n){var r=this.genereateRowElement(e,t,n);return r.classList.add("tabulator-print-table-calcs"),this.mapElementStyles(n.calcRow,r,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),r}genereateRowElement(e,t,n){var r=document.createElement("tr");return r.classList.add("tabulator-print-table-row"),e.columns.forEach(l=>{if(l){var h=document.createElement("td"),d=l.component._column,m=l.value,f={modules:{},getValue:function(){return m},getField:function(){return d.definition.field},getElement:function(){return h},getColumn:function(){return d.getComponent()},getData:function(){return e.component.getData()},getRow:function(){return e.component},getComponent:function(){return f},column:d};if((d.definition.cssClass?d.definition.cssClass.split(" "):[]).forEach(function(C){h.classList.add(C)}),this.table.modExists("format")&&!1!==this.config.formatCells)m=this.table.modules.format.formatExportValue(f,this.colVisProp);else switch(typeof m){case"object":m=JSON.stringify(m);break;case"undefined":case"null":m="";break;default:m=m}m instanceof Node?h.appendChild(m):h.innerHTML=m,n.firstCell&&(this.mapElementStyles(n.firstCell,h,["padding-top","padding-left","padding-right","padding-bottom","border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size"]),d.definition.align&&(h.style.textAlign=d.definition.align)),this.table.options.dataTree&&!1!==this.config.dataTree&&(t.treeElementField&&t.treeElementField==d.field||!t.treeElementField&&0==i)&&(e.component._row.modules.dataTree.controlEl&&h.insertBefore(e.component._row.modules.dataTree.controlEl.cloneNode(!0),h.firstChild),e.component._row.modules.dataTree.branchEl&&h.insertBefore(e.component._row.modules.dataTree.branchEl.cloneNode(!0),h.firstChild)),r.appendChild(h),f.modules.format&&f.modules.format.renderedCallback&&f.modules.format.renderedCallback(),t.rowFormatter&&!1!==this.config.formatCells&&t.rowFormatter(e.component)}}),r}genereateHTMLTable(e){var t=document.createElement("div");return t.appendChild(this.genereateTableElement(e)),t.innerHTML}getHtml(e,t,n,r){var l=this.generateExportList(n||this.table.options.htmlOutputConfig,t,e,r||"htmlOutput");return this.genereateHTMLTable(l)}mapElementStyles(e,t,n){if(this.cloneTableStyle&&e&&t){var r={"background-color":"backgroundColor",color:"fontColor",width:"width","font-weight":"fontWeight","font-family":"fontFamily","font-size":"fontSize","text-align":"textAlign","border-top":"borderTop","border-left":"borderLeft","border-right":"borderRight","border-bottom":"borderBottom","padding-top":"paddingTop","padding-left":"paddingLeft","padding-right":"paddingRight","padding-bottom":"paddingBottom"};if(window.getComputedStyle){var l=window.getComputedStyle(e);n.forEach(function(h){t.style[r[h]]=l.getPropertyValue(h)})}}}}return c.moduleName="export",c})();var Rt={"=":function(c,s,e,t){return s==c},"<":function(c,s,e,t){return s<c},"<=":function(c,s,e,t){return s<=c},">":function(c,s,e,t){return s>c},">=":function(c,s,e,t){return s>=c},"!=":function(c,s,e,t){return s!=c},regex:function(c,s,e,t){return"string"==typeof c&&(c=new RegExp(c)),c.test(s)},like:function(c,s,e,t){return null==c?s===c:null!=s&&String(s).toLowerCase().indexOf(c.toLowerCase())>-1},keywords:function(c,s,e,t){var n=c.toLowerCase().split(void 0===t.separator?" ":t.separator),r=String(s??"").toLowerCase(),l=[];return n.forEach(h=>{r.includes(h)&&l.push(!0)}),t.matchAll?l.length===n.length:!!l.length},starts:function(c,s,e,t){return null==c?s===c:null!=s&&String(s).toLowerCase().startsWith(c.toLowerCase())},ends:function(c,s,e,t){return null==c?s===c:null!=s&&String(s).toLowerCase().endsWith(c.toLowerCase())},in:function(c,s,e,t){return Array.isArray(c)?!c.length||c.indexOf(s)>-1:(console.warn("Filter Error - filter value is not an array:",c),!1)}};let Ze=(()=>{class c extends z{constructor(e){super(e),this.filterList=[],this.headerFilters={},this.headerFilterColumns=[],this.prevHeaderFilterChangeCheck="",this.prevHeaderFilterChangeCheck="{}",this.changed=!1,this.tableInitialized=!1,this.registerTableOption("filterMode","local"),this.registerTableOption("initialFilter",!1),this.registerTableOption("initialHeaderFilter",!1),this.registerTableOption("headerFilterLiveFilterDelay",300),this.registerColumnOption("headerFilter"),this.registerColumnOption("headerFilterPlaceholder"),this.registerColumnOption("headerFilterParams"),this.registerColumnOption("headerFilterEmptyCheck"),this.registerColumnOption("headerFilterFunc"),this.registerColumnOption("headerFilterFuncParams"),this.registerColumnOption("headerFilterLiveFilter"),this.registerTableFunction("searchRows",this.searchRows.bind(this)),this.registerTableFunction("searchData",this.searchData.bind(this)),this.registerTableFunction("setFilter",this.userSetFilter.bind(this)),this.registerTableFunction("refreshFilter",this.userRefreshFilter.bind(this)),this.registerTableFunction("addFilter",this.userAddFilter.bind(this)),this.registerTableFunction("getFilters",this.getFilters.bind(this)),this.registerTableFunction("setHeaderFilterFocus",this.userSetHeaderFilterFocus.bind(this)),this.registerTableFunction("getHeaderFilterValue",this.userGetHeaderFilterValue.bind(this)),this.registerTableFunction("setHeaderFilterValue",this.userSetHeaderFilterValue.bind(this)),this.registerTableFunction("getHeaderFilters",this.getHeaderFilters.bind(this)),this.registerTableFunction("removeFilter",this.userRemoveFilter.bind(this)),this.registerTableFunction("clearFilter",this.userClearFilter.bind(this)),this.registerTableFunction("clearHeaderFilter",this.userClearHeaderFilter.bind(this)),this.registerComponentFunction("column","headerFilterFocus",this.setHeaderFilterFocus.bind(this)),this.registerComponentFunction("column","reloadHeaderFilter",this.reloadHeaderFilter.bind(this)),this.registerComponentFunction("column","getHeaderFilterValue",this.getHeaderFilterValue.bind(this)),this.registerComponentFunction("column","setHeaderFilterValue",this.setHeaderFilterValue.bind(this))}initialize(){this.subscribe("column-init",this.initializeColumnHeaderFilter.bind(this)),this.subscribe("column-width-fit-before",this.hideHeaderFilterElements.bind(this)),this.subscribe("column-width-fit-after",this.showHeaderFilterElements.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),"remote"===this.table.options.filterMode&&this.subscribe("data-params",this.remoteFilterParams.bind(this)),this.registerDataHandler(this.filter.bind(this),10)}tableBuilt(){this.table.options.initialFilter&&this.setFilter(this.table.options.initialFilter),this.table.options.initialHeaderFilter&&this.table.options.initialHeaderFilter.forEach(e=>{var t=this.table.columnManager.findColumn(e.field);if(!t)return console.warn("Column Filter Error - No matching column found:",e.field),!1;this.setHeaderFilterValue(t,e.value)}),this.tableInitialized=!0}remoteFilterParams(e,t,n,r){return r.filter=this.getFilters(!0,!0),r}userSetFilter(e,t,n,r){this.setFilter(e,t,n,r),this.refreshFilter()}userRefreshFilter(){this.refreshFilter()}userAddFilter(e,t,n,r){this.addFilter(e,t,n,r),this.refreshFilter()}userSetHeaderFilterFocus(e){var t=this.table.columnManager.findColumn(e);if(!t)return console.warn("Column Filter Focus Error - No matching column found:",e),!1;this.setHeaderFilterFocus(t)}userGetHeaderFilterValue(e){var t=this.table.columnManager.findColumn(e);if(t)return this.getHeaderFilterValue(t);console.warn("Column Filter Error - No matching column found:",e)}userSetHeaderFilterValue(e,t){var n=this.table.columnManager.findColumn(e);if(!n)return console.warn("Column Filter Error - No matching column found:",e),!1;this.setHeaderFilterValue(n,t)}userRemoveFilter(e,t,n){this.removeFilter(e,t,n),this.refreshFilter()}userClearFilter(e){this.clearFilter(e),this.refreshFilter()}userClearHeaderFilter(){this.clearHeaderFilter(),this.refreshFilter()}searchRows(e,t,n){return this.search("rows",e,t,n)}searchData(e,t,n){return this.search("data",e,t,n)}initializeColumnHeaderFilter(e){var t=e.definition;t.headerFilter&&(void 0!==t.headerFilterPlaceholder&&t.field&&this.module("localize").setHeaderFilterColumnPlaceholder(t.field,t.headerFilterPlaceholder),this.initializeColumn(e))}initializeColumn(e,t){var n=this,r=e.getField();e.modules.filter={success:function l(h){var b,d="input"==e.modules.filter.tagType&&"text"==e.modules.filter.attrType||"textarea"==e.modules.filter.tagType?"partial":"match",m="",f="";if(void 0===e.modules.filter.prevSuccess||e.modules.filter.prevSuccess!==h){if(e.modules.filter.prevSuccess=h,e.modules.filter.emptyFunc(h))delete n.headerFilters[r];else{switch(e.modules.filter.value=h,typeof e.definition.headerFilterFunc){case"string":c.filters[e.definition.headerFilterFunc]?(m=e.definition.headerFilterFunc,b=function(C){var w=e.definition.headerFilterFuncParams||{},y=e.getFieldValue(C);return w="function"==typeof w?w(h,y,C):w,c.filters[e.definition.headerFilterFunc](h,y,C,w)}):console.warn("Header Filter Error - Matching filter function not found: ",e.definition.headerFilterFunc);break;case"function":m=b=function(C){var w=e.definition.headerFilterFuncParams||{},y=e.getFieldValue(C);return w="function"==typeof w?w(h,y,C):w,e.definition.headerFilterFunc(h,y,C,w)}}b||("partial"===d?(b=function(C){var w=e.getFieldValue(C);return null!=w&&String(w).toLowerCase().indexOf(String(h).toLowerCase())>-1},m="like"):(b=function(C){return e.getFieldValue(C)==h},m="=")),n.headerFilters[r]={value:h,func:b,type:m,params:{}}}f=JSON.stringify(n.headerFilters),n.prevHeaderFilterChangeCheck!==f&&(n.prevHeaderFilterChangeCheck=f,n.trackChanges(),n.refreshFilter())}return!0},attrType:!1,tagType:!1,emptyFunc:!1},this.generateHeaderFilterElement(e)}generateHeaderFilterElement(e,t,n){var d,m,f,b,C,w,y,r=this,l=e.modules.filter.success,h=e.getField();if(e.modules.filter.headerElement&&e.modules.filter.headerElement.parentNode&&e.contentElement.removeChild(e.modules.filter.headerElement.parentNode),h){switch(e.modules.filter.emptyFunc=e.definition.headerFilterEmptyCheck||function(T){return!T&&"0"!==T&&0!==T},(d=document.createElement("div")).classList.add("tabulator-header-filter"),typeof e.definition.headerFilter){case"string":r.table.modules.edit.editors[e.definition.headerFilter]?(m=r.table.modules.edit.editors[e.definition.headerFilter],("tick"===e.definition.headerFilter||"tickCross"===e.definition.headerFilter)&&!e.definition.headerFilterEmptyCheck&&(e.modules.filter.emptyFunc=function(T){return!0!==T&&!1!==T})):console.warn("Filter Error - Cannot build header filter, No such editor found: ",e.definition.editor);break;case"function":m=e.definition.headerFilter;break;case"boolean":e.modules.edit&&e.modules.edit.editor?m=e.modules.edit.editor:e.definition.formatter&&r.table.modules.edit.editors[e.definition.formatter]?(m=r.table.modules.edit.editors[e.definition.formatter],("tick"===e.definition.formatter||"tickCross"===e.definition.formatter)&&!e.definition.headerFilterEmptyCheck&&(e.modules.filter.emptyFunc=function(T){return!0!==T&&!1!==T})):m=r.table.modules.edit.editors.input}if(m){if(b={getValue:function(){return void 0!==t?t:""},getField:function(){return e.definition.field},getElement:function(){return d},getColumn:function(){return e.getComponent()},getRow:function(){return{normalizeHeight:function(){}}}},y="function"==typeof(y=e.definition.headerFilterParams||{})?y.call(r.table,b):y,!(f=m.call(this.table.modules.edit,b,function(){},l,function x(){},y)))return void console.warn("Filter Error - Cannot add filter to "+h+" column, editor returned a value of false");if(!(f instanceof Node))return void console.warn("Filter Error - Cannot add filter to "+h+" column, editor should return an instance of Node, the editor returned:",f);h?r.langBind("headerFilters|columns|"+e.definition.field,function(T){f.setAttribute("placeholder",void 0!==T&&T?T:r.langText("headerFilters|default"))}):r.langBind("headerFilters|default",function(T){f.setAttribute("placeholder",T)}),f.addEventListener("click",function(T){T.stopPropagation(),f.focus()}),f.addEventListener("focus",T=>{var S=this.table.columnManager.element.scrollLeft;S!==this.table.rowManager.element.scrollLeft&&(this.table.rowManager.scrollHorizontal(S),this.table.columnManager.scrollHorizontal(S))}),C=!1,w=function(T){C&&clearTimeout(C),C=setTimeout(function(){l(f.value)},r.table.options.headerFilterLiveFilterDelay)},e.modules.filter.headerElement=f,e.modules.filter.attrType=f.hasAttribute("type")?f.getAttribute("type").toLowerCase():"",e.modules.filter.tagType=f.tagName.toLowerCase(),!1!==e.definition.headerFilterLiveFilter&&("autocomplete"===e.definition.headerFilter||"tickCross"===e.definition.headerFilter||("autocomplete"===e.definition.editor||"tickCross"===e.definition.editor)&&!0===e.definition.headerFilter||(f.addEventListener("keyup",w),f.addEventListener("search",w),"number"==e.modules.filter.attrType&&f.addEventListener("change",function(T){l(f.value)}),"text"==e.modules.filter.attrType&&"ie"!==this.table.browser&&f.setAttribute("type","search")),("input"==e.modules.filter.tagType||"select"==e.modules.filter.tagType||"textarea"==e.modules.filter.tagType)&&f.addEventListener("mousedown",function(T){T.stopPropagation()})),d.appendChild(f),e.contentElement.appendChild(d),n||r.headerFilterColumns.push(e)}}else console.warn("Filter Error - Cannot add header filter, column has no field set:",e.definition.title)}hideHeaderFilterElements(){this.headerFilterColumns.forEach(function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="none")})}showHeaderFilterElements(){this.headerFilterColumns.forEach(function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="")})}setHeaderFilterFocus(e){e.modules.filter&&e.modules.filter.headerElement?e.modules.filter.headerElement.focus():console.warn("Column Filter Focus Error - No header filter set on column:",e.getField())}getHeaderFilterValue(e){if(e.modules.filter&&e.modules.filter.headerElement)return e.modules.filter.headerElement.value;console.warn("Column Filter Error - No header filter set on column:",e.getField())}setHeaderFilterValue(e,t){e&&(e.modules.filter&&e.modules.filter.headerElement?(this.generateHeaderFilterElement(e,t,!0),e.modules.filter.success(t)):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}reloadHeaderFilter(e){e&&(e.modules.filter&&e.modules.filter.headerElement?this.generateHeaderFilterElement(e,e.modules.filter.value,!0):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}refreshFilter(){this.tableInitialized&&("remote"===this.table.options.filterMode?this.reloadData():this.refreshData(!0))}trackChanges(){this.changed=!0,this.dispatch("filter-changed")}hasChanged(){var e=this.changed;return this.changed=!1,e}setFilter(e,t,n,r){this.filterList=[],Array.isArray(e)||(e=[{field:e,type:t,value:n,params:r}]),this.addFilter(e)}addFilter(e,t,n,r){var l=!1;Array.isArray(e)||(e=[{field:e,type:t,value:n,params:r}]),e.forEach(h=>{(h=this.findFilter(h))&&(this.filterList.push(h),l=!0)}),l&&this.trackChanges()}findFilter(e){var t;if(Array.isArray(e))return this.findSubFilters(e);var n=!1;return"function"==typeof e.field?n=function(r){return e.field(r,e.type||{})}:c.filters[e.type]?n=(t=this.table.columnManager.getColumnByField(e.field))?function(r){return c.filters[e.type](e.value,t.getFieldValue(r),r,e.params||{})}:function(r){return c.filters[e.type](e.value,r[e.field],r,e.params||{})}:console.warn("Filter Error - No such filter type found, ignoring: ",e.type),e.func=n,!!e.func&&e}findSubFilters(e){var t=[];return e.forEach(n=>{(n=this.findFilter(n))&&t.push(n)}),!!t.length&&t}getFilters(e,t){var n=[];return e&&(n=this.getHeaderFilters()),t&&n.forEach(function(r){"function"==typeof r.type&&(r.type="function")}),n.concat(this.filtersToArray(this.filterList,t))}filtersToArray(e,t){var n=[];return e.forEach(r=>{var l;Array.isArray(r)?n.push(this.filtersToArray(r,t)):(l={field:r.field,type:r.type,value:r.value},t&&"function"==typeof l.type&&(l.type="function"),n.push(l))}),n}getHeaderFilters(){var e=[];for(var t in this.headerFilters)e.push({field:t,type:this.headerFilters[t].type,value:this.headerFilters[t].value});return e}removeFilter(e,t,n){Array.isArray(e)||(e=[{field:e,type:t,value:n}]),e.forEach(r=>{var l;(l=this.filterList.findIndex("object"==typeof r.field?h=>r===h:h=>r.field===h.field&&r.type===h.type&&r.value===h.value))>-1?this.filterList.splice(l,1):console.warn("Filter Error - No matching filter type found, ignoring: ",r.type)}),this.trackChanges()}clearFilter(e){this.filterList=[],e&&this.clearHeaderFilter(),this.trackChanges()}clearHeaderFilter(){this.headerFilters={},this.prevHeaderFilterChangeCheck="{}",this.headerFilterColumns.forEach(e=>{void 0!==e.modules.filter.value&&delete e.modules.filter.value,e.modules.filter.prevSuccess=void 0,this.reloadHeaderFilter(e)}),this.trackChanges()}search(e,t,n,r){var l=[],h=[];return Array.isArray(t)||(t=[{field:t,type:n,value:r}]),t.forEach(d=>{(d=this.findFilter(d))&&h.push(d)}),this.table.rowManager.rows.forEach(d=>{var m=!0;h.forEach(f=>{this.filterRecurse(f,d.getData())||(m=!1)}),m&&l.push("data"===e?d.getData("data"):d.getComponent())}),l}filter(e,t){var n=[],r=[];return this.subscribedExternal("dataFiltering")&&this.dispatchExternal("dataFiltering",this.getFilters()),"remote"!==this.table.options.filterMode&&(this.filterList.length||Object.keys(this.headerFilters).length)?e.forEach(l=>{this.filterRow(l)&&n.push(l)}):n=e.slice(0),this.subscribedExternal("dataFiltered")&&(n.forEach(l=>{r.push(l.getComponent())}),this.dispatchExternal("dataFiltered",this.getFilters(),r)),n}filterRow(e,t){var n=!0,r=e.getData();for(var l in this.filterList.forEach(h=>{this.filterRecurse(h,r)||(n=!1)}),this.headerFilters)this.headerFilters[l].func(r)||(n=!1);return n}filterRecurse(e,t){var n=!1;return Array.isArray(e)?e.forEach(r=>{this.filterRecurse(r,t)&&(n=!0)}):n=e.func(t),n}}return c.moduleName="filter",c.filters=Rt,c})();var jt={plaintext:function St(c,s,e){return this.emptyToSpace(this.sanitizeHTML(c.getValue()))},html:function Mt(c,s,e){return c.getValue()},textarea:function Ft(c,s,e){return c.getElement().style.whiteSpace="pre-wrap",this.emptyToSpace(this.sanitizeHTML(c.getValue()))},money:function Lt(c,s,e){var r,l,h,d,t=parseFloat(c.getValue()),n="",m=s.decimal||".",f=s.thousand||",",b=s.negativeSign||"-",C=s.symbol||"",w=!!s.symbolAfter,y=void 0!==s.precision?s.precision:2;if(isNaN(t))return this.emptyToSpace(this.sanitizeHTML(c.getValue()));for(t<0&&(t=Math.abs(t),n=b),r=!1!==y?t.toFixed(y):t,l=(r=String(r).split("."))[0],h=r.length>1?m+r[1]:"",d=/(\d+)(\d{3})/;d.test(l);)l=l.replace(d,"$1"+f+"$2");return w?n+l+h+C:n+C+l+h},link:function fe(c,s,e){var t=c.getValue(),n=s.urlPrefix||"",r=s.download,l=t,h=document.createElement("a");if(s.labelField&&(l=c.getData()[s.labelField]),s.label)switch(typeof s.label){case"string":l=s.label;break;case"function":l=s.label(c)}if(l){if(s.urlField&&(t=c.getData()[s.urlField]),s.url)switch(typeof s.url){case"string":t=s.url;break;case"function":t=s.url(c)}return h.setAttribute("href",n+t),s.target&&h.setAttribute("target",s.target),s.download&&(r="function"==typeof r?r(c):!0===r?"":r,h.setAttribute("download",r)),h.innerHTML=this.emptyToSpace(this.sanitizeHTML(l)),h}return"&nbsp;"},image:function Dt(c,s,e){var t=document.createElement("img"),n=c.getValue();switch(s.urlPrefix&&(n=s.urlPrefix+c.getValue()),s.urlSuffix&&(n+=s.urlSuffix),t.setAttribute("src",n),typeof s.height){case"number":t.style.height=s.height+"px";break;case"string":t.style.height=s.height}switch(typeof s.width){case"number":t.style.width=s.width+"px";break;case"string":t.style.width=s.width}return t.addEventListener("load",function(){c.getRow().normalizeHeight()}),t},tickCross:function Ne(c,s,e){var t=c.getValue(),n=c.getElement(),r=s.allowEmpty,h=void 0!==s.tickElement?s.tickElement:'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',d=void 0!==s.crossElement?s.crossElement:'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return s.allowTruthy&&t||!0===t||"true"===t||"True"===t||1===t||"1"===t?(n.setAttribute("aria-checked",!0),h||""):!r||"null"!==t&&""!==t&&null!=t?(n.setAttribute("aria-checked",!1),d||""):(n.setAttribute("aria-checked","mixed"),"")},datetime:function Qe(c,s,e){var t=window.DateTime||luxon.DateTime,n=s.inputFormat||"yyyy-MM-dd HH:mm:ss",r=s.outputFormat||"dd/MM/yyyy HH:mm:ss",l=void 0!==s.invalidPlaceholder?s.invalidPlaceholder:"",h=c.getValue();if(void 0!==t){var d="iso"===n?t.fromISO(String(h)):t.fromFormat(String(h),n);return d.isValid?(s.timezone&&(d=d.shiftTimezone(s.timezone)),d.toFormat(r)):!0!==l&&h?"function"==typeof l?l(h):l:h}console.error("Format Error - 'datetime' formatter is dependant on luxon.js")},datetimediff:function et(c,s,e){var t=window.DateTime||luxon.DateTime,n=s.inputFormat||"yyyy-MM-dd HH:mm:ss",r=void 0!==s.invalidPlaceholder?s.invalidPlaceholder:"",l=void 0!==s.suffix&&s.suffix,h=void 0!==s.unit?s.unit:"days",d=void 0!==s.humanize&&s.humanize,m=void 0!==s.date?s.date:t.now(),f=c.getValue();if(void 0!==t){var b="iso"===n?t.fromISO(String(f)):t.fromFormat(String(f),n);if(!b.isValid)return!0===r?f:"function"==typeof r?r(f):r;if(!d)return parseInt(b.diff(m,h)[h])+(l?" "+l:"")}else console.error("Format Error - 'datetimediff' formatter is dependant on luxon.js")},lookup:function Ot(c,s,e){var t=c.getValue();return void 0===s[t]?(console.warn("Missing display value for "+t),t):s[t]},star:function At(c,s,e){var t=c.getValue(),n=c.getElement(),r=s&&s.stars?s.stars:5,l=document.createElement("span"),h=document.createElementNS("http://www.w3.org/2000/svg","svg");l.style.verticalAlign="middle",h.setAttribute("width","14"),h.setAttribute("height","14"),h.setAttribute("viewBox","0 0 512 512"),h.setAttribute("xml:space","preserve"),h.style.padding="0 1px",t=t&&!isNaN(t)?parseInt(t):0,t=Math.max(0,Math.min(t,r));for(var f=1;f<=r;f++){var b=h.cloneNode(!0);b.innerHTML=f<=t?'<polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>':'<polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>',l.appendChild(b)}return n.style.whiteSpace="nowrap",n.style.overflow="hidden",n.style.textOverflow="ellipsis",n.setAttribute("aria-label",t),l},traffic:function zt(c,s,e){var f,t=this.sanitizeHTML(c.getValue())||0,n=document.createElement("span"),r=s&&s.max?s.max:100,l=s&&s.min?s.min:0,h=s&&void 0!==s.color?s.color:["red","orange","green"],d="#666666";if(!isNaN(t)&&void 0!==c.getValue()){switch(n.classList.add("tabulator-traffic-light"),f=parseFloat(t)<=r?parseFloat(t):r,f=parseFloat(f)>=l?parseFloat(f):l,f=Math.round((f-l)/((r-l)/100)),typeof h){case"string":d=h;break;case"function":d=h(t);break;case"object":if(Array.isArray(h)){var C=Math.floor(f/(100/h.length));C=Math.min(C,h.length-1),d=h[C=Math.max(C,0)];break}}return n.style.backgroundColor=d,n}},progress:function Pt(c,s,e){var m,f,b,C,t=this.sanitizeHTML(c.getValue())||0,n=c.getElement(),r=s&&s.max?s.max:100,l=s&&s.min?s.min:0,h=s&&s.legendAlign?s.legendAlign:"center";switch(m=parseFloat(t)<=r?parseFloat(t):r,m=parseFloat(m)>=l?parseFloat(m):l,m=Math.round((m-l)/((r-l)/100)),typeof s.color){case"string":f=s.color;break;case"function":f=s.color(t);break;case"object":if(Array.isArray(s.color)){var w=100/s.color.length,y=Math.floor(m/w);y=Math.min(y,s.color.length-1),y=Math.max(y,0),f=s.color[y];break}default:f="#2DC214"}switch(typeof s.legend){case"string":b=s.legend;break;case"function":b=s.legend(t);break;case"boolean":b=t;break;default:b=!1}switch(typeof s.legendColor){case"string":C=s.legendColor;break;case"function":C=s.legendColor(t);break;case"object":Array.isArray(s.legendColor)&&(w=100/s.legendColor.length,y=Math.floor(m/w),y=Math.min(y,s.legendColor.length-1),y=Math.max(y,0),C=s.legendColor[y]);break;default:C="#000"}n.style.minWidth="30px",n.style.position="relative",n.setAttribute("aria-label",m);var x=document.createElement("div");x.style.display="inline-block",x.style.position="absolute",x.style.width=m+"%",x.style.backgroundColor=f,x.style.height="100%",x.setAttribute("data-max",r),x.setAttribute("data-min",l);var T=document.createElement("div");if(T.style.position="relative",T.style.width="100%",T.style.height="100%",b){var S=document.createElement("div");S.style.position="absolute",S.style.top=0,S.style.left=0,S.style.textAlign=h,S.style.width="100%",S.style.color=C,S.innerHTML=b}return e(function(){if(!(c instanceof Ke)){var O=document.createElement("div");O.style.position="absolute",O.style.top="4px",O.style.bottom="4px",O.style.left="4px",O.style.right="4px",n.appendChild(O),n=O}n.appendChild(T),T.appendChild(x),b&&T.appendChild(S)}),""},color:function Bt(c,s,e){return c.getElement().style.backgroundColor=this.sanitizeHTML(c.getValue()),""},buttonTick:function It(c,s,e){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'},buttonCross:function Ht(c,s,e){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'},rownum:function Nt(c,s,e){return this.table.rowManager.activeRows.indexOf(c.getRow()._getSelf())+1||""},handle:function Gt(c,s,e){return c.getElement().classList.add("tabulator-row-handle"),"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"},responsiveCollapse:function Vt(c,s,e){var t=document.createElement("div"),n=c.getRow()._row.modules.responsiveLayout;function r(l){var h=n.element;n.open=l,h&&(n.open?(t.classList.add("open"),h.style.display=""):(t.classList.remove("open"),h.style.display="none"))}return t.classList.add("tabulator-responsive-collapse-toggle"),t.innerHTML="<span class='tabulator-responsive-collapse-toggle-open'>+</span><span class='tabulator-responsive-collapse-toggle-close'>-</span>",c.getElement().classList.add("tabulator-row-handle"),t.addEventListener("click",function(l){l.stopImmediatePropagation(),r(!n.open)}),r(n.open),t},rowSelection:function Wt(c,s,e){var t=document.createElement("input"),n=!1;if(t.type="checkbox",this.table.modExists("selectRow",!0))if(t.addEventListener("click",l=>{l.stopPropagation()}),"function"==typeof c.getRow){var r=c.getRow();r instanceof Pe?(t.addEventListener("change",l=>{"click"===this.table.options.selectableRangeMode&&n?n=!1:r.toggleSelect()}),"click"===this.table.options.selectableRangeMode&&t.addEventListener("click",l=>{n=!0,this.table.modules.selectRow.handleComplexRowClick(r._row,l)}),t.checked=r.isSelected&&r.isSelected(),this.table.modules.selectRow.registerRowSelectCheckbox(r,t)):t=""}else t.addEventListener("change",l=>{this.table.modules.selectRow.selectedRows.length?this.table.deselectRow():this.table.selectRow(s.rowRange)}),this.table.modules.selectRow.registerHeaderSelectCheckbox(t);return t}};let Ut=(()=>{class c extends z{constructor(e){super(e),this.registerColumnOption("formatter"),this.registerColumnOption("formatterParams"),this.registerColumnOption("formatterPrint"),this.registerColumnOption("formatterPrintParams"),this.registerColumnOption("formatterClipboard"),this.registerColumnOption("formatterClipboardParams"),this.registerColumnOption("formatterHtmlOutput"),this.registerColumnOption("formatterHtmlOutputParams"),this.registerColumnOption("titleFormatter"),this.registerColumnOption("titleFormatterParams")}initialize(){this.subscribe("cell-format",this.formatValue.bind(this)),this.subscribe("cell-rendered",this.cellRendered.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-format",this.formatHeader.bind(this))}initializeColumn(e){e.modules.format=this.lookupFormatter(e,""),void 0!==e.definition.formatterPrint&&(e.modules.format.print=this.lookupFormatter(e,"Print")),void 0!==e.definition.formatterClipboard&&(e.modules.format.clipboard=this.lookupFormatter(e,"Clipboard")),void 0!==e.definition.formatterHtmlOutput&&(e.modules.format.htmlOutput=this.lookupFormatter(e,"HtmlOutput"))}lookupFormatter(e,t){var n={params:e.definition["formatter"+t+"Params"]||{}},r=e.definition["formatter"+t];switch(typeof r){case"string":c.formatters[r]?n.formatter=c.formatters[r]:(console.warn("Formatter Error - No such formatter found: ",r),n.formatter=c.formatters.plaintext);break;case"function":n.formatter=r;break;default:n.formatter=c.formatters.plaintext}return n}cellRendered(e){e.modules.format&&e.modules.format.renderedCallback&&!e.modules.format.rendered&&(e.modules.format.renderedCallback(),e.modules.format.rendered=!0)}formatHeader(e,t,n){var r,l,h,d;return e.definition.titleFormatter?(r=this.getFormatter(e.definition.titleFormatter),h=m=>{e.titleFormatterRendered=m},d={getValue:function(){return t},getElement:function(){return n}},l="function"==typeof(l=e.definition.titleFormatterParams||{})?l():l,r.call(this,d,l,h)):t}formatValue(e){var t=e.getComponent(),n="function"==typeof e.column.modules.format.params?e.column.modules.format.params(t):e.column.modules.format.params;return e.column.modules.format.formatter.call(this,t,n,function r(l){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=l,e.modules.format.rendered=!1})}formatExportValue(e,t){var r,n=e.column.modules.format[t];if(n){let h=function(d){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=d,e.modules.format.rendered=!1};return r="function"==typeof n.params?n.params(component):n.params,n.formatter.call(this,e.getComponent(),r,h)}return this.formatValue(e)}sanitizeHTML(e){if(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=\/]/g,function(n){return t[n]})}return e}emptyToSpace(e){return null==e||""===e?"&nbsp;":e}getFormatter(t){switch(typeof t){case"string":c.formatters[t]?t=c.formatters[t]:(console.warn("Formatter Error - No such formatter found: ",t),t=c.formatters.plaintext);break;case"function":t=t;break;default:t=c.formatters.plaintext}return t}}return c.moduleName="format",c.formatters=jt,c})(),Kt=(()=>{class c extends z{constructor(e){super(e),this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.rightPadding=0,this.initializationMode="left",this.active=!1,this.scrollEndTimer=!1,this.blocked=!0,this.registerColumnOption("frozen")}reset(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.rightMargin=0,this.active=!1,this.table.columnManager.headersElement.style.marginLeft=0,this.table.columnManager.element.style.paddingRight=0}initialize(){this.subscribe("cell-layout",this.layoutCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-width",this.layout.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("table-layout",this.layout.bind(this)),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("columns-loading",this.reset.bind(this)),this.subscribe("table-redraw",this.layout.bind(this)),this.subscribe("layout-refreshing",this.blockLayout.bind(this)),this.subscribe("layout-refreshed",this.unblockLayout.bind(this))}blockLayout(){this.blocked=!0}unblockLayout(){this.blocked=!1}layoutCell(e){this.layoutElement(e.element,e.column)}initializeColumn(e){var t={margin:0,edge:!1};e.isGroup||(this.frozenCheck(e)?(t.position=this.initializationMode,"left"==this.initializationMode?this.leftColumns.push(e):this.rightColumns.unshift(e),this.active=!0,e.modules.frozen=t):this.initializationMode="right")}frozenCheck(e){return e.parent.isGroup&&e.definition.frozen&&console.warn("Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups"),e.parent.isGroup?this.frozenCheck(e.parent):e.definition.frozen}scrollHorizontal(){var e;this.active&&(clearTimeout(this.scrollEndTimer),this.scrollEndTimer=setTimeout(()=>{this.layout()},100),e=this.table.rowManager.getVisibleRows(),this.calcMargins(),this.layoutColumnPosition(),this.layoutCalcRows(),e.forEach(t=>{"row"===t.type&&this.layoutRow(t)}),this.table.rowManager.tableElement.style.marginRight=this.rightMargin)}calcMargins(){this.leftMargin=this._calcSpace(this.leftColumns,this.leftColumns.length)+"px",this.table.columnManager.headersElement.style.marginLeft=this.leftMargin,this.rightMargin=this._calcSpace(this.rightColumns,this.rightColumns.length)+"px",this.table.columnManager.element.style.paddingRight=this.rightMargin,this.rightPadding=this.table.rowManager.element.clientWidth+this.table.columnManager.scrollLeft}layoutCalcRows(){this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&this.table.modules.columnCalcs.topRow&&this.layoutRow(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&this.table.modules.columnCalcs.botRow&&this.layoutRow(this.table.modules.columnCalcs.botRow),this.table.modExists("groupRows")&&this.layoutGroupCalcs(this.table.modules.groupRows.getGroups()))}layoutGroupCalcs(e){e.forEach(t=>{t.calcs.top&&this.layoutRow(t.calcs.top),t.calcs.bottom&&this.layoutRow(t.calcs.bottom),t.groupList&&t.groupList.length&&this.layoutGroupCalcs(t.groupList&&t.groupList)})}layoutColumnPosition(e){var t=[];this.leftColumns.forEach((n,r)=>{if(n.modules.frozen.margin=this._calcSpace(this.leftColumns,r)+this.table.columnManager.scrollLeft+"px",n.modules.frozen.edge=r==this.leftColumns.length-1,n.parent.isGroup){var l=this.getColGroupParentElement(n);t.includes(l)||(this.layoutElement(l,n),t.push(l)),n.modules.frozen.edge&&l.classList.add("tabulator-frozen-"+n.modules.frozen.position)}else this.layoutElement(n.getElement(),n);e&&n.cells.forEach(h=>{this.layoutElement(h.getElement(!0),n)})}),this.rightColumns.forEach((n,r)=>{n.modules.frozen.margin=this.rightPadding-this._calcSpace(this.rightColumns,r+1)+"px",n.modules.frozen.edge=r==this.rightColumns.length-1,this.layoutElement(n.parent.isGroup?this.getColGroupParentElement(n):n.getElement(),n),e&&n.cells.forEach(l=>{this.layoutElement(l.getElement(!0),n)})})}getColGroupParentElement(e){return e.parent.isGroup?this.getColGroupParentElement(e.parent):e.getElement()}layout(){this.active&&!this.blocked&&(this.calcMargins(),this.table.rowManager.getDisplayRows().forEach(e=>{"row"===e.type&&this.layoutRow(e)}),this.layoutCalcRows(),this.layoutColumnPosition(!0),this.table.rowManager.tableElement.style.marginRight=this.rightMargin)}layoutRow(e){e.getElement().style.paddingLeft=this.leftMargin,"fitDataFill"===this.table.options.layout&&this.rightColumns.length&&(this.table.rowManager.getTableElement().style.minWidth="calc(100% - "+this.rightMargin+")"),this.leftColumns.forEach(n=>{var r=e.getCell(n);r&&this.layoutElement(r.getElement(!0),n)}),this.rightColumns.forEach(n=>{var r=e.getCell(n);r&&this.layoutElement(r.getElement(!0),n)})}layoutElement(e,t){t.modules.frozen&&(e.style.position="absolute",e.style.left=t.modules.frozen.margin,e.classList.add("tabulator-frozen"),t.modules.frozen.edge&&e.classList.add("tabulator-frozen-"+t.modules.frozen.position))}_calcSpace(e,t){var n=0;for(let r=0;r<t;r++)e[r].visible&&(n+=e[r].getWidth());return n}}return c.moduleName="frozenColumns",c})(),$t=(()=>{class c extends z{constructor(e){super(e),this.topElement=document.createElement("div"),this.rows=[],this.registerComponentFunction("row","freeze",this.freezeRow.bind(this)),this.registerComponentFunction("row","unfreeze",this.unfreezeRow.bind(this)),this.registerComponentFunction("row","isFrozen",this.isRowFrozen.bind(this))}initialize(){this.rows=[],this.topElement.classList.add("tabulator-frozen-rows-holder"),this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.subscribe("row-deleting",this.detachRow.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),10)}isRowFrozen(e){return this.rows.indexOf(e)>-1}isFrozen(){return!!this.rows.length}visibleRows(e,t){return this.rows.forEach(n=>{t.push(n)}),t}getRows(e){var t=e.slice(0);return this.rows.forEach(function(n){var r=t.indexOf(n);r>-1&&t.splice(r,1)}),t}freezeRow(e){e.modules.frozen?console.warn("Freeze Error - Row is already frozen"):(e.modules.frozen=!0,this.topElement.appendChild(e.getElement()),e.initialize(),e.normalizeHeight(),this.table.rowManager.adjustTableSize(),this.rows.push(e),this.refreshData(!1,"display"),this.styleRows())}unfreezeRow(e){this.rows.indexOf(e),e.modules.frozen?(e.modules.frozen=!1,this.detachRow(e),this.table.rowManager.adjustTableSize(),this.refreshData(!1,"display"),this.rows.length&&this.styleRows()):console.warn("Freeze Error - Row is already unfrozen")}detachRow(e){var t=this.rows.indexOf(e);if(t>-1){var n=e.getElement();n.parentNode&&n.parentNode.removeChild(n),this.rows.splice(t,1)}}styleRows(e){this.rows.forEach((t,n)=>{this.table.rowManager.styleRow(t,n)})}}return c.moduleName="frozenRows",c})();class Xt{constructor(s){return this._group=s,this.type="GroupComponent",new Proxy(this,{get:function(e,t,n){return void 0!==e[t]?e[t]:e._group.groupManager.table.componentFunctionBinder.handle("row",e._group,t)}})}getKey(){return this._group.key}getField(){return this._group.field}getElement(){return this._group.element}getRows(){return this._group.getRows(!0)}getSubGroups(){return this._group.getSubGroups(!0)}getParentGroup(){return!!this._group.parent&&this._group.parent.getComponent()}isVisible(){return this._group.visible}show(){this._group.show()}hide(){this._group.hide()}toggle(){this._group.toggleVisibility()}_getSelf(){return this._group}getTable(){return this._group.groupManager.table}}class xe{constructor(s,e,t,n,r,l,h){this.groupManager=s,this.parent=e,this.key=n,this.level=t,this.field=r,this.hasSubGroups=t<s.groupIDLookups.length-1,this.addRow=this.hasSubGroups?this._addRowToGroup:this._addRow,this.type="group",this.old=h,this.rows=[],this.groups=[],this.groupList=[],this.generator=l,this.element=!1,this.elementContents=!1,this.height=0,this.outerHeight=0,this.initialized=!1,this.calcs={},this.initialized=!1,this.modules={},this.arrowElement=!1,this.visible=h?h.visible:void 0!==s.startOpen[t]?s.startOpen[t]:s.startOpen[0],this.component=null,this.createElements(),this.addBindings(),this.createValueGroups()}wipe(){this.groupList.length?this.groupList.forEach(function(s){s.wipe()}):this.rows.forEach(s=>{s.modules&&delete s.modules.group}),this.element=!1,this.arrowElement=!1,this.elementContents=!1}createElements(){var s=document.createElement("div");s.classList.add("tabulator-arrow"),this.element=document.createElement("div"),this.element.classList.add("tabulator-row"),this.element.classList.add("tabulator-group"),this.element.classList.add("tabulator-group-level-"+this.level),this.element.setAttribute("role","rowgroup"),this.arrowElement=document.createElement("div"),this.arrowElement.classList.add("tabulator-group-toggle"),this.arrowElement.appendChild(s),!1!==this.groupManager.table.options.movableRows&&this.groupManager.table.modExists("moveRow")&&this.groupManager.table.modules.moveRow.initializeGroupHeader(this)}createValueGroups(){var s=this.level+1;this.groupManager.allowedValues&&this.groupManager.allowedValues[s]&&this.groupManager.allowedValues[s].forEach(e=>{this._createGroup(e,s)})}addBindings(){this.groupManager.table.options.groupToggleElement&&("arrow"==this.groupManager.table.options.groupToggleElement?this.arrowElement:this.element).addEventListener("click",e=>{e.stopPropagation(),e.stopImmediatePropagation(),this.toggleVisibility()})}_createGroup(s,e){var t=e+"_"+s,n=new xe(this.groupManager,this,e,s,this.groupManager.groupIDLookups[e].field,this.groupManager.headerGenerator[e]||this.groupManager.headerGenerator[0],!!this.old&&this.old.groups[t]);this.groups[t]=n,this.groupList.push(n)}_addRowToGroup(s){var e=this.level+1;if(this.hasSubGroups){var t=this.groupManager.groupIDLookups[e].func(s.getData()),n=e+"_"+t;this.groupManager.allowedValues&&this.groupManager.allowedValues[e]?this.groups[n]&&this.groups[n].addRow(s):(this.groups[n]||this._createGroup(t,e),this.groups[n].addRow(s))}}_addRow(s){this.rows.push(s),s.modules.group=this}insertRow(s,e,t){var n=this.conformRowData({});s.updateData(n);var r=this.rows.indexOf(e);r>-1?this.rows.splice(t?r+1:r,0,s):t?this.rows.push(s):this.rows.unshift(s),s.modules.group=this,this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this),this.groupManager.updateGroupRows(!0)}scrollHeader(s){this.arrowElement&&(this.arrowElement.style.marginLeft=s,this.groupList.forEach(function(e){e.scrollHeader(s)}))}getRowIndex(s){}conformRowData(s){return this.field?s[this.field]=this.key:console.warn("Data Conforming Error - Cannot conform row data to match new group as groupBy is a function"),this.parent&&(s=this.parent.conformRowData(s)),s}removeRow(s){var e=this.rows.indexOf(s),t=s.getElement();e>-1&&this.rows.splice(e,1),this.groupManager.table.options.groupValues||this.rows.length?(t.parentNode&&t.parentNode.removeChild(t),this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this)):(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this),this.groupManager.updateGroupRows(!0))}removeGroup(s){var t,e=s.level+"_"+s.key;this.groups[e]&&(delete this.groups[e],(t=this.groupList.indexOf(s))>-1&&this.groupList.splice(t,1),this.groupList.length||(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this)))}getHeadersAndRows(s){var e=[];return e.push(this),this._visSet(),this.visible?this.groupList.length?this.groupList.forEach(function(t){e=e.concat(t.getHeadersAndRows(s))}):(!s&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),e=e.concat(this.rows),!s&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))):!this.groupList.length&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&(!s&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top))),!s&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom)))),e}getData(s,e){var t=[];return this._visSet(),(!s||s&&this.visible)&&this.rows.forEach(n=>{t.push(n.getData(e||"data"))}),t}getRowCount(){var s=0;return this.groupList.length?this.groupList.forEach(e=>{s+=e.getRowCount()}):s=this.rows.length,s}toggleVisibility(){this.visible?this.hide():this.show()}hide(){this.visible=!1,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination?this.groupManager.updateGroupRows(!0):(this.element.classList.remove("tabulator-group-visible"),this.groupList.length?this.groupList.forEach(s=>{s.getHeadersAndRows().forEach(t=>{t.detachElement()})}):this.rows.forEach(s=>{var e=s.getElement();e.parentNode.removeChild(e)}),this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex()),this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()),this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!1)}show(){if(this.visible=!0,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination)this.groupManager.updateGroupRows(!0);else{this.element.classList.add("tabulator-group-visible");var s=this.generateElement();this.groupList.length?this.groupList.forEach(e=>{e.getHeadersAndRows().forEach(n=>{var r=n.getElement();s.parentNode.insertBefore(r,s.nextSibling),n.initialize(),s=r})}):this.rows.forEach(e=>{var t=e.getElement();s.parentNode.insertBefore(t,s.nextSibling),e.initialize(),s=t}),this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex()),this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()}this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!0)}_visSet(){var s=[];"function"==typeof this.visible&&(this.rows.forEach(function(e){s.push(e.getData())}),this.visible=this.visible(this.key,this.getRowCount(),s,this.getComponent()))}getRowGroup(s){var e=!1;return this.groupList.length?this.groupList.forEach(function(t){var n=t.getRowGroup(s);n&&(e=n)}):this.rows.find(function(t){return t===s})&&(e=this),e}getSubGroups(s){var e=[];return this.groupList.forEach(function(t){e.push(s?t.getComponent():t)}),e}getRows(s){var e=[];return this.rows.forEach(function(t){e.push(s?t.getComponent():t)}),e}generateGroupHeaderContents(){var s=[];for(this.rows.forEach(function(e){s.push(e.getData())}),this.elementContents=this.generator(this.key,this.getRowCount(),s,this.getComponent());this.element.firstChild;)this.element.removeChild(this.element.firstChild);"string"==typeof this.elementContents?this.element.innerHTML=this.elementContents:this.element.appendChild(this.elementContents),this.element.insertBefore(this.arrowElement,this.element.firstChild)}getPath(s=[]){return s.unshift(this.key),this.parent&&this.parent.getPath(s),s}getElement(){return this.elementContents?this.element:this.generateElement()}generateElement(){this.addBindings=!1,this._visSet(),this.visible?this.element.classList.add("tabulator-group-visible"):this.element.classList.remove("tabulator-group-visible");for(var s=0;s<this.element.childNodes.length;++s)this.element.childNodes[s].parentNode.removeChild(this.element.childNodes[s]);return this.generateGroupHeaderContents(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}normalizeHeight(){this.setHeight(this.element.clientHeight)}initialize(s){(!this.initialized||s)&&(this.normalizeHeight(),this.initialized=!0)}reinitialize(){this.initialized=!1,this.height=0,B.elVisible(this.element)&&this.initialize(!0)}setHeight(s){this.height!=s&&(this.height=s,this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getGroup(){return this}reinitializeHeight(){}calcHeight(){}setCellHeight(){}clearCellHeight(){}deinitializeHeight(){}getComponent(){return this.component||(this.component=new Xt(this)),this.component}}let qt=(()=>{class c extends z{constructor(e){super(e),this.groupIDLookups=!1,this.startOpen=[function(){return!1}],this.headerGenerator=[function(){return""}],this.groupList=[],this.allowedValues=!1,this.groups={},this.displayIndex=0,this.displayHandler=this.getRows.bind(this),this.registerTableOption("groupBy",!1),this.registerTableOption("groupStartOpen",!0),this.registerTableOption("groupValues",!1),this.registerTableOption("groupUpdateOnCellEdit",!1),this.registerTableOption("groupHeader",!1),this.registerTableOption("groupHeaderPrint",null),this.registerTableOption("groupHeaderClipboard",null),this.registerTableOption("groupHeaderHtmlOutput",null),this.registerTableOption("groupHeaderDownload",null),this.registerTableOption("groupToggleElement","arrow"),this.registerTableOption("groupClosedShowCalcs",!1),this.registerTableFunction("setGroupBy",this.setGroupBy.bind(this)),this.registerTableFunction("setGroupValues",this.setGroupValues.bind(this)),this.registerTableFunction("setGroupStartOpen",this.setGroupStartOpen.bind(this)),this.registerTableFunction("setGroupHeader",this.setGroupHeader.bind(this)),this.registerTableFunction("getGroups",this.userGetGroups.bind(this)),this.registerTableFunction("getGroupedData",this.userGetGroupedData.bind(this)),this.registerComponentFunction("row","getGroup",this.rowGetGroup.bind(this))}initialize(){this.table.options.groupBy&&(this.table.options.groupUpdateOnCellEdit&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("row-data-changed",this.reassignRowToGroup.bind(this),0)),this.subscribe("table-built",this.configureGroupSetup.bind(this)),this.subscribe("row-deleting",this.rowDeleting.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHeaders.bind(this)),this.subscribe("rows-wipe",this.wipe.bind(this)),this.subscribe("rows-added",this.rowsUpdated.bind(this)),this.subscribe("row-moving",this.rowMoving.bind(this)),this.subscribe("row-adding-index",this.rowAddingIndex.bind(this)),this.subscribe("rows-sample",this.rowSample.bind(this)),this.subscribe("render-virtual-fill",this.virtualRenderFill.bind(this)),this.registerDisplayHandler(this.displayHandler,20),this.initialized=!0)}configureGroupSetup(){if(this.table.options.groupBy){var e=this.table.options.groupBy,t=this.table.options.groupStartOpen,n=this.table.options.groupHeader;this.allowedValues=this.table.options.groupValues,Array.isArray(e)&&Array.isArray(n)&&e.length>n.length&&console.warn("Error creating group headers, groupHeader array is shorter than groupBy array"),this.headerGenerator=[function(){return""}],this.startOpen=[function(){return!1}],this.langBind("groups|item",(l,h)=>{this.headerGenerator[0]=(d,m,f)=>(void 0===d?"":d)+"<span>("+m+" "+(1===m?l:h.groups.items)+")</span>"}),this.groupIDLookups=[],Array.isArray(e)||e?this.table.modExists("columnCalcs")&&"table"!=this.table.options.columnCalcs&&"both"!=this.table.options.columnCalcs&&this.table.modules.columnCalcs.removeCalcs():this.table.modExists("columnCalcs")&&"group"!=this.table.options.columnCalcs&&this.table.columnManager.getRealColumns().forEach(l=>{l.definition.topCalc&&this.table.modules.columnCalcs.initializeTopRow(),l.definition.bottomCalc&&this.table.modules.columnCalcs.initializeBottomRow()}),Array.isArray(e)||(e=[e]),e.forEach((l,h)=>{var d,m;d="function"==typeof l?l:(m=this.table.columnManager.getColumnByField(l))?function(f){return m.getFieldValue(f)}:function(f){return f[l]},this.groupIDLookups.push({field:"function"!=typeof l&&l,func:d,values:!!this.allowedValues&&this.allowedValues[h]})}),t&&(Array.isArray(t)||(t=[t]),t.forEach(l=>{}),this.startOpen=t),n&&(this.headerGenerator=Array.isArray(n)?n:[n])}}rowSample(e,t){var n=this.getGroups(!1)[0];return t.push(n.getRows(!1)[0]),t}virtualRenderFill(){var e=this.table.rowManager.tableElement,t=this.table.rowManager.getVisibleRows();t=t.filter(n=>"group"!==n.type),e.style.minWidth=t.length?"":this.table.columnManager.getWidth()+"px"}rowAddingIndex(e,t,n){this.assignRowToGroup(e);var r=e.modules.group.rows;return r.length>1&&(!t||t&&-1==r.indexOf(t)?n?r[0]!==e&&this.table.rowManager.moveRowInArray(e.modules.group.rows,e,t=r[0],!n):r[r.length-1]!==e&&this.table.rowManager.moveRowInArray(e.modules.group.rows,e,t=r[r.length-1],!n):this.table.rowManager.moveRowInArray(e.modules.group.rows,e,t,!n)),t}trackChanges(){this.dispatch("group-changed")}setGroupBy(e){this.table.options.groupBy=e,this.initialized?this.configureGroupSetup():this.initialize(),this.refreshData(),this.trackChanges()}setGroupValues(e){this.table.options.groupValues=e,this.configureGroupSetup(),this.refreshData(),this.trackChanges()}setGroupStartOpen(e){this.table.options.groupStartOpen=e,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}setGroupHeader(e){this.table.options.groupHeader=e,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}userGetGroups(e){return this.getGroups(!0)}userGetGroupedData(){return this.table.options.groupBy?this.getGroupedData():this.getData()}rowGetGroup(e){return!!e.modules.group&&e.modules.group.getComponent()}rowMoving(e,t,n){!n&&t instanceof xe&&(t=this.table.rowManager.prevDisplayRow(e)||t);var r=t instanceof xe?t:t.modules.group,l=e instanceof xe?e:e.modules.group;r===l?this.table.rowManager.moveRowInArray(r.rows,e,t,n):(l&&l.removeRow(e),r.insertRow(e,t,n))}rowDeleting(e){e.modules.group&&e.modules.group.removeRow(e)}rowsUpdated(e){this.updateGroupRows(!0)}cellUpdated(e){this.reassignRowToGroup(e.row)}setDisplayIndex(e){this.displayIndex=e}getDisplayIndex(){return this.displayIndex}getRows(e){return this.table.options.groupBy&&this.groupIDLookups.length?(this.dispatchExternal("dataGrouping"),this.generateGroups(e),this.subscribedExternal("dataGrouped")&&this.dispatchExternal("dataGrouped",this.getGroups(!0)),this.updateGroupRows()):e.slice(0)}getGroups(e){var t=[];return this.groupList.forEach(function(n){t.push(e?n.getComponent():n)}),t}getChildGroups(e){var t=[];return e||(e=this),e.groupList.forEach(n=>{n.groupList.length?t=t.concat(this.getChildGroups(n)):t.push(n)}),t}wipe(){this.groupList.forEach(function(e){e.wipe()})}pullGroupListData(e){var t=[];return e.forEach(n=>{var r={level:0,rowCount:0,headerContent:""},l=[];n.hasSubGroups?(l=this.pullGroupListData(n.groupList),r.level=n.level,r.rowCount=l.length-n.groupList.length,r.headerContent=n.generator(n.key,r.rowCount,n.rows,n),t.push(r),t=t.concat(l)):(r.level=n.level,r.headerContent=n.generator(n.key,n.rows.length,n.rows,n),r.rowCount=n.getRows().length,t.push(r),n.getRows().forEach(h=>{t.push(h.getData("data"))}))}),t}getGroupedData(){return this.pullGroupListData(this.groupList)}getRowGroup(e){var t=!1;return this.groupList.forEach(n=>{var r=n.getRowGroup(e);r&&(t=r)}),t}countGroups(){return this.groupList.length}generateGroups(e){var t=this.groups;this.groups={},this.groupList=[],this.allowedValues&&this.allowedValues[0]?(this.allowedValues[0].forEach(n=>{this.createGroup(n,0,t)}),e.forEach(n=>{this.assignRowToExistingGroup(n,t)})):e.forEach(n=>{this.assignRowToGroup(n,t)})}createGroup(e,t,n){var l,r=t+"_"+e;l=new xe(this,!1,t,e,this.groupIDLookups[0].field,this.headerGenerator[0],(n=n||[])[r]),this.groups[r]=l,this.groupList.push(l)}assignRowToExistingGroup(e,t){var r="0_"+this.groupIDLookups[0].func(e.getData());this.groups[r]&&this.groups[r].addRow(e)}assignRowToGroup(e,t){var n=this.groupIDLookups[0].func(e.getData()),r=!this.groups["0_"+n];return r&&this.createGroup(n,0,t),this.groups["0_"+n].addRow(e),!r}reassignRowToGroup(e){if("row"===e.type){var t=e.modules.group,n=t.getPath(),r=this.getExpectedPath(e);n.length==r.length&&n.every((h,d)=>h===r[d])||(t.removeRow(e),this.assignRowToGroup(e,this.groups),this.refreshData(!0))}}getExpectedPath(e){var t=[],n=e.getData();return this.groupIDLookups.forEach(r=>{t.push(r.func(n))}),t}updateGroupRows(e){var t=[];return this.groupList.forEach(n=>{t=t.concat(n.getHeadersAndRows())}),e&&this.refreshData(!0,this.displayHandler),t}scrollHeaders(e){"virtual"===this.table.options.renderHorizontal&&(e-=this.table.columnManager.renderer.vDomPadLeft),e+="px",this.groupList.forEach(t=>{t.scrollHeader(e)})}removeGroup(e){var n,t=e.level+"_"+e.key;this.groups[t]&&(delete this.groups[t],(n=this.groupList.indexOf(e))>-1&&this.groupList.splice(n,1))}}return c.moduleName="groupRows",c})();var Jt={cellEdit:function(c){c.component.setValueProcessData(c.data.oldValue),c.component.cellRendered()},rowAdd:function(c){c.component.deleteActual()},rowDelete:function(c){var s=this.table.rowManager.addRowActual(c.data.data,c.data.pos,c.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(c.component,s)},rowMove:function(c){this.table.rowManager.moveRowActual(c.component,this.table.rowManager.rows[c.data.posFrom],!c.data.after),this.table.rowManager.redraw()}},Yt={cellEdit:function(c){c.component.setValueProcessData(c.data.newValue),c.component.cellRendered()},rowAdd:function(c){var s=this.table.rowManager.addRowActual(c.data.data,c.data.pos,c.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(c.component,s)},rowDelete:function(c){c.component.deleteActual()},rowMove:function(c){this.table.rowManager.moveRowActual(c.component,this.table.rowManager.rows[c.data.posTo],c.data.after),this.table.rowManager.redraw()}};let Zt=(()=>{class c extends z{constructor(e){super(e),this.history=[],this.index=-1,this.registerTableOption("history",!1)}initialize(){this.table.options.history&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("cell-delete",this.clearComponentHistory.bind(this)),this.subscribe("row-delete",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clear.bind(this)),this.subscribe("row-added",this.rowAdded.bind(this)),this.subscribe("row-move",this.rowMoved.bind(this))),this.registerTableFunction("undo",this.undo.bind(this)),this.registerTableFunction("redo",this.redo.bind(this)),this.registerTableFunction("getHistoryUndoSize",this.getHistoryUndoSize.bind(this)),this.registerTableFunction("getHistoryRedoSize",this.getHistoryRedoSize.bind(this)),this.registerTableFunction("clearHistory",this.clear.bind(this))}rowMoved(e,t,n){this.action("rowMove",e,{posFrom:this.table.rowManager.getRowPosition(e),posTo:this.table.rowManager.getRowPosition(t),to:t,after:n})}rowAdded(e,t,n,r){this.action("rowAdd",e,{data:t,pos:n,index:r})}rowDeleted(e){var t,n;this.table.options.groupBy?(t=(n=e.getComponent().getGroup().rows).indexOf(e))&&(t=n[t-1]):(t=e.table.rowManager.getRowIndex(e))&&(t=e.table.rowManager.rows[t-1]),this.action("rowDelete",e,{data:e.getData(),pos:!t,index:t})}cellUpdated(e){this.action("cellEdit",e,{oldValue:e.oldValue,newValue:e.value})}clear(){this.history=[],this.index=-1}action(e,t,n){this.history=this.history.slice(0,this.index+1),this.history.push({type:e,component:t,data:n}),this.index++}getHistoryUndoSize(){return this.index+1}getHistoryRedoSize(){return this.history.length-(this.index+1)}clearComponentHistory(e){var t=this.history.findIndex(function(n){return n.component===e});t>-1&&(this.history.splice(t,1),t<=this.index&&this.index--,this.clearComponentHistory(e))}undo(){if(this.index>-1){let e=this.history[this.index];return c.undoers[e.type].call(this,e),this.index--,this.dispatchExternal("historyUndo",e.type,e.component.getComponent(),e.data),!0}return console.warn("History Undo Error - No more history to undo"),!1}redo(){if(this.history.length-1>this.index){this.index++;let e=this.history[this.index];return c.redoers[e.type].call(this,e),this.dispatchExternal("historyRedo",e.type,e.component.getComponent(),e.data),!0}return console.warn("History Redo Error - No more history to redo"),!1}_rebindRow(e,t){this.history.forEach(function(n){if(n.component instanceof ee)n.component===e&&(n.component=t);else if(n.component instanceof ke&&n.component.row===e){var r=n.component.column.getField();r&&(n.component=t.getCell(r))}})}}return c.moduleName="history",c.undoers=Jt,c.redoers=Yt,c})(),Ge=(()=>{class c extends z{constructor(e){super(e),this.fieldIndex=[],this.hasIndex=!1}initialize(){this.tableElementCheck()}tableElementCheck(){this.table.originalElement&&"TABLE"===this.table.originalElement.tagName&&this.parseTable()}parseTable(){var e=this.table.originalElement,t=this.table.options,r=e.getElementsByTagName("th"),l=e.getElementsByTagName("tbody")[0],h=[];this.hasIndex=!1,this.dispatchExternal("htmlImporting"),l=l?l.getElementsByTagName("tr"):[],this._extractOptions(e,t),r.length?this._extractHeaders(r,l):this._generateBlankHeaders(r,l);for(var d=0;d<l.length;d++){var f=l[d].getElementsByTagName("td"),b={};this.hasIndex||(b[t.index]=d);for(var C=0;C<f.length;C++)void 0!==this.fieldIndex[C]&&(b[this.fieldIndex[C]]=f[C].innerHTML);h.push(b)}t.data=h,this.dispatchExternal("htmlImported")}_extractOptions(e,t,n){var r=e.attributes,l=Object.keys(n||t),h={};for(var d in l.forEach(b=>{h[b.toLowerCase()]=b}),r){var f,m=r[d];m&&"object"==typeof m&&m.name&&0===m.name.indexOf("tabulator-")&&(f=m.name.replace("tabulator-",""),void 0!==h[f]&&(t[h[f]]=this._attribValue(m.value)))}}_attribValue(e){return"true"===e||"false"!==e&&e}_findCol(e){return this.table.options.columns.find(n=>n.title===e)||!1}_extractHeaders(e,t){for(var n=0;n<e.length;n++){var d,r=e[n],l=!1,h=this._findCol(r.textContent);h?l=!0:h={title:r.textContent.trim()},h.field||(h.field=r.textContent.trim().toLowerCase().replace(" ","_")),(d=r.getAttribute("width"))&&!h.width&&(h.width=d),this._extractOptions(r,h,this.table.columnManager.optionsList.registeredDefaults),this.fieldIndex[n]=h.field,h.field==this.table.options.index&&(this.hasIndex=!0),l||this.table.options.columns.push(h)}}_generateBlankHeaders(e,t){for(var n=0;n<e.length;n++){var r=e[n],l={title:"",field:"col"+n};this.fieldIndex[n]=l.field;var h=r.getAttribute("width");h&&(l.width=h),this.table.options.columns.push(l)}}}return c.moduleName="htmlTableImport",c})();var Ve={csv:function Qt(c){var s=[],e=0,t=0,n=!1;for(let r=0;r<c.length;r++){let l=c[r],h=c[r+1];s[e]||(s[e]=[]),s[e][t]||(s[e][t]=""),'"'==l&&n&&'"'==h?(s[e][t]+=l,r++):'"'!=l?","!=l||n?"\r"!=l||"\n"!=h||n?"\r"!=l&&"\n"!=l||n?s[e][t]+=l:(t=0,e++):(t=0,e++,r++):t++:n=!n}return s},json:function tt(c){try{return JSON.parse(c)}catch(s){return console.warn("JSON Import Error - File contents is invalid JSON",s),Promise.reject()}}};let ei=(()=>{class c extends z{constructor(e){super(e),this.registerTableOption("importFormat"),this.registerTableOption("importReader","text")}initialize(){this.registerTableFunction("import",this.importFromFile.bind(this)),this.table.options.importFormat&&(this.subscribe("data-loading",this.loadDataCheck.bind(this),10),this.subscribe("data-load",this.loadData.bind(this),10))}loadDataCheck(e){return"string"==typeof e}loadData(e,t,n,r,l){return this.importData(this.lookupImporter(),e).then(this.structureData.bind(this)).catch(h=>(console.error("Import Error:",h||"Unable to import data"),Promise.reject(h)))}lookupImporter(e){var t;return e||(e=this.table.options.importFormat),(t="string"==typeof e?c.importers[e]:e)||console.error("Import Error - Importer not found:",e),t}importFromFile(e,t){var n=this.lookupImporter(e);if(n)return this.pickFile(t).then(this.importData.bind(this,n)).then(this.structureData.bind(this)).then(this.setData.bind(this)).catch(r=>(console.error("Import Error:",r||"Unable to import file"),Promise.reject(r)))}pickFile(e){return new Promise((t,n)=>{var r=document.createElement("input");r.type="file",r.accept=e,r.addEventListener("change",l=>{var h=r.files[0],d=new FileReader;switch(this.table.options.importReader){case"buffer":d.readAsArrayBuffer(h);break;case"binary":d.readAsBinaryString(h);break;case"url":d.readAsDataURL(h);break;default:d.readAsText(h)}d.onload=m=>{t(d.result)},d.onerror=m=>{console.warn("File Load Error - Unable to read file"),n()}}),r.click()})}importData(e,t){var n=e.call(this.table,t);return n instanceof Promise?n:n?Promise.resolve(n):Promise.reject()}structureData(e){return Array.isArray(e)&&e.length&&Array.isArray(e[0])?this.table.options.autoColumns?this.structureArrayToObject(e):this.structureArrayToColumns(e):e}structureArrayToObject(e){var t=e.shift();return e.map(r=>{var l={};return t.forEach((h,d)=>{l[h]=r[d]}),l})}structureArrayToColumns(e){var t=[],n=this.table.getColumns();return n[0]&&e[0][0]&&n[0].getDefinition().title===e[0][0]&&e.shift(),e.forEach(r=>{var l={};r.forEach((h,d)=>{var m=n[d];m&&(l[m.getField()]=h)}),t.push(l)}),t}setData(e){return this.table.setData(e)}}return c.moduleName="import",c.importers=Ve,c})(),it=(()=>{class c extends z{constructor(e){super(e),this.eventMap={rowClick:"row-click",rowDblClick:"row-dblclick",rowContext:"row-contextmenu",rowMouseEnter:"row-mouseenter",rowMouseLeave:"row-mouseleave",rowMouseOver:"row-mouseover",rowMouseOut:"row-mouseout",rowMouseMove:"row-mousemove",rowTap:"row",rowDblTap:"row",rowTapHold:"row",cellClick:"cell-click",cellDblClick:"cell-dblclick",cellContext:"cell-contextmenu",cellMouseEnter:"cell-mouseenter",cellMouseLeave:"cell-mouseleave",cellMouseOver:"cell-mouseover",cellMouseOut:"cell-mouseout",cellMouseMove:"cell-mousemove",cellTap:"cell",cellDblTap:"cell",cellTapHold:"cell",headerClick:"column-click",headerDblClick:"column-dblclick",headerContext:"column-contextmenu",headerMouseEnter:"column-mouseenter",headerMouseLeave:"column-mouseleave",headerMouseOver:"column-mouseover",headerMouseOut:"column-mouseout",headerMouseMove:"column-mousemove",headerTap:"column",headerDblTap:"column",headerTapHold:"column",groupClick:"group-click",groupDblClick:"group-dblclick",groupContext:"group-contextmenu",groupMouseEnter:"group-mouseenter",groupMouseLeave:"group-mouseleave",groupMouseOver:"group-mouseover",groupMouseOut:"group-mouseout",groupMouseMove:"group-mousemove",groupTap:"group",groupDblTap:"group",groupTapHold:"group"},this.subscribers={},this.touchSubscribers={},this.columnSubscribers={},this.touchWatchers={row:{tap:null,tapDbl:null,tapHold:null},cell:{tap:null,tapDbl:null,tapHold:null},column:{tap:null,tapDbl:null,tapHold:null},group:{tap:null,tapDbl:null,tapHold:null}},this.registerColumnOption("headerClick"),this.registerColumnOption("headerDblClick"),this.registerColumnOption("headerContext"),this.registerColumnOption("headerMouseEnter"),this.registerColumnOption("headerMouseLeave"),this.registerColumnOption("headerMouseOver"),this.registerColumnOption("headerMouseOut"),this.registerColumnOption("headerMouseMove"),this.registerColumnOption("headerTap"),this.registerColumnOption("headerDblTap"),this.registerColumnOption("headerTapHold"),this.registerColumnOption("cellClick"),this.registerColumnOption("cellDblClick"),this.registerColumnOption("cellContext"),this.registerColumnOption("cellMouseEnter"),this.registerColumnOption("cellMouseLeave"),this.registerColumnOption("cellMouseOver"),this.registerColumnOption("cellMouseOut"),this.registerColumnOption("cellMouseMove"),this.registerColumnOption("cellTap"),this.registerColumnOption("cellDblTap"),this.registerColumnOption("cellTapHold")}initialize(){this.initializeExternalEvents(),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("cell-dblclick",this.cellContentsSelectionFixer.bind(this))}cellContentsSelectionFixer(e,t){if(!this.table.modExists("edit")||this.table.modules.edit.currentCell!==this){e.preventDefault();try{if(document.selection)(n=document.body.createTextRange()).moveToElementText(this.element),n.select();else if(window.getSelection){var n;(n=document.createRange()).selectNode(this.element),window.getSelection().removeAllRanges(),window.getSelection().addRange(n)}}catch{}}}initializeExternalEvents(){for(let e in this.eventMap)this.subscriptionChangeExternal(e,this.subscriptionChanged.bind(this,e))}subscriptionChanged(e,t){t?this.subscribers[e]||(this.eventMap[e].includes("-")?(this.subscribers[e]=this.handle.bind(this,e),this.subscribe(this.eventMap[e],this.subscribers[e])):this.subscribeTouchEvents(e)):this.eventMap[e].includes("-")?this.subscribers[e]&&!this.columnSubscribers[e]&&!this.subscribedExternal(e)&&(this.unsubscribe(this.eventMap[e],this.subscribers[e]),delete this.subscribers[e]):this.unsubscribeTouchEvents(e)}subscribeTouchEvents(e){var t=this.eventMap[e];this.touchSubscribers[t+"-touchstart"]||(this.touchSubscribers[t+"-touchstart"]=this.handleTouch.bind(this,t,"start"),this.touchSubscribers[t+"-touchend"]=this.handleTouch.bind(this,t,"end"),this.subscribe(t+"-touchstart",this.touchSubscribers[t+"-touchstart"]),this.subscribe(t+"-touchend",this.touchSubscribers[t+"-touchend"])),this.subscribers[e]=!0}unsubscribeTouchEvents(e){var t=!0,n=this.eventMap[e];if(this.subscribers[e]&&!this.subscribedExternal(e)){delete this.subscribers[e];for(let r in this.eventMap)this.eventMap[r]===n&&this.subscribers[r]&&(t=!1);t&&(this.unsubscribe(n+"-touchstart",this.touchSubscribers[n+"-touchstart"]),this.unsubscribe(n+"-touchend",this.touchSubscribers[n+"-touchend"]),delete this.touchSubscribers[n+"-touchstart"],delete this.touchSubscribers[n+"-touchend"])}}initializeColumn(e){var t=e.definition;for(let n in this.eventMap)t[n]&&(this.subscriptionChanged(n,!0),this.columnSubscribers[n]||(this.columnSubscribers[n]=[]),this.columnSubscribers[n].push(e))}handle(e,t,n){this.dispatchEvent(e,t,n)}handleTouch(e,t,n,r){var l=this.touchWatchers[e];switch("column"===e&&(e="header"),t){case"start":l.tap=!0,clearTimeout(l.tapHold),l.tapHold=setTimeout(()=>{clearTimeout(l.tapHold),l.tapHold=null,l.tap=null,clearTimeout(l.tapDbl),l.tapDbl=null,this.dispatchEvent(e+"TapHold",n,r)},1e3);break;case"end":l.tap&&(l.tap=null,this.dispatchEvent(e+"Tap",n,r)),l.tapDbl?(clearTimeout(l.tapDbl),l.tapDbl=null,this.dispatchEvent(e+"DblTap",n,r)):l.tapDbl=setTimeout(()=>{clearTimeout(l.tapDbl),l.tapDbl=null},300),clearTimeout(l.tapHold),l.tapHold=null}}dispatchEvent(e,t,n){var l,r=n.getComponent();this.columnSubscribers[e]&&(n instanceof ke?l=n.column.definition[e]:n instanceof Ce&&(l=n.definition[e]),l&&l(t,r)),this.dispatchExternal(e,t,r)}}return c.moduleName="interaction",c})();var ti={navPrev:"shift + 9",navNext:9,navUp:38,navDown:40,scrollPageUp:33,scrollPageDown:34,scrollToStart:36,scrollToEnd:35,undo:["ctrl + 90","meta + 90"],redo:["ctrl + 89","meta + 89"],copyToClipboard:["ctrl + 67","meta + 89"]},ii={keyBlock:function(c){c.stopPropagation(),c.preventDefault()},scrollPageUp:function(c){var s=this.table.rowManager,e=s.scrollTop-s.element.clientHeight;c.preventDefault(),s.displayRowsCount&&(e>=0?s.element.scrollTop=e:s.scrollToRow(s.getDisplayRows()[0])),this.table.element.focus()},scrollPageDown:function(c){var s=this.table.rowManager,e=s.scrollTop+s.element.clientHeight,t=s.element.scrollHeight;c.preventDefault(),s.displayRowsCount&&(e<=t?s.element.scrollTop=e:s.scrollToRow(s.getDisplayRows()[s.displayRowsCount-1])),this.table.element.focus()},scrollToStart:function(c){var s=this.table.rowManager;c.preventDefault(),s.displayRowsCount&&s.scrollToRow(s.getDisplayRows()[0]),this.table.element.focus()},scrollToEnd:function(c){var s=this.table.rowManager;c.preventDefault(),s.displayRowsCount&&s.scrollToRow(s.getDisplayRows()[s.displayRowsCount-1]),this.table.element.focus()},navPrev:function(c){this.dispatch("keybinding-nav-prev",c)},navNext:function(c){this.dispatch("keybinding-nav-next",c)},navLeft:function(c){this.dispatch("keybinding-nav-left",c)},navRight:function(c){this.dispatch("keybinding-nav-right",c)},navUp:function(c){this.dispatch("keybinding-nav-up",c)},navDown:function(c){this.dispatch("keybinding-nav-down",c)},undo:function(c){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(c.preventDefault(),this.table.modules.history.undo()))},redo:function(c){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(c.preventDefault(),this.table.modules.history.redo()))},copyToClipboard:function(c){this.table.modules.edit.currentCell||this.table.modExists("clipboard",!0)&&this.table.modules.clipboard.copy(!1,!0)}};let ge=(()=>{class c extends z{constructor(e){super(e),this.watchKeys=null,this.pressedKeys=null,this.keyupBinding=!1,this.keydownBinding=!1,this.registerTableOption("keybindings",{}),this.registerTableOption("tabEndNewRow",!1)}initialize(){var e=this.table.options.keybindings,t={};this.watchKeys={},this.pressedKeys=[],!1!==e&&(Object.assign(t,c.bindings),Object.assign(t,e),this.mapBindings(t),this.bindEvents()),this.subscribe("table-destroy",this.clearBindings.bind(this))}mapBindings(e){for(let t in e)c.actions[t]?e[t]&&("object"!=typeof e[t]&&(e[t]=[e[t]]),e[t].forEach(n=>{(Array.isArray(n)?n:[n]).forEach(l=>{this.mapBinding(t,l)})})):console.warn("Key Binding Error - no such action:",t)}mapBinding(e,t){var n={action:c.actions[e],keys:[],ctrl:!1,shift:!1,meta:!1};t.toString().toLowerCase().split(" ").join("").split("+").forEach(l=>{switch(l){case"ctrl":n.ctrl=!0;break;case"shift":n.shift=!0;break;case"meta":n.meta=!0;break;default:l=isNaN(l)?l.toUpperCase().charCodeAt(0):parseInt(l),n.keys.push(l),this.watchKeys[l]||(this.watchKeys[l]=[]),this.watchKeys[l].push(n)}})}bindEvents(){var e=this;this.keyupBinding=function(t){var n=t.keyCode,r=e.watchKeys[n];r&&(e.pressedKeys.push(n),r.forEach(function(l){e.checkBinding(t,l)}))},this.keydownBinding=function(t){var n=t.keyCode;if(e.watchKeys[n]){var l=e.pressedKeys.indexOf(n);l>-1&&e.pressedKeys.splice(l,1)}},this.table.element.addEventListener("keydown",this.keyupBinding),this.table.element.addEventListener("keyup",this.keydownBinding)}clearBindings(){this.keyupBinding&&this.table.element.removeEventListener("keydown",this.keyupBinding),this.keydownBinding&&this.table.element.removeEventListener("keyup",this.keydownBinding)}checkBinding(e,t){var n=!0;return e.ctrlKey==t.ctrl&&e.shiftKey==t.shift&&e.metaKey==t.meta&&(t.keys.forEach(r=>{-1==this.pressedKeys.indexOf(r)&&(n=!1)}),n&&t.action.call(this,e),!0)}}return c.moduleName="keybindings",c.bindings=ti,c.actions=ii,c})(),Te=(()=>{class c extends z{constructor(e){super(e),this.menuContainer=null,this.menuElements=[],this.blurEvent=this.hideMenu.bind(this),this.escEvent=this.escMenu.bind(this),this.nestedMenuBlock=!1,this.positionReversedX=!1,this.currentComponent=null,this.columnSubscribers={},this.registerTableOption("rowContextMenu",!1),this.registerTableOption("rowClickMenu",!1),this.registerTableOption("groupContextMenu",!1),this.registerTableOption("groupClickMenu",!1),this.registerTableOption("menuContainer",!1),this.registerColumnOption("headerContextMenu"),this.registerColumnOption("headerClickMenu"),this.registerColumnOption("headerMenu"),this.registerColumnOption("contextMenu"),this.registerColumnOption("clickMenu")}initialize(){this.lookupMenuContainer(),this.initializeRowWatchers(),this.initializeGroupWatchers(),this.subscribe("column-init",this.initializeColumn.bind(this))}lookupMenuContainer(){this.menuContainer=this.table.options.menuContainer,"string"==typeof this.menuContainer?(this.menuContainer=document.querySelector(this.menuContainer),this.menuContainer||console.warn("Menu Error - no container element found matching selector:",this.table.options.menuContainer,"(defaulting to document body)")):!0===this.menuContainer&&(this.menuContainer=this.table.element),this.menuContainer&&!this.checkMenuContainerIsParent(this.menuContainer)&&(this.menuContainer=!1,console.warn("Menu Error - container element does not contain this table:",this.table.options.menuContainer,"(defaulting to document body)")),this.menuContainer||(this.menuContainer=document.body)}checkMenuContainerIsParent(e,t=this.table.element){return e===t||!!t.parentNode&&this.checkMenuContainerIsParent(e,t.parentNode)}initializeRowWatchers(){this.table.options.rowContextMenu&&(this.subscribe("row-contextmenu",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu)),this.table.on("rowTapHold",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu))),this.table.options.rowClickMenu&&this.subscribe("row-click",this.loadMenuEvent.bind(this,this.table.options.rowClickMenu))}initializeGroupWatchers(){this.table.options.groupContextMenu&&(this.subscribe("group-contextmenu",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu)),this.table.on("groupTapHold",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu))),this.table.options.groupClickMenu&&this.subscribe("group-click",this.loadMenuEvent.bind(this,this.table.options.groupClickMenu))}initializeColumn(e){var t=e.definition;t.headerContextMenu&&!this.columnSubscribers.headerContextMenu&&(this.columnSubscribers.headerContextMenu=this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"),this.subscribe("column-contextmenu",this.columnSubscribers.headerContextMenu),this.table.on("headerTapHold",this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"))),t.headerClickMenu&&!this.columnSubscribers.headerClickMenu&&(this.columnSubscribers.headerClickMenu=this.loadMenuTableColumnEvent.bind(this,"headerClickMenu"),this.subscribe("column-click",this.columnSubscribers.headerClickMenu)),t.headerMenu&&this.initializeColumnHeaderMenu(e),t.contextMenu&&!this.columnSubscribers.contextMenu&&(this.columnSubscribers.contextMenu=this.loadMenuTableCellEvent.bind(this,"contextMenu"),this.subscribe("cell-contextmenu",this.columnSubscribers.contextMenu),this.table.on("cellTapHold",this.loadMenuTableCellEvent.bind(this,"contextMenu"))),t.clickMenu&&!this.columnSubscribers.clickMenu&&(this.columnSubscribers.clickMenu=this.loadMenuTableCellEvent.bind(this,"clickMenu"),this.subscribe("cell-click",this.columnSubscribers.clickMenu))}initializeColumnHeaderMenu(e){var t;(t=document.createElement("span")).classList.add("tabulator-header-menu-button"),t.innerHTML="&vellip;",t.addEventListener("click",n=>{n.stopPropagation(),n.preventDefault(),this.loadMenuEvent(e.definition.headerMenu,n,e)}),e.titleElement.insertBefore(t,e.titleElement.firstChild)}loadMenuTableCellEvent(e,t,n){n._cell&&(n=n._cell),n.column.definition[e]&&this.loadMenuEvent(n.column.definition[e],t,n)}loadMenuTableColumnEvent(e,t,n){n._column&&(n=n._column),n.definition[e]&&this.loadMenuEvent(n.definition[e],t,n)}loadMenuEvent(e,t,n){n._group?n=n._group:n._row&&(n=n._row),e="function"==typeof e?e.call(this.table,n.getComponent(),t):e,this.loadMenu(t,n,e)}loadMenu(e,t,n,r){var l=!(e instanceof MouseEvent),h=document.createElement("div");if(h.classList.add("tabulator-menu"),l||e.preventDefault(),n&&n.length){if(!r){if(this.nestedMenuBlock){if(this.isOpen())return}else this.nestedMenuBlock=setTimeout(()=>{this.nestedMenuBlock=!1},100);this.hideMenu(),this.menuElements=[]}n.forEach(d=>{var m=document.createElement("div"),f=d.label,b=d.disabled;d.separator?m.classList.add("tabulator-menu-separator"):(m.classList.add("tabulator-menu-item"),"function"==typeof f&&(f=f.call(this.table,t.getComponent())),f instanceof Node?m.appendChild(f):m.innerHTML=f,"function"==typeof b&&(b=b.call(this.table,t.getComponent())),b?(m.classList.add("tabulator-menu-item-disabled"),m.addEventListener("click",C=>{C.stopPropagation()})):d.menu&&d.menu.length?m.addEventListener("click",C=>{C.stopPropagation(),this.hideOldSubMenus(h),this.loadMenu(C,t,d.menu,m)}):d.action&&m.addEventListener("click",C=>{d.action(C,t.getComponent())}),d.menu&&d.menu.length&&m.classList.add("tabulator-menu-item-submenu")),h.appendChild(m)}),h.addEventListener("click",d=>{this.hideMenu()}),this.menuElements.push(h),this.positionMenu(h,r,l,e),this.currentComponent=t,this.dispatchExternal("menuOpened",t.getComponent())}}hideOldSubMenus(e){var t=this.menuElements.indexOf(e);if(t>-1)for(let r=this.menuElements.length-1;r>t;r--){var n=this.menuElements[r];n.parentNode&&n.parentNode.removeChild(n),this.menuElements.pop()}}positionMenu(e,t,n,r){var l,h,d;t?(l=(d=B.elOffset(t)).left+t.offsetWidth,h=d.top-1):(l=n?r.touches[0].pageX:r.pageX,h=n?r.touches[0].pageY:r.pageY,this.menuContainer!==document.body&&(l-=(d=B.elOffset(this.menuContainer)).left,h-=d.top),this.positionReversedX=!1),e.style.top=h+"px",e.style.left=l+"px",setTimeout(()=>{this.table.rowManager.element.addEventListener("scroll",this.blurEvent),document.body.addEventListener("click",this.blurEvent),document.body.addEventListener("contextmenu",this.blurEvent),window.addEventListener("resize",this.blurEvent),document.body.addEventListener("keydown",this.escEvent)},100),this.menuContainer.appendChild(e),(l+e.offsetWidth>=this.menuContainer.offsetWidth||this.positionReversedX)&&(e.style.left="",e.style.right=t?this.menuContainer.offsetWidth-d.left+"px":this.menuContainer.offsetWidth-l+"px",this.positionReversedX=!0),h+e.offsetHeight>=this.menuContainer.offsetHeight&&(e.style.top="",e.style.bottom=t?this.menuContainer.offsetHeight-d.top-t.offsetHeight-1+"px":this.menuContainer.offsetHeight-h+"px")}isOpen(){return!!this.menuElements.length}escMenu(e){27==e.keyCode&&this.hideMenu()}hideMenu(){this.menuElements.forEach(e=>{e.parentNode&&e.parentNode.removeChild(e)}),document.body.removeEventListener("keydown",this.escEvent),document.body.removeEventListener("click",this.blurEvent),document.body.removeEventListener("contextmenu",this.blurEvent),window.removeEventListener("resize",this.blurEvent),this.table.rowManager.element.removeEventListener("scroll",this.blurEvent),this.currentComponent&&(this.dispatchExternal("menuClosed",this.currentComponent.getComponent()),this.currentComponent=null)}}return c.moduleName="menu",c})(),nt=(()=>{class c extends z{constructor(e){super(e),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=250,this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.startX=0,this.autoScrollMargin=40,this.autoScrollStep=5,this.autoScrollTimeout=!1,this.touchMove=!1,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.registerTableOption("movableColumns",!1)}createPlaceholderElement(){var e=document.createElement("div");return e.classList.add("tabulator-col"),e.classList.add("tabulator-col-placeholder"),e}initialize(){this.table.options.movableColumns&&this.subscribe("column-init",this.initializeColumn.bind(this))}initializeColumn(e){var r,t=this,n={};e.modules.frozen||(r=e.getElement(),n.mousemove=function(l){e.parent===t.moving.parent&&((t.touchMove?l.touches[0].pageX:l.pageX)-B.elOffset(r).left+t.table.columnManager.element.scrollLeft>e.getWidth()/2?(t.toCol!==e||!t.toColAfter)&&(r.parentNode.insertBefore(t.placeholderElement,r.nextSibling),t.moveColumn(e,!0)):(t.toCol!==e||t.toColAfter)&&(r.parentNode.insertBefore(t.placeholderElement,r),t.moveColumn(e,!1)))}.bind(t),r.addEventListener("mousedown",function(l){t.touchMove=!1,1===l.which&&(t.checkTimeout=setTimeout(function(){t.startMove(l,e)},t.checkPeriod))}),r.addEventListener("mouseup",function(l){1===l.which&&t.checkTimeout&&clearTimeout(t.checkTimeout)}),t.bindTouchEvents(e)),e.modules.moveColumn=n}bindTouchEvents(e){var r,l,h,d,m,f,t=e.getElement(),n=!1;t.addEventListener("touchstart",b=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,r=e.nextColumn(),h=r?r.getWidth()/2:0,l=e.prevColumn(),d=l?l.getWidth()/2:0,m=0,f=0,n=!1,this.startMove(b,e)},this.checkPeriod)},{passive:!0}),t.addEventListener("touchmove",b=>{var C,w;this.moving&&(this.moveHover(b),n||(n=b.touches[0].pageX),(C=b.touches[0].pageX-n)>0?r&&C-m>h&&(w=r)!==e&&(n=b.touches[0].pageX,w.getElement().parentNode.insertBefore(this.placeholderElement,w.getElement().nextSibling),this.moveColumn(w,!0)):l&&-C-f>d&&(w=l)!==e&&(n=b.touches[0].pageX,w.getElement().parentNode.insertBefore(this.placeholderElement,w.getElement()),this.moveColumn(w,!1)),w&&(r=w.nextColumn(),m=h,h=r?r.getWidth()/2:0,l=w.prevColumn(),f=d,d=l?l.getWidth()/2:0))},{passive:!0}),t.addEventListener("touchend",b=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&this.endMove(b)})}startMove(e,t){var n=t.getElement(),r=this.table.columnManager.getElement(),l=this.table.columnManager.getHeadersElement();this.moving=t,this.startX=(this.touchMove?e.touches[0].pageX:e.pageX)-B.elOffset(n).left,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=t.getWidth()+"px",this.placeholderElement.style.height=t.getHeight()+"px",n.parentNode.insertBefore(this.placeholderElement,n),n.parentNode.removeChild(n),this.hoverElement=n.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.table.columnManager.getElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.bottom=r.clientHeight-l.offsetHeight+"px",this.touchMove||(this._bindMouseMove(),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove)),this.moveHover(e)}_bindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(e){e.modules.moveColumn.mousemove&&e.getElement().addEventListener("mousemove",e.modules.moveColumn.mousemove)})}_unbindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(e){e.modules.moveColumn.mousemove&&e.getElement().removeEventListener("mousemove",e.modules.moveColumn.mousemove)})}moveColumn(e,t){var n=this.moving.getCells();this.toCol=e,this.toColAfter=t,t?e.getCells().forEach(function(r,l){var h=r.getElement(!0);h.parentNode&&n[l]&&h.parentNode.insertBefore(n[l].getElement(),h.nextSibling)}):e.getCells().forEach(function(r,l){var h=r.getElement(!0);h.parentNode&&n[l]&&h.parentNode.insertBefore(n[l].getElement(),h)})}endMove(e){(1===e.which||this.touchMove)&&(this._unbindMouseMove(),this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toCol&&this.table.columnManager.moveColumnActual(this.moving,this.toCol,this.toColAfter),this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.touchMove||(document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove)))}moveHover(e){var l,t=this.table.columnManager.getElement(),n=t.scrollLeft,r=(this.touchMove?e.touches[0].pageX:e.pageX)-B.elOffset(t).left+n;this.hoverElement.style.left=r-this.startX+"px",r-n<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{l=Math.max(0,n-5),this.table.rowManager.getElement().scrollLeft=l,this.autoScrollTimeout=!1},1))),n+t.clientWidth-r<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{l=Math.min(t.clientWidth,n+5),this.table.rowManager.getElement().scrollLeft=l,this.autoScrollTimeout=!1},1)))}}return c.moduleName="moveColumn",c})();class Se extends z{constructor(s){super(s),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=150,this.moving=!1,this.toRow=!1,this.toRowAfter=!1,this.hasHandle=!1,this.startY=0,this.startX=0,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.tableRowDropEvent=!1,this.touchMove=!1,this.connection=!1,this.connectionSelectorsTables=!1,this.connectionSelectorsElements=!1,this.connectionElements=[],this.connections=[],this.connectedTable=!1,this.connectedRow=!1,this.registerTableOption("movableRows",!1),this.registerTableOption("movableRowsConnectedTables",!1),this.registerTableOption("movableRowsConnectedElements",!1),this.registerTableOption("movableRowsSender",!1),this.registerTableOption("movableRowsReceiver","insert"),this.registerColumnOption("rowHandle")}createPlaceholderElement(){var s=document.createElement("div");return s.classList.add("tabulator-row"),s.classList.add("tabulator-row-placeholder"),s}initialize(){this.table.options.movableRows&&(this.connectionSelectorsTables=this.table.options.movableRowsConnectedTables,this.connectionSelectorsElements=this.table.options.movableRowsConnectedElements,this.connection=this.connectionSelectorsTables||this.connectionSelectorsElements,this.subscribe("cell-init",this.initializeCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)))}initializeGroupHeader(s){var e=this,t={};t.mouseup=function(n){e.tableRowDrop(n,row)}.bind(e),t.mousemove=function(n){if(n.pageY-B.elOffset(s.element).top+e.table.rowManager.element.scrollTop>s.getHeight()/2)e.toRow===s&&e.toRowAfter||((r=s.getElement()).parentNode.insertBefore(e.placeholderElement,r.nextSibling),e.moveRow(s,!0));else if(e.toRow!==s||e.toRowAfter){var r;(r=s.getElement()).previousSibling&&(r.parentNode.insertBefore(e.placeholderElement,r),e.moveRow(s,!1))}}.bind(e),s.modules.moveRow=t}initializeRow(s){var n,e=this,t={};t.mouseup=function(r){e.tableRowDrop(r,s)}.bind(e),t.mousemove=function(r){var l=s.getElement();r.pageY-B.elOffset(l).top+e.table.rowManager.element.scrollTop>s.getHeight()/2?(e.toRow!==s||!e.toRowAfter)&&(l.parentNode.insertBefore(e.placeholderElement,l.nextSibling),e.moveRow(s,!0)):(e.toRow!==s||e.toRowAfter)&&(l.parentNode.insertBefore(e.placeholderElement,l),e.moveRow(s,!1))}.bind(e),this.hasHandle||((n=s.getElement()).addEventListener("mousedown",function(r){1===r.which&&(e.checkTimeout=setTimeout(function(){e.startMove(r,s)},e.checkPeriod))}),n.addEventListener("mouseup",function(r){1===r.which&&e.checkTimeout&&clearTimeout(e.checkTimeout)}),this.bindTouchEvents(s,s.getElement())),s.modules.moveRow=t}initializeColumn(s){s.definition.rowHandle&&!1!==this.table.options.movableRows&&(this.hasHandle=!0)}initializeCell(s){if(s.column.definition.rowHandle&&!1!==this.table.options.movableRows){var e=this,t=s.getElement(!0);t.addEventListener("mousedown",function(n){1===n.which&&(e.checkTimeout=setTimeout(function(){e.startMove(n,s.row)},e.checkPeriod))}),t.addEventListener("mouseup",function(n){1===n.which&&e.checkTimeout&&clearTimeout(e.checkTimeout)}),this.bindTouchEvents(s.row,t)}}bindTouchEvents(s,e){var n,r,l,h,d,m,t=!1;e.addEventListener("touchstart",f=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,n=s.nextRow(),l=n?n.getHeight()/2:0,r=s.prevRow(),h=r?r.getHeight()/2:0,d=0,m=0,t=!1,this.startMove(f,s)},this.checkPeriod)},{passive:!0}),e.addEventListener("touchmove",f=>{var b,C;this.moving&&(f.preventDefault(),this.moveHover(f),t||(t=f.touches[0].pageY),(b=f.touches[0].pageY-t)>0?n&&b-d>l&&(C=n)!==s&&(t=f.touches[0].pageY,C.getElement().parentNode.insertBefore(this.placeholderElement,C.getElement().nextSibling),this.moveRow(C,!0)):r&&-b-m>h&&(C=r)!==s&&(t=f.touches[0].pageY,C.getElement().parentNode.insertBefore(this.placeholderElement,C.getElement()),this.moveRow(C,!1)),C&&(n=C.nextRow(),d=l,l=n?n.getHeight()/2:0,r=C.prevRow(),m=h,h=r?r.getHeight()/2:0))}),e.addEventListener("touchend",f=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&(this.endMove(f),this.touchMove=!1)})}_bindMouseMove(){this.table.rowManager.getDisplayRows().forEach(s=>{("row"===s.type||"group"===s.type)&&s.modules.moveRow&&s.modules.moveRow.mousemove&&s.getElement().addEventListener("mousemove",s.modules.moveRow.mousemove)})}_unbindMouseMove(){this.table.rowManager.getDisplayRows().forEach(s=>{("row"===s.type||"group"===s.type)&&s.modules.moveRow&&s.modules.moveRow.mousemove&&s.getElement().removeEventListener("mousemove",s.modules.moveRow.mousemove)})}startMove(s,e){var t=e.getElement();this.setStartPosition(s,e),this.moving=e,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=e.getWidth()+"px",this.placeholderElement.style.height=e.getHeight()+"px",this.connection?(this.table.element.classList.add("tabulator-movingrow-sending"),this.connectToTables(e)):(t.parentNode.insertBefore(this.placeholderElement,t),t.parentNode.removeChild(t)),this.hoverElement=t.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.connection?(document.body.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this.hoverElement.style.width=this.table.element.clientWidth+"px",this.hoverElement.style.whiteSpace="nowrap",this.hoverElement.style.overflow="hidden",this.hoverElement.style.pointerEvents="none"):(this.table.rowManager.getTableElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this._bindMouseMove()),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove),this.dispatchExternal("rowMoving",e.getComponent()),this.moveHover(s)}setStartPosition(s,e){var r,l,t=this.touchMove?s.touches[0].pageX:s.pageX,n=this.touchMove?s.touches[0].pageY:s.pageY;r=e.getElement(),this.connection?(l=r.getBoundingClientRect(),this.startX=l.left-t+window.pageXOffset,this.startY=l.top-n+window.pageYOffset):this.startY=n-r.getBoundingClientRect().top}endMove(s){(!s||1===s.which||this.touchMove)&&(this._unbindMouseMove(),this.connection||(this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement)),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toRow?this.table.rowManager.moveRow(this.moving,this.toRow,this.toRowAfter):this.dispatchExternal("rowMoveCancelled",this.moving.getComponent()),this.moving=!1,this.toRow=!1,this.toRowAfter=!1,document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove),this.connection&&(this.table.element.classList.remove("tabulator-movingrow-sending"),this.disconnectFromTables()))}moveRow(s,e){this.toRow=s,this.toRowAfter=e}moveHover(s){this.connection?this.moveHoverConnections.call(this,s):this.moveHoverTable.call(this,s)}moveHoverTable(s){var e=this.table.rowManager.getElement(),t=e.scrollTop,n=(this.touchMove?s.touches[0].pageY:s.pageY)-e.getBoundingClientRect().top+t;this.hoverElement.style.top=n-this.startY+"px"}moveHoverConnections(s){this.hoverElement.style.left=this.startX+(this.touchMove?s.touches[0].pageX:s.pageX)+"px",this.hoverElement.style.top=this.startY+(this.touchMove?s.touches[0].pageY:s.pageY)+"px"}elementRowDrop(s,e,t){this.dispatchExternal("movableRowsElementDrop",s,e,!!t&&t.getComponent())}connectToTables(s){var e;this.connectionSelectorsTables&&(e=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStart",e),this.commsSend(this.connectionSelectorsTables,"moveRow","connect",{row:s})),this.connectionSelectorsElements&&(this.connectionElements=[],Array.isArray(this.connectionSelectorsElements)||(this.connectionSelectorsElements=[this.connectionSelectorsElements]),this.connectionSelectorsElements.forEach(t=>{"string"==typeof t?this.connectionElements=this.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(t))):this.connectionElements.push(t)}),this.connectionElements.forEach(t=>{var n=r=>{this.elementRowDrop(r,t,this.moving)};t.addEventListener("mouseup",n),t.tabulatorElementDropEvent=n,t.classList.add("tabulator-movingrow-receiving")}))}disconnectFromTables(){var s;this.connectionSelectorsTables&&(s=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStop",s),this.commsSend(this.connectionSelectorsTables,"moveRow","disconnect")),this.connectionElements.forEach(e=>{e.classList.remove("tabulator-movingrow-receiving"),e.removeEventListener("mouseup",e.tabulatorElementDropEvent),delete e.tabulatorElementDropEvent})}connect(s,e){return this.connectedTable?(console.warn("Move Row Error - Table cannot accept connection, already connected to table:",this.connectedTable),!1):(this.connectedTable=s,this.connectedRow=e,this.table.element.classList.add("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(t=>{"row"===t.type&&t.modules.moveRow&&t.modules.moveRow.mouseup&&t.getElement().addEventListener("mouseup",t.modules.moveRow.mouseup)}),this.tableRowDropEvent=this.tableRowDrop.bind(this),this.table.element.addEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStart",e,s),!0)}disconnect(s){s===this.connectedTable?(this.connectedTable=!1,this.connectedRow=!1,this.table.element.classList.remove("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(e=>{"row"===e.type&&e.modules.moveRow&&e.modules.moveRow.mouseup&&e.getElement().removeEventListener("mouseup",e.modules.moveRow.mouseup)}),this.table.element.removeEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStop",s)):console.warn("Move Row Error - trying to disconnect from non connected table")}dropComplete(s,e,t){var n=!1;if(t){switch(typeof this.table.options.movableRowsSender){case"string":n=this.senders[this.table.options.movableRowsSender];break;case"function":n=this.table.options.movableRowsSender}n?n.call(this,this.moving.getComponent(),e?e.getComponent():void 0,s):this.table.options.movableRowsSender&&console.warn("Mover Row Error - no matching sender found:",this.table.options.movableRowsSender),this.dispatchExternal("movableRowsSent",this.moving.getComponent(),e?e.getComponent():void 0,s)}else this.dispatchExternal("movableRowsSentFailed",this.moving.getComponent(),e?e.getComponent():void 0,s);this.endMove()}tableRowDrop(s,e){var t=!1,n=!1;switch(s.stopImmediatePropagation(),typeof this.table.options.movableRowsReceiver){case"string":t=this.receivers[this.table.options.movableRowsReceiver];break;case"function":t=this.table.options.movableRowsReceiver}t?n=t.call(this,this.connectedRow.getComponent(),e?e.getComponent():void 0,this.connectedTable):console.warn("Mover Row Error - no matching receiver found:",this.table.options.movableRowsReceiver),this.dispatchExternal(n?"movableRowsReceived":"movableRowsReceivedFailed",this.connectedRow.getComponent(),e?e.getComponent():void 0,this.connectedTable),this.commsSend(this.connectedTable,"moveRow","dropcomplete",{row:e,success:n})}commsReceived(s,e,t){switch(e){case"connect":return this.connect(s,t.row);case"disconnect":return this.disconnect(s);case"dropcomplete":return this.dropComplete(s,t.row,t.success)}}}Se.prototype.receivers={insert:function(c,s,e){return this.table.addRow(c.getData(),void 0,s),!0},add:function(c,s,e){return this.table.addRow(c.getData()),!0},update:function(c,s,e){return!!s&&(s.update(c.getData()),!0)},replace:function(c,s,e){return!!s&&(this.table.addRow(c.getData(),void 0,s),s.delete(),!0)}},Se.prototype.senders={delete:function(c,s,e){c.delete()}},Se.moduleName="moveRow";var st={};let ni=(()=>{class c extends z{constructor(e){super(e),this.allowedTypes=["","data","edit","clipboard"],this.enabled=!0,this.registerColumnOption("mutator"),this.registerColumnOption("mutatorParams"),this.registerColumnOption("mutatorData"),this.registerColumnOption("mutatorDataParams"),this.registerColumnOption("mutatorEdit"),this.registerColumnOption("mutatorEditParams"),this.registerColumnOption("mutatorClipboard"),this.registerColumnOption("mutatorClipboardParams")}initialize(){this.subscribe("cell-value-changing",this.transformCell.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-init-before",this.rowDataChanged.bind(this)),this.subscribe("row-data-changing",this.rowDataChanged.bind(this))}rowDataChanged(e,t,n){return this.transformRow(t,"data",n)}initializeColumn(e){var t=!1,n={};this.allowedTypes.forEach(r=>{var h,l="mutator"+(r.charAt(0).toUpperCase()+r.slice(1));e.definition[l]&&(h=this.lookupMutator(e.definition[l]))&&(t=!0,n[l]={mutator:h,params:e.definition[l+"Params"]||{}})}),t&&(e.modules.mutate=n)}lookupMutator(e){var t=!1;switch(typeof e){case"string":c.mutators[e]?t=c.mutators[e]:console.warn("Mutator Error - No such mutator found, ignoring: ",e);break;case"function":t=e}return t}transformRow(e,t,n){var l,r="mutator"+(t.charAt(0).toUpperCase()+t.slice(1));return this.enabled&&this.table.columnManager.traverse(h=>{var d,m,f;h.modules.mutate&&(d=h.modules.mutate[r]||h.modules.mutate.mutator||!1)&&(l=h.getFieldValue(void 0!==n?n:e),("data"==t||void 0!==l)&&(f=h.getComponent(),m="function"==typeof d.params?d.params(l,e,t,f):d.params,h.setFieldValue(e,d.mutator(l,e,t,m,f))))}),e}transformCell(e,t){if(e.column.modules.mutate){var n=e.column.modules.mutate.mutatorEdit||e.column.modules.mutate.mutator||!1,r={};if(n)return r=Object.assign(r,e.row.getData()),e.column.setFieldValue(r,t),n.mutator(t,r,"edit",n.params,e.getComponent())}return t}enable(){this.enabled=!0}disable(){this.enabled=!1}}return c.moduleName="mutator",c.mutators=st,c})();var ri={rows:function si(c,s,e,t,n){var r=document.createElement("span"),l=document.createElement("span"),h=document.createElement("span"),d=document.createElement("span"),m=document.createElement("span"),f=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",b=>{l.innerHTML=b}),h.innerHTML=" "+s+"-"+Math.min(s+c-1,t)+" ",this.table.modules.localize.langBind("pagination|counter|of",b=>{d.innerHTML=b}),m.innerHTML=" "+t+" ",this.table.modules.localize.langBind("pagination|counter|rows",b=>{f.innerHTML=b}),r.appendChild(l),r.appendChild(h),r.appendChild(d),r.appendChild(m),r.appendChild(f),r},pages:function oi(c,s,e,t,n){var r=document.createElement("span"),l=document.createElement("span"),h=document.createElement("span"),d=document.createElement("span"),m=document.createElement("span"),f=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",b=>{l.innerHTML=b}),h.innerHTML=" "+e+" ",this.table.modules.localize.langBind("pagination|counter|of",b=>{d.innerHTML=b}),m.innerHTML=" "+n+" ",this.table.modules.localize.langBind("pagination|counter|pages",b=>{f.innerHTML=b}),r.appendChild(l),r.appendChild(h),r.appendChild(d),r.appendChild(m),r.appendChild(f),r}};let li=(()=>{class c extends z{constructor(e){super(e),this.mode="local",this.progressiveLoad=!1,this.element=null,this.pageCounterElement=null,this.pageCounter=null,this.size=0,this.page=1,this.count=5,this.max=1,this.remoteRowCountEstimate=null,this.displayIndex=0,this.initialLoad=!0,this.dataChanging=!1,this.pageSizes=[],this.registerTableOption("pagination",!1),this.registerTableOption("paginationMode","local"),this.registerTableOption("paginationSize",!1),this.registerTableOption("paginationInitialPage",1),this.registerTableOption("paginationCounter",!1),this.registerTableOption("paginationCounterElement",!1),this.registerTableOption("paginationButtonCount",5),this.registerTableOption("paginationSizeSelector",!1),this.registerTableOption("paginationElement",!1),this.registerTableOption("paginationAddRow","page"),this.registerTableOption("progressiveLoad",!1),this.registerTableOption("progressiveLoadDelay",0),this.registerTableOption("progressiveLoadScrollMargin",0),this.registerTableFunction("setMaxPage",this.setMaxPage.bind(this)),this.registerTableFunction("setPage",this.setPage.bind(this)),this.registerTableFunction("setPageToRow",this.userSetPageToRow.bind(this)),this.registerTableFunction("setPageSize",this.userSetPageSize.bind(this)),this.registerTableFunction("getPageSize",this.getPageSize.bind(this)),this.registerTableFunction("previousPage",this.previousPage.bind(this)),this.registerTableFunction("nextPage",this.nextPage.bind(this)),this.registerTableFunction("getPage",this.getPage.bind(this)),this.registerTableFunction("getPageMax",this.getPageMax.bind(this)),this.registerComponentFunction("row","pageTo",this.setPageToRow.bind(this))}initialize(){this.table.options.pagination?(this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),"page"==this.table.options.paginationAddRow&&this.subscribe("row-adding-position",this.rowAddingPosition.bind(this)),"remote"===this.table.options.paginationMode&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this))),this.table.options.progressiveLoad&&console.error("Progressive Load Error - Pagination and progressive load cannot be used at the same time"),this.registerDisplayHandler(this.restOnRenderBefore.bind(this),40),this.registerDisplayHandler(this.getRows.bind(this),50),this.createElements(),this.initializePageCounter(),this.initializePaginator()):this.table.options.progressiveLoad&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.initializeProgressive(this.table.options.progressiveLoad),"scroll"===this.table.options.progressiveLoad&&this.subscribe("scroll-vertical",this.scrollVertical.bind(this)))}rowAddingPosition(e,t){var l,n=this.table.rowManager,r=n.getDisplayRows();return t?r.length?l=r[0]:n.activeRows.length&&(l=n.activeRows[n.activeRows.length-1],t=!1):r.length&&(l=r[r.length-1],t=!(r.length<this.size)),{index:l,top:t}}calculatePageSizes(){var e,t;this.table.options.paginationSize?this.size=this.table.options.paginationSize:((e=document.createElement("div")).classList.add("tabulator-row"),e.style.visibility="hidden",(t=document.createElement("div")).classList.add("tabulator-cell"),t.innerHTML="Page Row Test",e.appendChild(t),this.table.rowManager.getTableElement().appendChild(e),this.size=Math.floor(this.table.rowManager.getElement().clientHeight/e.offsetHeight),this.table.rowManager.getTableElement().removeChild(e)),this.generatePageSizeSelectList()}initialLoadComplete(){this.initialLoad=!1}remotePageParams(e,t,n,r){return this.initialLoad||(this.progressiveLoad&&!n||!this.progressiveLoad&&!this.dataChanging)&&this.reset(!0),r.page=this.page,this.size&&(r.size=this.size),r}userSetPageToRow(e){return this.table.options.pagination&&(e=this.rowManager.findRow(e))?this.setPageToRow(e):Promise.reject()}userSetPageSize(e){return!!this.table.options.pagination&&(this.setPageSize(e),this.setPage(1))}scrollVertical(e,t){var n;!t&&!this.table.dataLoader.loading&&(n=this.table.rowManager.getElement()).scrollHeight-n.clientHeight-e<(this.table.options.progressiveLoadScrollMargin||2*n.clientHeight)&&this.nextPage().catch(()=>{})}restOnRenderBefore(e,t){return t||"local"===this.mode&&this.reset(),e}rowsUpdated(){this.refreshData(!0,"all")}createElements(){var e;this.element=document.createElement("span"),this.element.classList.add("tabulator-paginator"),this.pagesElement=document.createElement("span"),this.pagesElement.classList.add("tabulator-pages"),(e=document.createElement("button")).classList.add("tabulator-page"),e.setAttribute("type","button"),e.setAttribute("role","button"),e.setAttribute("aria-label",""),e.setAttribute("title",""),this.firstBut=e.cloneNode(!0),this.firstBut.setAttribute("data-page","first"),this.prevBut=e.cloneNode(!0),this.prevBut.setAttribute("data-page","prev"),this.nextBut=e.cloneNode(!0),this.nextBut.setAttribute("data-page","next"),this.lastBut=e.cloneNode(!0),this.lastBut.setAttribute("data-page","last"),this.table.options.paginationSizeSelector&&(this.pageSizeSelect=document.createElement("select"),this.pageSizeSelect.classList.add("tabulator-page-size"))}generatePageSizeSelectList(){var e=[];if(this.pageSizeSelect){if(Array.isArray(this.table.options.paginationSizeSelector))this.pageSizes=e=this.table.options.paginationSizeSelector,-1==this.pageSizes.indexOf(this.size)&&e.unshift(this.size);else if(-1==this.pageSizes.indexOf(this.size)){e=[];for(let t=1;t<5;t++)e.push(this.size*t);this.pageSizes=e}else e=this.pageSizes;for(;this.pageSizeSelect.firstChild;)this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);e.forEach(t=>{var n=document.createElement("option");n.value=t,!0===t?this.langBind("pagination|all",function(r){n.innerHTML=r}):n.innerHTML=t,this.pageSizeSelect.appendChild(n)}),this.pageSizeSelect.value=this.size}}initializePageCounter(){var e=this.table.options.paginationCounter,t=null;e&&((t="function"==typeof e?e:c.pageCounters[e])?(this.pageCounter=t,this.pageCounterElement=document.createElement("span"),this.pageCounterElement.classList.add("tabulator-page-counter")):console.warn("Pagination Error - No such page counter found: ",e))}initializePaginator(e){var t,n;e||(this.langBind("pagination|first",r=>{this.firstBut.innerHTML=r}),this.langBind("pagination|first_title",r=>{this.firstBut.setAttribute("aria-label",r),this.firstBut.setAttribute("title",r)}),this.langBind("pagination|prev",r=>{this.prevBut.innerHTML=r}),this.langBind("pagination|prev_title",r=>{this.prevBut.setAttribute("aria-label",r),this.prevBut.setAttribute("title",r)}),this.langBind("pagination|next",r=>{this.nextBut.innerHTML=r}),this.langBind("pagination|next_title",r=>{this.nextBut.setAttribute("aria-label",r),this.nextBut.setAttribute("title",r)}),this.langBind("pagination|last",r=>{this.lastBut.innerHTML=r}),this.langBind("pagination|last_title",r=>{this.lastBut.setAttribute("aria-label",r),this.lastBut.setAttribute("title",r)}),this.firstBut.addEventListener("click",()=>{this.setPage(1)}),this.prevBut.addEventListener("click",()=>{this.previousPage()}),this.nextBut.addEventListener("click",()=>{this.nextPage()}),this.lastBut.addEventListener("click",()=>{this.setPage(this.max)}),this.table.options.paginationElement&&(this.element=this.table.options.paginationElement),this.pageSizeSelect&&(t=document.createElement("label"),this.langBind("pagination|page_size",r=>{this.pageSizeSelect.setAttribute("aria-label",r),this.pageSizeSelect.setAttribute("title",r),t.innerHTML=r}),this.element.appendChild(t),this.element.appendChild(this.pageSizeSelect),this.pageSizeSelect.addEventListener("change",r=>{this.setPageSize("true"==this.pageSizeSelect.value||this.pageSizeSelect.value),this.setPage(1)})),this.element.appendChild(this.firstBut),this.element.appendChild(this.prevBut),this.element.appendChild(this.pagesElement),this.element.appendChild(this.nextBut),this.element.appendChild(this.lastBut),!this.table.options.paginationElement&&!e&&(this.table.options.paginationCounter&&(this.table.options.paginationCounterElement?this.table.options.paginationCounterElement instanceof HTMLElement?this.table.options.paginationCounterElement.appendChild(this.pageCounterElement):"string"==typeof this.table.options.paginationCounterElement&&((n=document.querySelector(this.table.options.paginationCounterElement))?n.appendChild(this.pageCounterElement):console.warn("Pagination Error - Unable to find element matching paginationCounterElement selector:",this.table.options.paginationCounterElement)):this.table.footerManager.append(this.pageCounterElement)),this.table.footerManager.append(this.element,this)),this.page=this.table.options.paginationInitialPage,this.count=this.table.options.paginationButtonCount),this.mode=this.table.options.paginationMode}initializeProgressive(e){this.initializePaginator(!0),this.mode="progressive_"+e,this.progressiveLoad=!0}trackChanges(){this.dispatch("page-changed")}setDisplayIndex(e){this.displayIndex=e}getDisplayIndex(){return this.displayIndex}setMaxRows(e){this.max=e?!0===this.size?1:Math.ceil(e/this.size):1,this.page>this.max&&(this.page=this.max)}reset(e){this.initialLoad||("local"==this.mode||e)&&(this.page=1)}setMaxPage(e){e=parseInt(e),this.max=e||1,this.page>this.max&&(this.page=this.max,this.trigger())}setPage(e){switch(e){case"first":return this.setPage(1);case"prev":return this.previousPage();case"next":return this.nextPage();case"last":return this.setPage(this.max)}return(e=parseInt(e))>0&&e<=this.max||"local"!==this.mode?(this.page=e,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Requested page is out of range of 1 - "+this.max+":",e),Promise.reject())}setPageToRow(e){var n=this.table.rowManager.getDisplayRows(this.displayIndex-1).indexOf(e);if(n>-1){var r=!0===this.size?1:Math.ceil((n+1)/this.size);return this.setPage(r)}return console.warn("Pagination Error - Requested row is not visible"),Promise.reject()}setPageSize(e){!0!==e&&(e=parseInt(e)),e>0&&(this.size=e),this.pageSizeSelect&&this.generatePageSizeSelectList(),this.trackChanges()}_setPageCounter(e){var t,n;if(this.pageCounter)switch(n=(this.page-1)*this.size+1,"remote"===this.mode&&(e=this.remoteRowCountEstimate),t=this.pageCounter.call(this,this.size,n,this.page,e,this.max),typeof t){case"object":if(t instanceof Node){for(;this.pageCounterElement.firstChild;)this.pageCounterElement.removeChild(this.pageCounterElement.firstChild);this.pageCounterElement.appendChild(t)}else this.pageCounterElement.innerHTML="",null!=t&&console.warn("Page Counter Error - Page Counter has returned a type of object, the only valid page counter object return is an instance of Node, the page counter returned:",t);break;case"undefined":case"null":this.pageCounterElement.innerHTML="";break;default:this.pageCounterElement.innerHTML=t}}_setPageButtons(){let e=Math.floor((this.count-1)/2),t=Math.ceil((this.count-1)/2),n=this.max-this.page+e+1<this.count?this.max-this.count+1:Math.max(this.page-e,1),r=this.page<=t?Math.min(this.count,this.max):Math.min(this.page+t,this.max);for(;this.pagesElement.firstChild;)this.pagesElement.removeChild(this.pagesElement.firstChild);1==this.page?(this.firstBut.disabled=!0,this.prevBut.disabled=!0):(this.firstBut.disabled=!1,this.prevBut.disabled=!1),this.page==this.max?(this.lastBut.disabled=!0,this.nextBut.disabled=!0):(this.lastBut.disabled=!1,this.nextBut.disabled=!1);for(let l=n;l<=r;l++)l>0&&l<=this.max&&this.pagesElement.appendChild(this._generatePageButton(l));this.footerRedraw()}_generatePageButton(e){var t=document.createElement("button");return t.classList.add("tabulator-page"),e==this.page&&t.classList.add("active"),t.setAttribute("type","button"),t.setAttribute("role","button"),this.langBind("pagination|page_title",n=>{t.setAttribute("aria-label",n+" "+e),t.setAttribute("title",n+" "+e)}),t.setAttribute("data-page",e),t.textContent=e,t.addEventListener("click",n=>{this.setPage(e)}),t}previousPage(){return this.page>1?(this.page--,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Previous page would be less than page 1:",0),Promise.reject())}nextPage(){return this.page<this.max?(this.page++,this.trackChanges(),this.trigger()):(this.progressiveLoad||console.warn("Pagination Error - Next page would be greater than maximum page of "+this.max+":",this.max+1),Promise.reject())}getPage(){return this.page}getPageMax(){return this.max}getPageSize(e){return this.size}getMode(){return this.mode}getRows(e){var t,n,r;if("local"==this.mode){t=[],this.setMaxRows(e.length),!0===this.size?(n=0,r=e.length):r=(n=this.size*(this.page-1))+parseInt(this.size),this._setPageButtons();for(let l=n;l<r;l++)e[l]&&t.push(e[l]);return this._setPageCounter(e.length),t}return this._setPageButtons(),this._setPageCounter(e.length),e.slice(0)}trigger(){var e;switch(this.mode){case"local":return e=this.table.rowManager.scrollLeft,this.refreshData(),this.table.rowManager.scrollHorizontal(e),this.dispatchExternal("pageLoaded",this.getPage()),Promise.resolve();case"remote":return this.dataChanging=!0,this.reloadData(null).finally(()=>{this.dataChanging=!1});case"progressive_load":case"progressive_scroll":return this.reloadData(null,!0);default:return console.warn("Pagination Error - no such pagination mode:",this.mode),Promise.reject()}}_parseRemoteData(t){if(void 0===t.last_page&&console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").last_page||"last_page")+"' property"),t.data){if(this.max=parseInt(t.last_page)||1,this.remoteRowCountEstimate=void 0!==t.last_row?t.last_row:t.last_page*this.size-(this.page==t.last_page?this.size-t.data.length:0),this.progressiveLoad){switch(this.mode){case"progressive_load":1==this.page?this.table.rowManager.setData(t.data,!1,1==this.page):this.table.rowManager.addRows(t.data),this.page<this.max&&setTimeout(()=>{this.nextPage()},this.table.options.progressiveLoadDelay);break;case"progressive_scroll":t=1===this.page?t.data:this.table.rowManager.getData().concat(t.data),this.table.rowManager.setData(t,1!==this.page,1==this.page),this.table.rowManager.element.scrollHeight<=this.table.rowManager.element.clientHeight+(this.table.options.progressiveLoadScrollMargin||2*this.table.rowManager.element.clientHeight)&&this.page<this.max&&setTimeout(()=>{this.nextPage()})}return!1}this.dispatchExternal("pageLoaded",this.getPage())}else console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").data||"data")+"' property");return t.data}footerRedraw(){var e=this.table.footerManager.element;Math.ceil(e.clientWidth)-e.scrollWidth<0?this.pagesElement.style.display="none":(this.pagesElement.style.display="",Math.ceil(e.clientWidth)-e.scrollWidth<0&&(this.pagesElement.style.display="none"))}}return c.moduleName="page",c.pageCounters=ri,c})();var ai={local:function(c,s){var e=localStorage.getItem(c+"-"+s);return!!e&&JSON.parse(e)},cookie:function(c,s){var r,l,e=document.cookie,t=c+"-"+s,n=e.indexOf(t+"=");return n>-1&&((r=(e=e.slice(n)).indexOf(";"))>-1&&(e=e.slice(0,r)),l=e.replace(t+"=","")),!!l&&JSON.parse(l)}},hi={local:function(c,s,e){localStorage.setItem(c+"-"+s,JSON.stringify(e))},cookie:function(c,s,e){var t=new Date;t.setDate(t.getDate()+1e4),document.cookie=c+"-"+s+"="+JSON.stringify(e)+"; expires="+t.toUTCString()}};let ci=(()=>{class c extends z{constructor(e){super(e),this.mode="",this.id="",this.defWatcherBlock=!1,this.config={},this.readFunc=!1,this.writeFunc=!1,this.registerTableOption("persistence",!1),this.registerTableOption("persistenceID",""),this.registerTableOption("persistenceMode",!0),this.registerTableOption("persistenceReaderFunc",!1),this.registerTableOption("persistenceWriterFunc",!1)}localStorageTest(){var e="_tabulator_test";try{return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}initialize(){if(this.table.options.persistence){var n,e=this.table.options.persistenceMode,t=this.table.options.persistenceID;this.mode=!0!==e?e:this.localStorageTest()?"local":"cookie",this.table.options.persistenceReaderFunc?"function"==typeof this.table.options.persistenceReaderFunc?this.readFunc=this.table.options.persistenceReaderFunc:c.readers[this.table.options.persistenceReaderFunc]?this.readFunc=c.readers[this.table.options.persistenceReaderFunc]:console.warn("Persistence Read Error - invalid reader set",this.table.options.persistenceReaderFunc):c.readers[this.mode]?this.readFunc=c.readers[this.mode]:console.warn("Persistence Read Error - invalid reader set",this.mode),this.table.options.persistenceWriterFunc?"function"==typeof this.table.options.persistenceWriterFunc?this.writeFunc=this.table.options.persistenceWriterFunc:c.writers[this.table.options.persistenceWriterFunc]?this.writeFunc=c.writers[this.table.options.persistenceWriterFunc]:console.warn("Persistence Write Error - invalid reader set",this.table.options.persistenceWriterFunc):c.writers[this.mode]?this.writeFunc=c.writers[this.mode]:console.warn("Persistence Write Error - invalid writer set",this.mode),this.id="tabulator-"+(t||this.table.element.getAttribute("id")||""),this.config={sort:!0===this.table.options.persistence||this.table.options.persistence.sort,filter:!0===this.table.options.persistence||this.table.options.persistence.filter,group:!0===this.table.options.persistence||this.table.options.persistence.group,page:!0===this.table.options.persistence||this.table.options.persistence.page,columns:!0===this.table.options.persistence?["title","width","visible"]:this.table.options.persistence.columns},this.config.page&&(n=this.retreiveData("page"))&&(void 0!==n.paginationSize&&(!0===this.config.page||this.config.page.size)&&(this.table.options.paginationSize=n.paginationSize),void 0!==n.paginationInitialPage&&(!0===this.config.page||this.config.page.page)&&(this.table.options.paginationInitialPage=n.paginationInitialPage)),this.config.group&&(n=this.retreiveData("group"))&&(void 0!==n.groupBy&&(!0===this.config.group||this.config.group.groupBy)&&(this.table.options.groupBy=n.groupBy),void 0!==n.groupStartOpen&&(!0===this.config.group||this.config.group.groupStartOpen)&&(this.table.options.groupStartOpen=n.groupStartOpen),void 0!==n.groupHeader&&(!0===this.config.group||this.config.group.groupHeader)&&(this.table.options.groupHeader=n.groupHeader)),this.config.columns&&(this.table.options.columns=this.load("columns",this.table.options.columns),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-show",this.save.bind(this,"columns")),this.subscribe("column-hide",this.save.bind(this,"columns")),this.subscribe("column-moved",this.save.bind(this,"columns"))),this.subscribe("table-built",this.tableBuilt.bind(this),0),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("filter-changed",this.eventSave.bind(this,"filter")),this.subscribe("sort-changed",this.eventSave.bind(this,"sort")),this.subscribe("group-changed",this.eventSave.bind(this,"group")),this.subscribe("page-changed",this.eventSave.bind(this,"page")),this.subscribe("column-resized",this.eventSave.bind(this,"columns")),this.subscribe("layout-refreshed",this.eventSave.bind(this,"columns"))}this.registerTableFunction("getColumnLayout",this.getColumnLayout.bind(this)),this.registerTableFunction("setColumnLayout",this.setColumnLayout.bind(this))}eventSave(e){this.config[e]&&this.save(e)}tableBuilt(){var t,n;this.config.sort&&(t=this.load("sort"))&&(this.table.options.initialSort=t),this.config.filter&&(n=this.load("filter"))&&(this.table.options.initialFilter=n)}tableRedraw(e){e&&this.config.columns&&this.save("columns")}getColumnLayout(){return this.parseColumns(this.table.columnManager.getColumns())}setColumnLayout(e){return this.table.columnManager.setColumns(this.mergeDefinition(this.table.options.columns,e)),!0}initializeColumn(e){var t;this.config.columns&&(this.defWatcherBlock=!0,t=e.getDefinition(),(!0===this.config.columns?Object.keys(t):this.config.columns).forEach(r=>{var l=Object.getOwnPropertyDescriptor(t,r),h=t[r];l&&Object.defineProperty(t,r,{set:function(d){h=d,this.defWatcherBlock||this.save("columns"),l.set&&l.set(d)},get:function(){return l.get&&l.get(),h}})}),this.defWatcherBlock=!1)}load(e,t){var n=this.retreiveData(e);return t&&(n=n?this.mergeDefinition(t,n):t),n}retreiveData(e){return!!this.readFunc&&this.readFunc(this.id,e)}mergeDefinition(e,t){var n=[];return(t=t||[]).forEach((r,l)=>{var d,h=this._findColumn(e,r);h&&(!0===this.config.columns||null==this.config.columns?(d=Object.keys(h)).push("width"):d=this.config.columns,d.forEach(m=>{"columns"!==m&&void 0!==r[m]&&(h[m]=r[m])}),h.columns&&(h.columns=this.mergeDefinition(h.columns,r.columns)),n.push(h))}),e.forEach((r,l)=>{this._findColumn(t,r)||(n.length>l?n.splice(l,0,r):n.push(r))}),n}_findColumn(e,t){var n=t.columns?"group":t.field?"field":"object";return e.find(function(r){switch(n){case"group":return r.title===t.title&&r.columns.length===t.columns.length;case"field":return r.field===t.field;case"object":return r===t}})}save(e){var t={};switch(e){case"columns":t=this.parseColumns(this.table.columnManager.getColumns());break;case"filter":t=this.table.modules.filter.getFilters();break;case"sort":t=this.validateSorters(this.table.modules.sort.getSort());break;case"group":t=this.getGroupConfig();break;case"page":t=this.getPageConfig()}this.writeFunc&&this.writeFunc(this.id,e,t)}validateSorters(e){return e.forEach(function(t){t.column=t.field,delete t.field}),e}getGroupConfig(){var e={};return this.config.group&&((!0===this.config.group||this.config.group.groupBy)&&(e.groupBy=this.table.options.groupBy),(!0===this.config.group||this.config.group.groupStartOpen)&&(e.groupStartOpen=this.table.options.groupStartOpen),(!0===this.config.group||this.config.group.groupHeader)&&(e.groupHeader=this.table.options.groupHeader)),e}getPageConfig(){var e={};return this.config.page&&((!0===this.config.page||this.config.page.size)&&(e.paginationSize=this.table.modules.page.getPageSize()),(!0===this.config.page||this.config.page.page)&&(e.paginationInitialPage=this.table.modules.page.getPage())),e}parseColumns(e){var t=[],n=["headerContextMenu","headerMenu","contextMenu","clickMenu"];return e.forEach(r=>{var d,l={},h=r.getDefinition();r.isGroup?(l.title=h.title,l.columns=this.parseColumns(r.getColumns())):(l.field=r.getField(),!0===this.config.columns||null==this.config.columns?(d=Object.keys(h)).push("width"):d=this.config.columns,d.forEach(m=>{switch(m){case"width":l.width=r.getWidth();break;case"visible":l.visible=r.visible;break;default:"function"!=typeof h[m]&&-1===n.indexOf(m)&&(l[m]=h[m])}})),t.push(l)}),t}}return c.moduleName="persistence",c.moduleInitOrder=1,c.readers=ai,c.writers=hi,c})(),di=(()=>{class c extends z{constructor(e){super(e),this.element=!1,this.manualBlock=!1,this.registerTableOption("printAsHtml",!1),this.registerTableOption("printFormatter",!1),this.registerTableOption("printHeader",!1),this.registerTableOption("printFooter",!1),this.registerTableOption("printStyled",!0),this.registerTableOption("printRowRange","visible"),this.registerTableOption("printConfig",{}),this.registerColumnOption("print"),this.registerColumnOption("titlePrint")}initialize(){this.table.options.printAsHtml&&(window.addEventListener("beforeprint",this.replaceTable.bind(this)),window.addEventListener("afterprint",this.cleanup.bind(this))),this.registerTableFunction("print",this.printFullscreen.bind(this))}replaceTable(){this.manualBlock||(this.element=document.createElement("div"),this.element.classList.add("tabulator-print-table"),this.element.appendChild(this.table.modules.export.genereateTable(this.table.options.printConfig,this.table.options.printStyled,this.table.options.printRowRange,"print")),this.table.element.style.display="none",this.table.element.parentNode.insertBefore(this.element,this.table.element))}cleanup(){document.body.classList.remove("tabulator-print-fullscreen-hide"),this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.table.element.style.display="")}printFullscreen(e,t,n){var f,b,r=window.scrollX,l=window.scrollY,h=document.createElement("div"),d=document.createElement("div"),m=this.table.modules.export.genereateTable(void 0!==n?n:this.table.options.printConfig,void 0!==t?t:this.table.options.printStyled,e||this.table.options.printRowRange,"print");this.manualBlock=!0,this.element=document.createElement("div"),this.element.classList.add("tabulator-print-fullscreen"),this.table.options.printHeader&&(h.classList.add("tabulator-print-header"),"string"==typeof(f="function"==typeof this.table.options.printHeader?this.table.options.printHeader.call(this.table):this.table.options.printHeader)?h.innerHTML=f:h.appendChild(f),this.element.appendChild(h)),this.element.appendChild(m),this.table.options.printFooter&&(d.classList.add("tabulator-print-footer"),"string"==typeof(b="function"==typeof this.table.options.printFooter?this.table.options.printFooter.call(this.table):this.table.options.printFooter)?d.innerHTML=b:d.appendChild(b),this.element.appendChild(d)),document.body.classList.add("tabulator-print-fullscreen-hide"),document.body.appendChild(this.element),this.table.options.printFormatter&&this.table.options.printFormatter(this.element,m),window.print(),this.cleanup(),window.scrollTo(r,l),this.manualBlock=!1}}return c.moduleName="print",c})(),ot=(()=>{class c extends z{constructor(e){super(e),this.data=!1,this.blocked=!1,this.origFuncs={},this.currentVersion=0,this.registerTableOption("reactiveData",!1)}initialize(){this.table.options.reactiveData&&(this.subscribe("cell-value-save-before",this.block.bind(this)),this.subscribe("cell-value-save-after",this.unblock.bind(this)),this.subscribe("row-data-save-before",this.block.bind(this)),this.subscribe("row-data-save-after",this.unblock.bind(this)),this.subscribe("row-data-init-after",this.watchRow.bind(this)),this.subscribe("data-processing",this.watchData.bind(this)),this.subscribe("table-destroy",this.unwatchData.bind(this)))}watchData(e){var n,t=this;this.currentVersion++,n=this.currentVersion,this.unwatchData(),this.data=e,this.origFuncs.push=e.push,Object.defineProperty(this.data,"push",{enumerable:!1,configurable:!0,value:function(){var r=Array.from(arguments);return!t.blocked&&n===t.currentVersion&&r.forEach(l=>{t.table.rowManager.addRowActual(l,!1)}),t.origFuncs.push.apply(e,arguments)}}),this.origFuncs.unshift=e.unshift,Object.defineProperty(this.data,"unshift",{enumerable:!1,configurable:!0,value:function(){var r=Array.from(arguments);return!t.blocked&&n===t.currentVersion&&r.forEach(l=>{t.table.rowManager.addRowActual(l,!0)}),t.origFuncs.unshift.apply(e,arguments)}}),this.origFuncs.shift=e.shift,Object.defineProperty(this.data,"shift",{enumerable:!1,configurable:!0,value:function(){var r;return!t.blocked&&n===t.currentVersion&&t.data.length&&(r=t.table.rowManager.getRowFromDataObject(t.data[0]))&&r.deleteActual(),t.origFuncs.shift.call(e)}}),this.origFuncs.pop=e.pop,Object.defineProperty(this.data,"pop",{enumerable:!1,configurable:!0,value:function(){var r;return!t.blocked&&n===t.currentVersion&&t.data.length&&(r=t.table.rowManager.getRowFromDataObject(t.data[t.data.length-1]))&&r.deleteActual(),t.origFuncs.pop.call(e)}}),this.origFuncs.splice=e.splice,Object.defineProperty(this.data,"splice",{enumerable:!1,configurable:!0,value:function(){var m,r=Array.from(arguments),l=r[0]<0?e.length+r[0]:r[0],h=r[1],d=!!r[2]&&r.slice(2);if(!t.blocked&&n===t.currentVersion){if(d&&((m=!!e[l]&&t.table.rowManager.getRowFromDataObject(e[l]))?d.forEach(b=>{t.table.rowManager.addRowActual(b,!0,m,!0)}):(d=d.slice().reverse()).forEach(b=>{t.table.rowManager.addRowActual(b,!0,!1,!0)})),0!==h){var f=e.slice(l,void 0===r[1]?r[1]:l+h);f.forEach((b,C)=>{var w=t.table.rowManager.getRowFromDataObject(b);w&&w.deleteActual(C!==f.length-1)})}(d||0!==h)&&t.table.rowManager.reRenderInPosition()}return t.origFuncs.splice.apply(e,arguments)}})}unwatchData(){if(!1!==this.data)for(var e in this.origFuncs)Object.defineProperty(this.data,e,{enumerable:!0,configurable:!0,writable:!0,value:this.origFuncs.key})}watchRow(e){var t=e.getData();for(var n in this.blocked=!0,t)this.watchKey(e,t,n);this.table.options.dataTree&&this.watchTreeChildren(e),this.blocked=!1}watchTreeChildren(e){var t=e.getData()[this.table.options.dataTreeChildField],n={};function r(){this.table.modules.dataTree.initializeRow(e),this.table.modules.dataTree.layoutRow(e),this.table.rowManager.refreshActiveData("tree",!1,!0)}t&&(n.push=t.push,Object.defineProperty(t,"push",{enumerable:!1,configurable:!0,value:()=>{var l=n.push.apply(t,arguments);return r(),l}}),n.unshift=t.unshift,Object.defineProperty(t,"unshift",{enumerable:!1,configurable:!0,value:()=>{var l=n.unshift.apply(t,arguments);return r(),l}}),n.shift=t.shift,Object.defineProperty(t,"shift",{enumerable:!1,configurable:!0,value:()=>{var l=n.shift.call(t);return r(),l}}),n.pop=t.pop,Object.defineProperty(t,"pop",{enumerable:!1,configurable:!0,value:()=>{var l=n.pop.call(t);return r(),l}}),n.splice=t.splice,Object.defineProperty(t,"splice",{enumerable:!1,configurable:!0,value:()=>{var l=n.splice.apply(t,arguments);return r(),l}}))}watchKey(e,t,n){var r=Object.getOwnPropertyDescriptor(t,n),l=t[n],h=this.currentVersion;Object.defineProperty(t,n,{set:d=>{if(l=d,!this.blocked&&h===this.currentVersion){var m={};m[n]=d,e.updateData(m)}r.set&&r.set(d)},get:()=>(r.get&&r.get(),l)})}unwatchRow(e){var t=e.getData();for(var n in t)Object.defineProperty(t,n,{value:t[n]})}block(){this.blocked=!0}unblock(){this.blocked=!1}}return c.moduleName="reactiveData",c})(),ui=(()=>{class c extends z{constructor(e){super(e),this.startColumn=!1,this.startX=!1,this.startWidth=!1,this.handle=null,this.prevHandle=null,this.registerColumnOption("resizable",!0)}initialize(){this.subscribe("cell-layout",this.layoutCellHandles.bind(this)),this.subscribe("column-init",this.layoutColumnHeader.bind(this))}layoutCellHandles(e){"row"===e.row.type&&this.initializeColumn("cell",e.column,e.element)}layoutColumnHeader(e){this.initializeColumn("header",e,e.element)}initializeColumn(e,t,n){var r=this,h=t.definition.resizable;if("header"===e&&(t.modules.resize={variableHeight:"textarea"==t.definition.formatter||t.definition.variableHeight}),!0===h||h==e){var d=document.createElement("div");d.className="tabulator-col-resize-handle";var m=document.createElement("div");m.className="tabulator-col-resize-handle prev",d.addEventListener("click",function(C){C.stopPropagation()});var f=function(C){var w=t.getLastColumn();w&&r._checkResizability(w)&&(r.startColumn=t,r._mouseDown(C,w,d))};d.addEventListener("mousedown",f),d.addEventListener("touchstart",f,{passive:!0}),d.addEventListener("dblclick",function(C){var y,w=t.getLastColumn();w&&r._checkResizability(w)&&(y=w.getWidth(),C.stopPropagation(),w.reinitializeWidth(!0),y!==w.getWidth()&&(r.dispatch("column-resized",w),r.table.externalEvents.dispatch("columnResized",w.getComponent())))}),m.addEventListener("click",function(C){C.stopPropagation()});var b=function(C){var w,y,x;(w=t.getFirstColumn())&&(x=(y=r.table.columnManager.findColumnIndex(w))>0&&r.table.columnManager.getColumnByIndex(y-1))&&r._checkResizability(x)&&(r.startColumn=t,r._mouseDown(C,x,m))};m.addEventListener("mousedown",b),m.addEventListener("touchstart",b,{passive:!0}),m.addEventListener("dblclick",function(C){var w,y,x;(w=t.getFirstColumn())&&(x=(y=r.table.columnManager.findColumnIndex(w))>0&&r.table.columnManager.getColumnByIndex(y-1))&&r._checkResizability(x)&&(C.stopPropagation(),x.reinitializeWidth(!0))}),n.appendChild(d),n.appendChild(m)}}_checkResizability(e){return e.definition.resizable}_mouseDown(e,t,n){var r=this;function l(d){t.setWidth(r.table.rtl?r.startWidth-((void 0===d.screenX?d.touches[0].screenX:d.screenX)-r.startX):r.startWidth+((void 0===d.screenX?d.touches[0].screenX:d.screenX)-r.startX)),r.table.columnManager.renderer.rerenderColumns(!0),!r.table.browserSlow&&t.modules.resize&&t.modules.resize.variableHeight&&t.checkCellHeights()}function h(d){r.startColumn.modules.edit&&(r.startColumn.modules.edit.blocked=!1),r.table.browserSlow&&t.modules.resize&&t.modules.resize.variableHeight&&t.checkCellHeights(),document.body.removeEventListener("mouseup",h),document.body.removeEventListener("mousemove",l),n.removeEventListener("touchmove",l),n.removeEventListener("touchend",h),r.table.element.classList.remove("tabulator-block-select"),r.startWidth!==t.getWidth()&&(r.dispatch("column-resized",t),r.table.externalEvents.dispatch("columnResized",t.getComponent()))}r.table.element.classList.add("tabulator-block-select"),e.stopPropagation(),r.startColumn.modules.edit&&(r.startColumn.modules.edit.blocked=!0),r.startX=void 0===e.screenX?e.touches[0].screenX:e.screenX,r.startWidth=t.getWidth(),document.body.addEventListener("mousemove",l),document.body.addEventListener("mouseup",h),n.addEventListener("touchmove",l,{passive:!0}),n.addEventListener("touchend",h)}}return c.moduleName="resizeColumns",c})(),rt=(()=>{class c extends z{constructor(e){super(e),this.startColumn=!1,this.startY=!1,this.startHeight=!1,this.handle=null,this.prevHandle=null,this.registerTableOption("resizableRows",!1)}initialize(){this.table.options.resizableRows&&this.subscribe("row-layout-after",this.initializeRow.bind(this))}initializeRow(e){var t=this,n=e.getElement(),r=document.createElement("div");r.className="tabulator-row-resize-handle";var l=document.createElement("div");l.className="tabulator-row-resize-handle prev",r.addEventListener("click",function(m){m.stopPropagation()});var h=function(m){t.startRow=e,t._mouseDown(m,e,r)};r.addEventListener("mousedown",h),r.addEventListener("touchstart",h,{passive:!0}),l.addEventListener("click",function(m){m.stopPropagation()});var d=function(m){var f=t.table.rowManager.prevDisplayRow(e);f&&(t.startRow=f,t._mouseDown(m,f,l))};l.addEventListener("mousedown",d),l.addEventListener("touchstart",d,{passive:!0}),n.appendChild(r),n.appendChild(l)}_mouseDown(e,t,n){var r=this;function l(d){t.setHeight(r.startHeight+((void 0===d.screenY?d.touches[0].screenY:d.screenY)-r.startY))}function h(d){document.body.removeEventListener("mouseup",l),document.body.removeEventListener("mousemove",l),n.removeEventListener("touchmove",l),n.removeEventListener("touchend",h),r.table.element.classList.remove("tabulator-block-select"),r.dispatchExternal("rowResized",t.getComponent())}r.table.element.classList.add("tabulator-block-select"),e.stopPropagation(),r.startY=void 0===e.screenY?e.touches[0].screenY:e.screenY,r.startHeight=t.getHeight(),document.body.addEventListener("mousemove",l),document.body.addEventListener("mouseup",h),n.addEventListener("touchmove",l,{passive:!0}),n.addEventListener("touchend",h)}}return c.moduleName="resizeRows",c})(),mi=(()=>{class c extends z{constructor(e){super(e),this.binding=!1,this.observer=!1,this.containerObserver=!1,this.tableHeight=0,this.tableWidth=0,this.containerHeight=0,this.containerWidth=0,this.autoResize=!1,this.registerTableOption("autoResize",!0)}initialize(){if(this.table.options.autoResize){var t,e=this.table;this.tableHeight=e.element.clientHeight,this.tableWidth=e.element.clientWidth,e.element.parentNode&&(this.containerHeight=e.element.parentNode.clientHeight,this.containerWidth=e.element.parentNode.clientWidth),"undefined"!=typeof ResizeObserver&&"virtual"===e.rowManager.getRenderMode()?(this.autoResize=!0,this.observer=new ResizeObserver(n=>{if(!e.browserMobile||e.browserMobile&&!e.modules.edit.currentCell){var r=Math.floor(n[0].contentRect.height),l=Math.floor(n[0].contentRect.width);(this.tableHeight!=r||this.tableWidth!=l)&&(this.tableHeight=r,this.tableWidth=l,e.element.parentNode&&(this.containerHeight=e.element.parentNode.clientHeight,this.containerWidth=e.element.parentNode.clientWidth),this.table.columnManager.renderer.rerenderColumns(!0),e.redraw())}}),this.observer.observe(e.element),t=window.getComputedStyle(e.element),this.table.element.parentNode&&!this.table.rowManager.fixedHeight&&(t.getPropertyValue("max-height")||t.getPropertyValue("min-height"))&&(this.containerObserver=new ResizeObserver(n=>{if(!e.browserMobile||e.browserMobile&&!e.modules.edit.currentCell){var r=Math.floor(n[0].contentRect.height),l=Math.floor(n[0].contentRect.width);(this.containerHeight!=r||this.containerWidth!=l)&&(this.containerHeight=r,this.containerWidth=l,this.tableHeight=e.element.clientHeight,this.tableWidth=e.element.clientWidth),e.columnManager.renderer.rerenderColumns(!0),e.redraw()}}),this.containerObserver.observe(this.table.element.parentNode)),this.subscribe("table-resize",this.tableResized.bind(this))):(this.binding=function(){(!e.browserMobile||e.browserMobile&&!e.modules.edit.currentCell)&&(e.columnManager.renderer.rerenderColumns(!0),e.redraw())},window.addEventListener("resize",this.binding)),this.subscribe("table-destroy",this.clearBindings.bind(this))}}tableResized(){this.table.rowManager.redraw()}clearBindings(){this.binding&&window.removeEventListener("resize",this.binding),this.observer&&this.observer.unobserve(this.table.element),this.containerObserver&&this.containerObserver.unobserve(this.table.element.parentNode)}}return c.moduleName="resizeTable",c})(),pi=(()=>{class c extends z{constructor(e){super(e),this.columns=[],this.hiddenColumns=[],this.mode="",this.index=0,this.collapseFormatter=[],this.collapseStartOpen=!0,this.collapseHandleColumn=!1,this.registerTableOption("responsiveLayout",!1),this.registerTableOption("responsiveLayoutCollapseStartOpen",!0),this.registerTableOption("responsiveLayoutCollapseUseFormatters",!0),this.registerTableOption("responsiveLayoutCollapseFormatter",!1),this.registerColumnOption("responsive")}initialize(){this.table.options.responsiveLayout&&(this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-show",this.updateColumnVisibility.bind(this)),this.subscribe("column-hide",this.updateColumnVisibility.bind(this)),this.subscribe("columns-loaded",this.initializeResponsivity.bind(this)),this.subscribe("column-moved",this.initializeResponsivity.bind(this)),this.subscribe("column-add",this.initializeResponsivity.bind(this)),this.subscribe("column-delete",this.initializeResponsivity.bind(this)),this.subscribe("table-redrawing",this.tableRedraw.bind(this)),"collapse"===this.table.options.responsiveLayout&&(this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout",this.layoutRow.bind(this))))}tableRedraw(e){-1===["fitColumns","fitDataStretch"].indexOf(this.layoutMode())&&(e||this.update())}initializeResponsivity(){var e=[];this.mode=this.table.options.responsiveLayout,this.collapseFormatter=this.table.options.responsiveLayoutCollapseFormatter||this.formatCollapsedData,this.collapseStartOpen=this.table.options.responsiveLayoutCollapseStartOpen,this.hiddenColumns=[],this.table.columnManager.columnsByIndex.forEach((t,n)=>{t.modules.responsive&&t.modules.responsive.order&&t.modules.responsive.visible&&(t.modules.responsive.index=n,e.push(t),!t.visible&&"collapse"===this.mode&&this.hiddenColumns.push(t))}),e=(e=e.reverse()).sort((t,n)=>n.modules.responsive.order-t.modules.responsive.order||n.modules.responsive.index-t.modules.responsive.index),this.columns=e,"collapse"===this.mode&&this.generateCollapsedContent();for(let t of this.table.columnManager.columnsByIndex)if("responsiveCollapse"==t.definition.formatter){this.collapseHandleColumn=t;break}this.collapseHandleColumn&&(this.hiddenColumns.length?this.collapseHandleColumn.show():this.collapseHandleColumn.hide())}initializeColumn(e){var t=e.getDefinition();e.modules.responsive={order:void 0===t.responsive?1:t.responsive,visible:!1!==t.visible}}initializeRow(e){var t;"calc"!==e.type&&((t=document.createElement("div")).classList.add("tabulator-responsive-collapse"),e.modules.responsiveLayout={element:t,open:this.collapseStartOpen},this.collapseStartOpen||(t.style.display="none"))}layoutRow(e){var t=e.getElement();e.modules.responsiveLayout&&(t.appendChild(e.modules.responsiveLayout.element),this.generateCollapsedRowContent(e))}updateColumnVisibility(e,t){!t&&e.modules.responsive&&(e.modules.responsive.visible=e.visible,this.initializeResponsivity())}hideColumn(e){var t=this.hiddenColumns.length;e.hide(!1,!0),"collapse"===this.mode&&(this.hiddenColumns.unshift(e),this.generateCollapsedContent(),this.collapseHandleColumn&&!t&&this.collapseHandleColumn.show())}showColumn(e){var t;e.show(!1,!0),e.setWidth(e.getWidth()),"collapse"===this.mode&&((t=this.hiddenColumns.indexOf(e))>-1&&this.hiddenColumns.splice(t,1),this.generateCollapsedContent(),this.collapseHandleColumn&&!this.hiddenColumns.length&&this.collapseHandleColumn.hide())}update(){for(var e=this,t=!0;t;){let n="fitColumns"==e.table.modules.layout.getMode()?e.table.columnManager.getFlexBaseWidth():e.table.columnManager.getWidth(),r=(e.table.options.headerVisible?e.table.columnManager.element.clientWidth:e.table.element.clientWidth)-n;if(r<0){let l=e.columns[e.index];l?(e.hideColumn(l),e.index++):t=!1}else{let l=e.columns[e.index-1];l&&r>0&&r>=l.getWidth()?(e.showColumn(l),e.index--):t=!1}e.table.rowManager.activeRowsCount||e.table.rowManager.renderEmptyScroll()}}generateCollapsedContent(){var e=this;this.table.rowManager.getDisplayRows().forEach(function(n){e.generateCollapsedRowContent(n)})}generateCollapsedRowContent(e){var t,n;if(e.modules.responsiveLayout){for(t=e.modules.responsiveLayout.element;t.firstChild;)t.removeChild(t.firstChild);(n=this.collapseFormatter(this.generateCollapsedRowData(e)))&&t.appendChild(n)}}generateCollapsedRowData(e){var l,t=this,n=e.getData(),r=[];return this.hiddenColumns.forEach(function(h){var d=h.getFieldValue(n);if(h.definition.title&&h.field)if(h.modules.format&&t.table.options.responsiveLayoutCollapseUseFormatters){l={value:!1,data:{},getValue:function(){return d},getData:function(){return n},getElement:function(){return document.createElement("div")},getRow:function(){return e.getComponent()},getColumn:function(){return h.getComponent()}},r.push({field:h.field,title:h.definition.title,value:h.modules.format.formatter.call(t.table.modules.format,l,h.modules.format.params,function(b){b()})})}else r.push({field:h.field,title:h.definition.title,value:d})}),r}formatCollapsedData(e){var t=document.createElement("table");return e.forEach(function(n){var d,r=document.createElement("tr"),l=document.createElement("td"),h=document.createElement("td"),m=document.createElement("strong");l.appendChild(m),this.langBind("columns|"+n.field,function(f){m.innerHTML=f||n.title}),n.value instanceof Node?((d=document.createElement("div")).appendChild(n.value),h.appendChild(d)):h.innerHTML=n.value,r.appendChild(l),r.appendChild(h),t.appendChild(r)},this),Object.keys(e).length?t:""}}return c.moduleName="responsiveLayout",c})();function We(c,s,e,t,n,r,l){var h=window.DateTime||luxon.DateTime,d=l.format||"dd/MM/yyyy HH:mm:ss",m=l.alignEmptyValues,f=0;if(void 0!==h){if(c="iso"===d?h.fromISO(String(c)):h.fromFormat(String(c),d),s="iso"===d?h.fromISO(String(s)):h.fromFormat(String(s),d),c.isValid){if(s.isValid)return c-s;f=1}else f=s.isValid?-1:0;return("top"===m&&"desc"===r||"bottom"===m&&"asc"===r)&&(f*=-1),f}console.error("Sort Error - 'datetime' sorter is dependant on luxon.js")}var xi={number:function gi(c,s,e,t,n,r,l){var h=l.alignEmptyValues,d=l.decimalSeparator,m=l.thousandSeparator,f=0;if(c=String(c),s=String(s),m&&(c=c.split(m).join(""),s=s.split(m).join("")),d&&(c=c.split(d).join("."),s=s.split(d).join(".")),c=parseFloat(c),s=parseFloat(s),isNaN(c))f=isNaN(s)?0:-1;else{if(!isNaN(s))return c-s;f=1}return("top"===h&&"desc"===r||"bottom"===h&&"asc"===r)&&(f*=-1),f},string:function bi(c,s,e,t,n,r,l){var m,h=l.alignEmptyValues,d=0;if(c){if(s){switch(typeof l.locale){case"boolean":l.locale&&(m=this.langLocale());break;case"string":m=l.locale}return String(c).toLowerCase().localeCompare(String(s).toLowerCase(),m)}d=1}else d=s?-1:0;return("top"===h&&"desc"===r||"bottom"===h&&"asc"===r)&&(d*=-1),d},date:function vi(c,s,e,t,n,r,l){return l.format||(l.format="dd/MM/yyyy"),We.call(this,c,s,e,t,n,r,l)},time:function Ci(c,s,e,t,n,r,l){return l.format||(l.format="HH:mm"),We.call(this,c,s,e,t,n,r,l)},datetime:We,boolean:function wi(c,s,e,t,n,r,l){return(!0===c||"true"===c||"True"===c||1===c?1:0)-(!0===s||"true"===s||"True"===s||1===s?1:0)},array:function yi(c,s,e,t,n,r,l){var m=l.type||"length",f=l.alignEmptyValues,b=0;function C(w){switch(m){case"length":return w.length;case"sum":return w.reduce(function(y,x){return y+x});case"max":return Math.max.apply(null,w);case"min":return Math.min.apply(null,w);case"avg":return w.reduce(function(y,x){return y+x})/w.length}}if(Array.isArray(c)){if(Array.isArray(s))return(c?C(c):0)-(s?C(s):0);f=1}else f=Array.isArray(s)?-1:0;return("top"===f&&"desc"===r||"bottom"===f&&"asc"===r)&&(b*=-1),b},exists:function _i(c,s,e,t,n,r,l){return(void 0===c?0:1)-(void 0===s?0:1)},alphanum:function Ei(c,s,e,t,n,r,l){var h,d,m,f,C,b=0,w=/(\d+)|(\D+)/g,y=/\d/,x=l.alignEmptyValues,T=0;if(c||0===c){if(s||0===s){if(isFinite(c)&&isFinite(s))return c-s;if((h=String(c).toLowerCase())===(d=String(s).toLowerCase()))return 0;if(!y.test(h)||!y.test(d))return h>d?1:-1;for(h=h.match(w),d=d.match(w),C=h.length>d.length?d.length:h.length;b<C;)if((m=h[b])!==(f=d[b++]))return isFinite(m)&&isFinite(f)?("0"===m.charAt(0)&&(m="."+m),"0"===f.charAt(0)&&(f="."+f),m-f):m>f?1:-1;return h.length>d.length}T=1}else T=s||0===s?-1:0;return("top"===x&&"desc"===r||"bottom"===x&&"asc"===r)&&(T*=-1),T}},ki={integer:function(c,s,e){return""===s||null==s||"number"==typeof(s=Number(s))&&isFinite(s)&&Math.floor(s)===s},float:function(c,s,e){return""===s||null==s||"number"==typeof(s=Number(s))&&isFinite(s)&&s%1!=0},numeric:function(c,s,e){return""===s||null==s||!isNaN(s)},string:function(c,s,e){return""===s||null==s||isNaN(s)},max:function(c,s,e){return""===s||null==s||parseFloat(s)<=e},min:function(c,s,e){return""===s||null==s||parseFloat(s)>=e},starts:function(c,s,e){return""===s||null==s||String(s).toLowerCase().startsWith(String(e).toLowerCase())},ends:function(c,s,e){return""===s||null==s||String(s).toLowerCase().endsWith(String(e).toLowerCase())},minLength:function(c,s,e){return""===s||null==s||String(s).length>=e},maxLength:function(c,s,e){return""===s||null==s||String(s).length<=e},in:function(c,s,e){return""===s||null==s||("string"==typeof e&&(e=e.split("|")),""===s||e.indexOf(s)>-1)},regex:function(c,s,e){return""===s||null==s||new RegExp(e).test(s)},unique:function(c,s,e){if(""===s||null==s)return!0;var t=!0,n=c.getData(),r=c.getColumn()._getSelf();return this.table.rowManager.rows.forEach(function(l){var h=l.getData();h!==n&&s==r.getFieldValue(h)&&(t=!1)}),t},required:function(c,s,e){return""!==s&&null!=s}},Ri=Object.freeze({__proto__:null,AccessorModule:J,AjaxModule:dt,ClipboardModule:mt,ColumnCalcsModule:ft,DataTreeModule:we,DownloadModule:vt,EditModule:Tt,ExportModule:kt,FilterModule:Ze,FormatModule:Ut,FrozenColumnsModule:Kt,FrozenRowsModule:$t,GroupRowsModule:qt,HistoryModule:Zt,HtmlTableImportModule:Ge,ImportModule:ei,InteractionModule:it,KeybindingsModule:ge,MenuModule:Te,MoveColumnsModule:nt,MoveRowsModule:Se,MutatorModule:ni,PageModule:li,PersistenceModule:ci,PrintModule:di,ReactiveDataModule:ot,ResizeColumnsModule:ui,ResizeRowsModule:rt,ResizeTableModule:mi,ResponsiveLayoutModule:pi,SelectRowModule:(()=>{class c extends z{constructor(e){super(e),this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],this.headerCheckboxElement=null,this.registerTableOption("selectable","highlight"),this.registerTableOption("selectableRangeMode","drag"),this.registerTableOption("selectableRollingSelection",!0),this.registerTableOption("selectablePersistence",!0),this.registerTableOption("selectableCheck",function(t,n){return!0}),this.registerTableFunction("selectRow",this.selectRows.bind(this)),this.registerTableFunction("deselectRow",this.deselectRows.bind(this)),this.registerTableFunction("toggleSelectRow",this.toggleRow.bind(this)),this.registerTableFunction("getSelectedRows",this.getSelectedRows.bind(this)),this.registerTableFunction("getSelectedData",this.getSelectedData.bind(this)),this.registerComponentFunction("row","select",this.selectRows.bind(this)),this.registerComponentFunction("row","deselect",this.deselectRows.bind(this)),this.registerComponentFunction("row","toggleSelect",this.toggleRow.bind(this)),this.registerComponentFunction("row","isSelected",this.isRowSelected.bind(this))}initialize(){!1!==this.table.options.selectable&&(this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-deleting",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clearSelectionData.bind(this)),this.subscribe("rows-retrieve",this.rowRetrieve.bind(this)),this.table.options.selectable&&!this.table.options.selectablePersistence&&this.subscribe("data-refreshing",this.deselectRows.bind(this)))}rowRetrieve(e,t){return"selected"===e?this.selectedRows:t}rowDeleted(e){this._deselectRow(e,!0)}clearSelectionData(e){this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],!0!==e&&this._rowSelectionChanged()}initializeRow(e){var t=this,n=e.getElement(),r=function(){setTimeout(function(){t.selecting=!1},50),document.body.removeEventListener("mouseup",r)};e.modules.select={selected:!1},t.table.options.selectableCheck.call(this.table,e.getComponent())?(n.classList.add("tabulator-selectable"),n.classList.remove("tabulator-unselectable"),t.table.options.selectable&&"highlight"!=t.table.options.selectable&&("click"===t.table.options.selectableRangeMode?n.addEventListener("click",this.handleComplexRowClick.bind(this,e)):(n.addEventListener("click",function(l){(!t.table.modExists("edit")||!t.table.modules.edit.getCurrentCell())&&t.table._clearSelection(),t.selecting||t.toggleRow(e)}),n.addEventListener("mousedown",function(l){if(l.shiftKey)return t.table._clearSelection(),t.selecting=!0,t.selectPrev=[],document.body.addEventListener("mouseup",r),document.body.addEventListener("keyup",r),t.toggleRow(e),!1}),n.addEventListener("mouseenter",function(l){t.selecting&&(t.table._clearSelection(),t.toggleRow(e),t.selectPrev[1]==e&&t.toggleRow(t.selectPrev[0]))}),n.addEventListener("mouseout",function(l){t.selecting&&(t.table._clearSelection(),t.selectPrev.unshift(e))})))):(n.classList.add("tabulator-unselectable"),n.classList.remove("tabulator-selectable"))}handleComplexRowClick(e,t){if(t.shiftKey){this.table._clearSelection(),this.lastClickedRow=this.lastClickedRow||e;var n=this.table.rowManager.getDisplayRowIndex(this.lastClickedRow),r=this.table.rowManager.getDisplayRowIndex(e),l=n<=r?n:r,h=n>=r?n:r,m=this.table.rowManager.getDisplayRows().slice(0).splice(l,h-l+1);t.ctrlKey||t.metaKey?(m.forEach(f=>{f!==this.lastClickedRow&&(!0===this.table.options.selectable||this.isRowSelected(e)||this.selectedRows.length<this.table.options.selectable)&&this.toggleRow(f)}),this.lastClickedRow=e):(this.deselectRows(void 0,!0),!0!==this.table.options.selectable&&m.length>this.table.options.selectable&&(m=m.slice(0,this.table.options.selectable)),this.selectRows(m)),this.table._clearSelection()}else t.ctrlKey||t.metaKey?(this.toggleRow(e),this.lastClickedRow=e):(this.deselectRows(void 0,!0),this.selectRows(e),this.lastClickedRow=e)}toggleRow(e){this.table.options.selectableCheck.call(this.table,e.getComponent())&&(e.modules.select&&e.modules.select.selected?this._deselectRow(e):this._selectRow(e))}selectRows(e){var t;switch(typeof e){case"undefined":this.table.rowManager.rows.forEach(n=>{this._selectRow(n,!0,!0)}),this._rowSelectionChanged();break;case"string":(t=this.table.rowManager.findRow(e))?this._selectRow(t,!0,!0):this.table.rowManager.getRows(e).forEach(n=>{this._selectRow(n,!0,!0)}),this._rowSelectionChanged();break;default:Array.isArray(e)?(e.forEach(n=>{this._selectRow(n,!0,!0)}),this._rowSelectionChanged()):this._selectRow(e,!1,!0)}}_selectRow(e,t,n){if(!isNaN(this.table.options.selectable)&&!0!==this.table.options.selectable&&!n&&this.selectedRows.length>=this.table.options.selectable){if(!this.table.options.selectableRollingSelection)return!1;this._deselectRow(this.selectedRows[0])}var r=this.table.rowManager.findRow(e);r?-1==this.selectedRows.indexOf(r)&&(r.getElement().classList.add("tabulator-selected"),r.modules.select||(r.modules.select={}),r.modules.select.selected=!0,r.modules.select.checkboxEl&&(r.modules.select.checkboxEl.checked=!0),this.selectedRows.push(r),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(r,!0),this.dispatchExternal("rowSelected",r.getComponent()),this._rowSelectionChanged(t)):t||console.warn("Selection Error - No such row found, ignoring selection:"+e)}isRowSelected(e){return-1!==this.selectedRows.indexOf(e)}deselectRows(e,t){var r,n=this;if(void 0===e){r=n.selectedRows.length;for(let l=0;l<r;l++)n._deselectRow(n.selectedRows[0],!0);n._rowSelectionChanged(t)}else Array.isArray(e)?(e.forEach(function(l){n._deselectRow(l,!0)}),n._rowSelectionChanged(t)):n._deselectRow(e,t)}_deselectRow(e,t){var l,n=this,r=n.table.rowManager.findRow(e);r?(l=n.selectedRows.findIndex(function(h){return h==r}))>-1&&(r.getElement().classList.remove("tabulator-selected"),r.modules.select||(r.modules.select={}),r.modules.select.selected=!1,r.modules.select.checkboxEl&&(r.modules.select.checkboxEl.checked=!1),n.selectedRows.splice(l,1),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(r,!1),this.dispatchExternal("rowDeselected",r.getComponent()),n._rowSelectionChanged(t)):t||console.warn("Deselection Error - No such row found, ignoring selection:"+e)}getSelectedData(){var e=[];return this.selectedRows.forEach(function(t){e.push(t.getData())}),e}getSelectedRows(){var e=[];return this.selectedRows.forEach(function(t){e.push(t.getComponent())}),e}_rowSelectionChanged(e){this.headerCheckboxElement&&(0===this.selectedRows.length?(this.headerCheckboxElement.checked=!1,this.headerCheckboxElement.indeterminate=!1):this.table.rowManager.rows.length===this.selectedRows.length?(this.headerCheckboxElement.checked=!0,this.headerCheckboxElement.indeterminate=!1):(this.headerCheckboxElement.indeterminate=!0,this.headerCheckboxElement.checked=!1)),e||this.dispatchExternal("rowSelectionChanged",this.getSelectedData(),this.getSelectedRows())}registerRowSelectCheckbox(e,t){e._row.modules.select||(e._row.modules.select={}),e._row.modules.select.checkboxEl=t}registerHeaderSelectCheckbox(e){this.headerCheckboxElement=e}childRowSelection(e,t){var n=this.table.modules.dataTree.getChildren(e,!0);if(t)for(let r of n)this._selectRow(r,!0);else for(let r of n)this._deselectRow(r,!0)}}return c.moduleName="selectRow",c})(),SortModule:(()=>{class c extends z{constructor(e){super(e),this.sortList=[],this.changed=!1,this.registerTableOption("sortMode","local"),this.registerTableOption("initialSort",!1),this.registerTableOption("columnHeaderSortMulti",!0),this.registerTableOption("sortOrderReverse",!1),this.registerTableOption("headerSortElement","<div class='tabulator-arrow'></div>"),this.registerColumnOption("sorter"),this.registerColumnOption("sorterParams"),this.registerColumnOption("headerSort",!0),this.registerColumnOption("headerSortStartingDir"),this.registerColumnOption("headerSortTristate")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.registerDataHandler(this.sort.bind(this),20),this.registerTableFunction("setSort",this.userSetSort.bind(this)),this.registerTableFunction("getSorters",this.getSort.bind(this)),this.registerTableFunction("clearSort",this.clearSort.bind(this)),"remote"===this.table.options.sortMode&&this.subscribe("data-params",this.remoteSortParams.bind(this))}tableBuilt(){this.table.options.initialSort&&this.setSort(this.table.options.initialSort)}remoteSortParams(e,t,n,r){var l=this.getSort();return l.forEach(h=>{delete h.column}),r.sort=l,r}userSetSort(e,t){this.setSort(e,t),this.refreshSort()}clearSort(){this.clear(),this.refreshSort()}initializeColumn(e){var n,r,t=!1;switch(typeof e.definition.sorter){case"string":c.sorters[e.definition.sorter]?t=c.sorters[e.definition.sorter]:console.warn("Sort Error - No such sorter found: ",e.definition.sorter);break;case"function":t=e.definition.sorter}e.modules.sort={sorter:t,dir:"none",params:e.definition.sorterParams||{},startingDir:e.definition.headerSortStartingDir||"asc",tristate:e.definition.headerSortTristate},!1!==e.definition.headerSort&&((n=e.getElement()).classList.add("tabulator-sortable"),(r=document.createElement("div")).classList.add("tabulator-col-sorter"),"object"==typeof this.table.options.headerSortElement?r.appendChild(this.table.options.headerSortElement):r.innerHTML=this.table.options.headerSortElement,e.titleHolderElement.appendChild(r),e.modules.sort.element=r,n.addEventListener("click",l=>{var h="",d=[],m=!1;if(e.modules.sort){if(e.modules.sort.tristate)h="none"==e.modules.sort.dir?e.modules.sort.startingDir:e.modules.sort.dir==e.modules.sort.startingDir?"asc"==e.modules.sort.dir?"desc":"asc":"none";else switch(e.modules.sort.dir){case"asc":h="desc";break;case"desc":h="asc";break;default:h=e.modules.sort.startingDir}this.table.options.columnHeaderSortMulti&&(l.shiftKey||l.ctrlKey)?((m=(d=this.getSort()).findIndex(f=>f.field===e.getField()))>-1?(d[m].dir=h,m!=d.length-1&&(m=d.splice(m,1)[0],"none"!=h&&d.push(m))):"none"!=h&&d.push({column:e,dir:h}),this.setSort(d)):"none"==h?this.clear():this.setSort(e,h),this.refreshSort()}}))}refreshSort(){"remote"===this.table.options.sortMode?this.reloadData():this.refreshData(!0)}hasChanged(){var e=this.changed;return this.changed=!1,e}getSort(){var t=[];return this.sortList.forEach(function(n){n.column&&t.push({column:n.column.getComponent(),field:n.column.getField(),dir:n.dir})}),t}setSort(e,t){var n=this,r=[];Array.isArray(e)||(e=[{column:e,dir:t}]),e.forEach(function(l){var h;(h=n.table.columnManager.findColumn(l.column))?(l.column=h,r.push(l),n.changed=!0):console.warn("Sort Warning - Sort field does not exist and is being ignored: ",l.column)}),n.sortList=r,this.dispatch("sort-changed")}clear(){this.setSort([])}findSorter(e){var l,t=this.table.rowManager.activeRows[0],n="string";if(t&&(t=t.getData(),e.getField()))switch(l=e.getFieldValue(t),typeof l){case"undefined":n="string";break;case"boolean":n="boolean";break;default:isNaN(l)||""===l?l.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)&&(n="alphanum"):n="number"}return c.sorters[n]}sort(e){var t=this,n=this.table.options.sortOrderReverse?t.sortList.slice().reverse():t.sortList,r=[],l=[];return this.subscribedExternal("dataSorting")&&this.dispatchExternal("dataSorting",t.getSort()),t.clearColumnHeaders(),"remote"!==this.table.options.sortMode?(n.forEach(function(h,d){var m=h.column.modules.sort;h.column&&m&&(m.sorter||(m.sorter=t.findSorter(h.column)),h.params="function"==typeof m.params?m.params(h.column.getComponent(),h.dir):m.params,r.push(h)),t.setColumnHeader(h.column,h.dir)}),r.length&&t._sortItems(e,r)):n.forEach(function(h,d){t.setColumnHeader(h.column,h.dir)}),this.subscribedExternal("dataSorted")&&(e.forEach(h=>{l.push(h.getComponent())}),this.dispatchExternal("dataSorted",t.getSort(),l)),e}clearColumnHeaders(){this.table.columnManager.getRealColumns().forEach(function(e){e.modules.sort&&(e.modules.sort.dir="none",e.getElement().setAttribute("aria-sort","none"))})}setColumnHeader(e,t){e.modules.sort.dir=t,e.getElement().setAttribute("aria-sort",t)}_sortItems(e,t){var n=t.length-1;e.sort((r,l)=>{for(var h,d=n;d>=0;d--){let m=t[d];if(0!==(h=this._sortRow(r,l,m.column,m.dir,m.params)))break}return h})}_sortRow(e,t,n,r,l){var h,d,m="asc"==r?e:t,f="asc"==r?t:e;return e=void 0!==(e=n.getFieldValue(m.getData()))?e:"",t=void 0!==(t=n.getFieldValue(f.getData()))?t:"",h=m.getComponent(),d=f.getComponent(),n.modules.sort.sorter.call(this,e,t,h,d,n.getComponent(),r,l)}}return c.moduleName="sort",c.sorters=xi,c})(),ValidateModule:(()=>{class c extends z{constructor(e){super(e),this.invalidCells=[],this.registerTableOption("validationMode","blocking"),this.registerColumnOption("validator"),this.registerTableFunction("getInvalidCells",this.getInvalidCells.bind(this)),this.registerTableFunction("clearCellValidation",this.userClearCellValidation.bind(this)),this.registerTableFunction("validate",this.userValidate.bind(this)),this.registerComponentFunction("cell","isValid",this.cellIsValid.bind(this)),this.registerComponentFunction("cell","clearValidation",this.clearValidation.bind(this)),this.registerComponentFunction("cell","validate",this.cellValidate.bind(this)),this.registerComponentFunction("column","validate",this.columnValidate.bind(this)),this.registerComponentFunction("row","validate",this.rowValidate.bind(this))}initialize(){this.subscribe("cell-delete",this.clearValidation.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this))}cellIsValid(e){return!e.modules.validate||!e.modules.validate.invalid}cellValidate(e){return this.validate(e.column.modules.validate,e,e.getValue())}columnValidate(e){var t=[];return e.cells.forEach(n=>{this.cellValidate(n)||t.push(n.getComponent())}),!t.length||t}rowValidate(e){var t=[];return e.cells.forEach(n=>{this.cellValidate(n)||t.push(n.getComponent())}),!t.length||t}userClearCellValidation(e){e||(e=this.getInvalidCells()),Array.isArray(e)||(e=[e]),e.forEach(t=>{this.clearValidation(t._getSelf())})}userValidate(e){var t=[];return this.table.rowManager.rows.forEach(n=>{var r=(n=n.getComponent()).validate();!0!==r&&(t=t.concat(r))}),!t.length||t}initializeColumnCheck(e){void 0!==e.definition.validator&&this.initializeColumn(e)}initializeColumn(e){var r,t=this,n=[];e.definition.validator&&(Array.isArray(e.definition.validator)?e.definition.validator.forEach(l=>{(r=t._extractValidator(l))&&n.push(r)}):(r=this._extractValidator(e.definition.validator))&&n.push(r),e.modules.validate=!!n.length&&n)}_extractValidator(e){var t,n,r;switch(typeof e){case"string":return(r=e.indexOf(":"))>-1?(t=e.substring(0,r),n=e.substring(r+1)):t=e,this._buildValidator(t,n);case"function":return this._buildValidator(e);case"object":return this._buildValidator(e.type,e.parameters)}}_buildValidator(e,t){var n="function"==typeof e?e:c.validators[e];return n?{type:"function"==typeof e?"function":e,func:n,params:t}:(console.warn("Validator Setup Error - No matching validator found:",e),!1)}validate(e,t,n){var r=this,l=[],h=this.invalidCells.indexOf(t);return e&&e.forEach(d=>{d.func.call(r,t.getComponent(),n,d.params)||l.push({type:d.type,parameters:d.params})}),l=!l.length||l,t.modules.validate||(t.modules.validate={}),!0===l?(t.modules.validate.invalid=!1,t.getElement().classList.remove("tabulator-validation-fail"),h>-1&&this.invalidCells.splice(h,1)):(t.modules.validate.invalid=!0,"manual"!==this.table.options.validationMode&&t.getElement().classList.add("tabulator-validation-fail"),-1==h&&this.invalidCells.push(t)),l}getInvalidCells(){var e=[];return this.invalidCells.forEach(t=>{e.push(t.getComponent())}),e}clearValidation(e){var t;e.modules.validate&&e.modules.validate.invalid&&(e.getElement().classList.remove("tabulator-validation-fail"),e.modules.validate.invalid=!1,(t=this.invalidCells.indexOf(e))>-1&&this.invalidCells.splice(t,1))}}return c.moduleName="validate",c.validators=ki,c})()}),Si={debugEventsExternal:!1,debugEventsInternal:!1,debugInvalidOptions:!0,height:!1,minHeight:!1,maxHeight:!1,columnHeaderVertAlign:"top",columns:[],columnDefaults:{},data:!1,autoColumns:!1,autoColumnsDefinitions:!1,nestedFieldSeparator:".",tooltipGenerationMode:"load",footerElement:!1,index:"id",textDirection:"auto",addRowPos:"bottom",headerVisible:!0,renderVertical:"virtual",renderHorizontal:"basic",renderVerticalBuffer:0,scrollToRowPosition:"top",scrollToRowIfVisible:!0,scrollToColumnPosition:"left",scrollToColumnIfVisible:!0,rowFormatter:!1,rowFormatterPrint:null,rowFormatterClipboard:null,rowFormatterHtmlOutput:null,placeholder:!1,dataLoader:!0,dataLoaderLoading:!1,dataLoaderError:!1,dataLoaderErrorTimeout:3e3,dataSendParams:{},dataReceiveParams:{}};class lt{constructor(s,e,t={}){this.table=s,this.msgType=e,this.registeredDefaults=Object.assign({},t)}register(s,e){this.registeredDefaults[s]=e}generate(s,e={}){var t=Object.assign({},this.registeredDefaults);if(Object.assign(t,s),!1!==e.debugInvalidOptions||this.table.options.debugInvalidOptions)for(var n in e)t.hasOwnProperty(n)||console.warn("Invalid "+this.msgType+" option:",n);for(var n in t)n in e?t[n]=e[n]:Array.isArray(t[n])?t[n]=Object.assign([],t[n]):"object"==typeof t[n]&&null!==t[n]?t[n]=Object.assign({},t[n]):void 0===t[n]&&delete t[n];return t}}class Me extends F{constructor(s){super(s),this.elementVertical=s.rowManager.element,this.elementHorizontal=s.columnManager.element,this.tableElement=s.rowManager.tableElement,this.verticalFillMode="fit"}initialize(){}clearRows(){}clearColumns(){}reinitializeColumnWidths(s){}renderRows(){}renderColumns(){}rerenderRows(s){s&&s()}rerenderColumns(s,e){}renderRowCells(s){}rerenderRowCells(s,e){}scrollColumns(s,e){}scrollRows(s,e){}resize(){}scrollToRow(s){}scrollToRowNearestTop(s){}visibleRows(s){return[]}rows(){return this.table.rowManager.getDisplayRows()}styleRow(s,e){var t=s.getElement();e%2?(t.classList.add("tabulator-row-even"),t.classList.remove("tabulator-row-odd")):(t.classList.add("tabulator-row-odd"),t.classList.remove("tabulator-row-even"))}clear(){this.clearRows(),this.clearColumns()}render(){this.renderRows(),this.renderColumns()}rerender(s){this.rerenderRows(),this.rerenderColumns()}scrollToRowPosition(s,e,t){var n=this.rows().indexOf(s),r=s.getElement(),l=0;return new Promise((h,d)=>{if(n>-1){if(void 0===t&&(t=this.table.options.scrollToRowIfVisible),!t&&B.elVisible(r)&&(l=B.elOffset(r).top-B.elOffset(this.elementVertical).top)>0&&l<this.elementVertical.clientHeight-r.offsetHeight)return h(),!1;switch(void 0===e&&(e=this.table.options.scrollToRowPosition),"nearest"===e&&(e=this.scrollToRowNearestTop(s)?"top":"bottom"),this.scrollToRow(s),e){case"middle":case"center":this.elementVertical.scrollTop=this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop+(r.offsetTop-this.elementVertical.scrollTop)-(this.elementVertical.scrollHeight-r.offsetTop)/2:this.elementVertical.scrollTop-this.elementVertical.clientHeight/2;break;case"bottom":this.elementVertical.scrollTop=this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop-(this.elementVertical.scrollHeight-r.offsetTop)+r.offsetHeight:this.elementVertical.scrollTop-this.elementVertical.clientHeight+r.offsetHeight}h()}else console.warn("Scroll Error - Row not visible"),d("Scroll Error - Row not visible")})}}class Mi extends Me{constructor(s){super(s)}renderRowCells(s){s.cells.forEach(e=>{s.element.appendChild(e.getElement()),e.cellRendered()})}reinitializeColumnWidths(s){s.forEach(function(e){e.reinitializeWidth()})}}class Fi extends Me{constructor(s){super(s),this.leftCol=0,this.rightCol=0,this.scrollLeft=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0,this.fitDataColAvg=0,this.window=200,this.initialized=!1,this.columns=[]}initialize(){this.compatibilityCheck()}compatibilityCheck(){var s=this.options("columns"),t=!0;return"fitDataTable"==this.options("layout")&&(console.warn("Horizontal Virtual DOM is not compatible with fitDataTable layout mode"),t=!1),this.options("responsiveLayout")&&(console.warn("Horizontal Virtual DOM is not compatible with responsive columns"),t=!1),this.options("rtl")&&(console.warn("Horizontal Virtual DOM is not currently compatible with RTL text direction"),t=!1),s&&s.find(n=>n.frozen)&&(console.warn("Horizontal Virtual DOM is not compatible with frozen columns"),t=!1),t}renderColumns(s,e){this.dataChange()}scrollColumns(s,e){this.scrollLeft!=s&&(this.scrollLeft=s,this.scroll(s-(this.vDomScrollPosLeft+this.window)))}rerenderColumns(s,e){var t={cols:this.columns,leftCol:this.leftCol,rightCol:this.rightCol};if(!s||this.initialized){this.clear(),this.scrollLeft=this.elementVertical.scrollLeft,this.vDomScrollPosLeft=this.scrollLeft-this.window,this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.window;var n=0;this.table.columnManager.columnsByIndex.forEach(r=>{var l={};if(r.visible){var h=r.getWidth();l.leftPos=n,l.rightPos=n+h,l.width=h,"fitData"===this.options("layout")&&(l.fitDataCheck=!r.modules.vdomHoz||r.modules.vdomHoz.fitDataCheck),n+h>this.vDomScrollPosLeft&&n<this.vDomScrollPosRight?(-1==this.leftCol&&(this.leftCol=this.columns.length,this.vDomPadLeft=n),this.rightCol=this.columns.length):-1!==this.leftCol&&(this.vDomPadRight+=h),this.columns.push(r),r.modules.vdomHoz=l,n+=h}}),this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.initialized=!0,e||(!s||this.reinitChanged(t))&&this.reinitializeRows(),this.elementVertical.scrollLeft=this.scrollLeft}}renderRowCells(s){this.initialized?this.initializeRow(s):s.cells.forEach(e=>{s.element.appendChild(e.getElement()),e.cellRendered()})}rerenderRowCells(s,e){this.reinitializeRow(s,e)}reinitializeColumnWidths(s){for(let e=this.leftCol;e<=this.rightCol;e++)this.columns[e].reinitializeWidth()}deinitialize(){this.initialized=!1}clear(){this.columns=[],this.leftCol=-1,this.rightCol=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0}dataChange(){var r,n,s=!1,e=0,t=0;if("fitData"===this.options("layout")){if(this.table.columnManager.columnsByIndex.forEach(l=>{!l.definition.width&&l.visible&&(s=!0)}),s&&s&&this.table.rowManager.getDisplayRows().length&&(this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.window,n=this.chain("rows-sample",[1],[],()=>this.table.rowManager.getDisplayRows()[0])[0])){for(r=n.getElement(),n.generateCells(),this.tableElement.appendChild(r),t=0;t<n.cells.length;t++){let d=n.cells[t];if(r.appendChild(d.getElement()),d.column.reinitializeWidth(),(e+=d.column.getWidth())>this.vDomScrollPosRight)break}for(r.parentNode.removeChild(r),this.fitDataColAvg=Math.floor(e/(t+1));t<this.table.columnManager.columnsByIndex.length;t++)this.table.columnManager.columnsByIndex[t].setWidth(this.fitDataColAvg);this.rerenderColumns(!1,!0)}}else"fitColumns"===this.options("layout")&&(this.layoutRefresh(),this.rerenderColumns(!1,!0))}reinitChanged(s){var e=!0;return s.cols.length!==this.columns.length||s.leftCol!==this.leftCol||s.rightCol!==this.rightCol||(s.cols.forEach((t,n)=>{t!==this.columns[n]&&(e=!1)}),!e)}reinitializeRows(){this.table.rowManager.getVisibleRows().forEach(e=>{this.reinitializeRow(e,!0)})}scroll(s){this.vDomScrollPosLeft+=s,this.vDomScrollPosRight+=s,s>.8*this.elementVertical.clientWidth?this.rerenderColumns():s>0?(this.addColRight(),this.removeColLeft()):(this.addColLeft(),this.removeColRight())}colPositionAdjust(s,e,t){for(let n=s;n<e;n++){let r=this.columns[n];r.modules.vdomHoz.leftPos+=t,r.modules.vdomHoz.rightPos+=t}}addColRight(){var s=this.columns[this.rightCol+1];s&&s.modules.vdomHoz.leftPos<=this.vDomScrollPosRight&&(this.table.rowManager.getVisibleRows().forEach(t=>{if("group"!==t.type){var n=t.getCell(s);t.getElement().appendChild(n.getElement()),n.cellRendered()}}),this.fitDataColActualWidthCheck(s),this.rightCol++,this.rightCol>=this.columns.length-1?this.vDomPadRight=0:this.vDomPadRight-=s.getWidth(),this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.addColRight())}addColLeft(){var s=this.columns[this.leftCol-1];s&&s.modules.vdomHoz.rightPos>=this.vDomScrollPosLeft&&(this.table.rowManager.getVisibleRows().forEach(n=>{if("group"!==n.type){var r=n.getCell(s);n.getElement().prepend(r.getElement()),r.cellRendered()}}),this.fitDataColActualWidthCheck(s),this.leftCol--,this.leftCol<=0?this.vDomPadLeft=0:this.vDomPadLeft-=s.getWidth(),this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.addColLeft())}removeColRight(e){var t;(e=this.columns[this.rightCol])&&e.modules.vdomHoz.leftPos>this.vDomScrollPosRight&&(t=this.table.rowManager.getVisibleRows(),e.modules.vdomHoz.visible=!1,t.forEach(n=>{if("group"!==n.type){var r=n.getCell(e);try{n.getElement().removeChild(r.getElement())}catch(l){console.warn("Could not removeColRight",l.message)}}}),this.vDomPadRight+=e.getWidth(),this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.rightCol--,this.removeColRight())}removeColLeft(){var s=this.columns[this.leftCol];s&&s.modules.vdomHoz.rightPos<this.vDomScrollPosLeft&&(this.table.rowManager.getVisibleRows().forEach(t=>{var n,r;if("group"!==t.type&&(n=t.getCell(s))&&(r=n.getElement()).parentNode)try{t.getElement().removeChild(r)}catch(l){console.warn("Could not removeColLeft",l.message)}}),this.vDomPadLeft+=s.getWidth(),this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.leftCol++,this.removeColLeft())}fitDataColActualWidthCheck(s){var e,t;s.modules.vdomHoz.fitDataCheck&&(s.reinitializeWidth(),(t=(e=s.getWidth())-s.modules.vdomHoz.width)&&(s.modules.vdomHoz.rightPos+=t,s.modules.vdomHoz.width=e,this.colPositionAdjust(this.rightCol+2,this.columns.length,t)),s.modules.vdomHoz.fitDataCheck=!1)}initializeRow(s){if("group"!==s.type){s.modules.vdomHoz={leftCol:this.leftCol,rightCol:this.rightCol};for(let e=this.leftCol;e<=this.rightCol;e++){let t=this.columns[e];if(t&&t.visible){let n=s.getCell(t);s.getElement().appendChild(n.getElement()),n.cellRendered()}}}}reinitializeRow(s,e){if("group"!==s.type&&(e||!s.modules.vdomHoz||s.modules.vdomHoz.leftCol!==this.leftCol||s.modules.vdomHoz.rightCol!==this.rightCol)){for(var t=s.getElement();t.firstChild;)t.removeChild(t.firstChild);this.initializeRow(s)}}}class Li extends F{constructor(s){super(s),this.blockHozScrollEvent=!1,this.headersElement=null,this.element=null,this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.scrollLeft=0,this.optionsList=new lt(this.table,"column definition",Xe),this.renderer=null}initialize(){this.initializeRenderer(),this.headersElement=this.createHeadersElement(),this.element=this.createHeaderElement(),this.element.insertBefore(this.headersElement,this.element.firstChild),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this))}initializeRenderer(){var s;(s="string"==typeof this.table.options.renderHorizontal?{virtual:Fi,basic:Mi}[this.table.options.renderHorizontal]:this.table.options.renderHorizontal)?(this.renderer=new s(this.table,this.element,this.tableElement),this.renderer.initialize()):console.error("Unable to find matching renderer:",table.options.renderHorizontal)}createHeadersElement(){var s=document.createElement("div");return s.classList.add("tabulator-headers"),s.setAttribute("role","row"),s}createHeaderElement(){var s=document.createElement("div");return s.classList.add("tabulator-header"),s.setAttribute("role","rowgroup"),this.table.options.headerVisible||s.classList.add("tabulator-header-hidden"),s}getElement(){return this.element}getHeadersElement(){return this.headersElement}scrollHorizontal(s){var t=this.element.scrollWidth-this.table.element.clientWidth;this.element.scrollLeft=s,this.element.style.marginLeft=s>t?-(s-t)+"px":0,this.scrollLeft=s,this.renderer.scrollColumns(s)}generateColumnsFromRowData(s){var n,r,e=[],t=this.table.options.autoColumnsDefinitions;if(s&&s.length){for(var l in n=s[0]){let h={field:l,title:l},d=n[l];switch(typeof d){case"undefined":r="string";break;case"boolean":r="boolean";break;case"object":r=Array.isArray(d)?"array":"string";break;default:r=isNaN(d)||""===d?d.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)?"alphanum":"string":"number"}h.sorter=r,e.push(h)}if(t)switch(typeof t){case"function":this.table.options.columns=t.call(this.table,e);break;case"object":Array.isArray(t)?e.forEach(h=>{var d=t.find(m=>m.field===h.field);d&&Object.assign(h,d)}):e.forEach(h=>{t[h.field]&&Object.assign(h,t[h.field])}),this.table.options.columns=e}else this.table.options.columns=e;this.setColumns(this.table.options.columns)}}setColumns(s,e){for(;this.headersElement.firstChild;)this.headersElement.removeChild(this.headersElement.firstChild);this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.dispatch("columns-loading"),s.forEach((t,n)=>{this._addColumn(t)}),this._reIndexColumns(),this.dispatch("columns-loaded"),this.renderer.rerenderColumns(!1,!0),this.redraw(!0)}_addColumn(s,e,t){var n=new Ce(s,this),r=n.getElement(),l=t&&this.findColumnIndex(t);if(t&&l>-1){var h=t.getTopColumn(),d=this.columns.indexOf(h),m=h.getElement();e?(this.columns.splice(d,0,n),m.parentNode.insertBefore(r,m)):(this.columns.splice(d+1,0,n),m.parentNode.insertBefore(r,m.nextSibling))}else e?(this.columns.unshift(n),this.headersElement.insertBefore(n.getElement(),this.headersElement.firstChild)):(this.columns.push(n),this.headersElement.appendChild(n.getElement()));return n.columnRendered(),n}registerColumnField(s){s.definition.field&&(this.columnsByField[s.definition.field]=s)}registerColumnPosition(s){this.columnsByIndex.push(s)}_reIndexColumns(){this.columnsByIndex=[],this.columns.forEach(function(s){s.reRegisterPosition()})}verticalAlignHeaders(){var s=0;this.columns.forEach(e=>{var t;e.clearVerticalAlign(),(t=e.getHeight())>s&&(s=t)}),this.columns.forEach(e=>{e.verticalAlign(this.table.options.columnHeaderVertAlign,s)}),this.table.rowManager.adjustTableSize()}findColumn(s){return"object"!=typeof s?this.columnsByField[s]||!1:s instanceof Ce?s:s instanceof $e?s._getSelf()||!1:"undefined"!=typeof HTMLElement&&s instanceof HTMLElement&&this.columns.find(t=>t.element===s)||!1}getColumnByField(s){return this.columnsByField[s]}getColumnsByFieldRoot(s){var e=[];return Object.keys(this.columnsByField).forEach(t=>{t.split(".")[0]===s&&e.push(this.columnsByField[t])}),e}getColumnByIndex(s){return this.columnsByIndex[s]}getFirstVisibleColumn(e){return(e=this.columnsByIndex.findIndex(t=>t.visible))>-1&&this.columnsByIndex[e]}getColumns(){return this.columns}findColumnIndex(s){return this.columnsByIndex.findIndex(e=>s===e)}getRealColumns(){return this.columnsByIndex}traverse(s){this.columnsByIndex.forEach((e,t)=>{s(e,t)})}getDefinitions(s){var e=[];return this.columnsByIndex.forEach(t=>{(!s||s&&t.visible)&&e.push(t.getDefinition())}),e}getDefinitionTree(){var s=[];return this.columns.forEach(e=>{s.push(e.getDefinition(!0))}),s}getComponents(s){var e=[];return(s?this.columns:this.columnsByIndex).forEach(n=>{e.push(n.getComponent())}),e}getWidth(){var s=0;return this.columnsByIndex.forEach(e=>{e.visible&&(s+=e.getWidth())}),s}moveColumn(s,e,t){this.moveColumnActual(s,e,t),e.element.parentNode.insertBefore(s.element,e.element),t&&e.element.parentNode.insertBefore(e.element,s.element),this.verticalAlignHeaders(),this.table.rowManager.reinitialize()}moveColumnActual(s,e,t){this._moveColumnInArray(s.parent.isGroup?s.parent.columns:this.columns,s,e,t),this._moveColumnInArray(this.columnsByIndex,s,e,t,!0),this.renderer.rerenderColumns(!0),this.dispatch("column-moved",s,e,t),this.subscribedExternal("columnMoved")&&this.dispatchExternal("columnMoved",s.getComponent(),this.table.columnManager.getComponents())}_moveColumnInArray(s,e,t,n,r){var h,l=s.indexOf(e);l>-1&&(s.splice(l,1),(h=s.indexOf(t))>-1?n&&(h+=1):h=l,s.splice(h,0,e),r&&(this.chain("column-moving-rows",[e,t,n],null,[])||[]).concat(this.table.rowManager.rows).forEach(function(m){if(m.cells.length){var f=m.cells.splice(l,1)[0];m.cells.splice(h,0,f)}}))}scrollToColumn(s,e,t){var n=0,r=0,l=0,h=s.getElement();return new Promise((d,m)=>{if(void 0===e&&(e=this.table.options.scrollToColumnPosition),void 0===t&&(t=this.table.options.scrollToColumnIfVisible),s.visible){switch(e){case"middle":case"center":l=-this.element.clientWidth/2;break;case"right":l=h.clientWidth-this.headersElement.clientWidth}if(!t&&(r=h.offsetLeft)>0&&r+h.offsetWidth<this.element.clientWidth)return!1;n=h.offsetLeft+l,n=Math.max(Math.min(n,this.table.rowManager.element.scrollWidth-this.table.rowManager.element.clientWidth),0),this.table.rowManager.scrollHorizontal(n),this.scrollHorizontal(n),d()}else console.warn("Scroll Error - Column not visible"),m("Scroll Error - Column not visible")})}generateCells(s){var e=[];return this.columnsByIndex.forEach(t=>{e.push(t.generateCell(s))}),e}getFlexBaseWidth(){var s=this.table.element.clientWidth,e=0;return this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(s-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),this.columnsByIndex.forEach(function(t){var n,r,l;t.visible&&(n=t.definition.width||0,r=parseInt(t.minWidth),l="string"==typeof n?n.indexOf("%")>-1?s/100*parseInt(n):parseInt(n):n,e+=l>r?l:r)}),e}addColumn(s,e,t){return new Promise((n,r)=>{var l=this._addColumn(s,e,t);this._reIndexColumns(),this.dispatch("column-add",s,e,t),"fitColumns"!=this.layoutMode()&&l.reinitializeWidth(),this.redraw(!0),this.table.rowManager.reinitialize(),this.renderer.rerenderColumns(),n(l)})}deregisterColumn(s){var t,e=s.getField();e&&delete this.columnsByField[e],(t=this.columnsByIndex.indexOf(s))>-1&&this.columnsByIndex.splice(t,1),(t=this.columns.indexOf(s))>-1&&this.columns.splice(t,1),this.verticalAlignHeaders(),this.redraw()}redraw(s){B.elVisible(this.element)&&this.verticalAlignHeaders(),s&&(this.table.rowManager.resetScroll(),this.table.rowManager.reinitialize()),this.confirm("table-redrawing",s)||this.layoutRefresh(),this.dispatch("table-redraw",s),this.table.footerManager.redraw()}}class Di extends Me{constructor(s){super(s),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0}clearRows(){for(var s=this.tableElement;s.firstChild;)s.removeChild(s.firstChild);s.scrollTop=0,s.scrollLeft=0,s.style.minWidth="",s.style.minHeight="",s.style.display="",s.style.visibility=""}renderRows(){var s=this.tableElement,e=!0;this.rows().forEach((t,n)=>{this.styleRow(t,n),s.appendChild(t.getElement()),t.initialize(!0),"group"!==t.type&&(e=!1)}),s.style.minWidth=e?this.table.columnManager.getWidth()+"px":""}rerenderRows(s){this.clearRows(),this.renderRows(),s&&s()}scrollToRowNearestTop(s){var e=B.elOffset(s.getElement()).top;return!(Math.abs(this.elementVertical.scrollTop-e)>Math.abs(this.elementVertical.scrollTop+this.elementVertical.clientHeight-e))}scrollToRow(s){var e=s.getElement();this.elementVertical.scrollTop=B.elOffset(e).top-B.elOffset(this.elementVertical).top+this.elementVertical.scrollTop}visibleRows(s){return this.rows()}}class Oi extends Me{constructor(s){super(s),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.vDomRowHeight=20,this.vDomTop=0,this.vDomBottom=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomMaxRenderChain=90,this.vDomWindowBuffer=0,this.vDomWindowMinTotalRows=20,this.vDomWindowMinMarginRows=5,this.vDomTopNewRows=[],this.vDomBottomNewRows=[]}clearRows(){for(var s=this.tableElement;s.firstChild;)s.removeChild(s.firstChild);s.style.paddingTop="",s.style.paddingBottom="",s.style.minHeight="",s.style.display="",s.style.visibility="",this.elementVertical.scrollTop=0,this.elementVertical.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0,this.vDomTop=0,this.vDomBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0}renderRows(){this._virtualRenderFill()}rerenderRows(s){for(var e=this.elementVertical.scrollTop,t=!1,n=!1,r=this.table.rowManager.scrollLeft,l=this.rows(),h=this.vDomTop;h<=this.vDomBottom;h++)if(l[h]){var d=e-l[h].getElement().offsetTop;if(!(!1===n||Math.abs(d)<n))break;n=d,t=h}l.forEach(m=>{m.deinitializeHeight()}),s&&s(),this._virtualRenderFill(!1===t?this.rows.length-1:t,!0,n||0),this.scrollColumns(r)}scrollColumns(s){this.table.rowManager.scrollHorizontal(s)}scrollRows(s,e){var t=s-this.vDomScrollPosTop,n=s-this.vDomScrollPosBottom,r=2*this.vDomWindowBuffer,l=this.rows();if(this.scrollTop=s,-t>r||n>r){var h=this.table.rowManager.scrollLeft;this._virtualRenderFill(Math.floor(this.elementVertical.scrollTop/this.elementVertical.scrollHeight*l.length)),this.scrollColumns(h)}else e?(t<0&&this._addTopRow(l,-t),n<0&&(this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer?this._removeBottomRow(l,-n):this.vDomScrollPosBottom=this.scrollTop)):(n>=0&&this._addBottomRow(l,n),t>=0&&(this.scrollTop>this.vDomWindowBuffer?this._removeTopRow(l,t):this.vDomScrollPosTop=this.scrollTop))}resize(){this.vDomWindowBuffer=this.table.options.renderVerticalBuffer||this.elementVertical.clientHeight}scrollToRowNearestTop(s){var e=this.rows().indexOf(s);return!(Math.abs(this.vDomTop-e)>Math.abs(this.vDomBottom-e))}scrollToRow(s){var e=this.rows().indexOf(s);e>-1&&this._virtualRenderFill(e,!0)}visibleRows(s){var e=this.elementVertical.scrollTop,t=this.elementVertical.clientHeight+e,n=!1,r=0,l=0,h=this.rows();if(s)r=this.vDomTop,l=this.vDomBottom;else for(var d=this.vDomTop;d<=this.vDomBottom;d++)if(h[d])if(n){if(!(t-h[d].getElement().offsetTop>=0))break;l=d}else if(e-h[d].getElement().offsetTop>=0)r=d;else{if(n=!0,!(t-h[d].getElement().offsetTop>=0))break;l=d}return h.slice(r,l+1)}_virtualRenderFill(s,e,t){var n=this.tableElement,r=this.elementVertical,l=0,h=0,d=0,m=0,f=0,b=this.rows(),C=b.length,w=this.elementVertical.clientHeight;if(t=t||0,s=s||0){for(;n.firstChild;)n.removeChild(n.firstChild);(d=(C-s+1)*this.vDomRowHeight)<w&&(s-=Math.ceil((w-d)/this.vDomRowHeight))<0&&(s=0),s-=l=Math.min(Math.max(Math.floor(this.vDomWindowBuffer/this.vDomRowHeight),this.vDomWindowMinMarginRows),s)}else this.clear();if(C&&B.elVisible(this.elementVertical)){for(this.vDomTop=s,this.vDomBottom=s-1;(h<=w+this.vDomWindowBuffer||f<this.vDomWindowMinTotalRows)&&this.vDomBottom<C-1;){var T,y=this.vDomBottom+1,x=b[y];this.styleRow(x,y),n.appendChild(x.getElement()),x.initialize(),x.heightInitialized||x.normalizeHeight(!0),T=x.getHeight(),f<l?m+=T:h+=T,T>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*T),this.vDomBottom++,f++}s?(this.vDomTopPad=e?this.vDomRowHeight*this.vDomTop+t:this.scrollTop-m,this.vDomBottomPad=this.vDomBottom==C-1?0:Math.max(this.vDomScrollHeight-this.vDomTopPad-h-m,0)):(this.vDomTopPad=0,this.vDomRowHeight=Math.floor((h+m)/f),this.vDomBottomPad=this.vDomRowHeight*(C-this.vDomBottom-1),this.vDomScrollHeight=m+h+this.vDomBottomPad-w),n.style.paddingTop=this.vDomTopPad+"px",n.style.paddingBottom=this.vDomBottomPad+"px",e&&(this.scrollTop=this.vDomTopPad+m+t-(this.elementVertical.scrollWidth>this.elementVertical.clientWidth?this.elementVertical.offsetHeight-w:0)),this.scrollTop=Math.min(this.scrollTop,this.elementVertical.scrollHeight-w),this.elementVertical.scrollWidth>this.elementVertical.offsetWidth&&e&&(this.scrollTop+=this.elementVertical.offsetHeight-w),this.vDomScrollPosTop=this.scrollTop,this.vDomScrollPosBottom=this.scrollTop,r.scrollTop=this.scrollTop,this.dispatch("render-virtual-fill")}}_addTopRow(s,e){for(var t=this.tableElement,n=[],r=0,l=this.vDomTop-1,h=0;this.vDomTop;){let m,f,d=s[l];if(!(d&&h<this.vDomMaxRenderChain))break;if(m=d.getHeight()||this.vDomRowHeight,f=d.initialized,!(e>=m))break;this.styleRow(d,l),t.insertBefore(d.getElement(),t.firstChild),(!d.initialized||!d.heightInitialized)&&n.push(d),d.initialize(),f||(m=d.getElement().offsetHeight,m>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*m)),e-=m,r+=m,this.vDomTop--,l--,h++}for(let d of n)d.clearCellHeight();this._quickNormalizeRowHeight(n),r&&(this.vDomTopPad-=r,this.vDomTopPad<0&&(this.vDomTopPad=l*this.vDomRowHeight),l<1&&(this.vDomTopPad=0),t.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop-=r)}_removeTopRow(s,e){for(var t=[],n=0,r=0;;){let h,l=s[this.vDomTop];if(!(l&&r<this.vDomMaxRenderChain))break;if(h=l.getHeight()||this.vDomRowHeight,!(e>=h))break;this.vDomTop++,e-=h,n+=h,t.push(l),r++}for(let l of t){let h=l.getElement();h.parentNode&&h.parentNode.removeChild(h)}n&&(this.vDomTopPad+=n,this.tableElement.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop+=this.vDomTop?n:n+this.vDomWindowBuffer)}_addBottomRow(s,e){for(var t=this.tableElement,n=[],r=0,l=this.vDomBottom+1,h=0;;){let m,f,d=s[l];if(!(d&&h<this.vDomMaxRenderChain))break;if(m=d.getHeight()||this.vDomRowHeight,f=d.initialized,!(e>=m))break;this.styleRow(d,l),t.appendChild(d.getElement()),(!d.initialized||!d.heightInitialized)&&n.push(d),d.initialize(),f||(m=d.getElement().offsetHeight,m>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*m)),e-=m,r+=m,this.vDomBottom++,l++,h++}for(let d of n)d.clearCellHeight();this._quickNormalizeRowHeight(n),r&&(this.vDomBottomPad-=r,(this.vDomBottomPad<0||l==s.length-1)&&(this.vDomBottomPad=0),t.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom+=r)}_removeBottomRow(s,e){for(var t=[],n=0,r=0;;){let h,l=s[this.vDomBottom];if(!(l&&r<this.vDomMaxRenderChain))break;if(h=l.getHeight()||this.vDomRowHeight,!(e>=h))break;this.vDomBottom--,e-=h,n+=h,t.push(l),r++}for(let l of t){let h=l.getElement();h.parentNode&&h.parentNode.removeChild(h)}n&&(this.vDomBottomPad+=n,this.vDomBottomPad<0&&(this.vDomBottomPad=0),this.tableElement.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom-=n)}_quickNormalizeRowHeight(s){for(let e of s)e.calcHeight();for(let e of s)e.setCellHeight()}}class Ai extends F{constructor(s){super(s),this.element=this.createHolderElement(),this.tableElement=this.createTableElement(),this.heightFixer=this.createTableElement(),this.placeholder=null,this.placeholderContents=null,this.firstRender=!1,this.renderMode="virtual",this.fixedHeight=!1,this.rows=[],this.activeRowsPipeline=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.scrollTop=0,this.scrollLeft=0,this.rowNumColumn=!1,this.redrawBlock=!1,this.redrawBlockRestoreConfig=!1,this.redrawBlockRenderInPosition=!1,this.dataPipeline=[],this.displayPipeline=[],this.renderer=null}createHolderElement(){var s=document.createElement("div");return s.classList.add("tabulator-tableholder"),s.setAttribute("tabindex",0),s.setAttribute("role","rowgroup"),s}createTableElement(){var s=document.createElement("div");return s.classList.add("tabulator-table"),s.setAttribute("role","rowgroup"),s}initializePlaceholder(){if("string"==typeof this.table.options.placeholder){let s=document.createElement("div");s.classList.add("tabulator-placeholder");let e=document.createElement("div");e.classList.add("tabulator-placeholder-contents"),e.innerHTML=this.table.options.placeholder,s.appendChild(e),this.placeholderContents=e,this.placeholder=s}}getElement(){return this.element}getTableElement(){return this.tableElement}getRowPosition(s,e){return e?this.activeRows.indexOf(s):this.rows.indexOf(s)}initialize(){this.initializePlaceholder(),this.initializeRenderer(),this.element.appendChild(this.tableElement),this.firstRender=!0,this.element.addEventListener("scroll",()=>{var s=this.element.scrollLeft,e=this.scrollLeft>s,t=this.element.scrollTop,n=this.scrollTop>t;this.scrollLeft!=s&&(this.scrollLeft=s,this.dispatch("scroll-horizontal",s,e),this.dispatchExternal("scrollHorizontal",s,e),this._positionPlaceholder()),this.scrollTop!=t&&(this.scrollTop=t,this.renderer.scrollRows(t,n),this.dispatch("scroll-vertical",t,n),this.dispatchExternal("scrollVertical",t,n))})}findRow(s){return"object"!=typeof s?null!=s&&(this.rows.find(t=>t.data[this.table.options.index]==s)||!1):s instanceof ee?s:s instanceof Pe?s._getSelf()||!1:"undefined"!=typeof HTMLElement&&s instanceof HTMLElement&&this.rows.find(t=>t.getElement()===s)||!1}getRowFromDataObject(s){return this.rows.find(t=>t.data===s)||!1}getRowFromPosition(s,e){return e?this.activeRows[s]:this.rows[s]}scrollToRow(s,e,t){return this.renderer.scrollToRowPosition(s,e,t)}setData(s,e,t){return new Promise((n,r)=>{e&&this.getDisplayRows().length?this.table.options.pagination?this._setDataActual(s,!0):this.reRenderInPosition(()=>{this._setDataActual(s)}):(this.table.options.autoColumns&&t&&this.table.initialized&&this.table.columnManager.generateColumnsFromRowData(s),this.resetScroll(),this._setDataActual(s)),n()})}_setDataActual(s,e){this.dispatchExternal("dataProcessing",s),this._wipeElements(),Array.isArray(s)?(this.dispatch("data-processing",s),s.forEach((t,n)=>{if(t&&"object"==typeof t){var r=new ee(t,this);this.rows.push(r)}else console.warn("Data Loading Warning - Invalid row data detected and ignored, expecting object but received:",t)}),this.refreshActiveData(!1,!1,e),this.dispatch("data-processed",s),this.dispatchExternal("dataProcessed",s)):console.error("Data Loading Error - Unable to process data due to invalid data type \nExpecting: array \nReceived: ",typeof s,"\nData:     ",s)}_wipeElements(){this.dispatch("rows-wipe"),this.rows.forEach(s=>{s.wipe()}),this.rows=[],this.activeRows=[],this.activeRowsPipeline=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.adjustTableSize()}deleteRow(s,e){var t=this.rows.indexOf(s),n=this.activeRows.indexOf(s);n>-1&&this.activeRows.splice(n,1),t>-1&&this.rows.splice(t,1),this.setActiveRows(this.activeRows),this.displayRowIterator(r=>{var l=r.indexOf(s);l>-1&&r.splice(l,1)}),e||this.reRenderInPosition(),this.regenerateRowNumbers(),this.dispatchExternal("rowDeleted",s.getComponent()),this.displayRowsCount||this._showPlaceholder(),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.getData())}addRow(s,e,t,n){return this.addRowActual(s,e,t,n)}addRows(s,e,t){var n=[];return new Promise((r,l)=>{e=this.findAddRowPos(e),Array.isArray(s)||(s=[s]),(void 0===t&&e||void 0!==t&&!e)&&s.reverse(),s.forEach((h,d)=>{var m=this.addRow(h,e,t,!0);n.push(m),this.dispatch("row-added",m,s,e,t)}),this.refreshActiveData(!1,!1,!0),this.regenerateRowNumbers(),n.length&&this._clearPlaceholder(),r(n)})}findAddRowPos(s){return void 0===s&&(s=this.table.options.addRowPos),"pos"===s&&(s=!0),"bottom"===s&&(s=!1),s}addRowActual(s,e,t,n){var d,m,r=s instanceof ee?s:new ee(s||{},this),l=this.findAddRowPos(e),h=-1;return t||(m=this.chain("row-adding-position",[r,l],null,{index:t,top:l}),t=m.index,l=m.top),void 0!==t&&(t=this.findRow(t)),(t=this.chain("row-adding-index",[r,t,l],null,t))&&(h=this.rows.indexOf(t)),t&&h>-1?(d=this.activeRows.indexOf(t),this.displayRowIterator(function(f){var b=f.indexOf(t);b>-1&&f.splice(l?b:b+1,0,r)}),d>-1&&this.activeRows.splice(l?d:d+1,0,r),this.rows.splice(l?h:h+1,0,r)):l?(this.displayRowIterator(function(f){f.unshift(r)}),this.activeRows.unshift(r),this.rows.unshift(r)):(this.displayRowIterator(function(f){f.push(r)}),this.activeRows.push(r),this.rows.push(r)),this.setActiveRows(this.activeRows),this.dispatchExternal("rowAdded",r.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),n||this.reRenderInPosition(),r}moveRow(s,e,t){this.dispatch("row-move",s,e,t),this.moveRowActual(s,e,t),this.regenerateRowNumbers(),this.dispatch("row-moved",s,e,t),this.dispatchExternal("rowMoved",s.getComponent())}moveRowActual(s,e,t){this.moveRowInArray(this.rows,s,e,t),this.moveRowInArray(this.activeRows,s,e,t),this.displayRowIterator(n=>{this.moveRowInArray(n,s,e,t)}),this.dispatch("row-moving",s,e,t)}moveRowInArray(s,e,t,n){var r,l,d;if(e!==t&&((r=s.indexOf(e))>-1&&(s.splice(r,1),l=s.indexOf(t),s.splice(l>-1?n?l+1:l:r,0,e)),s===this.getDisplayRows())){d=l>r?l:r+1;for(let m=r<l?r:l;m<=d;m++)s[m]&&this.styleRow(s[m],m)}}clearData(){this.setData([])}getRowIndex(s){return this.findRowIndex(s,this.rows)}getDisplayRowIndex(s){var e=this.getDisplayRows().indexOf(s);return e>-1&&e}nextDisplayRow(s,e){var t=this.getDisplayRowIndex(s),n=!1;return!1!==t&&t<this.displayRowsCount-1&&(n=this.getDisplayRows()[t+1]),!n||n instanceof ee&&"row"==n.type?n:this.nextDisplayRow(n,e)}prevDisplayRow(s,e){var t=this.getDisplayRowIndex(s),n=!1;return t&&(n=this.getDisplayRows()[t-1]),!e||!n||n instanceof ee&&"row"==n.type?n:this.prevDisplayRow(n,e)}findRowIndex(s,e){var t;return!!((s=this.findRow(s))&&(t=e.indexOf(s),t>-1))&&t}getData(s,e){var t=[];return this.getRows(s).forEach(function(r){"row"==r.type&&t.push(r.getData(e||"data"))}),t}getComponents(s){var e=[];return this.getRows(s).forEach(function(n){e.push(n.getComponent())}),e}getDataCount(s){return this.getRows(s).length}scrollHorizontal(s){this.scrollLeft=s,this.element.scrollLeft=s,this.dispatch("scroll-horizontal",s)}registerDataPipelineHandler(s,e){void 0!==e?(this.dataPipeline.push({handler:s,priority:e}),this.dataPipeline.sort((t,n)=>t.priority-n.priority)):console.error("Data pipeline handlers must have a priority in order to be registered")}registerDisplayPipelineHandler(s,e){void 0!==e?(this.displayPipeline.push({handler:s,priority:e}),this.displayPipeline.sort((t,n)=>t.priority-n.priority)):console.error("Display pipeline handlers must have a priority in order to be registered")}refreshActiveData(s,e,t){var n=this.table,r="",l=0,h=["all","dataPipeline","display","displayPipeline","end"];if("function"==typeof s)if((l=this.dataPipeline.findIndex(d=>d.handler===s))>-1)r="dataPipeline",e&&(l==this.dataPipeline.length-1?r="display":l++);else{if(!((l=this.displayPipeline.findIndex(d=>d.handler===s))>-1))return void console.error("Unable to refresh data, invalid handler provided",s);r="displayPipeline",e&&(l==this.displayPipeline.length-1?r="end":l++)}else r=s||"all",l=0;this.redrawBlock?(!this.redrawBlockRestoreConfig||this.redrawBlockRestoreConfig&&(this.redrawBlockRestoreConfig.stage===r&&l<this.redrawBlockRestoreConfig.index||h.indexOf(r)<h.indexOf(this.redrawBlockRestoreConfig.stage)))&&(this.redrawBlockRestoreConfig={handler:s,skipStage:e,renderInPosition:t,stage:r,index:l}):(B.elVisible(this.element)?t?this.reRenderInPosition(this.refreshPipelines.bind(this,s,r,l,t)):(this.refreshPipelines(s,r,l,t),s||this.table.columnManager.renderer.renderColumns(),this.renderTable(),n.options.layoutColumnsOnNewData&&this.table.columnManager.redraw(!0)):this.refreshPipelines(s,r,l,t),this.dispatch("data-refreshed"))}refreshPipelines(s,e,t,n){switch(this.dispatch("data-refreshing"),s||(this.activeRowsPipeline[0]=this.rows.slice(0)),e){case"all":case"dataPipeline":for(let r=t;r<this.dataPipeline.length;r++){let l=this.dataPipeline[r].handler(this.activeRowsPipeline[r].slice(0));this.activeRowsPipeline[r+1]=l||this.activeRowsPipeline[r].slice(0)}this.setActiveRows(this.activeRowsPipeline[this.dataPipeline.length]),this.regenerateRowNumbers();case"display":t=0,this.resetDisplayRows();case"displayPipeline":for(let r=t;r<this.displayPipeline.length;r++){let l=this.displayPipeline[r].handler((r?this.getDisplayRows(r-1):this.activeRows).slice(0),n);this.setDisplayRows(l||this.getDisplayRows(r-1).slice(0),r)}}}regenerateRowNumbers(){this.rowNumColumn&&this.activeRows.forEach(s=>{var e=s.getCell(this.rowNumColumn);e&&e._generateContents()})}setActiveRows(s){this.activeRows=s,this.activeRowsCount=this.activeRows.length}resetDisplayRows(){this.displayRows=[],this.displayRows.push(this.activeRows.slice(0)),this.displayRowsCount=this.displayRows[0].length}getNextDisplayIndex(){return this.displayRows.length}setDisplayRows(s,e){var t=!0;return e&&void 0!==this.displayRows[e]?(this.displayRows[e]=s,t=!0):(this.displayRows.push(s),t=e=this.displayRows.length-1),e==this.displayRows.length-1&&(this.displayRowsCount=this.displayRows[this.displayRows.length-1].length),t}getDisplayRows(s){return void 0===s?this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]:this.displayRows[s]||[]}getVisibleRows(s,e){var t=Object.assign([],this.renderer.visibleRows(!e));return s&&(t=this.chain("rows-visible",[e],t,t)),t}displayRowIterator(s){this.activeRowsPipeline.forEach(s),this.displayRows.forEach(s),this.displayRowsCount=this.displayRows[this.displayRows.length-1].length}getRows(s){var e;switch(s){case"active":e=this.activeRows;break;case"display":e=this.table.rowManager.getDisplayRows();break;case"visible":e=this.getVisibleRows(!1,!0);break;default:e=this.chain("rows-retrieve",s,null,this.rows)||this.rows}return e}reRenderInPosition(s){this.redrawBlock?s?s():this.redrawBlockRenderInPosition=!0:this.renderer.rerenderRows(s)}initializeRenderer(){var s;(s="string"==typeof this.table.options.renderVertical?{virtual:Oi,basic:Di}[this.table.options.renderVertical]:this.table.options.renderVertical)?(this.renderer=new s(this.table,this.element,this.tableElement),this.renderer.initialize(),this.fixedHeight=!(!this.table.element.clientHeight&&!this.table.options.height)):console.error("Unable to find matching renderer:",table.options.renderVertical)}getRenderMode(){return this.renderMode}renderTable(){this.dispatchExternal("renderStarted"),this.element.scrollTop=0,this._clearTable(),this.displayRowsCount?(this.renderer.renderRows(),this.firstRender&&(this.firstRender=!1,this.layoutRefresh())):this.renderEmptyScroll(),this.fixedHeight||this.adjustTableSize(),this.dispatch("table-layout"),this.displayRowsCount||this._showPlaceholder(),this.dispatchExternal("renderComplete")}renderEmptyScroll(){this.placeholder?this.tableElement.style.display="none":this.tableElement.style.minWidth=this.table.columnManager.getWidth()+"px"}_clearTable(){this._clearPlaceholder(),this.scrollTop=0,this.scrollLeft=0,this.renderer.clearRows()}_showPlaceholder(){this.placeholder&&(this.placeholder.setAttribute("tabulator-render-mode",this.renderMode),this.getElement().appendChild(this.placeholder),this._positionPlaceholder())}_clearPlaceholder(){this.placeholder&&this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder)}_positionPlaceholder(){this.placeholder&&this.placeholder.parentNode&&(this.placeholder.style.width=this.table.columnManager.getWidth()+"px",this.placeholderContents.style.width=this.table.rowManager.element.clientWidth+"px",this.placeholderContents.style.marginLeft=this.scrollLeft+"px")}styleRow(s,e){var t=s.getElement();e%2?(t.classList.add("tabulator-row-even"),t.classList.remove("tabulator-row-odd")):(t.classList.add("tabulator-row-odd"),t.classList.remove("tabulator-row-even"))}normalizeHeight(){this.activeRows.forEach(function(s){s.normalizeHeight()})}adjustTableSize(){var s=this.element.clientHeight;if("fill"===this.renderer.verticalFillMode){let e=Math.floor(this.table.columnManager.getElement().getBoundingClientRect().height+(this.table.footerManager&&this.table.footerManager.active&&!this.table.footerManager.external?this.table.footerManager.getElement().getBoundingClientRect().height:0));this.fixedHeight?(this.element.style.minHeight="calc(100% - "+e+"px)",this.element.style.height="calc(100% - "+e+"px)",this.element.style.maxHeight="calc(100% - "+e+"px)"):(this.element.style.height="",this.element.style.height=this.table.element.clientHeight-e+"px",this.element.scrollTop=this.scrollTop),this.renderer.resize(),!this.fixedHeight&&s!=this.element.clientHeight&&(this.subscribed("table-resize")?this.dispatch("table-resize"):this.redraw())}this._positionPlaceholder()}reinitialize(){this.rows.forEach(function(s){s.reinitialize(!0)})}blockRedraw(){this.redrawBlock=!0,this.redrawBlockRestoreConfig=!1}restoreRedraw(){this.redrawBlock=!1,this.redrawBlockRestoreConfig?(this.refreshActiveData(this.redrawBlockRestoreConfig.handler,this.redrawBlockRestoreConfig.skipStage,this.redrawBlockRestoreConfig.renderInPosition),this.redrawBlockRestoreConfig=!1):this.redrawBlockRenderInPosition&&this.reRenderInPosition(),this.redrawBlockRenderInPosition=!1}redraw(s){var e=this.scrollLeft;this.adjustTableSize(),this.table.tableWidth=this.table.element.clientWidth,s?this.renderTable():(this.reRenderInPosition(),this.scrollHorizontal(e))}resetScroll(){if(this.element.scrollLeft=0,this.element.scrollTop=0,"ie"===this.table.browser){var s=document.createEvent("Event");s.initEvent("scroll",!1,!0),this.element.dispatchEvent(s)}else this.element.dispatchEvent(new Event("scroll"))}}class zi extends F{constructor(s){super(s),this.active=!1,this.element=this.createElement(),this.containerElement=this.createContainerElement(),this.external=!1,this.links=[]}initialize(){this.initializeElement()}createElement(){var s=document.createElement("div");return s.classList.add("tabulator-footer"),s}createContainerElement(){var s=document.createElement("div");return s.classList.add("tabulator-footer-contents"),this.element.appendChild(s),s}initializeElement(){this.table.options.footerElement&&("string"==typeof this.table.options.footerElement?"<"===this.table.options.footerElement[0]?this.containerElement.innerHTML=this.table.options.footerElement:(this.external=!0,this.element=document.querySelector(this.table.options.footerElement)):this.element=this.table.options.footerElement)}getElement(){return this.element}append(s,e){this.activate(e),this.containerElement.appendChild(s),this.table.rowManager.adjustTableSize()}prepend(s,e){this.activate(e),this.element.insertBefore(s,this.element.firstChild),this.table.rowManager.adjustTableSize()}remove(s){s.parentNode.removeChild(s),this.deactivate()}deactivate(s){(!this.element.firstChild||s)&&(this.external||this.element.parentNode.removeChild(this.element),this.active=!1)}activate(s){this.active||(this.active=!0,this.external||(this.table.element.appendChild(this.getElement()),this.table.element.style.display="")),s&&this.links.push(s)}redraw(){this.links.forEach(function(s){s.footerRedraw()})}}class Pi extends F{constructor(s){super(s),this.el=null,this.abortClasses=["tabulator-headers","tabulator-table"],this.previousTargets={},this.listeners=["click","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","touchstart","touchend"],this.componentMap={"tabulator-cell":"cell","tabulator-row":"row","tabulator-group":"group","tabulator-col":"column"},this.pseudoTrackers={row:{subscriber:null,target:null},cell:{subscriber:null,target:null},group:{subscriber:null,target:null},column:{subscriber:null,target:null}},this.pseudoTracking=!1}initialize(){this.el=this.table.element,this.buildListenerMap(),this.bindSubscriptionWatchers()}buildListenerMap(){var s={};this.listeners.forEach(e=>{s[e]={handler:null,components:[]}}),this.listeners=s}bindPseudoEvents(){Object.keys(this.pseudoTrackers).forEach(s=>{this.pseudoTrackers[s].subscriber=this.pseudoMouseEnter.bind(this,s),this.subscribe(s+"-mouseover",this.pseudoTrackers[s].subscriber)}),this.pseudoTracking=!0}pseudoMouseEnter(s,e,t){this.pseudoTrackers[s].target!==t&&(this.pseudoTrackers[s].target&&this.dispatch(s+"-mouseleave",e,t),this.pseudoMouseLeave(s,e),this.pseudoTrackers[s].target=t,this.dispatch(s+"-mouseenter",e,t))}pseudoMouseLeave(s,e){var t=Object.keys(this.pseudoTrackers),n={row:["cell"],cell:["row"]};(t=t.filter(r=>{var l=n[s];return r!==s&&(!l||l&&!l.includes(r))})).forEach(r=>{this.pseudoTrackers[r].target&&(this.dispatch(r+"-mouseleave",e,this.pseudoTrackers[r].target),this.pseudoTrackers[r].target=null)})}bindSubscriptionWatchers(){var s=Object.keys(this.listeners),e=Object.values(this.componentMap);for(let t of e)for(let n of s)this.subscriptionChange(t+"-"+n,this.subscriptionChanged.bind(this,t,n));this.subscribe("table-destroy",this.clearWatchers.bind(this))}subscriptionChanged(s,e,t){var n=this.listeners[e].components,r=n.indexOf(s),l=!1;t?-1===r&&(n.push(s),l=!0):this.subscribed(s+"-"+e)||r>-1&&(n.splice(r,1),l=!0),("mouseenter"===e||"mouseleave"===e)&&!this.pseudoTracking&&this.bindPseudoEvents(),l&&this.updateEventListeners()}updateEventListeners(){for(let s in this.listeners){let e=this.listeners[s];e.components.length?e.handler||(e.handler=this.track.bind(this,s),this.el.addEventListener(s,e.handler)):e.handler&&(this.el.removeEventListener(s,e.handler),e.handler=null)}}track(s,e){var t=e.composedPath&&e.composedPath()||e.path,n=this.findTargets(t);n=this.bindComponents(s,n),this.triggerEvents(s,e,n),this.pseudoTracking&&("mouseover"==s||"mouseleave"==s)&&!Object.keys(n).length&&this.pseudoMouseLeave("none",e)}findTargets(s){var e={};let t=Object.keys(this.componentMap);for(let n of s){let r=n.classList?[...n.classList]:[];if(r.filter(d=>this.abortClasses.includes(d)).length)break;let h=r.filter(d=>t.includes(d));for(let d of h)e[this.componentMap[d]]=n}return e.group&&e.group===e.row&&delete e.row,e}bindComponents(s,e){var t=Object.keys(e).reverse(),n=this.listeners[s],r={};for(let l of t){let h,d=e[l],m=this.previousTargets[l];if(m&&m.target===d)h=m.component;else switch(l){case"row":case"group":(n.components.includes("row")||n.components.includes("cell")||n.components.includes("group"))&&(h=this.table.rowManager.getVisibleRows(!0).find(b=>b.getElement()===d),e.row.parentNode&&e.row.parentNode.closest(".tabulator-row")&&(e[l]=!1));break;case"column":n.components.includes("column")&&(h=this.table.columnManager.findColumn(d));break;case"cell":n.components.includes("cell")&&(e.row instanceof ee?h=e.row.findCell(d):e.row&&console.warn("Event Target Lookup Error - The row this cell is attached to cannot be found, has the table been reinitialized without being destroyed first?"))}h&&(e[l]=h,r[l]={target:d,component:h})}return this.previousTargets=r,e}triggerEvents(s,e,t){var n=this.listeners[s];for(let r in t)t[r]&&n.components.includes(r)&&this.dispatch(r+"-"+s,e,t[r])}clearWatchers(){for(let s in this.listeners){let e=this.listeners[s];e.handler&&(this.el.removeEventListener(s,e.handler),e.handler=null)}}}class Bi{constructor(s){this.table=s,this.bindings={}}bind(s,e,t){this.bindings[s]||(this.bindings[s]={}),this.bindings[s][e]?console.warn("Unable to bind component handler, a matching function name is already bound",s,e,hanlder):this.bindings[s][e]=t}handle(s,e,t){if(this.bindings[s]&&this.bindings[s][t])return this.bindings[s][t].bind(null,e);"then"!==t&&"string"==typeof t&&!t.startsWith("_")&&console.error("The "+s+" component does not have a "+t+" function, have you checked that you have the correct Tabulator module installed?")}}class Ii extends F{constructor(s){super(s),this.loaderElement=this.createLoaderElement(),this.msgElement=this.createMsgElement(),this.loadingElement=null,this.errorElement=null,this.requestOrder=0,this.loading=!1}initialize(){var s;this.loaderElement.appendChild(this.msgElement),this.table.options.dataLoaderLoading&&("string"==typeof this.table.options.dataLoaderLoading?((s=document.createElement("template")).innerHTML=this.table.options.dataLoaderLoading.trim(),this.loadingElement=s.firstElementChild):this.loadingElement=this.table.options.dataLoaderLoading),this.table.options.dataLoaderError&&("string"==typeof this.table.options.dataLoaderError?((s=document.createElement("template")).innerHTML=this.table.options.dataLoaderError.trim(),this.errorElement=s.firstElementChild):this.errorElement=this.table.options.dataLoaderError)}createLoaderElement(){var s=document.createElement("div");return s.classList.add("tabulator-loader"),s}createMsgElement(){var s=document.createElement("div");return s.classList.add("tabulator-loader-msg"),s.setAttribute("role","alert"),s}load(s,e,t,n,r){var l=++this.requestOrder;return this.dispatchExternal("dataLoading",s),s&&(0==s.indexOf("{")||0==s.indexOf("["))&&(s=JSON.parse(s)),this.confirm("data-loading",[s,e,t,r])?(this.loading=!0,r||this.showLoader(),e=this.chain("data-params",[s,t,r],e||{},e||{}),e=this.mapParams(e,this.table.options.dataSendParams),this.chain("data-load",[s,e,t,r],!1,Promise.resolve([])).then(d=>{!Array.isArray(d)&&"object"==typeof d&&(d=this.mapParams(d,this.objectInvert(this.table.options.dataReceiveParams)));var m=this.chain("data-loaded",d,null,d);l==this.requestOrder?(this.hideLoader(),!1!==m&&(this.dispatchExternal("dataLoaded",m),this.table.rowManager.setData(m,n,!n))):console.warn("Data Load Response Blocked - An active data load request was blocked by an attempt to change table data while the request was being made")}).catch(d=>{console.error("Data Load Error: ",d),this.dispatchExternal("dataLoadError",d),r||this.showError(),setTimeout(()=>{this.hideLoader()},this.table.options.dataLoaderErrorTimeout)}).finally(()=>{this.loading=!1})):(this.dispatchExternal("dataLoaded",s),s||(s=[]),this.table.rowManager.setData(s,n,!n),Promise.resolve())}mapParams(s,e){var t={};for(let n in s)t[e.hasOwnProperty(n)?e[n]:n]=s[n];return t}objectInvert(s){var e={};for(let t in s)e[s[t]]=t;return e}blockActiveLoad(){this.requestOrder++}showLoader(){if("function"==typeof this.table.options.dataLoader?this.table.options.dataLoader():this.table.options.dataLoader){for(this.hideLoader();this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.remove("tabulator-error"),this.msgElement.classList.add("tabulator-loading"),this.loadingElement?this.msgElement.appendChild(this.loadingElement):this.msgElement.innerHTML=this.langText("data|loading"),this.table.element.appendChild(this.loaderElement)}}showError(){for(this.hideLoader();this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.remove("tabulator-loading"),this.msgElement.classList.add("tabulator-error"),this.errorElement?this.msgElement.appendChild(this.errorElement):this.msgElement.innerHTML=this.langText("data|error"),this.table.element.appendChild(this.loaderElement)}hideLoader(){this.loaderElement.parentNode&&this.loaderElement.parentNode.removeChild(this.loaderElement)}}class Hi{constructor(s,e,t){this.table=s,this.events={},this.optionsList=e||{},this.subscriptionNotifiers={},this.dispatch=t?this._debugDispatch.bind(this):this._dispatch.bind(this),this.debug=t}subscriptionChange(s,e){this.subscriptionNotifiers[s]||(this.subscriptionNotifiers[s]=[]),this.subscriptionNotifiers[s].push(e),this.subscribed(s)&&this._notifiySubscriptionChange(s,!0)}subscribe(s,e){this.events[s]||(this.events[s]=[]),this.events[s].push(e),this._notifiySubscriptionChange(s,!0)}unsubscribe(s,e){var t;if(this.events[s]){if(e){if(!((t=this.events[s].findIndex(n=>n===e))>-1))return void console.warn("Cannot remove event, no matching event found:",s,e);this.events[s].splice(t,1)}else delete this.events[s];this._notifiySubscriptionChange(s,!1)}else console.warn("Cannot remove event, no events set on:",s)}subscribed(s){return this.events[s]&&this.events[s].length}_notifiySubscriptionChange(s,e){var t=this.subscriptionNotifiers[s];t&&t.forEach(n=>{n(e)})}_dispatch(){var t,s=Array.from(arguments),e=s.shift();return this.events[e]&&this.events[e].forEach((n,r)=>{let l=n.apply(this.table,s);r||(t=l)}),t}_debugDispatch(){var s=Array.from(arguments),e=s[0];return s[0]="ExternalEvent:"+s[0],(!0===this.debug||this.debug.includes(e))&&console.log(...s),this._dispatch(...arguments)}}class Ni{constructor(s){this.events={},this.subscriptionNotifiers={},this.dispatch=s?this._debugDispatch.bind(this):this._dispatch.bind(this),this.chain=s?this._debugChain.bind(this):this._chain.bind(this),this.confirm=s?this._debugConfirm.bind(this):this._confirm.bind(this),this.debug=s}subscriptionChange(s,e){this.subscriptionNotifiers[s]||(this.subscriptionNotifiers[s]=[]),this.subscriptionNotifiers[s].push(e),this.subscribed(s)&&this._notifiySubscriptionChange(s,!0)}subscribe(s,e,t=1e4){this.events[s]||(this.events[s]=[]),this.events[s].push({callback:e,priority:t}),this.events[s].sort((n,r)=>n.priority-r.priority),this._notifiySubscriptionChange(s,!0)}unsubscribe(s,e){var t;if(this.events[s]){if(e){if(!((t=this.events[s].findIndex(n=>n.callback===e))>-1))return void console.warn("Cannot remove event, no matching event found:",s,e);this.events[s].splice(t,1)}this._notifiySubscriptionChange(s,!1)}else console.warn("Cannot remove event, no events set on:",s)}subscribed(s){return this.events[s]&&this.events[s].length}_chain(s,e,t,n){var r=t;return Array.isArray(e)||(e=[e]),this.subscribed(s)?(this.events[s].forEach((l,h)=>{r=l.callback.apply(this,e.concat([r]))}),r):"function"==typeof n?n():n}_confirm(s,e){var t=!1;return Array.isArray(e)||(e=[e]),this.subscribed(s)&&this.events[s].forEach((n,r)=>{n.callback.apply(this,e)&&(t=!0)}),t}_notifiySubscriptionChange(s,e){var t=this.subscriptionNotifiers[s];t&&t.forEach(n=>{n(e)})}_dispatch(){var s=Array.from(arguments),e=s.shift();this.events[e]&&this.events[e].forEach(t=>{t.callback.apply(this,s)})}_debugDispatch(){var s=Array.from(arguments),e=s[0];return s[0]="InternalEvent:"+e,(!0===this.debug||this.debug.includes(e))&&console.log(...s),this._dispatch(...arguments)}_debugChain(){var s=Array.from(arguments),e=s[0];return s[0]="InternalEvent:"+e,(!0===this.debug||this.debug.includes(e))&&console.log(...s),this._chain(...arguments)}_debugConfirm(){var s=Array.from(arguments),e=s[0];return s[0]="InternalEvent:"+e,(!0===this.debug||this.debug.includes(e))&&console.log(...s),this._confirm(...arguments)}}let Fe=(()=>{class c{static register(e){c.tables.push(e)}static deregister(e){var t=c.tables.indexOf(e);t>-1&&c.tables.splice(t,1)}static lookupTable(e,t){var r,l,n=[];if("string"==typeof e){if((r=document.querySelectorAll(e)).length)for(var h=0;h<r.length;h++)(l=c.matchElement(r[h]))&&n.push(l)}else"undefined"!=typeof HTMLElement&&e instanceof HTMLElement||e instanceof Le?(l=c.matchElement(e))&&n.push(l):Array.isArray(e)?e.forEach(function(d){n=n.concat(c.lookupTable(d))}):t||console.warn("Table Connection Error - Invalid Selector",e);return n}static matchElement(e){return c.tables.find(function(t){return e instanceof Le?t===e:t.element===e})}}return c.tables=[],c})();function at(c){c.forEach(function(s){s.reinitializeWidth()}),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}var ji={fitData:function Gi(c){this.table.columnManager.renderer.reinitializeColumnWidths(c),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataFill:at,fitDataTable:at,fitDataStretch:function Vi(c){var s=0,e=this.table.rowManager.element.clientWidth,t=0,n=!1;c.forEach((r,l)=>{r.widthFixed||r.reinitializeWidth(),(this.table.options.responsiveLayout?r.modules.responsive.visible:r.visible)&&(n=r),r.visible&&(s+=r.getWidth())}),n?(t=e-s+n.getWidth(),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&(n.setWidth(0),this.table.modules.responsiveLayout.update()),t>0?n.setWidth(t):n.reinitializeWidth()):this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitColumns:function Wi(c){var r,m,s=this.table.element.clientWidth,e=0,t=0,n=0,l=[],h=[],d=0,C=0;function f(w){return"string"==typeof w?w.indexOf("%")>-1?s/100*parseInt(w):parseInt(w):w}function b(w,y,x,T){var S=[],O=0,q=0,Y=0,ue=n,re=0,le=0,se=[];function me(N){return x*(N.column.definition.widthGrow||1)}function oe(N){return f(N.width)-x*(N.column.definition.widthShrink||0)}return w.forEach(function(N,ye){var be=T?oe(N):me(N);N.column.minWidth>=be?S.push(N):N.column.maxWidth&&N.column.maxWidth<be?(N.width=N.column.maxWidth,y-=N.column.maxWidth,(ue-=T?N.column.definition.widthShrink||1:N.column.definition.widthGrow||1)&&(x=Math.floor(y/ue))):(se.push(N),le+=T?N.column.definition.widthShrink||1:N.column.definition.widthGrow||1)}),S.length?(S.forEach(function(N){O+=T?N.width-N.column.minWidth:N.column.minWidth,N.width=N.column.minWidth}),re=(q=y-O)-(Y=le?Math.floor(q/le):q)*le,re+=b(se,q,Y,T)):(re=le?y-Math.floor(y/le)*le:y,se.forEach(function(N){N.width=T?oe(N):me(N)})),re}this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(s-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),c.forEach(function(w){var y,x,T;w.visible&&(y=w.definition.width,x=parseInt(w.minWidth),y?(T=f(y),e+=T>x?T:x,w.definition.widthShrink&&(h.push({column:w,width:T>x?T:x}),d+=w.definition.widthShrink)):(l.push({column:w,width:0}),n+=w.definition.widthGrow||1))}),t=s-e,r=Math.floor(t/n),C=b(l,t,r,!1),l.length&&C>0&&(l[l.length-1].width+=+C),l.forEach(function(w){t-=w.width}),(m=Math.abs(C)+t)>0&&d&&(C=b(h,m,Math.floor(m/d),!0)),h.length&&(h[h.length-1].width-=C),l.forEach(function(w){w.column.setWidth(w.width)}),h.forEach(function(w){w.column.setWidth(w.width)})}},Ki={default:{groups:{item:"item",items:"items"},columns:{},data:{loading:"Loading",error:"Error"},pagination:{page_size:"Page Size",page_title:"Show Page",first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page",all:"All",counter:{showing:"Showing",of:"of",rows:"rows",pages:"pages"}},headerFilters:{default:"filter column...",columns:{}}}},$i=Object.freeze({__proto__:null,LayoutModule:(()=>{class c extends z{constructor(e){super(e,"layout"),this.mode=null,this.registerTableOption("layout","fitData"),this.registerTableOption("layoutColumnsOnNewData",!1),this.registerColumnOption("widthGrow"),this.registerColumnOption("widthShrink")}initialize(){var e=this.table.options.layout;c.modes[e]?this.mode=e:(console.warn("Layout Error - invalid mode set, defaulting to 'fitData' : "+e),this.mode="fitData"),this.table.element.setAttribute("tabulator-layout",this.mode)}getMode(){return this.mode}layout(){this.dispatch("layout-refreshing"),c.modes[this.mode].call(this,this.table.columnManager.columnsByIndex),this.dispatch("layout-refreshed")}}return c.moduleName="layout",c.modes=ji,c})(),LocalizeModule:(()=>{class c extends z{constructor(e){super(e),this.locale="default",this.lang=!1,this.bindings={},this.langList={},this.registerTableOption("locale",!1),this.registerTableOption("langs",{})}initialize(){this.langList=B.deepClone(c.langs),!1!==this.table.options.columnDefaults.headerFilterPlaceholder&&this.setHeaderFilterPlaceholder(this.table.options.columnDefaults.headerFilterPlaceholder);for(let e in this.table.options.langs)this.installLang(e,this.table.options.langs[e]);this.setLocale(this.table.options.locale),this.registerTableFunction("setLocale",this.setLocale.bind(this)),this.registerTableFunction("getLocale",this.getLocale.bind(this)),this.registerTableFunction("getLang",this.getLang.bind(this))}setHeaderFilterPlaceholder(e){this.langList.default.headerFilters.default=e}setHeaderFilterColumnPlaceholder(e,t){this.langList.default.headerFilters.columns[e]=t,this.lang&&!this.lang.headerFilters.columns[e]&&(this.lang.headerFilters.columns[e]=t)}installLang(e,t){this.langList[e]?this._setLangProp(this.langList[e],t):this.langList[e]=t}_setLangProp(e,t){for(let n in t)e[n]&&"object"==typeof e[n]?this._setLangProp(e[n],t[n]):e[n]=t[n]}setLocale(e){if(!0===(e=e||"default")&&navigator.language&&(e=navigator.language.toLowerCase()),e&&!this.langList[e]){let n=e.split("-")[0];this.langList[n]?(console.warn("Localization Error - Exact matching locale not found, using closest match: ",e,n),e=n):(console.warn("Localization Error - Matching locale not found, using default: ",e),e="default")}this.locale=e,this.lang=B.deepClone(this.langList.default||{}),"default"!=e&&function t(n,r){for(var l in n)"object"==typeof n[l]?(r[l]||(r[l]={}),t(n[l],r[l])):r[l]=n[l]}(this.langList[e],this.lang),this.dispatchExternal("localized",this.locale,this.lang),this._executeBindings()}getLocale(e){return this.locale}getLang(e){return e?this.langList[e]:this.lang}getText(n,t){var r=(n=t?n+"|"+t:n).split("|");return this._getLangElement(r,this.locale)||""}_getLangElement(e,t){var n=this.lang;return e.forEach(function(r){var l;n&&(n=void 0!==(l=n[r])&&l)}),n}bind(e,t){this.bindings[e]||(this.bindings[e]=[]),this.bindings[e].push(t),t(this.getText(e),this.lang)}_executeBindings(){for(let e in this.bindings)this.bindings[e].forEach(t=>{t(this.getText(e),this.lang)})}}return c.moduleName="localize",c.langs=Ki,c})(),CommsModule:(()=>{class c extends z{constructor(e){super(e)}initialize(){this.registerTableFunction("tableComms",this.receive.bind(this))}getConnections(e){var t=[];return Fe.lookupTable(e).forEach(r=>{this.table!==r&&t.push(r)}),t}send(e,t,n,r){var l=this.getConnections(e);l.forEach(h=>{h.tableComms(this.table.element,t,n,r)}),!l.length&&e&&console.warn("Table Connection Error - No tables matching selector found",e)}receive(e,t,n,r){if(this.table.modExists(t))return this.table.modules[t].commsReceived(e,n,r);console.warn("Inter-table Comms Error - no such module:",t)}}return c.moduleName="comms",c})()});class ht{constructor(s,e){this.bindStaticFuctionality(s),this.bindModules(s,$i,!0),e&&this.bindModules(s,e)}bindStaticFuctionality(s){s.moduleBindings={},s.extendModule=function(e,t,n){if(s.moduleBindings[e]){var r=s.moduleBindings[e][t];if(r)if("object"==typeof n)for(let l in n)r[l]=n[l];else console.warn("Module Error - Invalid value type, it must be an object");else console.warn("Module Error - property does not exist:",t)}else console.warn("Module Error - module does not exist:",e)},s.registerModule=function(e){Array.isArray(e)||(e=[e]),e.forEach(t=>{s.registerModuleBinding(t)})},s.registerModuleBinding=function(e){s.moduleBindings[e.moduleName]=e},s.findTable=function(e){var t=Fe.lookupTable(e,!0);return!(Array.isArray(t)&&!t.length)&&t},s.prototype.bindModules=function(){var e=[],t=[];for(var n in this.modules={},s.moduleBindings){let r=s.moduleBindings[n],l=new r(this);this.modules[n]=l,r.prototype.moduleCore?this.modulesCore.push(l):r.moduleInitOrder?e.push(l):t.push(l)}e.sort((r,l)=>r.moduleInitOrder>l.moduleInitOrder?1:-1),this.modulesRegular=e.concat(t)}}bindModules(s,e,t){var n=Object.values(e);t&&n.forEach(r=>{r.prototype.moduleCore=!0}),s.registerModule(n)}}let Le=(()=>{class c{constructor(e,t){this.options={},this.columnManager=null,this.rowManager=null,this.footerManager=null,this.vdomHoz=null,this.externalEvents=null,this.eventBus=null,this.interactionMonitor=!1,this.browser="",this.browserSlow=!1,this.browserMobile=!1,this.rtl=!1,this.originalElement=null,this.componentFunctionBinder=new Bi(this),this.dataLoader=!1,this.modules={},this.modulesCore=[],this.modulesRegular=[],this.optionsList=new lt(this,"table constructor"),this.initialized=!1,this.initializeElement(e)&&(this.initializeCoreSystems(t),setTimeout(()=>{this._create()})),Fe.register(this)}initializeElement(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement?(this.element=e,!0):"string"==typeof e?(this.element=document.querySelector(e),!!this.element||(console.error("Tabulator Creation Error - no element found matching selector: ",e),!1)):(console.error("Tabulator Creation Error - Invalid element provided:",e),!1)}initializeCoreSystems(e){this.columnManager=new Li(this),this.rowManager=new Ai(this),this.footerManager=new zi(this),this.dataLoader=new Ii(this),this.bindModules(),this.options=this.optionsList.generate(c.defaultOptions,e),this._clearObjectPointers(),this._mapDeprecatedFunctionality(),this.externalEvents=new Hi(this,this.options,this.options.debugEventsExternal),this.eventBus=new Ni(this.options.debugEventsInternal),this.interactionMonitor=new Pi(this),this.dataLoader.initialize(),this.footerManager.initialize()}_mapDeprecatedFunctionality(){}_clearSelection(){this.element.classList.add("tabulator-block-select"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.element.classList.remove("tabulator-block-select")}_create(){this.externalEvents.dispatch("tableBuilding"),this.eventBus.dispatch("table-building"),this._rtlCheck(),this._buildElement(),this._initializeTable(),this._loadInitialData(),this.initialized=!0,this.externalEvents.dispatch("tableBuilt")}_rtlCheck(){var e=window.getComputedStyle(this.element);switch(this.options.textDirection){case"auto":if("rtl"!==e.direction)break;case"rtl":this.element.classList.add("tabulator-rtl"),this.rtl=!0;break;case"ltr":this.element.classList.add("tabulator-ltr");default:this.rtl=!1}}_clearObjectPointers(){this.options.columns=this.options.columns.slice(0),this.options.data&&!this.options.reactiveData&&(this.options.data=this.options.data.slice(0))}_buildElement(){var n,e=this.element,t=this.options;if("TABLE"===e.tagName){this.originalElement=this.element,n=document.createElement("div");var r=e.attributes;for(var l in r)"object"==typeof r[l]&&n.setAttribute(r[l].name,r[l].value);e.parentNode.replaceChild(n,e),this.element=e=n}for(e.classList.add("tabulator"),e.setAttribute("role","grid");e.firstChild;)e.removeChild(e.firstChild);t.height&&(t.height=isNaN(t.height)?t.height:t.height+"px",e.style.height=t.height),!1!==t.minHeight&&(t.minHeight=isNaN(t.minHeight)?t.minHeight:t.minHeight+"px",e.style.minHeight=t.minHeight),!1!==t.maxHeight&&(t.maxHeight=isNaN(t.maxHeight)?t.maxHeight:t.maxHeight+"px",e.style.maxHeight=t.maxHeight)}_initializeTable(){var e=this.element,t=this.options;this.interactionMonitor.initialize(),this.columnManager.initialize(),this.rowManager.initialize(),this._detectBrowser(),this.modulesCore.forEach(n=>{n.initialize()}),e.appendChild(this.columnManager.getElement()),e.appendChild(this.rowManager.getElement()),t.footerElement&&this.footerManager.activate(),t.autoColumns&&t.data&&this.columnManager.generateColumnsFromRowData(this.options.data),this.modulesRegular.forEach(n=>{n.initialize()}),this.columnManager.setColumns(t.columns),this.eventBus.dispatch("table-built")}_loadInitialData(){this.dataLoader.load(this.options.data)}destroy(){var e=this.element;for(Fe.deregister(this),this.eventBus.dispatch("table-destroy"),this.rowManager.rows.forEach(function(t){t.wipe()}),this.rowManager.rows=[],this.rowManager.activeRows=[],this.rowManager.displayRows=[];e.firstChild;)e.removeChild(e.firstChild);e.classList.remove("tabulator")}_detectBrowser(){var e=navigator.userAgent||navigator.vendor||window.opera;e.indexOf("Trident")>-1?(this.browser="ie",this.browserSlow=!0):e.indexOf("Edge")>-1?(this.browser="edge",this.browserSlow=!0):e.indexOf("Firefox")>-1?(this.browser="firefox",this.browserSlow=!1):(this.browser="other",this.browserSlow=!1),this.browserMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.slice(0,4))}blockRedraw(){return this.rowManager.blockRedraw()}restoreRedraw(){return this.rowManager.restoreRedraw()}setData(e,t,n){if(this.initialized)return this.dataLoader.load(e,t,n,!1);console.warn("setData failed - table not yet initialized. To set initial data please use the 'data' property in the table constructor.")}clearData(){this.dataLoader.blockActiveLoad(),this.rowManager.clearData()}getData(e){return this.rowManager.getData(e)}getDataCount(e){return this.rowManager.getDataCount(e)}replaceData(e,t,n){if(this.initialized)return this.dataLoader.load(e,t,n,!0,!0);console.warn("replaceData failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}updateData(e){var t=0;if(this.initialized)return new Promise((n,r)=>{this.dataLoader.blockActiveLoad(),"string"==typeof e&&(e=JSON.parse(e)),e?e.forEach(l=>{var h=this.rowManager.findRow(l[this.options.index]);h&&(t++,h.updateData(l).then(()=>{--t||n()}))}):(console.warn("Update Error - No data provided"),r("Update Error - No data provided"))});console.warn("updateData failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}addData(e,t,n){if(this.initialized)return new Promise((r,l)=>{this.dataLoader.blockActiveLoad(),"string"==typeof e&&(e=JSON.parse(e)),e?this.rowManager.addRows(e,t,n).then(h=>{var d=[];h.forEach(function(m){d.push(m.getComponent())}),r(d)}):(console.warn("Update Error - No data provided"),l("Update Error - No data provided"))});console.warn("addData failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}updateOrAddData(e){var t=[],n=0;if(this.initialized)return new Promise((r,l)=>{this.dataLoader.blockActiveLoad(),"string"==typeof e&&(e=JSON.parse(e)),e?e.forEach(h=>{var d=this.rowManager.findRow(h[this.options.index]);n++,d?d.updateData(h).then(()=>{n--,t.push(d.getComponent()),n||r(t)}):this.rowManager.addRows(h).then(m=>{n--,t.push(m[0].getComponent()),n||r(t)})}):(console.warn("Update Error - No data provided"),l("Update Error - No data provided"))});console.warn("updateOrAddData failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}getRow(e){var t=this.rowManager.findRow(e);return t?t.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}getRowFromPosition(e,t){var n=this.rowManager.getRowFromPosition(e,t);return n?n.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}deleteRow(e){var t=[];Array.isArray(e)||(e=[e]);for(let n of e){let r=this.rowManager.findRow(n,!0);if(!r)return console.error("Delete Error - No matching row found:",n),Promise.reject("Delete Error - No matching row found");t.push(r)}return t.sort((n,r)=>this.rowManager.rows.indexOf(n)>this.rowManager.rows.indexOf(r)?1:-1),t.forEach(n=>{n.delete()}),this.rowManager.reRenderInPosition(),Promise.resolve()}addRow(e,t,n){if(this.initialized)return"string"==typeof e&&(e=JSON.parse(e)),this.rowManager.addRows(e,t,n).then(r=>r[0].getComponent());console.warn("addRow failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}updateOrAddRow(e,t){var n=this.rowManager.findRow(e);return"string"==typeof t&&(t=JSON.parse(t)),n?n.updateData(t).then(()=>n.getComponent()):this.rowManager.addRows(t).then(r=>r[0].getComponent())}updateRow(e,t){var n=this.rowManager.findRow(e);return"string"==typeof t&&(t=JSON.parse(t)),n?n.updateData(t).then(()=>Promise.resolve(n.getComponent())):(console.warn("Update Error - No matching row found:",e),Promise.reject("Update Error - No matching row found"))}scrollToRow(e,t,n){var r=this.rowManager.findRow(e);return r?this.rowManager.scrollToRow(r,t,n):(console.warn("Scroll Error - No matching row found:",e),Promise.reject("Scroll Error - No matching row found"))}moveRow(e,t,n){var r=this.rowManager.findRow(e);r?r.moveToRow(t,n):console.warn("Move Error - No matching row found:",e)}getRows(e){return this.rowManager.getComponents(e)}getRowPosition(e,t){var n=this.rowManager.findRow(e);return n?this.rowManager.getRowPosition(n,t):(console.warn("Position Error - No matching row found:",e),!1)}setColumns(e){this.initialized?this.columnManager.setColumns(e):console.warn("setColumns failed - table not yet initialized. To set initial data please use the 'columns' property in the table constructor.")}getColumns(e){return this.columnManager.getComponents(e)}getColumn(e){var t=this.columnManager.findColumn(e);return t?t.getComponent():(console.warn("Find Error - No matching column found:",e),!1)}getColumnDefinitions(){return this.columnManager.getDefinitionTree()}showColumn(e){var t=this.columnManager.findColumn(e);if(!t)return console.warn("Column Show Error - No matching column found:",e),!1;t.show()}hideColumn(e){var t=this.columnManager.findColumn(e);if(!t)return console.warn("Column Hide Error - No matching column found:",e),!1;t.hide()}toggleColumn(e){var t=this.columnManager.findColumn(e);if(!t)return console.warn("Column Visibility Toggle Error - No matching column found:",e),!1;t.visible?t.hide():t.show()}addColumn(e,t,n){var r=this.columnManager.findColumn(n);return this.columnManager.addColumn(e,t,r).then(l=>l.getComponent())}deleteColumn(e){var t=this.columnManager.findColumn(e);return t?t.delete():(console.warn("Column Delete Error - No matching column found:",e),Promise.reject())}updateColumnDefinition(e,t){var n=this.columnManager.findColumn(e);return n?n.updateDefinition(t):(console.warn("Column Update Error - No matching column found:",e),Promise.reject())}moveColumn(e,t,n){var r=this.columnManager.findColumn(e),l=this.columnManager.findColumn(t);r?l?this.columnManager.moveColumn(r,l,n):console.warn("Move Error - No matching column found:",l):console.warn("Move Error - No matching column found:",e)}scrollToColumn(e,t,n){return new Promise((r,l)=>{var h=this.columnManager.findColumn(e);return h?this.columnManager.scrollToColumn(h,t,n):(console.warn("Scroll Error - No matching column found:",e),Promise.reject("Scroll Error - No matching column found"))})}redraw(e){this.initialized?(this.columnManager.redraw(e),this.rowManager.redraw(e)):console.warn("redraw failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}setHeight(e){this.options.height=isNaN(e)?e:e+"px",this.element.style.height=this.options.height,this.rowManager.initializeRenderer(),this.rowManager.redraw()}on(e,t){this.externalEvents.subscribe(e,t)}off(e,t){this.externalEvents.unsubscribe(e,t)}dispatchEvent(){Array.from(arguments).shift(),this.externalEvents.dispatch(...arguments)}modExists(e,t){return!!this.modules[e]||(t&&console.error("Tabulator Module Not Installed: "+e),!1)}module(e){var t=this.modules[e];return t||console.error("Tabulator module not installed: "+e),t}}return c.defaultOptions=Si,c})();new ht(Le);class ct extends Le{}new ht(ct,Ri)},4877:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{f:()=>TableOrganism});var tabulator_tables__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2885),_angular_forms__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(92),projects_mf_components_src_utils_string_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(754),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7451),_angular_core__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_angular_core__WEBPACK_IMPORTED_MODULE_0__),_dynamic_form_builder_dynamic_form_builder_model_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(325);const _c0=["idTableTabulator"];let TableOrganism=(()=>{class TableOrganism{constructor(I){this.dynamicFormBuilderService=I,this.header=[],this.records=[],this.value="",this.style={},this.fetching={},this.tableSettingFormDynamic=new _angular_forms__WEBPACK_IMPORTED_MODULE_2__.cw({groupBy:new _angular_forms__WEBPACK_IMPORTED_MODULE_2__.NI("")}),this.groupByOption=[]}ngOnInit(){this.tableSettingFormDynamicSubscription$=this.tableSettingFormDynamic.valueChanges.subscribe(I=>{this.tableReference.setGroupBy(I.groupBy)}),this.listenChangesResponseFetchingElement(),"onInit"===this.fetching?.typEvent&&this.onInitMethod()}ngOnDestroy(){this.tableSettingFormDynamicSubscription$.unsubscribe(),this.responseFetchingElement$.unsubscribe()}ngOnChanges(I){this.drawTable()}getDataRow(I,W){return W.find(A=>A.key===I)}listenChangesResponseFetchingElement(){this.responseFetchingElement$=this.dynamicFormBuilderService.onChangesResponseFetchingElement().subscribe(I=>{I.identifierElement===this.key&&(this.dynamicFormBuilderService.assignValueVariableWithKey(this.fetching?.variable??"",I.response),this.assignValue())})}onInitMethod(){this.dynamicFormBuilderService.emmitFetchingElement({...this.fetching,identifierElement:this.key})}drawTable(){this.tableReference=new tabulator_tables__WEBPACK_IMPORTED_MODULE_3__.Ae(this.idTableTabulator.nativeElement,{data:this.records??[],reactiveData:!0,columns:this.header?.map(I=>({title:I.label,field:I.key}))??[],groupBy:void 0,layout:"fitColumns",height:"300px",paginationMode:"local",pagination:!0,paginationSize:6,paginationSizeSelector:[3,6,8,10],movableColumns:!0,debugInvalidOptions:!1}),document?.getElementById("my-tabular-table")?.appendChild(this.idTableTabulator.nativeElement)}assignValue(){this.tableReference.setData(eval(`this.dynamicFormBuilderService.variables?.${projects_mf_components_src_utils_string_utils__WEBPACK_IMPORTED_MODULE_4__.r.getValueBetweenTwoCharacters(this.value??"","{{","}}")}`))}}return TableOrganism.\u0275fac=function I(W){return new(W||TableOrganism)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(_dynamic_form_builder_dynamic_form_builder_model_service__WEBPACK_IMPORTED_MODULE_1__.D))},TableOrganism.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineComponent({type:TableOrganism,selectors:[["table-organism"]],viewQuery:function I(W,A){if(1&W&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275viewQuery(_c0,7),2&W){let F;_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275queryRefresh(F=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275loadQuery())&&(A.idTableTabulator=F.first)}},inputs:{key:"key",header:"header",records:"records",value:"value",style:"style",fetching:"fetching"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275NgOnChangesFeature],decls:2,vars:1,consts:[[3,"id"],["idTableTabulator",""]],template:function I(W,A){1&W&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275element(0,"div",0,1),2&W&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275property("id",A.key)},encapsulation:2}),TableOrganism})()},325:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>DynamicFormBuilderService});var rxjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(824),rxjs__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(rxjs__WEBPACK_IMPORTED_MODULE_0__),_utils_string_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(754),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7451),_angular_core__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_angular_core__WEBPACK_IMPORTED_MODULE_1__),_angular_common_http__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6152),_angular_common_http__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__);let DynamicFormBuilderService=(()=>{class DynamicFormBuilderService{constructor(I){this.http=I,this._buttonTriggerEventType$=new rxjs__WEBPACK_IMPORTED_MODULE_0__.Subject,this.buttonTriggerEventType$=this._buttonTriggerEventType$.asObservable(),this._tableDataAssign$=new rxjs__WEBPACK_IMPORTED_MODULE_0__.Subject,this.tableDataAssignObservable$=this._tableDataAssign$.asObservable(),this._variablesChanges$=new rxjs__WEBPACK_IMPORTED_MODULE_0__.Subject,this.variablesChangesObservable$=this._variablesChanges$.asObservable(),this._fetchingElement$=new rxjs__WEBPACK_IMPORTED_MODULE_0__.Subject,this.fetchingElementObservable$=this._fetchingElement$.asObservable(),this._responseFetchingElement$=new rxjs__WEBPACK_IMPORTED_MODULE_0__.Subject,this.responseFetchingElement$=this._responseFetchingElement$.asObservable(),this.variables={}}emmitButtonTriggerEventType(I){return this._buttonTriggerEventType$.next(I)}onChangesButtonButtonTriggerEventType(){return this.buttonTriggerEventType$}emmitFetchingElement(I){return this._fetchingElement$.next(I)}onChangesFetchingElement(){return this.fetchingElementObservable$}emmitResponseFetchingElement(I){return this._responseFetchingElement$.next(I)}onChangesResponseFetchingElement(){return this.responseFetchingElement$}emmitVariablesChanges(I){return this._variablesChanges$.next(I)}onChangesVariablesChanges(){return this.variablesChangesObservable$}onFetchingMethod({baseUrl:I,endpoint:W,method:A,headers:F,data:z}){const H=`${I}/${W}`,J={headers:F};switch(A){case"GET":return this.http.get(H,J);case"POST":return this.http.post(H,z,J);case"PUT":return this.http.put(H,z,J);case"DELETE":return this.http.delete(H,J)}}loadVariables(I){this.variables=Array.isArray(I)?I.reduce((W,A)=>({...W,[A]:null}),{}):{...this.variables,...I}}assignValueVariableWithKey(I,W){`${I}`in this.variables&&(this.variables[I]=W),this.emmitVariablesChanges(!0)}getValueInterpolated(str){let _str=str??"";const getParamsInserted=_utils_string_utils__WEBPACK_IMPORTED_MODULE_3__.r.getAllValueBetweenCharacters("{{","}}")(str),withParameters=getParamsInserted?.reduce((value,key)=>(value=_str?.replace(`{{${key}}}`,eval(`this.variables?.${key}`)??""),value),""),stringParsed=getParamsInserted?.length?withParameters:_str;return stringParsed??""}}return DynamicFormBuilderService.\u0275fac=function I(W){return new(W||DynamicFormBuilderService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275inject(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.HttpClient))},DynamicFormBuilderService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275defineInjectable({token:DynamicFormBuilderService,factory:DynamicFormBuilderService.\u0275fac,providedIn:"root"}),DynamicFormBuilderService})()},3758:(I,W,A)=>{A.r(W),A.d(W,{ConstructorModule:()=>ie});var F=A(3192),z=A(3942),B=A(8433),H=A(952),J=A(5033),he=A(5360),Z=A(2186),pe=A(824),o=A(7451),E=A(92),ne=A(325),Ae=A(8213);function dt(u,g){1&u&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"section",2),o.\u0275\u0275element(2,"spiner-atom"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementContainerEnd())}function ut(u,g){if(1&u&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275text(1),o.\u0275\u0275elementContainerEnd()),2&u){const a=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(a.title)}}let ze=(()=>{class u{constructor(a){this.dynamicFormBuilderService=a,this.title="",this.eventType="",this.fetching={},this.disabled=!1,this.formGroup=new E.cw({}),this.style={},this.loading=!1}onEventTriggered(){this.eventType&&this.dynamicFormBuilderService.emmitButtonTriggerEventType({eventType:this.eventType??"",key:this.key,fetching:this.fetching??{}})}}return u.\u0275fac=function(a){return new(a||u)(o.\u0275\u0275directiveInject(ne.D))},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["button-atom"]],inputs:{key:"key",title:"title",eventType:"eventType",fetching:"fetching",disabled:"disabled",formGroup:"formGroup",style:"style",loading:"loading"},decls:3,vars:6,consts:[[1,"mobilform-button-atom",3,"disabled","id","name","ngStyle","click"],[4,"ngIf"],[1,"mobilform-button-atom__loading"]],template:function(a,p){1&a&&(o.\u0275\u0275elementStart(0,"button",0),o.\u0275\u0275listener("click",function(){return p.onEventTriggered()}),o.\u0275\u0275template(1,dt,3,0,"ng-container",1),o.\u0275\u0275template(2,ut,2,1,"ng-container",1),o.\u0275\u0275elementEnd()),2&a&&(o.\u0275\u0275property("disabled",p.disabled||p.loading)("id",p.key)("name",p.key)("ngStyle",p.style),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",p.loading),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!p.loading))},directives:[F.NgStyle,F.NgIf,Ae.J],styles:[".mobilform-button-atom[_ngcontent-%COMP%]{font-size:10px;font-weight:700;padding:.5rem 1rem;border-radius:.25rem;background-color:#1d4ed8;color:#fff;width:100%}.mobilform-button-atom[_ngcontent-%COMP%]:hover{background-color:#1e40af}.mobilform-button-atom__loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.mobilform-button-atom__loading[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-left:.5rem}"]}),u})(),mt=(()=>{class u{constructor(a,p){this.data=a,this.snackBarRef=p,this.elementTheming=Z.wC,this.elementThemingButton={...Z.wC.button,minWidth:"144px"},this.loadingAction=!1,this.status=new pe.Subject,this.status$=this.status.asObservable()}onActionCustom(){this.status.next()}getActionObservable(){return this.status$}}return u.\u0275fac=function(a){return new(a||u)(o.\u0275\u0275directiveInject(he.qD),o.\u0275\u0275directiveInject(he.OX))},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["snackbar-organism"]],decls:4,vars:4,consts:[[1,"mobilform-snackbar-organism"],[1,"mobilform-snackbar-organism__label"],[3,"title","loading","click"]],template:function(a,p){1&a&&(o.\u0275\u0275elementStart(0,"section",0),o.\u0275\u0275elementStart(1,"span",1),o.\u0275\u0275text(2,"Some changes have been detected, do you want to save them?"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"button-atom",2),o.\u0275\u0275listener("click",function(){return p.onActionCustom()}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&a&&(o.\u0275\u0275advance(3),o.\u0275\u0275styleMap(p.elementThemingButton),o.\u0275\u0275property("title","Save")("loading",p.loadingAction))},directives:[ze],styles:[".mobilform-snackbar-organism[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.mobilform-snackbar-organism__label[_ngcontent-%COMP%]{font-weight:700;font-size:14px;line-height:16px;color:#fff;margin-right:4.375rem}.mobilform-snackbar-organism__button[_ngcontent-%COMP%]{min-width:144px}"]}),u})();var Ee=A(5387),Ke=A(8330),ke=A(2042);let $e=(()=>{class u{constructor(){}ngOnInit(){}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["file-icon-svg"]],decls:4,vars:0,consts:[["width","30","height","30","viewBox","0 0 30 30","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M17.5 2.5H7.5C6.83696 2.5 6.20107 2.76339 5.73223 3.23223C5.26339 3.70107 5 4.33696 5 5V25C5 25.663 5.26339 26.2989 5.73223 26.7678C6.20107 27.2366 6.83696 27.5 7.5 27.5H22.5C23.163 27.5 23.7989 27.2366 24.2678 26.7678C24.7366 26.2989 25 25.663 25 25V10L17.5 2.5Z","stroke","white","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M17.5 2.5V10H25","stroke","white","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M11.25 18.75H18.75","stroke","white","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"]],template:function(a,p){1&a&&(o.\u0275\u0275namespaceSVG(),o.\u0275\u0275elementStart(0,"svg",0),o.\u0275\u0275element(1,"path",1),o.\u0275\u0275element(2,"path",2),o.\u0275\u0275element(3,"path",3),o.\u0275\u0275elementEnd())},encapsulation:2}),u})(),Xe=(()=>{class u{constructor(a){this.formBuilderService=a,this.formName=this.formBuilderService.selectedForm?.name??"N/A"}ngOnInit(){this.listenChangesFormSelected()}ngOnDestroy(){this.selectedFormSubscription$?.unsubscribe()}listenChangesFormSelected(){this.formName=this.formBuilderService?.selectedForm?.name,this.selectedFormSubscription$=this.formBuilderService.onChangesSelectedForm().subscribe(()=>{this.formName=this.formBuilderService?.selectedForm?.name})}}return u.\u0275fac=function(a){return new(a||u)(o.\u0275\u0275directiveInject(Ee.c))},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["nav-organism"]],decls:10,vars:1,consts:[[1,"mobilform-organism-nav","slide-bottom"],[1,"mobilform-organism-nav__brand"],[1,"mobilform-organism-nav__title"],[1,"mobilform-organism-nav__title__icon"],[1,"mobilform-organism-nav__title-firts"],[1,"mobilform-organism-nav__title-second"]],template:function(a,p){1&a&&(o.\u0275\u0275elementStart(0,"nav",0),o.\u0275\u0275elementStart(1,"figure",1),o.\u0275\u0275element(2,"icon-mobilform-svg"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"figure",2),o.\u0275\u0275element(4,"file-icon-svg",3),o.\u0275\u0275elementStart(5,"span",4),o.\u0275\u0275text(6,"workspace"),o.\u0275\u0275elementEnd(),o.\u0275\u0275text(7," : "),o.\u0275\u0275elementStart(8,"span",5),o.\u0275\u0275text(9),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&a&&(o.\u0275\u0275advance(9),o.\u0275\u0275textInterpolate(p.formName))},directives:[ke.q,$e],styles:[".mobilform-organism-nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;min-height:3.75rem;max-height:3.75rem;background:#363636;width:100%}.mobilform-organism-nav__brand[_ngcontent-%COMP%]{width:3.75rem;height:3.75rem;flex:none;order:0;flex-grow:0;padding:.938rem}.mobilform-organism-nav__title[_ngcontent-%COMP%]{height:3.75rem;padding:.938rem;display:flex;flex-direction:row;align-items:center;color:#fff;font-size:1.25rem;line-height:1.75rem;font-style:normal;cursor:pointer;-webkit-user-select:none;user-select:none;min-width:18.75rem;max-width:18.75rem}.mobilform-organism-nav__title[_ngcontent-%COMP%]:hover{background-color:#262626}.mobilform-organism-nav__title__icon[_ngcontent-%COMP%]{margin-right:.625rem}.mobilform-organism-nav__title-firts[_ngcontent-%COMP%]{font-weight:700}.mobilform-organism-nav__title-second[_ngcontent-%COMP%]{font-weight:400;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}"]}),u})(),Ce=(()=>{class u{constructor(){this.dimension=30,this.isCircle=!0}ngOnInit(){}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["plus-icon-svg"]],inputs:{dimension:"dimension",isCircle:"isCircle"},decls:4,vars:3,consts:[["viewBox","0 0 30 30","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M15 27.5C21.9036 27.5 27.5 21.9036 27.5 15C27.5 8.09644 21.9036 2.5 15 2.5C8.09644 2.5 2.5 8.09644 2.5 15C2.5 21.9036 8.09644 27.5 15 27.5Z","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M15 10V20","stroke","white","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M10 15H20","stroke","white","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"]],template:function(a,p){1&a&&(o.\u0275\u0275namespaceSVG(),o.\u0275\u0275elementStart(0,"svg",0),o.\u0275\u0275element(1,"path",1),o.\u0275\u0275element(2,"path",2),o.\u0275\u0275element(3,"path",3),o.\u0275\u0275elementEnd()),2&a&&(o.\u0275\u0275attribute("width",p.dimension)("height",p.dimension),o.\u0275\u0275advance(1),o.\u0275\u0275attribute("stroke",p.isCircle?"white":"none"))},encapsulation:2}),u})(),Pe=(()=>{class u{constructor(){}ngOnInit(){}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["layers-icon-svg"]],decls:4,vars:0,consts:[["width","30","height","30","viewBox","0 0 30 30","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M15 2.5L2.5 8.75L15 15L27.5 8.75L15 2.5Z","stroke","white","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M2.5 21.25L15 27.5L27.5 21.25","stroke","white","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M2.5 15L15 21.25L27.5 15","stroke","white","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"]],template:function(a,p){1&a&&(o.\u0275\u0275namespaceSVG(),o.\u0275\u0275elementStart(0,"svg",0),o.\u0275\u0275element(1,"path",1),o.\u0275\u0275element(2,"path",2),o.\u0275\u0275element(3,"path",3),o.\u0275\u0275elementEnd())},encapsulation:2}),u})();const ee=function(u){return{"mobilform-organism-nav-vertical__button":!0,"mobilform-organism-nav-vertical__button-active":u}};let pt=(()=>{class u{constructor(a){this.FormBuilderService=a,this.selectedSection="elements"}ngOnInit(){}showSection(a){this.selectedSection=a,this.FormBuilderService.emmitShowSectionToolbar(a)}}return u.\u0275fac=function(a){return new(a||u)(o.\u0275\u0275directiveInject(Ee.c))},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["nav-vertical-organism"]],decls:5,vars:6,consts:[[1,"mobilform-organism-nav-vertical","slide-right-vertical-nav"],[3,"ngClass","click"]],template:function(a,p){1&a&&(o.\u0275\u0275elementStart(0,"nav",0),o.\u0275\u0275elementStart(1,"figure",1),o.\u0275\u0275listener("click",function(){return p.showSection("elements")}),o.\u0275\u0275element(2,"plus-icon-svg"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"figure",1),o.\u0275\u0275listener("click",function(){return p.showSection("forms")}),o.\u0275\u0275element(4,"layers-icon-svg"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&a&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",o.\u0275\u0275pureFunction1(2,ee,"elements"===p.selectedSection)),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngClass",o.\u0275\u0275pureFunction1(4,ee,"forms"===p.selectedSection)))},directives:[F.NgClass,Ce,Pe],styles:[".mobilform-organism-nav-vertical[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;max-width:3.75rem;min-width:3.75rem;height:calc(100vh - 3.75rem);background:#363636}.mobilform-organism-nav-vertical__button[_ngcontent-%COMP%]{max-height:3.75rem;min-height:3.75rem;padding:.938rem;cursor:pointer}.mobilform-organism-nav-vertical__button[_ngcontent-%COMP%]:hover, .mobilform-organism-nav-vertical__button-active[_ngcontent-%COMP%]{background:#262626}"]}),u})();var ft=A(8239);class we{static EnumToObject(g){return Object.keys(g).reduce((a,p)=>({...a,[p]:g[p]}),{})}}var L=A(6483),Q=(()=>{return(u=Q||(Q={})).BASIC="basic",u.LAYOUT="layout",u.CUSTOM="custom",Q;var u})();class gt{constructor(g){this.key=g?.key??"",this.title=g?.key??"",this.icon=g?.key??"",this.visible=g?.visible??!1,this.type=g?.type??""}}const Be=[{key:L.y.ELEMENT_LABEL,title:"Label",icon:"title",type:Q.BASIC,visible:!0},{key:L.y.ELEMENT_TEXT,title:"Text Field",icon:"text_fields",type:Q.BASIC,visible:!0},{key:L.y.ELEMENT_BUTTON,title:"Button",icon:"smart_button",type:Q.BASIC,visible:!0},{key:L.y.ELEMENT_DROPDOWN,title:"Dropdown",icon:"list_alt",type:Q.BASIC,visible:!0},{key:L.y.ELEMENT_TABLE,title:"Table",icon:"table_view",type:Q.BASIC,visible:!0},{key:L.y.ELEMENT_CHECKBOX,title:"Checkbox",icon:"check_box",type:Q.BASIC,visible:!0},{key:L.y.ELEMENT_RADIO,title:"Radio",icon:"radio_button_checked",type:Q.BASIC,visible:!0},{key:L.y.ELEMENT_DATE,title:"Date Input",icon:"event",type:Q.BASIC,visible:!0},{key:L.y.ELEMENT_ROW,title:"Row",icon:"table_rows",type:Q.LAYOUT,visible:!0}],bt=[{key:"section-element",title:"Basic Element",icon:"dashboard_customize",expanded:!0,typeElements:Q.BASIC,elements:Be.filter(u=>u.type===Q.BASIC).map(u=>u.key)},{key:"section-layout",title:"Layout",icon:"grid_on",expanded:!1,typeElements:Q.LAYOUT,elements:Be.filter(u=>u.type===Q.LAYOUT).map(u=>u.key)}],vt=function(u){return["mobilform-side-menu-container",u]},Re=["*"];let qe=(()=>{class u{constructor(){this.className=""}ngOnInit(){}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["side-menu-container-molecule"]],inputs:{className:"className"},ngContentSelectors:Re,decls:2,vars:3,consts:[[3,"ngClass"]],template:function(a,p){1&a&&(o.\u0275\u0275projectionDef(),o.\u0275\u0275elementStart(0,"figure",0),o.\u0275\u0275projection(1),o.\u0275\u0275elementEnd()),2&a&&o.\u0275\u0275property("ngClass",o.\u0275\u0275pureFunction1(1,vt,p.className))},directives:[F.NgClass],styles:[".mobilform-side-menu-container[_ngcontent-%COMP%]{height:calc(100vh - 3.75rem);max-width:18.75rem;min-width:18.75rem;background-color:#262626;color:#fff;overflow-y:auto}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:white;border-radius:50px;margin-right:5px}"]}),u})();var Je=A(8698);const Ct=["*"];let wt=(()=>{class u{constructor(){}ngOnInit(){}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["accordion-melecule"]],ngContentSelectors:Ct,decls:2,vars:0,consts:[[1,"accordion"]],template:function(a,p){1&a&&(o.\u0275\u0275projectionDef(),o.\u0275\u0275elementStart(0,"cdk-accordion",0),o.\u0275\u0275projection(1),o.\u0275\u0275elementEnd())},directives:[Je.xI],styles:[""]}),u})();var Ie=A(3331);const yt=function(u){return["mobilform-accordion__header",u]},_t=["*"];let Et=(()=>{class u{constructor(){this.key="",this.title="",this.expanded=!1}ngOnInit(){}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["item-accordion-molecule"]],inputs:{key:"key",title:"title",icon:"icon",expanded:"expanded"},ngContentSelectors:_t,decls:8,vars:13,consts:[["role","button","tabindex","0",1,"example-accordion-item",3,"expanded"],["accordionItem","cdkAccordionItem"],[3,"ngClass","click"],[1,"mobilform-accordion__header__icon"],["role","region",1,"mobilform-accordion__body"]],template:function(a,p){if(1&a){const v=o.\u0275\u0275getCurrentView();o.\u0275\u0275projectionDef(),o.\u0275\u0275elementStart(0,"cdk-accordion-item",0,1),o.\u0275\u0275elementStart(2,"div",2),o.\u0275\u0275listener("click",function(){return o.\u0275\u0275restoreView(v),o.\u0275\u0275reference(1).toggle()}),o.\u0275\u0275elementStart(3,"mat-icon",3),o.\u0275\u0275text(4),o.\u0275\u0275elementEnd(),o.\u0275\u0275text(5),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(6,"div",4),o.\u0275\u0275projection(7),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}if(2&a){const v=o.\u0275\u0275reference(1);o.\u0275\u0275property("expanded",p.expanded),o.\u0275\u0275attribute("id","accordion-header-"+p.key)("aria-expanded",v.expanded)("aria-controls","accordion-body-"+p.key),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngClass",o.\u0275\u0275pureFunction1(11,yt,v.expanded?"collapsed":"")),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(p.icon),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",p.title," "),o.\u0275\u0275advance(1),o.\u0275\u0275styleProp("display",v.expanded?"":"none"),o.\u0275\u0275attribute("id","accordion-body-"+p.key)("aria-labelledby","accordion-header-"+p.key)}},directives:[Je.dD,F.NgClass,Ie.Hw],styles:[".mobilform-accordion__header[_ngcontent-%COMP%]{padding:.75rem 1.25rem;color:#fff;display:flex;align-items:center;text-align:left;font-size:18px;line-height:21px;-webkit-user-select:none;user-select:none}.mobilform-accordion__header__icon[_ngcontent-%COMP%]{margin-right:.5rem}.mobilform-accordion__body[_ngcontent-%COMP%]{padding:1rem 1.25rem}.mobilform-accordion__header[_ngcontent-%COMP%]:after{-ms-flex-shrink:0;flex-shrink:0;width:1.25rem;height:1.25rem;margin-left:auto;content:\"\";background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='white' %3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-size:1.25rem;transition:transform .2s ease-in-out}.mobilform-accordion__header[_ngcontent-%COMP%]:not(.collapsed):after{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='white'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e\");transform:rotate(-180deg)}"]}),u})();var de=A(4350);function xt(u,g){if(1&u&&o.\u0275\u0275element(0,"input",5),2&u){const a=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("id",a.key)("name",a.key)("formControlName",a.key)("placeholder",a.placeholder)("ngStyle",a.style)("value",a.value),o.\u0275\u0275attribute("type",a.type)("disabled",a.disabled?"":null)}}function Tt(u,g){if(1&u&&o.\u0275\u0275element(0,"textarea",6),2&u){const a=o.\u0275\u0275nextContext(2);o.\u0275\u0275classProp("is-invalid",a.isDirty&&!a.isValid),o.\u0275\u0275property("id",a.key)("name",a.key)("ngStyle",a.style)("value",a.value)("formControlName",a.key)("placeholder",a.placeholder),o.\u0275\u0275attribute("disabled",a.disabled?"":null)}}function Ye(u,g){if(1&u&&(o.\u0275\u0275elementStart(0,"section",2),o.\u0275\u0275template(1,xt,1,8,"input",3),o.\u0275\u0275template(2,Tt,1,9,"textarea",4),o.\u0275\u0275elementEnd()),2&u){const a=o.\u0275\u0275nextContext();o.\u0275\u0275property("formGroup",a.formGroup),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!a.multiline),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",a.multiline)}}function He(u,g){if(1&u&&o.\u0275\u0275element(0,"input",5),2&u){const a=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("id",a.key)("name",a.key)("formControlName",a.key)("placeholder",a.placeholder)("ngStyle",a.style)("value",a.value),o.\u0275\u0275attribute("disabled",a.disabled?"":null)("type",a.type)}}function kt(u,g){if(1&u&&o.\u0275\u0275element(0,"textarea",6),2&u){const a=o.\u0275\u0275nextContext(2);o.\u0275\u0275classProp("is-invalid",a.isDirty&&!a.isValid),o.\u0275\u0275property("id",a.key)("name",a.key)("ngStyle",a.style)("value",a.value)("formControlName",a.key)("placeholder",a.placeholder),o.\u0275\u0275attribute("disabled",a.disabled?"":null)}}function Rt(u,g){if(1&u&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,He,1,8,"input",3),o.\u0275\u0275template(2,kt,1,9,"textarea",4),o.\u0275\u0275elementContainerEnd()),2&u){const a=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!a.multiline),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",a.multiline)}}let Ze=(()=>{class u{constructor(a){this.dynamicFormBuilderService=a,this.key="",this.type="",this.mask="",this.specialCharacters=[],this.patterns={},this.placeholder="",this.style={}}get isValid(){return this.formGroup.controls[this.key].valid}get isDirty(){return this.formGroup.controls[this.key].dirty}ngOnInit(){this.listenChangesVariablesGlobales()}ngOnDestroy(){this.variablesChanges$?.unsubscribe()}listenChangesVariablesGlobales(){this.variablesChanges$=this.dynamicFormBuilderService.onChangesVariablesChanges().subscribe(()=>{this.value&&this.formGroup.get(this.key)?.setValue(this.dynamicFormBuilderService.getValueInterpolated(this.value))})}}return u.\u0275fac=function(a){return new(a||u)(o.\u0275\u0275directiveInject(ne.D))},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["atom-text-field"]],inputs:{key:"key",type:"type",mask:"mask",disabled:"disabled",specialCharacters:"specialCharacters",value:"value",patterns:"patterns",multiline:"multiline",placeholder:"placeholder",formGroup:"formGroup",style:"style"},decls:2,vars:2,consts:[[3,"formGroup",4,"ngIf"],[4,"ngIf"],[3,"formGroup"],["class","mobilform-input","autocomplete","off",3,"id","name","formControlName","placeholder","ngStyle","value",4,"ngIf"],["rows","4","class","mobilform-textarea","autocomplete","off",3,"is-invalid","id","name","ngStyle","value","formControlName","placeholder",4,"ngIf"],["autocomplete","off",1,"mobilform-input",3,"id","name","formControlName","placeholder","ngStyle","value"],["rows","4","autocomplete","off",1,"mobilform-textarea",3,"id","name","ngStyle","value","formControlName","placeholder"]],template:function(a,p){1&a&&(o.\u0275\u0275template(0,Ye,3,3,"section",0),o.\u0275\u0275template(1,Rt,3,2,"ng-container",1)),2&a&&(o.\u0275\u0275property("ngIf",p.formGroup),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!p.formGroup))},directives:[F.NgIf,E.JL,E.sg,E.Fj,E.JJ,E.u,F.NgStyle],styles:[".mobilform-input[_ngcontent-%COMP%]{line-height:1.25;padding:.5rem .75rem;border-radius:.25rem;-webkit-appearance:none;-moz-appearance:none;appearance:none;width:100%;border-width:1px;font-size:12px;height:30px}.mobilform-input[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px}.mobilform-textarea[_ngcontent-%COMP%]{line-height:1.25;padding:.5rem .75rem;border-radius:.25rem;-webkit-appearance:none;-moz-appearance:none;appearance:none;width:100%;border-width:1px;font-size:12px}.mobilform-textarea[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px}"]}),u})(),St=(()=>{class u{constructor(){this.dimension=24,this.isCircle=!0}ngOnInit(){}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["search-icon-svg"]],inputs:{dimension:"dimension",isCircle:"isCircle"},decls:3,vars:2,consts:[["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z","stroke","white","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M20.9999 21L16.6499 16.65","stroke","white","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"]],template:function(a,p){1&a&&(o.\u0275\u0275namespaceSVG(),o.\u0275\u0275elementStart(0,"svg",0),o.\u0275\u0275element(1,"path",1),o.\u0275\u0275element(2,"path",2),o.\u0275\u0275elementEnd()),2&a&&o.\u0275\u0275attribute("width",p.dimension)("height",p.dimension)},encapsulation:2}),u})(),Mt=(()=>{class u{constructor(){this.dimension=15,this.isCircle=!0}ngOnInit(){}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["setting-icon-svg"]],inputs:{dimension:"dimension",isCircle:"isCircle"},decls:7,vars:2,consts:[["viewBox","0 0 15 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_18_985)"],["d","M7.5 9.875C8.53553 9.875 9.375 9.03553 9.375 8C9.375 6.96447 8.53553 6.125 7.5 6.125C6.46447 6.125 5.625 6.96447 5.625 8C5.625 9.03553 6.46447 9.875 7.5 9.875Z","stroke","white","stroke-linecap","round","stroke-linejoin","round"],["d","M12.125 9.875C12.0418 10.0635 12.017 10.2726 12.0537 10.4754C12.0905 10.6781 12.1872 10.8652 12.3312 11.0125L12.3688 11.05C12.485 11.1661 12.5772 11.304 12.6401 11.4557C12.703 11.6074 12.7354 11.7701 12.7354 11.9344C12.7354 12.0986 12.703 12.2613 12.6401 12.4131C12.5772 12.5648 12.485 12.7027 12.3688 12.8187C12.2527 12.935 12.1148 13.0272 11.9631 13.0901C11.8113 13.153 11.6486 13.1854 11.4844 13.1854C11.3201 13.1854 11.1574 13.153 11.0057 13.0901C10.854 13.0272 10.7161 12.935 10.6 12.8187L10.5625 12.7812C10.4152 12.6372 10.2281 12.5405 10.0254 12.5037C9.82262 12.467 9.61351 12.4918 9.425 12.575C9.24014 12.6542 9.08249 12.7858 8.97144 12.9535C8.86039 13.1211 8.8008 13.3176 8.8 13.5187V13.625C8.8 13.9565 8.6683 14.2745 8.43388 14.5089C8.19946 14.7433 7.88152 14.875 7.55 14.875C7.21848 14.875 6.90054 14.7433 6.66612 14.5089C6.4317 14.2745 6.3 13.9565 6.3 13.625V13.5687C6.29516 13.3619 6.2282 13.1612 6.10782 12.9929C5.98744 12.8246 5.81921 12.6964 5.625 12.625C5.43649 12.5418 5.22738 12.517 5.02463 12.5537C4.82189 12.5905 4.6348 12.6872 4.4875 12.8312L4.45 12.8688C4.33391 12.985 4.19605 13.0772 4.0443 13.1401C3.89255 13.203 3.72989 13.2354 3.56562 13.2354C3.40136 13.2354 3.2387 13.203 3.08695 13.1401C2.9352 13.0772 2.79734 12.985 2.68125 12.8688C2.56503 12.7527 2.47283 12.6148 2.40993 12.4631C2.34702 12.3113 2.31464 12.1486 2.31464 11.9844C2.31464 11.8201 2.34702 11.6574 2.40993 11.5057C2.47283 11.354 2.56503 11.2161 2.68125 11.1L2.71875 11.0625C2.86284 10.9152 2.95949 10.7281 2.99625 10.5254C3.03301 10.3226 3.0082 10.1135 2.925 9.925C2.84577 9.74014 2.71422 9.58249 2.54654 9.47144C2.37886 9.36039 2.18237 9.3008 1.98125 9.3H1.875C1.54348 9.3 1.22554 9.1683 0.991117 8.93388C0.756696 8.69946 0.625 8.38152 0.625 8.05C0.625 7.71848 0.756696 7.40054 0.991117 7.16612C1.22554 6.9317 1.54348 6.8 1.875 6.8H1.93125C2.13812 6.79516 2.33875 6.7282 2.50706 6.60782C2.67537 6.48744 2.80357 6.31921 2.875 6.125C2.9582 5.93649 2.98301 5.72738 2.94625 5.52463C2.90949 5.32189 2.81284 5.1348 2.66875 4.9875L2.63125 4.95C2.51503 4.83391 2.42283 4.69605 2.35993 4.5443C2.29702 4.39255 2.26464 4.22989 2.26464 4.06562C2.26464 3.90136 2.29702 3.7387 2.35993 3.58695C2.42283 3.4352 2.51503 3.29734 2.63125 3.18125C2.74734 3.06503 2.8852 2.97283 3.03695 2.90993C3.1887 2.84702 3.35136 2.81464 3.51562 2.81464C3.67989 2.81464 3.84255 2.84702 3.9943 2.90993C4.14605 2.97283 4.28391 3.06503 4.4 3.18125L4.4375 3.21875C4.5848 3.36284 4.77188 3.45949 4.97463 3.49625C5.17738 3.53301 5.38649 3.5082 5.575 3.425H5.625C5.80986 3.34577 5.96751 3.21422 6.07856 3.04654C6.18961 2.87886 6.2492 2.68237 6.25 2.48125V2.375C6.25 2.04348 6.3817 1.72554 6.61612 1.49112C6.85054 1.2567 7.16848 1.125 7.5 1.125C7.83152 1.125 8.14946 1.2567 8.38388 1.49112C8.6183 1.72554 8.75 2.04348 8.75 2.375V2.43125C8.7508 2.63237 8.81039 2.82886 8.92144 2.99654C9.03249 3.16422 9.19014 3.29577 9.375 3.375C9.56351 3.4582 9.77262 3.48301 9.97537 3.44625C10.1781 3.40949 10.3652 3.31284 10.5125 3.16875L10.55 3.13125C10.6661 3.01503 10.804 2.92283 10.9557 2.85993C11.1074 2.79702 11.2701 2.76464 11.4344 2.76464C11.5986 2.76464 11.7613 2.79702 11.9131 2.85993C12.0648 2.92283 12.2027 3.01503 12.3187 3.13125C12.435 3.24734 12.5272 3.3852 12.5901 3.53695C12.653 3.6887 12.6854 3.85136 12.6854 4.01562C12.6854 4.17989 12.653 4.34255 12.5901 4.4943C12.5272 4.64605 12.435 4.78391 12.3187 4.9L12.2812 4.9375C12.1372 5.0848 12.0405 5.27188 12.0037 5.47463C11.967 5.67738 11.9918 5.88649 12.075 6.075V6.125C12.1542 6.30986 12.2858 6.46751 12.4535 6.57856C12.6211 6.68961 12.8176 6.7492 13.0187 6.75H13.125C13.4565 6.75 13.7745 6.8817 14.0089 7.11612C14.2433 7.35054 14.375 7.66848 14.375 8C14.375 8.33152 14.2433 8.64946 14.0089 8.88388C13.7745 9.1183 13.4565 9.25 13.125 9.25H13.0687C12.8676 9.2508 12.6711 9.31039 12.5035 9.42144C12.3358 9.53249 12.2042 9.69014 12.125 9.875V9.875Z","stroke","white","stroke-linecap","round","stroke-linejoin","round"],["id","clip0_18_985"],["width","15","height","15","fill","white","transform","translate(0 0.5)"]],template:function(a,p){1&a&&(o.\u0275\u0275namespaceSVG(),o.\u0275\u0275elementStart(0,"svg",0),o.\u0275\u0275elementStart(1,"g",1),o.\u0275\u0275element(2,"path",2),o.\u0275\u0275element(3,"path",3),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"defs"),o.\u0275\u0275elementStart(5,"clipPath",4),o.\u0275\u0275element(6,"rect",5),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&a&&o.\u0275\u0275attribute("width",p.dimension)("height",p.dimension)},encapsulation:2}),u})(),Ft=(()=>{class u{constructor(){this.dimension=24,this.isCircle=!0}ngOnInit(){}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["chevron-icon-svg"]],inputs:{dimension:"dimension",isCircle:"isCircle"},decls:2,vars:2,consts:[["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M15 18L9 12L15 6","stroke","white","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"]],template:function(a,p){1&a&&(o.\u0275\u0275namespaceSVG(),o.\u0275\u0275elementStart(0,"svg",0),o.\u0275\u0275element(1,"path",1),o.\u0275\u0275elementEnd()),2&a&&o.\u0275\u0275attribute("width",p.dimension)("height",p.dimension)},encapsulation:2}),u})();function Lt(u,g){1&u&&(o.\u0275\u0275elementStart(0,"strong",2),o.\u0275\u0275text(1,"*"),o.\u0275\u0275elementEnd())}let fe=(()=>{class u{constructor(){this.required=!1,this.style={fontSize:"0.625rem",lineHeight:"1.25rem"}}ngOnInit(){}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["label-atom"]],inputs:{key:"key",required:"required",title:"title",formGroup:"formGroup",style:"style"},decls:3,vars:5,consts:[[1,"block","text-gray-700","font-bold",3,"id","ngStyle"],["class","text-red-500",4,"ngIf"],[1,"text-red-500"]],template:function(a,p){1&a&&(o.\u0275\u0275elementStart(0,"label",0),o.\u0275\u0275text(1),o.\u0275\u0275template(2,Lt,2,0,"strong",1),o.\u0275\u0275elementEnd()),2&a&&(o.\u0275\u0275property("id",p.key)("ngStyle",p.style),o.\u0275\u0275attribute("for",p.key),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",p.title," "),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",p.required))},directives:[F.NgStyle,F.NgIf],styles:[".label__sm[_ngcontent-%COMP%]{font-size:.75rem;line-height:1rem}.label__md[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem}.label__xl[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.75rem}"]}),u})();function Dt(u,g){if(1&u&&o.\u0275\u0275element(0,"label-atom",2),2&u){const a=o.\u0275\u0275nextContext();o.\u0275\u0275styleMap(a.elementTheming[a.schemeComponent.ELEMENT_LABEL]),o.\u0275\u0275property("title",a.label)("required",a.required)("formGroup",a.formGroup)}}let Ne=(()=>{class u{constructor(){this.label="",this.required=!1,this.disabled=!1,this.multiline=!1,this.placeholder="",this.elementTheming={},this.schemeComponent=we.EnumToObject(L.y)}ngOnInit(){}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["label-text-field-moelcule"]],inputs:{label:"label",required:"required",disabled:"disabled",key:"key",type:"type",multiline:"multiline",mask:"mask",specialCharacters:"specialCharacters",patterns:"patterns",placeholder:"placeholder",formGroup:"formGroup",formGroupName:"formGroupName",value:"value",elementTheming:"elementTheming"},decls:2,vars:13,consts:[[3,"title","required","formGroup","style",4,"ngIf"],[3,"key","type","multiline","mask","value","disabled","specialCharacters","patterns","placeholder","formGroup"],[3,"title","required","formGroup"]],template:function(a,p){1&a&&(o.\u0275\u0275template(0,Dt,1,5,"label-atom",0),o.\u0275\u0275element(1,"atom-text-field",1)),2&a&&(o.\u0275\u0275property("ngIf",p.label),o.\u0275\u0275advance(1),o.\u0275\u0275styleMap(p.elementTheming[p.schemeComponent.ELEMENT_TEXT]),o.\u0275\u0275property("key",p.key)("type",p.type)("multiline",p.multiline)("mask",p.mask)("value",p.value)("disabled",p.disabled)("specialCharacters",p.specialCharacters)("patterns",p.patterns)("placeholder",p.placeholder)("formGroup",p.formGroup))},directives:[F.NgIf,Ze,E.JL,E.sg,fe],encapsulation:2}),u})(),Qe=(()=>{class u{constructor(){}ngOnInit(){}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["plus-circle-icon-svg"]],decls:4,vars:0,consts:[["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z","stroke","white","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M12 8V16","stroke","white","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M8 12H16","stroke","white","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"]],template:function(a,p){1&a&&(o.\u0275\u0275namespaceSVG(),o.\u0275\u0275elementStart(0,"svg",0),o.\u0275\u0275element(1,"path",1),o.\u0275\u0275element(2,"path",2),o.\u0275\u0275element(3,"path",3),o.\u0275\u0275elementEnd())},encapsulation:2}),u})(),et=(()=>{class u{constructor(){}ngOnInit(){}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["minus-circle-icon-svg"]],decls:3,vars:0,consts:[["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z","stroke","white","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M8 12H16","stroke","white","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"]],template:function(a,p){1&a&&(o.\u0275\u0275namespaceSVG(),o.\u0275\u0275elementStart(0,"svg",0),o.\u0275\u0275element(1,"path",1),o.\u0275\u0275element(2,"path",2),o.\u0275\u0275elementEnd())},encapsulation:2}),u})();function Ot(u,g){if(1&u&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"section",6),o.\u0275\u0275text(2," Components "),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementContainer(3,7),o.\u0275\u0275elementContainerEnd()),2&u){o.\u0275\u0275nextContext();const a=o.\u0275\u0275reference(4);o.\u0275\u0275advance(3),o.\u0275\u0275property("ngTemplateOutlet",a)}}function At(u,g){if(1&u&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"section",6),o.\u0275\u0275text(2," Forms "),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementContainer(3,7),o.\u0275\u0275elementContainerEnd()),2&u){o.\u0275\u0275nextContext();const a=o.\u0275\u0275reference(6);o.\u0275\u0275advance(3),o.\u0275\u0275property("ngTemplateOutlet",a)}}function zt(u,g){if(1&u&&(o.\u0275\u0275elementStart(0,"div",12),o.\u0275\u0275elementStart(1,"mat-icon",13),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"span",14),o.\u0275\u0275text(4),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&u){const a=g.$implicit,p=o.\u0275\u0275nextContext(3);o.\u0275\u0275property("id",a)("cdkDragData",a),o.\u0275\u0275attribute("title",p.valueFromElement(a).title),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(p.valueFromElement(a).icon),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(p.valueFromElement(a).title)}}function Pt(u,g){if(1&u&&(o.\u0275\u0275elementStart(0,"item-accordion-molecule",9),o.\u0275\u0275elementStart(1,"section",10),o.\u0275\u0275template(2,zt,5,5,"div",11),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&u){const a=g.$implicit,p=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("key",a.key)("title",a.title)("icon",a.icon)("expanded",a.expanded),o.\u0275\u0275advance(1),o.\u0275\u0275property("cdkDropListData",a.elements)("cdkDropListConnectedTo",a.typeElements===p.getTypeElementsTools("LAYOUT")?"layout-builder-section":p.connectColumnList)("id",p.idListToolElement),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",a.elements)}}function Bt(u,g){if(1&u&&(o.\u0275\u0275elementStart(0,"accordion-melecule"),o.\u0275\u0275template(1,Pt,3,8,"item-accordion-molecule",8),o.\u0275\u0275elementEnd()),2&u){const a=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",a.sectionElementsTools)}}function It(u,g){if(1&u){const a=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"setting-icon-svg",29),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(a);const v=o.\u0275\u0275nextContext().$implicit;return o.\u0275\u0275nextContext(3).updateForm(v._id)}),o.\u0275\u0275elementEnd()}}const Ht=function(u){return{"mobilform-form__container__section__forms-container__form__title":!0,"mobilform-form__container__section__forms-container__form__title--active":u}};function Nt(u,g){if(1&u){const a=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"section",26),o.\u0275\u0275elementStart(1,"span",27),o.\u0275\u0275listener("click",function(){const k=o.\u0275\u0275restoreView(a).$implicit;return o.\u0275\u0275nextContext(3).selectForm(k._id)}),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(3,It,1,0,"setting-icon-svg",28),o.\u0275\u0275elementEnd()}if(2&u){const a=g.$implicit,p=o.\u0275\u0275nextContext(3);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",o.\u0275\u0275pureFunction1(3,Ht,(null==p.selectedForm?null:p.selectedForm._id)===a._id)),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(a.name),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",(null==p.selectedForm?null:p.selectedForm._id)===a._id)}}const Gt=function(){return{}};function Vt(u,g){if(1&u){const a=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",17),o.\u0275\u0275elementStart(1,"section",18),o.\u0275\u0275elementStart(2,"span",19),o.\u0275\u0275text(3,"Create form"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"plus-icon-svg",20),o.\u0275\u0275listener("click",function(){return o.\u0275\u0275restoreView(a),o.\u0275\u0275nextContext(2).createForm()}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"section",21),o.\u0275\u0275element(6,"atom-text-field",22),o.\u0275\u0275element(7,"search-icon-svg",23),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(8,"section",24),o.\u0275\u0275template(9,Nt,4,5,"section",25),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}if(2&u){const a=o.\u0275\u0275nextContext(2);let p;o.\u0275\u0275advance(4),o.\u0275\u0275property("dimension",24),o.\u0275\u0275advance(2),o.\u0275\u0275styleMap(null!==(p=null==a.elementThemingSettingNav?null:a.elementThemingSettingNav.text)&&void 0!==p?p:o.\u0275\u0275pureFunction0(8,Gt)),o.\u0275\u0275property("key","search")("type","text")("placeholder","Search form")("formGroup",a.searchFormGroup),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngForOf",a.forms)}}function Wt(u,g){if(1&u){const a=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"section",33),o.\u0275\u0275elementStart(1,"button-atom",37),o.\u0275\u0275listener("click",function(){return o.\u0275\u0275restoreView(a),o.\u0275\u0275nextContext(3).actionForm("remove")}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}if(2&u){const a=o.\u0275\u0275nextContext(3);o.\u0275\u0275advance(1),o.\u0275\u0275styleMap(a.elementTheming.button),o.\u0275\u0275property("title","Remove")("disabled",!a.isValidForm)}}const jt=function(u,g){return{keyArrayName:"variables",titleSection:"Variables",labelButtonAdd:"Add Variable",formGroup:u,newElement:g}};function Ut(u,g){if(1&u){const a=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",30),o.\u0275\u0275elementStart(1,"section",31),o.\u0275\u0275elementStart(2,"chevron-icon-svg",29),o.\u0275\u0275listener("click",function(){return o.\u0275\u0275restoreView(a),o.\u0275\u0275nextContext(2).cancelCreate()}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"span",32),o.\u0275\u0275text(4),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"section",33),o.\u0275\u0275element(6,"label-text-field-moelcule",34),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(7,"section",33),o.\u0275\u0275element(8,"label-text-field-moelcule",35),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(9,"section",33),o.\u0275\u0275elementContainer(10,36),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(11,"section",33),o.\u0275\u0275elementStart(12,"button-atom",37),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(a);const v=o.\u0275\u0275nextContext(2);return v.actionForm(v.stateFormToolbar)}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(13,Wt,2,4,"section",38),o.\u0275\u0275elementEnd()}if(2&u){const a=o.\u0275\u0275nextContext(2),p=o.\u0275\u0275reference(8);o.\u0275\u0275advance(4),o.\u0275\u0275textInterpolate("create"===a.stateFormToolbar?"Create form":"Update "+(null==a.selectedForm?null:a.selectedForm.name)),o.\u0275\u0275advance(2),o.\u0275\u0275property("key","name")("label","Name")("placeholder","Name")("type","text")("formGroup",a.actionFormFormGroup)("elementTheming",a.elementTheming),o.\u0275\u0275advance(2),o.\u0275\u0275property("key","description")("label","Description")("placeholder","Description")("type","text")("multiline",!0)("formGroup",a.actionFormFormGroup)("elementTheming",a.elementTheming),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngTemplateOutlet",p)("ngTemplateOutletContext",o.\u0275\u0275pureFunction2(21,jt,a.actionFormFormGroup,a.createItemFormArray())),o.\u0275\u0275advance(2),o.\u0275\u0275styleMap(a.elementTheming.button),o.\u0275\u0275property("title","create"===a.stateFormToolbar?"Save":"Update")("disabled",!a.isValidForm),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","update"===a.stateFormToolbar)}}function Kt(u,g){if(1&u&&(o.\u0275\u0275template(0,Vt,10,9,"div",15),o.\u0275\u0275template(1,Ut,14,24,"div",16)),2&u){const a=o.\u0275\u0275nextContext();o.\u0275\u0275property("ngIf","none"===a.stateFormToolbar),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","none"!==a.stateFormToolbar)}}function $t(u,g){if(1&u){const a=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275elementStart(1,"section",44),o.\u0275\u0275elementStart(2,"section",45),o.\u0275\u0275element(3,"label-text-field-moelcule",46),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"section",47),o.\u0275\u0275elementStart(5,"plus-circle-icon-svg",48),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(a);const v=o.\u0275\u0275nextContext(2),k=v.formGroup,M=v.keyArrayName,G=v.newElement;return o.\u0275\u0275nextContext().addNewControl(k,M,G)}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(6,"minus-circle-icon-svg",48),o.\u0275\u0275listener("click",function(){const k=o.\u0275\u0275restoreView(a).index,M=o.\u0275\u0275nextContext(2),G=M.formGroup,X=M.keyArrayName;return o.\u0275\u0275nextContext().removeControl(G,X,k)}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}if(2&u){const a=g.index,p=o.\u0275\u0275nextContext(2),v=p.formGroup,k=p.keyArrayName,M=o.\u0275\u0275nextContext();o.\u0275\u0275advance(3),o.\u0275\u0275property("key","variable")("placeholder","variable")("type","text")("elementTheming",M.elementThemingSettingNav)("formGroup",M.getGroupOption(v,k,a))}}function Xt(u,g){if(1&u&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"section",41),o.\u0275\u0275elementContainerStart(2,42),o.\u0275\u0275template(3,$t,7,5,"div",43),o.\u0275\u0275elementContainerEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementContainerEnd()),2&u){const a=o.\u0275\u0275nextContext(),p=a.formGroup,v=a.keyArrayName,k=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("formGroup",p),o.\u0275\u0275advance(1),o.\u0275\u0275property("formArrayName",v),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",k.getFormArray(p,v).controls)}}const xe=function(u,g,a,p){return{label:u,key:g,formGroup:a,newElement:p}};function qt(u,g){if(1&u&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementContainer(1,36),o.\u0275\u0275elementContainerEnd()),2&u){const a=o.\u0275\u0275nextContext(),p=a.labelButtonAdd,v=a.keyArrayName,k=a.formGroup,M=a.newElement;o.\u0275\u0275nextContext();const G=o.\u0275\u0275reference(10);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngTemplateOutlet",G)("ngTemplateOutletContext",o.\u0275\u0275pureFunction4(2,xe,p,v,k,M))}}function Jt(u,g){if(1&u&&(o.\u0275\u0275element(0,"label-atom",39),o.\u0275\u0275template(1,Xt,4,3,"ng-container",40),o.\u0275\u0275template(2,qt,2,7,"ng-container",40)),2&u){const a=g.keyArrayName,p=g.titleSection,v=g.formGroup,k=o.\u0275\u0275nextContext();o.\u0275\u0275styleMap(k.elementTheming.label),o.\u0275\u0275property("title",p),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",null==v.controls||null==v.controls[a]?null:v.controls[a].value.length),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!(null!=v.controls&&null!=v.controls[a]&&null!=v.controls[a].controls&&v.controls[a].controls.length))}}const Yt=function(){return{fontSize:"18px",color:"white",marginBottom:"0",cursor:"pointer"}};function Zt(u,g){if(1&u){const a=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"section",49),o.\u0275\u0275listener("click",function(){const v=o.\u0275\u0275restoreView(a),k=v.formGroup,M=v.key,G=v.newElement;return o.\u0275\u0275nextContext().addNewControl(k,M,G)}),o.\u0275\u0275element(1,"plus-icon-svg",50),o.\u0275\u0275element(2,"label-atom",39),o.\u0275\u0275elementEnd()}if(2&u){const a=g.label;o.\u0275\u0275advance(1),o.\u0275\u0275property("dimension",30)("isCircle",!1),o.\u0275\u0275advance(1),o.\u0275\u0275styleMap(o.\u0275\u0275pureFunction0(5,Yt)),o.\u0275\u0275property("title",a)}}const Ge="tools-elements-list";let Qt=(()=>{class u{constructor(a,p){this.formBuilderService=a,this.router=p,this.fields=[],this.section="elements",this.onApplyChangesFields=new o.EventEmitter,this.connectColumnList=[],this.selectedFieldKey="",this.selectedTypeField="",this.sectionElementsTools=bt,this.formIsReady=!1,this.idListToolElement=Ge,this.elementTheming=Z.wC,this.elementThemingSettingNav=Z.Rz,this.stateFormToolbar="none",this.searchFormGroup=new E.cw({}),this.actionFormFormGroup=new E.cw({}),this.forms=[],this.searchFormGroup=new E.cw({search:new E.NI("")}),this.actionFormFormGroup=new E.cw({name:new E.NI(""),description:new E.NI(""),variables:new E.Oe([])})}get isValidForm(){return this.actionFormFormGroup.valid}ngOnInit(){this.initializeSubsctiption(),this.getAllForms()}ngOnDestroy(){this.connectColumnSubscription$?.unsubscribe(),this.showSectionToolbarSubscription$?.unsubscribe(),this.selectedFormSubscription$?.unsubscribe()}initializeSubsctiption(){this.listenChangesSharedConnection(),this.listenChangesShowSectionToolbar(),this.listenChangesSelectedForm()}listenChangesSharedConnection(){this.connectColumnSubscription$=this.formBuilderService.onChangesSharedConnectList().subscribe(a=>{this.connectColumnList=[...a,"gridZone"]})}listenChangesShowSectionToolbar(){this.showSectionToolbarSubscription$=this.formBuilderService.onChangesShowSectionToolbar().subscribe(a=>{this.section=a})}listenChangesSelectedForm(){this.selectedForm=this.formBuilderService.selectedForm,this.selectedFormSubscription$=this.formBuilderService.onChangesSelectedForm().subscribe(a=>{this.selectForm(a._id)})}valueFromElement(a){return Be.find(p=>p.key===a)??new gt}createForm(){this.stateValueForm("create"),this.actionFormFormGroup.reset()}cancelCreate(){this.stateValueForm("none")}updateForm(a){this.stateValueForm("update"),this.selectForm(a);const p=this.selectedForm?.settings?.variables.map(v=>new E.cw({variable:new E.NI(v)}))??[];this.actionFormFormGroup=new E.cw({name:new E.NI(this.selectedForm?.name??""),description:new E.NI(this.selectedForm?.description??""),variables:new E.Oe(p)})}stateValueForm(a){this.stateFormToolbar=a}selectForm(a){this.selectedForm=this.formBuilderService.selectedForm,this.router.navigate(["constructor"],{queryParams:{formId:a}})}actionForm(a){var p=this;return(0,ft.Z)(function*(){try{const v=p.actionFormFormGroup.value,k={name:v.name,description:v.description,settings:{...p.selectedForm?.settings,variables:v.variables.map(M=>M.variable)}};switch(a){case"create":return yield p.formBuilderService.formBuilderCreateForm(k).toPromise();case"update":if(p.selectedForm?._id)return yield p.formBuilderService.formBuilderUpdateForm(p.selectedForm?._id,k).toPromise();throw new Error("No form selected!");case"remove":if(p.selectedForm?._id)return yield p.formBuilderService.formBuilderRemoveOne(p.selectedForm?._id).toPromise();throw new Error("No form selected!")}}catch(v){console.error(v)}finally{p.stateValueForm("none"),p.actionFormFormGroup.reset()}})()}getAllForms(){this.forms=this.formBuilderService.forms}getType(a){return we.EnumToObject(L.y)[a]}getTypeElementsTools(a){return we.EnumToObject(Q)[a]}createItemFormArray(){return new E.cw({variable:new E.NI("")})}addNewControl(a,p,v){a.get(p).push(v)}removeControl(a,p,v){a.get(p).removeAt(v)}getFormArray(a,p){return a.get(p)}getGroupOption(a,p,v){return a.get(p).controls[v]}getValueFromFormGroup(a,p){return a.get(p)?.value}getFormGroupFromFormGroupGeneral(a,p){return a.get(p)}}return u.\u0275fac=function(a){return new(a||u)(o.\u0275\u0275directiveInject(Ee.c),o.\u0275\u0275directiveInject(B.Router))},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["toolbar-organism"]],inputs:{fields:"fields",section:"section"},outputs:{onApplyChangesFields:"onApplyChangesFields"},decls:11,vars:4,consts:[[3,"className","ngSwitch"],[4,"ngSwitchCase"],["toolContent",""],["formSectionContent",""],["sectionOptions",""],["addButtonOptions",""],[1,"mobilfor-toolbar__container__header"],[3,"ngTemplateOutlet"],[3,"key","title","icon","expanded",4,"ngFor","ngForOf"],[3,"key","title","icon","expanded"],["cdkDropList","","cdkDropListSortingDisabled","",1,"mobilfor-toolbar__container__grid",3,"cdkDropListData","cdkDropListConnectedTo","id"],["cdkDrag","","class","mobilfor-toolbar__container__grid-items",3,"id","cdkDragData",4,"ngFor","ngForOf"],["cdkDrag","",1,"mobilfor-toolbar__container__grid-items",3,"id","cdkDragData"],[1,"mobilfor-toolbar__container__grid-items__icon"],[1,"text-sm"],["class","mobilform-form__container",4,"ngIf"],["class","mobilform-form__form__container",4,"ngIf"],[1,"mobilform-form__container"],[1,"mobilform-form__container__section","mobilform-form__container__section__create-form"],[1,"mobilform-form__container__create-form__label"],[1,"mobilform-form__container__create-form__button",3,"dimension","click"],[1,"mobilform-form__container__section","mobilform-form__container__section__search"],[1,"mobilform-form__container__section__search__input",3,"key","type","placeholder","formGroup"],[1,"mobilform-form__container__create-form__button"],[1,"mobilform-form__container__section__forms-container"],["class","mobilform-form__container__section__forms-container__form",4,"ngFor","ngForOf"],[1,"mobilform-form__container__section__forms-container__form"],[3,"ngClass","click"],["class","mobilform-form__container__create-form__button",3,"click",4,"ngIf"],[1,"mobilform-form__container__create-form__button",3,"click"],[1,"mobilform-form__form__container"],[1,"mobilform-form__form__container__section","mobilform-form__form__container__section__title"],[1,"mobilform-form__form__container__section__title__label"],[1,"mobilform-form__form__container__element"],[3,"key","label","placeholder","type","formGroup","elementTheming"],[3,"key","label","placeholder","type","multiline","formGroup","elementTheming"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"title","disabled","click"],["class","mobilform-form__form__container__element",4,"ngIf"],[3,"title"],[4,"ngIf"],[3,"formGroup"],[3,"formArrayName"],[4,"ngFor","ngForOf"],[1,"mobilform-settings-bar_container__body__elements__options-grid"],[1,"mobilform-settings-bar_container__body__elements_options-grid__section-input"],[3,"key","placeholder","type","elementTheming","formGroup"],[1,"mobilform-settings-bar_container__body__elements_options-grid__section-button"],[1,"mobilform-settings-bar_container__body__elements_options-grid__section-button__icon",3,"click"],[1,"mobilform-settings-bar_container__body__elements__button-add-column",3,"click"],[3,"dimension","isCircle"]],template:function(a,p){1&a&&(o.\u0275\u0275elementStart(0,"side-menu-container-molecule",0),o.\u0275\u0275template(1,Ot,4,1,"ng-container",1),o.\u0275\u0275template(2,At,4,1,"ng-container",1),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(3,Bt,2,1,"ng-template",null,2,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275template(5,Kt,2,2,"ng-template",null,3,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275template(7,Jt,3,5,"ng-template",null,4,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275template(9,Zt,3,6,"ng-template",null,5,o.\u0275\u0275templateRefExtractor)),2&a&&(o.\u0275\u0275property("className","slide-right-toolbar")("ngSwitch",p.section),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase","elements"),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase","forms"))},directives:[qe,F.NgSwitch,F.NgSwitchCase,F.NgTemplateOutlet,wt,F.NgForOf,Et,de.Wj,de.Zt,Ie.Hw,F.NgIf,Ce,Ze,E.JL,E.sg,St,F.NgClass,Mt,Ft,Ne,ze,fe,E.CE,Qe,et],styles:[".mobilfor-toolbar__container__header[_ngcontent-%COMP%]{font-size:1.5rem;padding:.75rem 0;display:flex;justify-content:center;align-items:center;border-bottom:.5px solid #FFFFFF}.mobilfor-toolbar__container__grid[_ngcontent-%COMP%]{display:grid;grid-gap:1rem;gap:1rem;grid-template-columns:repeat(3,minmax(0,1fr))}.mobilfor-toolbar__container__grid-items[_ngcontent-%COMP%]{display:flex;flex-flow:column;align-items:center;width:100%}.mobilfor-toolbar__container__grid-items__icon[_ngcontent-%COMP%]{min-width:2.75rem;max-width:2.75rem;min-height:2.75rem;max-height:2.75rem;font-size:1.5rem;display:flex;justify-content:center;align-items:center}.mobilform-form__container[_ngcontent-%COMP%]{padding:0 20px;display:grid;grid-template-columns:100%;grid-template-rows:fit-content(100%) fit-content(100%) 1fr;height:calc(100vh - 121px)}.mobilform-form__form__container[_ngcontent-%COMP%]{padding:0 20px;display:grid;grid-template-columns:100%}.mobilform-form__form__container__element[_ngcontent-%COMP%]{padding:10px 0}.mobilform-form__container__section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.mobilform-form__container__section__create-form[_ngcontent-%COMP%]{padding:15px 0}.mobilform-form__container__create-form__label[_ngcontent-%COMP%]{font-weight:700;font-size:18px}.mobilform-form__container__create-form__button[_ngcontent-%COMP%]{cursor:pointer}.mobilform-form__container__section__search[_ngcontent-%COMP%]{padding:10px 0}.mobilform-form__container__section__search__input[_ngcontent-%COMP%]{width:100%;margin-right:10px}.mobilform-form__container__section__forms-container[_ngcontent-%COMP%]{display:flex;flex-flow:column;overflow-y:auto}.mobilform-form__container__section__forms-container__form[_ngcontent-%COMP%]{padding:5px 0;display:flex;justify-content:space-between;align-items:center}.mobilform-form__container__section__forms-container__form__title[_ngcontent-%COMP%]{font-size:14px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;margin-right:10px;cursor:pointer;-webkit-user-select:none;user-select:none}.mobilform-form__container__section__forms-container__form__title--active[_ngcontent-%COMP%]{font-weight:700}.mobilform-form__form__container__section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.mobilform-form__form__container__section__title[_ngcontent-%COMP%]{padding:15px 0;line-height:1rem}.mobilform-form__form__container__section__title__label[_ngcontent-%COMP%]{width:100%;font-weight:700;font-size:18px;margin-left:6px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mobilform-settings-bar_container__body__elements__options-grid[_ngcontent-%COMP%]{display:grid;grid-gap:.875rem;gap:.875rem;margin-top:.5rem;margin-bottom:.5rem;grid-template-columns:repeat(4,minmax(0,1fr))}.mobilform-settings-bar_container__body__elements_options-grid__section-input[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-gap:.875rem;gap:.875rem;grid-column:span 4 / 4}.mobilform-settings-bar_container__body__elements_options-grid__section-select[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-column:span 4 / 4}.mobilform-settings-bar_container__body__elements_options-grid__section-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;grid-column:span 1 / span 1}.mobilform-settings-bar_container__body__elements_options-grid__section-button__icon[_ngcontent-%COMP%]{cursor:pointer}.mobilform-settings-bar_container__body__elements__button-add-column[_ngcontent-%COMP%]{padding:.625rem;display:flex;flex-direction:row;justify-content:center;align-items:center;border:.5px dashed #FFFFFF;box-sizing:border-box;cursor:pointer;-webkit-user-select:none;user-select:none}"]}),u})();var tt=A(4762),Ve=A(9425),ei=A(677);class it{static item(g){return g.item}}(0,tt.gn)([(0,Ve.Qf)([ei.F])],it,"item",null);let ti=(()=>{class u{constructor(){this.key="",this.label="",this.formGroup=new E.cw({})}ngOnInit(){}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["toggle-atom"]],inputs:{key:"key",label:"label",formGroup:"formGroup"},decls:5,vars:6,consts:[[3,"formGroup"],[1,"form-check","form-switch"],["type","checkbox","role","switch",1,"form-check-input","appearance-none","w-9","-ml-10","rounded-full","float-left","h-5","align-top","bg-white","bg-no-repeat","bg-contain","bg-gray-300","focus:outline-none","cursor-pointer","shadow-sm",3,"name","id","formControlName"],[1,"form-check-label","font-bold","inline-block","text-gray-800"]],template:function(a,p){1&a&&(o.\u0275\u0275elementStart(0,"section",0),o.\u0275\u0275elementStart(1,"div",1),o.\u0275\u0275element(2,"input",2),o.\u0275\u0275elementStart(3,"label",3),o.\u0275\u0275text(4),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&a&&(o.\u0275\u0275property("formGroup",p.formGroup),o.\u0275\u0275advance(2),o.\u0275\u0275property("name",p.key)("id",p.key)("formControlName",p.key),o.\u0275\u0275advance(1),o.\u0275\u0275attribute("for",p.key),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(p.label))},directives:[E.JL,E.sg,E.Wl,E.JJ,E.u],encapsulation:2}),u})();const ge={width:200,height:100},Te={[L.y.ELEMENT_TEXT]:{...ge},[L.y.ELEMENT_DATE]:{...ge},[L.y.ELEMENT_DROPDOWN]:{...ge},[L.y.ELEMENT_RADIO]:{...ge},[L.y.ELEMENT_CHECKBOX]:{...ge},[L.y.ELEMENT_FILE]:{...ge},[L.y.ELEMENT_LABEL]:{...ge},[L.y.ELEMENT_BUTTON]:{...ge},[L.y.ELEMENT_TABLE]:{width:400,height:200}};var nt=A(2898),Se=A(1593),st=A(3928);const ni=function(u){return{width:u}},si=["*"];let oi=(()=>{class u{constructor(){this.typeElement="",this.bounds={},this.position={x:0,y:0},this.onEmitDimensionPosition=new o.EventEmitter,this.style={},this.dimension={width:Te[this.typeElement]?.width??0,height:Te[this.typeElement]?.height??0},this.validate=a=>p=>!(p.rectangle.width&&p.rectangle.height&&p.rectangle.width<Te[a].width)}get minWidth(){return Te[this.typeElement].width}ngOnInit(){}emmitResize(a){this.dimension={width:a.size?.width,height:a.size?.height},this.onEmitDimensionPosition.emit({...this.position,width:a.size?.width??0,height:a.size?.height??0})}emmitPosition(a){this.onEmitDimensionPosition.emit({...this.dimension,x:a.x,y:a.y})}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["resize-wrapper-molecule"]],inputs:{typeElement:"typeElement",bounds:"bounds",position:"position",dimension:"dimension"},outputs:{onEmitDimensionPosition:"onEmitDimensionPosition"},ngContentSelectors:si,decls:10,vars:14,consts:[["ngDraggable","","ngResizable","",1,"wrapper-element",3,"bounds","inBounds","handle","gridSize","zIndex","position","preventDefaultEvent","rzGrid","rzHandles","rzContainment","rzMinWidth","ngStyle","endOffset","rzStop"],[1,"wrapper-element__content"],[1,"drag-grid"],["handle",""],[1,"box-resize_wrapper"],[1,"box-resize","box-resize--border-top"],[1,"box-resize","box-resize--border-bottom"],[1,"box-resize","box-resize--border-left"],[1,"box-resize","box-resize--border-right"]],template:function(a,p){if(1&a&&(o.\u0275\u0275projectionDef(),o.\u0275\u0275elementStart(0,"section",0),o.\u0275\u0275listener("endOffset",function(k){return p.emmitPosition(k)})("rzStop",function(k){return p.emmitResize(k)}),o.\u0275\u0275elementStart(1,"div",1),o.\u0275\u0275elementStart(2,"div",2,3),o.\u0275\u0275projection(4),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"div",4),o.\u0275\u0275element(6,"div",5),o.\u0275\u0275element(7,"div",6),o.\u0275\u0275element(8,"div",7),o.\u0275\u0275element(9,"div",8),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&a){const v=o.\u0275\u0275reference(3);o.\u0275\u0275property("bounds",p.bounds)("inBounds",!0)("handle",v)("gridSize",10)("zIndex","100")("position",p.position)("preventDefaultEvent",!0)("rzGrid",10)("rzHandles","w,e")("rzContainment",p.bounds)("rzMinWidth",p.minWidth)("ngStyle",o.\u0275\u0275pureFunction1(12,ni,p.dimension.width+"px"))}},directives:[st.Zc,st.OI,F.NgStyle],styles:[".rectangle[_ngcontent-%COMP%]{position:relative;width:max-content;height:max-content;border:2px dashed gray;outline-offset:5px}.resize-handle-top[_ngcontent-%COMP%], .resize-handle-bottom[_ngcontent-%COMP%], .resize-handle-left[_ngcontent-%COMP%], .resize-handle-right[_ngcontent-%COMP%]{position:absolute;height:12px;width:12px;background-color:#00f;border-radius:50rem}.resize-handle-top[_ngcontent-%COMP%]{top:-6px;left:50%;cursor:row-resize}.resize-handle-bottom[_ngcontent-%COMP%]{bottom:-6px;left:50%;cursor:row-resize}.resize-handle-left[_ngcontent-%COMP%]{left:-6px;top:50%;cursor:col-resize}.resize-handle-right[_ngcontent-%COMP%]{right:-6px;top:50%;cursor:col-resize}.content[_ngcontent-%COMP%]{height:-webkit-fill-available}.drag-grid[_ngcontent-%COMP%]{width:100%;height:100%}.wrapper-element[_ngcontent-%COMP%]{position:absolute}.box-resize_wrapper[_ngcontent-%COMP%]{width:100px}.box-resize[_ngcontent-%COMP%]{border:0 #0372d2 solid;position:absolute}.wrapper-element__content[_ngcontent-%COMP%]{padding:10px;position:relative}.box-resize--border-top[_ngcontent-%COMP%]{border-top-width:1px;left:0;top:0;transform:translate(-.5px,-.5px) scaleY(1.1);width:calc(100% + 1px)}.box-resize--border-bottom[_ngcontent-%COMP%]{border-bottom-width:1px;left:0;bottom:0;transform:translate(-.5px,.5px) scaleY(1.1);width:calc(100% + 1px)}.box-resize--border-right[_ngcontent-%COMP%]{border-right-width:1px;height:calc(100% + 1px);right:0;top:0;transform:translate(.5px,-.5px) scaleX(1.1)}.box-resize--border-left[_ngcontent-%COMP%]{border-left-width:1px;height:calc(100% + 1px);left:0;top:0;transform:translate(-.5px,-.5px) scaleX(1.1)}.box-resize_point-resize[_ngcontent-%COMP%]{background-color:#fff;border:1px solid blue;border-radius:4px;box-shadow:0 2px 6px #0000000a;height:8px;width:8px;margin:-4px;pointer-events:auto;position:absolute;z-index:2}.box-resize_point-resize-widget[_ngcontent-%COMP%]{cursor:ew-resize;width:7px;height:30px;margin:0;max-height:80%;min-height:7px;top:50%}.box-resize_point-resize--rigth[_ngcontent-%COMP%]{right:0;transform:translate(50%,-50%)}.box-resize_point-resize--left[_ngcontent-%COMP%]{left:0;transform:translate(-50%,-50%)}"]}),u})();const ri=function(u){return["shadow-lg rounded-lg",u]},li=["*"];let ai=(()=>{class u{constructor(){this.extendedClass="bg-white"}ngOnInit(){}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["card-molecule"]],inputs:{extendedClass:"extendedClass"},ngContentSelectors:li,decls:2,vars:3,consts:[[3,"ngClass"]],template:function(a,p){1&a&&(o.\u0275\u0275projectionDef(),o.\u0275\u0275elementStart(0,"section",0),o.\u0275\u0275projection(1),o.\u0275\u0275elementEnd()),2&a&&o.\u0275\u0275property("ngClass",o.\u0275\u0275pureFunction1(1,ri,p.extendedClass))},directives:[F.NgClass],styles:[".backgroud-red[_ngcontent-%COMP%]{background:red!important}"]}),u})();function hi(u,g){if(1&u&&(o.\u0275\u0275elementStart(0,"option",4),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&u){const a=g.$implicit;o.\u0275\u0275property("ngValue",a.key),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",a.label," ")}}let ci=(()=>{class u{constructor(a){this.dynamicFormBuilderService=a,this.key="",this.id="",this.options=[],this.placeholder="",this.formGroup=new E.cw({}),this.fetching={},this.style={}}ngOnInit(){switch(this.fetching?.typEvent){case"onInit":this.onInitMethod();break;case"onChange":this.listenChangesField()}}ngOnDestroy(){this.changesFieldSubscription$?.unsubscribe(),this.responseFetchingElement$?.unsubscribe()}onInitMethod(){this.dynamicFormBuilderService.emmitFetchingElement({...this.fetching,identifierElement:this.key})}listenChangesResponseFetchingElement(){this.responseFetchingElement$=this.dynamicFormBuilderService.onChangesResponseFetchingElement().subscribe(a=>{a.identifierElement===this.key&&this.dynamicFormBuilderService.assignValueVariableWithKey(this.fetching?.variable??"",a.response)})}listenChangesField(){this.changesFieldSubscription$=this.formGroup.get(this.key)?.valueChanges.pipe((0,J.delay)(1e3)).subscribe(()=>{this.dynamicFormBuilderService.emmitFetchingElement({...this.fetching,identifierElement:this.key})})??new pe.Subscription,this.listenChangesResponseFetchingElement()}}return u.\u0275fac=function(a){return new(a||u)(o.\u0275\u0275directiveInject(ne.D))},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["dropdown-atom"]],inputs:{key:"key",id:"id",options:"options",placeholder:"placeholder",formGroup:"formGroup",fetching:"fetching",style:"style"},decls:5,vars:9,consts:[[3,"formGroup"],["aria-label","Default select example",1,"mobilform-select",3,"ngStyle","name","id","formControlName"],[3,"ngValue","disabled"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(a,p){1&a&&(o.\u0275\u0275elementStart(0,"section",0),o.\u0275\u0275elementStart(1,"select",1),o.\u0275\u0275elementStart(2,"option",2),o.\u0275\u0275text(3),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(4,hi,2,2,"option",3),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&a&&(o.\u0275\u0275property("formGroup",p.formGroup),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngStyle",p.style)("name",p.key)("id",p.id)("formControlName",p.key),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngValue","")("disabled",!0),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(p.placeholder),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",p.options))},directives:[E.JL,E.sg,E.EJ,F.NgStyle,E.JJ,E.u,E.YN,E.Kr,F.NgForOf],styles:[".mobilform-select[_ngcontent-%COMP%]{background-color:#fff;line-height:1.25;padding:.5rem .75rem;border-radius:.25rem;-webkit-appearance:none;-moz-appearance:none;width:100%;border-width:1px;font-size:12px;height:30px;background-repeat:no-repeat;appearance:none;background-clip:padding-box;display:block;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e\");background-position:right .75rem center;background-size:16px 12px;transition-property:color,background-color,border-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-text-decoration-color,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-text-decoration-color,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.mobilform-select[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px}"]}),u})();function di(u,g){if(1&u&&o.\u0275\u0275element(0,"label-atom",2),2&u){const a=o.\u0275\u0275nextContext();o.\u0275\u0275styleMap(a.elementTheming[a.schemeComponent.ELEMENT_LABEL]),o.\u0275\u0275property("title",a.label)("required",a.required)("formGroup",a.formGroup)}}let ot=(()=>{class u{constructor(){this.label="",this.required=!1,this.key="",this.id="",this.options=[],this.formGroup=new E.cw({}),this.fetching={},this.elementTheming={},this.schemeComponent=we.EnumToObject(L.y)}ngOnInit(){}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["label-dropdown-molecule"]],inputs:{label:"label",required:"required",key:"key",id:"id",placeholder:"placeholder",options:"options",formGroup:"formGroup",fetching:"fetching",elementTheming:"elementTheming"},decls:2,vars:9,consts:[[3,"title","required","formGroup","style",4,"ngIf"],[3,"key","id","options","placeholder","formGroup","fetching"],[3,"title","required","formGroup"]],template:function(a,p){1&a&&(o.\u0275\u0275template(0,di,1,5,"label-atom",0),o.\u0275\u0275element(1,"dropdown-atom",1)),2&a&&(o.\u0275\u0275property("ngIf",p.label),o.\u0275\u0275advance(1),o.\u0275\u0275styleMap(p.elementTheming[p.schemeComponent.ELEMENT_DROPDOWN]),o.\u0275\u0275property("key",p.key)("id",p.id)("options",p.options)("placeholder",p.placeholder)("formGroup",p.formGroup)("fetching",p.fetching))},directives:[F.NgIf,ci,E.JL,E.sg,fe],encapsulation:2}),u})(),ui=(()=>{class u{constructor(){this.key="",this.label="",this.formGroup=new E.cw({}),this.style={}}ngOnInit(){}getFormGroupGroup(){return this.formGroup.get(this.key)}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["checkbox-atom"]],inputs:{key:"key",label:"label",formGroup:"formGroup",style:"style"},decls:2,vars:5,consts:[[1,"mobilform-checkbox",3,"formGroup"],["type","checkbox",3,"id","formControlName","name","ngStyle"]],template:function(a,p){1&a&&(o.\u0275\u0275elementStart(0,"section",0),o.\u0275\u0275element(1,"input",1),o.\u0275\u0275elementEnd()),2&a&&(o.\u0275\u0275property("formGroup",p.formGroup),o.\u0275\u0275advance(1),o.\u0275\u0275property("id",p.key)("formControlName",p.key)("name",p.key)("ngStyle",p.style))},directives:[E.JL,E.sg,E.Wl,E.JJ,E.u,F.NgStyle],styles:[".mobilform-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;height:100%;font-size:.625rem}"]}),u})(),rt=(()=>{class u{constructor(){this.key="",this.title="",this.formGroup=new E.cw({}),this.elementTheming={},this.schemeComponent=we.EnumToObject(L.y)}ngOnInit(){}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["label-checkbox-molecule"]],inputs:{key:"key",title:"title",formGroup:"formGroup",elementTheming:"elementTheming"},decls:3,vars:9,consts:[[1,"mobilform-label-checkbox"],[3,"title","key"],[3,"key","formGroup","label"]],template:function(a,p){1&a&&(o.\u0275\u0275elementStart(0,"section",0),o.\u0275\u0275element(1,"label-atom",1),o.\u0275\u0275element(2,"checkbox-atom",2),o.\u0275\u0275elementEnd()),2&a&&(o.\u0275\u0275advance(1),o.\u0275\u0275styleMap(p.elementTheming[p.schemeComponent.ELEMENT_LABEL]),o.\u0275\u0275property("title",p.title)("key",p.key),o.\u0275\u0275advance(1),o.\u0275\u0275styleMap(p.elementTheming[p.schemeComponent.ELEMENT_CHECKBOX]),o.\u0275\u0275property("key",p.key)("formGroup",p.formGroup)("label",p.title))},directives:[fe,ui,E.JL,E.sg],styles:[".mobilform-label-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;height:100%;font-size:.625rem}"]}),u})();function mi(u,g){if(1&u){const a=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"section",2),o.\u0275\u0275elementStart(1,"input",3),o.\u0275\u0275listener("change",function(v){return o.\u0275\u0275restoreView(a),o.\u0275\u0275nextContext().changeValue(v)}),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(2,"label-atom",4),o.\u0275\u0275elementEnd()}if(2&u){const a=g.$implicit,p=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("value",a.key)("checked",a.key===p.valueField),o.\u0275\u0275advance(1),o.\u0275\u0275property("title",a.label)("key",a.label)}}let pi=(()=>{class u{constructor(){this.key="",this.options=[],this.formGroup=new E.cw({})}get valueField(){return this.formGroup.get(this.key)?.value}changeValue({target:{value:a}}){this.formGroup.get(this.key)?.setValue(a)}ngOnInit(){}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["radio-atom"]],inputs:{key:"key",options:"options",formGroup:"formGroup"},decls:2,vars:2,consts:[[1,"form-check",3,"formGroup"],["class","mobilform-radio__wrapper",4,"ngFor","ngForOf"],[1,"mobilform-radio__wrapper"],["type","radio",1,"mobilform-radio__wrapper__input",3,"value","checked","change"],[3,"title","key"]],template:function(a,p){1&a&&(o.\u0275\u0275elementStart(0,"div",0),o.\u0275\u0275template(1,mi,3,4,"section",1),o.\u0275\u0275elementEnd()),2&a&&(o.\u0275\u0275property("formGroup",p.formGroup),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",p.options))},directives:[E.JL,E.sg,F.NgForOf,fe],styles:[".mobilform-radio__wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}.mobilform-radio__wrapper__input[_ngcontent-%COMP%]{margin-right:.5rem}"]}),u})(),fi=(()=>{class u{constructor(){this.label="",this.required=!1,this.key="",this.options=[],this.formGroup=new E.cw({})}ngOnInit(){}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["label-radio-molecule"]],inputs:{label:"label",required:"required",key:"key",options:"options",formGroup:"formGroup"},decls:2,vars:6,consts:[[3,"title","required","formGroup"],[3,"key","options","formGroup"]],template:function(a,p){if(1&a&&(o.\u0275\u0275element(0,"label-atom",0),o.\u0275\u0275element(1,"radio-atom",1)),2&a){let v;o.\u0275\u0275property("title",null!==(v=p.label)&&void 0!==v?v:"")("required",p.required)("formGroup",p.formGroup),o.\u0275\u0275advance(1),o.\u0275\u0275property("key",p.key)("options",p.options)("formGroup",p.formGroup)}},directives:[fe,E.JL,E.sg,pi],encapsulation:2}),u})();var gi=A(4877);function bi(u,g){if(1&u&&o.\u0275\u0275element(0,"label-atom",12),2&u){const a=o.\u0275\u0275nextContext();o.\u0275\u0275property("key",a.field.key)("title",a.field.label)("required",a.field.required)}}function We(u,g){if(1&u&&o.\u0275\u0275element(0,"label-atom",13),2&u){const a=o.\u0275\u0275nextContext();o.\u0275\u0275property("key",a.field.key)("title",a.field.title)}}function vi(u,g){if(1&u&&o.\u0275\u0275element(0,"button-atom",14),2&u){const a=o.\u0275\u0275nextContext();o.\u0275\u0275property("key",a.field.key)("title",a.field.title)("eventType",a.field.eventType)("fetching",a.field.fetching)}}function Ci(u,g){if(1&u&&o.\u0275\u0275element(0,"label-text-field-moelcule",15),2&u){const a=o.\u0275\u0275nextContext();o.\u0275\u0275property("key",a.field.key)("multiline",a.field.multiline)("type",a.field.type)("disabled",a.field.disabled)("value",a.field.value)("formGroup",a.formGroup)}}function wi(u,g){if(1&u&&o.\u0275\u0275element(0,"label-text-field-moelcule",16),2&u){const a=o.\u0275\u0275nextContext();o.\u0275\u0275property("key",a.field.key)("type",a.field.type)("formGroup",a.formGroup)}}function yi(u,g){if(1&u&&o.\u0275\u0275element(0,"label-dropdown-molecule",17),2&u){const a=o.\u0275\u0275nextContext();o.\u0275\u0275property("key",a.field.key)("options",a.field.options)("formGroup",a.formGroup)("fetching",a.field.fetching)}}function _i(u,g){if(1&u&&o.\u0275\u0275element(0,"label-checkbox-molecule",18),2&u){const a=o.\u0275\u0275nextContext();o.\u0275\u0275property("key",a.field.key)("title",a.field.title)("formGroup",a.formGroup)}}function Ei(u,g){if(1&u&&o.\u0275\u0275element(0,"label-radio-molecule",19),2&u){const a=o.\u0275\u0275nextContext();o.\u0275\u0275property("key",a.field.key)("options",a.field.options)("formGroup",a.formGroup)}}function xi(u,g){if(1&u&&o.\u0275\u0275element(0,"table-organism",20),2&u){const a=o.\u0275\u0275nextContext();o.\u0275\u0275property("key",a.field.key)("header",a.field.header)("records",a.field.records)("fetching",a.field.fetching)("value",a.field.value)}}function Ti(u,g){if(1&u&&(o.\u0275\u0275elementStart(0,"div",21),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&u){const a=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",a.field.label," is required ")}}const ki=function(){return{height:"-webkit-fill-available"}};let Yi=(()=>{class u{constructor(){this.field=new H.K7,this.formGroup=new E.cw({})}get isValid(){return this.formGroup.controls?.[this.field.key]?.valid}get isDirty(){return this.formGroup.controls?.[this.field.key]?.dirty}getType(a){return we.EnumToObject(L.y)[a]}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["field-builder"]],inputs:{field:"field",formGroup:"formGroup"},decls:12,vars:14,consts:[[1,"form-group","row",3,"formGroup"],[3,"key","title","required",4,"ngIf"],[3,"ngStyle","ngSwitch"],[3,"key","title",4,"ngSwitchCase"],[3,"key","title","eventType","fetching",4,"ngSwitchCase"],[3,"key","multiline","type","disabled","value","formGroup",4,"ngSwitchCase"],[3,"key","type","formGroup",4,"ngSwitchCase"],[3,"key","options","formGroup","fetching",4,"ngSwitchCase"],[3,"key","title","formGroup",4,"ngSwitchCase"],[3,"key","options","formGroup",4,"ngSwitchCase"],[3,"key","header","records","fetching","value",4,"ngSwitchCase"],["class","alert alert-danger my-1 p-2 fadeInDown animated",4,"ngIf"],[3,"key","title","required"],[3,"key","title"],[3,"key","title","eventType","fetching"],[3,"key","multiline","type","disabled","value","formGroup"],[3,"key","type","formGroup"],[3,"key","options","formGroup","fetching"],[3,"key","title","formGroup"],[3,"key","options","formGroup"],[3,"key","header","records","fetching","value"],[1,"alert","alert-danger","my-1","p-2","fadeInDown","animated"]],template:function(a,p){1&a&&(o.\u0275\u0275elementStart(0,"div",0),o.\u0275\u0275template(1,bi,1,3,"label-atom",1),o.\u0275\u0275elementStart(2,"div",2),o.\u0275\u0275template(3,We,1,2,"label-atom",3),o.\u0275\u0275template(4,vi,1,4,"button-atom",4),o.\u0275\u0275template(5,Ci,1,6,"label-text-field-moelcule",5),o.\u0275\u0275template(6,wi,1,3,"label-text-field-moelcule",6),o.\u0275\u0275template(7,yi,1,4,"label-dropdown-molecule",7),o.\u0275\u0275template(8,_i,1,3,"label-checkbox-molecule",8),o.\u0275\u0275template(9,Ei,1,3,"label-radio-molecule",9),o.\u0275\u0275template(10,xi,1,5,"table-organism",10),o.\u0275\u0275template(11,Ti,2,1,"div",11),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&a&&(o.\u0275\u0275property("formGroup",p.formGroup),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",p.field.label),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngStyle",o.\u0275\u0275pureFunction0(13,ki))("ngSwitch",p.field.type),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase",p.getType("ELEMENT_LABEL")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase",p.getType("ELEMENT_BUTTON")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase",p.getType("ELEMENT_TEXT")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase",p.getType("ELEMENT_DATE")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase",p.getType("ELEMENT_DROPDOWN")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase",p.getType("ELEMENT_CHECKBOX")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase",p.getType("ELEMENT_RADIO")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase",p.getType("ELEMENT_TABLE")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!p.isValid&&p.isDirty))},directives:[E.JL,E.sg,F.NgIf,F.NgStyle,F.NgSwitch,F.NgSwitchCase,fe,ze,Ne,ot,rt,fi,gi.f],encapsulation:2}),u})();function Ri(u,g){1&u&&o.\u0275\u0275element(0,"splash-view-organism",10),2&u&&o.\u0275\u0275property("showSvg",!1)("description","building form")}function Si(u,g){if(1&u&&o.\u0275\u0275elementContainer(0,11),2&u){const a=o.\u0275\u0275nextContext(),p=o.\u0275\u0275reference(6),v=o.\u0275\u0275reference(10);o.\u0275\u0275property("ngTemplateOutlet",a.modeGridPosition?p:v)}}function lt(u,g){if(1&u){const a=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"section",15),o.\u0275\u0275listener("cdkDropListDropped",function(v){return o.\u0275\u0275restoreView(a),o.\u0275\u0275nextContext(2).drop(v)}),o.\u0275\u0275text(1,"Drop zone"),o.\u0275\u0275elementEnd()}if(2&u){const a=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("id","gridZone")("cdkDropListData",a.getKeyFields())}}function Me(u,g){if(1&u){const a=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"pan-zoom",16),o.\u0275\u0275listener("modelChanged",function(v){return o.\u0275\u0275restoreView(a),o.\u0275\u0275nextContext(2).modelChanged(v)}),o.\u0275\u0275elementContainer(1,11),o.\u0275\u0275elementEnd()}if(2&u){const a=o.\u0275\u0275nextContext(2),p=o.\u0275\u0275reference(8);o.\u0275\u0275property("config",a.panZoomConfig),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngTemplateOutlet",p)}}function Mi(u,g){if(1&u&&o.\u0275\u0275elementContainer(0,11),2&u){o.\u0275\u0275nextContext(2);const a=o.\u0275\u0275reference(8);o.\u0275\u0275property("ngTemplateOutlet",a)}}const Fi=function(u){return[u]};function Li(u,g){if(1&u&&(o.\u0275\u0275template(0,lt,2,2,"section",12),o.\u0275\u0275elementStart(1,"section",13),o.\u0275\u0275template(2,Me,2,2,"pan-zoom",14),o.\u0275\u0275template(3,Mi,1,1,"ng-container",4),o.\u0275\u0275elementEnd()),2&u){const a=o.\u0275\u0275nextContext();o.\u0275\u0275property("ngIf",a.modeGridPosition&&!a.modeBuildProduction),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",o.\u0275\u0275pureFunction1(4,Fi,a.modeBuildProduction?"":"wrapper-grid")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!a.modeBuildProduction),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",a.modeBuildProduction)}}function Di(u,g){1&u&&o.\u0275\u0275element(0,"section",21)}const Oi=function(){return{x:0,y:0}},Ai=function(){return{width:0,height:0}},zi=function(u,g,a){return{fieldString:u,keyRow:null,columKey:null,elemenType:g,propertiesStyle:a}};function Pi(u,g){if(1&u){const a=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"section"),o.\u0275\u0275elementStart(1,"resize-wrapper-molecule",25),o.\u0275\u0275listener("onEmitDimensionPosition",function(v){o.\u0275\u0275restoreView(a);const k=o.\u0275\u0275nextContext().$implicit;return o.\u0275\u0275nextContext(2).onSaveDimensionElement(v,k.key)}),o.\u0275\u0275elementStart(2,"section",26),o.\u0275\u0275elementContainer(3,27),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}if(2&u){const a=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275nextContext();const p=o.\u0275\u0275reference(1);o.\u0275\u0275nextContext();const v=o.\u0275\u0275reference(14);let k,M;o.\u0275\u0275advance(1),o.\u0275\u0275property("bounds",p)("position",null!==(k=null==a||null==a.propertiesStyle?null:a.propertiesStyle.position)&&void 0!==k?k:o.\u0275\u0275pureFunction0(6,Oi))("dimension",null!==(M=null==a||null==a.propertiesStyle?null:a.propertiesStyle.dimensions)&&void 0!==M?M:o.\u0275\u0275pureFunction0(7,Ai))("typeElement",a.type),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngTemplateOutlet",v)("ngTemplateOutletContext",o.\u0275\u0275pureFunction3(8,zi,a.key,a.type,a.propertiesStyle))}}const Bi=function(u,g,a){return{fieldString:u,elemenType:g,propertiesStyle:a}};function Ii(u,g){if(1&u&&o.\u0275\u0275elementContainer(0,27),2&u){const a=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275nextContext(2);const p=o.\u0275\u0275reference(14);o.\u0275\u0275property("ngTemplateOutlet",p)("ngTemplateOutletContext",o.\u0275\u0275pureFunction3(2,Bi,a.key,a.type,a.propertiesStyle))}}const Hi=function(u,g){return{position:"absolute",padding:"10px",top:u,left:g}};function Ni(u,g){if(1&u&&(o.\u0275\u0275elementStart(0,"section"),o.\u0275\u0275template(1,Pi,4,12,"section",22),o.\u0275\u0275elementStart(2,"section",23),o.\u0275\u0275template(3,Ii,1,6,"ng-container",24),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&u){const a=g.$implicit,p=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!p.modeBuildProduction),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngStyle",o.\u0275\u0275pureFunction2(3,Hi,(null==a.propertiesStyle.position?null:a.propertiesStyle.position.y)+"px",(null==a.propertiesStyle.position?null:a.propertiesStyle.position.x)+"px")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",p.modeBuildProduction)}}function Fe(u,g){if(1&u&&(o.\u0275\u0275elementStart(0,"section",17,18),o.\u0275\u0275template(2,Di,1,0,"section",19),o.\u0275\u0275template(3,Ni,4,6,"section",20),o.\u0275\u0275elementEnd()),2&u){const a=o.\u0275\u0275nextContext();o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",!a.modeBuildProduction),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",a.fields)}}function Gi(u,g){if(1&u){const a=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"section",33),o.\u0275\u0275elementStart(1,"mat-icon",34),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(a);const v=o.\u0275\u0275nextContext().$implicit;return o.\u0275\u0275nextContext(2).removeColumn(v.key)}),o.\u0275\u0275text(2,"remove"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"mat-icon",34),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(a);const v=o.\u0275\u0275nextContext().$implicit;return o.\u0275\u0275nextContext(2).addColumn(v.key)}),o.\u0275\u0275text(4,"add"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"mat-icon",35),o.\u0275\u0275text(6,"drag_indicator"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}}const at=function(u){return{"border border-red-400 hover:border-dotted hover:border-2 p-2 m":u}},Vi=function(u,g,a){return{keyRow:u,schemaLayout:g,numberColumns:a}};function Wi(u,g){if(1&u&&(o.\u0275\u0275elementStart(0,"div",31),o.\u0275\u0275elementStart(1,"section",13),o.\u0275\u0275elementContainer(2,27),o.\u0275\u0275template(3,Gi,7,0,"section",32),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&u){const a=g.$implicit,p=o.\u0275\u0275nextContext(2),v=o.\u0275\u0275reference(12);o.\u0275\u0275property("cdkDragDisabled",p.modeBuildProduction)("cdkDragData",a)("id",a.key),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",o.\u0275\u0275pureFunction1(7,at,!p.modeBuildProduction)),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngTemplateOutlet",v)("ngTemplateOutletContext",o.\u0275\u0275pureFunction3(9,Vi,a.key,a.schemaLayout,a.numberColumns)),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!p.modeBuildProduction)}}function ji(u,g){if(1&u){const a=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"form",28),o.\u0275\u0275elementStart(1,"section",29),o.\u0275\u0275listener("cdkDropListDropped",function(v){return o.\u0275\u0275restoreView(a),o.\u0275\u0275nextContext().dropLayout(v)}),o.\u0275\u0275template(2,Wi,4,13,"div",30),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}if(2&u){const a=o.\u0275\u0275nextContext();o.\u0275\u0275property("formGroup",a.formGroup),o.\u0275\u0275advance(1),o.\u0275\u0275property("cdkDropListData",a.schemeColumns),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",a.schemeColumns)}}const Ui=function(u,g,a){return{fieldString:u,keyRow:g,columKey:a}};function Ki(u,g){if(1&u&&(o.\u0275\u0275elementStart(0,"card-molecule",42),o.\u0275\u0275elementContainer(1,27),o.\u0275\u0275elementEnd()),2&u){const a=o.\u0275\u0275nextContext().$implicit,p=o.\u0275\u0275nextContext().$implicit,v=o.\u0275\u0275nextContext().keyRow,k=o.\u0275\u0275nextContext(),M=o.\u0275\u0275reference(14);o.\u0275\u0275property("extendedClass","bg-white m-2"+((null==k.selectedFieldProperties?null:k.selectedFieldProperties.selectedFieldKey)===a?" border-2 border-black border-dotted ":"")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngTemplateOutlet",M)("ngTemplateOutletContext",o.\u0275\u0275pureFunction3(3,Ui,a,v,p.key))}}const Zi=function(u){return{fieldString:u}};function Qi(u,g){if(1&u&&o.\u0275\u0275elementContainer(0,27),2&u){const a=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275nextContext(3);const p=o.\u0275\u0275reference(14);o.\u0275\u0275property("ngTemplateOutlet",p)("ngTemplateOutletContext",o.\u0275\u0275pureFunction1(2,Zi,a))}}function $i(u,g){if(1&u&&(o.\u0275\u0275elementStart(0,"div",40),o.\u0275\u0275template(1,Ki,2,7,"card-molecule",41),o.\u0275\u0275template(2,Qi,1,4,"ng-container",24),o.\u0275\u0275elementEnd()),2&u){const a=g.$implicit,p=o.\u0275\u0275nextContext(3);o.\u0275\u0275property("cdkDragData",a)("cdkDragDisabled",p.modeBuildProduction),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!p.modeBuildProduction),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",p.modeBuildProduction)}}function ht(u,g){if(1&u){const a=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"section",38),o.\u0275\u0275listener("cdkDropListDropped",function(v){return o.\u0275\u0275restoreView(a),o.\u0275\u0275nextContext(2).drop(v)}),o.\u0275\u0275template(1,$i,3,4,"div",39),o.\u0275\u0275elementEnd()}if(2&u){const a=g.$implicit,p=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("id",a.key)("cdkDropListData",a.schemaColums)("cdkDropListConnectedTo",p.connectColumnList),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",a.schemaColums)}}function Le(u,g){if(1&u&&(o.\u0275\u0275elementStart(0,"div",36),o.\u0275\u0275template(1,ht,2,4,"section",37),o.\u0275\u0275elementEnd()),2&u){const a=g.schemaLayout;o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",a)}}function ct(u,g){if(1&u){const a=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",46),o.\u0275\u0275elementStart(1,"section",47),o.\u0275\u0275elementStart(2,"mat-icon",48),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(a);const v=o.\u0275\u0275nextContext(),k=v.fieldString,M=v.keyRow,G=v.columKey;return o.\u0275\u0275nextContext().openSettings(k,M,G)}),o.\u0275\u0275text(3,"settings"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"mat-icon",48),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(a);const v=o.\u0275\u0275nextContext().fieldString;return o.\u0275\u0275nextContext().removeElement(v)}),o.\u0275\u0275text(5,"delete"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}}const en=function(u){return{minHeight:"auto",width:u,height:"auto",maxWidth:"-webkit-fill-available",maxHeight:"-webkit-fill-available"}};function c(u,g){if(1&u&&(o.\u0275\u0275elementStart(0,"section",43),o.\u0275\u0275template(1,ct,6,0,"div",44),o.\u0275\u0275elementStart(2,"section",23),o.\u0275\u0275element(3,"field-builder",45),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&u){const a=g.fieldString,p=g.propertiesStyle,v=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!v.modeBuildProduction),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngStyle",o.\u0275\u0275pureFunction1(4,en,v.modeGridPosition?p.dimensions.width+"px":"auto")),o.\u0275\u0275advance(1),o.\u0275\u0275property("field",v.getField(a))("formGroup",v.formGroup)}}let s=(()=>{class u{constructor(a,p){this.FormBuilderService=a,this.dynamicFormBuilderService=p,this.fields=[],this.schemeColumns=[],this.generalSetting=new H.gk,this.modeBuildProduction=!1,this.modeGridPosition=!0,this.onSubmit=new o.EventEmitter,this.onShareConnectColumnList=new o.EventEmitter,this.formGroup=new E.cw({}),this.connectColumnList=[],this.formIsReady=!1,this.selectedFieldKey="",this._idListToolElement=Ge,this.minDimenssionAllowed=Te,this.panZoomConfig=new nt.ke({zoomLevels:5,initialZoomLevel:.9,neutralZoomLevel:1,scalePerZoomLevel:2,zoomStepDuration:.2,freeMouseWheelFactor:.001,zoomToFitZoomLevelFactor:.9,dragMouseButton:"left"})}modelChanged(a){console.log(a)}ngOnInit(){this.formIsReady=!1,this.initializeSubscriptions(),this.initializeFormBuilder()}ngOnDestroy(){this.formBuilderSubscription$?.unsubscribe(),this.formToggleSubscription$?.unsubscribe(),this.buttonButtonTriggerEventTypeSubscription$?.unsubscribe(),this.fetchingSubscription$?.unsubscribe(),this.fetchingElement$.unsubscribe(),this.formBuilderValuesSubscription$.unsubscribe()}ngOnChanges(a){a?.fields?.isFirstChange()||(this.formIsReady=!1,this.initializeFormBuilder()),this.dynamicFormBuilderService.generalSetting=a.generalSetting?.currentValue}initializeSubscriptions(){this.listenChangesFormBuilder(),this.listenChangesButtonTriggerEventType(),this.listenChangesFetchingElement(),this.listenChangesFormBuilderValues()}listenChangesFormBuilder(){this.formBuilderSubscription$=this.FormBuilderService.onChangesField().pipe((0,J.debounceTime)(1e3)).subscribe(({keyModified:a,field:p,newKey:v})=>{const k=this.fields.findIndex(X=>X.key===a);this.fields[k]={...p};const{keyRow:M,columKey:G}=this.selectedFieldProperties;if(M&&G){const X=this.schemeColumns.findIndex(ve=>ve.key===M),ce=this.schemeColumns[X].schemaLayout.findIndex(ve=>ve.key===G),Oe=this.schemeColumns[X].schemaLayout[ce].schemaColums.indexOf(a??"");this.schemeColumns[X].schemaLayout[ce].schemaColums[Oe]=v}this.openSettings(v,M,G),this.initializeFormBuilder()})}listenChangesButtonTriggerEventType(){this.buttonButtonTriggerEventTypeSubscription$=this.dynamicFormBuilderService.onChangesButtonButtonTriggerEventType().subscribe(({eventType:a,key:p,fetching:v})=>{this.onButtonEventTypeInvoke({eventType:a,key:p,fetching:v})})}listenChangesFetchingElement(){this.fetchingElement$=this.dynamicFormBuilderService.onChangesFetchingElement().subscribe(({urlFetching:a,method:p,identifierElement:v})=>{a&&v&&this.onFetching({url:a,method:p??"GET",identifierElement:v})})}listenChangesFormBuilderValues(){this.formBuilderValuesSubscription$=this.formGroup.valueChanges.subscribe(a=>{const p=Object.keys(a).reduce((v,k)=>({...v,["form_"+k]:a[k]}),{});this.dynamicFormBuilderService.loadVariables(p)})}initializeFormBuilder(){this.buildForm().pipe((0,J.delay)(0)).subscribe({complete:()=>{this.sharedConnectList(),this.formIsReady=!0}})}sharedConnectList(){this.connectColumnList=this.getListConnectColums(),this.FormBuilderService.emmitSharedConnectList(this.connectColumnList)}getKeyFields(){return this.fields.map(a=>a.key)}noElementsForm(){return[L.y.ELEMENT_LABEL,L.y.ELEMENT_BUTTON]}buildForm(a){return new pe.Observable(p=>{this.formGroup=new E.cw({});const v=[...this.fields];a&&v.push(a);const k=new E.cw({});for(const M of v)this.noElementsForm().includes(M.type)||k.addControl(M.key,new E.NI(M?.value,M.required?E.kI.required:null));this.formGroup=k,this.listenChangesFormBuilderValues(),p.complete()})}removeElement(a){const p=this.fields.findIndex(v=>v.key===a);this.fields.splice(p,1),this.buildForm().pipe((0,J.delay)(1e3)).subscribe({complete:()=>{this.sharedConnectList()}})}drop(a){if(this.comeFromToolElements(a.previousContainer.id)){const p=a.item.data,v=`${p}${Date.now()}`,k=((u,g)=>{[L.y.ELEMENT_TEXT]:{key:u,type:L.y.ELEMENT_TEXT,label:u,value:"",required:!0,propertiesStyle:{position:{x:0,y:0},dimensions:{width:400,height:100}}},[L.y.ELEMENT_BUTTON]:{key:u,type:L.y.ELEMENT_BUTTON,title:u,data:{fieldReference:{keyTable:"",reference:[]}},propertiesStyle:{position:{x:0,y:0},dimensions:{width:400,height:100}},fetching:{urlFetching:"",keys:{}}},[L.y.ELEMENT_TABLE]:{key:u,type:L.y.ELEMENT_TABLE,title:u,header:[],propertiesStyle:{position:{x:0,y:0},dimensions:{width:400,height:100}},fetching:{typEvent:"onInit",urlFetching:"",method:"GET"}},[L.y.ELEMENT_DROPDOWN]:{key:u,type:L.y.ELEMENT_DROPDOWN,label:u,options:[],propertiesStyle:{position:{x:0,y:0},dimensions:{width:400,height:100}}},[L.y.ELEMENT_CHECKBOX]:{key:u,type:L.y.ELEMENT_CHECKBOX,title:u,propertiesStyle:{position:{x:0,y:0},dimensions:{width:400,height:100}}},[L.y.ELEMENT_RADIO]:{key:u,type:L.y.ELEMENT_RADIO,label:u,options:[{key:"option1",label:"Option 1"}],propertiesStyle:{position:{x:0,y:0},dimensions:{width:400,height:100}}},[L.y.ELEMENT_LABEL]:{key:u,type:L.y.ELEMENT_LABEL,title:u,propertiesStyle:{position:{x:0,y:0},dimensions:{width:400,height:100}}},[L.y.ELEMENT_DATE]:{key:u,type:L.y.ELEMENT_DATE,label:u,propertiesStyle:{position:{x:0,y:0},dimensions:{width:400,height:100}}}}?.[g])(v,p);this.buildForm(k).subscribe({complete:()=>{this.fields.push(k),a.container.data.push(v)}})}else if(a.previousContainer===a.container?(0,de.bA)(a.previousContainer.data,a.previousIndex,a.currentIndex):(0,de.EA)(a.previousContainer.data,a.container.data,a.previousIndex,a.currentIndex),this.modeGridPosition){const p=this.fields?.findIndex(v=>v.key===a.item.data);this.fields[p].propertiesStyle.position=a.distance}}dropLayout(a){this.comeFromToolElements(a.previousContainer.id)?this.addNewRow():(0,de.bA)(a.container.data,a.previousIndex,a.currentIndex)}addNewRow(){this.schemeColumns.push({key:`row${this.schemeColumns.length+2}`,numberColumns:1,schemaLayout:[{key:`row${this.schemeColumns.length+2}Column`,schemaColums:[]}]}),this.sharedConnectList()}addColumn(a){const p=this.schemeColumns?.find(v=>v.key===a)??new H.bn;p.numberColumns=(p?.numberColumns??0)+1,p.schemaLayout.push({key:`${p.key}Column${Date.now()}`,schemaColums:[]}),this.sharedConnectList()}removeColumn(a){const p=this.schemeColumns?.find(v=>v.key===a)??new H.bn;p.numberColumns=(p?.numberColumns??0)-1,p.schemaLayout.pop(),this.sharedConnectList()}getField(a){return this.fields.find(p=>p.key===a)??new H.K7}getListConnectColums(){return this.schemeColumns.reduce((p,v)=>[...p,...v?.schemaLayout.map(k=>k.key)],[])}openSettings(a,p,v){this.selectedFieldKey=a,this.selectedFieldProperties={selectedFieldKey:a,keyRow:p,columKey:v},this.FormBuilderService.emmitFieldKey(a)}comeFromToolElements(a){return a===Ge}onButtonEventTypeInvoke({eventType:a,key:p,fetching:v}){switch(a){case H.Ku.SUBMIT:console.log(H.Ku.SUBMIT,this.formGroup.value,this.fields);break;case H.Ku.FETCHING:const k=Object.keys(v.keys??{}).filter(ae=>v.keys?.[ae]),M=k.reduce((ae,Ue)=>({...ae,[Ue]:this.formGroup.value[Ue]}),{});this.onFetching({url:v?.urlFetching??"",data:M,method:"POST"});for(const ae of k)this.formGroup.get(ae)?.reset();break;case H.Ku.FILL_DATATABLE:const G=this.fields.find(ae=>ae.key===p),X=G?.data?.fieldReference.keyTable,Oe=G?.data?.fieldReference.reference?.reduce((ae,Ue)=>({...ae,[Ue.columnReference]:this.formGroup.value[Ue.fieldReference]}),{}),ve=this.fields.findIndex(ae=>ae.key===X);"records"in this.fields[ve]||(this.fields[ve]={...this.fields[ve],records:[]}),this.fields[ve].records?.push(Oe)}}onFetching({url:a,data:p,method:v,identifierElement:k}){const M=this.dynamicFormBuilderService.getValueInterpolated(a);this.fetchingSubscription$=this.dynamicFormBuilderService.onFetchingMethod({baseUrl:this.generalSetting.endpointUrlBase,endpoint:M,method:v,data:p??{},headers:{}}).subscribe(G=>{this.dynamicFormBuilderService.emmitResponseFetchingElement({response:G,identifierElement:k})})}computeDragRenderPos(a,p){return{x:1*Math.floor(a.x/1),y:1*Math.floor(a.y/1)}}getPosition(a){if(a.source.data){const p=this.fields.findIndex(v=>v.key===a.source.data);this.fields[p].propertiesStyle.position=a.source.getFreeDragPosition()}}onSaveDimensionElement(a,p){const v=this.fields.findIndex(k=>k.key===p);this.fields[v].propertiesStyle.position={x:a.x,y:a.y},this.fields[v].propertiesStyle.dimensions={width:a.width,height:a.height}}}return u.\u0275fac=function(a){return new(a||u)(o.\u0275\u0275directiveInject(Ee.c),o.\u0275\u0275directiveInject(ne.D))},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["dynamic-form-builder"]],inputs:{fields:"fields",schemeColumns:"schemeColumns",generalSetting:"generalSetting",modeBuildProduction:"modeBuildProduction",modeGridPosition:"modeGridPosition"},outputs:{onSubmit:"onSubmit",onShareConnectColumnList:"onShareConnectColumnList"},features:[o.\u0275\u0275NgOnChangesFeature],decls:15,vars:2,consts:[[1,"dynamic-form-builder-general"],[3,"showSvg","description",4,"ngIf"],[2,"position","relative","width","100%","height","100%"],[2,"position","absolute","top","0","bottom","0","left","0","right","0"],[3,"ngTemplateOutlet",4,"ngIf"],["formFreeLayout",""],["contentCanvas",""],["formGridLayout",""],["columContainerElements",""],["formElementComponent",""],[3,"showSvg","description"],[3,"ngTemplateOutlet"],["class","border-2 border-black border-dotted w-full","cdkDropList","",3,"id","cdkDropListData","cdkDropListDropped",4,"ngIf"],[3,"ngClass"],[3,"config","modelChanged",4,"ngIf"],["cdkDropList","",1,"border-2","border-black","border-dotted","w-full",3,"id","cdkDropListData","cdkDropListDropped"],[3,"config","modelChanged"],["id","boundary",1,"grid-container"],["boundary",""],["class","grid-container__grid-figure--horizontal",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"grid-container__grid-figure--horizontal"],[4,"ngIf"],[3,"ngStyle"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"bounds","position","dimension","typeElement","onEmitDimensionPosition"],[1,"handler-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["cdkDropListGroup","",3,"formGroup"],["id","layout-builder-section","cdkDropList","",1,"p-4",3,"cdkDropListData","cdkDropListDropped"],["cdkDrag","","class","mb-2",3,"cdkDragDisabled","cdkDragData","id",4,"ngFor","ngForOf"],["cdkDrag","",1,"mb-2",3,"cdkDragDisabled","cdkDragData","id"],["class","border-t py flex justify-end",4,"ngIf"],[1,"border-t","py","flex","justify-end"],[1,"text-slate-400","cursor-pointer",3,"click"],["cdkDragHandle","",1,"text-slate-400","cursor-move"],["cdkDropListGroup","",1,"grid","grid-cols-auto-fit"],["class","border w-full","cdkDropList","",3,"id","cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped",4,"ngFor","ngForOf"],["cdkDropList","",1,"border","w-full",3,"id","cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["cdkDrag","","class","grid gap-4",3,"cdkDragData","cdkDragDisabled",4,"ngFor","ngForOf"],["cdkDrag","",1,"grid","gap-4",3,"cdkDragData","cdkDragDisabled"],[3,"extendedClass",4,"ngIf"],[3,"extendedClass"],[1,"relative","element-card-parent"],["class","element-card-child bg-black absolute h-full w-full opacity-25 cursor-move","style","z-index: 100;",4,"ngIf"],[3,"field","formGroup"],[1,"element-card-child","bg-black","absolute","h-full","w-full","opacity-25","cursor-move",2,"z-index","100"],[1,"flex","justify-center","items-center","h-full","w-full"],[1,"text-white","cursor-pointer",3,"click"]],template:function(a,p){1&a&&(o.\u0275\u0275elementStart(0,"section",0),o.\u0275\u0275template(1,Ri,1,2,"splash-view-organism",1),o.\u0275\u0275elementStart(2,"section",2),o.\u0275\u0275elementStart(3,"section",3),o.\u0275\u0275template(4,Si,1,1,"ng-container",4),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(5,Li,4,6,"ng-template",null,5,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275template(7,Fe,4,2,"ng-template",null,6,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275template(9,ji,3,3,"ng-template",null,7,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275template(11,Le,2,1,"ng-template",null,8,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275template(13,c,4,6,"ng-template",null,9,o.\u0275\u0275templateRefExtractor)),2&a&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!p.formIsReady),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngIf",p.formIsReady))},directives:[F.NgIf,Se._,F.NgTemplateOutlet,F.NgClass,de.Wj,nt.A0,F.NgForOf,F.NgStyle,oi,E._Y,E.JL,de.Fd,E.sg,de.Zt,Ie.Hw,de.Bh,ai,Yi],styles:[".dynamic-form-builder-general[_ngcontent-%COMP%]{-moz-tab-size:4;tab-size:4;font-family:Inter,sans-serif;height:calc(100vh - 116px)}.example-custom-placeholder[_ngcontent-%COMP%]{background:#ccc;border:dotted 3px #999;min-height:60px;width:100%;transition:transform .25s cubic-bezier(0,0,.2,1)}.element-card-parent[_ngcontent-%COMP%]:hover > .element-card-child[_ngcontent-%COMP%]{display:block}.element-card-child[_ngcontent-%COMP%]{display:none}.element-card-child[_ngcontent-%COMP%]:active{display:block}.element-card-parent[_ngcontent-%COMP%]{max-height:-webkit-fill-available}.handler-content[_ngcontent-%COMP%]{height:-webkit-fill-available}.mobilform-dynamic-formbuilder-freelayout[_ngcontent-%COMP%]{height:calc(100vh - 60px);position:relative;z-index:10;width:100%;overflow-x:auto}.fade-in[_ngcontent-%COMP%]{animation:fade-in 1.2s cubic-bezier(.39,.575,.565,1) both}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.wrapper-grid[_ngcontent-%COMP%]{height:calc(100vh - 100px);background-color:#363636}.grid-container[_ngcontent-%COMP%]{position:relative;height:1024px;width:1280px;background:white}.grid-container__grid-figure--horizontal[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;background-image:repeating-linear-gradient(rgba(0,0,0,.05) 0 1px,transparent 1px 100%),repeating-linear-gradient(90deg,rgba(0,0,0,.05) 0 1px,transparent 1px 100%);background-size:10px 10px}.grid2[_ngcontent-%COMP%]{position:absolute;width:100px;height:50px;background-color:#20c997;color:#fff;text-align:center;line-height:50px;border:1px dashed #067002}.drag-grid[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#f8cb00;color:#fff;line-height:50px;text-align:center}.wrapper-element[_ngcontent-%COMP%]{position:absolute}.box-resize_wrapper[_ngcontent-%COMP%]{width:100px}.box-resize[_ngcontent-%COMP%]{border:0 #0372d2 solid;position:absolute}.wrapper-element__content[_ngcontent-%COMP%]{padding:10px;position:relative}.box-resize--border-top[_ngcontent-%COMP%]{border-top-width:2px;left:0;top:0;transform:translate(-.5px,-.5px) scaleY(1.1);width:calc(100% + 1px)}.box-resize--border-bottom[_ngcontent-%COMP%]{border-bottom-width:2px;left:0;bottom:0;transform:translate(-.5px,.5px) scaleY(1.1);width:calc(100% + 1px)}.box-resize--border-right[_ngcontent-%COMP%]{border-right-width:2px;height:calc(100% + 1px);right:0;top:0;transform:translate(.5px,-.5px) scaleX(1.1)}.box-resize--border-left[_ngcontent-%COMP%]{border-left-width:2px;height:calc(100% + 1px);left:0;top:0;transform:translate(-.5px,-.5px) scaleX(1.1)}.box-resize_point-resize[_ngcontent-%COMP%]{background-color:#fff;border:1px solid blue;border-radius:4px;box-shadow:0 2px 6px #0000000a;height:8px;width:8px;margin:-4px;pointer-events:auto;position:absolute;z-index:2}.box-resize_point-resize-widget[_ngcontent-%COMP%]{cursor:ew-resize;width:7px;height:30px;margin:0;max-height:80%;min-height:7px;top:50%}.box-resize_point-resize--rigth[_ngcontent-%COMP%]{right:0;transform:translate(50%,-50%)}.box-resize_point-resize--left[_ngcontent-%COMP%]{left:0;transform:translate(-50%,-50%)}"]}),u})();class e{constructor(g,a){this.store=g,this.dynamicFormBuilderService=a,this.schemaFormFields=new H.UZ,this._schemaFormFields=new H.UZ,this.toggleValueFormGroup=new E.cw({modeProduction:new E.NI(!1),modeGridPosition:new E.NI(!0)})}ngOnInit(){}ngOnChanges(g){this.dynamicFormBuilderService.loadVariables(this.schemaFormFields.variables)}ngDoCheck(){}}e.\u0275fac=function(g){return new(g||e)(o.\u0275\u0275directiveInject(Ve.yh),o.\u0275\u0275directiveInject(ne.D))},e.\u0275cmp=o.\u0275\u0275defineComponent({type:e,selectors:[["port-dynamic-form-builder"]],inputs:{schemaFormFields:"schemaFormFields"},features:[o.\u0275\u0275NgOnChangesFeature],decls:5,vars:7,consts:[[1,"port-dynamic-form-builder"],[1,"p-4","flex","justify-end"],["key","modeGridPosition","label","Grid Mode",1,"mr-2",3,"formGroup"],["key","modeProduction","label","Production Mode",3,"formGroup"],[3,"modeBuildProduction","modeGridPosition","fields","schemeColumns","generalSetting"]],template:function(g,a){1&g&&(o.\u0275\u0275elementStart(0,"section",0),o.\u0275\u0275elementStart(1,"section",1),o.\u0275\u0275element(2,"toggle-atom",2),o.\u0275\u0275element(3,"toggle-atom",3),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(4,"dynamic-form-builder",4),o.\u0275\u0275elementEnd()),2&g&&(o.\u0275\u0275advance(2),o.\u0275\u0275property("formGroup",a.toggleValueFormGroup),o.\u0275\u0275advance(1),o.\u0275\u0275property("formGroup",a.toggleValueFormGroup),o.\u0275\u0275advance(1),o.\u0275\u0275property("modeBuildProduction",a.toggleValueFormGroup.value.modeProduction)("modeGridPosition",a.toggleValueFormGroup.value.modeGridPosition)("fields",a.schemaFormFields.fields)("schemeColumns",a.schemaFormFields.schemeColumns)("generalSetting",a.schemaFormFields.generalSetting))},directives:[ti,E.JL,E.sg,s],styles:[".port-dynamic-form-builder[_ngcontent-%COMP%]{height:calc(100vh - 60px);overflow-y:hidden;background:white}"]}),(0,tt.gn)([(0,Ve.Ph)(it.item)],e.prototype,"item$",void 0);const r=u=>f?.[u]?"array":m?.[u]?"formgroup":"control",l=["key"],d={[L.y.ELEMENT_TEXT]:[...l,"label","required","value","disabled"],[L.y.ELEMENT_DATE]:[...l,"label","required"],[L.y.ELEMENT_DROPDOWN]:[...l,"label","required","options","fetching"],[L.y.ELEMENT_RADIO]:[...l,"label","options"],[L.y.ELEMENT_CHECKBOX]:[...l,"title"],[L.y.ELEMENT_LABEL]:["title"],[L.y.ELEMENT_BUTTON]:["title","eventType","fetching"],[L.y.ELEMENT_TABLE]:["header","fetching","value"]},m={fetching:["urlFetching","keys","typEvent","variable"],keys:["all_field_control"]},f={header:["key","label"],options:["key","label"]};let b=(()=>{class u{constructor(){this.dimension=24}ngOnInit(){}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["x-icon-svg"]],inputs:{dimension:"dimension"},decls:3,vars:2,consts:[["viewBox","0 0 25 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M18.5 6L6.5 18","stroke","white","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M6.5 6L18.5 18","stroke","white","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"]],template:function(a,p){1&a&&(o.\u0275\u0275namespaceSVG(),o.\u0275\u0275elementStart(0,"svg",0),o.\u0275\u0275element(1,"path",1),o.\u0275\u0275element(2,"path",2),o.\u0275\u0275elementEnd()),2&a&&o.\u0275\u0275attribute("width",p.dimension)("height",p.dimension)},encapsulation:2}),u})();function C(u,g){if(1&u){const a=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"side-menu-container-molecule"),o.\u0275\u0275elementStart(1,"section",5),o.\u0275\u0275text(2," Settings "),o.\u0275\u0275elementStart(3,"x-icon-svg",6),o.\u0275\u0275listener("click",function(){return o.\u0275\u0275restoreView(a),o.\u0275\u0275nextContext().closeSettingNav()}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementContainer(4,7),o.\u0275\u0275elementEnd()}if(2&u){o.\u0275\u0275nextContext();const a=o.\u0275\u0275reference(2);o.\u0275\u0275advance(4),o.\u0275\u0275property("ngTemplateOutlet",a)}}function w(u,g){if(1&u&&(o.\u0275\u0275elementStart(0,"div",11),o.\u0275\u0275elementStart(1,"section",12),o.\u0275\u0275element(2,"label-text-field-moelcule",13),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&u){const a=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(2),o.\u0275\u0275property("key","title")("label","Label")("type","text")("formGroup",a.formGroupSetting)("elementTheming",a.elementTheming)}}function y(u,g){if(1&u&&(o.\u0275\u0275elementStart(0,"div",11),o.\u0275\u0275elementStart(1,"section",12),o.\u0275\u0275element(2,"label-text-field-moelcule",13),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"section",12),o.\u0275\u0275element(4,"label-text-field-moelcule",13),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"section",12),o.\u0275\u0275element(6,"label-text-field-moelcule",14),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(7,"section",12),o.\u0275\u0275element(8,"label-checkbox-molecule",15),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(9,"section",12),o.\u0275\u0275element(10,"label-checkbox-molecule",15),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&u){const a=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(2),o.\u0275\u0275property("key","key")("label","Property name")("type","text")("formGroup",a.formGroupSetting)("elementTheming",a.elementTheming),o.\u0275\u0275advance(2),o.\u0275\u0275property("key","label")("label","Label")("type","text")("formGroup",a.formGroupSetting)("elementTheming",a.elementTheming),o.\u0275\u0275advance(2),o.\u0275\u0275property("key","value")("label","Value")("type","text")("multiline",!0)("formGroup",a.formGroupSetting)("elementTheming",a.elementTheming),o.\u0275\u0275advance(2),o.\u0275\u0275property("key","disabled")("title","Disabled")("formGroup",a.formGroupSetting)("elementTheming",a.elementTheming),o.\u0275\u0275advance(2),o.\u0275\u0275property("key","required")("title","Required")("formGroup",a.formGroupSetting)("elementTheming",a.elementTheming)}}function x(u,g){if(1&u&&(o.\u0275\u0275elementStart(0,"div",11),o.\u0275\u0275elementStart(1,"section",12),o.\u0275\u0275element(2,"label-text-field-moelcule",13),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"section",12),o.\u0275\u0275element(4,"label-text-field-moelcule",13),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"section",12),o.\u0275\u0275element(6,"label-checkbox-molecule",15),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&u){const a=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(2),o.\u0275\u0275property("key","key")("label","Property name")("type","text")("formGroup",a.formGroupSetting)("elementTheming",a.elementTheming),o.\u0275\u0275advance(2),o.\u0275\u0275property("key","label")("label","Label")("type","text")("formGroup",a.formGroupSetting)("elementTheming",a.elementTheming),o.\u0275\u0275advance(2),o.\u0275\u0275property("key","required")("title","Required")("formGroup",a.formGroupSetting)("elementTheming",a.elementTheming)}}function T(u,g){if(1&u&&(o.\u0275\u0275elementStart(0,"div",11),o.\u0275\u0275elementStart(1,"section",12),o.\u0275\u0275element(2,"label-text-field-moelcule",13),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"section",12),o.\u0275\u0275element(4,"label-text-field-moelcule",13),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&u){const a=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(2),o.\u0275\u0275property("key","key")("label","Property name")("type","text")("formGroup",a.formGroupSetting)("elementTheming",a.elementTheming),o.\u0275\u0275advance(2),o.\u0275\u0275property("key","title")("label","Label")("type","text")("formGroup",a.formGroupSetting)("elementTheming",a.elementTheming)}}function S(u,g){if(1&u){const a=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275elementStart(1,"section",21),o.\u0275\u0275elementStart(2,"section",22),o.\u0275\u0275element(3,"label-dropdown-molecule",18),o.\u0275\u0275element(4,"label-dropdown-molecule",18),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"section",23),o.\u0275\u0275elementStart(6,"plus-circle-icon-svg",24),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(a);const v=o.\u0275\u0275nextContext(5);return v.addNewControl(v.formGroupDataReference,"reference",v.createReference())}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(7,"minus-circle-icon-svg",24),o.\u0275\u0275listener("click",function(){const k=o.\u0275\u0275restoreView(a).index,M=o.\u0275\u0275nextContext(5);return M.removeControl(M.formGroupDataReference,"reference",k)}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}if(2&u){const a=g.index,p=o.\u0275\u0275nextContext(5);o.\u0275\u0275advance(3),o.\u0275\u0275property("key","columnReference")("placeholder","Column")("options",p.getColumnsByTableReference())("elementTheming",p.elementThemingSettingNav)("formGroup",p.getGroupOption(p.formGroupDataReference,"reference",a)),o.\u0275\u0275advance(1),o.\u0275\u0275property("key","fieldReference")("placeholder","Field")("options",p.getFieldsByTableReference())("elementTheming",p.elementThemingSettingNav)("formGroup",p.getGroupOption(p.formGroupDataReference,"reference",a))}}function O(u,g){if(1&u&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"section",19),o.\u0275\u0275template(2,S,8,10,"div",20),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementContainerEnd()),2&u){const a=o.\u0275\u0275nextContext(4);o.\u0275\u0275advance(1),o.\u0275\u0275property("formGroup",a.formGroupDataReference),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",a.getFormArray(a.formGroupDataReference,"reference").controls)}}const q=function(u,g){return{label:"Add Reference",key:"reference",formGroup:u,newElement:g}};function Y(u,g){if(1&u&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementContainer(1,25),o.\u0275\u0275elementContainerEnd()),2&u){const a=o.\u0275\u0275nextContext(4),p=o.\u0275\u0275reference(6);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngTemplateOutlet",p)("ngTemplateOutletContext",o.\u0275\u0275pureFunction2(2,q,a.formGroupDataReference,a.createReference()))}}function ue(u,g){if(1&u&&(o.\u0275\u0275elementStart(0,"section"),o.\u0275\u0275element(1,"label-atom",17),o.\u0275\u0275element(2,"label-dropdown-molecule",18),o.\u0275\u0275elementStart(3,"section",12),o.\u0275\u0275template(4,O,3,2,"ng-container",0),o.\u0275\u0275template(5,Y,2,5,"ng-container",0),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&u){const a=o.\u0275\u0275nextContext(3);o.\u0275\u0275advance(1),o.\u0275\u0275styleMap(a.elementThemingSettingNav.label),o.\u0275\u0275property("title","Reference Table Data"),o.\u0275\u0275advance(1),o.\u0275\u0275property("key","keyTable")("placeholder","Table reference")("options",a.getAllTableReference())("elementTheming",a.elementTheming)("formGroup",a.formGroupDataReference),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",null==a.formGroupDataReference.controls||null==a.formGroupDataReference.controls.reference?null:a.formGroupDataReference.controls.reference.value.length),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!(null!=a.formGroupDataReference.controls&&null!=a.formGroupDataReference.controls.reference&&a.formGroupDataReference.controls.reference.value.length))}}function re(u,g){if(1&u&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275element(1,"label-checkbox-molecule",15),o.\u0275\u0275elementContainerEnd()),2&u){const a=g.$implicit,p=o.\u0275\u0275nextContext(4);o.\u0275\u0275advance(1),o.\u0275\u0275property("key",a)("title",a)("formGroup",p.getFormGroupFromFormGroupGeneral(p.getFormGroupFromFormGroupGeneral(p.formGroupSetting,"fetching"),"keys"))("elementTheming",p.elementTheming)}}function le(u,g){if(1&u&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"section",12),o.\u0275\u0275element(2,"label-text-field-moelcule",13),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"section",12),o.\u0275\u0275element(4,"label-atom",17),o.\u0275\u0275template(5,re,2,4,"ng-container",20),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementContainerEnd()),2&u){const a=o.\u0275\u0275nextContext(3);o.\u0275\u0275advance(2),o.\u0275\u0275property("key","urlFetching")("label","Url Fetching")("type","text")("formGroup",a.getFormGroupFromFormGroupGeneral(a.formGroupSetting,"fetching"))("elementTheming",a.elementTheming),o.\u0275\u0275advance(2),o.\u0275\u0275styleMap(a.elementTheming.label),o.\u0275\u0275property("title","Fetching properties"),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",a.getFieldControls())}}function se(u,g){if(1&u&&(o.\u0275\u0275elementStart(0,"div",11),o.\u0275\u0275elementStart(1,"section",12),o.\u0275\u0275element(2,"label-text-field-moelcule",13),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"section",12),o.\u0275\u0275element(4,"label-dropdown-molecule",16),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(5,ue,6,10,"section",0),o.\u0275\u0275template(6,le,6,9,"ng-container",0),o.\u0275\u0275elementEnd()),2&u){const a=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(2),o.\u0275\u0275property("key","title")("label","Label")("type","text")("formGroup",a.formGroupSetting)("elementTheming",a.elementTheming),o.\u0275\u0275advance(2),o.\u0275\u0275property("key","eventType")("label","Type Event")("options",a.buttonOptionEventType)("formGroup",a.formGroupSetting)("elementTheming",a.elementTheming),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","fillDataTable"===a.getValueFromFormGroup(a.formGroupSetting,"eventType")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","fetching"===a.getValueFromFormGroup(a.formGroupSetting,"eventType"))}}const me=function(u,g){return{keyArrayName:"header",titleSection:"Column",labelButtonAdd:"Add Column",formGroup:u,newElement:g}};function oe(u,g){if(1&u&&(o.\u0275\u0275elementStart(0,"div",11),o.\u0275\u0275elementStart(1,"section",12),o.\u0275\u0275elementContainer(2,25),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"section",12),o.\u0275\u0275element(4,"label-text-field-moelcule",14),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementContainer(5,7),o.\u0275\u0275elementEnd()),2&u){const a=o.\u0275\u0275nextContext(2),p=o.\u0275\u0275reference(4),v=o.\u0275\u0275reference(8);o.\u0275\u0275advance(2),o.\u0275\u0275property("ngTemplateOutlet",p)("ngTemplateOutletContext",o.\u0275\u0275pureFunction2(9,me,a.formGroupSetting,a.createItemFormArray())),o.\u0275\u0275advance(2),o.\u0275\u0275property("key","value")("label","Value")("type","text")("multiline",!0)("formGroup",a.formGroupSetting)("elementTheming",a.elementTheming),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngTemplateOutlet",v)}}const N=function(u,g){return{keyArrayName:"options",titleSection:"Options",labelButtonAdd:"Add Option",formGroup:u,newElement:g}};function ye(u,g){if(1&u&&(o.\u0275\u0275elementStart(0,"div",11),o.\u0275\u0275elementStart(1,"section",12),o.\u0275\u0275element(2,"label-text-field-moelcule",13),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"section",12),o.\u0275\u0275element(4,"label-text-field-moelcule",13),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"section",12),o.\u0275\u0275element(6,"label-checkbox-molecule",15),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(7,"section",12),o.\u0275\u0275elementContainer(8,25),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementContainer(9,7),o.\u0275\u0275elementEnd()),2&u){const a=o.\u0275\u0275nextContext(2),p=o.\u0275\u0275reference(4),v=o.\u0275\u0275reference(8);o.\u0275\u0275advance(2),o.\u0275\u0275property("key","key")("label","Property name")("type","text")("formGroup",a.formGroupSetting)("elementTheming",a.elementTheming),o.\u0275\u0275advance(2),o.\u0275\u0275property("key","label")("label","Label")("type","text")("formGroup",a.formGroupSetting)("elementTheming",a.elementTheming),o.\u0275\u0275advance(2),o.\u0275\u0275property("key","required")("title","Required")("formGroup",a.formGroupSetting)("elementTheming",a.elementTheming),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngTemplateOutlet",p)("ngTemplateOutletContext",o.\u0275\u0275pureFunction2(17,N,a.formGroupSetting,a.createItemFormArray())),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngTemplateOutlet",v)}}function be(u,g){if(1&u&&(o.\u0275\u0275elementStart(0,"div",11),o.\u0275\u0275elementStart(1,"section",12),o.\u0275\u0275element(2,"label-text-field-moelcule",13),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"section",12),o.\u0275\u0275element(4,"label-text-field-moelcule",13),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"section",12),o.\u0275\u0275elementContainer(6,25),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&u){const a=o.\u0275\u0275nextContext(2),p=o.\u0275\u0275reference(4);o.\u0275\u0275advance(2),o.\u0275\u0275property("key","key")("label","Property name")("type","text")("formGroup",a.formGroupSetting)("elementTheming",a.elementTheming),o.\u0275\u0275advance(2),o.\u0275\u0275property("key","label")("label","Label")("type","text")("formGroup",a.formGroupSetting)("elementTheming",a.elementTheming),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngTemplateOutlet",p)("ngTemplateOutletContext",o.\u0275\u0275pureFunction2(12,N,a.formGroupSetting,a.createItemFormArray()))}}function R(u,g){if(1&u&&(o.\u0275\u0275elementStart(0,"div",8),o.\u0275\u0275template(1,w,3,5,"div",9),o.\u0275\u0275template(2,y,11,24,"div",9),o.\u0275\u0275template(3,x,7,14,"div",9),o.\u0275\u0275template(4,T,5,10,"div",9),o.\u0275\u0275template(5,se,7,12,"div",9),o.\u0275\u0275template(6,oe,6,12,"div",9),o.\u0275\u0275template(7,ye,10,20,"div",9),o.\u0275\u0275template(8,be,7,15,"div",9),o.\u0275\u0275element(9,"section",10),o.\u0275\u0275elementEnd()),2&u){const a=o.\u0275\u0275nextContext();o.\u0275\u0275property("ngSwitch",a.selectedTypeField),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase",a.getType("ELEMENT_LABEL")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase",a.getType("ELEMENT_TEXT")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase",a.getType("ELEMENT_DATE")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase",a.getType("ELEMENT_CHECKBOX")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase",a.getType("ELEMENT_BUTTON")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase",a.getType("ELEMENT_TABLE")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase",a.getType("ELEMENT_DROPDOWN")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase",a.getType("ELEMENT_RADIO"))}}function P(u,g){if(1&u){const a=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275elementStart(1,"section",21),o.\u0275\u0275elementStart(2,"section",27),o.\u0275\u0275element(3,"label-text-field-moelcule",28),o.\u0275\u0275element(4,"label-text-field-moelcule",28),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"section",23),o.\u0275\u0275elementStart(6,"plus-circle-icon-svg",24),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(a);const v=o.\u0275\u0275nextContext(2),k=v.formGroup,M=v.keyArrayName,G=v.newElement;return o.\u0275\u0275nextContext().addNewControl(k,M,G)}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(7,"minus-circle-icon-svg",24),o.\u0275\u0275listener("click",function(){const k=o.\u0275\u0275restoreView(a).index,M=o.\u0275\u0275nextContext(2),G=M.formGroup,X=M.keyArrayName;return o.\u0275\u0275nextContext().removeControl(G,X,k)}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}if(2&u){const a=g.index,p=o.\u0275\u0275nextContext(2),v=p.formGroup,k=p.keyArrayName,M=o.\u0275\u0275nextContext();o.\u0275\u0275advance(3),o.\u0275\u0275property("key","key")("placeholder","key")("type","text")("elementTheming",M.elementThemingSettingNav)("formGroup",M.getGroupOption(v,k,a)),o.\u0275\u0275advance(1),o.\u0275\u0275property("key","label")("placeholder","label")("type","text")("elementTheming",M.elementThemingSettingNav)("formGroup",M.getGroupOption(v,k,a))}}function U(u,g){if(1&u&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"section",19),o.\u0275\u0275elementContainerStart(2,26),o.\u0275\u0275template(3,P,8,10,"div",20),o.\u0275\u0275elementContainerEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementContainerEnd()),2&u){const a=o.\u0275\u0275nextContext(),p=a.formGroup,v=a.keyArrayName,k=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("formGroup",p),o.\u0275\u0275advance(1),o.\u0275\u0275property("formArrayName",v),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",k.getFormArray(p,v).controls)}}const K=function(u,g,a,p){return{label:u,key:g,formGroup:a,newElement:p}};function V(u,g){if(1&u&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementContainer(1,25),o.\u0275\u0275elementContainerEnd()),2&u){const a=o.\u0275\u0275nextContext(),p=a.labelButtonAdd,v=a.keyArrayName,k=a.formGroup,M=a.newElement;o.\u0275\u0275nextContext();const G=o.\u0275\u0275reference(6);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngTemplateOutlet",G)("ngTemplateOutletContext",o.\u0275\u0275pureFunction4(2,K,p,v,k,M))}}function j(u,g){if(1&u&&(o.\u0275\u0275element(0,"label-atom",17),o.\u0275\u0275template(1,U,4,3,"ng-container",0),o.\u0275\u0275template(2,V,2,7,"ng-container",0)),2&u){const a=g.keyArrayName,p=g.titleSection,v=g.formGroup,k=o.\u0275\u0275nextContext();o.\u0275\u0275styleMap(k.elementTheming.label),o.\u0275\u0275property("title",p),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",null==v.controls||null==v.controls[a]?null:v.controls[a].value.length),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!(null!=v.controls&&null!=v.controls[a]&&v.controls[a].value.length))}}const Xi=function(){return{fontSize:"18px",color:"white",marginBottom:"0",cursor:"pointer"}};function _(u,g){if(1&u){const a=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"section",29),o.\u0275\u0275listener("click",function(){const v=o.\u0275\u0275restoreView(a),k=v.formGroup,M=v.key,G=v.newElement;return o.\u0275\u0275nextContext().addNewControl(k,M,G)}),o.\u0275\u0275element(1,"plus-icon-svg",30),o.\u0275\u0275element(2,"label-atom",17),o.\u0275\u0275elementEnd()}if(2&u){const a=g.label;o.\u0275\u0275advance(1),o.\u0275\u0275property("dimension",30)("isCircle",!1),o.\u0275\u0275advance(1),o.\u0275\u0275styleMap(o.\u0275\u0275pureFunction0(5,Xi)),o.\u0275\u0275property("title",a)}}function D(u,g){if(1&u&&(o.\u0275\u0275elementStart(0,"section",12),o.\u0275\u0275element(1,"label-dropdown-molecule",16),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(2,"section",12),o.\u0275\u0275element(3,"label-text-field-moelcule",13),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"section",12),o.\u0275\u0275element(5,"label-dropdown-molecule",16),o.\u0275\u0275elementEnd()),2&u){const a=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("key","typEvent")("label","Event Type")("options",a.elementsOptionEventType)("formGroup",a.getFormGroupFromFormGroupGeneral(a.formGroupSetting,"fetching"))("elementTheming",a.elementTheming),o.\u0275\u0275advance(2),o.\u0275\u0275property("key","urlFetching")("label","Url Fetching")("type","text")("formGroup",a.getFormGroupFromFormGroupGeneral(a.formGroupSetting,"fetching"))("elementTheming",a.elementTheming),o.\u0275\u0275advance(2),o.\u0275\u0275property("key","variable")("label","Assign To Variable")("options",a.variables)("formGroup",a.getFormGroupFromFormGroupGeneral(a.formGroupSetting,"fetching"))("elementTheming",a.elementTheming)}}let $=(()=>{class u{constructor(a,p){this.formBuilderService=a,this.formBuilder=p,this.fields=[],this.selectedTypeField="",this.selectedFieldKey="",this.formGroupSetting=new E.cw({}),this.formGroupDataReference=new E.cw({}),this.formIsReady=!1,this.elementTheming=Z.wC,this.elementThemingSettingNav=Z.Rz,this.buttonOptionEventType=[{key:H.Ku.SUBMIT,label:"Submit event"},{key:H.Ku.FETCHING,label:"Fetching"},{key:H.Ku.FILL_DATATABLE,label:"Fill data table"}],this.elementsOptionEventType=[{key:H.v5.ONINIT,label:H.v5.ONINIT},{key:H.v5.ONCHANGE,label:H.v5.ONCHANGE}],this.variables=[]}ngOnInit(){this.listenChangesFieldKey(),this.loadAllVariablesCreated()}ngOnChanges(a){this.loadAllVariablesCreated()}ngOnDestroy(){this.fieldKeySubscription$?.unsubscribe(),this.formGroupSettingListenChanges$?.unsubscribe(),this.formGroupDataReferenceListenCahnges$?.unsubscribe()}loadAllVariablesCreated(){this.variables=this.formBuilderService.selectedForm.settings.variables.map(a=>({key:a,label:a}))}buildFormSetting(){this.formIsReady=!1;const a=this.fields.find(M=>M.key===this.selectedFieldKey);this.selectedFieldKey&&(this.formGroupSetting=new E.cw({})),this.selectedTypeField=a?.type;const v=(M,G)=>G.reduce((X,ce)=>({...X,[ce]:k({type:r(ce),key:ce,value:M?.[ce]})}),{}),k=({type:M,key:G="",value:X})=>{switch(M){case"array":const ce=f[G];return Array.isArray(X)?this.formBuilder.array([...X.map(ve=>this.formBuilder.group(v(ve,ce)))]):this.formBuilder.array([]);case"formgroup":let Oe=m?.[G];return this.buildFormGroupKeywords(m?.[G][0])&&(Oe=this.buildFormGroupKeywords(m?.[G][0])),this.formBuilder.group({...v(X,Oe)});case"control":return this.formBuilder.control(X)}};this.formGroupSetting=this.formBuilder.group(v(a,d?.[a?.type]??[])),this.formIsReady=!0,this.listenChangesForm()}buildFormGroupKeywords(a){return"all_field_control"===a?this.getFieldControls():null}buildFormDataReference(){const a=this.fields.find(v=>v.key===this.selectedFieldKey);this.selectedFieldKey&&(this.formGroupDataReference=new E.cw({}));const p=a?.data?.fieldReference?.reference.map(v=>this.formBuilder.group({columnReference:v?.columnReference,fieldReference:v?.fieldReference}));this.formGroupDataReference=this.formBuilder.group({keyTable:this.formBuilder.control(a?.data?.fieldReference?.keyTable??""),reference:this.formBuilder.array(p??[])}),this.getAllTableReference(),this.listenCahangesFormReference()}createReference(){return new E.cw({columnReference:new E.NI(""),fieldReference:new E.NI("")})}getAllTableReference(){return this.fields.filter(a=>a.type===L.y.ELEMENT_TABLE).map(a=>({key:a.key,label:a.key}))}getColumnsByTableReference(){return this.fields.filter(a=>a.type===L.y.ELEMENT_TABLE).find(a=>a.key===this.getValueFromFormGroup(this.formGroupDataReference,"keyTable"))?.header?.map(a=>({key:a.key,label:a.key}))}getFieldsByTableReference(){return this.fields.filter(a=>a.type!==L.y.ELEMENT_TABLE&&a.type!==L.y.ELEMENT_BUTTON)?.map(a=>({key:a.key,label:a.key}))}getFieldControls(){return this.fields.filter(a=>(u=>![L.y.ELEMENT_LABEL,L.y.ELEMENT_BUTTON,L.y.ELEMENT_TABLE].includes(u))(a.type))?.map(a=>a.key)}listenChangesFieldKey(){this.fieldKeySubscription$=this.formBuilderService.onChangedFieldKey().subscribe(a=>{this.selectedFieldKey=a,this.buildFormSetting(),this.buildFormDataReference()})}listenChangesForm(){this.formGroupSettingListenChanges$=this.formGroupSetting.valueChanges.subscribe(a=>{this.applyChanges()})}listenCahangesFormReference(){this.formGroupDataReferenceListenCahnges$=this.formGroupDataReference.valueChanges.subscribe(a=>{const v={...[...this.fields].find(k=>k.key===this.selectedFieldKey)};v.data.fieldReference={...a},this.formBuilderService.emmitChangesFields({field:v,newKey:v.key,keyModified:this.selectedFieldKey})})}createItemFormArray(){return new E.cw({key:new E.NI(""),label:new E.NI("")})}applyChanges(){const p={...[...this.fields].find(v=>v.key===this.selectedFieldKey)};for(const v of Object.keys(this.formGroupSetting.value))p[v]=this.formGroupSetting.value[v];this.formBuilderService.emmitChangesFields({field:p,newKey:p.key,keyModified:this.selectedFieldKey})}closeSettingNav(){this.selectedTypeField=""}getType(a){return we.EnumToObject(L.y)[a]}addNewControl(a,p,v){a.get(p).push(v),this.applyChanges()}removeControl(a,p,v){a.get(p).removeAt(v),this.applyChanges()}getFormArray(a,p){return a.get(p)}getGroupOption(a,p,v){return a.get(p).controls[v]}getValueFromFormGroup(a,p){return a.get(p)?.value}getFormGroupFromFormGroupGeneral(a,p){return a.get(p)}}return u.\u0275fac=function(a){return new(a||u)(o.\u0275\u0275directiveInject(Ee.c),o.\u0275\u0275directiveInject(E.qu))},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["settings-bar-organism"]],inputs:{fields:"fields"},features:[o.\u0275\u0275NgOnChangesFeature],decls:9,vars:1,consts:[[4,"ngIf"],["settingElementContent",""],["sectionOptions",""],["addButtonOptions",""],["sectionFetching",""],[1,"mobilform-settings-bar__container__header"],[1,"mobilform-settings-bar__container__header__button",3,"click"],[3,"ngTemplateOutlet"],[3,"ngSwitch"],["class","mobilform-settings-bar_container__body",4,"ngSwitchCase"],[1,"flex","justify-end","mt-2","px-2"],[1,"mobilform-settings-bar_container__body"],[1,"mobilform-settings-bar_container__body__elements"],[3,"key","label","type","formGroup","elementTheming"],[3,"key","label","type","multiline","formGroup","elementTheming"],[3,"key","title","formGroup","elementTheming"],[3,"key","label","options","formGroup","elementTheming"],[3,"title"],[3,"key","placeholder","options","elementTheming","formGroup"],[3,"formGroup"],[4,"ngFor","ngForOf"],[1,"mobilform-settings-bar_container__body__elements__options-grid"],[1,"mobilform-settings-bar_container__body__elements_options-grid__section-select"],[1,"mobilform-settings-bar_container__body__elements_options-grid__section-button"],[1,"mobilform-settings-bar_container__body__elements_options-grid__section-button__icon",3,"click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"formArrayName"],[1,"mobilform-settings-bar_container__body__elements_options-grid__section-input"],[3,"key","placeholder","type","elementTheming","formGroup"],[1,"mobilform-settings-bar_container__body__elements__button-add-column",3,"click"],[3,"dimension","isCircle"]],template:function(a,p){1&a&&(o.\u0275\u0275template(0,C,5,1,"side-menu-container-molecule",0),o.\u0275\u0275template(1,R,10,9,"ng-template",null,1,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275template(3,j,3,5,"ng-template",null,2,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275template(5,_,3,6,"ng-template",null,3,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275template(7,D,6,15,"ng-template",null,4,o.\u0275\u0275templateRefExtractor)),2&a&&o.\u0275\u0275property("ngIf",p.selectedTypeField)},directives:[F.NgIf,qe,b,F.NgTemplateOutlet,F.NgSwitch,F.NgSwitchCase,Ne,E.JL,E.sg,rt,ot,fe,F.NgForOf,Qe,et,E.CE,Ce],styles:[".mobilform-settings-bar__container__header[_ngcontent-%COMP%]{font-size:1.5rem;padding:.75rem 1.25rem;display:flex;justify-content:space-between;align-items:center;border-bottom:.5px solid #FFFFFF;-webkit-user-select:none;user-select:none}.mobilform-settings-bar__container__header__button[_ngcontent-%COMP%]{cursor:pointer}.mobilform-settings-bar_container__body[_ngcontent-%COMP%]{padding:0 1.25rem}.mobilform-settings-bar_container__body__elements[_ngcontent-%COMP%]{padding-top:.625rem;padding-bottom:.625rem}.mobilform-settings-bar_container__body__elements__button-add-column[_ngcontent-%COMP%]{padding:.625rem;display:flex;flex-direction:row;justify-content:center;align-items:center;border:.5px dashed #FFFFFF;box-sizing:border-box;cursor:pointer;-webkit-user-select:none;user-select:none}.mobilform-settings-bar_container__body__elements__options-grid[_ngcontent-%COMP%]{display:grid;grid-gap:.875rem;gap:.875rem;margin-top:.5rem;margin-bottom:.5rem;grid-template-columns:repeat(4,minmax(0,1fr))}.mobilform-settings-bar_container__body__elements_options-grid__section-input[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-gap:.875rem;gap:.875rem;grid-column:span 4 / 4}.mobilform-settings-bar_container__body__elements_options-grid__section-select[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-column:span 4 / 4}.mobilform-settings-bar_container__body__elements_options-grid__section-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;grid-column:span 1 / span 1}.mobilform-settings-bar_container__body__elements_options-grid__section-button__icon[_ngcontent-%COMP%]{cursor:pointer}"]}),u})();function te(u,g){if(1&u&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275element(1,"nav-organism"),o.\u0275\u0275elementStart(2,"section",1),o.\u0275\u0275element(3,"nav-vertical-organism"),o.\u0275\u0275element(4,"toolbar-organism",2),o.\u0275\u0275elementStart(5,"section",3),o.\u0275\u0275element(6,"port-dynamic-form-builder",4),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(7,"settings-bar-organism",2),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementContainerEnd()),2&u){const a=o.\u0275\u0275nextContext();o.\u0275\u0275advance(4),o.\u0275\u0275property("fields",a.formSchemaGeneralSettings.fields),o.\u0275\u0275advance(2),o.\u0275\u0275property("schemaFormFields",a.formSchemaGeneralSettings),o.\u0275\u0275advance(1),o.\u0275\u0275property("fields",a.formSchemaGeneralSettings.fields)}}const _e=[{path:"",component:(()=>{class u{constructor(a,p,v,k,M){this.route=a,this.activatedRoute=p,this.formBuilderService=v,this.cacheLoaderService=k,this.matSnackBar=M,this.formSchemaGeneralSettings=new H.UZ}ngOnInit(){this.listenChangesRouter();const a=this.matSnackBar.openFromComponent(mt,{});this.actionObservable$=a.instance.getActionObservable().pipe((0,J.switchMap)(()=>(a.instance.loadingAction=!0,this.formBuilderService.formBuilderUpdateForm(this.selectedForm._id,{settings:this.formSchemaGeneralSettings}))),(0,J.tap)()).subscribe({next:()=>{a.instance.loadingAction=!1}}),this.listenChangesSelectedForm(),this.snackBarSaveValue=a}ngOnDestroy(){this.routerSubscription$.unsubscribe(),this.actionObservable$.unsubscribe(),this.selectedFormSubscription$.unsubscribe()}listenChangesSelectedForm(){this.selectedFormSubscription$=this.formBuilderService.onChangesSelectedForm().subscribe(a=>{this.selectedForm={...this.formBuilderService.selectedForm},this.formSchemaGeneralSettings=this.selectedForm.settings??new H.UZ})}getFormById(a){this.formBuilderService.getFormById(a),this.selectedForm={...this.formBuilderService.selectedForm},this.formSchemaGeneralSettings=this.selectedForm.settings??new H.UZ}listenChangesRouter(){this.routerSubscription$=this.activatedRoute.queryParams.subscribe(a=>{this.getFormById(a.formId)})}}return u.\u0275fac=function(a){return new(a||u)(o.\u0275\u0275directiveInject(B.Router),o.\u0275\u0275directiveInject(B.ActivatedRoute),o.\u0275\u0275directiveInject(Ee.c),o.\u0275\u0275directiveInject(Ke.C),o.\u0275\u0275directiveInject(he.ux))},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["constructor-page"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"mobilform-constructor__conatiner"],[3,"fields"],[1,"mobilform-canvas-area"],[3,"schemaFormFields"]],template:function(a,p){1&a&&o.\u0275\u0275template(0,te,8,3,"ng-container",0),2&a&&o.\u0275\u0275property("ngIf",p.cacheLoaderService.appCacheResolved)},directives:[F.NgIf,Xe,pt,Qt,e,$],styles:[".mobilform-constructor__conatiner[_ngcontent-%COMP%]{height:100%;display:flex;background:#363636}.mobilform-canvas-area[_ngcontent-%COMP%]{width:100%}"]}),u})()}];let De=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=o.\u0275\u0275defineNgModule({type:u}),u.\u0275inj=o.\u0275\u0275defineInjector({imports:[[B.RouterModule.forChild(_e)],B.RouterModule]}),u})(),ie=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=o.\u0275\u0275defineNgModule({type:u}),u.\u0275inj=o.\u0275\u0275defineInjector({providers:[],imports:[[F.CommonModule,z.m,De]]}),u})()},754:(I,W,A)=>{A.d(W,{r:()=>F});class F{static getValueBetweenTwoCharacters(B,H,J){return B.substring(B.indexOf(H)+H.length,B.lastIndexOf(J))}static getAllValueBetweenCharacters(B,H){const J=new RegExp(`${B}(.*?)${H}`,"gm"),he=Z=>Z.slice(B.length,-1*H.length);return function(Z){return Z.match(J)?.map(he)}}}},8239:(I,W,A)=>{function F(B,H,J,he,Z,pe,o){try{var E=B[pe](o),ne=E.value}catch(Ae){return void J(Ae)}E.done?H(ne):Promise.resolve(ne).then(he,Z)}function z(B){return function(){var H=this,J=arguments;return new Promise(function(he,Z){var pe=B.apply(H,J);function o(ne){F(pe,he,Z,o,E,"next",ne)}function E(ne){F(pe,he,Z,o,E,"throw",ne)}o(void 0)})}}A.d(W,{Z:()=>z})}}]);
(self.webpackChunkmfComponents=self.webpackChunkmfComponents||[]).push([[846],{8573:(fe,ie)=>{function w(d){if(d)return function l(d){for(var F in w.prototype)d[F]=w.prototype[F];return d}(d)}ie.Q=w,w.prototype.on=w.prototype.addEventListener=function(d,F){return this._callbacks=this._callbacks||{},(this._callbacks["$"+d]=this._callbacks["$"+d]||[]).push(F),this},w.prototype.once=function(d,F){function H(){this.off(d,H),F.apply(this,arguments)}return H.fn=F,this.on(d,H),this},w.prototype.off=w.prototype.removeListener=w.prototype.removeAllListeners=w.prototype.removeEventListener=function(d,F){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var H=this._callbacks["$"+d];if(!H)return this;if(1==arguments.length)return delete this._callbacks["$"+d],this;for(var I,G=0;G<H.length;G++)if((I=H[G])===F||I.fn===F){H.splice(G,1);break}return 0===H.length&&delete this._callbacks["$"+d],this},w.prototype.emitReserved=w.prototype.emit=function(d){this._callbacks=this._callbacks||{};for(var F=new Array(arguments.length-1),H=this._callbacks["$"+d],I=1;I<arguments.length;I++)F[I-1]=arguments[I];if(H){I=0;for(var G=(H=H.slice(0)).length;I<G;++I)H[I].apply(this,F)}return this},w.prototype.listeners=function(d){return this._callbacks=this._callbacks||{},this._callbacks["$"+d]||[]},w.prototype.hasListeners=function(d){return!!this.listeners(d).length}},3928:(fe,ie,w)=>{w.d(ie,{Zc:()=>$,OI:()=>oe});var l=w(824),F=w(7451);class I{constructor(R,C){this.x=R,this.y=C}static fromEvent(R,C=null){if(this.isMouseEvent(R))return new I(R.clientX,R.clientY);if(null===C||1===R.changedTouches.length)return new I(R.changedTouches[0].clientX,R.changedTouches[0].clientY);for(let O=0;O<R.changedTouches.length;O++)if(R.changedTouches[O].target===C)return new I(R.changedTouches[O].clientX,R.changedTouches[O].clientY)}static isMouseEvent(R){return 8===Object.prototype.toString.apply(R).indexOf("MouseEvent")}static isIPosition(R){return!!R&&"x"in R&&"y"in R}static getCurrent(R){let C=new I(0,0);if(window){const O=window.getComputedStyle(R);if(O){let z=parseInt(O.getPropertyValue("left"),10),ge=parseInt(O.getPropertyValue("top"),10);C.x=isNaN(z)?0:z,C.y=isNaN(ge)?0:ge}return C}return console.error("Not Supported!"),null}static copy(R){return new I(0,0).set(R)}get value(){return{x:this.x,y:this.y}}add(R){return this.x+=R.x,this.y+=R.y,this}subtract(R){return this.x-=R.x,this.y-=R.y,this}multiply(R){this.x*=R,this.y*=R}divide(R){this.x/=R,this.y/=R}reset(){return this.x=0,this.y=0,this}set(R){return this.x=R.x,this.y=R.y,this}}class G{constructor(R,C){this.parent=R,this.renderer=C,this._added=!1;let O=C.createElement("div");C.setStyle(O,"position","absolute"),C.setStyle(O,"width","100%"),C.setStyle(O,"height","100%"),C.setStyle(O,"background-color","transparent"),C.setStyle(O,"top","0"),C.setStyle(O,"left","0"),this._helper=O}add(){this.parent&&!this._added&&(this.parent.appendChild(this._helper),this._added=!0)}remove(){this.parent&&this._added&&(this.parent.removeChild(this._helper),this._added=!1)}dispose(){this._helper=null,this._added=!1}get el(){return this._helper}}let $=(()=>{class N{constructor(C,O){this.el=C,this.renderer=O,this.allowDrag=!0,this.moving=!1,this.orignal=null,this.oldTrans=new I(0,0),this.tempTrans=new I(0,0),this.currTrans=new I(0,0),this.oldZIndex="",this._zIndex="",this.needTransform=!1,this.draggingSub=null,this._helperBlock=null,this.started=new F.EventEmitter,this.stopped=new F.EventEmitter,this.edge=new F.EventEmitter,this.outOfBounds={top:!1,right:!1,bottom:!1,left:!1},this.gridSize=1,this.inBounds=!1,this.trackPosition=!0,this.scale=1,this.preventDefaultEvent=!1,this.position={x:0,y:0},this.lockAxis=null,this.movingOffset=new F.EventEmitter,this.endOffset=new F.EventEmitter,this._helperBlock=new G(C.nativeElement,O)}set zIndex(C){this.renderer.setStyle(this.el.nativeElement,"z-index",C),this._zIndex=C}set ngDraggable(C){if(null!=C&&""!==C){this.allowDrag=!!C;let O=this.getDragEl();this.allowDrag?this.renderer.addClass(O,"ng-draggable"):(this.putBack(),this.renderer.removeClass(O,"ng-draggable"))}}ngOnInit(){if(this.allowDrag){let C=this.getDragEl();this.renderer.addClass(C,"ng-draggable")}this.resetPosition()}ngOnDestroy(){this.bounds=null,this.handle=null,this.orignal=null,this.oldTrans=null,this.tempTrans=null,this.currTrans=null,this._helperBlock.dispose(),this._helperBlock=null,this.draggingSub&&this.draggingSub.unsubscribe()}ngOnChanges(C){if(C.position&&!C.position.isFirstChange()){let O=C.position.currentValue;this.moving?this.needTransform=!0:(I.isIPosition(O)?this.oldTrans.set(O):this.oldTrans.reset(),this.transform())}}ngAfterViewInit(){this.inBounds&&(this.boundsCheck(),this.oldTrans.add(this.tempTrans),this.tempTrans.reset())}getDragEl(){return this.handle?this.handle:this.el.nativeElement}resetPosition(){I.isIPosition(this.position)?this.oldTrans.set(this.position):this.oldTrans.reset(),this.tempTrans.reset(),this.transform()}moveTo(C){this.orignal&&(C.subtract(this.orignal),this.tempTrans.set(C),this.tempTrans.divide(this.scale),this.transform(),this.bounds&&this.edge.emit(this.boundsCheck()),this.movingOffset.emit(this.currTrans.value))}transform(){let C=this.tempTrans.x+this.oldTrans.x,O=this.tempTrans.y+this.oldTrans.y;"x"===this.lockAxis?(C=this.oldTrans.x,this.tempTrans.x=0):"y"===this.lockAxis&&(O=this.oldTrans.y,this.tempTrans.y=0),this.gridSize>1&&(C=Math.round(C/this.gridSize)*this.gridSize,O=Math.round(O/this.gridSize)*this.gridSize);let z=`translate(${Math.round(C)}px, ${Math.round(O)}px)`;this.renderer.setStyle(this.el.nativeElement,"transform",z),this.renderer.setStyle(this.el.nativeElement,"-webkit-transform",z),this.renderer.setStyle(this.el.nativeElement,"-ms-transform",z),this.renderer.setStyle(this.el.nativeElement,"-moz-transform",z),this.renderer.setStyle(this.el.nativeElement,"-o-transform",z),this.currTrans.x=C,this.currTrans.y=O}pickUp(){if(this.oldZIndex=this.el.nativeElement.style.zIndex?this.el.nativeElement.style.zIndex:"",window&&(this.oldZIndex=window.getComputedStyle(this.el.nativeElement,null).getPropertyValue("z-index")),this.zIndexMoving&&this.renderer.setStyle(this.el.nativeElement,"z-index",this.zIndexMoving),!this.moving){this.started.emit(this.el.nativeElement),this.moving=!0;const C=this.getDragEl();this.renderer.addClass(C,"ng-dragging"),this.subscribeEvents()}}subscribeEvents(){this.draggingSub=(0,l.fromEvent)(document,"mousemove",{passive:!1}).subscribe(O=>this.onMouseMove(O)),this.draggingSub.add((0,l.fromEvent)(document,"touchmove",{passive:!1}).subscribe(O=>this.onMouseMove(O))),this.draggingSub.add((0,l.fromEvent)(document,"mouseup",{passive:!1}).subscribe(()=>this.putBack())),/msie\s|trident\//i.test(window.navigator.userAgent)||this.draggingSub.add((0,l.fromEvent)(document,"mouseleave",{passive:!1}).subscribe(()=>this.putBack())),this.draggingSub.add((0,l.fromEvent)(document,"touchend",{passive:!1}).subscribe(()=>this.putBack())),this.draggingSub.add((0,l.fromEvent)(document,"touchcancel",{passive:!1}).subscribe(()=>this.putBack()))}unsubscribeEvents(){this.draggingSub.unsubscribe(),this.draggingSub=null}boundsCheck(){if(this.bounds){let C=this.bounds.getBoundingClientRect(),O=this.el.nativeElement.getBoundingClientRect(),z={top:!!this.outOfBounds.top||C.top<O.top,right:!!this.outOfBounds.right||C.right>O.right,bottom:!!this.outOfBounds.bottom||C.bottom>O.bottom,left:!!this.outOfBounds.left||C.left<O.left};return this.inBounds&&(z.top||(this.tempTrans.y-=(O.top-C.top)/this.scale),z.bottom||(this.tempTrans.y-=(O.bottom-C.bottom)/this.scale),z.right||(this.tempTrans.x-=(O.right-C.right)/this.scale),z.left||(this.tempTrans.x-=(O.left-C.left)/this.scale),this.transform()),z}}getCurrentOffset(){return this.currTrans.value}putBack(){if(this._zIndex?this.renderer.setStyle(this.el.nativeElement,"z-index",this._zIndex):this.zIndexMoving&&(this.oldZIndex?this.renderer.setStyle(this.el.nativeElement,"z-index",this.oldZIndex):this.el.nativeElement.style.removeProperty("z-index")),this.moving){this.stopped.emit(this.el.nativeElement),this._helperBlock.remove(),this.needTransform&&(I.isIPosition(this.position)?this.oldTrans.set(this.position):this.oldTrans.reset(),this.transform(),this.needTransform=!1),this.bounds&&this.edge.emit(this.boundsCheck()),this.moving=!1,this.endOffset.emit(this.currTrans.value),this.trackPosition&&this.oldTrans.add(this.tempTrans),this.tempTrans.reset(),this.trackPosition||this.transform();const C=this.getDragEl();this.renderer.removeClass(C,"ng-dragging"),this.unsubscribeEvents()}}checkHandleTarget(C,O){if("BUTTON"===O.tagName)return!1;if(O===C)return!0;for(let z in O.children)if(O.children.hasOwnProperty(z)&&this.checkHandleTarget(C,O.children[z]))return!0;return!1}onMouseDown(C){C instanceof MouseEvent&&2===C.button||void 0!==this.handle&&!this.checkHandleTarget(C.target||C.srcElement,this.handle)||!1!==this.allowDrag&&(this.preventDefaultEvent&&(C.stopPropagation(),C.preventDefault()),this.orignal=I.fromEvent(C,this.getDragEl()),this.pickUp())}onMouseMove(C){this.moving&&this.allowDrag&&(this.preventDefaultEvent&&(C.stopPropagation(),C.preventDefault()),this._helperBlock.add(),this.moveTo(I.fromEvent(C,this.getDragEl())))}}return N.\u0275fac=function(C){return new(C||N)(F.\u0275\u0275directiveInject(F.ElementRef),F.\u0275\u0275directiveInject(F.Renderer2))},N.\u0275dir=F.\u0275\u0275defineDirective({type:N,selectors:[["","ngDraggable",""]],hostBindings:function(C,O){1&C&&F.\u0275\u0275listener("mousedown",function(ge){return O.onMouseDown(ge)})("touchstart",function(ge){return O.onMouseDown(ge)})},inputs:{outOfBounds:"outOfBounds",gridSize:"gridSize",inBounds:"inBounds",trackPosition:"trackPosition",scale:"scale",preventDefaultEvent:"preventDefaultEvent",position:"position",lockAxis:"lockAxis",zIndex:"zIndex",ngDraggable:"ngDraggable",bounds:"bounds",handle:"handle",zIndexMoving:"zIndexMoving"},outputs:{started:"started",stopped:"stopped",edge:"edge",movingOffset:"movingOffset",endOffset:"endOffset"},exportAs:["ngDraggable"],features:[F.\u0275\u0275NgOnChangesFeature]}),N})();class le{constructor(R,C,O,z,ge){this.parent=R,this.renderer=C,this.type=O,this.css=z,this.onMouseDown=ge;let xe=C.createElement("div");C.addClass(xe,"ng-resizable-handle"),C.addClass(xe,z),"se"===O&&C.addClass(xe,"ng-resizable-diagonal"),this.parent&&R.appendChild(xe),this._onResize=Ye=>{ge(Ye,this)},xe.addEventListener("mousedown",this._onResize,{passive:!1}),xe.addEventListener("touchstart",this._onResize,{passive:!1}),this._handle=xe}dispose(){this._handle.removeEventListener("mousedown",this._onResize),this._handle.removeEventListener("touchstart",this._onResize),this.parent&&this.parent.removeChild(this._handle),this._handle=null,this._onResize=null}get el(){return this._handle}}class Y{constructor(R,C){this.width=R,this.height=C}static getCurrent(R){let C=new Y(0,0);if(window){const O=window.getComputedStyle(R);return O&&(C.width=parseInt(O.getPropertyValue("width"),10),C.height=parseInt(O.getPropertyValue("height"),10)),C}return console.error("Not Supported!"),null}static copy(R){return new Y(0,0).set(R)}set(R){return this.width=R.width,this.height=R.height,this}}let oe=(()=>{class N{constructor(C,O){this.el=C,this.renderer=O,this._resizable=!0,this._handles={},this._handleType=[],this._handleResizing=null,this._direction=null,this._directionChanged=null,this._aspectRatio=0,this._containment=null,this._origMousePos=null,this._origSize=null,this._origPos=null,this._currSize=null,this._currPos=null,this._initSize=null,this._initPos=null,this._gridSize=null,this._bounding=null,this._helperBlock=null,this.draggingSub=null,this._adjusted=!1,this.rzHandles="e,s,se",this.rzAspectRatio=!1,this.rzContainment=null,this.rzGrid=null,this.rzMinWidth=null,this.rzMinHeight=null,this.rzMaxWidth=null,this.rzMaxHeight=null,this.preventDefaultEvent=!0,this.rzStart=new F.EventEmitter,this.rzResizing=new F.EventEmitter,this.rzStop=new F.EventEmitter,this._helperBlock=new G(C.nativeElement,O)}set ngResizable(C){null!=C&&""!==C&&(this._resizable=!!C,this.updateResizable())}ngOnChanges(C){C.rzHandles&&!C.rzHandles.isFirstChange()&&this.updateResizable(),C.rzAspectRatio&&!C.rzAspectRatio.isFirstChange()&&this.updateAspectRatio(),C.rzContainment&&!C.rzContainment.isFirstChange()&&this.updateContainment()}ngOnInit(){this.updateResizable()}ngOnDestroy(){this.removeHandles(),this._containment=null,this._helperBlock.dispose(),this._helperBlock=null}ngAfterViewInit(){const C=this.el.nativeElement;this._initSize=Y.getCurrent(C),this._initPos=I.getCurrent(C),this._currSize=Y.copy(this._initSize),this._currPos=I.copy(this._initPos),this.updateAspectRatio(),this.updateContainment()}resetSize(){this._currSize=Y.copy(this._initSize),this._currPos=I.copy(this._initPos),this.doResize()}getStatus(){return this._currPos&&this._currSize?{size:{width:this._currSize.width,height:this._currSize.height},position:{top:this._currPos.y,left:this._currPos.x}}:null}updateResizable(){const C=this.el.nativeElement;this.renderer.removeClass(C,"ng-resizable"),this.removeHandles(),this._resizable&&(this.renderer.addClass(C,"ng-resizable"),this.createHandles())}updateAspectRatio(){if("boolean"==typeof this.rzAspectRatio)this._aspectRatio=this.rzAspectRatio&&this._currSize.height?this._currSize.width/this._currSize.height:0;else{let C=Number(this.rzAspectRatio);this._aspectRatio=isNaN(C)?0:C}}updateContainment(){this._containment=this.rzContainment?"string"==typeof this.rzContainment?"parent"===this.rzContainment?this.el.nativeElement.parentElement:document.querySelector(this.rzContainment):this.rzContainment:null}createHandles(){if(!this.rzHandles)return;let C;if("string"==typeof this.rzHandles){C="all"===this.rzHandles?["n","e","s","w","ne","se","nw","sw"]:this.rzHandles.replace(/ /g,"").toLowerCase().split(",");for(let O of C){let z=this.createHandleByType(O,`ng-resizable-${O}`);z&&(this._handleType.push(O),this._handles[O]=z)}}else{C=Object.keys(this.rzHandles);for(let O of C){let z=this.createHandleByType(O,this.rzHandles[O]);z&&(this._handleType.push(O),this._handles[O]=z)}}}createHandleByType(C,O){const z=this.el.nativeElement;return C.match(/^(se|sw|ne|nw|n|e|s|w)$/)?new le(z,this.renderer,C,O,this.onMouseDown.bind(this)):(console.error("Invalid handle type:",C),null)}removeHandles(){for(let C of this._handleType)this._handles[C].dispose();this._handleType=[],this._handles={}}onMouseDown(C,O){C instanceof MouseEvent&&2===C.button||(this.preventDefaultEvent&&(C.stopPropagation(),C.preventDefault()),this._handleResizing||(this._origMousePos=I.fromEvent(C),this.startResize(O),this.subscribeEvents()))}subscribeEvents(){this.draggingSub=(0,l.fromEvent)(document,"mousemove",{passive:!1}).subscribe(O=>this.onMouseMove(O)),this.draggingSub.add((0,l.fromEvent)(document,"touchmove",{passive:!1}).subscribe(O=>this.onMouseMove(O))),this.draggingSub.add((0,l.fromEvent)(document,"mouseup",{passive:!1}).subscribe(()=>this.onMouseLeave())),/msie\s|trident\//i.test(window.navigator.userAgent)||this.draggingSub.add((0,l.fromEvent)(document,"mouseleave",{passive:!1}).subscribe(()=>this.onMouseLeave())),this.draggingSub.add((0,l.fromEvent)(document,"touchend",{passive:!1}).subscribe(()=>this.onMouseLeave())),this.draggingSub.add((0,l.fromEvent)(document,"touchcancel",{passive:!1}).subscribe(()=>this.onMouseLeave()))}unsubscribeEvents(){this.draggingSub.unsubscribe(),this.draggingSub=null}onMouseLeave(){this._handleResizing&&(this.stopResize(),this._origMousePos=null,this.unsubscribeEvents())}onMouseMove(C){this._handleResizing&&this._resizable&&this._origMousePos&&this._origPos&&this._origSize&&(this.resizeTo(I.fromEvent(C)),this.onResizing())}startResize(C){const O=this.el.nativeElement;this._origSize=Y.getCurrent(O),this._origPos=I.getCurrent(O),this._currSize=Y.copy(this._origSize),this._currPos=I.copy(this._origPos),this._containment&&this.getBounding(),this.getGridSize(),this._helperBlock.add(),this._handleResizing=C,this.updateDirection(),this.rzStart.emit(this.getResizingEvent())}stopResize(){this._helperBlock.remove(),this.rzStop.emit(this.getResizingEvent()),this._handleResizing=null,this._direction=null,this._origSize=null,this._origPos=null,this._containment&&this.resetBounding()}onResizing(){this.rzResizing.emit(this.getResizingEvent())}getResizingEvent(){return{host:this.el.nativeElement,handle:this._handleResizing?this._handleResizing.el:null,size:{width:this._currSize.width,height:this._currSize.height},position:{top:this._currPos.y,left:this._currPos.x},direction:Object.assign({},this._directionChanged)}}updateDirection(){this._direction={n:!!this._handleResizing.type.match(/n/),s:!!this._handleResizing.type.match(/s/),w:!!this._handleResizing.type.match(/w/),e:!!this._handleResizing.type.match(/e/)},this._directionChanged=Object.assign({},this._direction),this.rzAspectRatio&&(this._directionChanged.n&&!this._directionChanged.e&&(this._directionChanged.w=!0),this._directionChanged.s&&!this._directionChanged.w&&(this._directionChanged.e=!0),this._directionChanged.e&&!this._directionChanged.n&&(this._directionChanged.s=!0),this._directionChanged.w&&!this._directionChanged.n&&(this._directionChanged.s=!0))}resizeTo(C){C.subtract(this._origMousePos);const O=Math.round(C.x/this._gridSize.x)*this._gridSize.x,z=Math.round(C.y/this._gridSize.y)*this._gridSize.y;this._direction.n?(this._currPos.y=this._origPos.y+z,this._currSize.height=this._origSize.height-z):this._direction.s&&(this._currSize.height=this._origSize.height+z),this._direction.e?this._currSize.width=this._origSize.width+O:this._direction.w&&(this._currSize.width=this._origSize.width-O,this._currPos.x=this._origPos.x+O),this.checkBounds(),this.checkSize(),this.adjustByRatio(),this.doResize()}doResize(){const C=this.el.nativeElement;(!this._direction||this._direction.n||this._direction.s||this._aspectRatio)&&this.renderer.setStyle(C,"height",this._currSize.height+"px"),(!this._direction||this._direction.w||this._direction.e||this._aspectRatio)&&this.renderer.setStyle(C,"width",this._currSize.width+"px"),this.renderer.setStyle(C,"left",this._currPos.x+"px"),this.renderer.setStyle(C,"top",this._currPos.y+"px")}adjustByRatio(){if(this._aspectRatio&&!this._adjusted)if(this._direction.e||this._direction.w){const C=Math.floor(this._currSize.width/this._aspectRatio);this._direction.n&&(this._currPos.y+=this._currSize.height-C),this._currSize.height=C}else{const C=Math.floor(this._aspectRatio*this._currSize.height);this._direction.n&&(this._currPos.x+=this._currSize.width-C),this._currSize.width=C}}checkBounds(){if(this._containment){const C=this._bounding.width-this._bounding.pr-this._bounding.deltaL-this._bounding.translateX-this._currPos.x,O=this._bounding.height-this._bounding.pb-this._bounding.deltaT-this._bounding.translateY-this._currPos.y;if(this._direction.n&&this._currPos.y+this._bounding.translateY<0&&(this._currPos.y=-this._bounding.translateY,this._currSize.height=this._origSize.height+this._origPos.y+this._bounding.translateY),this._direction.w&&this._currPos.x+this._bounding.translateX<0&&(this._currPos.x=-this._bounding.translateX,this._currSize.width=this._origSize.width+this._origPos.x+this._bounding.translateX),this._currSize.width>C&&(this._currSize.width=C),this._currSize.height>O&&(this._currSize.height=O),this._aspectRatio){if(this._adjusted=!1,(this._direction.w||this._direction.e)&&this._currSize.width/this._aspectRatio>=O){const z=Math.floor(O*this._aspectRatio);this._direction.w&&(this._currPos.x+=this._currSize.width-z),this._currSize.width=z,this._currSize.height=O,this._adjusted=!0}if((this._direction.n||this._direction.s)&&this._currSize.height*this._aspectRatio>=C){const z=Math.floor(C/this._aspectRatio);this._direction.n&&(this._currPos.y+=this._currSize.height-z),this._currSize.width=C,this._currSize.height=z,this._adjusted=!0}}}}checkSize(){const C=this.rzMinHeight?this.rzMinHeight:1,O=this.rzMinWidth?this.rzMinWidth:1;this._currSize.height<C&&(this._currSize.height=C,this._direction.n&&(this._currPos.y=this._origPos.y+(this._origSize.height-C))),this._currSize.width<O&&(this._currSize.width=O,this._direction.w&&(this._currPos.x=this._origPos.x+(this._origSize.width-O))),this.rzMaxHeight&&this._currSize.height>this.rzMaxHeight&&(this._currSize.height=this.rzMaxHeight,this._direction.n&&(this._currPos.y=this._origPos.y+(this._origSize.height-this.rzMaxHeight))),this.rzMaxWidth&&this._currSize.width>this.rzMaxWidth&&(this._currSize.width=this.rzMaxWidth,this._direction.w&&(this._currPos.x=this._origPos.x+(this._origSize.width-this.rzMaxWidth)))}getBounding(){const C=this._containment,O=window.getComputedStyle(C);if(O){let z=O.getPropertyValue("position"),xe=window.getComputedStyle(this.el.nativeElement).getPropertyValue("transform").replace(/[^-\d,]/g,"").split(",");this._bounding={},this._bounding.width=C.clientWidth,this._bounding.height=C.clientHeight,this._bounding.pr=parseInt(O.getPropertyValue("padding-right"),10),this._bounding.pb=parseInt(O.getPropertyValue("padding-bottom"),10),this._bounding.deltaL=this.el.nativeElement.offsetLeft-this._currPos.x,this._bounding.deltaT=this.el.nativeElement.offsetTop-this._currPos.y,xe.length>=6?(this._bounding.translateX=parseInt(xe[4],10),this._bounding.translateY=parseInt(xe[5],10)):(this._bounding.translateX=0,this._bounding.translateY=0),this._bounding.position=O.getPropertyValue("position"),"static"===z&&this.renderer.setStyle(C,"position","relative")}}resetBounding(){this._bounding&&"static"===this._bounding.position&&this.renderer.setStyle(this._containment,"position","relative"),this._bounding=null}getGridSize(){this._gridSize={x:1,y:1},this.rzGrid&&("number"==typeof this.rzGrid?this._gridSize={x:this.rzGrid,y:this.rzGrid}:Array.isArray(this.rzGrid)&&(this._gridSize={x:this.rzGrid[0],y:this.rzGrid[1]}))}}return N.\u0275fac=function(C){return new(C||N)(F.\u0275\u0275directiveInject(F.ElementRef),F.\u0275\u0275directiveInject(F.Renderer2))},N.\u0275dir=F.\u0275\u0275defineDirective({type:N,selectors:[["","ngResizable",""]],inputs:{rzHandles:"rzHandles",rzAspectRatio:"rzAspectRatio",rzContainment:"rzContainment",rzGrid:"rzGrid",rzMinWidth:"rzMinWidth",rzMinHeight:"rzMinHeight",rzMaxWidth:"rzMaxWidth",rzMaxHeight:"rzMaxHeight",preventDefaultEvent:"preventDefaultEvent",ngResizable:"ngResizable"},outputs:{rzStart:"rzStart",rzResizing:"rzResizing",rzStop:"rzStop"},exportAs:["ngResizable"],features:[F.\u0275\u0275NgOnChangesFeature]}),N})()},7591:fe=>{function ie(w){this.ms=(w=w||{}).min||100,this.max=w.max||1e4,this.factor=w.factor||2,this.jitter=w.jitter>0&&w.jitter<=1?w.jitter:0,this.attempts=0}fe.exports=ie,ie.prototype.duration=function(){var w=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var l=Math.random(),d=Math.floor(l*this.jitter*w);w=0==(1&Math.floor(10*l))?w-d:w+d}return 0|Math.min(w,this.max)},ie.prototype.reset=function(){this.attempts=0},ie.prototype.setMin=function(w){this.ms=w},ie.prototype.setMax=function(w){this.max=w},ie.prototype.setJitter=function(w){this.jitter=w}},4966:fe=>{try{fe.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch{fe.exports=!1}},9603:(fe,ie)=>{ie.encode=function(w){var l="";for(var d in w)w.hasOwnProperty(d)&&(l.length&&(l+="&"),l+=encodeURIComponent(d)+"="+encodeURIComponent(w[d]));return l},ie.decode=function(w){for(var l={},d=w.split("&"),F=0,H=d.length;F<H;F++){var I=d[F].split("=");l[decodeURIComponent(I[0])]=decodeURIComponent(I[1])}return l}},4171:fe=>{var ie=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,w=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];fe.exports=function(H){var I=H,G=H.indexOf("["),$=H.indexOf("]");-1!=G&&-1!=$&&(H=H.substring(0,G)+H.substring(G,$).replace(/:/g,";")+H.substring($,H.length));for(var le=ie.exec(H||""),Y={},oe=14;oe--;)Y[w[oe]]=le[oe]||"";return-1!=G&&-1!=$&&(Y.source=I,Y.host=Y.host.substring(1,Y.host.length-1).replace(/;/g,":"),Y.authority=Y.authority.replace("[","").replace("]","").replace(/;/g,":"),Y.ipv6uri=!0),Y.pathNames=function l(F,H){var G=H.replace(/\/{2,9}/g,"/").split("/");return("/"==H.substr(0,1)||0===H.length)&&G.splice(0,1),"/"==H.substr(H.length-1,1)&&G.splice(G.length-1,1),G}(0,Y.path),Y.queryKey=function d(F,H){var I={};return H.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(G,$,le){$&&(I[$]=le)}),I}(0,Y.query),Y}},2885:(fe,ie,w)=>{w.d(ie,{Ae:()=>ui});class l{constructor(s){this.table=s}reloadData(s,e){return this.table.dataLoader.load(s,void 0,void 0,void 0,e)}langText(){return this.table.modules.localize.getText(...arguments)}langBind(){return this.table.modules.localize.bind(...arguments)}langLocale(){return this.table.modules.localize.getLocale(...arguments)}commsConnections(){return this.table.modules.comms.getConnections(...arguments)}commsSend(){return this.table.modules.comms.send(...arguments)}layoutMode(){return this.table.modules.layout.getMode()}layoutRefresh(){return this.table.modules.layout.layout()}subscribe(){return this.table.eventBus.subscribe(...arguments)}unsubscribe(){return this.table.eventBus.unsubscribe(...arguments)}subscribed(s){return this.table.eventBus.subscribed(s)}subscriptionChange(){return this.table.eventBus.subscriptionChange(...arguments)}dispatch(){return this.table.eventBus.dispatch(...arguments)}chain(){return this.table.eventBus.chain(...arguments)}confirm(){return this.table.eventBus.confirm(...arguments)}dispatchExternal(){return this.table.externalEvents.dispatch(...arguments)}subscribedExternal(s){return this.table.externalEvents.subscribed(s)}subscriptionChangeExternal(){return this.table.externalEvents.subscriptionChange(...arguments)}options(s){return this.table.options[s]}setOption(s,e){return void 0!==e&&(this.table.options[s]=e),this.table.options[s]}module(s){return this.table.module(s)}}class d extends l{constructor(s,e){super(s),this._handler=null}initialize(){}registerTableOption(s,e){this.table.optionsList.register(s,e)}registerColumnOption(s,e){this.table.columnManager.optionsList.register(s,e)}registerTableFunction(s,e){void 0===this.table[s]?this.table[s]=e:console.warn("Unable to bind table function, name already in use",s)}registerComponentFunction(s,e,t){return this.table.componentFunctionBinder.bind(s,e,t)}registerDataHandler(s,e){this.table.rowManager.registerDataPipelineHandler(s,e),this._handler=s}registerDisplayHandler(s,e){this.table.rowManager.registerDisplayPipelineHandler(s,e),this._handler=s}refreshData(s,e){e||(e=this._handler),e&&this.table.rowManager.refreshActiveData(e,!1,s)}}class F{static elVisible(s){return!(s.offsetWidth<=0&&s.offsetHeight<=0)}static elOffset(s){var e=s.getBoundingClientRect();return{top:e.top+window.pageYOffset-document.documentElement.clientTop,left:e.left+window.pageXOffset-document.documentElement.clientLeft}}static deepClone(s,e,t=[]){var n={}.__proto__,o=[].__proto__;for(var r in e||(e=Object.assign(Array.isArray(s)?[]:{},s)),s){let f,y,a=s[r];null!=a&&"object"==typeof a&&(a.__proto__===n||a.__proto__===o)&&(f=t.findIndex(x=>x.subject===a),f>-1?e[r]=t[f].copy:(y=Object.assign(Array.isArray(a)?[]:{},a),t.unshift({subject:a,copy:y}),e[r]=this.deepClone(a,y,t)))}return e}}var H={};let I=(()=>{class c extends d{constructor(e){super(e),this.allowedTypes=["","data","download","clipboard","print","htmlOutput"],this.registerColumnOption("accessor"),this.registerColumnOption("accessorParams"),this.registerColumnOption("accessorData"),this.registerColumnOption("accessorDataParams"),this.registerColumnOption("accessorDownload"),this.registerColumnOption("accessorDownloadParams"),this.registerColumnOption("accessorClipboard"),this.registerColumnOption("accessorClipboardParams"),this.registerColumnOption("accessorPrint"),this.registerColumnOption("accessorPrintParams"),this.registerColumnOption("accessorHtmlOutput"),this.registerColumnOption("accessorHtmlOutputParams")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-retrieve",this.transformRow.bind(this))}initializeColumn(e){var t=!1,n={};this.allowedTypes.forEach(o=>{var a,r="accessor"+(o.charAt(0).toUpperCase()+o.slice(1));e.definition[r]&&(a=this.lookupAccessor(e.definition[r]))&&(t=!0,n[r]={accessor:a,params:e.definition[r+"Params"]||{}})}),t&&(e.modules.accessor=n)}lookupAccessor(e){var t=!1;switch(typeof e){case"string":c.accessors[e]?t=c.accessors[e]:console.warn("Accessor Error - No such accessor found, ignoring: ",e);break;case"function":t=e}return t}transformRow(e,t){var n="accessor"+(t.charAt(0).toUpperCase()+t.slice(1)),o=e.getComponent(),r=F.deepClone(e.data||{});return this.table.columnManager.traverse(function(a){var f,y,x,P;a.modules.accessor&&(y=a.modules.accessor[n]||a.modules.accessor.accessor||!1)&&"undefined"!=(f=a.getFieldValue(r))&&(P=a.getComponent(),x="function"==typeof y.params?y.params(f,r,t,P,o):y.params,a.setFieldValue(r,y.accessor(f,r,t,x,P,o)))}),r}}return c.moduleName="accessor",c.accessors=H,c})();var G={method:"GET"};function $(c,s){var e=[];if(s=s||"",Array.isArray(c))c.forEach((n,o)=>{e=e.concat($(n,s?s+"["+o+"]":o))});else if("object"==typeof c)for(var t in c)e=e.concat($(c[t],s?s+"["+t+"]":t));else e.push({key:s,value:c});return e}function le(c){var s=$(c),e=[];return s.forEach(function(t){e.push(encodeURIComponent(t.key)+"="+encodeURIComponent(t.value))}),e.join("&")}function Y(c,s,e){return c&&e&&Object.keys(e).length&&(!s.method||"get"==s.method.toLowerCase())&&(s.method="get",c+=(c.includes("?")?"&":"?")+le(e)),c}function oe(c,s,e){var t;return new Promise((n,o)=>{if(c=this.urlGenerator.call(this.table,c,s,e),"GET"!=s.method.toUpperCase())if(t="object"==typeof this.table.options.ajaxContentType?this.table.options.ajaxContentType:this.contentTypeFormatters[this.table.options.ajaxContentType]){for(var r in t.headers)s.headers||(s.headers={}),void 0===s.headers[r]&&(s.headers[r]=t.headers[r]);s.body=t.body.call(this,c,s,e)}else console.warn("Ajax Error - Invalid ajaxContentType value:",this.table.options.ajaxContentType);c?(void 0===s.headers&&(s.headers={}),void 0===s.headers.Accept&&(s.headers.Accept="application/json"),void 0===s.headers["X-Requested-With"]&&(s.headers["X-Requested-With"]="XMLHttpRequest"),void 0===s.mode&&(s.mode="cors"),"cors"==s.mode?(void 0===s.headers.Origin&&(s.headers.Origin=window.location.origin),void 0===s.credentials&&(s.credentials="same-origin")):void 0===s.credentials&&(s.credentials="include"),fetch(c,s).then(a=>{a.ok?a.json().then(f=>{n(f)}).catch(f=>{o(f),console.warn("Ajax Load Error - Invalid JSON returned",f)}):(console.error("Ajax Load Error - Connection Error: "+a.status,a.statusText),o(a))}).catch(a=>{console.error("Ajax Load Error - Connection Error: ",a),o(a)})):(console.warn("Ajax Load Error - No URL Set"),n([]))})}function ae(c,s){var e=[];if(s=s||"",Array.isArray(c))c.forEach((n,o)=>{e=e.concat(ae(n,s?s+"["+o+"]":o))});else if("object"==typeof c)for(var t in c)e=e.concat(ae(c[t],s?s+"["+t+"]":t));else e.push({key:s,value:c});return e}var N={json:{headers:{"Content-Type":"application/json"},body:function(c,s,e){return JSON.stringify(e)}},form:{headers:{},body:function(c,s,e){var t=ae(e),n=new FormData;return t.forEach(function(o){n.append(o.key,o.value)}),n}}};let R=(()=>{class c extends d{constructor(e){super(e),this.config={},this.url="",this.urlGenerator=!1,this.params=!1,this.loaderPromise=!1,this.registerTableOption("ajaxURL",!1),this.registerTableOption("ajaxURLGenerator",!1),this.registerTableOption("ajaxParams",{}),this.registerTableOption("ajaxConfig","get"),this.registerTableOption("ajaxContentType","form"),this.registerTableOption("ajaxRequestFunc",!1),this.registerTableOption("ajaxRequesting",function(){}),this.registerTableOption("ajaxResponse",!1),this.contentTypeFormatters=c.contentTypeFormatters}initialize(){this.loaderPromise=this.table.options.ajaxRequestFunc||c.defaultLoaderPromise,this.urlGenerator=this.table.options.ajaxURLGenerator||c.defaultURLGenerator,this.table.options.ajaxURL&&this.setUrl(this.table.options.ajaxURL),this.setDefaultConfig(this.table.options.ajaxConfig),this.registerTableFunction("getAjaxUrl",this.getUrl.bind(this)),this.subscribe("data-loading",this.requestDataCheck.bind(this)),this.subscribe("data-params",this.requestParams.bind(this)),this.subscribe("data-load",this.requestData.bind(this))}requestParams(e,t,n,o){var r=this.table.options.ajaxParams;return r&&("function"==typeof r&&(r=r.call(this.table)),o=Object.assign(o,r)),o}requestDataCheck(e,t,n,o){return!((e||!this.url)&&"string"!=typeof e)}requestData(e,t,n,o,r){var a;return!r&&this.requestDataCheck(e)?(e&&this.setUrl(e),a=this.generateConfig(n),this.sendRequest(this.url,t,a)):r}setDefaultConfig(e={}){this.config=Object.assign({},c.defaultConfig),"string"==typeof e?this.config.method=e:Object.assign(this.config,e)}generateConfig(e={}){var t=Object.assign({},this.config);return"string"==typeof e?t.method=e:Object.assign(t,e),t}setUrl(e){this.url=e}getUrl(){return this.url}sendRequest(e,t,n){return!1!==this.table.options.ajaxRequesting.call(this.table,e,t)?this.loaderPromise(e,n,t).then(o=>(this.table.options.ajaxResponse&&(o=this.table.options.ajaxResponse.call(this.table,e,t,o)),o)):Promise.reject()}}return c.moduleName="ajax",c.defaultConfig=G,c.defaultURLGenerator=Y,c.defaultLoaderPromise=oe,c.contentTypeFormatters=N,c})();var C={replace:function(c){return this.table.setData(c)},update:function(c){return this.table.updateOrAddData(c)},insert:function(c){return this.table.addData(c)}},O={table:function(c){var s=[],e=!0,t=this.table.columnManager.columns,n=[],o=[];return(c=c.split("\n")).forEach(function(r){s.push(r.split("\t"))}),!(!s.length||1===s.length&&s[0].length<2)&&(s[0].forEach(function(r){var a=t.find(function(f){return r&&f.definition.title&&r.trim()&&f.definition.title.trim()===r.trim()});a?n.push(a):e=!1}),e||(e=!0,n=[],s[0].forEach(function(r){var a=t.find(function(f){return r&&f.field&&r.trim()&&f.field.trim()===r.trim()});a?n.push(a):e=!1}),e||(n=this.table.columnManager.columnsByIndex)),e&&s.shift(),s.forEach(function(r){var a={};r.forEach(function(f,y){n[y]&&(a[n[y].field]=f)}),o.push(a)}),o)}};let z=(()=>{class c extends d{constructor(e){super(e),this.mode=!0,this.pasteParser=function(){},this.pasteAction=function(){},this.customSelection=!1,this.rowRange=!1,this.blocked=!0,this.registerTableOption("clipboard",!1),this.registerTableOption("clipboardCopyStyled",!0),this.registerTableOption("clipboardCopyConfig",!1),this.registerTableOption("clipboardCopyFormatter",!1),this.registerTableOption("clipboardCopyRowRange","active"),this.registerTableOption("clipboardPasteParser","table"),this.registerTableOption("clipboardPasteAction","insert"),this.registerColumnOption("clipboard"),this.registerColumnOption("titleClipboard")}initialize(){this.mode=this.table.options.clipboard,this.rowRange=this.table.options.clipboardCopyRowRange,(!0===this.mode||"copy"===this.mode)&&this.table.element.addEventListener("copy",e=>{var t,n;if(!this.blocked){if(e.preventDefault(),this.customSelection)t=this.customSelection,this.table.options.clipboardCopyFormatter&&(t=this.table.options.clipboardCopyFormatter("plain",t));else{var o=this.table.modules.export.generateExportList(this.table.options.clipboardCopyConfig,this.table.options.clipboardCopyStyled,this.rowRange,"clipboard");t=(n=this.table.modules.export.genereateHTMLTable(o))?this.generatePlainContent(o):"",this.table.options.clipboardCopyFormatter&&(t=this.table.options.clipboardCopyFormatter("plain",t),n=this.table.options.clipboardCopyFormatter("html",n))}window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",t):e.clipboardData&&e.clipboardData.setData?(e.clipboardData.setData("text/plain",t),n&&e.clipboardData.setData("text/html",n)):e.originalEvent&&e.originalEvent.clipboardData.setData&&(e.originalEvent.clipboardData.setData("text/plain",t),n&&e.originalEvent.clipboardData.setData("text/html",n)),this.dispatchExternal("clipboardCopied",t,n),this.reset()}}),(!0===this.mode||"paste"===this.mode)&&this.table.element.addEventListener("paste",e=>{this.paste(e)}),this.setPasteParser(this.table.options.clipboardPasteParser),this.setPasteAction(this.table.options.clipboardPasteAction),this.registerTableFunction("copyToClipboard",this.copy.bind(this))}reset(){this.blocked=!0,this.customSelection=!1}generatePlainContent(e){var t=[];return e.forEach(n=>{var o=[];n.columns.forEach(r=>{var a="";if(r)if("group"===n.type&&(r.value=r.component.getKey()),null===r.value)a="";else switch(typeof r.value){case"object":a=JSON.stringify(r.value);break;case"undefined":a="";break;default:a=r.value}o.push(a)}),t.push(o.join("\t"))}),t.join("\n")}copy(n,t){var o,r;this.blocked=!1,this.customSelection=!1,(!0===this.mode||"copy"===this.mode)&&(this.rowRange=n||this.table.options.clipboardCopyRowRange,void 0!==window.getSelection&&void 0!==document.createRange?((n=document.createRange()).selectNodeContents(this.table.element),(o=window.getSelection()).toString()&&t&&(this.customSelection=o.toString()),o.removeAllRanges(),o.addRange(n)):void 0!==document.selection&&void 0!==document.body.createTextRange&&((r=document.body.createTextRange()).moveToElementText(this.table.element),r.select()),document.execCommand("copy"),o&&o.removeAllRanges())}setPasteAction(e){switch(typeof e){case"string":this.pasteAction=c.pasteActions[e],this.pasteAction||console.warn("Clipboard Error - No such paste action found:",e);break;case"function":this.pasteAction=e}}setPasteParser(e){switch(typeof e){case"string":this.pasteParser=c.pasteParsers[e],this.pasteParser||console.warn("Clipboard Error - No such paste parser found:",e);break;case"function":this.pasteParser=e}}paste(e){var t,n,o;this.checkPaseOrigin(e)&&(t=this.getPasteData(e),(n=this.pasteParser.call(this,t))?(e.preventDefault(),this.table.modExists("mutator")&&(n=this.mutateData(n)),o=this.pasteAction.call(this,n),this.dispatchExternal("clipboardPasted",t,n,o)):this.dispatchExternal("clipboardPasteError",t))}mutateData(e){var t=[];return Array.isArray(e)?e.forEach(n=>{t.push(this.table.modules.mutator.transformRow(n,"clipboard"))}):t=e,t}checkPaseOrigin(e){var t=!0;return("DIV"!=e.target.tagName||this.table.modules.edit.currentCell)&&(t=!1),t}getPasteData(e){var t;return window.clipboardData&&window.clipboardData.getData?t=window.clipboardData.getData("Text"):e.clipboardData&&e.clipboardData.getData?t=e.clipboardData.getData("text/plain"):e.originalEvent&&e.originalEvent.clipboardData.getData&&(t=e.originalEvent.clipboardData.getData("text/plain")),t}}return c.moduleName="clipboard",c.pasteActions=C,c.pasteParsers=O,c})();class ge{constructor(s){return this._row=s,new Proxy(this,{get:function(e,t,n){return void 0!==e[t]?e[t]:e._row.table.componentFunctionBinder.handle("row",e._row,t)}})}getData(s){return this._row.getData(s)}getElement(){return this._row.getElement()}getTable(){return this._row.table}getCells(){var s=[];return this._row.getCells().forEach(function(e){s.push(e.getComponent())}),s}getCell(s){var e=this._row.getCell(s);return!!e&&e.getComponent()}_getSelf(){return this._row}}class xe{constructor(s){return this._cell=s,new Proxy(this,{get:function(e,t,n){return void 0!==e[t]?e[t]:e._cell.table.componentFunctionBinder.handle("cell",e._cell,t)}})}getValue(){return this._cell.getValue()}getOldValue(){return this._cell.getOldValue()}getInitialValue(){return this._cell.initialValue}getElement(){return this._cell.getElement()}getRow(){return this._cell.row.getComponent()}getData(){return this._cell.row.getData()}getField(){return this._cell.column.getField()}getColumn(){return this._cell.column.getComponent()}setValue(s,e){void 0===e&&(e=!0),this._cell.setValue(s,e)}restoreOldValue(){this._cell.setValueActual(this._cell.getOldValue())}restoreInitialValue(){this._cell.setValueActual(this._cell.initialValue)}checkHeight(){this._cell.checkHeight()}getTable(){return this._cell.table}_getSelf(){return this._cell}}class Ye extends l{constructor(s,e){super(s.table),this.table=s.table,this.column=s,this.row=e,this.element=null,this.value=null,this.oldValue=null,this.modules={},this.height=null,this.width=null,this.minWidth=null,this.component=null,this.loaded=!1,this.build()}build(){this.generateElement(),this.setWidth(),this._configureCell(),this.setValueActual(this.column.getFieldValue(this.row.data)),this.initialValue=this.value}generateElement(){this.element=document.createElement("div"),this.element.className="tabulator-cell",this.element.setAttribute("role","gridcell"),this.element=this.element}_configureCell(){var s=this.element,e=this.column.getField();s.style.textAlign=this.column.hozAlign,this.column.vertAlign&&(s.style.display="inline-flex",s.style.alignItems={top:"flex-start",bottom:"flex-end",middle:"center"}[this.column.vertAlign]||"",this.column.hozAlign&&(s.style.justifyContent={left:"flex-start",right:"flex-end",center:"center"}[this.column.hozAlign]||"")),e&&s.setAttribute("tabulator-field",e),this.column.definition.cssClass&&this.column.definition.cssClass.split(" ").forEach(r=>{s.classList.add(r)}),"hover"===this.table.options.tooltipGenerationMode&&s.addEventListener("mouseenter",r=>{this._generateTooltip()}),this.dispatch("cell-init",this),this.column.visible||this.hide()}_generateContents(){var s;switch(typeof(s=this.chain("cell-format",this,null,()=>this.element.innerHTML=this.value))){case"object":if(s instanceof Node){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.appendChild(s)}else this.element.innerHTML="",null!=s&&console.warn("Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",s);break;case"undefined":case"null":this.element.innerHTML="";break;default:this.element.innerHTML=s}}cellRendered(){this.dispatch("cell-rendered",this)}_generateTooltip(){var s=this.column.tooltip;s?(!0===s?s=this.value:"function"==typeof s&&!1===(s=s(this.getComponent()))&&(s=""),void 0===s&&(s=""),this.element.setAttribute("title",s)):this.element.setAttribute("title","")}getElement(s){return this.loaded||(this.loaded=!0,s||this.layoutElement()),this.element}getValue(){return this.value}getOldValue(){return this.oldValue}setValue(s,e){this.setValueProcessData(s,e)&&(this.dispatch("cell-value-updated",this),this.cellRendered(),this.column.definition.cellEdited&&this.column.definition.cellEdited.call(this.table,this.getComponent()),this.dispatchExternal("cellEdited",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()))}setValueProcessData(s,e){var t=!1;return this.value!==s&&(t=!0,e&&(s=this.chain("cell-value-changing",[this,s],null,s))),this.setValueActual(s),t&&this.dispatch("cell-value-changed",this),t}setValueActual(s){this.oldValue=this.value,this.value=s,this.dispatch("cell-value-save-before",this),this.column.setFieldValue(this.row.data,s),this.dispatch("cell-value-save-after",this),this.loaded&&this.layoutElement()}layoutElement(){this._generateContents(),this._generateTooltip(),this.dispatch("cell-layout",this)}setWidth(){this.width=this.column.width,this.element.style.width=this.column.widthStyled}clearWidth(){this.width="",this.element.style.width=""}getWidth(){return this.width||this.element.offsetWidth}setMinWidth(){this.minWidth=this.column.minWidth,this.element.style.minWidth=this.column.minWidthStyled}setMaxWidth(){this.maxWidth=this.column.maxWidth,this.element.style.maxWidth=this.column.maxWidthStyled}checkHeight(){this.row.reinitializeHeight()}clearHeight(){this.element.style.height="",this.height=null}setHeight(){this.height=this.row.height,this.element.style.height=this.row.heightStyled}getHeight(){return this.height||this.element.offsetHeight}show(){this.element.style.display=this.column.vertAlign?"inline-flex":""}hide(){this.element.style.display="none"}delete(){this.dispatch("cell-delete",this),!this.table.rowManager.redrawBlock&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.column.deleteCell(this),this.row.deleteCell(this),this.calcs={}}getIndex(){return this.row.getCellIndex(this)}getComponent(){return this.component||(this.component=new xe(this)),this.component}}class Xe{constructor(s){return this._column=s,this.type="ColumnComponent",new Proxy(this,{get:function(e,t,n){return void 0!==e[t]?e[t]:e._column.table.componentFunctionBinder.handle("column",e._column,t)}})}getElement(){return this._column.getElement()}getDefinition(){return this._column.getDefinition()}getField(){return this._column.getField()}getTitleDownload(){return this._column.getTitleDownload()}getCells(){var s=[];return this._column.cells.forEach(function(e){s.push(e.getComponent())}),s}isVisible(){return this._column.visible}show(){this._column.isGroup?this._column.columns.forEach(function(s){s.show()}):this._column.show()}hide(){this._column.isGroup?this._column.columns.forEach(function(s){s.hide()}):this._column.hide()}toggle(){this._column.visible?this.hide():this.show()}delete(){return this._column.delete()}getSubColumns(){var s=[];return this._column.columns.length&&this._column.columns.forEach(function(e){s.push(e.getComponent())}),s}getParentColumn(){return this._column.parent instanceof ye&&this._column.parent.getComponent()}_getSelf(){return this._column}scrollTo(){return this._column.table.columnManager.scrollToColumn(this._column)}getTable(){return this._column.table}move(s,e){var t=this._column.table.columnManager.findColumn(s);t?this._column.table.columnManager.moveColumn(this._column,t,e):console.warn("Move Error - No matching column found:",t)}getNextColumn(){var s=this._column.nextColumn();return!!s&&s.getComponent()}getPrevColumn(){var s=this._column.prevColumn();return!!s&&s.getComponent()}updateDefinition(s){return this._column.updateDefinition(s)}getWidth(){return this._column.getWidth()}setWidth(s){var e;return e=!0===s?this._column.reinitializeWidth(!0):this._column.setWidth(s),this._column.table.columnManager.renderer.rerenderColumns(!0),e}}var Ze={title:void 0,field:void 0,columns:void 0,visible:void 0,hozAlign:void 0,vertAlign:void 0,width:void 0,minWidth:40,maxWidth:void 0,maxInitialWidth:void 0,tooltip:void 0,cssClass:void 0,variableHeight:void 0,headerTooltip:void 0,headerVertical:void 0,headerHozAlign:void 0,editableTitle:void 0};let ye=(()=>{class c extends l{constructor(e,t){super(t.table),this.definition=e,this.parent=t,this.type="column",this.columns=[],this.cells=[],this.element=this.createElement(),this.contentElement=!1,this.titleHolderElement=!1,this.titleElement=!1,this.groupElement=this.createGroupElement(),this.isGroup=!1,this.tooltip=!1,this.hozAlign="",this.vertAlign="",this.field="",this.fieldStructure="",this.getFieldValue="",this.setFieldValue="",this.titleDownload=null,this.titleFormatterRendered=!1,this.mapDefinitions(),this.setField(this.definition.field),this.modules={},this.width=null,this.widthStyled="",this.maxWidth=null,this.maxWidthStyled="",this.maxInitialWidth=null,this.minWidth=null,this.minWidthStyled="",this.widthFixed=!1,this.visible=!0,this.component=null,this.definition.columns?(this.isGroup=!0,this.definition.columns.forEach((n,o)=>{var r=new c(n,this);this.attachColumn(r)}),this.checkColumnVisibility()):t.registerColumnField(this),this._initialize(),this.bindModuleColumns()}createElement(){var e=document.createElement("div");return e.classList.add("tabulator-col"),e.setAttribute("role","columnheader"),e.setAttribute("aria-sort","none"),e}createGroupElement(){var e=document.createElement("div");return e.classList.add("tabulator-col-group-cols"),e}mapDefinitions(){var e=this.table.options.columnDefaults;if(e)for(let t in e)void 0===this.definition[t]&&(this.definition[t]=e[t]);this.definition=this.table.columnManager.optionsList.generate(c.defaultOptionList,this.definition)}checkDefinition(){Object.keys(this.definition).forEach(e=>{-1===c.defaultOptionList.indexOf(e)&&console.warn("Invalid column definition option in '"+(this.field||this.definition.title)+"' column:",e)})}setField(e){this.field=e,this.fieldStructure=e?this.table.options.nestedFieldSeparator?e.split(this.table.options.nestedFieldSeparator):[e]:[],this.getFieldValue=this.fieldStructure.length>1?this._getNestedData:this._getFlatData,this.setFieldValue=this.fieldStructure.length>1?this._setNestedData:this._setFlatData}registerColumnPosition(e){this.parent.registerColumnPosition(e)}registerColumnField(e){this.parent.registerColumnField(e)}reRegisterPosition(){this.isGroup?this.columns.forEach(function(e){e.reRegisterPosition()}):this.registerColumnPosition(this)}_mapDepricatedFunctionality(){}setTooltip(){var e=this.definition,t=e.headerTooltip;t?!0===t?e.field?this.langBind("columns|"+e.field,n=>{this.element.setAttribute("title",n||e.title)}):this.element.setAttribute("title",e.title):("function"==typeof t&&!1===(t=t(this.getComponent()))&&(t=""),this.element.setAttribute("title",t)):this.element.setAttribute("title","")}_initialize(){for(var e=this.definition;this.element.firstChild;)this.element.removeChild(this.element.firstChild);e.headerVertical&&(this.element.classList.add("tabulator-col-vertical"),"flip"===e.headerVertical&&this.element.classList.add("tabulator-col-vertical-flip")),this.contentElement=this._bindEvents(),this.contentElement=this._buildColumnHeaderContent(),this.element.appendChild(this.contentElement),this.isGroup?this._buildGroupHeader():this._buildColumnHeader(),this.setTooltip(),this.dispatch("column-init",this),this.element.addEventListener("mouseenter",t=>{this.setTooltip()})}_bindEvents(){var t,n,o,e=this.definition;"function"==typeof e.headerClick&&this.element.addEventListener("click",r=>{e.headerClick(r,this.getComponent())}),"function"==typeof e.headerDblClick&&this.element.addEventListener("dblclick",r=>{e.headerDblClick(r,this.getComponent())}),"function"==typeof e.headerContext&&this.element.addEventListener("contextmenu",r=>{e.headerContext(r,this.getComponent())}),"function"==typeof e.headerTap&&(o=!1,this.element.addEventListener("touchstart",r=>{o=!0},{passive:!0}),this.element.addEventListener("touchend",r=>{o&&e.headerTap(r,this.getComponent()),o=!1})),"function"==typeof e.headerDblTap&&(t=null,this.element.addEventListener("touchend",r=>{t?(clearTimeout(t),t=null,e.headerDblTap(r,this.getComponent())):t=setTimeout(()=>{clearTimeout(t),t=null},300)})),"function"==typeof e.headerTapHold&&(n=null,this.element.addEventListener("touchstart",r=>{clearTimeout(n),n=setTimeout(function(){clearTimeout(n),n=null,o=!1,e.headerTapHold(r,this.getComponent())},1e3)},{passive:!0}),this.element.addEventListener("touchend",r=>{clearTimeout(n),n=null}))}_buildColumnHeader(){var e=this.definition;this.dispatch("column-layout",this),void 0!==e.visible&&(e.visible?this.show(!0):this.hide(!0)),e.cssClass&&e.cssClass.split(" ").forEach(o=>{this.element.classList.add(o)}),e.field&&this.element.setAttribute("tabulator-field",e.field),this.setMinWidth(parseInt(e.minWidth)),e.maxInitialWidth&&(this.maxInitialWidth=parseInt(e.maxInitialWidth)),e.maxWidth&&this.setMaxWidth(parseInt(e.maxWidth)),this.reinitializeWidth(),this.tooltip=this.definition.tooltip,this.hozAlign=this.definition.hozAlign,this.vertAlign=this.definition.vertAlign,this.titleElement.style.textAlign=this.definition.headerHozAlign}_buildColumnHeaderContent(){var n=document.createElement("div");return n.classList.add("tabulator-col-content"),this.titleHolderElement=document.createElement("div"),this.titleHolderElement.classList.add("tabulator-col-title-holder"),n.appendChild(this.titleHolderElement),this.titleElement=this._buildColumnHeaderTitle(),this.titleHolderElement.appendChild(this.titleElement),n}_buildColumnHeaderTitle(){var e=this.definition,t=document.createElement("div");if(t.classList.add("tabulator-col-title"),e.editableTitle){var n=document.createElement("input");n.classList.add("tabulator-title-editor"),n.addEventListener("click",o=>{o.stopPropagation(),n.focus()}),n.addEventListener("change",()=>{e.title=n.value,this.dispatchExternal("columnTitleChanged",this.getComponent())}),t.appendChild(n),e.field?this.langBind("columns|"+e.field,o=>{n.value=o||e.title||"&nbsp;"}):n.value=e.title||"&nbsp;"}else e.field?this.langBind("columns|"+e.field,o=>{this._formatColumnHeaderTitle(t,o||e.title||"&nbsp;")}):this._formatColumnHeaderTitle(t,e.title||"&nbsp;");return t}_formatColumnHeaderTitle(e,t){var n=this.chain("column-format",[this,t,e],null,()=>t);switch(typeof n){case"object":n instanceof Node?e.appendChild(n):(e.innerHTML="",console.warn("Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",n));break;case"undefined":case"null":e.innerHTML="";break;default:e.innerHTML=n}}_buildGroupHeader(){this.element.classList.add("tabulator-col-group"),this.element.setAttribute("role","columngroup"),this.element.setAttribute("aria-title",this.definition.title),this.definition.cssClass&&this.definition.cssClass.split(" ").forEach(t=>{this.element.classList.add(t)}),this.titleElement.style.textAlign=this.definition.headerHozAlign,this.element.appendChild(this.groupElement)}_getFlatData(e){return e[this.field]}_getNestedData(e){var r,t=e,n=this.fieldStructure,o=n.length;for(let a=0;a<o&&(r=t=t[n[a]],t);a++);return r}_setFlatData(e,t){this.field&&(e[this.field]=t)}_setNestedData(e,t){var n=e,o=this.fieldStructure,r=o.length;for(let a=0;a<r;a++)if(a==r-1)n[o[a]]=t;else{if(!n[o[a]]){if(void 0===t)break;n[o[a]]={}}n=n[o[a]]}}attachColumn(e){this.groupElement?(this.columns.push(e),this.groupElement.appendChild(e.getElement())):console.warn("Column Warning - Column being attached to another column instead of column group")}verticalAlign(e,t){var n=this.parent.isGroup?this.parent.getGroupElement().clientHeight:t||this.parent.getHeadersElement().clientHeight;this.element.style.height=n+"px",this.isGroup&&(this.groupElement.style.minHeight=n-this.contentElement.offsetHeight+"px"),!this.isGroup&&"top"!==e&&(this.element.style.paddingTop="bottom"===e?this.element.clientHeight-this.contentElement.offsetHeight+"px":(this.element.clientHeight-this.contentElement.offsetHeight)/2+"px"),this.columns.forEach(function(o){o.verticalAlign(e)})}clearVerticalAlign(){this.element.style.paddingTop="",this.element.style.height="",this.element.style.minHeight="",this.groupElement.style.minHeight="",this.columns.forEach(function(e){e.clearVerticalAlign()})}bindModuleColumns(){"rownum"==this.definition.formatter&&(this.table.rowManager.rowNumColumn=this)}getElement(){return this.element}getGroupElement(){return this.groupElement}getField(){return this.field}getTitleDownload(){return this.titleDownload}getFirstColumn(){return this.isGroup?!!this.columns.length&&this.columns[0].getFirstColumn():this}getLastColumn(){return this.isGroup?!!this.columns.length&&this.columns[this.columns.length-1].getLastColumn():this}getColumns(){return this.columns}getCells(){return this.cells}getTopColumn(){return this.parent.isGroup?this.parent.getTopColumn():this}getDefinition(e){var t=[];return this.isGroup&&e&&(this.columns.forEach(function(n){t.push(n.getDefinition(!0))}),this.definition.columns=t),this.definition}checkColumnVisibility(){var e=!1;this.columns.forEach(function(t){t.visible&&(e=!0)}),e?(this.show(),this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1)):this.hide()}show(e,t){this.visible||(this.visible=!0,this.element.style.display="",this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(n){n.show()}),!this.isGroup&&null===this.width&&this.reinitializeWidth(),this.table.columnManager.verticalAlignHeaders(),this.dispatch("column-show",this,t),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!0),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.renderer.rerenderColumns())}hide(e,t){this.visible&&(this.visible=!1,this.element.style.display="none",this.table.columnManager.verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(n){n.hide()}),this.dispatch("column-hide",this,t),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.renderer.rerenderColumns())}matchChildWidths(){var e=0;this.contentElement&&this.columns.length&&(this.columns.forEach(function(t){t.visible&&(e+=t.getWidth())}),this.contentElement.style.maxWidth=e-1+"px",this.parent.isGroup&&this.parent.matchChildWidths())}removeChild(e){var t=this.columns.indexOf(e);t>-1&&this.columns.splice(t,1),this.columns.length||this.delete()}setWidth(e){this.widthFixed=!0,this.setWidthActual(e)}setWidthActual(e){isNaN(e)&&(e=Math.floor(this.table.element.clientWidth/100*parseInt(e))),e=Math.max(this.minWidth,e),this.maxWidth&&(e=Math.min(this.maxWidth,e)),this.width=e,this.widthStyled=e?e+"px":"",this.element.style.width=this.widthStyled,this.isGroup||this.cells.forEach(function(t){t.setWidth()}),this.parent.isGroup&&this.parent.matchChildWidths(),this.dispatch("column-width",this)}checkCellHeights(){var e=[];this.cells.forEach(function(t){t.row.heightInitialized&&(null!==t.row.getElement().offsetParent?(e.push(t.row),t.row.clearCellHeight()):t.row.heightInitialized=!1)}),e.forEach(function(t){t.calcHeight()}),e.forEach(function(t){t.setCellHeight()})}getWidth(){var e=0;return this.isGroup?this.columns.forEach(function(t){t.visible&&(e+=t.getWidth())}):e=this.width,e}getHeight(){return Math.ceil(this.element.getBoundingClientRect().height)}setMinWidth(e){this.minWidth=e,this.minWidthStyled=e?e+"px":"",this.element.style.minWidth=this.minWidthStyled,this.cells.forEach(function(t){t.setMinWidth()})}setMaxWidth(e){this.maxWidth=e,this.maxWidthStyled=e?e+"px":"",this.element.style.maxWidth=this.maxWidthStyled,this.cells.forEach(function(t){t.setMaxWidth()})}delete(){return new Promise((e,t)=>{this.isGroup&&this.columns.forEach(function(o){o.delete()}),this.dispatch("column-delete",this);var n=this.cells.length;for(let o=0;o<n;o++)this.cells[0].delete();this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.contentElement=!1,this.titleElement=!1,this.groupElement=!1,this.parent.isGroup&&this.parent.removeChild(this),this.table.columnManager.deregisterColumn(this),this.table.columnManager.renderer.rerenderColumns(!0),e()})}columnRendered(){this.titleFormatterRendered&&this.titleFormatterRendered()}generateCell(e){var t=new Ye(this,e);return this.cells.push(t),t}nextColumn(){var e=this.table.columnManager.findColumnIndex(this);return e>-1&&this._nextVisibleColumn(e+1)}_nextVisibleColumn(e){var t=this.table.columnManager.getColumnByIndex(e);return!t||t.visible?t:this._nextVisibleColumn(e+1)}prevColumn(){var e=this.table.columnManager.findColumnIndex(this);return e>-1&&this._prevVisibleColumn(e-1)}_prevVisibleColumn(e){var t=this.table.columnManager.getColumnByIndex(e);return!t||t.visible?t:this._prevVisibleColumn(e-1)}reinitializeWidth(e){this.widthFixed=!1,void 0!==this.definition.width&&!e&&this.setWidth(this.definition.width),this.dispatch("column-width-fit-before",this),this.fitToData(e),this.dispatch("column-width-fit-after",this)}fitToData(e){if(!this.isGroup){this.widthFixed||(this.element.style.width="",this.cells.forEach(o=>{o.clearWidth()}));var t=this.element.offsetWidth;if((!this.width||!this.widthFixed)&&(this.cells.forEach(o=>{var r=o.getWidth();r>t&&(t=r)}),t)){var n=t+1;this.maxInitialWidth&&!e&&(n=Math.min(n,this.maxInitialWidth)),this.setWidthActual(n)}}}updateDefinition(e){var t;return this.isGroup||this.parent.isGroup?(console.error("Column Update Error - The updateDefinition function is only available on ungrouped columns"),Promise.reject("Column Update Error - The updateDefinition function is only available on columns, not column groups")):(t=Object.assign({},this.getDefinition()),t=Object.assign(t,e),this.table.columnManager.addColumn(t,!1,this).then(n=>(t.field==this.field&&(this.field=!1),this.delete().then(()=>n.getComponent()))))}deleteCell(e){var t=this.cells.indexOf(e);t>-1&&this.cells.splice(t,1)}getComponent(){return this.component||(this.component=new Xe(this)),this.component}}return c.defaultOptionList=Ze,c})();class Ge{constructor(s){return this._row=s,new Proxy(this,{get:function(e,t,n){return void 0!==e[t]?e[t]:e._row.table.componentFunctionBinder.handle("row",e._row,t)}})}getData(s){return this._row.getData(s)}getElement(){return this._row.getElement()}getCells(){var s=[];return this._row.getCells().forEach(function(e){s.push(e.getComponent())}),s}getCell(s){var e=this._row.getCell(s);return!!e&&e.getComponent()}getIndex(){return this._row.getData("data")[this._row.table.options.index]}getPosition(s){return this._row.table.rowManager.getRowPosition(this._row,s)}delete(){return this._row.delete()}scrollTo(){return this._row.table.rowManager.scrollToRow(this._row)}move(s,e){this._row.moveToRow(s,e)}update(s){return this._row.updateData(s)}normalizeHeight(){this._row.normalizeHeight(!0)}_getSelf(){return this._row}reformat(){return this._row.reinitialize()}getTable(){return this._row.table}getNextRow(){var s=this._row.nextRow();return s&&s.getComponent()}getPrevRow(){var s=this._row.prevRow();return s&&s.getComponent()}}class $e extends l{constructor(s,e,t="row"){super(e.table),this.parent=e,this.data={},this.type=t,this.element=!1,this.modules={},this.cells=[],this.height=0,this.heightStyled="",this.manualHeight=!1,this.outerHeight=0,this.initialized=!1,this.heightInitialized=!1,this.component=null,this.created=!1,this.setData(s)}create(){this.created||(this.created=!0,this.generateElement())}createElement(){var s=document.createElement("div");s.classList.add("tabulator-row"),s.setAttribute("role","row"),this.element=s}getElement(){return this.create(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}generateElement(){this.createElement(),this.dispatch("row-init",this)}generateCells(){this.cells=this.table.columnManager.generateCells(this)}initialize(s){if(this.create(),!this.initialized||s){for(this.deleteCells();this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.dispatch("row-layout-before",this),this.generateCells(),this.table.columnManager.renderer.renderRowCells(this),s&&this.normalizeHeight(),this.dispatch("row-layout",this),this.initialized=!0,this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent()),this.dispatch("row-layout-after",this)}else this.table.columnManager.renderer.rerenderRowCells(this)}reinitializeHeight(){this.heightInitialized=!1,this.element&&null!==this.element.offsetParent&&this.normalizeHeight(!0)}deinitializeHeight(){this.heightInitialized=!1}reinitialize(s){this.initialized=!1,this.heightInitialized=!1,this.manualHeight||(this.height=0,this.heightStyled=""),this.element&&null!==this.element.offsetParent&&this.initialize(!0),this.dispatch("row-relayout",this)}calcHeight(s){var e=0,t=this.table.options.resizableRows?this.element.clientHeight:0;this.cells.forEach(function(n){var o=n.getHeight();o>e&&(e=o)}),this.height=s?Math.max(e,t):this.manualHeight?this.height:Math.max(e,t),this.heightStyled=this.height?this.height+"px":"",this.outerHeight=this.element.offsetHeight}setCellHeight(){this.cells.forEach(function(s){s.setHeight()}),this.heightInitialized=!0}clearCellHeight(){this.cells.forEach(function(s){s.clearHeight()})}normalizeHeight(s){s&&this.clearCellHeight(),this.calcHeight(s),this.setCellHeight()}setHeight(s,e){(this.height!=s||e)&&(this.manualHeight=!0,this.height=s,this.heightStyled=s?s+"px":"",this.setCellHeight(),this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getWidth(){return this.element.offsetWidth}deleteCell(s){var e=this.cells.indexOf(s);e>-1&&this.cells.splice(e,1)}setData(s){this.data=this.chain("row-data-init-before",[this,s],void 0,s),this.dispatch("row-data-init-after",this)}updateData(s){var n,e=this.element&&F.elVisible(this.element),t={};return new Promise((o,r)=>{for(var a in"string"==typeof s&&(s=JSON.parse(s)),this.dispatch("row-data-save-before",this),this.subscribed("row-data-changing")&&(t=Object.assign(t,this.data),t=Object.assign(t,s)),n=this.chain("row-data-changing",[this,t,s],null,s))this.data[a]=n[a];for(var a in this.dispatch("row-data-save-after",this),s)this.table.columnManager.getColumnsByFieldRoot(a).forEach(x=>{let P=this.getCell(x.getField());if(P){let U=x.getFieldValue(n);P.getValue()!=U&&(P.setValueProcessData(U),e&&P.cellRendered())}});e?(this.normalizeHeight(!0),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent())):(this.initialized=!1,this.height=0,this.heightStyled=""),this.dispatch("row-data-changed",this,e,s),this.dispatchExternal("rowUpdated",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),o()})}getData(s){return s?this.chain("row-data-retrieve",[this,s],null,this.data):this.data}getCell(s){return s=this.table.columnManager.findColumn(s),this.initialized||this.generateCells(),this.cells.find(function(t){return t.column===s})}getCellIndex(s){return this.cells.findIndex(function(e){return e===s})}findCell(s){return this.cells.find(e=>e.element===s)}getCells(){return this.initialized||this.generateCells(),this.cells}nextRow(){return this.table.rowManager.nextDisplayRow(this,!0)||!1}prevRow(){return this.table.rowManager.prevDisplayRow(this,!0)||!1}moveToRow(s,e){var t=this.table.rowManager.findRow(s);t?(this.table.rowManager.moveRowActual(this,t,!e),this.table.rowManager.refreshActiveData("display",!1,!0)):console.warn("Move Error - No matching row found:",s)}delete(){return this.dispatch("row-delete",this),this.deleteActual(),Promise.resolve()}deleteActual(s){this.table.rowManager.getRowIndex(this),this.detatchModules(),this.table.rowManager.deleteRow(this,s),this.deleteCells(),this.initialized=!1,this.heightInitialized=!1,this.element=!1,this.dispatch("row-deleted",this)}detatchModules(){this.dispatch("row-deleting",this)}deleteCells(){var s=this.cells.length;for(let e=0;e<s;e++)this.cells[0].delete()}wipe(){if(this.detatchModules(),this.deleteCells(),this.element){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.parentNode&&this.element.parentNode.removeChild(this.element)}this.element=!1,this.modules={}}getGroup(){return this.modules.group||!1}getComponent(){return this.component||(this.component=new Ge(this)),this.component}}var ze={avg:function(c,s,e){var t=0,n=void 0!==e.precision?e.precision:2;return c.length&&(t=c.reduce(function(o,r){return Number(o)+Number(r)}),t/=c.length,t=!1!==n?t.toFixed(n):t),parseFloat(t).toString()},max:function(c,s,e){var t=null,n=void 0!==e.precision&&e.precision;return c.forEach(function(o){((o=Number(o))>t||null===t)&&(t=o)}),null!==t?!1!==n?t.toFixed(n):t:""},min:function(c,s,e){var t=null,n=void 0!==e.precision&&e.precision;return c.forEach(function(o){((o=Number(o))<t||null===t)&&(t=o)}),null!==t?!1!==n?t.toFixed(n):t:""},sum:function(c,s,e){var t=0,n=void 0!==e.precision&&e.precision;return c.length&&c.forEach(function(o){o=Number(o),t+=isNaN(o)?0:Number(o)}),!1!==n?t.toFixed(n):t},concat:function(c,s,e){var t=0;return c.length&&(t=c.reduce(function(n,o){return String(n)+String(o)})),t},count:function(c,s,e){var t=0;return c.length&&c.forEach(function(n){n&&t++}),t}};let Pe=(()=>{class c extends d{constructor(e){super(e),this.topCalcs=[],this.botCalcs=[],this.genColumn=!1,this.topElement=this.createElement(),this.botElement=this.createElement(),this.topRow=!1,this.botRow=!1,this.topInitialized=!1,this.botInitialized=!1,this.registerTableOption("columnCalcs",!0),this.registerColumnOption("topCalc"),this.registerColumnOption("topCalcParams"),this.registerColumnOption("topCalcFormatter"),this.registerColumnOption("topCalcFormatterParams"),this.registerColumnOption("bottomCalc"),this.registerColumnOption("bottomCalcParams"),this.registerColumnOption("bottomCalcFormatter"),this.registerColumnOption("bottomCalcFormatterParams")}createElement(){var e=document.createElement("div");return e.classList.add("tabulator-calcs-holder"),e}initialize(){this.genColumn=new ye({field:"value"},this),this.subscribe("cell-value-changed",this.cellValueChanged.bind(this)),this.subscribe("column-init",this.initializeColumnCheck.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("column-moved",this.recalcActiveRows.bind(this)),this.subscribe("column-add",this.recalcActiveRows.bind(this)),this.subscribe("data-refreshed",this.recalcActiveRowsRefresh.bind(this)),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.registerTableFunction("getCalcResults",this.getResults.bind(this)),this.registerTableFunction("recalc",this.userRecalc.bind(this))}tableRedraw(e){this.recalc(this.table.rowManager.activeRows),e&&this.redraw()}userRecalc(){this.recalc(this.table.rowManager.activeRows)}visibleRows(e,t){return this.topRow&&t.unshift(this.topRow),this.botRow&&t.push(this.botRow),t}rowsUpdated(e){this.table.options.groupBy?this.recalcRowGroup(this):this.recalcActiveRows()}recalcActiveRowsRefresh(){this.table.options.groupBy&&this.table.options.dataTreeStartExpanded&&this.table.options.dataTree?this.recalcAll():this.recalcActiveRows()}recalcActiveRows(){this.recalc(this.table.rowManager.activeRows)}cellValueChanged(e){(e.column.definition.topCalc||e.column.definition.bottomCalc)&&(this.table.options.groupBy?(("table"==this.table.options.columnCalcs||"both"==this.table.options.columnCalcs)&&this.recalcActiveRows(),"table"!=this.table.options.columnCalcs&&this.recalcRowGroup(e.row)):this.recalcActiveRows())}initializeColumnCheck(e){(e.definition.topCalc||e.definition.bottomCalc)&&this.initializeColumn(e)}initializeColumn(e){var t=e.definition,n={topCalcParams:t.topCalcParams||{},botCalcParams:t.bottomCalcParams||{}};if(t.topCalc){switch(typeof t.topCalc){case"string":c.calculations[t.topCalc]?n.topCalc=c.calculations[t.topCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",t.topCalc);break;case"function":n.topCalc=t.topCalc}n.topCalc&&(e.modules.columnCalcs=n,this.topCalcs.push(e),"group"!=this.table.options.columnCalcs&&this.initializeTopRow())}if(t.bottomCalc){switch(typeof t.bottomCalc){case"string":c.calculations[t.bottomCalc]?n.botCalc=c.calculations[t.bottomCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",t.bottomCalc);break;case"function":n.botCalc=t.bottomCalc}n.botCalc&&(e.modules.columnCalcs=n,this.botCalcs.push(e),"group"!=this.table.options.columnCalcs&&this.initializeBottomRow())}}registerColumnField(){}removeCalcs(){var e=!1;this.topInitialized&&(this.topInitialized=!1,this.topElement.parentNode.removeChild(this.topElement),e=!0),this.botInitialized&&(this.botInitialized=!1,this.table.footerManager.remove(this.botElement),e=!0),e&&this.table.rowManager.adjustTableSize()}initializeTopRow(){this.topInitialized||(this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.topInitialized=!0)}initializeBottomRow(){this.botInitialized||(this.table.footerManager.prepend(this.botElement),this.botInitialized=!0)}scrollHorizontal(e){this.botInitialized&&this.botRow&&(this.botRow.getElement().style.marginLeft=-e+"px")}recalc(e){var t;if(this.topInitialized||this.botInitialized){if(this.rowsToData(e),this.topInitialized){for(this.topRow&&this.topRow.deleteCells(),t=this.generateRow("top",this.rowsToData(e)),this.topRow=t;this.topElement.firstChild;)this.topElement.removeChild(this.topElement.firstChild);this.topElement.appendChild(t.getElement()),t.initialize(!0)}if(this.botInitialized){for(this.botRow&&this.botRow.deleteCells(),t=this.generateRow("bottom",this.rowsToData(e)),this.botRow=t;this.botElement.firstChild;)this.botElement.removeChild(this.botElement.firstChild);this.botElement.appendChild(t.getElement()),t.initialize(!0)}this.table.rowManager.adjustTableSize(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()}}recalcRowGroup(e){this.recalcGroup(this.table.modules.groupRows.getRowGroup(e))}recalcAll(){(this.topCalcs.length||this.botCalcs.length)&&("group"!==this.table.options.columnCalcs&&this.recalcActiveRows(),this.table.options.groupBy&&"table"!==this.table.options.columnCalcs)&&this.table.modules.groupRows.getChildGroups().forEach(t=>{this.recalcGroup(t)})}recalcGroup(e){var t,n;e&&e.calcs&&(e.calcs.bottom&&(t=this.rowsToData(e.rows),n=this.generateRowData("bottom",t),e.calcs.bottom.updateData(n),e.calcs.bottom.reinitialize()),e.calcs.top&&(t=this.rowsToData(e.rows),n=this.generateRowData("top",t),e.calcs.top.updateData(n),e.calcs.top.reinitialize()))}generateTopRow(e){return this.generateRow("top",this.rowsToData(e))}generateBottomRow(e){return this.generateRow("bottom",this.rowsToData(e))}rowsToData(e){var t=[];return e.forEach(n=>{if(t.push(n.getData()),this.table.options.dataTree&&this.table.options.dataTreeChildColumnCalcs&&n.modules.dataTree&&n.modules.dataTree.open){var o=this.rowsToData(this.table.modules.dataTree.getFilteredTreeChildren(n));t=t.concat(o)}}),t}generateRow(e,t){var o,n=this.generateRowData(e,t);return this.table.modExists("mutator")&&this.table.modules.mutator.disable(),o=new $e(n,this,"calc"),this.table.modExists("mutator")&&this.table.modules.mutator.enable(),o.getElement().classList.add("tabulator-calcs","tabulator-calcs-"+e),o.component=!1,o.getComponent=()=>(o.component||(o.component=new ge(o)),o.component),o.generateCells=()=>{var r=[];this.table.columnManager.columnsByIndex.forEach(a=>{this.genColumn.setField(a.getField()),this.genColumn.hozAlign=a.hozAlign,this.genColumn.modules.format=a.definition[e+"CalcFormatter"]&&this.table.modExists("format")?{formatter:this.table.modules.format.getFormatter(a.definition[e+"CalcFormatter"]),params:a.definition[e+"CalcFormatterParams"]||{}}:{formatter:this.table.modules.format.getFormatter("plaintext"),params:{}},this.genColumn.definition.cssClass=a.definition.cssClass;var f=new Ye(this.genColumn,o);f.getElement(),f.column=a,f.setWidth(),a.cells.push(f),r.push(f),a.visible||f.hide()}),o.cells=r},o}generateRowData(e,t){var a,f,n={},r="top"==e?"topCalc":"botCalc";return("top"==e?this.topCalcs:this.botCalcs).forEach(function(y){var x=[];y.modules.columnCalcs&&y.modules.columnCalcs[r]&&(t.forEach(function(P){x.push(y.getFieldValue(P))}),a="function"==typeof y.modules.columnCalcs[f=r+"Params"]?y.modules.columnCalcs[f](x,t):y.modules.columnCalcs[f],y.setFieldValue(n,y.modules.columnCalcs[r](x,t,a)))}),n}hasTopCalcs(){return!!this.topCalcs.length}hasBottomCalcs(){return!!this.botCalcs.length}redraw(){this.topRow&&this.topRow.normalizeHeight(!0),this.botRow&&this.botRow.normalizeHeight(!0)}getResults(){var e={};return this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.groupRows.getGroups(!0).forEach(n=>{e[n.getKey()]=this.getGroupResults(n)}):e={top:this.topRow?this.topRow.getData():{},bottom:this.botRow?this.botRow.getData():{}},e}getGroupResults(e){var t=e._getSelf(),n=e.getSubGroups(),o={};return n.forEach(a=>{o[a.getKey()]=this.getGroupResults(a)}),{top:t.calcs.top?t.calcs.top.getData():{},bottom:t.calcs.bottom?t.calcs.bottom.getData():{},groups:o}}}return c.moduleName="columnCalcs",c.calculations=ze,c})(),ee=(()=>{class c extends d{constructor(e){super(e),this.indent=10,this.field="",this.collapseEl=null,this.expandEl=null,this.branchEl=null,this.elementField=!1,this.startOpen=function(){},this.displayIndex=0,this.registerTableOption("dataTree",!1),this.registerTableOption("dataTreeFilter",!0),this.registerTableOption("dataTreeSort",!0),this.registerTableOption("dataTreeElementColumn",!1),this.registerTableOption("dataTreeBranchElement",!0),this.registerTableOption("dataTreeChildIndent",9),this.registerTableOption("dataTreeChildField","_children"),this.registerTableOption("dataTreeCollapseElement",!1),this.registerTableOption("dataTreeExpandElement",!1),this.registerTableOption("dataTreeStartExpanded",!1),this.registerTableOption("dataTreeChildColumnCalcs",!1),this.registerTableOption("dataTreeSelectPropagate",!1),this.registerComponentFunction("row","treeCollapse",this.collapseRow.bind(this)),this.registerComponentFunction("row","treeExpand",this.expandRow.bind(this)),this.registerComponentFunction("row","treeToggle",this.toggleRow.bind(this)),this.registerComponentFunction("row","getTreeParent",this.getTreeParent.bind(this)),this.registerComponentFunction("row","getTreeChildren",this.getRowChildren.bind(this)),this.registerComponentFunction("row","addTreeChild",this.addTreeChildRow.bind(this)),this.registerComponentFunction("row","isTreeExpanded",this.isRowExpanded.bind(this))}initialize(){if(this.table.options.dataTree){var e=null,t=this.table.options;switch(this.field=t.dataTreeChildField,this.indent=t.dataTreeChildIndent,t.dataTreeBranchElement&&(!0===t.dataTreeBranchElement?(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch")):"string"==typeof t.dataTreeBranchElement?((e=document.createElement("div")).innerHTML=t.dataTreeBranchElement,this.branchEl=e.firstChild):this.branchEl=t.dataTreeBranchElement),t.dataTreeCollapseElement?"string"==typeof t.dataTreeCollapseElement?((e=document.createElement("div")).innerHTML=t.dataTreeCollapseElement,this.collapseEl=e.firstChild):this.collapseEl=t.dataTreeCollapseElement:(this.collapseEl=document.createElement("div"),this.collapseEl.classList.add("tabulator-data-tree-control"),this.collapseEl.tabIndex=0,this.collapseEl.innerHTML="<div class='tabulator-data-tree-control-collapse'></div>"),t.dataTreeExpandElement?"string"==typeof t.dataTreeExpandElement?((e=document.createElement("div")).innerHTML=t.dataTreeExpandElement,this.expandEl=e.firstChild):this.expandEl=t.dataTreeExpandElement:(this.expandEl=document.createElement("div"),this.expandEl.classList.add("tabulator-data-tree-control"),this.expandEl.tabIndex=0,this.expandEl.innerHTML="<div class='tabulator-data-tree-control-expand'></div>"),typeof t.dataTreeStartExpanded){case"boolean":this.startOpen=function(n,o){return t.dataTreeStartExpanded};break;case"function":this.startOpen=t.dataTreeStartExpanded;break;default:this.startOpen=function(n,o){return t.dataTreeStartExpanded[o]}}this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("row-deleted",this.rowDelete.bind(this),0),this.subscribe("row-data-changed",this.rowDataChanged.bind(this),10),this.subscribe("cell-value-updated",this.cellValueChanged.bind(this)),this.subscribe("edit-cancelled",this.cellValueChanged.bind(this)),this.subscribe("column-moving-rows",this.columnMoving.bind(this)),this.subscribe("table-built",this.initializeElementField.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),30)}}initializeElementField(){var e=this.table.columnManager.getFirstVisibleColumn();this.elementField=this.table.options.dataTreeElementColumn||!!e&&e.field}getRowChildren(e){return this.getTreeChildren(e,!0)}columnMoving(){var e=[];return this.table.rowManager.rows.forEach(t=>{e=e.concat(this.getTreeChildren(t,!1,!0))}),e}rowDataChanged(e,t,n){this.redrawNeeded(n)&&(this.initializeRow(e),t&&(this.layoutRow(e),this.refreshData(!0)))}cellValueChanged(e){e.column.getField()===this.elementField&&this.layoutRow(e.row)}initializeRow(e){var t=e.getData()[this.field],n=Array.isArray(t),o=n||!n&&"object"==typeof t&&null!==t;!o&&e.modules.dataTree&&e.modules.dataTree.branchEl&&e.modules.dataTree.branchEl.parentNode.removeChild(e.modules.dataTree.branchEl),!o&&e.modules.dataTree&&e.modules.dataTree.controlEl&&e.modules.dataTree.controlEl.parentNode.removeChild(e.modules.dataTree.controlEl),e.modules.dataTree={index:e.modules.dataTree?e.modules.dataTree.index:0,open:!!o&&(e.modules.dataTree?e.modules.dataTree.open:this.startOpen(e.getComponent(),0)),controlEl:!(!e.modules.dataTree||!o)&&e.modules.dataTree.controlEl,branchEl:!(!e.modules.dataTree||!o)&&e.modules.dataTree.branchEl,parent:!!e.modules.dataTree&&e.modules.dataTree.parent,children:o}}reinitializeRowChildren(e){this.getTreeChildren(e,!1,!0).forEach(function(n){n.reinitialize(!0)})}layoutRow(e){var n=(this.elementField?e.getCell(this.elementField):e.getCells()[0]).getElement(),o=e.modules.dataTree;o.branchEl&&(o.branchEl.parentNode&&o.branchEl.parentNode.removeChild(o.branchEl),o.branchEl=!1),o.controlEl&&(o.controlEl.parentNode&&o.controlEl.parentNode.removeChild(o.controlEl),o.controlEl=!1),this.generateControlElement(e,n),e.getElement().classList.add("tabulator-tree-level-"+o.index),o.index&&(this.branchEl?(o.branchEl=this.branchEl.cloneNode(!0),n.insertBefore(o.branchEl,n.firstChild),this.table.rtl?o.branchEl.style.marginRight=(o.branchEl.offsetWidth+o.branchEl.style.marginLeft)*(o.index-1)+o.index*this.indent+"px":o.branchEl.style.marginLeft=(o.branchEl.offsetWidth+o.branchEl.style.marginRight)*(o.index-1)+o.index*this.indent+"px"):this.table.rtl?n.style.paddingRight=parseInt(window.getComputedStyle(n,null).getPropertyValue("padding-right"))+o.index*this.indent+"px":n.style.paddingLeft=parseInt(window.getComputedStyle(n,null).getPropertyValue("padding-left"))+o.index*this.indent+"px")}generateControlElement(e,o){var n=e.modules.dataTree,r=(o=o||e.getCells()[0].getElement(),n.controlEl);!1!==n.children&&(n.open?(n.controlEl=this.collapseEl.cloneNode(!0),n.controlEl.addEventListener("click",a=>{a.stopPropagation(),this.collapseRow(e)})):(n.controlEl=this.expandEl.cloneNode(!0),n.controlEl.addEventListener("click",a=>{a.stopPropagation(),this.expandRow(e)})),n.controlEl.addEventListener("mousedown",a=>{a.stopPropagation()}),r&&r.parentNode===o?r.parentNode.replaceChild(n.controlEl,r):o.insertBefore(n.controlEl,o.firstChild))}setDisplayIndex(e){this.displayIndex=e}getDisplayIndex(){return this.displayIndex}getRows(e){var t=[];return e.forEach((n,o)=>{var r;t.push(n),n instanceof $e&&(n.create(),!(r=n.modules.dataTree.children).index&&!1!==r.children&&this.getChildren(n).forEach(f=>{f.create(),t.push(f)}))}),t}getChildren(e,t){var n=e.modules.dataTree,o=[],r=[];return!1!==n.children&&(n.open||t)&&(Array.isArray(n.children)||(n.children=this.generateChildren(e)),o=this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(n.children):n.children,this.table.modExists("sort")&&this.table.options.dataTreeSort&&this.table.modules.sort.sort(o),o.forEach(a=>{r.push(a),this.getChildren(a).forEach(y=>{r.push(y)})})),r}generateChildren(e){var t=[],n=e.getData()[this.field];return Array.isArray(n)||(n=[n]),n.forEach(o=>{var r=new $e(o||{},this.table.rowManager);r.create(),r.modules.dataTree.index=e.modules.dataTree.index+1,r.modules.dataTree.parent=e,r.modules.dataTree.children&&(r.modules.dataTree.open=this.startOpen(r.getComponent(),r.modules.dataTree.index)),t.push(r)}),t}expandRow(e,t){var n=e.modules.dataTree;!1!==n.children&&(n.open=!0,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowExpanded",e.getComponent(),e.modules.dataTree.index))}collapseRow(e){var t=e.modules.dataTree;!1!==t.children&&(t.open=!1,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowCollapsed",e.getComponent(),e.modules.dataTree.index))}toggleRow(e){var t=e.modules.dataTree;!1!==t.children&&(t.open?this.collapseRow(e):this.expandRow(e))}isRowExpanded(e){return e.modules.dataTree.open}getTreeParent(e){return!!e.modules.dataTree.parent&&e.modules.dataTree.parent.getComponent()}getFilteredTreeChildren(e){var t=e.modules.dataTree,n=[];return t.children&&(Array.isArray(t.children)||(t.children=this.generateChildren(e)),(this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(t.children):t.children).forEach(r=>{r instanceof $e&&n.push(r)})),n}rowDelete(e){var n,t=e.modules.dataTree.parent;t&&(!1!==(n=this.findChildIndex(e,t))&&t.data[this.field].splice(n,1),t.data[this.field].length||delete t.data[this.field],this.initializeRow(t),this.layoutRow(t)),this.refreshData(!0)}addTreeChildRow(e,t,n,o){var r=!1;"string"==typeof t&&(t=JSON.parse(t)),Array.isArray(e.data[this.field])||(e.data[this.field]=[],e.modules.dataTree.open=this.startOpen(e.getComponent(),e.modules.dataTree.index)),void 0!==o&&!1!==(r=this.findChildIndex(o,e))&&e.data[this.field].splice(n?r:r+1,0,t),!1===r&&(n?e.data[this.field].unshift(t):e.data[this.field].push(t)),this.initializeRow(e),this.layoutRow(e),this.refreshData(!0)}findChildIndex(e,t){var n=!1;return"object"==typeof e?e instanceof $e?n=e.data:e instanceof RowComponent?n=e._getSelf().data:"undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&t.modules.dataTree&&(n=t.modules.dataTree.children.find(o=>o instanceof $e&&o.element===e))&&(n=n.data):n=null!=e&&t.data[this.field].find(o=>o.data[this.table.options.index]==e),n&&(Array.isArray(t.data[this.field])&&(n=t.data[this.field].indexOf(n)),-1==n&&(n=!1)),n}getTreeChildren(e,t,n){var o=e.modules.dataTree,r=[];return o.children&&(Array.isArray(o.children)||(o.children=this.generateChildren(e)),o.children.forEach(a=>{a instanceof $e&&(r.push(t?a.getComponent():a),n&&(r=r.concat(this.getTreeChildren(a,t,n))))})),r}getChildField(){return this.field}redrawNeeded(e){return!!this.field&&void 0!==e[this.field]||!!this.elementField&&void 0!==e[this.elementField]}}return c.moduleName="dataTree",c})();var j={csv:function se(c,s,e){var t=s&&s.delimiter?s.delimiter:",",n=[],o=[];c.forEach(r=>{var a=[];switch(r.type){case"group":console.warn("Download Warning - CSV downloader cannot process row groups");break;case"calc":console.warn("Download Warning - CSV downloader cannot process column calculations");break;case"header":r.columns.forEach((f,y)=>{f&&1===f.depth&&(o[y]=null==f.value?"":'"'+String(f.value).split('"').join('""')+'"')});break;case"row":r.columns.forEach(f=>{if(f){switch(typeof f.value){case"object":f.value=JSON.stringify(f.value);break;case"undefined":case"null":f.value=""}a.push('"'+String(f.value).split('"').join('""')+'"')}}),n.push(a.join(t))}}),o.length&&n.unshift(o.join(t)),n=n.join("\n"),s.bom&&(n="\ufeff"+n),e(n,"text/csv")},json:function we(c,s,e){var t=[];c.forEach(n=>{var o={};switch(n.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":n.columns.forEach(r=>{r&&(o[r.component.getTitleDownload()||r.component.getField()]=r.value)}),t.push(o)}}),e(t=JSON.stringify(t,null,"\t"),"application/json")},jsonLines:function Ve(c,s,e){const t=[];c.forEach(n=>{const o={};switch(n.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":n.columns.forEach(r=>{r&&(o[r.component.getTitleDownload()||r.component.getField()]=r.value)}),t.push(JSON.stringify(o))}}),e(t.join("\n"),"application/x-ndjson")},pdf:function ce(c,s,e){var t=[],n=[],o={},r=s.rowGroupStyles||{fontStyle:"bold",fontSize:12,cellPadding:6,fillColor:220},a=s.rowCalcStyles||{fontStyle:"bold",fontSize:10,cellPadding:4,fillColor:232},f=s.jsPDF||{},y=s&&s.title?s.title:"";function x(U,X){var he=[];return U.columns.forEach(me=>{var be;if(me){switch(typeof me.value){case"object":me.value=JSON.stringify(me.value);break;case"undefined":case"null":me.value=""}be={content:me.value,colSpan:me.width,rowSpan:me.height},X&&(be.styles=X),he.push(be)}}),he}f.orientation||(f.orientation=s.orientation||"landscape"),f.unit||(f.unit="pt"),c.forEach(U=>{switch(U.type){case"header":t.push(x(U));break;case"group":n.push(x(U,r));break;case"calc":n.push(x(U,a));break;case"row":n.push(x(U))}});var P=new jspdf.jsPDF(f);s&&s.autoTable&&(o="function"==typeof s.autoTable?s.autoTable(P)||{}:s.autoTable),y&&(o.didDrawPage=function(U){P.text(y,40,30)}),o.head=t,o.body=n,P.autoTable(o),s&&s.documentProcessing&&s.documentProcessing(P),e(P.output("arraybuffer"),"application/pdf")},xlsx:function Ne(c,s,e){var n=s.sheetName||"Sheet1",o=XLSX.utils.book_new(),r=new l(this);function f(){var P=[],U=[],X={},he={s:{c:0,r:0},e:{c:c[0]?c[0].columns.reduce((me,be)=>me+(be&&be.width?be.width:1),0):0,r:c.length}};return c.forEach((me,be)=>{var Ie=[];me.columns.forEach(function(Ue,mt){Ue?(Ie.push(Ue.value instanceof Date||"object"!=typeof Ue.value?Ue.value:JSON.stringify(Ue.value)),(Ue.width>1||Ue.height>-1)&&(Ue.height>1||Ue.width>1)&&U.push({s:{r:be,c:mt},e:{r:be+Ue.height-1,c:mt+Ue.width-1}})):Ie.push("")}),P.push(Ie)}),XLSX.utils.sheet_add_aoa(X,P),X["!ref"]=XLSX.utils.encode_range(he),U.length&&(X["!merges"]=U),X}if(o.SheetNames=[],o.Sheets={},s.sheetOnly)e(f());else{if(s.sheets)for(var y in s.sheets)!0===s.sheets[y]?(o.SheetNames.push(y),o.Sheets[y]=f()):(o.SheetNames.push(y),r.commsSend(s.sheets[y],"download","intercept",{type:"xlsx",options:{sheetOnly:!0},active:this.active,intercept:function(P){o.Sheets[y]=P}}));else o.SheetNames.push(n),o.Sheets[n]=f();s.documentProcessing&&(o=s.documentProcessing(o)),e(function x(P){for(var U=new ArrayBuffer(P.length),X=new Uint8Array(U),he=0;he!=P.length;++he)X[he]=255&P.charCodeAt(he);return U}(XLSX.write(o,{bookType:"xlsx",bookSST:!0,type:"binary"})),"application/octet-stream")}},html:function Me(c,s,e){this.modExists("export",!0)&&e(this.modules.export.genereateHTMLTable(c),"text/html")}};let q=(()=>{class c extends d{constructor(e){super(e),this.registerTableOption("downloadReady",function(t,n){return n}),this.registerTableOption("downloadConfig",{}),this.registerTableOption("downloadRowRange","active"),this.registerColumnOption("download"),this.registerColumnOption("titleDownload")}initialize(){this.registerTableFunction("download",this.download.bind(this)),this.registerTableFunction("downloadToTab",this.downloadToTab.bind(this))}downloadToTab(e,t,n,o){this.download(e,t,n,o,!0)}download(e,t,n,o,r){var a=!1;if("function"==typeof e?a=e:c.downloaders[e]?a=c.downloaders[e]:console.warn("Download Error - No such download type found: ",e),a){var y=this.generateExportList(o);a.call(this.table,y,n||{},function f(x,P){r?!0===r?this.triggerDownload(x,P,e,t,!0):r(x):this.triggerDownload(x,P,e,t)}.bind(this))}}generateExportList(e){var t=this.table.modules.export.generateExportList(this.table.options.downloadConfig,!1,e||this.table.options.downloadRowRange,"download"),n=this.table.options.groupHeaderDownload;return n&&!Array.isArray(n)&&(n=[n]),t.forEach(o=>{var r;"group"===o.type&&(r=o.columns[0],n&&n[o.indent]&&(r.value=n[o.indent](r.value,o.component._group.getRowCount(),o.component._group.getData(),o.component)))}),t}triggerDownload(e,t,n,y,r){var a=document.createElement("a"),f=new Blob([e],{type:t});y=y||"Tabulator."+("function"==typeof n?"txt":n),(f=this.table.options.downloadReady(e,f))&&(r?window.open(window.URL.createObjectURL(f)):navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(f,y):(a.setAttribute("href",window.URL.createObjectURL(f)),a.setAttribute("download",y),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)),this.dispatchExternal("downloadComplete"))}commsReceived(e,t,n){"intercept"===t&&this.download(n.type,"",n.options,n.active,n.intercept)}}return c.moduleName="download",c.downloaders=j,c})();function _e(c,s){var e=s.mask,t=void 0!==s.maskLetterChar?s.maskLetterChar:"A",n=void 0!==s.maskNumberChar?s.maskNumberChar:"9",o=void 0!==s.maskWildcardChar?s.maskWildcardChar:"*";function r(a){var f=e[a];void 0!==f&&f!==o&&f!==t&&f!==n&&(c.value=c.value+""+f,r(a+1))}c.addEventListener("keydown",a=>{var f=c.value.length,y=a.key;if(a.keyCode>46){if(f>=e.length)return a.preventDefault(),a.stopPropagation(),!1;switch(e[f]){case t:if(y.toUpperCase()==y.toLowerCase())return a.preventDefault(),a.stopPropagation(),!1;break;case n:if(isNaN(y))return a.preventDefault(),a.stopPropagation(),!1;break;case o:break;default:if(y!==e[f])return a.preventDefault(),a.stopPropagation(),!1}}}),c.addEventListener("keyup",a=>{a.keyCode>46&&s.maskAutoFill&&r(c.value.length)}),c.placeholder||(c.placeholder=e),s.maskAutoFill&&r(c.value.length)}var Te={input:function Ee(c,s,e,t,n){var o=c.getValue(),r=document.createElement("input");if(r.setAttribute("type",n.search?"search":"text"),r.style.padding="4px",r.style.width="100%",r.style.boxSizing="border-box",n.elementAttributes&&"object"==typeof n.elementAttributes)for(let f in n.elementAttributes)"+"==f.charAt(0)?(f=f.slice(1),r.setAttribute(f,r.getAttribute(f)+n.elementAttributes["+"+f])):r.setAttribute(f,n.elementAttributes[f]);function a(f){null==o&&""!==r.value||r.value!==o?e(r.value)&&(o=r.value):t()}return r.value=void 0!==o?o:"",s(function(){r.focus({preventScroll:!0}),r.style.height="100%"}),r.addEventListener("change",a),r.addEventListener("blur",a),r.addEventListener("keydown",function(f){switch(f.keyCode){case 13:a();break;case 27:t();break;case 35:case 36:f.stopPropagation()}}),n.mask&&_e(r,n),r},textarea:function Oe(c,s,e,t,n){var o=c.getValue(),r=n.verticalNavigation||"hybrid",a=String(null!=o?o:""),y=(a.match(/(?:\r\n|\r|\n)/g),document.createElement("textarea")),x=0;if(y.style.display="block",y.style.padding="2px",y.style.height="100%",y.style.width="100%",y.style.boxSizing="border-box",y.style.whiteSpace="pre-wrap",y.style.resize="none",n.elementAttributes&&"object"==typeof n.elementAttributes)for(let U in n.elementAttributes)"+"==U.charAt(0)?(U=U.slice(1),y.setAttribute(U,y.getAttribute(U)+n.elementAttributes["+"+U])):y.setAttribute(U,n.elementAttributes[U]);function P(U){null==o&&""!==y.value||y.value!==o?(e(y.value)&&(o=y.value),setTimeout(function(){c.getRow().normalizeHeight()},300)):t()}return y.value=a,s(function(){y.focus({preventScroll:!0}),y.style.height="100%",y.style.height=y.scrollHeight+"px",c.getRow().normalizeHeight()}),y.addEventListener("change",P),y.addEventListener("blur",P),y.addEventListener("keyup",function(){y.style.height="";var U=y.scrollHeight;y.style.height=U+"px",U!=x&&(x=U,c.getRow().normalizeHeight())}),y.addEventListener("keydown",function(U){switch(U.keyCode){case 27:t();break;case 38:("editor"==r||"hybrid"==r&&y.selectionStart)&&(U.stopImmediatePropagation(),U.stopPropagation());break;case 40:("editor"==r||"hybrid"==r&&y.selectionStart!==y.value.length)&&(U.stopImmediatePropagation(),U.stopPropagation());break;case 35:case 36:U.stopPropagation()}}),n.mask&&_e(y,n),y},number:function Je(c,s,e,t,n){var o=c.getValue(),r=n.verticalNavigation||"editor",a=document.createElement("input");if(a.setAttribute("type","number"),void 0!==n.max&&a.setAttribute("max",n.max),void 0!==n.min&&a.setAttribute("min",n.min),void 0!==n.step&&a.setAttribute("step",n.step),a.style.padding="4px",a.style.width="100%",a.style.boxSizing="border-box",n.elementAttributes&&"object"==typeof n.elementAttributes)for(let x in n.elementAttributes)"+"==x.charAt(0)?(x=x.slice(1),a.setAttribute(x,a.getAttribute(x)+n.elementAttributes["+"+x])):a.setAttribute(x,n.elementAttributes[x]);a.value=o;var f=function(x){y()};function y(){var x=a.value;!isNaN(x)&&""!==x&&(x=Number(x)),x!==o?e(x)&&(o=x):t()}return s(function(){a.removeEventListener("blur",f),a.focus({preventScroll:!0}),a.style.height="100%",a.addEventListener("blur",f)}),a.addEventListener("keydown",function(x){switch(x.keyCode){case 13:y();break;case 27:t();break;case 38:case 40:"editor"==r&&(x.stopImmediatePropagation(),x.stopPropagation());break;case 35:case 36:x.stopPropagation()}}),n.mask&&_e(a,n),a},range:function rt(c,s,e,t,n){var o=c.getValue(),r=document.createElement("input");if(r.setAttribute("type","range"),void 0!==n.max&&r.setAttribute("max",n.max),void 0!==n.min&&r.setAttribute("min",n.min),void 0!==n.step&&r.setAttribute("step",n.step),r.style.padding="4px",r.style.width="100%",r.style.boxSizing="border-box",n.elementAttributes&&"object"==typeof n.elementAttributes)for(let f in n.elementAttributes)"+"==f.charAt(0)?(f=f.slice(1),r.setAttribute(f,r.getAttribute(f)+n.elementAttributes["+"+f])):r.setAttribute(f,n.elementAttributes[f]);function a(){var f=r.value;!isNaN(f)&&""!==f&&(f=Number(f)),f!=o?e(f)&&(o=f):t()}return r.value=o,s(function(){r.focus({preventScroll:!0}),r.style.height="100%"}),r.addEventListener("blur",function(f){a()}),r.addEventListener("keydown",function(f){switch(f.keyCode){case 13:a();break;case 27:t()}}),r},select:function at(c,s,e,t,n){var o=this,r=c.getElement(),a=c.getValue(),f=n.verticalNavigation||"editor",y=void 0!==a||null===a?Array.isArray(a)?a:[a]:void 0!==n.defaultValue?n.defaultValue:[],x=document.createElement("input"),P=document.createElement("div"),U=n.multiselect,X=[],he={},me=[],be=[],Ie=!0,Ue=!1,mt="",vt=null;function At(re){var Et,Ae={},lt=o.table.getData();return(Et=re?o.table.columnManager.getColumnByField(re):c.getColumn()._getSelf())?lt.forEach(function(xi){var jt=Et.getFieldValue(xi);null!=jt&&""!==jt&&(Ae[jt]=!0)}):console.warn("unable to find matching column to create select lookup list:",re),Object.keys(Ae)}function xt(re,Ae){!U&&he&&he.element&&he.element.classList.remove("active"),he&&he.element&&he.element.classList.remove("focused"),he=re,re.element&&(re.element.classList.add("focused"),Ae&&re.element.classList.add("active")),re&&re.element&&re.element.scrollIntoView&&re.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}function Bt(re){-1==be.indexOf(re)&&(be.push(re),xt(re,!0)),Re()}function St(re){var Ae=be[re];re>-1&&(be.splice(re,1),Ae.element&&Ae.element.classList.remove("active"))}function et(re){re||(re=he);var Ae=be.indexOf(re);Ae>-1?St(Ae):(!0!==U&&be.length>=U&&St(0),Bt(re)),Re()}function Vt(re){D(),re||(re=he),re&&(x.value=re.label,e(re.value)),y=[re.value]}function Nt(re){re||D();var Ae=[];be.forEach(lt=>{Ae.push(lt.value)}),y=Ae,e(Ae)}function Re(){var re=[];be.forEach(Ae=>{re.push(Ae.label)}),x.value=re.join(", "),!1===o.currentCell&&Nt(!0)}function u(){D(),t()}function D(){P.parentNode&&P.parentNode.removeChild(P),function Q(){o.table.rowManager.element.removeEventListener("scroll",u)}()}if((Array.isArray(n)||!Array.isArray(n)&&"object"==typeof n&&!n.values)&&(console.warn("DEPRECATION WARNING - values for the select editor must now be passed into the values property of the editorParams object, not as the editorParams object"),n={values:n}),x.setAttribute("type","text"),x.style.padding="4px",x.style.width="100%",x.style.boxSizing="border-box",x.style.cursor="default",x.readOnly=0!=this.currentCell,n.elementAttributes&&"object"==typeof n.elementAttributes)for(let re in n.elementAttributes)"+"==re.charAt(0)?(re=re.slice(1),x.setAttribute(re,x.getAttribute(re)+n.elementAttributes["+"+re])):x.setAttribute(re,n.elementAttributes[re]);return x.value=void 0!==a||null===a?a:"",x.addEventListener("search",function(re){x.value||(function p(){var re=be.length;for(let Ae=0;Ae<re;Ae++)St(0)}(),Nt())}),x.addEventListener("keydown",function(re){var Ae;switch(re.keyCode){case 38:Ae=X.indexOf(he),("editor"==f||"hybrid"==f&&Ae)&&(re.stopImmediatePropagation(),re.stopPropagation(),re.preventDefault(),Ae>0&&xt(X[Ae-1],!U));break;case 40:Ae=X.indexOf(he),("editor"==f||"hybrid"==f&&Ae<X.length-1)&&(re.stopImmediatePropagation(),re.stopPropagation(),re.preventDefault(),Ae<X.length-1&&xt(-1==Ae?X[0]:X[Ae+1],!U));break;case 37:case 39:re.stopImmediatePropagation(),re.stopPropagation(),re.preventDefault();break;case 13:U?et():Vt();break;case 27:u();break;case 9:break;default:!1===o.currentCell&&re.preventDefault(),re.keyCode>=38&&re.keyCode<=90&&function Be(re){clearTimeout(vt);var Ae=String.fromCharCode(event.keyCode).toLowerCase();mt+=Ae.toLowerCase();var lt=X.find(Et=>void 0!==Et.label&&Et.label.toLowerCase().startsWith(mt));lt&&xt(lt,!U),vt=setTimeout(()=>{mt=""},800)}()}}),x.addEventListener("blur",function(re){Ie&&(U?Nt():u())}),x.addEventListener("focus",function(re){Ue||function h(){if(be=[],!P.parentNode){!function kt(re,Ae){var lt=[],Et=[];function xi(ut){return Ae.indexOf((ut={label:ut.label,value:ut.value,itemParams:ut.itemParams,elementAttributes:ut.elementAttributes,element:!1}).value)>-1&&Bt(ut),lt.push(ut),Et.push(ut),ut}if("function"==typeof re&&(re=re(c)),Array.isArray(re))re.forEach(function(Tt){var ut;"object"==typeof Tt?Tt.options?(Et.push(ut={label:Tt.label,group:!0,itemParams:Tt.itemParams,elementAttributes:Tt.elementAttributes,element:!1}),Tt.options.forEach(function(Ui){xi(Ui)})):xi(Tt):(Ae.indexOf((ut={label:Tt,value:Tt,element:!1}).value)>-1&&Bt(ut),lt.push(ut),Et.push(ut))});else for(var jt in re){var Si={label:re[jt],value:jt,element:!1};Ae.indexOf(Si.value)>-1&&Bt(Si),lt.push(Si),Et.push(Si)}n.sortValuesList&&(lt.sort((Tt,ut)=>Tt.label<ut.label?-1:Tt.label>ut.label?1:0),Et.sort((Tt,ut)=>Tt.label<ut.label?-1:Tt.label>ut.label?1:0),"asc"!==n.sortValuesList&&(lt.reverse(),Et.reverse())),X=lt,me=Et,function It(){for(;P.firstChild;)P.removeChild(P.firstChild);me.forEach(function(re){var Ae=re.element;if(!Ae){if(Ae=document.createElement("div"),re.label=n.listItemFormatter?n.listItemFormatter(re.value,re.label,c,Ae,re.itemParams):re.label,re.group?(Ae.classList.add("tabulator-edit-select-list-group"),Ae.tabIndex=0,Ae.innerHTML=""===re.label?"&nbsp;":re.label):(Ae.classList.add("tabulator-edit-select-list-item"),Ae.tabIndex=0,Ae.innerHTML=""===re.label?"&nbsp;":re.label,Ae.addEventListener("click",function(){Ue=!0,setTimeout(()=>{Ue=!1},10),U?(et(re),x.focus()):Vt(re)}),be.indexOf(re)>-1&&Ae.classList.add("active")),re.elementAttributes&&"object"==typeof re.elementAttributes)for(let lt in re.elementAttributes)"+"==lt.charAt(0)?(lt=lt.slice(1),Ae.setAttribute(lt,x.getAttribute(lt)+re.elementAttributes["+"+lt])):Ae.setAttribute(lt,re.elementAttributes[lt]);Ae.addEventListener("mousedown",function(){Ie=!1,setTimeout(function(){Ie=!0},10)}),re.element=Ae}P.appendChild(Ae)})}()}(!0===n.values?At():"string"==typeof n.values?At(n.values):n.values||[],y);var re=F.elOffset(r);P.style.minWidth=r.offsetWidth+"px",P.style.top=re.top+r.offsetHeight+"px",P.style.left=re.left+"px",P.addEventListener("mousedown",function(Ae){Ie=!1,setTimeout(function(){Ie=!0},10)}),document.body.appendChild(P)}}()}),(P=document.createElement("div")).classList.add("tabulator-edit-select-list"),s(function(){x.style.height="100%",x.focus({preventScroll:!0})}),setTimeout(()=>{this.table.rowManager.element.addEventListener("scroll",u)},10),x},autocomplete:function ht(c,s,e,t,n){var o=this,r=c.getElement(),a=c.getValue(),f=n.verticalNavigation||"editor",y=void 0!==a||null===a?a:void 0!==n.defaultValue?n.defaultValue:"",x=document.createElement("input"),P=document.createElement("div"),U=[],X=!1,he=!0,me=!1;if(x.setAttribute("type","search"),x.style.padding="4px",x.style.width="100%",x.style.boxSizing="border-box",n.elementAttributes&&"object"==typeof n.elementAttributes)for(let Re in n.elementAttributes)"+"==Re.charAt(0)?(Re=Re.slice(1),x.setAttribute(Re,x.getAttribute(Re)+n.elementAttributes["+"+Re])):x.setAttribute(Re,n.elementAttributes[Re]);function be(){!0===n.values?me=Ie():"string"==typeof n.values&&(me=Ie(n.values))}function Ie(Re){var h,p={},u=o.table.getData();return(h=Re?o.table.columnManager.getColumnByField(Re):c.getColumn()._getSelf())?(u.forEach(function(D){var Q=h.getFieldValue(D);null!=Q&&""!==Q&&(p[Q]=!0)}),p=n.sortValuesList?"asc"==n.sortValuesList?Object.keys(p).sort():Object.keys(p).sort().reverse():Object.keys(p)):console.warn("unable to find matching column to create autocomplete lookup list:",Re),p}function Ue(Re,p){var h,D,u=[];h=me||n.values||[],n.searchFunc?(u=n.searchFunc(Re,h))instanceof Promise?(mt(void 0!==n.searchingPlaceholder?n.searchingPlaceholder:"Searching..."),u.then(Q=>{kt(vt(Q),p)}).catch(Q=>{console.err("error in autocomplete search promise:",Q)})):kt(vt(u),p):(D=vt(h),""===Re?n.showListOnEmpty&&(u=D):D.forEach(function(Q){(null!==Q.value||void 0!==Q.value)&&(String(Q.value).toLowerCase().indexOf(String(Re).toLowerCase())>-1||String(Q.title).toLowerCase().indexOf(String(Re).toLowerCase())>-1)&&u.push(Q)}),kt(u,p))}function mt(Re){var p=document.createElement("div");At(),!1!==Re&&(p.classList.add("tabulator-edit-select-list-notice"),p.tabIndex=0,Re instanceof Node?p.appendChild(Re):p.innerHTML=Re,P.appendChild(p))}function vt(Re){var p=[];if(Array.isArray(Re))Re.forEach(function(D){var Q={};"object"==typeof D?(Q.title=n.listItemFormatter?n.listItemFormatter(D.value,D.label):D.label,Q.value=D.value):(Q.title=n.listItemFormatter?n.listItemFormatter(D,D):D,Q.value=D),p.push(Q)});else for(var u in Re){var h={title:n.listItemFormatter?n.listItemFormatter(u,Re[u]):Re[u],value:u};p.push(h)}return p}function At(){for(;P.firstChild;)P.removeChild(P.firstChild)}function kt(Re,p){Re.length?function It(Re,p){var u=!1;At(),(U=Re).forEach(function(h){var D=h.element;D||((D=document.createElement("div")).classList.add("tabulator-edit-select-list-item"),D.tabIndex=0,D.innerHTML=h.title,D.addEventListener("click",function(Q){St(h),xt()}),D.addEventListener("mousedown",function(Q){he=!1,setTimeout(function(){he=!0},10)}),h.element=D,p&&h.value==a&&(x.value=h.title,h.element.classList.add("active"),u=!0),h===X&&(h.element.classList.add("active"),u=!0)),P.appendChild(D)}),u||St(!1)}(Re,p):n.emptyPlaceholder&&mt(n.emptyPlaceholder)}function xt(){et(),X?a!==X.value?(a=X.value,x.value=X.title,e(X.value)):t():n.freetext||n.allowEmpty&&""===x.value?(a=x.value,e(x.value)):t()}function St(Re,p){X&&X.element&&X.element.classList.remove("active"),X=Re,Re&&Re.element&&Re.element.classList.add("active"),Re&&Re.element&&Re.element.scrollIntoView&&Re.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}function et(){P.parentNode&&P.parentNode.removeChild(P),function Nt(){o.table.rowManager.element.removeEventListener("scroll",Vt)}()}function Vt(){et(),t()}return P.classList.add("tabulator-edit-select-list"),P.addEventListener("mousedown",function(Re){he=!1,setTimeout(function(){he=!0},10)}),x.addEventListener("keydown",function(Re){var p;switch(Re.keyCode){case 38:p=U.indexOf(X),("editor"==f||"hybrid"==f&&p)&&(Re.stopImmediatePropagation(),Re.stopPropagation(),Re.preventDefault(),St(p>0&&U[p-1]));break;case 40:p=U.indexOf(X),("editor"==f||"hybrid"==f&&p<U.length-1)&&(Re.stopImmediatePropagation(),Re.stopPropagation(),Re.preventDefault(),p<U.length-1&&St(-1==p?U[0]:U[p+1]));break;case 37:case 39:Re.stopImmediatePropagation(),Re.stopPropagation();break;case 13:xt();break;case 27:Vt();break;case 36:case 35:Re.stopImmediatePropagation()}}),x.addEventListener("keyup",function(Re){switch(Re.keyCode){case 38:case 37:case 39:case 40:case 13:case 27:break;default:Ue(x.value)}}),x.addEventListener("search",function(Re){Ue(x.value)}),x.addEventListener("blur",function(Re){he&&xt()}),x.addEventListener("focus",function(Re){var p=y;be(),function Bt(){if(!P.parentNode){for(;P.firstChild;)P.removeChild(P.firstChild);var Re=F.elOffset(r);P.style.minWidth=r.offsetWidth+"px",P.style.top=Re.top+r.offsetHeight+"px",P.style.left=Re.left+"px",document.body.appendChild(P)}}(),x.value=p,Ue(p,!0)}),s(function(){x.style.height="100%",x.focus({preventScroll:!0})}),n.mask&&_e(x,n),setTimeout(()=>{this.table.rowManager.element.addEventListener("scroll",Vt)},10),be(),x.value=y,Ue(y,!0),x},star:function Ct(c,s,e,t,n){var o=this,r=c.getElement(),a=c.getValue(),f=r.getElementsByTagName("svg").length||5,y=r.getElementsByTagName("svg")[0]?r.getElementsByTagName("svg")[0].getAttribute("width"):14,x=[],P=document.createElement("div"),U=document.createElementNS("http://www.w3.org/2000/svg","svg");function X(Ie){x.forEach(function(Ue,mt){mt<Ie?("ie"==o.table.browser?Ue.setAttribute("class","tabulator-star-active"):Ue.classList.replace("tabulator-star-inactive","tabulator-star-active"),Ue.innerHTML='<polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>'):("ie"==o.table.browser?Ue.setAttribute("class","tabulator-star-inactive"):Ue.classList.replace("tabulator-star-active","tabulator-star-inactive"),Ue.innerHTML='<polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>')})}function he(Ie){var Ue=document.createElement("span"),mt=U.cloneNode(!0);x.push(mt),Ue.addEventListener("mouseenter",function(vt){vt.stopPropagation(),vt.stopImmediatePropagation(),X(Ie)}),Ue.addEventListener("mousemove",function(vt){vt.stopPropagation(),vt.stopImmediatePropagation()}),Ue.addEventListener("click",function(vt){vt.stopPropagation(),vt.stopImmediatePropagation(),e(Ie),r.blur()}),Ue.appendChild(mt),P.appendChild(Ue)}function me(Ie){a=Ie,X(Ie)}if(r.style.whiteSpace="nowrap",r.style.overflow="hidden",r.style.textOverflow="ellipsis",P.style.verticalAlign="middle",P.style.display="inline-block",P.style.padding="4px",U.setAttribute("width",y),U.setAttribute("height",y),U.setAttribute("viewBox","0 0 512 512"),U.setAttribute("xml:space","preserve"),U.style.padding="0 1px",n.elementAttributes&&"object"==typeof n.elementAttributes)for(let Ie in n.elementAttributes)"+"==Ie.charAt(0)?(Ie=Ie.slice(1),P.setAttribute(Ie,P.getAttribute(Ie)+n.elementAttributes["+"+Ie])):P.setAttribute(Ie,n.elementAttributes[Ie]);for(var be=1;be<=f;be++)he(be);return X(a=Math.min(parseInt(a),f)),P.addEventListener("mousemove",function(Ie){X(0)}),P.addEventListener("click",function(Ie){e(0)}),r.addEventListener("blur",function(Ie){t()}),r.addEventListener("keydown",function(Ie){switch(Ie.keyCode){case 39:me(a+1);break;case 37:me(a-1);break;case 13:e(a);break;case 27:t()}}),P},progress:function yt(c,s,e,t,n){var U,X,o=c.getElement(),r=void 0===n.max?o.getElementsByTagName("div")[0]&&o.getElementsByTagName("div")[0].getAttribute("max")||100:n.max,a=void 0===n.min?o.getElementsByTagName("div")[0]&&o.getElementsByTagName("div")[0].getAttribute("min")||0:n.min,f=(r-a)/100,y=c.getValue()||0,x=document.createElement("div"),P=document.createElement("div");function he(){var me=window.getComputedStyle(o,null),be=f*Math.round(P.offsetWidth/((o.clientWidth-parseInt(me.getPropertyValue("padding-left"))-parseInt(me.getPropertyValue("padding-right")))/100))+a;e(be),o.setAttribute("aria-valuenow",be),o.setAttribute("aria-label",y)}if(x.style.position="absolute",x.style.right="0",x.style.top="0",x.style.bottom="0",x.style.width="5px",x.classList.add("tabulator-progress-handle"),P.style.display="inline-block",P.style.position="relative",P.style.height="100%",P.style.backgroundColor="#488CE9",P.style.maxWidth="100%",P.style.minWidth="0%",n.elementAttributes&&"object"==typeof n.elementAttributes)for(let me in n.elementAttributes)"+"==me.charAt(0)?(me=me.slice(1),P.setAttribute(me,P.getAttribute(me)+n.elementAttributes["+"+me])):P.setAttribute(me,n.elementAttributes[me]);return o.style.padding="4px 4px",y=Math.min(parseFloat(y),r),y=Math.max(parseFloat(y),a),y=Math.round((y-a)/f),P.style.width=y+"%",o.setAttribute("aria-valuemin",a),o.setAttribute("aria-valuemax",r),P.appendChild(x),x.addEventListener("mousedown",function(me){U=me.screenX,X=P.offsetWidth}),x.addEventListener("mouseover",function(){x.style.cursor="ew-resize"}),o.addEventListener("mousemove",function(me){U&&(P.style.width=X+me.screenX-U+"px")}),o.addEventListener("mouseup",function(me){U&&(me.stopPropagation(),me.stopImmediatePropagation(),U=!1,X=!1,he())}),o.addEventListener("keydown",function(me){switch(me.keyCode){case 39:me.preventDefault(),P.style.width=P.clientWidth+o.clientWidth/100+"px";break;case 37:me.preventDefault(),P.style.width=P.clientWidth-o.clientWidth/100+"px";break;case 9:case 13:he();break;case 27:t()}}),o.addEventListener("blur",function(){t()}),P},tickCross:function pt(c,s,e,t,n){var o=c.getValue(),r=document.createElement("input"),a=n.tristate,f=void 0===n.indeterminateValue?null:n.indeterminateValue,y=!1;if(r.setAttribute("type","checkbox"),r.style.marginTop="5px",r.style.boxSizing="border-box",n.elementAttributes&&"object"==typeof n.elementAttributes)for(let P in n.elementAttributes)"+"==P.charAt(0)?(P=P.slice(1),r.setAttribute(P,r.getAttribute(P)+n.elementAttributes["+"+P])):r.setAttribute(P,n.elementAttributes[P]);function x(P){return a?P?y?f:r.checked:r.checked&&!y?(r.checked=!1,r.indeterminate=!0,y=!0,f):(y=!1,r.checked):r.checked}return r.value=o,a&&(void 0===o||o===f||""===o)&&(y=!0,r.indeterminate=!0),"firefox"!=this.table.browser&&s(function(){r.focus({preventScroll:!0})}),r.checked=!0===o||"true"===o||"True"===o||1===o,s(function(){r.focus()}),r.addEventListener("change",function(P){e(x())}),r.addEventListener("blur",function(P){e(x(!0))}),r.addEventListener("keydown",function(P){13==P.keyCode&&e(x()),27==P.keyCode&&t()}),r}};let ke=(()=>{class c extends d{constructor(e){super(e),this.currentCell=!1,this.mouseClick=!1,this.recursionBlock=!1,this.invalidEdit=!1,this.editedCells=[],this.editors=c.editors,this.registerColumnOption("editable"),this.registerColumnOption("editor"),this.registerColumnOption("editorParams"),this.registerColumnOption("cellEditing"),this.registerColumnOption("cellEdited"),this.registerColumnOption("cellEditCancelled"),this.registerTableFunction("getEditedCells",this.getEditedCells.bind(this)),this.registerTableFunction("clearCellEdited",this.clearCellEdited.bind(this)),this.registerTableFunction("navigatePrev",this.navigatePrev.bind(this)),this.registerTableFunction("navigateNext",this.navigateNext.bind(this)),this.registerTableFunction("navigateLeft",this.navigateLeft.bind(this)),this.registerTableFunction("navigateRight",this.navigateRight.bind(this)),this.registerTableFunction("navigateUp",this.navigateUp.bind(this)),this.registerTableFunction("navigateDown",this.navigateDown.bind(this)),this.registerComponentFunction("cell","isEdited",this.cellisEdited.bind(this)),this.registerComponentFunction("cell","clearEdited",this.clearEdited.bind(this)),this.registerComponentFunction("cell","edit",this.editCell.bind(this)),this.registerComponentFunction("cell","cancelEdit",this.cellCancelEdit.bind(this)),this.registerComponentFunction("cell","navigatePrev",this.navigatePrev.bind(this)),this.registerComponentFunction("cell","navigateNext",this.navigateNext.bind(this)),this.registerComponentFunction("cell","navigateLeft",this.navigateLeft.bind(this)),this.registerComponentFunction("cell","navigateRight",this.navigateRight.bind(this)),this.registerComponentFunction("cell","navigateUp",this.navigateUp.bind(this)),this.registerComponentFunction("cell","navigateDown",this.navigateDown.bind(this))}initialize(){this.subscribe("cell-init",this.bindEditor.bind(this)),this.subscribe("cell-delete",this.clearEdited.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("column-delete",this.columnDeleteCheck.bind(this)),this.subscribe("row-deleting",this.rowDeleteCheck.bind(this)),this.subscribe("data-refreshing",this.cancelEdit.bind(this)),this.subscribe("keybinding-nav-prev",this.navigatePrev.bind(this,void 0)),this.subscribe("keybinding-nav-next",this.keybindingNavigateNext.bind(this)),this.subscribe("keybinding-nav-left",this.navigateLeft.bind(this,void 0)),this.subscribe("keybinding-nav-right",this.navigateRight.bind(this,void 0)),this.subscribe("keybinding-nav-up",this.navigateUp.bind(this,void 0)),this.subscribe("keybinding-nav-down",this.navigateDown.bind(this,void 0))}keybindingNavigateNext(e){var t=this.currentCell,n=this.options("tabEndNewRow");t&&(this.navigateNext(t,e)||n&&(t.getElement().firstChild.blur(),(n=this.table.addRow(!0===n?{}:"function"==typeof n?n(t.row.getComponent()):Object.assign({},n))).then(()=>{setTimeout(()=>{t.getComponent().navigateNext()})})))}cellisEdited(e){return!!e.modules.edit&&e.modules.edit.edited}cellCancelEdit(e){e===this.currentCell?this.table.modules.edit.cancelEdit():console.warn("Cancel Editor Error - This cell is not currently being edited ")}clearCellEdited(e){e||(e=this.table.modules.edit.getEditedCells()),Array.isArray(e)||(e=[e]),e.forEach(t=>{this.table.modules.edit.clearEdited(t._getSelf())})}navigatePrev(e=this.currentCell,t){var n,o;if(e){if(t&&t.preventDefault(),n=this.navigateLeft())return!0;if((o=this.table.rowManager.prevDisplayRow(e.row,!0))&&(n=this.findNextEditableCell(o,o.cells.length)))return n.getComponent().edit(),!0}return!1}navigateNext(e=this.currentCell,t){var n,o;if(e){if(t&&t.preventDefault(),n=this.navigateRight())return!0;if((o=this.table.rowManager.nextDisplayRow(e.row,!0))&&(n=this.findNextEditableCell(o,-1)))return n.getComponent().edit(),!0}return!1}navigateLeft(e=this.currentCell,t){var n,o;return!(!e||(t&&t.preventDefault(),n=e.getIndex(),o=this.findPrevEditableCell(e.row,n),!o)||(o.getComponent().edit(),0))}navigateRight(e=this.currentCell,t){var n,o;return!(!e||(t&&t.preventDefault(),n=e.getIndex(),o=this.findNextEditableCell(e.row,n),!o)||(o.getComponent().edit(),0))}navigateUp(e=this.currentCell,t){var n,o;return!(!e||(t&&t.preventDefault(),n=e.getIndex(),o=this.table.rowManager.prevDisplayRow(e.row,!0),!o)||(o.cells[n].getComponent().edit(),0))}navigateDown(e=this.currentCell,t){var n,o;return!(!e||(t&&t.preventDefault(),n=e.getIndex(),o=this.table.rowManager.nextDisplayRow(e.row,!0),!o)||(o.cells[n].getComponent().edit(),0))}findNextEditableCell(e,t){var n=!1;if(t<e.cells.length-1)for(var o=t+1;o<e.cells.length;o++){let r=e.cells[o];if(r.column.modules.edit&&F.elVisible(r.getElement())){let a=!0;if("function"==typeof r.column.modules.edit.check&&(a=r.column.modules.edit.check(r.getComponent())),a){n=r;break}}}return n}findPrevEditableCell(e,t){var n=!1;if(t>0)for(var o=t-1;o>=0;o--){let r=e.cells[o],a=!0;if(r.column.modules.edit&&F.elVisible(r.getElement())&&("function"==typeof r.column.modules.edit.check&&(a=r.column.modules.edit.check(r.getComponent())),a)){n=r;break}}return n}initializeColumnCheck(e){void 0!==e.definition.editor&&this.initializeColumn(e)}columnDeleteCheck(e){this.currentCell&&this.currentCell.column===e&&this.cancelEdit()}rowDeleteCheck(e){this.currentCell&&this.currentCell.row===e&&this.cancelEdit()}initializeColumn(e){var t={editor:!1,blocked:!1,check:e.definition.editable,params:e.definition.editorParams||{}};switch(typeof e.definition.editor){case"string":this.editors[e.definition.editor]?t.editor=this.editors[e.definition.editor]:console.warn("Editor Error - No such editor found: ",e.definition.editor);break;case"function":t.editor=e.definition.editor;break;case"boolean":!0===e.definition.editor&&("function"!=typeof e.definition.formatter?t.editor=this.editors[e.definition.formatter]?this.editors[e.definition.formatter]:this.editors.input:console.warn("Editor Error - Cannot auto lookup editor for a custom formatter: ",e.definition.formatter))}t.editor&&(e.modules.edit=t)}getCurrentCell(){return!!this.currentCell&&this.currentCell.getComponent()}clearEditor(e){var n,t=this.currentCell;if(this.invalidEdit=!1,t){for(this.currentCell=!1,n=t.getElement(),e?t.column.modules.validate&&this.table.modExists("validate")&&this.table.modules.validate.cellValidate(t):n.classList.remove("tabulator-validation-fail"),n.classList.remove("tabulator-editing");n.firstChild;)n.removeChild(n.firstChild);t.row.getElement().classList.remove("tabulator-row-editing")}}cancelEdit(){if(this.currentCell){var e=this.currentCell,t=this.currentCell.getComponent();this.clearEditor(!0),e.setValueActual(e.getValue()),e.cellRendered(),("textarea"==e.column.definition.editor||e.column.definition.variableHeight)&&e.row.normalizeHeight(!0),e.column.definition.cellEditCancelled&&e.column.definition.cellEditCancelled.call(this.table,t),this.dispatch("edit-cancelled",e),this.dispatchExternal("cellEditCancelled",t)}}bindEditor(e){if(e.column.modules.edit){var t=this,n=e.getElement(!0);n.setAttribute("tabindex",0),n.addEventListener("click",function(o){n.classList.contains("tabulator-editing")||n.focus({preventScroll:!0})}),n.addEventListener("mousedown",function(o){2===o.button?o.preventDefault():t.mouseClick=!0}),n.addEventListener("focus",function(o){t.recursionBlock||t.edit(e,o,!1)})}}focusCellNoEvent(e,t){this.recursionBlock=!0,t&&"ie"===this.table.browser||e.getElement().focus({preventScroll:!0}),this.recursionBlock=!1}editCell(e,t){this.focusCellNoEvent(e),this.edit(e,!1,t)}focusScrollAdjust(e){if("virtual"==this.table.rowManager.getRenderMode()){var t=this.table.rowManager.element.scrollTop,n=this.table.rowManager.element.clientHeight+this.table.rowManager.element.scrollTop,o=e.row.getElement();o.offsetTop<t?this.table.rowManager.element.scrollTop-=t-o.offsetTop:o.offsetTop+o.offsetHeight>n&&(this.table.rowManager.element.scrollTop+=o.offsetTop+o.offsetHeight-n);var r=this.table.rowManager.element.scrollLeft,a=this.table.rowManager.element.clientWidth+this.table.rowManager.element.scrollLeft,f=e.getElement();this.table.modExists("frozenColumns")&&(r+=parseInt(this.table.modules.frozenColumns.leftMargin),a-=parseInt(this.table.modules.frozenColumns.rightMargin)),"virtual"===this.table.options.renderHorizontal&&(r-=parseInt(this.table.columnManager.renderer.vDomPadLeft),a-=parseInt(this.table.columnManager.renderer.vDomPadLeft)),f.offsetLeft<r?this.table.rowManager.element.scrollLeft-=r-f.offsetLeft:f.offsetLeft+f.offsetWidth>a&&(this.table.rowManager.element.scrollLeft+=f.offsetLeft+f.offsetWidth-a)}}edit(e,t,n){var y,x,P,o=this,r=!0,a=function(){},f=e.getElement();if(!this.currentCell){if(e.column.modules.edit.blocked)return this.mouseClick=!1,f.blur(),!1;switch(t&&t.stopPropagation(),typeof e.column.modules.edit.check){case"function":r=e.column.modules.edit.check(e.getComponent());break;case"boolean":r=e.column.modules.edit.check}if(r||n){if(o.cancelEdit(),o.currentCell=e,this.focusScrollAdjust(e),x=e.getComponent(),this.mouseClick&&(this.mouseClick=!1,e.column.definition.cellClick&&e.column.definition.cellClick.call(this.table,t,x)),e.column.definition.cellEditing&&e.column.definition.cellEditing.call(this.table,x),this.dispatchExternal("cellEditing",x),P="function"==typeof e.column.modules.edit.params?e.column.modules.edit.params(x):e.column.modules.edit.params,!1===(y=e.column.modules.edit.editor.call(o,x,function he(Ie){a=Ie},function U(Ie){if(o.currentCell===e){var Ue=!0;return e.column.modules.validate&&o.table.modExists("validate")&&"manual"!=o.table.options.validationMode&&(Ue=o.table.modules.validate.validate(e.column.modules.validate,e,Ie)),!0===Ue||"highlight"===o.table.options.validationMode?(o.clearEditor(),e.modules.edit||(e.modules.edit={}),e.modules.edit.edited=!0,-1==o.editedCells.indexOf(e)&&o.editedCells.push(e),e.setValue(Ie,!0),!0===Ue||(f.classList.add("tabulator-validation-fail"),o.table.externalEvents.dispatch("validationFailed",e.getComponent(),Ie,Ue),!1)):(o.invalidEdit=!0,f.classList.add("tabulator-validation-fail"),o.focusCellNoEvent(e,!0),a(),o.table.externalEvents.dispatch("validationFailed",e.getComponent(),Ie,Ue),!1)}},function X(){o.currentCell===e&&o.cancelEdit()},P)))return f.blur(),!1;if(!(y instanceof Node))return console.warn("Edit Error - Editor should return an instance of Node, the editor returned:",y),f.blur(),!1;for(f.classList.add("tabulator-editing"),e.row.getElement().classList.add("tabulator-row-editing");f.firstChild;)f.removeChild(f.firstChild);f.appendChild(y),a();for(var me=f.children,be=0;be<me.length;be++)me[be].addEventListener("click",function(Ie){Ie.stopPropagation()});return!0}return this.mouseClick=!1,f.blur(),!1}this.invalidEdit||this.cancelEdit()}getEditedCells(){var e=[];return this.editedCells.forEach(t=>{e.push(t.getComponent())}),e}clearEdited(e){var t;e.modules.edit&&e.modules.edit.edited&&(e.modules.edit.edited=!1,e.modules.validate&&(e.modules.validate.invalid=!1)),(t=this.editedCells.indexOf(e))>-1&&this.editedCells.splice(t,1)}}return c.moduleName="edit",c.editors=Te,c})();class te{constructor(s,e,t,n){this.type=s,this.columns=e,this.component=t||!1,this.indent=n||0}}class Se{constructor(s,e,t,n,o){this.value=s,this.component=e||!1,this.width=t,this.height=n,this.depth=o}}let He=(()=>{class c extends d{constructor(e){super(e),this.config={},this.cloneTableStyle=!0,this.colVisProp="",this.registerTableOption("htmlOutputConfig",!1),this.registerColumnOption("htmlOutput"),this.registerColumnOption("titleHtmlOutput")}initialize(){this.registerTableFunction("getHtml",this.getHtml.bind(this))}generateExportList(e,t,n,o){this.cloneTableStyle=t,this.config=e||{},this.colVisProp=o;var r=!1!==this.config.columnHeaders?this.headersToExportRows(this.generateColumnGroupHeaders()):[],a=this.bodyToExportRows(this.rowLookup(n));return r.concat(a)}genereateTable(e,t,n,o){var r=this.generateExportList(e,t,n,o);return this.genereateTableElement(r)}rowLookup(e){var t=[];if("function"==typeof e)e.call(this.table).forEach(n=>{(n=this.table.rowManager.findRow(n))&&t.push(n)});else switch(e){case!0:case"visible":t=this.table.rowManager.getVisibleRows(!1,!0);break;case"all":t=this.table.rowManager.rows;break;case"selected":t=this.table.modules.selectRow.selectedRows;break;default:t=this.table.options.pagination?this.table.rowManager.getDisplayRows(this.table.rowManager.displayRows.length-2):this.table.rowManager.getDisplayRows()}return Object.assign([],t)}generateColumnGroupHeaders(){var e=[];return(!1!==this.config.columnGroups?this.table.columnManager.columns:this.table.columnManager.columnsByIndex).forEach(n=>{var o=this.processColumnGroup(n);o&&e.push(o)}),e}processColumnGroup(e){var t=e.columns,n=0,r={title:e.definition["title"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))]||e.definition.title,column:e,depth:1};if(t.length){if(r.subGroups=[],r.width=0,t.forEach(a=>{var f=this.processColumnGroup(a);f&&(r.width+=f.width,r.subGroups.push(f),f.depth>n&&(n=f.depth))}),r.depth+=n,!r.width)return!1}else{if(!this.columnVisCheck(e))return!1;r.width=1}return r}columnVisCheck(e){return!1!==e.definition[this.colVisProp]&&(e.visible||!e.visible&&e.definition[this.colVisProp])}headersToExportRows(e){var t=[],n=0,o=[];function r(a,f){var y=n-f;if(void 0===t[f]&&(t[f]=[]),a.height=a.subGroups?1:y-a.depth+1,t[f].push(a),a.height>1)for(let x=1;x<a.height;x++)void 0===t[f+x]&&(t[f+x]=[]),t[f+x].push(!1);if(a.width>1)for(let x=1;x<a.width;x++)t[f].push(!1);a.subGroups&&a.subGroups.forEach(function(x){r(x,f+1)})}return e.forEach(function(a){a.depth>n&&(n=a.depth)}),e.forEach(function(a){r(a,0)}),t.forEach(a=>{var f=[];a.forEach(y=>{f.push(y?new Se(void 0===y.title?"":y.title,y.column.getComponent(),y.width,y.height,y.depth):null)}),o.push(new te("header",f))}),o}bodyToExportRows(e){var t=[],n=[];return this.table.columnManager.columnsByIndex.forEach(o=>{this.columnVisCheck(o)&&t.push(o.getComponent())}),!1!==this.config.columnCalcs&&this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&e.unshift(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&e.push(this.table.modules.columnCalcs.botRow)),(e=e.filter(o=>{switch(o.type){case"group":return!1!==this.config.rowGroups;case"calc":return!1!==this.config.columnCalcs;case"row":return!(this.table.options.dataTree&&!1===this.config.dataTree&&o.modules.dataTree.parent)}return!0})).forEach((o,r)=>{var a=o.getData(this.colVisProp),f=[],y=0;switch(o.type){case"group":y=o.level,f.push(new Se(o.key,o.getComponent(),t.length,1));break;case"calc":case"row":t.forEach(x=>{f.push(new Se(x._column.getFieldValue(a),x,1,1))}),this.table.options.dataTree&&!1!==this.config.dataTree&&(y=o.modules.dataTree.index)}n.push(new te(o.type,f,o.getComponent(),y))}),n}genereateTableElement(e){var t=document.createElement("table"),n=document.createElement("thead"),o=document.createElement("tbody"),r=this.lookupTableStyles(),a=this.table.options["rowFormatter"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],f={};return f.rowFormatter=null!==a?a:this.table.options.rowFormatter,this.table.options.dataTree&&!1!==this.config.dataTree&&this.table.modExists("columnCalcs")&&(f.treeElementField=this.table.modules.dataTree.elementField),f.groupHeader=this.table.options["groupHeader"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],f.groupHeader&&!Array.isArray(f.groupHeader)&&(f.groupHeader=[f.groupHeader]),t.classList.add("tabulator-print-table"),this.mapElementStyles(this.table.columnManager.getHeadersElement(),n,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),e.length>1e3&&console.warn("It may take a long time to render an HTML table with more than 1000 rows"),e.forEach((y,x)=>{switch(y.type){case"header":n.appendChild(this.genereateHeaderElement(y,f,r));break;case"group":o.appendChild(this.genereateGroupElement(y,f,r));break;case"calc":o.appendChild(this.genereateCalcElement(y,f,r));break;case"row":let P=this.genereateRowElement(y,f,r);this.mapElementStyles(x%2&&r.evenRow?r.evenRow:r.oddRow,P,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),o.appendChild(P)}}),n.innerHTML&&t.appendChild(n),t.appendChild(o),this.mapElementStyles(this.table.element,t,["border-top","border-left","border-right","border-bottom"]),t}lookupTableStyles(){var e={};return this.cloneTableStyle&&window.getComputedStyle&&(e.oddRow=this.table.element.querySelector(".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)"),e.evenRow=this.table.element.querySelector(".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)"),e.calcRow=this.table.element.querySelector(".tabulator-row.tabulator-calcs"),e.firstRow=this.table.element.querySelector(".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)"),e.firstGroup=this.table.element.getElementsByClassName("tabulator-group")[0],e.firstRow&&(e.styleCells=e.firstRow.getElementsByClassName("tabulator-cell"),e.firstCell=e.styleCells[0],e.lastCell=e.styleCells[e.styleCells.length-1])),e}genereateHeaderElement(e,t,n){var o=document.createElement("tr");return e.columns.forEach(r=>{if(r){var a=document.createElement("th"),f=r.component._column.definition.cssClass?r.component._column.definition.cssClass.split(" "):[];a.colSpan=r.width,a.rowSpan=r.height,a.innerHTML=r.value,this.cloneTableStyle&&(a.style.boxSizing="border-box"),f.forEach(function(y){a.classList.add(y)}),this.mapElementStyles(r.component.getElement(),a,["text-align","border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),this.mapElementStyles(r.component._column.contentElement,a,["padding-top","padding-left","padding-right","padding-bottom"]),r.component._column.visible?this.mapElementStyles(r.component.getElement(),a,["width"]):r.component._column.definition.width&&(a.style.width=r.component._column.definition.width+"px"),r.component._column.parent&&this.mapElementStyles(r.component._column.parent.groupElement,a,["border-top"]),o.appendChild(a)}}),o}genereateGroupElement(e,t,n){var o=document.createElement("tr"),r=document.createElement("td"),a=e.columns[0];return o.classList.add("tabulator-print-table-row"),a.value=t.groupHeader&&t.groupHeader[e.indent]?t.groupHeader[e.indent](a.value,e.component._group.getRowCount(),e.component._group.getData(),e.component):!1===t.groupHeader?a.value:e.component._group.generator(a.value,e.component._group.getRowCount(),e.component._group.getData(),e.component),r.colSpan=a.width,r.innerHTML=a.value,o.classList.add("tabulator-print-table-group"),o.classList.add("tabulator-group-level-"+e.indent),a.component.isVisible()&&o.classList.add("tabulator-group-visible"),this.mapElementStyles(n.firstGroup,o,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),this.mapElementStyles(n.firstGroup,r,["padding-top","padding-left","padding-right","padding-bottom"]),o.appendChild(r),o}genereateCalcElement(e,t,n){var o=this.genereateRowElement(e,t,n);return o.classList.add("tabulator-print-table-calcs"),this.mapElementStyles(n.calcRow,o,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),o}genereateRowElement(e,t,n){var o=document.createElement("tr");return o.classList.add("tabulator-print-table-row"),e.columns.forEach(r=>{if(r){var a=document.createElement("td"),f=r.component._column,y=r.value,x={modules:{},getValue:function(){return y},getField:function(){return f.definition.field},getElement:function(){return a},getColumn:function(){return f.getComponent()},getData:function(){return e.component.getData()},getRow:function(){return e.component},getComponent:function(){return x},column:f};if((f.definition.cssClass?f.definition.cssClass.split(" "):[]).forEach(function(U){a.classList.add(U)}),this.table.modExists("format")&&!1!==this.config.formatCells)y=this.table.modules.format.formatExportValue(x,this.colVisProp);else switch(typeof y){case"object":y=JSON.stringify(y);break;case"undefined":case"null":y="";break;default:y=y}y instanceof Node?a.appendChild(y):a.innerHTML=y,n.firstCell&&(this.mapElementStyles(n.firstCell,a,["padding-top","padding-left","padding-right","padding-bottom","border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size"]),f.definition.align&&(a.style.textAlign=f.definition.align)),this.table.options.dataTree&&!1!==this.config.dataTree&&(t.treeElementField&&t.treeElementField==f.field||!t.treeElementField&&0==i)&&(e.component._row.modules.dataTree.controlEl&&a.insertBefore(e.component._row.modules.dataTree.controlEl.cloneNode(!0),a.firstChild),e.component._row.modules.dataTree.branchEl&&a.insertBefore(e.component._row.modules.dataTree.branchEl.cloneNode(!0),a.firstChild)),o.appendChild(a),x.modules.format&&x.modules.format.renderedCallback&&x.modules.format.renderedCallback(),t.rowFormatter&&!1!==this.config.formatCells&&t.rowFormatter(e.component)}}),o}genereateHTMLTable(e){var t=document.createElement("div");return t.appendChild(this.genereateTableElement(e)),t.innerHTML}getHtml(e,t,n,o){var r=this.generateExportList(n||this.table.options.htmlOutputConfig,t,e,o||"htmlOutput");return this.genereateHTMLTable(r)}mapElementStyles(e,t,n){if(this.cloneTableStyle&&e&&t){var o={"background-color":"backgroundColor",color:"fontColor",width:"width","font-weight":"fontWeight","font-family":"fontFamily","font-size":"fontSize","text-align":"textAlign","border-top":"borderTop","border-left":"borderLeft","border-right":"borderRight","border-bottom":"borderBottom","padding-top":"paddingTop","padding-left":"paddingLeft","padding-right":"paddingRight","padding-bottom":"paddingBottom"};if(window.getComputedStyle){var r=window.getComputedStyle(e);n.forEach(function(a){t.style[o[a]]=r.getPropertyValue(a)})}}}}return c.moduleName="export",c})();var Qe={"=":function(c,s,e,t){return s==c},"<":function(c,s,e,t){return s<c},"<=":function(c,s,e,t){return s<=c},">":function(c,s,e,t){return s>c},">=":function(c,s,e,t){return s>=c},"!=":function(c,s,e,t){return s!=c},regex:function(c,s,e,t){return"string"==typeof c&&(c=new RegExp(c)),c.test(s)},like:function(c,s,e,t){return null==c?s===c:null!=s&&String(s).toLowerCase().indexOf(c.toLowerCase())>-1},keywords:function(c,s,e,t){var n=c.toLowerCase().split(void 0===t.separator?" ":t.separator),o=String(s??"").toLowerCase(),r=[];return n.forEach(a=>{o.includes(a)&&r.push(!0)}),t.matchAll?r.length===n.length:!!r.length},starts:function(c,s,e,t){return null==c?s===c:null!=s&&String(s).toLowerCase().startsWith(c.toLowerCase())},ends:function(c,s,e,t){return null==c?s===c:null!=s&&String(s).toLowerCase().endsWith(c.toLowerCase())},in:function(c,s,e,t){return Array.isArray(c)?!c.length||c.indexOf(s)>-1:(console.warn("Filter Error - filter value is not an array:",c),!1)}};let nt=(()=>{class c extends d{constructor(e){super(e),this.filterList=[],this.headerFilters={},this.headerFilterColumns=[],this.prevHeaderFilterChangeCheck="",this.prevHeaderFilterChangeCheck="{}",this.changed=!1,this.tableInitialized=!1,this.registerTableOption("filterMode","local"),this.registerTableOption("initialFilter",!1),this.registerTableOption("initialHeaderFilter",!1),this.registerTableOption("headerFilterLiveFilterDelay",300),this.registerColumnOption("headerFilter"),this.registerColumnOption("headerFilterPlaceholder"),this.registerColumnOption("headerFilterParams"),this.registerColumnOption("headerFilterEmptyCheck"),this.registerColumnOption("headerFilterFunc"),this.registerColumnOption("headerFilterFuncParams"),this.registerColumnOption("headerFilterLiveFilter"),this.registerTableFunction("searchRows",this.searchRows.bind(this)),this.registerTableFunction("searchData",this.searchData.bind(this)),this.registerTableFunction("setFilter",this.userSetFilter.bind(this)),this.registerTableFunction("refreshFilter",this.userRefreshFilter.bind(this)),this.registerTableFunction("addFilter",this.userAddFilter.bind(this)),this.registerTableFunction("getFilters",this.getFilters.bind(this)),this.registerTableFunction("setHeaderFilterFocus",this.userSetHeaderFilterFocus.bind(this)),this.registerTableFunction("getHeaderFilterValue",this.userGetHeaderFilterValue.bind(this)),this.registerTableFunction("setHeaderFilterValue",this.userSetHeaderFilterValue.bind(this)),this.registerTableFunction("getHeaderFilters",this.getHeaderFilters.bind(this)),this.registerTableFunction("removeFilter",this.userRemoveFilter.bind(this)),this.registerTableFunction("clearFilter",this.userClearFilter.bind(this)),this.registerTableFunction("clearHeaderFilter",this.userClearHeaderFilter.bind(this)),this.registerComponentFunction("column","headerFilterFocus",this.setHeaderFilterFocus.bind(this)),this.registerComponentFunction("column","reloadHeaderFilter",this.reloadHeaderFilter.bind(this)),this.registerComponentFunction("column","getHeaderFilterValue",this.getHeaderFilterValue.bind(this)),this.registerComponentFunction("column","setHeaderFilterValue",this.setHeaderFilterValue.bind(this))}initialize(){this.subscribe("column-init",this.initializeColumnHeaderFilter.bind(this)),this.subscribe("column-width-fit-before",this.hideHeaderFilterElements.bind(this)),this.subscribe("column-width-fit-after",this.showHeaderFilterElements.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),"remote"===this.table.options.filterMode&&this.subscribe("data-params",this.remoteFilterParams.bind(this)),this.registerDataHandler(this.filter.bind(this),10)}tableBuilt(){this.table.options.initialFilter&&this.setFilter(this.table.options.initialFilter),this.table.options.initialHeaderFilter&&this.table.options.initialHeaderFilter.forEach(e=>{var t=this.table.columnManager.findColumn(e.field);if(!t)return console.warn("Column Filter Error - No matching column found:",e.field),!1;this.setHeaderFilterValue(t,e.value)}),this.tableInitialized=!0}remoteFilterParams(e,t,n,o){return o.filter=this.getFilters(!0,!0),o}userSetFilter(e,t,n,o){this.setFilter(e,t,n,o),this.refreshFilter()}userRefreshFilter(){this.refreshFilter()}userAddFilter(e,t,n,o){this.addFilter(e,t,n,o),this.refreshFilter()}userSetHeaderFilterFocus(e){var t=this.table.columnManager.findColumn(e);if(!t)return console.warn("Column Filter Focus Error - No matching column found:",e),!1;this.setHeaderFilterFocus(t)}userGetHeaderFilterValue(e){var t=this.table.columnManager.findColumn(e);if(t)return this.getHeaderFilterValue(t);console.warn("Column Filter Error - No matching column found:",e)}userSetHeaderFilterValue(e,t){var n=this.table.columnManager.findColumn(e);if(!n)return console.warn("Column Filter Error - No matching column found:",e),!1;this.setHeaderFilterValue(n,t)}userRemoveFilter(e,t,n){this.removeFilter(e,t,n),this.refreshFilter()}userClearFilter(e){this.clearFilter(e),this.refreshFilter()}userClearHeaderFilter(){this.clearHeaderFilter(),this.refreshFilter()}searchRows(e,t,n){return this.search("rows",e,t,n)}searchData(e,t,n){return this.search("data",e,t,n)}initializeColumnHeaderFilter(e){var t=e.definition;t.headerFilter&&(void 0!==t.headerFilterPlaceholder&&t.field&&this.module("localize").setHeaderFilterColumnPlaceholder(t.field,t.headerFilterPlaceholder),this.initializeColumn(e))}initializeColumn(e,t){var n=this,o=e.getField();e.modules.filter={success:function r(a){var P,f="input"==e.modules.filter.tagType&&"text"==e.modules.filter.attrType||"textarea"==e.modules.filter.tagType?"partial":"match",y="",x="";if(void 0===e.modules.filter.prevSuccess||e.modules.filter.prevSuccess!==a){if(e.modules.filter.prevSuccess=a,e.modules.filter.emptyFunc(a))delete n.headerFilters[o];else{switch(e.modules.filter.value=a,typeof e.definition.headerFilterFunc){case"string":c.filters[e.definition.headerFilterFunc]?(y=e.definition.headerFilterFunc,P=function(U){var X=e.definition.headerFilterFuncParams||{},he=e.getFieldValue(U);return X="function"==typeof X?X(a,he,U):X,c.filters[e.definition.headerFilterFunc](a,he,U,X)}):console.warn("Header Filter Error - Matching filter function not found: ",e.definition.headerFilterFunc);break;case"function":y=P=function(U){var X=e.definition.headerFilterFuncParams||{},he=e.getFieldValue(U);return X="function"==typeof X?X(a,he,U):X,e.definition.headerFilterFunc(a,he,U,X)}}P||("partial"===f?(P=function(U){var X=e.getFieldValue(U);return null!=X&&String(X).toLowerCase().indexOf(String(a).toLowerCase())>-1},y="like"):(P=function(U){return e.getFieldValue(U)==a},y="=")),n.headerFilters[o]={value:a,func:P,type:y,params:{}}}x=JSON.stringify(n.headerFilters),n.prevHeaderFilterChangeCheck!==x&&(n.prevHeaderFilterChangeCheck=x,n.trackChanges(),n.refreshFilter())}return!0},attrType:!1,tagType:!1,emptyFunc:!1},this.generateHeaderFilterElement(e)}generateHeaderFilterElement(e,t,n){var f,y,x,P,U,X,he,o=this,r=e.modules.filter.success,a=e.getField();if(e.modules.filter.headerElement&&e.modules.filter.headerElement.parentNode&&e.contentElement.removeChild(e.modules.filter.headerElement.parentNode),a){switch(e.modules.filter.emptyFunc=e.definition.headerFilterEmptyCheck||function(be){return!be&&"0"!==be&&0!==be},(f=document.createElement("div")).classList.add("tabulator-header-filter"),typeof e.definition.headerFilter){case"string":o.table.modules.edit.editors[e.definition.headerFilter]?(y=o.table.modules.edit.editors[e.definition.headerFilter],("tick"===e.definition.headerFilter||"tickCross"===e.definition.headerFilter)&&!e.definition.headerFilterEmptyCheck&&(e.modules.filter.emptyFunc=function(be){return!0!==be&&!1!==be})):console.warn("Filter Error - Cannot build header filter, No such editor found: ",e.definition.editor);break;case"function":y=e.definition.headerFilter;break;case"boolean":e.modules.edit&&e.modules.edit.editor?y=e.modules.edit.editor:e.definition.formatter&&o.table.modules.edit.editors[e.definition.formatter]?(y=o.table.modules.edit.editors[e.definition.formatter],("tick"===e.definition.formatter||"tickCross"===e.definition.formatter)&&!e.definition.headerFilterEmptyCheck&&(e.modules.filter.emptyFunc=function(be){return!0!==be&&!1!==be})):y=o.table.modules.edit.editors.input}if(y){if(P={getValue:function(){return void 0!==t?t:""},getField:function(){return e.definition.field},getElement:function(){return f},getColumn:function(){return e.getComponent()},getRow:function(){return{normalizeHeight:function(){}}}},he="function"==typeof(he=e.definition.headerFilterParams||{})?he.call(o.table,P):he,!(x=y.call(this.table.modules.edit,P,function(){},r,function me(){},he)))return void console.warn("Filter Error - Cannot add filter to "+a+" column, editor returned a value of false");if(!(x instanceof Node))return void console.warn("Filter Error - Cannot add filter to "+a+" column, editor should return an instance of Node, the editor returned:",x);a?o.langBind("headerFilters|columns|"+e.definition.field,function(be){x.setAttribute("placeholder",void 0!==be&&be?be:o.langText("headerFilters|default"))}):o.langBind("headerFilters|default",function(be){x.setAttribute("placeholder",be)}),x.addEventListener("click",function(be){be.stopPropagation(),x.focus()}),x.addEventListener("focus",be=>{var Ie=this.table.columnManager.element.scrollLeft;Ie!==this.table.rowManager.element.scrollLeft&&(this.table.rowManager.scrollHorizontal(Ie),this.table.columnManager.scrollHorizontal(Ie))}),U=!1,X=function(be){U&&clearTimeout(U),U=setTimeout(function(){r(x.value)},o.table.options.headerFilterLiveFilterDelay)},e.modules.filter.headerElement=x,e.modules.filter.attrType=x.hasAttribute("type")?x.getAttribute("type").toLowerCase():"",e.modules.filter.tagType=x.tagName.toLowerCase(),!1!==e.definition.headerFilterLiveFilter&&("autocomplete"===e.definition.headerFilter||"tickCross"===e.definition.headerFilter||("autocomplete"===e.definition.editor||"tickCross"===e.definition.editor)&&!0===e.definition.headerFilter||(x.addEventListener("keyup",X),x.addEventListener("search",X),"number"==e.modules.filter.attrType&&x.addEventListener("change",function(be){r(x.value)}),"text"==e.modules.filter.attrType&&"ie"!==this.table.browser&&x.setAttribute("type","search")),("input"==e.modules.filter.tagType||"select"==e.modules.filter.tagType||"textarea"==e.modules.filter.tagType)&&x.addEventListener("mousedown",function(be){be.stopPropagation()})),f.appendChild(x),e.contentElement.appendChild(f),n||o.headerFilterColumns.push(e)}}else console.warn("Filter Error - Cannot add header filter, column has no field set:",e.definition.title)}hideHeaderFilterElements(){this.headerFilterColumns.forEach(function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="none")})}showHeaderFilterElements(){this.headerFilterColumns.forEach(function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="")})}setHeaderFilterFocus(e){e.modules.filter&&e.modules.filter.headerElement?e.modules.filter.headerElement.focus():console.warn("Column Filter Focus Error - No header filter set on column:",e.getField())}getHeaderFilterValue(e){if(e.modules.filter&&e.modules.filter.headerElement)return e.modules.filter.headerElement.value;console.warn("Column Filter Error - No header filter set on column:",e.getField())}setHeaderFilterValue(e,t){e&&(e.modules.filter&&e.modules.filter.headerElement?(this.generateHeaderFilterElement(e,t,!0),e.modules.filter.success(t)):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}reloadHeaderFilter(e){e&&(e.modules.filter&&e.modules.filter.headerElement?this.generateHeaderFilterElement(e,e.modules.filter.value,!0):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}refreshFilter(){this.tableInitialized&&("remote"===this.table.options.filterMode?this.reloadData():this.refreshData(!0))}trackChanges(){this.changed=!0,this.dispatch("filter-changed")}hasChanged(){var e=this.changed;return this.changed=!1,e}setFilter(e,t,n,o){this.filterList=[],Array.isArray(e)||(e=[{field:e,type:t,value:n,params:o}]),this.addFilter(e)}addFilter(e,t,n,o){var r=!1;Array.isArray(e)||(e=[{field:e,type:t,value:n,params:o}]),e.forEach(a=>{(a=this.findFilter(a))&&(this.filterList.push(a),r=!0)}),r&&this.trackChanges()}findFilter(e){var t;if(Array.isArray(e))return this.findSubFilters(e);var n=!1;return"function"==typeof e.field?n=function(o){return e.field(o,e.type||{})}:c.filters[e.type]?n=(t=this.table.columnManager.getColumnByField(e.field))?function(o){return c.filters[e.type](e.value,t.getFieldValue(o),o,e.params||{})}:function(o){return c.filters[e.type](e.value,o[e.field],o,e.params||{})}:console.warn("Filter Error - No such filter type found, ignoring: ",e.type),e.func=n,!!e.func&&e}findSubFilters(e){var t=[];return e.forEach(n=>{(n=this.findFilter(n))&&t.push(n)}),!!t.length&&t}getFilters(e,t){var n=[];return e&&(n=this.getHeaderFilters()),t&&n.forEach(function(o){"function"==typeof o.type&&(o.type="function")}),n.concat(this.filtersToArray(this.filterList,t))}filtersToArray(e,t){var n=[];return e.forEach(o=>{var r;Array.isArray(o)?n.push(this.filtersToArray(o,t)):(r={field:o.field,type:o.type,value:o.value},t&&"function"==typeof r.type&&(r.type="function"),n.push(r))}),n}getHeaderFilters(){var e=[];for(var t in this.headerFilters)e.push({field:t,type:this.headerFilters[t].type,value:this.headerFilters[t].value});return e}removeFilter(e,t,n){Array.isArray(e)||(e=[{field:e,type:t,value:n}]),e.forEach(o=>{var r;(r=this.filterList.findIndex("object"==typeof o.field?a=>o===a:a=>o.field===a.field&&o.type===a.type&&o.value===a.value))>-1?this.filterList.splice(r,1):console.warn("Filter Error - No matching filter type found, ignoring: ",o.type)}),this.trackChanges()}clearFilter(e){this.filterList=[],e&&this.clearHeaderFilter(),this.trackChanges()}clearHeaderFilter(){this.headerFilters={},this.prevHeaderFilterChangeCheck="{}",this.headerFilterColumns.forEach(e=>{void 0!==e.modules.filter.value&&delete e.modules.filter.value,e.modules.filter.prevSuccess=void 0,this.reloadHeaderFilter(e)}),this.trackChanges()}search(e,t,n,o){var r=[],a=[];return Array.isArray(t)||(t=[{field:t,type:n,value:o}]),t.forEach(f=>{(f=this.findFilter(f))&&a.push(f)}),this.table.rowManager.rows.forEach(f=>{var y=!0;a.forEach(x=>{this.filterRecurse(x,f.getData())||(y=!1)}),y&&r.push("data"===e?f.getData("data"):f.getComponent())}),r}filter(e,t){var n=[],o=[];return this.subscribedExternal("dataFiltering")&&this.dispatchExternal("dataFiltering",this.getFilters()),"remote"!==this.table.options.filterMode&&(this.filterList.length||Object.keys(this.headerFilters).length)?e.forEach(r=>{this.filterRow(r)&&n.push(r)}):n=e.slice(0),this.subscribedExternal("dataFiltered")&&(n.forEach(r=>{o.push(r.getComponent())}),this.dispatchExternal("dataFiltered",this.getFilters(),o)),n}filterRow(e,t){var n=!0,o=e.getData();for(var r in this.filterList.forEach(a=>{this.filterRecurse(a,o)||(n=!1)}),this.headerFilters)this.headerFilters[r].func(o)||(n=!1);return n}filterRecurse(e,t){var n=!1;return Array.isArray(e)?e.forEach(o=>{this.filterRecurse(o,t)&&(n=!0)}):n=e.func(t),n}}return c.moduleName="filter",c.filters=Qe,c})();var k={plaintext:function dt(c,s,e){return this.emptyToSpace(this.sanitizeHTML(c.getValue()))},html:function gt(c,s,e){return c.getValue()},textarea:function Mt(c,s,e){return c.getElement().style.whiteSpace="pre-wrap",this.emptyToSpace(this.sanitizeHTML(c.getValue()))},money:function Rt(c,s,e){var o,r,a,f,t=parseFloat(c.getValue()),n="",y=s.decimal||".",x=s.thousand||",",P=s.negativeSign||"-",U=s.symbol||"",X=!!s.symbolAfter,he=void 0!==s.precision?s.precision:2;if(isNaN(t))return this.emptyToSpace(this.sanitizeHTML(c.getValue()));for(t<0&&(t=Math.abs(t),n=P),o=!1!==he?t.toFixed(he):t,r=(o=String(o).split("."))[0],a=o.length>1?y+o[1]:"",f=/(\d+)(\d{3})/;f.test(r);)r=r.replace(f,"$1"+x+"$2");return X?n+r+a+U:n+U+r+a},link:function de(c,s,e){var t=c.getValue(),n=s.urlPrefix||"",o=s.download,r=t,a=document.createElement("a");if(s.labelField&&(r=c.getData()[s.labelField]),s.label)switch(typeof s.label){case"string":r=s.label;break;case"function":r=s.label(c)}if(r){if(s.urlField&&(t=c.getData()[s.urlField]),s.url)switch(typeof s.url){case"string":t=s.url;break;case"function":t=s.url(c)}return a.setAttribute("href",n+t),s.target&&a.setAttribute("target",s.target),s.download&&(o="function"==typeof o?o(c):!0===o?"":o,a.setAttribute("download",o)),a.innerHTML=this.emptyToSpace(this.sanitizeHTML(r)),a}return"&nbsp;"},image:function We(c,s,e){var t=document.createElement("img"),n=c.getValue();switch(s.urlPrefix&&(n=s.urlPrefix+c.getValue()),s.urlSuffix&&(n+=s.urlSuffix),t.setAttribute("src",n),typeof s.height){case"number":t.style.height=s.height+"px";break;case"string":t.style.height=s.height}switch(typeof s.width){case"number":t.style.width=s.width+"px";break;case"string":t.style.width=s.width}return t.addEventListener("load",function(){c.getRow().normalizeHeight()}),t},tickCross:function W(c,s,e){var t=c.getValue(),n=c.getElement(),o=s.allowEmpty,a=void 0!==s.tickElement?s.tickElement:'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',f=void 0!==s.crossElement?s.crossElement:'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return s.allowTruthy&&t||!0===t||"true"===t||"True"===t||1===t||"1"===t?(n.setAttribute("aria-checked",!0),a||""):!o||"null"!==t&&""!==t&&null!=t?(n.setAttribute("aria-checked",!1),f||""):(n.setAttribute("aria-checked","mixed"),"")},datetime:function pe(c,s,e){var t=window.DateTime||luxon.DateTime,n=s.inputFormat||"yyyy-MM-dd HH:mm:ss",o=s.outputFormat||"dd/MM/yyyy HH:mm:ss",r=void 0!==s.invalidPlaceholder?s.invalidPlaceholder:"",a=c.getValue();if(void 0!==t){var f="iso"===n?t.fromISO(String(a)):t.fromFormat(String(a),n);return f.isValid?(s.timezone&&(f=f.shiftTimezone(s.timezone)),f.toFormat(o)):!0!==r&&a?"function"==typeof r?r(a):r:a}console.error("Format Error - 'datetime' formatter is dependant on luxon.js")},datetimediff:function ve(c,s,e){var t=window.DateTime||luxon.DateTime,n=s.inputFormat||"yyyy-MM-dd HH:mm:ss",o=void 0!==s.invalidPlaceholder?s.invalidPlaceholder:"",r=void 0!==s.suffix&&s.suffix,a=void 0!==s.unit?s.unit:"days",f=void 0!==s.humanize&&s.humanize,y=void 0!==s.date?s.date:t.now(),x=c.getValue();if(void 0!==t){var P="iso"===n?t.fromISO(String(x)):t.fromFormat(String(x),n);if(!P.isValid)return!0===o?x:"function"==typeof o?o(x):o;if(!f)return parseInt(P.diff(y,a)[a])+(r?" "+r:"")}else console.error("Format Error - 'datetimediff' formatter is dependant on luxon.js")},lookup:function Le(c,s,e){var t=c.getValue();return void 0===s[t]?(console.warn("Missing display value for "+t),t):s[t]},star:function qe(c,s,e){var t=c.getValue(),n=c.getElement(),o=s&&s.stars?s.stars:5,r=document.createElement("span"),a=document.createElementNS("http://www.w3.org/2000/svg","svg");r.style.verticalAlign="middle",a.setAttribute("width","14"),a.setAttribute("height","14"),a.setAttribute("viewBox","0 0 512 512"),a.setAttribute("xml:space","preserve"),a.style.padding="0 1px",t=t&&!isNaN(t)?parseInt(t):0,t=Math.max(0,Math.min(t,o));for(var x=1;x<=o;x++){var P=a.cloneNode(!0);P.innerHTML=x<=t?'<polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>':'<polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>',r.appendChild(P)}return n.style.whiteSpace="nowrap",n.style.overflow="hidden",n.style.textOverflow="ellipsis",n.setAttribute("aria-label",t),r},traffic:function _t(c,s,e){var x,t=this.sanitizeHTML(c.getValue())||0,n=document.createElement("span"),o=s&&s.max?s.max:100,r=s&&s.min?s.min:0,a=s&&void 0!==s.color?s.color:["red","orange","green"],f="#666666";if(!isNaN(t)&&void 0!==c.getValue()){switch(n.classList.add("tabulator-traffic-light"),x=parseFloat(t)<=o?parseFloat(t):o,x=parseFloat(x)>=r?parseFloat(x):r,x=Math.round((x-r)/((o-r)/100)),typeof a){case"string":f=a;break;case"function":f=a(t);break;case"object":if(Array.isArray(a)){var U=Math.floor(x/(100/a.length));U=Math.min(U,a.length-1),f=a[U=Math.max(U,0)];break}}return n.style.backgroundColor=f,n}},progress:function ct(c,s,e){var y,x,P,U,t=this.sanitizeHTML(c.getValue())||0,n=c.getElement(),o=s&&s.max?s.max:100,r=s&&s.min?s.min:0,a=s&&s.legendAlign?s.legendAlign:"center";switch(y=parseFloat(t)<=o?parseFloat(t):o,y=parseFloat(y)>=r?parseFloat(y):r,y=Math.round((y-r)/((o-r)/100)),typeof s.color){case"string":x=s.color;break;case"function":x=s.color(t);break;case"object":if(Array.isArray(s.color)){var X=100/s.color.length,he=Math.floor(y/X);he=Math.min(he,s.color.length-1),he=Math.max(he,0),x=s.color[he];break}default:x="#2DC214"}switch(typeof s.legend){case"string":P=s.legend;break;case"function":P=s.legend(t);break;case"boolean":P=t;break;default:P=!1}switch(typeof s.legendColor){case"string":U=s.legendColor;break;case"function":U=s.legendColor(t);break;case"object":Array.isArray(s.legendColor)&&(X=100/s.legendColor.length,he=Math.floor(y/X),he=Math.min(he,s.legendColor.length-1),he=Math.max(he,0),U=s.legendColor[he]);break;default:U="#000"}n.style.minWidth="30px",n.style.position="relative",n.setAttribute("aria-label",y);var me=document.createElement("div");me.style.display="inline-block",me.style.position="absolute",me.style.width=y+"%",me.style.backgroundColor=x,me.style.height="100%",me.setAttribute("data-max",o),me.setAttribute("data-min",r);var be=document.createElement("div");if(be.style.position="relative",be.style.width="100%",be.style.height="100%",P){var Ie=document.createElement("div");Ie.style.position="absolute",Ie.style.top=0,Ie.style.left=0,Ie.style.textAlign=a,Ie.style.width="100%",Ie.style.color=U,Ie.innerHTML=P}return e(function(){if(!(c instanceof xe)){var Ue=document.createElement("div");Ue.style.position="absolute",Ue.style.top="4px",Ue.style.bottom="4px",Ue.style.left="4px",Ue.style.right="4px",n.appendChild(Ue),n=Ue}n.appendChild(be),be.appendChild(me),P&&be.appendChild(Ie)}),""},color:function ue(c,s,e){return c.getElement().style.backgroundColor=this.sanitizeHTML(c.getValue()),""},buttonTick:function V(c,s,e){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'},buttonCross:function S(c,s,e){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'},rownum:function v(c,s,e){return this.table.rowManager.activeRows.indexOf(c.getRow()._getSelf())+1||""},handle:function m(c,s,e){return c.getElement().classList.add("tabulator-row-handle"),"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"},responsiveCollapse:function _(c,s,e){var t=document.createElement("div"),n=c.getRow()._row.modules.responsiveLayout;function o(r){var a=n.element;n.open=r,a&&(n.open?(t.classList.add("open"),a.style.display=""):(t.classList.remove("open"),a.style.display="none"))}return t.classList.add("tabulator-responsive-collapse-toggle"),t.innerHTML="<span class='tabulator-responsive-collapse-toggle-open'>+</span><span class='tabulator-responsive-collapse-toggle-close'>-</span>",c.getElement().classList.add("tabulator-row-handle"),t.addEventListener("click",function(r){r.stopImmediatePropagation(),o(!n.open)}),o(n.open),t},rowSelection:function E(c,s,e){var t=document.createElement("input"),n=!1;if(t.type="checkbox",this.table.modExists("selectRow",!0))if(t.addEventListener("click",r=>{r.stopPropagation()}),"function"==typeof c.getRow){var o=c.getRow();o instanceof Ge?(t.addEventListener("change",r=>{"click"===this.table.options.selectableRangeMode&&n?n=!1:o.toggleSelect()}),"click"===this.table.options.selectableRangeMode&&t.addEventListener("click",r=>{n=!0,this.table.modules.selectRow.handleComplexRowClick(o._row,r)}),t.checked=o.isSelected&&o.isSelected(),this.table.modules.selectRow.registerRowSelectCheckbox(o,t)):t=""}else t.addEventListener("change",r=>{this.table.modules.selectRow.selectedRows.length?this.table.deselectRow():this.table.selectRow(s.rowRange)}),this.table.modules.selectRow.registerHeaderSelectCheckbox(t);return t}};let K=(()=>{class c extends d{constructor(e){super(e),this.registerColumnOption("formatter"),this.registerColumnOption("formatterParams"),this.registerColumnOption("formatterPrint"),this.registerColumnOption("formatterPrintParams"),this.registerColumnOption("formatterClipboard"),this.registerColumnOption("formatterClipboardParams"),this.registerColumnOption("formatterHtmlOutput"),this.registerColumnOption("formatterHtmlOutputParams"),this.registerColumnOption("titleFormatter"),this.registerColumnOption("titleFormatterParams")}initialize(){this.subscribe("cell-format",this.formatValue.bind(this)),this.subscribe("cell-rendered",this.cellRendered.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-format",this.formatHeader.bind(this))}initializeColumn(e){e.modules.format=this.lookupFormatter(e,""),void 0!==e.definition.formatterPrint&&(e.modules.format.print=this.lookupFormatter(e,"Print")),void 0!==e.definition.formatterClipboard&&(e.modules.format.clipboard=this.lookupFormatter(e,"Clipboard")),void 0!==e.definition.formatterHtmlOutput&&(e.modules.format.htmlOutput=this.lookupFormatter(e,"HtmlOutput"))}lookupFormatter(e,t){var n={params:e.definition["formatter"+t+"Params"]||{}},o=e.definition["formatter"+t];switch(typeof o){case"string":c.formatters[o]?n.formatter=c.formatters[o]:(console.warn("Formatter Error - No such formatter found: ",o),n.formatter=c.formatters.plaintext);break;case"function":n.formatter=o;break;default:n.formatter=c.formatters.plaintext}return n}cellRendered(e){e.modules.format&&e.modules.format.renderedCallback&&!e.modules.format.rendered&&(e.modules.format.renderedCallback(),e.modules.format.rendered=!0)}formatHeader(e,t,n){var o,r,a,f;return e.definition.titleFormatter?(o=this.getFormatter(e.definition.titleFormatter),a=y=>{e.titleFormatterRendered=y},f={getValue:function(){return t},getElement:function(){return n}},r="function"==typeof(r=e.definition.titleFormatterParams||{})?r():r,o.call(this,f,r,a)):t}formatValue(e){var t=e.getComponent(),n="function"==typeof e.column.modules.format.params?e.column.modules.format.params(t):e.column.modules.format.params;return e.column.modules.format.formatter.call(this,t,n,function o(r){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=r,e.modules.format.rendered=!1})}formatExportValue(e,t){var o,n=e.column.modules.format[t];if(n){let a=function(f){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=f,e.modules.format.rendered=!1};return o="function"==typeof n.params?n.params(component):n.params,n.formatter.call(this,e.getComponent(),o,a)}return this.formatValue(e)}sanitizeHTML(e){if(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=\/]/g,function(n){return t[n]})}return e}emptyToSpace(e){return null==e||""===e?"&nbsp;":e}getFormatter(t){switch(typeof t){case"string":c.formatters[t]?t=c.formatters[t]:(console.warn("Formatter Error - No such formatter found: ",t),t=c.formatters.plaintext);break;case"function":t=t;break;default:t=c.formatters.plaintext}return t}}return c.moduleName="format",c.formatters=k,c})(),ne=(()=>{class c extends d{constructor(e){super(e),this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.rightPadding=0,this.initializationMode="left",this.active=!1,this.scrollEndTimer=!1,this.blocked=!0,this.registerColumnOption("frozen")}reset(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.rightMargin=0,this.active=!1,this.table.columnManager.headersElement.style.marginLeft=0,this.table.columnManager.element.style.paddingRight=0}initialize(){this.subscribe("cell-layout",this.layoutCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-width",this.layout.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("table-layout",this.layout.bind(this)),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("columns-loading",this.reset.bind(this)),this.subscribe("table-redraw",this.layout.bind(this)),this.subscribe("layout-refreshing",this.blockLayout.bind(this)),this.subscribe("layout-refreshed",this.unblockLayout.bind(this))}blockLayout(){this.blocked=!0}unblockLayout(){this.blocked=!1}layoutCell(e){this.layoutElement(e.element,e.column)}initializeColumn(e){var t={margin:0,edge:!1};e.isGroup||(this.frozenCheck(e)?(t.position=this.initializationMode,"left"==this.initializationMode?this.leftColumns.push(e):this.rightColumns.unshift(e),this.active=!0,e.modules.frozen=t):this.initializationMode="right")}frozenCheck(e){return e.parent.isGroup&&e.definition.frozen&&console.warn("Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups"),e.parent.isGroup?this.frozenCheck(e.parent):e.definition.frozen}scrollHorizontal(){var e;this.active&&(clearTimeout(this.scrollEndTimer),this.scrollEndTimer=setTimeout(()=>{this.layout()},100),e=this.table.rowManager.getVisibleRows(),this.calcMargins(),this.layoutColumnPosition(),this.layoutCalcRows(),e.forEach(t=>{"row"===t.type&&this.layoutRow(t)}),this.table.rowManager.tableElement.style.marginRight=this.rightMargin)}calcMargins(){this.leftMargin=this._calcSpace(this.leftColumns,this.leftColumns.length)+"px",this.table.columnManager.headersElement.style.marginLeft=this.leftMargin,this.rightMargin=this._calcSpace(this.rightColumns,this.rightColumns.length)+"px",this.table.columnManager.element.style.paddingRight=this.rightMargin,this.rightPadding=this.table.rowManager.element.clientWidth+this.table.columnManager.scrollLeft}layoutCalcRows(){this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&this.table.modules.columnCalcs.topRow&&this.layoutRow(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&this.table.modules.columnCalcs.botRow&&this.layoutRow(this.table.modules.columnCalcs.botRow),this.table.modExists("groupRows")&&this.layoutGroupCalcs(this.table.modules.groupRows.getGroups()))}layoutGroupCalcs(e){e.forEach(t=>{t.calcs.top&&this.layoutRow(t.calcs.top),t.calcs.bottom&&this.layoutRow(t.calcs.bottom),t.groupList&&t.groupList.length&&this.layoutGroupCalcs(t.groupList&&t.groupList)})}layoutColumnPosition(e){var t=[];this.leftColumns.forEach((n,o)=>{if(n.modules.frozen.margin=this._calcSpace(this.leftColumns,o)+this.table.columnManager.scrollLeft+"px",n.modules.frozen.edge=o==this.leftColumns.length-1,n.parent.isGroup){var r=this.getColGroupParentElement(n);t.includes(r)||(this.layoutElement(r,n),t.push(r)),n.modules.frozen.edge&&r.classList.add("tabulator-frozen-"+n.modules.frozen.position)}else this.layoutElement(n.getElement(),n);e&&n.cells.forEach(a=>{this.layoutElement(a.getElement(!0),n)})}),this.rightColumns.forEach((n,o)=>{n.modules.frozen.margin=this.rightPadding-this._calcSpace(this.rightColumns,o+1)+"px",n.modules.frozen.edge=o==this.rightColumns.length-1,this.layoutElement(n.parent.isGroup?this.getColGroupParentElement(n):n.getElement(),n),e&&n.cells.forEach(r=>{this.layoutElement(r.getElement(!0),n)})})}getColGroupParentElement(e){return e.parent.isGroup?this.getColGroupParentElement(e.parent):e.getElement()}layout(){this.active&&!this.blocked&&(this.calcMargins(),this.table.rowManager.getDisplayRows().forEach(e=>{"row"===e.type&&this.layoutRow(e)}),this.layoutCalcRows(),this.layoutColumnPosition(!0),this.table.rowManager.tableElement.style.marginRight=this.rightMargin)}layoutRow(e){e.getElement().style.paddingLeft=this.leftMargin,"fitDataFill"===this.table.options.layout&&this.rightColumns.length&&(this.table.rowManager.getTableElement().style.minWidth="calc(100% - "+this.rightMargin+")"),this.leftColumns.forEach(n=>{var o=e.getCell(n);o&&this.layoutElement(o.getElement(!0),n)}),this.rightColumns.forEach(n=>{var o=e.getCell(n);o&&this.layoutElement(o.getElement(!0),n)})}layoutElement(e,t){t.modules.frozen&&(e.style.position="absolute",e.style.left=t.modules.frozen.margin,e.classList.add("tabulator-frozen"),t.modules.frozen.edge&&e.classList.add("tabulator-frozen-"+t.modules.frozen.position))}_calcSpace(e,t){var n=0;for(let o=0;o<t;o++)e[o].visible&&(n+=e[o].getWidth());return n}}return c.moduleName="frozenColumns",c})(),Ce=(()=>{class c extends d{constructor(e){super(e),this.topElement=document.createElement("div"),this.rows=[],this.registerComponentFunction("row","freeze",this.freezeRow.bind(this)),this.registerComponentFunction("row","unfreeze",this.unfreezeRow.bind(this)),this.registerComponentFunction("row","isFrozen",this.isRowFrozen.bind(this))}initialize(){this.rows=[],this.topElement.classList.add("tabulator-frozen-rows-holder"),this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.subscribe("row-deleting",this.detachRow.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),10)}isRowFrozen(e){return this.rows.indexOf(e)>-1}isFrozen(){return!!this.rows.length}visibleRows(e,t){return this.rows.forEach(n=>{t.push(n)}),t}getRows(e){var t=e.slice(0);return this.rows.forEach(function(n){var o=t.indexOf(n);o>-1&&t.splice(o,1)}),t}freezeRow(e){e.modules.frozen?console.warn("Freeze Error - Row is already frozen"):(e.modules.frozen=!0,this.topElement.appendChild(e.getElement()),e.initialize(),e.normalizeHeight(),this.table.rowManager.adjustTableSize(),this.rows.push(e),this.refreshData(!1,"display"),this.styleRows())}unfreezeRow(e){this.rows.indexOf(e),e.modules.frozen?(e.modules.frozen=!1,this.detachRow(e),this.table.rowManager.adjustTableSize(),this.refreshData(!1,"display"),this.rows.length&&this.styleRows()):console.warn("Freeze Error - Row is already unfrozen")}detachRow(e){var t=this.rows.indexOf(e);if(t>-1){var n=e.getElement();n.parentNode&&n.parentNode.removeChild(n),this.rows.splice(t,1)}}styleRows(e){this.rows.forEach((t,n)=>{this.table.rowManager.styleRow(t,n)})}}return c.moduleName="frozenRows",c})();class Fe{constructor(s){return this._group=s,this.type="GroupComponent",new Proxy(this,{get:function(e,t,n){return void 0!==e[t]?e[t]:e._group.groupManager.table.componentFunctionBinder.handle("row",e._group,t)}})}getKey(){return this._group.key}getField(){return this._group.field}getElement(){return this._group.element}getRows(){return this._group.getRows(!0)}getSubGroups(){return this._group.getSubGroups(!0)}getParentGroup(){return!!this._group.parent&&this._group.parent.getComponent()}isVisible(){return this._group.visible}show(){this._group.show()}hide(){this._group.hide()}toggle(){this._group.toggleVisibility()}_getSelf(){return this._group}getTable(){return this._group.groupManager.table}}class Ke{constructor(s,e,t,n,o,r,a){this.groupManager=s,this.parent=e,this.key=n,this.level=t,this.field=o,this.hasSubGroups=t<s.groupIDLookups.length-1,this.addRow=this.hasSubGroups?this._addRowToGroup:this._addRow,this.type="group",this.old=a,this.rows=[],this.groups=[],this.groupList=[],this.generator=r,this.element=!1,this.elementContents=!1,this.height=0,this.outerHeight=0,this.initialized=!1,this.calcs={},this.initialized=!1,this.modules={},this.arrowElement=!1,this.visible=a?a.visible:void 0!==s.startOpen[t]?s.startOpen[t]:s.startOpen[0],this.component=null,this.createElements(),this.addBindings(),this.createValueGroups()}wipe(){this.groupList.length?this.groupList.forEach(function(s){s.wipe()}):this.rows.forEach(s=>{s.modules&&delete s.modules.group}),this.element=!1,this.arrowElement=!1,this.elementContents=!1}createElements(){var s=document.createElement("div");s.classList.add("tabulator-arrow"),this.element=document.createElement("div"),this.element.classList.add("tabulator-row"),this.element.classList.add("tabulator-group"),this.element.classList.add("tabulator-group-level-"+this.level),this.element.setAttribute("role","rowgroup"),this.arrowElement=document.createElement("div"),this.arrowElement.classList.add("tabulator-group-toggle"),this.arrowElement.appendChild(s),!1!==this.groupManager.table.options.movableRows&&this.groupManager.table.modExists("moveRow")&&this.groupManager.table.modules.moveRow.initializeGroupHeader(this)}createValueGroups(){var s=this.level+1;this.groupManager.allowedValues&&this.groupManager.allowedValues[s]&&this.groupManager.allowedValues[s].forEach(e=>{this._createGroup(e,s)})}addBindings(){this.groupManager.table.options.groupToggleElement&&("arrow"==this.groupManager.table.options.groupToggleElement?this.arrowElement:this.element).addEventListener("click",e=>{e.stopPropagation(),e.stopImmediatePropagation(),this.toggleVisibility()})}_createGroup(s,e){var t=e+"_"+s,n=new Ke(this.groupManager,this,e,s,this.groupManager.groupIDLookups[e].field,this.groupManager.headerGenerator[e]||this.groupManager.headerGenerator[0],!!this.old&&this.old.groups[t]);this.groups[t]=n,this.groupList.push(n)}_addRowToGroup(s){var e=this.level+1;if(this.hasSubGroups){var t=this.groupManager.groupIDLookups[e].func(s.getData()),n=e+"_"+t;this.groupManager.allowedValues&&this.groupManager.allowedValues[e]?this.groups[n]&&this.groups[n].addRow(s):(this.groups[n]||this._createGroup(t,e),this.groups[n].addRow(s))}}_addRow(s){this.rows.push(s),s.modules.group=this}insertRow(s,e,t){var n=this.conformRowData({});s.updateData(n);var o=this.rows.indexOf(e);o>-1?this.rows.splice(t?o+1:o,0,s):t?this.rows.push(s):this.rows.unshift(s),s.modules.group=this,this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this),this.groupManager.updateGroupRows(!0)}scrollHeader(s){this.arrowElement&&(this.arrowElement.style.marginLeft=s,this.groupList.forEach(function(e){e.scrollHeader(s)}))}getRowIndex(s){}conformRowData(s){return this.field?s[this.field]=this.key:console.warn("Data Conforming Error - Cannot conform row data to match new group as groupBy is a function"),this.parent&&(s=this.parent.conformRowData(s)),s}removeRow(s){var e=this.rows.indexOf(s),t=s.getElement();e>-1&&this.rows.splice(e,1),this.groupManager.table.options.groupValues||this.rows.length?(t.parentNode&&t.parentNode.removeChild(t),this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this)):(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this),this.groupManager.updateGroupRows(!0))}removeGroup(s){var t,e=s.level+"_"+s.key;this.groups[e]&&(delete this.groups[e],(t=this.groupList.indexOf(s))>-1&&this.groupList.splice(t,1),this.groupList.length||(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this)))}getHeadersAndRows(s){var e=[];return e.push(this),this._visSet(),this.visible?this.groupList.length?this.groupList.forEach(function(t){e=e.concat(t.getHeadersAndRows(s))}):(!s&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),e=e.concat(this.rows),!s&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))):!this.groupList.length&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&(!s&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top))),!s&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom)))),e}getData(s,e){var t=[];return this._visSet(),(!s||s&&this.visible)&&this.rows.forEach(n=>{t.push(n.getData(e||"data"))}),t}getRowCount(){var s=0;return this.groupList.length?this.groupList.forEach(e=>{s+=e.getRowCount()}):s=this.rows.length,s}toggleVisibility(){this.visible?this.hide():this.show()}hide(){this.visible=!1,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination?this.groupManager.updateGroupRows(!0):(this.element.classList.remove("tabulator-group-visible"),this.groupList.length?this.groupList.forEach(s=>{s.getHeadersAndRows().forEach(t=>{t.detachElement()})}):this.rows.forEach(s=>{var e=s.getElement();e.parentNode.removeChild(e)}),this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex()),this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()),this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!1)}show(){if(this.visible=!0,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination)this.groupManager.updateGroupRows(!0);else{this.element.classList.add("tabulator-group-visible");var s=this.generateElement();this.groupList.length?this.groupList.forEach(e=>{e.getHeadersAndRows().forEach(n=>{var o=n.getElement();s.parentNode.insertBefore(o,s.nextSibling),n.initialize(),s=o})}):this.rows.forEach(e=>{var t=e.getElement();s.parentNode.insertBefore(t,s.nextSibling),e.initialize(),s=t}),this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex()),this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()}this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!0)}_visSet(){var s=[];"function"==typeof this.visible&&(this.rows.forEach(function(e){s.push(e.getData())}),this.visible=this.visible(this.key,this.getRowCount(),s,this.getComponent()))}getRowGroup(s){var e=!1;return this.groupList.length?this.groupList.forEach(function(t){var n=t.getRowGroup(s);n&&(e=n)}):this.rows.find(function(t){return t===s})&&(e=this),e}getSubGroups(s){var e=[];return this.groupList.forEach(function(t){e.push(s?t.getComponent():t)}),e}getRows(s){var e=[];return this.rows.forEach(function(t){e.push(s?t.getComponent():t)}),e}generateGroupHeaderContents(){var s=[];for(this.rows.forEach(function(e){s.push(e.getData())}),this.elementContents=this.generator(this.key,this.getRowCount(),s,this.getComponent());this.element.firstChild;)this.element.removeChild(this.element.firstChild);"string"==typeof this.elementContents?this.element.innerHTML=this.elementContents:this.element.appendChild(this.elementContents),this.element.insertBefore(this.arrowElement,this.element.firstChild)}getPath(s=[]){return s.unshift(this.key),this.parent&&this.parent.getPath(s),s}getElement(){return this.elementContents?this.element:this.generateElement()}generateElement(){this.addBindings=!1,this._visSet(),this.visible?this.element.classList.add("tabulator-group-visible"):this.element.classList.remove("tabulator-group-visible");for(var s=0;s<this.element.childNodes.length;++s)this.element.childNodes[s].parentNode.removeChild(this.element.childNodes[s]);return this.generateGroupHeaderContents(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}normalizeHeight(){this.setHeight(this.element.clientHeight)}initialize(s){(!this.initialized||s)&&(this.normalizeHeight(),this.initialized=!0)}reinitialize(){this.initialized=!1,this.height=0,F.elVisible(this.element)&&this.initialize(!0)}setHeight(s){this.height!=s&&(this.height=s,this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getGroup(){return this}reinitializeHeight(){}calcHeight(){}setCellHeight(){}clearCellHeight(){}deinitializeHeight(){}getComponent(){return this.component||(this.component=new Fe(this)),this.component}}let st=(()=>{class c extends d{constructor(e){super(e),this.groupIDLookups=!1,this.startOpen=[function(){return!1}],this.headerGenerator=[function(){return""}],this.groupList=[],this.allowedValues=!1,this.groups={},this.displayIndex=0,this.displayHandler=this.getRows.bind(this),this.registerTableOption("groupBy",!1),this.registerTableOption("groupStartOpen",!0),this.registerTableOption("groupValues",!1),this.registerTableOption("groupUpdateOnCellEdit",!1),this.registerTableOption("groupHeader",!1),this.registerTableOption("groupHeaderPrint",null),this.registerTableOption("groupHeaderClipboard",null),this.registerTableOption("groupHeaderHtmlOutput",null),this.registerTableOption("groupHeaderDownload",null),this.registerTableOption("groupToggleElement","arrow"),this.registerTableOption("groupClosedShowCalcs",!1),this.registerTableFunction("setGroupBy",this.setGroupBy.bind(this)),this.registerTableFunction("setGroupValues",this.setGroupValues.bind(this)),this.registerTableFunction("setGroupStartOpen",this.setGroupStartOpen.bind(this)),this.registerTableFunction("setGroupHeader",this.setGroupHeader.bind(this)),this.registerTableFunction("getGroups",this.userGetGroups.bind(this)),this.registerTableFunction("getGroupedData",this.userGetGroupedData.bind(this)),this.registerComponentFunction("row","getGroup",this.rowGetGroup.bind(this))}initialize(){this.table.options.groupBy&&(this.table.options.groupUpdateOnCellEdit&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("row-data-changed",this.reassignRowToGroup.bind(this),0)),this.subscribe("table-built",this.configureGroupSetup.bind(this)),this.subscribe("row-deleting",this.rowDeleting.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHeaders.bind(this)),this.subscribe("rows-wipe",this.wipe.bind(this)),this.subscribe("rows-added",this.rowsUpdated.bind(this)),this.subscribe("row-moving",this.rowMoving.bind(this)),this.subscribe("row-adding-index",this.rowAddingIndex.bind(this)),this.subscribe("rows-sample",this.rowSample.bind(this)),this.subscribe("render-virtual-fill",this.virtualRenderFill.bind(this)),this.registerDisplayHandler(this.displayHandler,20),this.initialized=!0)}configureGroupSetup(){if(this.table.options.groupBy){var e=this.table.options.groupBy,t=this.table.options.groupStartOpen,n=this.table.options.groupHeader;this.allowedValues=this.table.options.groupValues,Array.isArray(e)&&Array.isArray(n)&&e.length>n.length&&console.warn("Error creating group headers, groupHeader array is shorter than groupBy array"),this.headerGenerator=[function(){return""}],this.startOpen=[function(){return!1}],this.langBind("groups|item",(r,a)=>{this.headerGenerator[0]=(f,y,x)=>(void 0===f?"":f)+"<span>("+y+" "+(1===y?r:a.groups.items)+")</span>"}),this.groupIDLookups=[],Array.isArray(e)||e?this.table.modExists("columnCalcs")&&"table"!=this.table.options.columnCalcs&&"both"!=this.table.options.columnCalcs&&this.table.modules.columnCalcs.removeCalcs():this.table.modExists("columnCalcs")&&"group"!=this.table.options.columnCalcs&&this.table.columnManager.getRealColumns().forEach(r=>{r.definition.topCalc&&this.table.modules.columnCalcs.initializeTopRow(),r.definition.bottomCalc&&this.table.modules.columnCalcs.initializeBottomRow()}),Array.isArray(e)||(e=[e]),e.forEach((r,a)=>{var f,y;f="function"==typeof r?r:(y=this.table.columnManager.getColumnByField(r))?function(x){return y.getFieldValue(x)}:function(x){return x[r]},this.groupIDLookups.push({field:"function"!=typeof r&&r,func:f,values:!!this.allowedValues&&this.allowedValues[a]})}),t&&(Array.isArray(t)||(t=[t]),t.forEach(r=>{}),this.startOpen=t),n&&(this.headerGenerator=Array.isArray(n)?n:[n])}}rowSample(e,t){var n=this.getGroups(!1)[0];return t.push(n.getRows(!1)[0]),t}virtualRenderFill(){var e=this.table.rowManager.tableElement,t=this.table.rowManager.getVisibleRows();t=t.filter(n=>"group"!==n.type),e.style.minWidth=t.length?"":this.table.columnManager.getWidth()+"px"}rowAddingIndex(e,t,n){this.assignRowToGroup(e);var o=e.modules.group.rows;return o.length>1&&(!t||t&&-1==o.indexOf(t)?n?o[0]!==e&&this.table.rowManager.moveRowInArray(e.modules.group.rows,e,t=o[0],!n):o[o.length-1]!==e&&this.table.rowManager.moveRowInArray(e.modules.group.rows,e,t=o[o.length-1],!n):this.table.rowManager.moveRowInArray(e.modules.group.rows,e,t,!n)),t}trackChanges(){this.dispatch("group-changed")}setGroupBy(e){this.table.options.groupBy=e,this.initialized?this.configureGroupSetup():this.initialize(),this.refreshData(),this.trackChanges()}setGroupValues(e){this.table.options.groupValues=e,this.configureGroupSetup(),this.refreshData(),this.trackChanges()}setGroupStartOpen(e){this.table.options.groupStartOpen=e,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}setGroupHeader(e){this.table.options.groupHeader=e,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}userGetGroups(e){return this.getGroups(!0)}userGetGroupedData(){return this.table.options.groupBy?this.getGroupedData():this.getData()}rowGetGroup(e){return!!e.modules.group&&e.modules.group.getComponent()}rowMoving(e,t,n){!n&&t instanceof Ke&&(t=this.table.rowManager.prevDisplayRow(e)||t);var o=t instanceof Ke?t:t.modules.group,r=e instanceof Ke?e:e.modules.group;o===r?this.table.rowManager.moveRowInArray(o.rows,e,t,n):(r&&r.removeRow(e),o.insertRow(e,t,n))}rowDeleting(e){e.modules.group&&e.modules.group.removeRow(e)}rowsUpdated(e){this.updateGroupRows(!0)}cellUpdated(e){this.reassignRowToGroup(e.row)}setDisplayIndex(e){this.displayIndex=e}getDisplayIndex(){return this.displayIndex}getRows(e){return this.table.options.groupBy&&this.groupIDLookups.length?(this.dispatchExternal("dataGrouping"),this.generateGroups(e),this.subscribedExternal("dataGrouped")&&this.dispatchExternal("dataGrouped",this.getGroups(!0)),this.updateGroupRows()):e.slice(0)}getGroups(e){var t=[];return this.groupList.forEach(function(n){t.push(e?n.getComponent():n)}),t}getChildGroups(e){var t=[];return e||(e=this),e.groupList.forEach(n=>{n.groupList.length?t=t.concat(this.getChildGroups(n)):t.push(n)}),t}wipe(){this.groupList.forEach(function(e){e.wipe()})}pullGroupListData(e){var t=[];return e.forEach(n=>{var o={level:0,rowCount:0,headerContent:""},r=[];n.hasSubGroups?(r=this.pullGroupListData(n.groupList),o.level=n.level,o.rowCount=r.length-n.groupList.length,o.headerContent=n.generator(n.key,o.rowCount,n.rows,n),t.push(o),t=t.concat(r)):(o.level=n.level,o.headerContent=n.generator(n.key,n.rows.length,n.rows,n),o.rowCount=n.getRows().length,t.push(o),n.getRows().forEach(a=>{t.push(a.getData("data"))}))}),t}getGroupedData(){return this.pullGroupListData(this.groupList)}getRowGroup(e){var t=!1;return this.groupList.forEach(n=>{var o=n.getRowGroup(e);o&&(t=o)}),t}countGroups(){return this.groupList.length}generateGroups(e){var t=this.groups;this.groups={},this.groupList=[],this.allowedValues&&this.allowedValues[0]?(this.allowedValues[0].forEach(n=>{this.createGroup(n,0,t)}),e.forEach(n=>{this.assignRowToExistingGroup(n,t)})):e.forEach(n=>{this.assignRowToGroup(n,t)})}createGroup(e,t,n){var r,o=t+"_"+e;r=new Ke(this,!1,t,e,this.groupIDLookups[0].field,this.headerGenerator[0],(n=n||[])[o]),this.groups[o]=r,this.groupList.push(r)}assignRowToExistingGroup(e,t){var o="0_"+this.groupIDLookups[0].func(e.getData());this.groups[o]&&this.groups[o].addRow(e)}assignRowToGroup(e,t){var n=this.groupIDLookups[0].func(e.getData()),o=!this.groups["0_"+n];return o&&this.createGroup(n,0,t),this.groups["0_"+n].addRow(e),!o}reassignRowToGroup(e){if("row"===e.type){var t=e.modules.group,n=t.getPath(),o=this.getExpectedPath(e);n.length==o.length&&n.every((a,f)=>a===o[f])||(t.removeRow(e),this.assignRowToGroup(e,this.groups),this.refreshData(!0))}}getExpectedPath(e){var t=[],n=e.getData();return this.groupIDLookups.forEach(o=>{t.push(o.func(n))}),t}updateGroupRows(e){var t=[];return this.groupList.forEach(n=>{t=t.concat(n.getHeadersAndRows())}),e&&this.refreshData(!0,this.displayHandler),t}scrollHeaders(e){"virtual"===this.table.options.renderHorizontal&&(e-=this.table.columnManager.renderer.vDomPadLeft),e+="px",this.groupList.forEach(t=>{t.scrollHeader(e)})}removeGroup(e){var n,t=e.level+"_"+e.key;this.groups[t]&&(delete this.groups[t],(n=this.groupList.indexOf(e))>-1&&this.groupList.splice(n,1))}}return c.moduleName="groupRows",c})();var tt={cellEdit:function(c){c.component.setValueProcessData(c.data.oldValue),c.component.cellRendered()},rowAdd:function(c){c.component.deleteActual()},rowDelete:function(c){var s=this.table.rowManager.addRowActual(c.data.data,c.data.pos,c.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(c.component,s)},rowMove:function(c){this.table.rowManager.moveRowActual(c.component,this.table.rowManager.rows[c.data.posFrom],!c.data.after),this.table.rowManager.redraw()}},ft={cellEdit:function(c){c.component.setValueProcessData(c.data.newValue),c.component.cellRendered()},rowAdd:function(c){var s=this.table.rowManager.addRowActual(c.data.data,c.data.pos,c.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(c.component,s)},rowDelete:function(c){c.component.deleteActual()},rowMove:function(c){this.table.rowManager.moveRowActual(c.component,this.table.rowManager.rows[c.data.posTo],c.data.after),this.table.rowManager.redraw()}};let wt=(()=>{class c extends d{constructor(e){super(e),this.history=[],this.index=-1,this.registerTableOption("history",!1)}initialize(){this.table.options.history&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("cell-delete",this.clearComponentHistory.bind(this)),this.subscribe("row-delete",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clear.bind(this)),this.subscribe("row-added",this.rowAdded.bind(this)),this.subscribe("row-move",this.rowMoved.bind(this))),this.registerTableFunction("undo",this.undo.bind(this)),this.registerTableFunction("redo",this.redo.bind(this)),this.registerTableFunction("getHistoryUndoSize",this.getHistoryUndoSize.bind(this)),this.registerTableFunction("getHistoryRedoSize",this.getHistoryRedoSize.bind(this)),this.registerTableFunction("clearHistory",this.clear.bind(this))}rowMoved(e,t,n){this.action("rowMove",e,{posFrom:this.table.rowManager.getRowPosition(e),posTo:this.table.rowManager.getRowPosition(t),to:t,after:n})}rowAdded(e,t,n,o){this.action("rowAdd",e,{data:t,pos:n,index:o})}rowDeleted(e){var t,n;this.table.options.groupBy?(t=(n=e.getComponent().getGroup().rows).indexOf(e))&&(t=n[t-1]):(t=e.table.rowManager.getRowIndex(e))&&(t=e.table.rowManager.rows[t-1]),this.action("rowDelete",e,{data:e.getData(),pos:!t,index:t})}cellUpdated(e){this.action("cellEdit",e,{oldValue:e.oldValue,newValue:e.value})}clear(){this.history=[],this.index=-1}action(e,t,n){this.history=this.history.slice(0,this.index+1),this.history.push({type:e,component:t,data:n}),this.index++}getHistoryUndoSize(){return this.index+1}getHistoryRedoSize(){return this.history.length-(this.index+1)}clearComponentHistory(e){var t=this.history.findIndex(function(n){return n.component===e});t>-1&&(this.history.splice(t,1),t<=this.index&&this.index--,this.clearComponentHistory(e))}undo(){if(this.index>-1){let e=this.history[this.index];return c.undoers[e.type].call(this,e),this.index--,this.dispatchExternal("historyUndo",e.type,e.component.getComponent(),e.data),!0}return console.warn("History Undo Error - No more history to undo"),!1}redo(){if(this.history.length-1>this.index){this.index++;let e=this.history[this.index];return c.redoers[e.type].call(this,e),this.dispatchExternal("historyRedo",e.type,e.component.getComponent(),e.data),!0}return console.warn("History Redo Error - No more history to redo"),!1}_rebindRow(e,t){this.history.forEach(function(n){if(n.component instanceof $e)n.component===e&&(n.component=t);else if(n.component instanceof Ye&&n.component.row===e){var o=n.component.column.getField();o&&(n.component=t.getCell(o))}})}}return c.moduleName="history",c.undoers=tt,c.redoers=ft,c})(),Dt=(()=>{class c extends d{constructor(e){super(e),this.fieldIndex=[],this.hasIndex=!1}initialize(){this.tableElementCheck()}tableElementCheck(){this.table.originalElement&&"TABLE"===this.table.originalElement.tagName&&this.parseTable()}parseTable(){var e=this.table.originalElement,t=this.table.options,o=e.getElementsByTagName("th"),r=e.getElementsByTagName("tbody")[0],a=[];this.hasIndex=!1,this.dispatchExternal("htmlImporting"),r=r?r.getElementsByTagName("tr"):[],this._extractOptions(e,t),o.length?this._extractHeaders(o,r):this._generateBlankHeaders(o,r);for(var f=0;f<r.length;f++){var x=r[f].getElementsByTagName("td"),P={};this.hasIndex||(P[t.index]=f);for(var U=0;U<x.length;U++)void 0!==this.fieldIndex[U]&&(P[this.fieldIndex[U]]=x[U].innerHTML);a.push(P)}t.data=a,this.dispatchExternal("htmlImported")}_extractOptions(e,t,n){var o=e.attributes,r=Object.keys(n||t),a={};for(var f in r.forEach(P=>{a[P.toLowerCase()]=P}),o){var x,y=o[f];y&&"object"==typeof y&&y.name&&0===y.name.indexOf("tabulator-")&&(x=y.name.replace("tabulator-",""),void 0!==a[x]&&(t[a[x]]=this._attribValue(y.value)))}}_attribValue(e){return"true"===e||"false"!==e&&e}_findCol(e){return this.table.options.columns.find(n=>n.title===e)||!1}_extractHeaders(e,t){for(var n=0;n<e.length;n++){var f,o=e[n],r=!1,a=this._findCol(o.textContent);a?r=!0:a={title:o.textContent.trim()},a.field||(a.field=o.textContent.trim().toLowerCase().replace(" ","_")),(f=o.getAttribute("width"))&&!a.width&&(a.width=f),this._extractOptions(o,a,this.table.columnManager.optionsList.registeredDefaults),this.fieldIndex[n]=a.field,a.field==this.table.options.index&&(this.hasIndex=!0),r||this.table.options.columns.push(a)}}_generateBlankHeaders(e,t){for(var n=0;n<e.length;n++){var o=e[n],r={title:"",field:"col"+n};this.fieldIndex[n]=r.field;var a=o.getAttribute("width");a&&(r.width=a),this.table.options.columns.push(r)}}}return c.moduleName="htmlTableImport",c})();var T={csv:function bt(c){var s=[],e=0,t=0,n=!1;for(let o=0;o<c.length;o++){let r=c[o],a=c[o+1];s[e]||(s[e]=[]),s[e][t]||(s[e][t]=""),'"'==r&&n&&'"'==a?(s[e][t]+=r,o++):'"'!=r?","!=r||n?"\r"!=r||"\n"!=a||n?"\r"!=r&&"\n"!=r||n?s[e][t]+=r:(t=0,e++):(t=0,e++,o++):t++:n=!n}return s},json:function B(c){try{return JSON.parse(c)}catch(s){return console.warn("JSON Import Error - File contents is invalid JSON",s),Promise.reject()}}};let g=(()=>{class c extends d{constructor(e){super(e),this.registerTableOption("importFormat"),this.registerTableOption("importReader","text")}initialize(){this.registerTableFunction("import",this.importFromFile.bind(this)),this.table.options.importFormat&&(this.subscribe("data-loading",this.loadDataCheck.bind(this),10),this.subscribe("data-load",this.loadData.bind(this),10))}loadDataCheck(e){return"string"==typeof e}loadData(e,t,n,o,r){return this.importData(this.lookupImporter(),e).then(this.structureData.bind(this)).catch(a=>(console.error("Import Error:",a||"Unable to import data"),Promise.reject(a)))}lookupImporter(e){var t;return e||(e=this.table.options.importFormat),(t="string"==typeof e?c.importers[e]:e)||console.error("Import Error - Importer not found:",e),t}importFromFile(e,t){var n=this.lookupImporter(e);if(n)return this.pickFile(t).then(this.importData.bind(this,n)).then(this.structureData.bind(this)).then(this.setData.bind(this)).catch(o=>(console.error("Import Error:",o||"Unable to import file"),Promise.reject(o)))}pickFile(e){return new Promise((t,n)=>{var o=document.createElement("input");o.type="file",o.accept=e,o.addEventListener("change",r=>{var a=o.files[0],f=new FileReader;switch(this.table.options.importReader){case"buffer":f.readAsArrayBuffer(a);break;case"binary":f.readAsBinaryString(a);break;case"url":f.readAsDataURL(a);break;default:f.readAsText(a)}f.onload=y=>{t(f.result)},f.onerror=y=>{console.warn("File Load Error - Unable to read file"),n()}}),o.click()})}importData(e,t){var n=e.call(this.table,t);return n instanceof Promise?n:n?Promise.resolve(n):Promise.reject()}structureData(e){return Array.isArray(e)&&e.length&&Array.isArray(e[0])?this.table.options.autoColumns?this.structureArrayToObject(e):this.structureArrayToColumns(e):e}structureArrayToObject(e){var t=e.shift();return e.map(o=>{var r={};return t.forEach((a,f)=>{r[a]=o[f]}),r})}structureArrayToColumns(e){var t=[],n=this.table.getColumns();return n[0]&&e[0][0]&&n[0].getDefinition().title===e[0][0]&&e.shift(),e.forEach(o=>{var r={};o.forEach((a,f)=>{var y=n[f];y&&(r[y.getField()]=a)}),t.push(r)}),t}setData(e){return this.table.setData(e)}}return c.moduleName="import",c.importers=T,c})(),b=(()=>{class c extends d{constructor(e){super(e),this.eventMap={rowClick:"row-click",rowDblClick:"row-dblclick",rowContext:"row-contextmenu",rowMouseEnter:"row-mouseenter",rowMouseLeave:"row-mouseleave",rowMouseOver:"row-mouseover",rowMouseOut:"row-mouseout",rowMouseMove:"row-mousemove",rowTap:"row",rowDblTap:"row",rowTapHold:"row",cellClick:"cell-click",cellDblClick:"cell-dblclick",cellContext:"cell-contextmenu",cellMouseEnter:"cell-mouseenter",cellMouseLeave:"cell-mouseleave",cellMouseOver:"cell-mouseover",cellMouseOut:"cell-mouseout",cellMouseMove:"cell-mousemove",cellTap:"cell",cellDblTap:"cell",cellTapHold:"cell",headerClick:"column-click",headerDblClick:"column-dblclick",headerContext:"column-contextmenu",headerMouseEnter:"column-mouseenter",headerMouseLeave:"column-mouseleave",headerMouseOver:"column-mouseover",headerMouseOut:"column-mouseout",headerMouseMove:"column-mousemove",headerTap:"column",headerDblTap:"column",headerTapHold:"column",groupClick:"group-click",groupDblClick:"group-dblclick",groupContext:"group-contextmenu",groupMouseEnter:"group-mouseenter",groupMouseLeave:"group-mouseleave",groupMouseOver:"group-mouseover",groupMouseOut:"group-mouseout",groupMouseMove:"group-mousemove",groupTap:"group",groupDblTap:"group",groupTapHold:"group"},this.subscribers={},this.touchSubscribers={},this.columnSubscribers={},this.touchWatchers={row:{tap:null,tapDbl:null,tapHold:null},cell:{tap:null,tapDbl:null,tapHold:null},column:{tap:null,tapDbl:null,tapHold:null},group:{tap:null,tapDbl:null,tapHold:null}},this.registerColumnOption("headerClick"),this.registerColumnOption("headerDblClick"),this.registerColumnOption("headerContext"),this.registerColumnOption("headerMouseEnter"),this.registerColumnOption("headerMouseLeave"),this.registerColumnOption("headerMouseOver"),this.registerColumnOption("headerMouseOut"),this.registerColumnOption("headerMouseMove"),this.registerColumnOption("headerTap"),this.registerColumnOption("headerDblTap"),this.registerColumnOption("headerTapHold"),this.registerColumnOption("cellClick"),this.registerColumnOption("cellDblClick"),this.registerColumnOption("cellContext"),this.registerColumnOption("cellMouseEnter"),this.registerColumnOption("cellMouseLeave"),this.registerColumnOption("cellMouseOver"),this.registerColumnOption("cellMouseOut"),this.registerColumnOption("cellMouseMove"),this.registerColumnOption("cellTap"),this.registerColumnOption("cellDblTap"),this.registerColumnOption("cellTapHold")}initialize(){this.initializeExternalEvents(),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("cell-dblclick",this.cellContentsSelectionFixer.bind(this))}cellContentsSelectionFixer(e,t){if(!this.table.modExists("edit")||this.table.modules.edit.currentCell!==this){e.preventDefault();try{if(document.selection)(n=document.body.createTextRange()).moveToElementText(this.element),n.select();else if(window.getSelection){var n;(n=document.createRange()).selectNode(this.element),window.getSelection().removeAllRanges(),window.getSelection().addRange(n)}}catch{}}}initializeExternalEvents(){for(let e in this.eventMap)this.subscriptionChangeExternal(e,this.subscriptionChanged.bind(this,e))}subscriptionChanged(e,t){t?this.subscribers[e]||(this.eventMap[e].includes("-")?(this.subscribers[e]=this.handle.bind(this,e),this.subscribe(this.eventMap[e],this.subscribers[e])):this.subscribeTouchEvents(e)):this.eventMap[e].includes("-")?this.subscribers[e]&&!this.columnSubscribers[e]&&!this.subscribedExternal(e)&&(this.unsubscribe(this.eventMap[e],this.subscribers[e]),delete this.subscribers[e]):this.unsubscribeTouchEvents(e)}subscribeTouchEvents(e){var t=this.eventMap[e];this.touchSubscribers[t+"-touchstart"]||(this.touchSubscribers[t+"-touchstart"]=this.handleTouch.bind(this,t,"start"),this.touchSubscribers[t+"-touchend"]=this.handleTouch.bind(this,t,"end"),this.subscribe(t+"-touchstart",this.touchSubscribers[t+"-touchstart"]),this.subscribe(t+"-touchend",this.touchSubscribers[t+"-touchend"])),this.subscribers[e]=!0}unsubscribeTouchEvents(e){var t=!0,n=this.eventMap[e];if(this.subscribers[e]&&!this.subscribedExternal(e)){delete this.subscribers[e];for(let o in this.eventMap)this.eventMap[o]===n&&this.subscribers[o]&&(t=!1);t&&(this.unsubscribe(n+"-touchstart",this.touchSubscribers[n+"-touchstart"]),this.unsubscribe(n+"-touchend",this.touchSubscribers[n+"-touchend"]),delete this.touchSubscribers[n+"-touchstart"],delete this.touchSubscribers[n+"-touchend"])}}initializeColumn(e){var t=e.definition;for(let n in this.eventMap)t[n]&&(this.subscriptionChanged(n,!0),this.columnSubscribers[n]||(this.columnSubscribers[n]=[]),this.columnSubscribers[n].push(e))}handle(e,t,n){this.dispatchEvent(e,t,n)}handleTouch(e,t,n,o){var r=this.touchWatchers[e];switch("column"===e&&(e="header"),t){case"start":r.tap=!0,clearTimeout(r.tapHold),r.tapHold=setTimeout(()=>{clearTimeout(r.tapHold),r.tapHold=null,r.tap=null,clearTimeout(r.tapDbl),r.tapDbl=null,this.dispatchEvent(e+"TapHold",n,o)},1e3);break;case"end":r.tap&&(r.tap=null,this.dispatchEvent(e+"Tap",n,o)),r.tapDbl?(clearTimeout(r.tapDbl),r.tapDbl=null,this.dispatchEvent(e+"DblTap",n,o)):r.tapDbl=setTimeout(()=>{clearTimeout(r.tapDbl),r.tapDbl=null},300),clearTimeout(r.tapHold),r.tapHold=null}}dispatchEvent(e,t,n){var r,o=n.getComponent();this.columnSubscribers[e]&&(n instanceof Ye?r=n.column.definition[e]:n instanceof ye&&(r=n.definition[e]),r&&r(t,o)),this.dispatchExternal(e,t,o)}}return c.moduleName="interaction",c})();var M={navPrev:"shift + 9",navNext:9,navUp:38,navDown:40,scrollPageUp:33,scrollPageDown:34,scrollToStart:36,scrollToEnd:35,undo:["ctrl + 90","meta + 90"],redo:["ctrl + 89","meta + 89"],copyToClipboard:["ctrl + 67","meta + 89"]},L={keyBlock:function(c){c.stopPropagation(),c.preventDefault()},scrollPageUp:function(c){var s=this.table.rowManager,e=s.scrollTop-s.element.clientHeight;c.preventDefault(),s.displayRowsCount&&(e>=0?s.element.scrollTop=e:s.scrollToRow(s.getDisplayRows()[0])),this.table.element.focus()},scrollPageDown:function(c){var s=this.table.rowManager,e=s.scrollTop+s.element.clientHeight,t=s.element.scrollHeight;c.preventDefault(),s.displayRowsCount&&(e<=t?s.element.scrollTop=e:s.scrollToRow(s.getDisplayRows()[s.displayRowsCount-1])),this.table.element.focus()},scrollToStart:function(c){var s=this.table.rowManager;c.preventDefault(),s.displayRowsCount&&s.scrollToRow(s.getDisplayRows()[0]),this.table.element.focus()},scrollToEnd:function(c){var s=this.table.rowManager;c.preventDefault(),s.displayRowsCount&&s.scrollToRow(s.getDisplayRows()[s.displayRowsCount-1]),this.table.element.focus()},navPrev:function(c){this.dispatch("keybinding-nav-prev",c)},navNext:function(c){this.dispatch("keybinding-nav-next",c)},navLeft:function(c){this.dispatch("keybinding-nav-left",c)},navRight:function(c){this.dispatch("keybinding-nav-right",c)},navUp:function(c){this.dispatch("keybinding-nav-up",c)},navDown:function(c){this.dispatch("keybinding-nav-down",c)},undo:function(c){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(c.preventDefault(),this.table.modules.history.undo()))},redo:function(c){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(c.preventDefault(),this.table.modules.history.redo()))},copyToClipboard:function(c){this.table.modules.edit.currentCell||this.table.modExists("clipboard",!0)&&this.table.modules.clipboard.copy(!1,!0)}};let J=(()=>{class c extends d{constructor(e){super(e),this.watchKeys=null,this.pressedKeys=null,this.keyupBinding=!1,this.keydownBinding=!1,this.registerTableOption("keybindings",{}),this.registerTableOption("tabEndNewRow",!1)}initialize(){var e=this.table.options.keybindings,t={};this.watchKeys={},this.pressedKeys=[],!1!==e&&(Object.assign(t,c.bindings),Object.assign(t,e),this.mapBindings(t),this.bindEvents()),this.subscribe("table-destroy",this.clearBindings.bind(this))}mapBindings(e){for(let t in e)c.actions[t]?e[t]&&("object"!=typeof e[t]&&(e[t]=[e[t]]),e[t].forEach(n=>{(Array.isArray(n)?n:[n]).forEach(r=>{this.mapBinding(t,r)})})):console.warn("Key Binding Error - no such action:",t)}mapBinding(e,t){var n={action:c.actions[e],keys:[],ctrl:!1,shift:!1,meta:!1};t.toString().toLowerCase().split(" ").join("").split("+").forEach(r=>{switch(r){case"ctrl":n.ctrl=!0;break;case"shift":n.shift=!0;break;case"meta":n.meta=!0;break;default:r=isNaN(r)?r.toUpperCase().charCodeAt(0):parseInt(r),n.keys.push(r),this.watchKeys[r]||(this.watchKeys[r]=[]),this.watchKeys[r].push(n)}})}bindEvents(){var e=this;this.keyupBinding=function(t){var n=t.keyCode,o=e.watchKeys[n];o&&(e.pressedKeys.push(n),o.forEach(function(r){e.checkBinding(t,r)}))},this.keydownBinding=function(t){var n=t.keyCode;if(e.watchKeys[n]){var r=e.pressedKeys.indexOf(n);r>-1&&e.pressedKeys.splice(r,1)}},this.table.element.addEventListener("keydown",this.keyupBinding),this.table.element.addEventListener("keyup",this.keydownBinding)}clearBindings(){this.keyupBinding&&this.table.element.removeEventListener("keydown",this.keyupBinding),this.keydownBinding&&this.table.element.removeEventListener("keyup",this.keydownBinding)}checkBinding(e,t){var n=!0;return e.ctrlKey==t.ctrl&&e.shiftKey==t.shift&&e.metaKey==t.meta&&(t.keys.forEach(o=>{-1==this.pressedKeys.indexOf(o)&&(n=!1)}),n&&t.action.call(this,e),!0)}}return c.moduleName="keybindings",c.bindings=M,c.actions=L,c})(),De=(()=>{class c extends d{constructor(e){super(e),this.menuContainer=null,this.menuElements=[],this.blurEvent=this.hideMenu.bind(this),this.escEvent=this.escMenu.bind(this),this.nestedMenuBlock=!1,this.positionReversedX=!1,this.currentComponent=null,this.columnSubscribers={},this.registerTableOption("rowContextMenu",!1),this.registerTableOption("rowClickMenu",!1),this.registerTableOption("groupContextMenu",!1),this.registerTableOption("groupClickMenu",!1),this.registerTableOption("menuContainer",!1),this.registerColumnOption("headerContextMenu"),this.registerColumnOption("headerClickMenu"),this.registerColumnOption("headerMenu"),this.registerColumnOption("contextMenu"),this.registerColumnOption("clickMenu")}initialize(){this.lookupMenuContainer(),this.initializeRowWatchers(),this.initializeGroupWatchers(),this.subscribe("column-init",this.initializeColumn.bind(this))}lookupMenuContainer(){this.menuContainer=this.table.options.menuContainer,"string"==typeof this.menuContainer?(this.menuContainer=document.querySelector(this.menuContainer),this.menuContainer||console.warn("Menu Error - no container element found matching selector:",this.table.options.menuContainer,"(defaulting to document body)")):!0===this.menuContainer&&(this.menuContainer=this.table.element),this.menuContainer&&!this.checkMenuContainerIsParent(this.menuContainer)&&(this.menuContainer=!1,console.warn("Menu Error - container element does not contain this table:",this.table.options.menuContainer,"(defaulting to document body)")),this.menuContainer||(this.menuContainer=document.body)}checkMenuContainerIsParent(e,t=this.table.element){return e===t||!!t.parentNode&&this.checkMenuContainerIsParent(e,t.parentNode)}initializeRowWatchers(){this.table.options.rowContextMenu&&(this.subscribe("row-contextmenu",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu)),this.table.on("rowTapHold",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu))),this.table.options.rowClickMenu&&this.subscribe("row-click",this.loadMenuEvent.bind(this,this.table.options.rowClickMenu))}initializeGroupWatchers(){this.table.options.groupContextMenu&&(this.subscribe("group-contextmenu",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu)),this.table.on("groupTapHold",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu))),this.table.options.groupClickMenu&&this.subscribe("group-click",this.loadMenuEvent.bind(this,this.table.options.groupClickMenu))}initializeColumn(e){var t=e.definition;t.headerContextMenu&&!this.columnSubscribers.headerContextMenu&&(this.columnSubscribers.headerContextMenu=this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"),this.subscribe("column-contextmenu",this.columnSubscribers.headerContextMenu),this.table.on("headerTapHold",this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"))),t.headerClickMenu&&!this.columnSubscribers.headerClickMenu&&(this.columnSubscribers.headerClickMenu=this.loadMenuTableColumnEvent.bind(this,"headerClickMenu"),this.subscribe("column-click",this.columnSubscribers.headerClickMenu)),t.headerMenu&&this.initializeColumnHeaderMenu(e),t.contextMenu&&!this.columnSubscribers.contextMenu&&(this.columnSubscribers.contextMenu=this.loadMenuTableCellEvent.bind(this,"contextMenu"),this.subscribe("cell-contextmenu",this.columnSubscribers.contextMenu),this.table.on("cellTapHold",this.loadMenuTableCellEvent.bind(this,"contextMenu"))),t.clickMenu&&!this.columnSubscribers.clickMenu&&(this.columnSubscribers.clickMenu=this.loadMenuTableCellEvent.bind(this,"clickMenu"),this.subscribe("cell-click",this.columnSubscribers.clickMenu))}initializeColumnHeaderMenu(e){var t;(t=document.createElement("span")).classList.add("tabulator-header-menu-button"),t.innerHTML="&vellip;",t.addEventListener("click",n=>{n.stopPropagation(),n.preventDefault(),this.loadMenuEvent(e.definition.headerMenu,n,e)}),e.titleElement.insertBefore(t,e.titleElement.firstChild)}loadMenuTableCellEvent(e,t,n){n._cell&&(n=n._cell),n.column.definition[e]&&this.loadMenuEvent(n.column.definition[e],t,n)}loadMenuTableColumnEvent(e,t,n){n._column&&(n=n._column),n.definition[e]&&this.loadMenuEvent(n.definition[e],t,n)}loadMenuEvent(e,t,n){n._group?n=n._group:n._row&&(n=n._row),e="function"==typeof e?e.call(this.table,n.getComponent(),t):e,this.loadMenu(t,n,e)}loadMenu(e,t,n,o){var r=!(e instanceof MouseEvent),a=document.createElement("div");if(a.classList.add("tabulator-menu"),r||e.preventDefault(),n&&n.length){if(!o){if(this.nestedMenuBlock){if(this.isOpen())return}else this.nestedMenuBlock=setTimeout(()=>{this.nestedMenuBlock=!1},100);this.hideMenu(),this.menuElements=[]}n.forEach(f=>{var y=document.createElement("div"),x=f.label,P=f.disabled;f.separator?y.classList.add("tabulator-menu-separator"):(y.classList.add("tabulator-menu-item"),"function"==typeof x&&(x=x.call(this.table,t.getComponent())),x instanceof Node?y.appendChild(x):y.innerHTML=x,"function"==typeof P&&(P=P.call(this.table,t.getComponent())),P?(y.classList.add("tabulator-menu-item-disabled"),y.addEventListener("click",U=>{U.stopPropagation()})):f.menu&&f.menu.length?y.addEventListener("click",U=>{U.stopPropagation(),this.hideOldSubMenus(a),this.loadMenu(U,t,f.menu,y)}):f.action&&y.addEventListener("click",U=>{f.action(U,t.getComponent())}),f.menu&&f.menu.length&&y.classList.add("tabulator-menu-item-submenu")),a.appendChild(y)}),a.addEventListener("click",f=>{this.hideMenu()}),this.menuElements.push(a),this.positionMenu(a,o,r,e),this.currentComponent=t,this.dispatchExternal("menuOpened",t.getComponent())}}hideOldSubMenus(e){var t=this.menuElements.indexOf(e);if(t>-1)for(let o=this.menuElements.length-1;o>t;o--){var n=this.menuElements[o];n.parentNode&&n.parentNode.removeChild(n),this.menuElements.pop()}}positionMenu(e,t,n,o){var r,a,f;t?(r=(f=F.elOffset(t)).left+t.offsetWidth,a=f.top-1):(r=n?o.touches[0].pageX:o.pageX,a=n?o.touches[0].pageY:o.pageY,this.menuContainer!==document.body&&(r-=(f=F.elOffset(this.menuContainer)).left,a-=f.top),this.positionReversedX=!1),e.style.top=a+"px",e.style.left=r+"px",setTimeout(()=>{this.table.rowManager.element.addEventListener("scroll",this.blurEvent),document.body.addEventListener("click",this.blurEvent),document.body.addEventListener("contextmenu",this.blurEvent),window.addEventListener("resize",this.blurEvent),document.body.addEventListener("keydown",this.escEvent)},100),this.menuContainer.appendChild(e),(r+e.offsetWidth>=this.menuContainer.offsetWidth||this.positionReversedX)&&(e.style.left="",e.style.right=t?this.menuContainer.offsetWidth-f.left+"px":this.menuContainer.offsetWidth-r+"px",this.positionReversedX=!0),a+e.offsetHeight>=this.menuContainer.offsetHeight&&(e.style.top="",e.style.bottom=t?this.menuContainer.offsetHeight-f.top-t.offsetHeight-1+"px":this.menuContainer.offsetHeight-a+"px")}isOpen(){return!!this.menuElements.length}escMenu(e){27==e.keyCode&&this.hideMenu()}hideMenu(){this.menuElements.forEach(e=>{e.parentNode&&e.parentNode.removeChild(e)}),document.body.removeEventListener("keydown",this.escEvent),document.body.removeEventListener("click",this.blurEvent),document.body.removeEventListener("contextmenu",this.blurEvent),window.removeEventListener("resize",this.blurEvent),this.table.rowManager.element.removeEventListener("scroll",this.blurEvent),this.currentComponent&&(this.dispatchExternal("menuClosed",this.currentComponent.getComponent()),this.currentComponent=null)}}return c.moduleName="menu",c})(),je=(()=>{class c extends d{constructor(e){super(e),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=250,this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.startX=0,this.autoScrollMargin=40,this.autoScrollStep=5,this.autoScrollTimeout=!1,this.touchMove=!1,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.registerTableOption("movableColumns",!1)}createPlaceholderElement(){var e=document.createElement("div");return e.classList.add("tabulator-col"),e.classList.add("tabulator-col-placeholder"),e}initialize(){this.table.options.movableColumns&&this.subscribe("column-init",this.initializeColumn.bind(this))}initializeColumn(e){var o,t=this,n={};e.modules.frozen||(o=e.getElement(),n.mousemove=function(r){e.parent===t.moving.parent&&((t.touchMove?r.touches[0].pageX:r.pageX)-F.elOffset(o).left+t.table.columnManager.element.scrollLeft>e.getWidth()/2?(t.toCol!==e||!t.toColAfter)&&(o.parentNode.insertBefore(t.placeholderElement,o.nextSibling),t.moveColumn(e,!0)):(t.toCol!==e||t.toColAfter)&&(o.parentNode.insertBefore(t.placeholderElement,o),t.moveColumn(e,!1)))}.bind(t),o.addEventListener("mousedown",function(r){t.touchMove=!1,1===r.which&&(t.checkTimeout=setTimeout(function(){t.startMove(r,e)},t.checkPeriod))}),o.addEventListener("mouseup",function(r){1===r.which&&t.checkTimeout&&clearTimeout(t.checkTimeout)}),t.bindTouchEvents(e)),e.modules.moveColumn=n}bindTouchEvents(e){var o,r,a,f,y,x,t=e.getElement(),n=!1;t.addEventListener("touchstart",P=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,o=e.nextColumn(),a=o?o.getWidth()/2:0,r=e.prevColumn(),f=r?r.getWidth()/2:0,y=0,x=0,n=!1,this.startMove(P,e)},this.checkPeriod)},{passive:!0}),t.addEventListener("touchmove",P=>{var U,X;this.moving&&(this.moveHover(P),n||(n=P.touches[0].pageX),(U=P.touches[0].pageX-n)>0?o&&U-y>a&&(X=o)!==e&&(n=P.touches[0].pageX,X.getElement().parentNode.insertBefore(this.placeholderElement,X.getElement().nextSibling),this.moveColumn(X,!0)):r&&-U-x>f&&(X=r)!==e&&(n=P.touches[0].pageX,X.getElement().parentNode.insertBefore(this.placeholderElement,X.getElement()),this.moveColumn(X,!1)),X&&(o=X.nextColumn(),y=a,a=o?o.getWidth()/2:0,r=X.prevColumn(),x=f,f=r?r.getWidth()/2:0))},{passive:!0}),t.addEventListener("touchend",P=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&this.endMove(P)})}startMove(e,t){var n=t.getElement(),o=this.table.columnManager.getElement(),r=this.table.columnManager.getHeadersElement();this.moving=t,this.startX=(this.touchMove?e.touches[0].pageX:e.pageX)-F.elOffset(n).left,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=t.getWidth()+"px",this.placeholderElement.style.height=t.getHeight()+"px",n.parentNode.insertBefore(this.placeholderElement,n),n.parentNode.removeChild(n),this.hoverElement=n.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.table.columnManager.getElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.bottom=o.clientHeight-r.offsetHeight+"px",this.touchMove||(this._bindMouseMove(),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove)),this.moveHover(e)}_bindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(e){e.modules.moveColumn.mousemove&&e.getElement().addEventListener("mousemove",e.modules.moveColumn.mousemove)})}_unbindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(e){e.modules.moveColumn.mousemove&&e.getElement().removeEventListener("mousemove",e.modules.moveColumn.mousemove)})}moveColumn(e,t){var n=this.moving.getCells();this.toCol=e,this.toColAfter=t,t?e.getCells().forEach(function(o,r){var a=o.getElement(!0);a.parentNode&&n[r]&&a.parentNode.insertBefore(n[r].getElement(),a.nextSibling)}):e.getCells().forEach(function(o,r){var a=o.getElement(!0);a.parentNode&&n[r]&&a.parentNode.insertBefore(n[r].getElement(),a)})}endMove(e){(1===e.which||this.touchMove)&&(this._unbindMouseMove(),this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toCol&&this.table.columnManager.moveColumnActual(this.moving,this.toCol,this.toColAfter),this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.touchMove||(document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove)))}moveHover(e){var r,t=this.table.columnManager.getElement(),n=t.scrollLeft,o=(this.touchMove?e.touches[0].pageX:e.pageX)-F.elOffset(t).left+n;this.hoverElement.style.left=o-this.startX+"px",o-n<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{r=Math.max(0,n-5),this.table.rowManager.getElement().scrollLeft=r,this.autoScrollTimeout=!1},1))),n+t.clientWidth-o<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{r=Math.min(t.clientWidth,n+5),this.table.rowManager.getElement().scrollLeft=r,this.autoScrollTimeout=!1},1)))}}return c.moduleName="moveColumn",c})();class it extends d{constructor(s){super(s),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=150,this.moving=!1,this.toRow=!1,this.toRowAfter=!1,this.hasHandle=!1,this.startY=0,this.startX=0,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.tableRowDropEvent=!1,this.touchMove=!1,this.connection=!1,this.connectionSelectorsTables=!1,this.connectionSelectorsElements=!1,this.connectionElements=[],this.connections=[],this.connectedTable=!1,this.connectedRow=!1,this.registerTableOption("movableRows",!1),this.registerTableOption("movableRowsConnectedTables",!1),this.registerTableOption("movableRowsConnectedElements",!1),this.registerTableOption("movableRowsSender",!1),this.registerTableOption("movableRowsReceiver","insert"),this.registerColumnOption("rowHandle")}createPlaceholderElement(){var s=document.createElement("div");return s.classList.add("tabulator-row"),s.classList.add("tabulator-row-placeholder"),s}initialize(){this.table.options.movableRows&&(this.connectionSelectorsTables=this.table.options.movableRowsConnectedTables,this.connectionSelectorsElements=this.table.options.movableRowsConnectedElements,this.connection=this.connectionSelectorsTables||this.connectionSelectorsElements,this.subscribe("cell-init",this.initializeCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)))}initializeGroupHeader(s){var e=this,t={};t.mouseup=function(n){e.tableRowDrop(n,row)}.bind(e),t.mousemove=function(n){if(n.pageY-F.elOffset(s.element).top+e.table.rowManager.element.scrollTop>s.getHeight()/2)e.toRow===s&&e.toRowAfter||((o=s.getElement()).parentNode.insertBefore(e.placeholderElement,o.nextSibling),e.moveRow(s,!0));else if(e.toRow!==s||e.toRowAfter){var o;(o=s.getElement()).previousSibling&&(o.parentNode.insertBefore(e.placeholderElement,o),e.moveRow(s,!1))}}.bind(e),s.modules.moveRow=t}initializeRow(s){var n,e=this,t={};t.mouseup=function(o){e.tableRowDrop(o,s)}.bind(e),t.mousemove=function(o){var r=s.getElement();o.pageY-F.elOffset(r).top+e.table.rowManager.element.scrollTop>s.getHeight()/2?(e.toRow!==s||!e.toRowAfter)&&(r.parentNode.insertBefore(e.placeholderElement,r.nextSibling),e.moveRow(s,!0)):(e.toRow!==s||e.toRowAfter)&&(r.parentNode.insertBefore(e.placeholderElement,r),e.moveRow(s,!1))}.bind(e),this.hasHandle||((n=s.getElement()).addEventListener("mousedown",function(o){1===o.which&&(e.checkTimeout=setTimeout(function(){e.startMove(o,s)},e.checkPeriod))}),n.addEventListener("mouseup",function(o){1===o.which&&e.checkTimeout&&clearTimeout(e.checkTimeout)}),this.bindTouchEvents(s,s.getElement())),s.modules.moveRow=t}initializeColumn(s){s.definition.rowHandle&&!1!==this.table.options.movableRows&&(this.hasHandle=!0)}initializeCell(s){if(s.column.definition.rowHandle&&!1!==this.table.options.movableRows){var e=this,t=s.getElement(!0);t.addEventListener("mousedown",function(n){1===n.which&&(e.checkTimeout=setTimeout(function(){e.startMove(n,s.row)},e.checkPeriod))}),t.addEventListener("mouseup",function(n){1===n.which&&e.checkTimeout&&clearTimeout(e.checkTimeout)}),this.bindTouchEvents(s.row,t)}}bindTouchEvents(s,e){var n,o,r,a,f,y,t=!1;e.addEventListener("touchstart",x=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,n=s.nextRow(),r=n?n.getHeight()/2:0,o=s.prevRow(),a=o?o.getHeight()/2:0,f=0,y=0,t=!1,this.startMove(x,s)},this.checkPeriod)},{passive:!0}),e.addEventListener("touchmove",x=>{var P,U;this.moving&&(x.preventDefault(),this.moveHover(x),t||(t=x.touches[0].pageY),(P=x.touches[0].pageY-t)>0?n&&P-f>r&&(U=n)!==s&&(t=x.touches[0].pageY,U.getElement().parentNode.insertBefore(this.placeholderElement,U.getElement().nextSibling),this.moveRow(U,!0)):o&&-P-y>a&&(U=o)!==s&&(t=x.touches[0].pageY,U.getElement().parentNode.insertBefore(this.placeholderElement,U.getElement()),this.moveRow(U,!1)),U&&(n=U.nextRow(),f=r,r=n?n.getHeight()/2:0,o=U.prevRow(),y=a,a=o?o.getHeight()/2:0))}),e.addEventListener("touchend",x=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&(this.endMove(x),this.touchMove=!1)})}_bindMouseMove(){this.table.rowManager.getDisplayRows().forEach(s=>{("row"===s.type||"group"===s.type)&&s.modules.moveRow&&s.modules.moveRow.mousemove&&s.getElement().addEventListener("mousemove",s.modules.moveRow.mousemove)})}_unbindMouseMove(){this.table.rowManager.getDisplayRows().forEach(s=>{("row"===s.type||"group"===s.type)&&s.modules.moveRow&&s.modules.moveRow.mousemove&&s.getElement().removeEventListener("mousemove",s.modules.moveRow.mousemove)})}startMove(s,e){var t=e.getElement();this.setStartPosition(s,e),this.moving=e,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=e.getWidth()+"px",this.placeholderElement.style.height=e.getHeight()+"px",this.connection?(this.table.element.classList.add("tabulator-movingrow-sending"),this.connectToTables(e)):(t.parentNode.insertBefore(this.placeholderElement,t),t.parentNode.removeChild(t)),this.hoverElement=t.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.connection?(document.body.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this.hoverElement.style.width=this.table.element.clientWidth+"px",this.hoverElement.style.whiteSpace="nowrap",this.hoverElement.style.overflow="hidden",this.hoverElement.style.pointerEvents="none"):(this.table.rowManager.getTableElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this._bindMouseMove()),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove),this.dispatchExternal("rowMoving",e.getComponent()),this.moveHover(s)}setStartPosition(s,e){var o,r,t=this.touchMove?s.touches[0].pageX:s.pageX,n=this.touchMove?s.touches[0].pageY:s.pageY;o=e.getElement(),this.connection?(r=o.getBoundingClientRect(),this.startX=r.left-t+window.pageXOffset,this.startY=r.top-n+window.pageYOffset):this.startY=n-o.getBoundingClientRect().top}endMove(s){(!s||1===s.which||this.touchMove)&&(this._unbindMouseMove(),this.connection||(this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement)),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toRow?this.table.rowManager.moveRow(this.moving,this.toRow,this.toRowAfter):this.dispatchExternal("rowMoveCancelled",this.moving.getComponent()),this.moving=!1,this.toRow=!1,this.toRowAfter=!1,document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove),this.connection&&(this.table.element.classList.remove("tabulator-movingrow-sending"),this.disconnectFromTables()))}moveRow(s,e){this.toRow=s,this.toRowAfter=e}moveHover(s){this.connection?this.moveHoverConnections.call(this,s):this.moveHoverTable.call(this,s)}moveHoverTable(s){var e=this.table.rowManager.getElement(),t=e.scrollTop,n=(this.touchMove?s.touches[0].pageY:s.pageY)-e.getBoundingClientRect().top+t;this.hoverElement.style.top=n-this.startY+"px"}moveHoverConnections(s){this.hoverElement.style.left=this.startX+(this.touchMove?s.touches[0].pageX:s.pageX)+"px",this.hoverElement.style.top=this.startY+(this.touchMove?s.touches[0].pageY:s.pageY)+"px"}elementRowDrop(s,e,t){this.dispatchExternal("movableRowsElementDrop",s,e,!!t&&t.getComponent())}connectToTables(s){var e;this.connectionSelectorsTables&&(e=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStart",e),this.commsSend(this.connectionSelectorsTables,"moveRow","connect",{row:s})),this.connectionSelectorsElements&&(this.connectionElements=[],Array.isArray(this.connectionSelectorsElements)||(this.connectionSelectorsElements=[this.connectionSelectorsElements]),this.connectionSelectorsElements.forEach(t=>{"string"==typeof t?this.connectionElements=this.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(t))):this.connectionElements.push(t)}),this.connectionElements.forEach(t=>{var n=o=>{this.elementRowDrop(o,t,this.moving)};t.addEventListener("mouseup",n),t.tabulatorElementDropEvent=n,t.classList.add("tabulator-movingrow-receiving")}))}disconnectFromTables(){var s;this.connectionSelectorsTables&&(s=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStop",s),this.commsSend(this.connectionSelectorsTables,"moveRow","disconnect")),this.connectionElements.forEach(e=>{e.classList.remove("tabulator-movingrow-receiving"),e.removeEventListener("mouseup",e.tabulatorElementDropEvent),delete e.tabulatorElementDropEvent})}connect(s,e){return this.connectedTable?(console.warn("Move Row Error - Table cannot accept connection, already connected to table:",this.connectedTable),!1):(this.connectedTable=s,this.connectedRow=e,this.table.element.classList.add("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(t=>{"row"===t.type&&t.modules.moveRow&&t.modules.moveRow.mouseup&&t.getElement().addEventListener("mouseup",t.modules.moveRow.mouseup)}),this.tableRowDropEvent=this.tableRowDrop.bind(this),this.table.element.addEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStart",e,s),!0)}disconnect(s){s===this.connectedTable?(this.connectedTable=!1,this.connectedRow=!1,this.table.element.classList.remove("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(e=>{"row"===e.type&&e.modules.moveRow&&e.modules.moveRow.mouseup&&e.getElement().removeEventListener("mouseup",e.modules.moveRow.mouseup)}),this.table.element.removeEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStop",s)):console.warn("Move Row Error - trying to disconnect from non connected table")}dropComplete(s,e,t){var n=!1;if(t){switch(typeof this.table.options.movableRowsSender){case"string":n=this.senders[this.table.options.movableRowsSender];break;case"function":n=this.table.options.movableRowsSender}n?n.call(this,this.moving.getComponent(),e?e.getComponent():void 0,s):this.table.options.movableRowsSender&&console.warn("Mover Row Error - no matching sender found:",this.table.options.movableRowsSender),this.dispatchExternal("movableRowsSent",this.moving.getComponent(),e?e.getComponent():void 0,s)}else this.dispatchExternal("movableRowsSentFailed",this.moving.getComponent(),e?e.getComponent():void 0,s);this.endMove()}tableRowDrop(s,e){var t=!1,n=!1;switch(s.stopImmediatePropagation(),typeof this.table.options.movableRowsReceiver){case"string":t=this.receivers[this.table.options.movableRowsReceiver];break;case"function":t=this.table.options.movableRowsReceiver}t?n=t.call(this,this.connectedRow.getComponent(),e?e.getComponent():void 0,this.connectedTable):console.warn("Mover Row Error - no matching receiver found:",this.table.options.movableRowsReceiver),this.dispatchExternal(n?"movableRowsReceived":"movableRowsReceivedFailed",this.connectedRow.getComponent(),e?e.getComponent():void 0,this.connectedTable),this.commsSend(this.connectedTable,"moveRow","dropcomplete",{row:e,success:n})}commsReceived(s,e,t){switch(e){case"connect":return this.connect(s,t.row);case"disconnect":return this.disconnect(s);case"dropcomplete":return this.dropComplete(s,t.row,t.success)}}}it.prototype.receivers={insert:function(c,s,e){return this.table.addRow(c.getData(),void 0,s),!0},add:function(c,s,e){return this.table.addRow(c.getData()),!0},update:function(c,s,e){return!!s&&(s.update(c.getData()),!0)},replace:function(c,s,e){return!!s&&(this.table.addRow(c.getData(),void 0,s),s.delete(),!0)}},it.prototype.senders={delete:function(c,s,e){c.delete()}},it.moduleName="moveRow";var ot={};let Lt=(()=>{class c extends d{constructor(e){super(e),this.allowedTypes=["","data","edit","clipboard"],this.enabled=!0,this.registerColumnOption("mutator"),this.registerColumnOption("mutatorParams"),this.registerColumnOption("mutatorData"),this.registerColumnOption("mutatorDataParams"),this.registerColumnOption("mutatorEdit"),this.registerColumnOption("mutatorEditParams"),this.registerColumnOption("mutatorClipboard"),this.registerColumnOption("mutatorClipboardParams")}initialize(){this.subscribe("cell-value-changing",this.transformCell.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-init-before",this.rowDataChanged.bind(this)),this.subscribe("row-data-changing",this.rowDataChanged.bind(this))}rowDataChanged(e,t,n){return this.transformRow(t,"data",n)}initializeColumn(e){var t=!1,n={};this.allowedTypes.forEach(o=>{var a,r="mutator"+(o.charAt(0).toUpperCase()+o.slice(1));e.definition[r]&&(a=this.lookupMutator(e.definition[r]))&&(t=!0,n[r]={mutator:a,params:e.definition[r+"Params"]||{}})}),t&&(e.modules.mutate=n)}lookupMutator(e){var t=!1;switch(typeof e){case"string":c.mutators[e]?t=c.mutators[e]:console.warn("Mutator Error - No such mutator found, ignoring: ",e);break;case"function":t=e}return t}transformRow(e,t,n){var r,o="mutator"+(t.charAt(0).toUpperCase()+t.slice(1));return this.enabled&&this.table.columnManager.traverse(a=>{var f,y,x;a.modules.mutate&&(f=a.modules.mutate[o]||a.modules.mutate.mutator||!1)&&(r=a.getFieldValue(void 0!==n?n:e),("data"==t||void 0!==r)&&(x=a.getComponent(),y="function"==typeof f.params?f.params(r,e,t,x):f.params,a.setFieldValue(e,f.mutator(r,e,t,y,x))))}),e}transformCell(e,t){if(e.column.modules.mutate){var n=e.column.modules.mutate.mutatorEdit||e.column.modules.mutate.mutator||!1,o={};if(n)return o=Object.assign(o,e.row.getData()),e.column.setFieldValue(o,t),n.mutator(t,o,"edit",n.params,e.getComponent())}return t}enable(){this.enabled=!0}disable(){this.enabled=!1}}return c.moduleName="mutator",c.mutators=ot,c})();var Ut={rows:function Ot(c,s,e,t,n){var o=document.createElement("span"),r=document.createElement("span"),a=document.createElement("span"),f=document.createElement("span"),y=document.createElement("span"),x=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",P=>{r.innerHTML=P}),a.innerHTML=" "+s+"-"+Math.min(s+c-1,t)+" ",this.table.modules.localize.langBind("pagination|counter|of",P=>{f.innerHTML=P}),y.innerHTML=" "+t+" ",this.table.modules.localize.langBind("pagination|counter|rows",P=>{x.innerHTML=P}),o.appendChild(r),o.appendChild(a),o.appendChild(f),o.appendChild(y),o.appendChild(x),o},pages:function Pt(c,s,e,t,n){var o=document.createElement("span"),r=document.createElement("span"),a=document.createElement("span"),f=document.createElement("span"),y=document.createElement("span"),x=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",P=>{r.innerHTML=P}),a.innerHTML=" "+e+" ",this.table.modules.localize.langBind("pagination|counter|of",P=>{f.innerHTML=P}),y.innerHTML=" "+n+" ",this.table.modules.localize.langBind("pagination|counter|pages",P=>{x.innerHTML=P}),o.appendChild(r),o.appendChild(a),o.appendChild(f),o.appendChild(y),o.appendChild(x),o}};let ti=(()=>{class c extends d{constructor(e){super(e),this.mode="local",this.progressiveLoad=!1,this.element=null,this.pageCounterElement=null,this.pageCounter=null,this.size=0,this.page=1,this.count=5,this.max=1,this.remoteRowCountEstimate=null,this.displayIndex=0,this.initialLoad=!0,this.dataChanging=!1,this.pageSizes=[],this.registerTableOption("pagination",!1),this.registerTableOption("paginationMode","local"),this.registerTableOption("paginationSize",!1),this.registerTableOption("paginationInitialPage",1),this.registerTableOption("paginationCounter",!1),this.registerTableOption("paginationCounterElement",!1),this.registerTableOption("paginationButtonCount",5),this.registerTableOption("paginationSizeSelector",!1),this.registerTableOption("paginationElement",!1),this.registerTableOption("paginationAddRow","page"),this.registerTableOption("progressiveLoad",!1),this.registerTableOption("progressiveLoadDelay",0),this.registerTableOption("progressiveLoadScrollMargin",0),this.registerTableFunction("setMaxPage",this.setMaxPage.bind(this)),this.registerTableFunction("setPage",this.setPage.bind(this)),this.registerTableFunction("setPageToRow",this.userSetPageToRow.bind(this)),this.registerTableFunction("setPageSize",this.userSetPageSize.bind(this)),this.registerTableFunction("getPageSize",this.getPageSize.bind(this)),this.registerTableFunction("previousPage",this.previousPage.bind(this)),this.registerTableFunction("nextPage",this.nextPage.bind(this)),this.registerTableFunction("getPage",this.getPage.bind(this)),this.registerTableFunction("getPageMax",this.getPageMax.bind(this)),this.registerComponentFunction("row","pageTo",this.setPageToRow.bind(this))}initialize(){this.table.options.pagination?(this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),"page"==this.table.options.paginationAddRow&&this.subscribe("row-adding-position",this.rowAddingPosition.bind(this)),"remote"===this.table.options.paginationMode&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this))),this.table.options.progressiveLoad&&console.error("Progressive Load Error - Pagination and progressive load cannot be used at the same time"),this.registerDisplayHandler(this.restOnRenderBefore.bind(this),40),this.registerDisplayHandler(this.getRows.bind(this),50),this.createElements(),this.initializePageCounter(),this.initializePaginator()):this.table.options.progressiveLoad&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.initializeProgressive(this.table.options.progressiveLoad),"scroll"===this.table.options.progressiveLoad&&this.subscribe("scroll-vertical",this.scrollVertical.bind(this)))}rowAddingPosition(e,t){var r,n=this.table.rowManager,o=n.getDisplayRows();return t?o.length?r=o[0]:n.activeRows.length&&(r=n.activeRows[n.activeRows.length-1],t=!1):o.length&&(r=o[o.length-1],t=!(o.length<this.size)),{index:r,top:t}}calculatePageSizes(){var e,t;this.table.options.paginationSize?this.size=this.table.options.paginationSize:((e=document.createElement("div")).classList.add("tabulator-row"),e.style.visibility="hidden",(t=document.createElement("div")).classList.add("tabulator-cell"),t.innerHTML="Page Row Test",e.appendChild(t),this.table.rowManager.getTableElement().appendChild(e),this.size=Math.floor(this.table.rowManager.getElement().clientHeight/e.offsetHeight),this.table.rowManager.getTableElement().removeChild(e)),this.generatePageSizeSelectList()}initialLoadComplete(){this.initialLoad=!1}remotePageParams(e,t,n,o){return this.initialLoad||(this.progressiveLoad&&!n||!this.progressiveLoad&&!this.dataChanging)&&this.reset(!0),o.page=this.page,this.size&&(o.size=this.size),o}userSetPageToRow(e){return this.table.options.pagination&&(e=this.rowManager.findRow(e))?this.setPageToRow(e):Promise.reject()}userSetPageSize(e){return!!this.table.options.pagination&&(this.setPageSize(e),this.setPage(1))}scrollVertical(e,t){var n;!t&&!this.table.dataLoader.loading&&(n=this.table.rowManager.getElement()).scrollHeight-n.clientHeight-e<(this.table.options.progressiveLoadScrollMargin||2*n.clientHeight)&&this.nextPage().catch(()=>{})}restOnRenderBefore(e,t){return t||"local"===this.mode&&this.reset(),e}rowsUpdated(){this.refreshData(!0,"all")}createElements(){var e;this.element=document.createElement("span"),this.element.classList.add("tabulator-paginator"),this.pagesElement=document.createElement("span"),this.pagesElement.classList.add("tabulator-pages"),(e=document.createElement("button")).classList.add("tabulator-page"),e.setAttribute("type","button"),e.setAttribute("role","button"),e.setAttribute("aria-label",""),e.setAttribute("title",""),this.firstBut=e.cloneNode(!0),this.firstBut.setAttribute("data-page","first"),this.prevBut=e.cloneNode(!0),this.prevBut.setAttribute("data-page","prev"),this.nextBut=e.cloneNode(!0),this.nextBut.setAttribute("data-page","next"),this.lastBut=e.cloneNode(!0),this.lastBut.setAttribute("data-page","last"),this.table.options.paginationSizeSelector&&(this.pageSizeSelect=document.createElement("select"),this.pageSizeSelect.classList.add("tabulator-page-size"))}generatePageSizeSelectList(){var e=[];if(this.pageSizeSelect){if(Array.isArray(this.table.options.paginationSizeSelector))this.pageSizes=e=this.table.options.paginationSizeSelector,-1==this.pageSizes.indexOf(this.size)&&e.unshift(this.size);else if(-1==this.pageSizes.indexOf(this.size)){e=[];for(let t=1;t<5;t++)e.push(this.size*t);this.pageSizes=e}else e=this.pageSizes;for(;this.pageSizeSelect.firstChild;)this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);e.forEach(t=>{var n=document.createElement("option");n.value=t,!0===t?this.langBind("pagination|all",function(o){n.innerHTML=o}):n.innerHTML=t,this.pageSizeSelect.appendChild(n)}),this.pageSizeSelect.value=this.size}}initializePageCounter(){var e=this.table.options.paginationCounter,t=null;e&&((t="function"==typeof e?e:c.pageCounters[e])?(this.pageCounter=t,this.pageCounterElement=document.createElement("span"),this.pageCounterElement.classList.add("tabulator-page-counter")):console.warn("Pagination Error - No such page counter found: ",e))}initializePaginator(e){var t,n;e||(this.langBind("pagination|first",o=>{this.firstBut.innerHTML=o}),this.langBind("pagination|first_title",o=>{this.firstBut.setAttribute("aria-label",o),this.firstBut.setAttribute("title",o)}),this.langBind("pagination|prev",o=>{this.prevBut.innerHTML=o}),this.langBind("pagination|prev_title",o=>{this.prevBut.setAttribute("aria-label",o),this.prevBut.setAttribute("title",o)}),this.langBind("pagination|next",o=>{this.nextBut.innerHTML=o}),this.langBind("pagination|next_title",o=>{this.nextBut.setAttribute("aria-label",o),this.nextBut.setAttribute("title",o)}),this.langBind("pagination|last",o=>{this.lastBut.innerHTML=o}),this.langBind("pagination|last_title",o=>{this.lastBut.setAttribute("aria-label",o),this.lastBut.setAttribute("title",o)}),this.firstBut.addEventListener("click",()=>{this.setPage(1)}),this.prevBut.addEventListener("click",()=>{this.previousPage()}),this.nextBut.addEventListener("click",()=>{this.nextPage()}),this.lastBut.addEventListener("click",()=>{this.setPage(this.max)}),this.table.options.paginationElement&&(this.element=this.table.options.paginationElement),this.pageSizeSelect&&(t=document.createElement("label"),this.langBind("pagination|page_size",o=>{this.pageSizeSelect.setAttribute("aria-label",o),this.pageSizeSelect.setAttribute("title",o),t.innerHTML=o}),this.element.appendChild(t),this.element.appendChild(this.pageSizeSelect),this.pageSizeSelect.addEventListener("change",o=>{this.setPageSize("true"==this.pageSizeSelect.value||this.pageSizeSelect.value),this.setPage(1)})),this.element.appendChild(this.firstBut),this.element.appendChild(this.prevBut),this.element.appendChild(this.pagesElement),this.element.appendChild(this.nextBut),this.element.appendChild(this.lastBut),!this.table.options.paginationElement&&!e&&(this.table.options.paginationCounter&&(this.table.options.paginationCounterElement?this.table.options.paginationCounterElement instanceof HTMLElement?this.table.options.paginationCounterElement.appendChild(this.pageCounterElement):"string"==typeof this.table.options.paginationCounterElement&&((n=document.querySelector(this.table.options.paginationCounterElement))?n.appendChild(this.pageCounterElement):console.warn("Pagination Error - Unable to find element matching paginationCounterElement selector:",this.table.options.paginationCounterElement)):this.table.footerManager.append(this.pageCounterElement)),this.table.footerManager.append(this.element,this)),this.page=this.table.options.paginationInitialPage,this.count=this.table.options.paginationButtonCount),this.mode=this.table.options.paginationMode}initializeProgressive(e){this.initializePaginator(!0),this.mode="progressive_"+e,this.progressiveLoad=!0}trackChanges(){this.dispatch("page-changed")}setDisplayIndex(e){this.displayIndex=e}getDisplayIndex(){return this.displayIndex}setMaxRows(e){this.max=e?!0===this.size?1:Math.ceil(e/this.size):1,this.page>this.max&&(this.page=this.max)}reset(e){this.initialLoad||("local"==this.mode||e)&&(this.page=1)}setMaxPage(e){e=parseInt(e),this.max=e||1,this.page>this.max&&(this.page=this.max,this.trigger())}setPage(e){switch(e){case"first":return this.setPage(1);case"prev":return this.previousPage();case"next":return this.nextPage();case"last":return this.setPage(this.max)}return(e=parseInt(e))>0&&e<=this.max||"local"!==this.mode?(this.page=e,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Requested page is out of range of 1 - "+this.max+":",e),Promise.reject())}setPageToRow(e){var n=this.table.rowManager.getDisplayRows(this.displayIndex-1).indexOf(e);if(n>-1){var o=!0===this.size?1:Math.ceil((n+1)/this.size);return this.setPage(o)}return console.warn("Pagination Error - Requested row is not visible"),Promise.reject()}setPageSize(e){!0!==e&&(e=parseInt(e)),e>0&&(this.size=e),this.pageSizeSelect&&this.generatePageSizeSelectList(),this.trackChanges()}_setPageCounter(e){var t,n;if(this.pageCounter)switch(n=(this.page-1)*this.size+1,"remote"===this.mode&&(e=this.remoteRowCountEstimate),t=this.pageCounter.call(this,this.size,n,this.page,e,this.max),typeof t){case"object":if(t instanceof Node){for(;this.pageCounterElement.firstChild;)this.pageCounterElement.removeChild(this.pageCounterElement.firstChild);this.pageCounterElement.appendChild(t)}else this.pageCounterElement.innerHTML="",null!=t&&console.warn("Page Counter Error - Page Counter has returned a type of object, the only valid page counter object return is an instance of Node, the page counter returned:",t);break;case"undefined":case"null":this.pageCounterElement.innerHTML="";break;default:this.pageCounterElement.innerHTML=t}}_setPageButtons(){let e=Math.floor((this.count-1)/2),t=Math.ceil((this.count-1)/2),n=this.max-this.page+e+1<this.count?this.max-this.count+1:Math.max(this.page-e,1),o=this.page<=t?Math.min(this.count,this.max):Math.min(this.page+t,this.max);for(;this.pagesElement.firstChild;)this.pagesElement.removeChild(this.pagesElement.firstChild);1==this.page?(this.firstBut.disabled=!0,this.prevBut.disabled=!0):(this.firstBut.disabled=!1,this.prevBut.disabled=!1),this.page==this.max?(this.lastBut.disabled=!0,this.nextBut.disabled=!0):(this.lastBut.disabled=!1,this.nextBut.disabled=!1);for(let r=n;r<=o;r++)r>0&&r<=this.max&&this.pagesElement.appendChild(this._generatePageButton(r));this.footerRedraw()}_generatePageButton(e){var t=document.createElement("button");return t.classList.add("tabulator-page"),e==this.page&&t.classList.add("active"),t.setAttribute("type","button"),t.setAttribute("role","button"),this.langBind("pagination|page_title",n=>{t.setAttribute("aria-label",n+" "+e),t.setAttribute("title",n+" "+e)}),t.setAttribute("data-page",e),t.textContent=e,t.addEventListener("click",n=>{this.setPage(e)}),t}previousPage(){return this.page>1?(this.page--,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Previous page would be less than page 1:",0),Promise.reject())}nextPage(){return this.page<this.max?(this.page++,this.trackChanges(),this.trigger()):(this.progressiveLoad||console.warn("Pagination Error - Next page would be greater than maximum page of "+this.max+":",this.max+1),Promise.reject())}getPage(){return this.page}getPageMax(){return this.max}getPageSize(e){return this.size}getMode(){return this.mode}getRows(e){var t,n,o;if("local"==this.mode){t=[],this.setMaxRows(e.length),!0===this.size?(n=0,o=e.length):o=(n=this.size*(this.page-1))+parseInt(this.size),this._setPageButtons();for(let r=n;r<o;r++)e[r]&&t.push(e[r]);return this._setPageCounter(e.length),t}return this._setPageButtons(),this._setPageCounter(e.length),e.slice(0)}trigger(){var e;switch(this.mode){case"local":return e=this.table.rowManager.scrollLeft,this.refreshData(),this.table.rowManager.scrollHorizontal(e),this.dispatchExternal("pageLoaded",this.getPage()),Promise.resolve();case"remote":return this.dataChanging=!0,this.reloadData(null).finally(()=>{this.dataChanging=!1});case"progressive_load":case"progressive_scroll":return this.reloadData(null,!0);default:return console.warn("Pagination Error - no such pagination mode:",this.mode),Promise.reject()}}_parseRemoteData(t){if(void 0===t.last_page&&console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").last_page||"last_page")+"' property"),t.data){if(this.max=parseInt(t.last_page)||1,this.remoteRowCountEstimate=void 0!==t.last_row?t.last_row:t.last_page*this.size-(this.page==t.last_page?this.size-t.data.length:0),this.progressiveLoad){switch(this.mode){case"progressive_load":1==this.page?this.table.rowManager.setData(t.data,!1,1==this.page):this.table.rowManager.addRows(t.data),this.page<this.max&&setTimeout(()=>{this.nextPage()},this.table.options.progressiveLoadDelay);break;case"progressive_scroll":t=1===this.page?t.data:this.table.rowManager.getData().concat(t.data),this.table.rowManager.setData(t,1!==this.page,1==this.page),this.table.rowManager.element.scrollHeight<=this.table.rowManager.element.clientHeight+(this.table.options.progressiveLoadScrollMargin||2*this.table.rowManager.element.clientHeight)&&this.page<this.max&&setTimeout(()=>{this.nextPage()})}return!1}this.dispatchExternal("pageLoaded",this.getPage())}else console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").data||"data")+"' property");return t.data}footerRedraw(){var e=this.table.footerManager.element;Math.ceil(e.clientWidth)-e.scrollWidth<0?this.pagesElement.style.display="none":(this.pagesElement.style.display="",Math.ceil(e.clientWidth)-e.scrollWidth<0&&(this.pagesElement.style.display="none"))}}return c.moduleName="page",c.pageCounters=Ut,c})();var Gt={local:function(c,s){var e=localStorage.getItem(c+"-"+s);return!!e&&JSON.parse(e)},cookie:function(c,s){var o,r,e=document.cookie,t=c+"-"+s,n=e.indexOf(t+"=");return n>-1&&((o=(e=e.slice(n)).indexOf(";"))>-1&&(e=e.slice(0,o)),r=e.replace(t+"=","")),!!r&&JSON.parse(r)}},ii={local:function(c,s,e){localStorage.setItem(c+"-"+s,JSON.stringify(e))},cookie:function(c,s,e){var t=new Date;t.setDate(t.getDate()+1e4),document.cookie=c+"-"+s+"="+JSON.stringify(e)+"; expires="+t.toUTCString()}};let Kt=(()=>{class c extends d{constructor(e){super(e),this.mode="",this.id="",this.defWatcherBlock=!1,this.config={},this.readFunc=!1,this.writeFunc=!1,this.registerTableOption("persistence",!1),this.registerTableOption("persistenceID",""),this.registerTableOption("persistenceMode",!0),this.registerTableOption("persistenceReaderFunc",!1),this.registerTableOption("persistenceWriterFunc",!1)}localStorageTest(){var e="_tabulator_test";try{return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}initialize(){if(this.table.options.persistence){var n,e=this.table.options.persistenceMode,t=this.table.options.persistenceID;this.mode=!0!==e?e:this.localStorageTest()?"local":"cookie",this.table.options.persistenceReaderFunc?"function"==typeof this.table.options.persistenceReaderFunc?this.readFunc=this.table.options.persistenceReaderFunc:c.readers[this.table.options.persistenceReaderFunc]?this.readFunc=c.readers[this.table.options.persistenceReaderFunc]:console.warn("Persistence Read Error - invalid reader set",this.table.options.persistenceReaderFunc):c.readers[this.mode]?this.readFunc=c.readers[this.mode]:console.warn("Persistence Read Error - invalid reader set",this.mode),this.table.options.persistenceWriterFunc?"function"==typeof this.table.options.persistenceWriterFunc?this.writeFunc=this.table.options.persistenceWriterFunc:c.writers[this.table.options.persistenceWriterFunc]?this.writeFunc=c.writers[this.table.options.persistenceWriterFunc]:console.warn("Persistence Write Error - invalid reader set",this.table.options.persistenceWriterFunc):c.writers[this.mode]?this.writeFunc=c.writers[this.mode]:console.warn("Persistence Write Error - invalid writer set",this.mode),this.id="tabulator-"+(t||this.table.element.getAttribute("id")||""),this.config={sort:!0===this.table.options.persistence||this.table.options.persistence.sort,filter:!0===this.table.options.persistence||this.table.options.persistence.filter,group:!0===this.table.options.persistence||this.table.options.persistence.group,page:!0===this.table.options.persistence||this.table.options.persistence.page,columns:!0===this.table.options.persistence?["title","width","visible"]:this.table.options.persistence.columns},this.config.page&&(n=this.retreiveData("page"))&&(void 0!==n.paginationSize&&(!0===this.config.page||this.config.page.size)&&(this.table.options.paginationSize=n.paginationSize),void 0!==n.paginationInitialPage&&(!0===this.config.page||this.config.page.page)&&(this.table.options.paginationInitialPage=n.paginationInitialPage)),this.config.group&&(n=this.retreiveData("group"))&&(void 0!==n.groupBy&&(!0===this.config.group||this.config.group.groupBy)&&(this.table.options.groupBy=n.groupBy),void 0!==n.groupStartOpen&&(!0===this.config.group||this.config.group.groupStartOpen)&&(this.table.options.groupStartOpen=n.groupStartOpen),void 0!==n.groupHeader&&(!0===this.config.group||this.config.group.groupHeader)&&(this.table.options.groupHeader=n.groupHeader)),this.config.columns&&(this.table.options.columns=this.load("columns",this.table.options.columns),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-show",this.save.bind(this,"columns")),this.subscribe("column-hide",this.save.bind(this,"columns")),this.subscribe("column-moved",this.save.bind(this,"columns"))),this.subscribe("table-built",this.tableBuilt.bind(this),0),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("filter-changed",this.eventSave.bind(this,"filter")),this.subscribe("sort-changed",this.eventSave.bind(this,"sort")),this.subscribe("group-changed",this.eventSave.bind(this,"group")),this.subscribe("page-changed",this.eventSave.bind(this,"page")),this.subscribe("column-resized",this.eventSave.bind(this,"columns")),this.subscribe("layout-refreshed",this.eventSave.bind(this,"columns"))}this.registerTableFunction("getColumnLayout",this.getColumnLayout.bind(this)),this.registerTableFunction("setColumnLayout",this.setColumnLayout.bind(this))}eventSave(e){this.config[e]&&this.save(e)}tableBuilt(){var t,n;this.config.sort&&(t=this.load("sort"))&&(this.table.options.initialSort=t),this.config.filter&&(n=this.load("filter"))&&(this.table.options.initialFilter=n)}tableRedraw(e){e&&this.config.columns&&this.save("columns")}getColumnLayout(){return this.parseColumns(this.table.columnManager.getColumns())}setColumnLayout(e){return this.table.columnManager.setColumns(this.mergeDefinition(this.table.options.columns,e)),!0}initializeColumn(e){var t;this.config.columns&&(this.defWatcherBlock=!0,t=e.getDefinition(),(!0===this.config.columns?Object.keys(t):this.config.columns).forEach(o=>{var r=Object.getOwnPropertyDescriptor(t,o),a=t[o];r&&Object.defineProperty(t,o,{set:function(f){a=f,this.defWatcherBlock||this.save("columns"),r.set&&r.set(f)},get:function(){return r.get&&r.get(),a}})}),this.defWatcherBlock=!1)}load(e,t){var n=this.retreiveData(e);return t&&(n=n?this.mergeDefinition(t,n):t),n}retreiveData(e){return!!this.readFunc&&this.readFunc(this.id,e)}mergeDefinition(e,t){var n=[];return(t=t||[]).forEach((o,r)=>{var f,a=this._findColumn(e,o);a&&(!0===this.config.columns||null==this.config.columns?(f=Object.keys(a)).push("width"):f=this.config.columns,f.forEach(y=>{"columns"!==y&&void 0!==o[y]&&(a[y]=o[y])}),a.columns&&(a.columns=this.mergeDefinition(a.columns,o.columns)),n.push(a))}),e.forEach((o,r)=>{this._findColumn(t,o)||(n.length>r?n.splice(r,0,o):n.push(o))}),n}_findColumn(e,t){var n=t.columns?"group":t.field?"field":"object";return e.find(function(o){switch(n){case"group":return o.title===t.title&&o.columns.length===t.columns.length;case"field":return o.field===t.field;case"object":return o===t}})}save(e){var t={};switch(e){case"columns":t=this.parseColumns(this.table.columnManager.getColumns());break;case"filter":t=this.table.modules.filter.getFilters();break;case"sort":t=this.validateSorters(this.table.modules.sort.getSort());break;case"group":t=this.getGroupConfig();break;case"page":t=this.getPageConfig()}this.writeFunc&&this.writeFunc(this.id,e,t)}validateSorters(e){return e.forEach(function(t){t.column=t.field,delete t.field}),e}getGroupConfig(){var e={};return this.config.group&&((!0===this.config.group||this.config.group.groupBy)&&(e.groupBy=this.table.options.groupBy),(!0===this.config.group||this.config.group.groupStartOpen)&&(e.groupStartOpen=this.table.options.groupStartOpen),(!0===this.config.group||this.config.group.groupHeader)&&(e.groupHeader=this.table.options.groupHeader)),e}getPageConfig(){var e={};return this.config.page&&((!0===this.config.page||this.config.page.size)&&(e.paginationSize=this.table.modules.page.getPageSize()),(!0===this.config.page||this.config.page.page)&&(e.paginationInitialPage=this.table.modules.page.getPage())),e}parseColumns(e){var t=[],n=["headerContextMenu","headerMenu","contextMenu","clickMenu"];return e.forEach(o=>{var f,r={},a=o.getDefinition();o.isGroup?(r.title=a.title,r.columns=this.parseColumns(o.getColumns())):(r.field=o.getField(),!0===this.config.columns||null==this.config.columns?(f=Object.keys(a)).push("width"):f=this.config.columns,f.forEach(y=>{switch(y){case"width":r.width=o.getWidth();break;case"visible":r.visible=o.visible;break;default:"function"!=typeof a[y]&&-1===n.indexOf(y)&&(r[y]=a[y])}})),t.push(r)}),t}}return c.moduleName="persistence",c.moduleInitOrder=1,c.readers=Gt,c.writers=ii,c})(),fi=(()=>{class c extends d{constructor(e){super(e),this.element=!1,this.manualBlock=!1,this.registerTableOption("printAsHtml",!1),this.registerTableOption("printFormatter",!1),this.registerTableOption("printHeader",!1),this.registerTableOption("printFooter",!1),this.registerTableOption("printStyled",!0),this.registerTableOption("printRowRange","visible"),this.registerTableOption("printConfig",{}),this.registerColumnOption("print"),this.registerColumnOption("titlePrint")}initialize(){this.table.options.printAsHtml&&(window.addEventListener("beforeprint",this.replaceTable.bind(this)),window.addEventListener("afterprint",this.cleanup.bind(this))),this.registerTableFunction("print",this.printFullscreen.bind(this))}replaceTable(){this.manualBlock||(this.element=document.createElement("div"),this.element.classList.add("tabulator-print-table"),this.element.appendChild(this.table.modules.export.genereateTable(this.table.options.printConfig,this.table.options.printStyled,this.table.options.printRowRange,"print")),this.table.element.style.display="none",this.table.element.parentNode.insertBefore(this.element,this.table.element))}cleanup(){document.body.classList.remove("tabulator-print-fullscreen-hide"),this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.table.element.style.display="")}printFullscreen(e,t,n){var x,P,o=window.scrollX,r=window.scrollY,a=document.createElement("div"),f=document.createElement("div"),y=this.table.modules.export.genereateTable(void 0!==n?n:this.table.options.printConfig,void 0!==t?t:this.table.options.printStyled,e||this.table.options.printRowRange,"print");this.manualBlock=!0,this.element=document.createElement("div"),this.element.classList.add("tabulator-print-fullscreen"),this.table.options.printHeader&&(a.classList.add("tabulator-print-header"),"string"==typeof(x="function"==typeof this.table.options.printHeader?this.table.options.printHeader.call(this.table):this.table.options.printHeader)?a.innerHTML=x:a.appendChild(x),this.element.appendChild(a)),this.element.appendChild(y),this.table.options.printFooter&&(f.classList.add("tabulator-print-footer"),"string"==typeof(P="function"==typeof this.table.options.printFooter?this.table.options.printFooter.call(this.table):this.table.options.printFooter)?f.innerHTML=P:f.appendChild(P),this.element.appendChild(f)),document.body.classList.add("tabulator-print-fullscreen-hide"),document.body.appendChild(this.element),this.table.options.printFormatter&&this.table.options.printFormatter(this.element,y),window.print(),this.cleanup(),window.scrollTo(o,r),this.manualBlock=!1}}return c.moduleName="print",c})(),ni=(()=>{class c extends d{constructor(e){super(e),this.data=!1,this.blocked=!1,this.origFuncs={},this.currentVersion=0,this.registerTableOption("reactiveData",!1)}initialize(){this.table.options.reactiveData&&(this.subscribe("cell-value-save-before",this.block.bind(this)),this.subscribe("cell-value-save-after",this.unblock.bind(this)),this.subscribe("row-data-save-before",this.block.bind(this)),this.subscribe("row-data-save-after",this.unblock.bind(this)),this.subscribe("row-data-init-after",this.watchRow.bind(this)),this.subscribe("data-processing",this.watchData.bind(this)),this.subscribe("table-destroy",this.unwatchData.bind(this)))}watchData(e){var n,t=this;this.currentVersion++,n=this.currentVersion,this.unwatchData(),this.data=e,this.origFuncs.push=e.push,Object.defineProperty(this.data,"push",{enumerable:!1,configurable:!0,value:function(){var o=Array.from(arguments);return!t.blocked&&n===t.currentVersion&&o.forEach(r=>{t.table.rowManager.addRowActual(r,!1)}),t.origFuncs.push.apply(e,arguments)}}),this.origFuncs.unshift=e.unshift,Object.defineProperty(this.data,"unshift",{enumerable:!1,configurable:!0,value:function(){var o=Array.from(arguments);return!t.blocked&&n===t.currentVersion&&o.forEach(r=>{t.table.rowManager.addRowActual(r,!0)}),t.origFuncs.unshift.apply(e,arguments)}}),this.origFuncs.shift=e.shift,Object.defineProperty(this.data,"shift",{enumerable:!1,configurable:!0,value:function(){var o;return!t.blocked&&n===t.currentVersion&&t.data.length&&(o=t.table.rowManager.getRowFromDataObject(t.data[0]))&&o.deleteActual(),t.origFuncs.shift.call(e)}}),this.origFuncs.pop=e.pop,Object.defineProperty(this.data,"pop",{enumerable:!1,configurable:!0,value:function(){var o;return!t.blocked&&n===t.currentVersion&&t.data.length&&(o=t.table.rowManager.getRowFromDataObject(t.data[t.data.length-1]))&&o.deleteActual(),t.origFuncs.pop.call(e)}}),this.origFuncs.splice=e.splice,Object.defineProperty(this.data,"splice",{enumerable:!1,configurable:!0,value:function(){var y,o=Array.from(arguments),r=o[0]<0?e.length+o[0]:o[0],a=o[1],f=!!o[2]&&o.slice(2);if(!t.blocked&&n===t.currentVersion){if(f&&((y=!!e[r]&&t.table.rowManager.getRowFromDataObject(e[r]))?f.forEach(P=>{t.table.rowManager.addRowActual(P,!0,y,!0)}):(f=f.slice().reverse()).forEach(P=>{t.table.rowManager.addRowActual(P,!0,!1,!0)})),0!==a){var x=e.slice(r,void 0===o[1]?o[1]:r+a);x.forEach((P,U)=>{var X=t.table.rowManager.getRowFromDataObject(P);X&&X.deleteActual(U!==x.length-1)})}(f||0!==a)&&t.table.rowManager.reRenderInPosition()}return t.origFuncs.splice.apply(e,arguments)}})}unwatchData(){if(!1!==this.data)for(var e in this.origFuncs)Object.defineProperty(this.data,e,{enumerable:!0,configurable:!0,writable:!0,value:this.origFuncs.key})}watchRow(e){var t=e.getData();for(var n in this.blocked=!0,t)this.watchKey(e,t,n);this.table.options.dataTree&&this.watchTreeChildren(e),this.blocked=!1}watchTreeChildren(e){var t=e.getData()[this.table.options.dataTreeChildField],n={};function o(){this.table.modules.dataTree.initializeRow(e),this.table.modules.dataTree.layoutRow(e),this.table.rowManager.refreshActiveData("tree",!1,!0)}t&&(n.push=t.push,Object.defineProperty(t,"push",{enumerable:!1,configurable:!0,value:()=>{var r=n.push.apply(t,arguments);return o(),r}}),n.unshift=t.unshift,Object.defineProperty(t,"unshift",{enumerable:!1,configurable:!0,value:()=>{var r=n.unshift.apply(t,arguments);return o(),r}}),n.shift=t.shift,Object.defineProperty(t,"shift",{enumerable:!1,configurable:!0,value:()=>{var r=n.shift.call(t);return o(),r}}),n.pop=t.pop,Object.defineProperty(t,"pop",{enumerable:!1,configurable:!0,value:()=>{var r=n.pop.call(t);return o(),r}}),n.splice=t.splice,Object.defineProperty(t,"splice",{enumerable:!1,configurable:!0,value:()=>{var r=n.splice.apply(t,arguments);return o(),r}}))}watchKey(e,t,n){var o=Object.getOwnPropertyDescriptor(t,n),r=t[n],a=this.currentVersion;Object.defineProperty(t,n,{set:f=>{if(r=f,!this.blocked&&a===this.currentVersion){var y={};y[n]=f,e.updateData(y)}o.set&&o.set(f)},get:()=>(o.get&&o.get(),r)})}unwatchRow(e){var t=e.getData();for(var n in t)Object.defineProperty(t,n,{value:t[n]})}block(){this.blocked=!0}unblock(){this.blocked=!1}}return c.moduleName="reactiveData",c})(),si=(()=>{class c extends d{constructor(e){super(e),this.startColumn=!1,this.startX=!1,this.startWidth=!1,this.handle=null,this.prevHandle=null,this.registerColumnOption("resizable",!0)}initialize(){this.subscribe("cell-layout",this.layoutCellHandles.bind(this)),this.subscribe("column-init",this.layoutColumnHeader.bind(this))}layoutCellHandles(e){"row"===e.row.type&&this.initializeColumn("cell",e.column,e.element)}layoutColumnHeader(e){this.initializeColumn("header",e,e.element)}initializeColumn(e,t,n){var o=this,a=t.definition.resizable;if("header"===e&&(t.modules.resize={variableHeight:"textarea"==t.definition.formatter||t.definition.variableHeight}),!0===a||a==e){var f=document.createElement("div");f.className="tabulator-col-resize-handle";var y=document.createElement("div");y.className="tabulator-col-resize-handle prev",f.addEventListener("click",function(U){U.stopPropagation()});var x=function(U){var X=t.getLastColumn();X&&o._checkResizability(X)&&(o.startColumn=t,o._mouseDown(U,X,f))};f.addEventListener("mousedown",x),f.addEventListener("touchstart",x,{passive:!0}),f.addEventListener("dblclick",function(U){var he,X=t.getLastColumn();X&&o._checkResizability(X)&&(he=X.getWidth(),U.stopPropagation(),X.reinitializeWidth(!0),he!==X.getWidth()&&(o.dispatch("column-resized",X),o.table.externalEvents.dispatch("columnResized",X.getComponent())))}),y.addEventListener("click",function(U){U.stopPropagation()});var P=function(U){var X,he,me;(X=t.getFirstColumn())&&(me=(he=o.table.columnManager.findColumnIndex(X))>0&&o.table.columnManager.getColumnByIndex(he-1))&&o._checkResizability(me)&&(o.startColumn=t,o._mouseDown(U,me,y))};y.addEventListener("mousedown",P),y.addEventListener("touchstart",P,{passive:!0}),y.addEventListener("dblclick",function(U){var X,he,me;(X=t.getFirstColumn())&&(me=(he=o.table.columnManager.findColumnIndex(X))>0&&o.table.columnManager.getColumnByIndex(he-1))&&o._checkResizability(me)&&(U.stopPropagation(),me.reinitializeWidth(!0))}),n.appendChild(f),n.appendChild(y)}}_checkResizability(e){return e.definition.resizable}_mouseDown(e,t,n){var o=this;function r(f){t.setWidth(o.table.rtl?o.startWidth-((void 0===f.screenX?f.touches[0].screenX:f.screenX)-o.startX):o.startWidth+((void 0===f.screenX?f.touches[0].screenX:f.screenX)-o.startX)),o.table.columnManager.renderer.rerenderColumns(!0),!o.table.browserSlow&&t.modules.resize&&t.modules.resize.variableHeight&&t.checkCellHeights()}function a(f){o.startColumn.modules.edit&&(o.startColumn.modules.edit.blocked=!1),o.table.browserSlow&&t.modules.resize&&t.modules.resize.variableHeight&&t.checkCellHeights(),document.body.removeEventListener("mouseup",a),document.body.removeEventListener("mousemove",r),n.removeEventListener("touchmove",r),n.removeEventListener("touchend",a),o.table.element.classList.remove("tabulator-block-select"),o.startWidth!==t.getWidth()&&(o.dispatch("column-resized",t),o.table.externalEvents.dispatch("columnResized",t.getComponent()))}o.table.element.classList.add("tabulator-block-select"),e.stopPropagation(),o.startColumn.modules.edit&&(o.startColumn.modules.edit.blocked=!0),o.startX=void 0===e.screenX?e.touches[0].screenX:e.screenX,o.startWidth=t.getWidth(),document.body.addEventListener("mousemove",r),document.body.addEventListener("mouseup",a),n.addEventListener("touchmove",r,{passive:!0}),n.addEventListener("touchend",a)}}return c.moduleName="resizeColumns",c})(),oi=(()=>{class c extends d{constructor(e){super(e),this.startColumn=!1,this.startY=!1,this.startHeight=!1,this.handle=null,this.prevHandle=null,this.registerTableOption("resizableRows",!1)}initialize(){this.table.options.resizableRows&&this.subscribe("row-layout-after",this.initializeRow.bind(this))}initializeRow(e){var t=this,n=e.getElement(),o=document.createElement("div");o.className="tabulator-row-resize-handle";var r=document.createElement("div");r.className="tabulator-row-resize-handle prev",o.addEventListener("click",function(y){y.stopPropagation()});var a=function(y){t.startRow=e,t._mouseDown(y,e,o)};o.addEventListener("mousedown",a),o.addEventListener("touchstart",a,{passive:!0}),r.addEventListener("click",function(y){y.stopPropagation()});var f=function(y){var x=t.table.rowManager.prevDisplayRow(e);x&&(t.startRow=x,t._mouseDown(y,x,r))};r.addEventListener("mousedown",f),r.addEventListener("touchstart",f,{passive:!0}),n.appendChild(o),n.appendChild(r)}_mouseDown(e,t,n){var o=this;function r(f){t.setHeight(o.startHeight+((void 0===f.screenY?f.touches[0].screenY:f.screenY)-o.startY))}function a(f){document.body.removeEventListener("mouseup",r),document.body.removeEventListener("mousemove",r),n.removeEventListener("touchmove",r),n.removeEventListener("touchend",a),o.table.element.classList.remove("tabulator-block-select"),o.dispatchExternal("rowResized",t.getComponent())}o.table.element.classList.add("tabulator-block-select"),e.stopPropagation(),o.startY=void 0===e.screenY?e.touches[0].screenY:e.screenY,o.startHeight=t.getHeight(),document.body.addEventListener("mousemove",r),document.body.addEventListener("mouseup",a),n.addEventListener("touchmove",r,{passive:!0}),n.addEventListener("touchend",a)}}return c.moduleName="resizeRows",c})(),$t=(()=>{class c extends d{constructor(e){super(e),this.binding=!1,this.observer=!1,this.containerObserver=!1,this.tableHeight=0,this.tableWidth=0,this.containerHeight=0,this.containerWidth=0,this.autoResize=!1,this.registerTableOption("autoResize",!0)}initialize(){if(this.table.options.autoResize){var t,e=this.table;this.tableHeight=e.element.clientHeight,this.tableWidth=e.element.clientWidth,e.element.parentNode&&(this.containerHeight=e.element.parentNode.clientHeight,this.containerWidth=e.element.parentNode.clientWidth),"undefined"!=typeof ResizeObserver&&"virtual"===e.rowManager.getRenderMode()?(this.autoResize=!0,this.observer=new ResizeObserver(n=>{if(!e.browserMobile||e.browserMobile&&!e.modules.edit.currentCell){var o=Math.floor(n[0].contentRect.height),r=Math.floor(n[0].contentRect.width);(this.tableHeight!=o||this.tableWidth!=r)&&(this.tableHeight=o,this.tableWidth=r,e.element.parentNode&&(this.containerHeight=e.element.parentNode.clientHeight,this.containerWidth=e.element.parentNode.clientWidth),this.table.columnManager.renderer.rerenderColumns(!0),e.redraw())}}),this.observer.observe(e.element),t=window.getComputedStyle(e.element),this.table.element.parentNode&&!this.table.rowManager.fixedHeight&&(t.getPropertyValue("max-height")||t.getPropertyValue("min-height"))&&(this.containerObserver=new ResizeObserver(n=>{if(!e.browserMobile||e.browserMobile&&!e.modules.edit.currentCell){var o=Math.floor(n[0].contentRect.height),r=Math.floor(n[0].contentRect.width);(this.containerHeight!=o||this.containerWidth!=r)&&(this.containerHeight=o,this.containerWidth=r,this.tableHeight=e.element.clientHeight,this.tableWidth=e.element.clientWidth),e.columnManager.renderer.rerenderColumns(!0),e.redraw()}}),this.containerObserver.observe(this.table.element.parentNode)),this.subscribe("table-resize",this.tableResized.bind(this))):(this.binding=function(){(!e.browserMobile||e.browserMobile&&!e.modules.edit.currentCell)&&(e.columnManager.renderer.rerenderColumns(!0),e.redraw())},window.addEventListener("resize",this.binding)),this.subscribe("table-destroy",this.clearBindings.bind(this))}}tableResized(){this.table.rowManager.redraw()}clearBindings(){this.binding&&window.removeEventListener("resize",this.binding),this.observer&&this.observer.unobserve(this.table.element),this.containerObserver&&this.containerObserver.unobserve(this.table.element.parentNode)}}return c.moduleName="resizeTable",c})(),Zt=(()=>{class c extends d{constructor(e){super(e),this.columns=[],this.hiddenColumns=[],this.mode="",this.index=0,this.collapseFormatter=[],this.collapseStartOpen=!0,this.collapseHandleColumn=!1,this.registerTableOption("responsiveLayout",!1),this.registerTableOption("responsiveLayoutCollapseStartOpen",!0),this.registerTableOption("responsiveLayoutCollapseUseFormatters",!0),this.registerTableOption("responsiveLayoutCollapseFormatter",!1),this.registerColumnOption("responsive")}initialize(){this.table.options.responsiveLayout&&(this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-show",this.updateColumnVisibility.bind(this)),this.subscribe("column-hide",this.updateColumnVisibility.bind(this)),this.subscribe("columns-loaded",this.initializeResponsivity.bind(this)),this.subscribe("column-moved",this.initializeResponsivity.bind(this)),this.subscribe("column-add",this.initializeResponsivity.bind(this)),this.subscribe("column-delete",this.initializeResponsivity.bind(this)),this.subscribe("table-redrawing",this.tableRedraw.bind(this)),"collapse"===this.table.options.responsiveLayout&&(this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout",this.layoutRow.bind(this))))}tableRedraw(e){-1===["fitColumns","fitDataStretch"].indexOf(this.layoutMode())&&(e||this.update())}initializeResponsivity(){var e=[];this.mode=this.table.options.responsiveLayout,this.collapseFormatter=this.table.options.responsiveLayoutCollapseFormatter||this.formatCollapsedData,this.collapseStartOpen=this.table.options.responsiveLayoutCollapseStartOpen,this.hiddenColumns=[],this.table.columnManager.columnsByIndex.forEach((t,n)=>{t.modules.responsive&&t.modules.responsive.order&&t.modules.responsive.visible&&(t.modules.responsive.index=n,e.push(t),!t.visible&&"collapse"===this.mode&&this.hiddenColumns.push(t))}),e=(e=e.reverse()).sort((t,n)=>n.modules.responsive.order-t.modules.responsive.order||n.modules.responsive.index-t.modules.responsive.index),this.columns=e,"collapse"===this.mode&&this.generateCollapsedContent();for(let t of this.table.columnManager.columnsByIndex)if("responsiveCollapse"==t.definition.formatter){this.collapseHandleColumn=t;break}this.collapseHandleColumn&&(this.hiddenColumns.length?this.collapseHandleColumn.show():this.collapseHandleColumn.hide())}initializeColumn(e){var t=e.getDefinition();e.modules.responsive={order:void 0===t.responsive?1:t.responsive,visible:!1!==t.visible}}initializeRow(e){var t;"calc"!==e.type&&((t=document.createElement("div")).classList.add("tabulator-responsive-collapse"),e.modules.responsiveLayout={element:t,open:this.collapseStartOpen},this.collapseStartOpen||(t.style.display="none"))}layoutRow(e){var t=e.getElement();e.modules.responsiveLayout&&(t.appendChild(e.modules.responsiveLayout.element),this.generateCollapsedRowContent(e))}updateColumnVisibility(e,t){!t&&e.modules.responsive&&(e.modules.responsive.visible=e.visible,this.initializeResponsivity())}hideColumn(e){var t=this.hiddenColumns.length;e.hide(!1,!0),"collapse"===this.mode&&(this.hiddenColumns.unshift(e),this.generateCollapsedContent(),this.collapseHandleColumn&&!t&&this.collapseHandleColumn.show())}showColumn(e){var t;e.show(!1,!0),e.setWidth(e.getWidth()),"collapse"===this.mode&&((t=this.hiddenColumns.indexOf(e))>-1&&this.hiddenColumns.splice(t,1),this.generateCollapsedContent(),this.collapseHandleColumn&&!this.hiddenColumns.length&&this.collapseHandleColumn.hide())}update(){for(var e=this,t=!0;t;){let n="fitColumns"==e.table.modules.layout.getMode()?e.table.columnManager.getFlexBaseWidth():e.table.columnManager.getWidth(),o=(e.table.options.headerVisible?e.table.columnManager.element.clientWidth:e.table.element.clientWidth)-n;if(o<0){let r=e.columns[e.index];r?(e.hideColumn(r),e.index++):t=!1}else{let r=e.columns[e.index-1];r&&o>0&&o>=r.getWidth()?(e.showColumn(r),e.index--):t=!1}e.table.rowManager.activeRowsCount||e.table.rowManager.renderEmptyScroll()}}generateCollapsedContent(){var e=this;this.table.rowManager.getDisplayRows().forEach(function(n){e.generateCollapsedRowContent(n)})}generateCollapsedRowContent(e){var t,n;if(e.modules.responsiveLayout){for(t=e.modules.responsiveLayout.element;t.firstChild;)t.removeChild(t.firstChild);(n=this.collapseFormatter(this.generateCollapsedRowData(e)))&&t.appendChild(n)}}generateCollapsedRowData(e){var r,t=this,n=e.getData(),o=[];return this.hiddenColumns.forEach(function(a){var f=a.getFieldValue(n);if(a.definition.title&&a.field)if(a.modules.format&&t.table.options.responsiveLayoutCollapseUseFormatters){r={value:!1,data:{},getValue:function(){return f},getData:function(){return n},getElement:function(){return document.createElement("div")},getRow:function(){return e.getComponent()},getColumn:function(){return a.getComponent()}},o.push({field:a.field,title:a.definition.title,value:a.modules.format.formatter.call(t.table.modules.format,r,a.modules.format.params,function(P){P()})})}else o.push({field:a.field,title:a.definition.title,value:f})}),o}formatCollapsedData(e){var t=document.createElement("table");return e.forEach(function(n){var f,o=document.createElement("tr"),r=document.createElement("td"),a=document.createElement("td"),y=document.createElement("strong");r.appendChild(y),this.langBind("columns|"+n.field,function(x){y.innerHTML=x||n.title}),n.value instanceof Node?((f=document.createElement("div")).appendChild(n.value),a.appendChild(f)):a.innerHTML=n.value,o.appendChild(r),o.appendChild(a),t.appendChild(o)},this),Object.keys(e).length?t:""}}return c.moduleName="responsiveLayout",c})();function Ft(c,s,e,t,n,o,r){var a=window.DateTime||luxon.DateTime,f=r.format||"dd/MM/yyyy HH:mm:ss",y=r.alignEmptyValues,x=0;if(void 0!==a){if(c="iso"===f?a.fromISO(String(c)):a.fromFormat(String(c),f),s="iso"===f?a.fromISO(String(s)):a.fromFormat(String(s),f),c.isValid){if(s.isValid)return c-s;x=1}else x=s.isValid?-1:0;return("top"===y&&"desc"===o||"bottom"===y&&"asc"===o)&&(x*=-1),x}console.error("Sort Error - 'datetime' sorter is dependant on luxon.js")}var _i={number:function mi(c,s,e,t,n,o,r){var a=r.alignEmptyValues,f=r.decimalSeparator,y=r.thousandSeparator,x=0;if(c=String(c),s=String(s),y&&(c=c.split(y).join(""),s=s.split(y).join("")),f&&(c=c.split(f).join("."),s=s.split(f).join(".")),c=parseFloat(c),s=parseFloat(s),isNaN(c))x=isNaN(s)?0:-1;else{if(!isNaN(s))return c-s;x=1}return("top"===a&&"desc"===o||"bottom"===a&&"asc"===o)&&(x*=-1),x},string:function pi(c,s,e,t,n,o,r){var y,a=r.alignEmptyValues,f=0;if(c){if(s){switch(typeof r.locale){case"boolean":r.locale&&(y=this.langLocale());break;case"string":y=r.locale}return String(c).toLowerCase().localeCompare(String(s).toLowerCase(),y)}f=1}else f=s?-1:0;return("top"===a&&"desc"===o||"bottom"===a&&"asc"===o)&&(f*=-1),f},date:function Yt(c,s,e,t,n,o,r){return r.format||(r.format="dd/MM/yyyy"),Ft.call(this,c,s,e,t,n,o,r)},time:function ri(c,s,e,t,n,o,r){return r.format||(r.format="HH:mm"),Ft.call(this,c,s,e,t,n,o,r)},datetime:Ft,boolean:function Ri(c,s,e,t,n,o,r){return(!0===c||"true"===c||"True"===c||1===c?1:0)-(!0===s||"true"===s||"True"===s||1===s?1:0)},array:function Oi(c,s,e,t,n,o,r){var y=r.type||"length",x=r.alignEmptyValues,P=0;function U(X){switch(y){case"length":return X.length;case"sum":return X.reduce(function(he,me){return he+me});case"max":return Math.max.apply(null,X);case"min":return Math.min.apply(null,X);case"avg":return X.reduce(function(he,me){return he+me})/X.length}}if(Array.isArray(c)){if(Array.isArray(s))return(c?U(c):0)-(s?U(s):0);x=1}else x=Array.isArray(s)?-1:0;return("top"===x&&"desc"===o||"bottom"===x&&"asc"===o)&&(P*=-1),P},exists:function ki(c,s,e,t,n,o,r){return(void 0===c?0:1)-(void 0===s?0:1)},alphanum:function gi(c,s,e,t,n,o,r){var a,f,y,x,U,P=0,X=/(\d+)|(\D+)/g,he=/\d/,me=r.alignEmptyValues,be=0;if(c||0===c){if(s||0===s){if(isFinite(c)&&isFinite(s))return c-s;if((a=String(c).toLowerCase())===(f=String(s).toLowerCase()))return 0;if(!he.test(a)||!he.test(f))return a>f?1:-1;for(a=a.match(X),f=f.match(X),U=a.length>f.length?f.length:a.length;P<U;)if((y=a[P])!==(x=f[P++]))return isFinite(y)&&isFinite(x)?("0"===y.charAt(0)&&(y="."+y),"0"===x.charAt(0)&&(x="."+x),y-x):y>x?1:-1;return a.length>f.length}be=1}else be=s||0===s?-1:0;return("top"===me&&"desc"===o||"bottom"===me&&"asc"===o)&&(be*=-1),be}},Xt={integer:function(c,s,e){return""===s||null==s||"number"==typeof(s=Number(s))&&isFinite(s)&&Math.floor(s)===s},float:function(c,s,e){return""===s||null==s||"number"==typeof(s=Number(s))&&isFinite(s)&&s%1!=0},numeric:function(c,s,e){return""===s||null==s||!isNaN(s)},string:function(c,s,e){return""===s||null==s||isNaN(s)},max:function(c,s,e){return""===s||null==s||parseFloat(s)<=e},min:function(c,s,e){return""===s||null==s||parseFloat(s)>=e},starts:function(c,s,e){return""===s||null==s||String(s).toLowerCase().startsWith(String(e).toLowerCase())},ends:function(c,s,e){return""===s||null==s||String(s).toLowerCase().endsWith(String(e).toLowerCase())},minLength:function(c,s,e){return""===s||null==s||String(s).length>=e},maxLength:function(c,s,e){return""===s||null==s||String(s).length<=e},in:function(c,s,e){return""===s||null==s||("string"==typeof e&&(e=e.split("|")),""===s||e.indexOf(s)>-1)},regex:function(c,s,e){return""===s||null==s||new RegExp(e).test(s)},unique:function(c,s,e){if(""===s||null==s)return!0;var t=!0,n=c.getData(),o=c.getColumn()._getSelf();return this.table.rowManager.rows.forEach(function(r){var a=r.getData();a!==n&&s==o.getFieldValue(a)&&(t=!1)}),t},required:function(c,s,e){return""!==s&&null!=s}},bi=Object.freeze({__proto__:null,AccessorModule:I,AjaxModule:R,ClipboardModule:z,ColumnCalcsModule:Pe,DataTreeModule:ee,DownloadModule:q,EditModule:ke,ExportModule:He,FilterModule:nt,FormatModule:K,FrozenColumnsModule:ne,FrozenRowsModule:Ce,GroupRowsModule:st,HistoryModule:wt,HtmlTableImportModule:Dt,ImportModule:g,InteractionModule:b,KeybindingsModule:J,MenuModule:De,MoveColumnsModule:je,MoveRowsModule:it,MutatorModule:Lt,PageModule:ti,PersistenceModule:Kt,PrintModule:fi,ReactiveDataModule:ni,ResizeColumnsModule:si,ResizeRowsModule:oi,ResizeTableModule:$t,ResponsiveLayoutModule:Zt,SelectRowModule:(()=>{class c extends d{constructor(e){super(e),this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],this.headerCheckboxElement=null,this.registerTableOption("selectable","highlight"),this.registerTableOption("selectableRangeMode","drag"),this.registerTableOption("selectableRollingSelection",!0),this.registerTableOption("selectablePersistence",!0),this.registerTableOption("selectableCheck",function(t,n){return!0}),this.registerTableFunction("selectRow",this.selectRows.bind(this)),this.registerTableFunction("deselectRow",this.deselectRows.bind(this)),this.registerTableFunction("toggleSelectRow",this.toggleRow.bind(this)),this.registerTableFunction("getSelectedRows",this.getSelectedRows.bind(this)),this.registerTableFunction("getSelectedData",this.getSelectedData.bind(this)),this.registerComponentFunction("row","select",this.selectRows.bind(this)),this.registerComponentFunction("row","deselect",this.deselectRows.bind(this)),this.registerComponentFunction("row","toggleSelect",this.toggleRow.bind(this)),this.registerComponentFunction("row","isSelected",this.isRowSelected.bind(this))}initialize(){!1!==this.table.options.selectable&&(this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-deleting",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clearSelectionData.bind(this)),this.subscribe("rows-retrieve",this.rowRetrieve.bind(this)),this.table.options.selectable&&!this.table.options.selectablePersistence&&this.subscribe("data-refreshing",this.deselectRows.bind(this)))}rowRetrieve(e,t){return"selected"===e?this.selectedRows:t}rowDeleted(e){this._deselectRow(e,!0)}clearSelectionData(e){this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],!0!==e&&this._rowSelectionChanged()}initializeRow(e){var t=this,n=e.getElement(),o=function(){setTimeout(function(){t.selecting=!1},50),document.body.removeEventListener("mouseup",o)};e.modules.select={selected:!1},t.table.options.selectableCheck.call(this.table,e.getComponent())?(n.classList.add("tabulator-selectable"),n.classList.remove("tabulator-unselectable"),t.table.options.selectable&&"highlight"!=t.table.options.selectable&&("click"===t.table.options.selectableRangeMode?n.addEventListener("click",this.handleComplexRowClick.bind(this,e)):(n.addEventListener("click",function(r){(!t.table.modExists("edit")||!t.table.modules.edit.getCurrentCell())&&t.table._clearSelection(),t.selecting||t.toggleRow(e)}),n.addEventListener("mousedown",function(r){if(r.shiftKey)return t.table._clearSelection(),t.selecting=!0,t.selectPrev=[],document.body.addEventListener("mouseup",o),document.body.addEventListener("keyup",o),t.toggleRow(e),!1}),n.addEventListener("mouseenter",function(r){t.selecting&&(t.table._clearSelection(),t.toggleRow(e),t.selectPrev[1]==e&&t.toggleRow(t.selectPrev[0]))}),n.addEventListener("mouseout",function(r){t.selecting&&(t.table._clearSelection(),t.selectPrev.unshift(e))})))):(n.classList.add("tabulator-unselectable"),n.classList.remove("tabulator-selectable"))}handleComplexRowClick(e,t){if(t.shiftKey){this.table._clearSelection(),this.lastClickedRow=this.lastClickedRow||e;var n=this.table.rowManager.getDisplayRowIndex(this.lastClickedRow),o=this.table.rowManager.getDisplayRowIndex(e),r=n<=o?n:o,a=n>=o?n:o,y=this.table.rowManager.getDisplayRows().slice(0).splice(r,a-r+1);t.ctrlKey||t.metaKey?(y.forEach(x=>{x!==this.lastClickedRow&&(!0===this.table.options.selectable||this.isRowSelected(e)||this.selectedRows.length<this.table.options.selectable)&&this.toggleRow(x)}),this.lastClickedRow=e):(this.deselectRows(void 0,!0),!0!==this.table.options.selectable&&y.length>this.table.options.selectable&&(y=y.slice(0,this.table.options.selectable)),this.selectRows(y)),this.table._clearSelection()}else t.ctrlKey||t.metaKey?(this.toggleRow(e),this.lastClickedRow=e):(this.deselectRows(void 0,!0),this.selectRows(e),this.lastClickedRow=e)}toggleRow(e){this.table.options.selectableCheck.call(this.table,e.getComponent())&&(e.modules.select&&e.modules.select.selected?this._deselectRow(e):this._selectRow(e))}selectRows(e){var t;switch(typeof e){case"undefined":this.table.rowManager.rows.forEach(n=>{this._selectRow(n,!0,!0)}),this._rowSelectionChanged();break;case"string":(t=this.table.rowManager.findRow(e))?this._selectRow(t,!0,!0):this.table.rowManager.getRows(e).forEach(n=>{this._selectRow(n,!0,!0)}),this._rowSelectionChanged();break;default:Array.isArray(e)?(e.forEach(n=>{this._selectRow(n,!0,!0)}),this._rowSelectionChanged()):this._selectRow(e,!1,!0)}}_selectRow(e,t,n){if(!isNaN(this.table.options.selectable)&&!0!==this.table.options.selectable&&!n&&this.selectedRows.length>=this.table.options.selectable){if(!this.table.options.selectableRollingSelection)return!1;this._deselectRow(this.selectedRows[0])}var o=this.table.rowManager.findRow(e);o?-1==this.selectedRows.indexOf(o)&&(o.getElement().classList.add("tabulator-selected"),o.modules.select||(o.modules.select={}),o.modules.select.selected=!0,o.modules.select.checkboxEl&&(o.modules.select.checkboxEl.checked=!0),this.selectedRows.push(o),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(o,!0),this.dispatchExternal("rowSelected",o.getComponent()),this._rowSelectionChanged(t)):t||console.warn("Selection Error - No such row found, ignoring selection:"+e)}isRowSelected(e){return-1!==this.selectedRows.indexOf(e)}deselectRows(e,t){var o,n=this;if(void 0===e){o=n.selectedRows.length;for(let r=0;r<o;r++)n._deselectRow(n.selectedRows[0],!0);n._rowSelectionChanged(t)}else Array.isArray(e)?(e.forEach(function(r){n._deselectRow(r,!0)}),n._rowSelectionChanged(t)):n._deselectRow(e,t)}_deselectRow(e,t){var r,n=this,o=n.table.rowManager.findRow(e);o?(r=n.selectedRows.findIndex(function(a){return a==o}))>-1&&(o.getElement().classList.remove("tabulator-selected"),o.modules.select||(o.modules.select={}),o.modules.select.selected=!1,o.modules.select.checkboxEl&&(o.modules.select.checkboxEl.checked=!1),n.selectedRows.splice(r,1),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(o,!1),this.dispatchExternal("rowDeselected",o.getComponent()),n._rowSelectionChanged(t)):t||console.warn("Deselection Error - No such row found, ignoring selection:"+e)}getSelectedData(){var e=[];return this.selectedRows.forEach(function(t){e.push(t.getData())}),e}getSelectedRows(){var e=[];return this.selectedRows.forEach(function(t){e.push(t.getComponent())}),e}_rowSelectionChanged(e){this.headerCheckboxElement&&(0===this.selectedRows.length?(this.headerCheckboxElement.checked=!1,this.headerCheckboxElement.indeterminate=!1):this.table.rowManager.rows.length===this.selectedRows.length?(this.headerCheckboxElement.checked=!0,this.headerCheckboxElement.indeterminate=!1):(this.headerCheckboxElement.indeterminate=!0,this.headerCheckboxElement.checked=!1)),e||this.dispatchExternal("rowSelectionChanged",this.getSelectedData(),this.getSelectedRows())}registerRowSelectCheckbox(e,t){e._row.modules.select||(e._row.modules.select={}),e._row.modules.select.checkboxEl=t}registerHeaderSelectCheckbox(e){this.headerCheckboxElement=e}childRowSelection(e,t){var n=this.table.modules.dataTree.getChildren(e,!0);if(t)for(let o of n)this._selectRow(o,!0);else for(let o of n)this._deselectRow(o,!0)}}return c.moduleName="selectRow",c})(),SortModule:(()=>{class c extends d{constructor(e){super(e),this.sortList=[],this.changed=!1,this.registerTableOption("sortMode","local"),this.registerTableOption("initialSort",!1),this.registerTableOption("columnHeaderSortMulti",!0),this.registerTableOption("sortOrderReverse",!1),this.registerTableOption("headerSortElement","<div class='tabulator-arrow'></div>"),this.registerColumnOption("sorter"),this.registerColumnOption("sorterParams"),this.registerColumnOption("headerSort",!0),this.registerColumnOption("headerSortStartingDir"),this.registerColumnOption("headerSortTristate")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.registerDataHandler(this.sort.bind(this),20),this.registerTableFunction("setSort",this.userSetSort.bind(this)),this.registerTableFunction("getSorters",this.getSort.bind(this)),this.registerTableFunction("clearSort",this.clearSort.bind(this)),"remote"===this.table.options.sortMode&&this.subscribe("data-params",this.remoteSortParams.bind(this))}tableBuilt(){this.table.options.initialSort&&this.setSort(this.table.options.initialSort)}remoteSortParams(e,t,n,o){var r=this.getSort();return r.forEach(a=>{delete a.column}),o.sort=r,o}userSetSort(e,t){this.setSort(e,t),this.refreshSort()}clearSort(){this.clear(),this.refreshSort()}initializeColumn(e){var n,o,t=!1;switch(typeof e.definition.sorter){case"string":c.sorters[e.definition.sorter]?t=c.sorters[e.definition.sorter]:console.warn("Sort Error - No such sorter found: ",e.definition.sorter);break;case"function":t=e.definition.sorter}e.modules.sort={sorter:t,dir:"none",params:e.definition.sorterParams||{},startingDir:e.definition.headerSortStartingDir||"asc",tristate:e.definition.headerSortTristate},!1!==e.definition.headerSort&&((n=e.getElement()).classList.add("tabulator-sortable"),(o=document.createElement("div")).classList.add("tabulator-col-sorter"),"object"==typeof this.table.options.headerSortElement?o.appendChild(this.table.options.headerSortElement):o.innerHTML=this.table.options.headerSortElement,e.titleHolderElement.appendChild(o),e.modules.sort.element=o,n.addEventListener("click",r=>{var a="",f=[],y=!1;if(e.modules.sort){if(e.modules.sort.tristate)a="none"==e.modules.sort.dir?e.modules.sort.startingDir:e.modules.sort.dir==e.modules.sort.startingDir?"asc"==e.modules.sort.dir?"desc":"asc":"none";else switch(e.modules.sort.dir){case"asc":a="desc";break;case"desc":a="asc";break;default:a=e.modules.sort.startingDir}this.table.options.columnHeaderSortMulti&&(r.shiftKey||r.ctrlKey)?((y=(f=this.getSort()).findIndex(x=>x.field===e.getField()))>-1?(f[y].dir=a,y!=f.length-1&&(y=f.splice(y,1)[0],"none"!=a&&f.push(y))):"none"!=a&&f.push({column:e,dir:a}),this.setSort(f)):"none"==a?this.clear():this.setSort(e,a),this.refreshSort()}}))}refreshSort(){"remote"===this.table.options.sortMode?this.reloadData():this.refreshData(!0)}hasChanged(){var e=this.changed;return this.changed=!1,e}getSort(){var t=[];return this.sortList.forEach(function(n){n.column&&t.push({column:n.column.getComponent(),field:n.column.getField(),dir:n.dir})}),t}setSort(e,t){var n=this,o=[];Array.isArray(e)||(e=[{column:e,dir:t}]),e.forEach(function(r){var a;(a=n.table.columnManager.findColumn(r.column))?(r.column=a,o.push(r),n.changed=!0):console.warn("Sort Warning - Sort field does not exist and is being ignored: ",r.column)}),n.sortList=o,this.dispatch("sort-changed")}clear(){this.setSort([])}findSorter(e){var r,t=this.table.rowManager.activeRows[0],n="string";if(t&&(t=t.getData(),e.getField()))switch(r=e.getFieldValue(t),typeof r){case"undefined":n="string";break;case"boolean":n="boolean";break;default:isNaN(r)||""===r?r.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)&&(n="alphanum"):n="number"}return c.sorters[n]}sort(e){var t=this,n=this.table.options.sortOrderReverse?t.sortList.slice().reverse():t.sortList,o=[],r=[];return this.subscribedExternal("dataSorting")&&this.dispatchExternal("dataSorting",t.getSort()),t.clearColumnHeaders(),"remote"!==this.table.options.sortMode?(n.forEach(function(a,f){var y=a.column.modules.sort;a.column&&y&&(y.sorter||(y.sorter=t.findSorter(a.column)),a.params="function"==typeof y.params?y.params(a.column.getComponent(),a.dir):y.params,o.push(a)),t.setColumnHeader(a.column,a.dir)}),o.length&&t._sortItems(e,o)):n.forEach(function(a,f){t.setColumnHeader(a.column,a.dir)}),this.subscribedExternal("dataSorted")&&(e.forEach(a=>{r.push(a.getComponent())}),this.dispatchExternal("dataSorted",t.getSort(),r)),e}clearColumnHeaders(){this.table.columnManager.getRealColumns().forEach(function(e){e.modules.sort&&(e.modules.sort.dir="none",e.getElement().setAttribute("aria-sort","none"))})}setColumnHeader(e,t){e.modules.sort.dir=t,e.getElement().setAttribute("aria-sort",t)}_sortItems(e,t){var n=t.length-1;e.sort((o,r)=>{for(var a,f=n;f>=0;f--){let y=t[f];if(0!==(a=this._sortRow(o,r,y.column,y.dir,y.params)))break}return a})}_sortRow(e,t,n,o,r){var a,f,y="asc"==o?e:t,x="asc"==o?t:e;return e=void 0!==(e=n.getFieldValue(y.getData()))?e:"",t=void 0!==(t=n.getFieldValue(x.getData()))?t:"",a=y.getComponent(),f=x.getComponent(),n.modules.sort.sorter.call(this,e,t,a,f,n.getComponent(),o,r)}}return c.moduleName="sort",c.sorters=_i,c})(),ValidateModule:(()=>{class c extends d{constructor(e){super(e),this.invalidCells=[],this.registerTableOption("validationMode","blocking"),this.registerColumnOption("validator"),this.registerTableFunction("getInvalidCells",this.getInvalidCells.bind(this)),this.registerTableFunction("clearCellValidation",this.userClearCellValidation.bind(this)),this.registerTableFunction("validate",this.userValidate.bind(this)),this.registerComponentFunction("cell","isValid",this.cellIsValid.bind(this)),this.registerComponentFunction("cell","clearValidation",this.clearValidation.bind(this)),this.registerComponentFunction("cell","validate",this.cellValidate.bind(this)),this.registerComponentFunction("column","validate",this.columnValidate.bind(this)),this.registerComponentFunction("row","validate",this.rowValidate.bind(this))}initialize(){this.subscribe("cell-delete",this.clearValidation.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this))}cellIsValid(e){return!e.modules.validate||!e.modules.validate.invalid}cellValidate(e){return this.validate(e.column.modules.validate,e,e.getValue())}columnValidate(e){var t=[];return e.cells.forEach(n=>{this.cellValidate(n)||t.push(n.getComponent())}),!t.length||t}rowValidate(e){var t=[];return e.cells.forEach(n=>{this.cellValidate(n)||t.push(n.getComponent())}),!t.length||t}userClearCellValidation(e){e||(e=this.getInvalidCells()),Array.isArray(e)||(e=[e]),e.forEach(t=>{this.clearValidation(t._getSelf())})}userValidate(e){var t=[];return this.table.rowManager.rows.forEach(n=>{var o=(n=n.getComponent()).validate();!0!==o&&(t=t.concat(o))}),!t.length||t}initializeColumnCheck(e){void 0!==e.definition.validator&&this.initializeColumn(e)}initializeColumn(e){var o,t=this,n=[];e.definition.validator&&(Array.isArray(e.definition.validator)?e.definition.validator.forEach(r=>{(o=t._extractValidator(r))&&n.push(o)}):(o=this._extractValidator(e.definition.validator))&&n.push(o),e.modules.validate=!!n.length&&n)}_extractValidator(e){var t,n,o;switch(typeof e){case"string":return(o=e.indexOf(":"))>-1?(t=e.substring(0,o),n=e.substring(o+1)):t=e,this._buildValidator(t,n);case"function":return this._buildValidator(e);case"object":return this._buildValidator(e.type,e.parameters)}}_buildValidator(e,t){var n="function"==typeof e?e:c.validators[e];return n?{type:"function"==typeof e?"function":e,func:n,params:t}:(console.warn("Validator Setup Error - No matching validator found:",e),!1)}validate(e,t,n){var o=this,r=[],a=this.invalidCells.indexOf(t);return e&&e.forEach(f=>{f.func.call(o,t.getComponent(),n,f.params)||r.push({type:f.type,parameters:f.params})}),r=!r.length||r,t.modules.validate||(t.modules.validate={}),!0===r?(t.modules.validate.invalid=!1,t.getElement().classList.remove("tabulator-validation-fail"),a>-1&&this.invalidCells.splice(a,1)):(t.modules.validate.invalid=!0,"manual"!==this.table.options.validationMode&&t.getElement().classList.add("tabulator-validation-fail"),-1==a&&this.invalidCells.push(t)),r}getInvalidCells(){var e=[];return this.invalidCells.forEach(t=>{e.push(t.getComponent())}),e}clearValidation(e){var t;e.modules.validate&&e.modules.validate.invalid&&(e.getElement().classList.remove("tabulator-validation-fail"),e.modules.validate.invalid=!1,(t=this.invalidCells.indexOf(e))>-1&&this.invalidCells.splice(t,1))}}return c.moduleName="validate",c.validators=Xt,c})()}),vi={debugEventsExternal:!1,debugEventsInternal:!1,debugInvalidOptions:!0,height:!1,minHeight:!1,maxHeight:!1,columnHeaderVertAlign:"top",columns:[],columnDefaults:{},data:!1,autoColumns:!1,autoColumnsDefinitions:!1,nestedFieldSeparator:".",tooltipGenerationMode:"load",footerElement:!1,index:"id",textDirection:"auto",addRowPos:"bottom",headerVisible:!0,renderVertical:"virtual",renderHorizontal:"basic",renderVerticalBuffer:0,scrollToRowPosition:"top",scrollToRowIfVisible:!0,scrollToColumnPosition:"left",scrollToColumnIfVisible:!0,rowFormatter:!1,rowFormatterPrint:null,rowFormatterClipboard:null,rowFormatterHtmlOutput:null,placeholder:!1,dataLoader:!0,dataLoaderLoading:!1,dataLoaderError:!1,dataLoaderErrorTimeout:3e3,dataSendParams:{},dataReceiveParams:{}};class yi{constructor(s,e,t={}){this.table=s,this.msgType=e,this.registeredDefaults=Object.assign({},t)}register(s,e){this.registeredDefaults[s]=e}generate(s,e={}){var t=Object.assign({},this.registeredDefaults);if(Object.assign(t,s),!1!==e.debugInvalidOptions||this.table.options.debugInvalidOptions)for(var n in e)t.hasOwnProperty(n)||console.warn("Invalid "+this.msgType+" option:",n);for(var n in t)n in e?t[n]=e[n]:Array.isArray(t[n])?t[n]=Object.assign([],t[n]):"object"==typeof t[n]&&null!==t[n]?t[n]=Object.assign({},t[n]):void 0===t[n]&&delete t[n];return t}}class Wt extends l{constructor(s){super(s),this.elementVertical=s.rowManager.element,this.elementHorizontal=s.columnManager.element,this.tableElement=s.rowManager.tableElement,this.verticalFillMode="fit"}initialize(){}clearRows(){}clearColumns(){}reinitializeColumnWidths(s){}renderRows(){}renderColumns(){}rerenderRows(s){s&&s()}rerenderColumns(s,e){}renderRowCells(s){}rerenderRowCells(s,e){}scrollColumns(s,e){}scrollRows(s,e){}resize(){}scrollToRow(s){}scrollToRowNearestTop(s){}visibleRows(s){return[]}rows(){return this.table.rowManager.getDisplayRows()}styleRow(s,e){var t=s.getElement();e%2?(t.classList.add("tabulator-row-even"),t.classList.remove("tabulator-row-odd")):(t.classList.add("tabulator-row-odd"),t.classList.remove("tabulator-row-even"))}clear(){this.clearRows(),this.clearColumns()}render(){this.renderRows(),this.renderColumns()}rerender(s){this.rerenderRows(),this.rerenderColumns()}scrollToRowPosition(s,e,t){var n=this.rows().indexOf(s),o=s.getElement(),r=0;return new Promise((a,f)=>{if(n>-1){if(void 0===t&&(t=this.table.options.scrollToRowIfVisible),!t&&F.elVisible(o)&&(r=F.elOffset(o).top-F.elOffset(this.elementVertical).top)>0&&r<this.elementVertical.clientHeight-o.offsetHeight)return a(),!1;switch(void 0===e&&(e=this.table.options.scrollToRowPosition),"nearest"===e&&(e=this.scrollToRowNearestTop(s)?"top":"bottom"),this.scrollToRow(s),e){case"middle":case"center":this.elementVertical.scrollTop=this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop+(o.offsetTop-this.elementVertical.scrollTop)-(this.elementVertical.scrollHeight-o.offsetTop)/2:this.elementVertical.scrollTop-this.elementVertical.clientHeight/2;break;case"bottom":this.elementVertical.scrollTop=this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop-(this.elementVertical.scrollHeight-o.offsetTop)+o.offsetHeight:this.elementVertical.scrollTop-this.elementVertical.clientHeight+o.offsetHeight}a()}else console.warn("Scroll Error - Row not visible"),f("Scroll Error - Row not visible")})}}class Ai extends Wt{constructor(s){super(s)}renderRowCells(s){s.cells.forEach(e=>{s.element.appendChild(e.getElement()),e.cellRendered()})}reinitializeColumnWidths(s){s.forEach(function(e){e.reinitializeWidth()})}}class Hi extends Wt{constructor(s){super(s),this.leftCol=0,this.rightCol=0,this.scrollLeft=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0,this.fitDataColAvg=0,this.window=200,this.initialized=!1,this.columns=[]}initialize(){this.compatibilityCheck()}compatibilityCheck(){var s=this.options("columns"),t=!0;return"fitDataTable"==this.options("layout")&&(console.warn("Horizontal Virtual DOM is not compatible with fitDataTable layout mode"),t=!1),this.options("responsiveLayout")&&(console.warn("Horizontal Virtual DOM is not compatible with responsive columns"),t=!1),this.options("rtl")&&(console.warn("Horizontal Virtual DOM is not currently compatible with RTL text direction"),t=!1),s&&s.find(n=>n.frozen)&&(console.warn("Horizontal Virtual DOM is not compatible with frozen columns"),t=!1),t}renderColumns(s,e){this.dataChange()}scrollColumns(s,e){this.scrollLeft!=s&&(this.scrollLeft=s,this.scroll(s-(this.vDomScrollPosLeft+this.window)))}rerenderColumns(s,e){var t={cols:this.columns,leftCol:this.leftCol,rightCol:this.rightCol};if(!s||this.initialized){this.clear(),this.scrollLeft=this.elementVertical.scrollLeft,this.vDomScrollPosLeft=this.scrollLeft-this.window,this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.window;var n=0;this.table.columnManager.columnsByIndex.forEach(o=>{var r={};if(o.visible){var a=o.getWidth();r.leftPos=n,r.rightPos=n+a,r.width=a,"fitData"===this.options("layout")&&(r.fitDataCheck=!o.modules.vdomHoz||o.modules.vdomHoz.fitDataCheck),n+a>this.vDomScrollPosLeft&&n<this.vDomScrollPosRight?(-1==this.leftCol&&(this.leftCol=this.columns.length,this.vDomPadLeft=n),this.rightCol=this.columns.length):-1!==this.leftCol&&(this.vDomPadRight+=a),this.columns.push(o),o.modules.vdomHoz=r,n+=a}}),this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.initialized=!0,e||(!s||this.reinitChanged(t))&&this.reinitializeRows(),this.elementVertical.scrollLeft=this.scrollLeft}}renderRowCells(s){this.initialized?this.initializeRow(s):s.cells.forEach(e=>{s.element.appendChild(e.getElement()),e.cellRendered()})}rerenderRowCells(s,e){this.reinitializeRow(s,e)}reinitializeColumnWidths(s){for(let e=this.leftCol;e<=this.rightCol;e++)this.columns[e].reinitializeWidth()}deinitialize(){this.initialized=!1}clear(){this.columns=[],this.leftCol=-1,this.rightCol=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0}dataChange(){var o,n,s=!1,e=0,t=0;if("fitData"===this.options("layout")){if(this.table.columnManager.columnsByIndex.forEach(r=>{!r.definition.width&&r.visible&&(s=!0)}),s&&s&&this.table.rowManager.getDisplayRows().length&&(this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.window,n=this.chain("rows-sample",[1],[],()=>this.table.rowManager.getDisplayRows()[0])[0])){for(o=n.getElement(),n.generateCells(),this.tableElement.appendChild(o),t=0;t<n.cells.length;t++){let f=n.cells[t];if(o.appendChild(f.getElement()),f.column.reinitializeWidth(),(e+=f.column.getWidth())>this.vDomScrollPosRight)break}for(o.parentNode.removeChild(o),this.fitDataColAvg=Math.floor(e/(t+1));t<this.table.columnManager.columnsByIndex.length;t++)this.table.columnManager.columnsByIndex[t].setWidth(this.fitDataColAvg);this.rerenderColumns(!1,!0)}}else"fitColumns"===this.options("layout")&&(this.layoutRefresh(),this.rerenderColumns(!1,!0))}reinitChanged(s){var e=!0;return s.cols.length!==this.columns.length||s.leftCol!==this.leftCol||s.rightCol!==this.rightCol||(s.cols.forEach((t,n)=>{t!==this.columns[n]&&(e=!1)}),!e)}reinitializeRows(){this.table.rowManager.getVisibleRows().forEach(e=>{this.reinitializeRow(e,!0)})}scroll(s){this.vDomScrollPosLeft+=s,this.vDomScrollPosRight+=s,s>.8*this.elementVertical.clientWidth?this.rerenderColumns():s>0?(this.addColRight(),this.removeColLeft()):(this.addColLeft(),this.removeColRight())}colPositionAdjust(s,e,t){for(let n=s;n<e;n++){let o=this.columns[n];o.modules.vdomHoz.leftPos+=t,o.modules.vdomHoz.rightPos+=t}}addColRight(){var s=this.columns[this.rightCol+1];s&&s.modules.vdomHoz.leftPos<=this.vDomScrollPosRight&&(this.table.rowManager.getVisibleRows().forEach(t=>{if("group"!==t.type){var n=t.getCell(s);t.getElement().appendChild(n.getElement()),n.cellRendered()}}),this.fitDataColActualWidthCheck(s),this.rightCol++,this.rightCol>=this.columns.length-1?this.vDomPadRight=0:this.vDomPadRight-=s.getWidth(),this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.addColRight())}addColLeft(){var s=this.columns[this.leftCol-1];s&&s.modules.vdomHoz.rightPos>=this.vDomScrollPosLeft&&(this.table.rowManager.getVisibleRows().forEach(n=>{if("group"!==n.type){var o=n.getCell(s);n.getElement().prepend(o.getElement()),o.cellRendered()}}),this.fitDataColActualWidthCheck(s),this.leftCol--,this.leftCol<=0?this.vDomPadLeft=0:this.vDomPadLeft-=s.getWidth(),this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.addColLeft())}removeColRight(e){var t;(e=this.columns[this.rightCol])&&e.modules.vdomHoz.leftPos>this.vDomScrollPosRight&&(t=this.table.rowManager.getVisibleRows(),e.modules.vdomHoz.visible=!1,t.forEach(n=>{if("group"!==n.type){var o=n.getCell(e);try{n.getElement().removeChild(o.getElement())}catch(r){console.warn("Could not removeColRight",r.message)}}}),this.vDomPadRight+=e.getWidth(),this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.rightCol--,this.removeColRight())}removeColLeft(){var s=this.columns[this.leftCol];s&&s.modules.vdomHoz.rightPos<this.vDomScrollPosLeft&&(this.table.rowManager.getVisibleRows().forEach(t=>{var n,o;if("group"!==t.type&&(n=t.getCell(s))&&(o=n.getElement()).parentNode)try{t.getElement().removeChild(o)}catch(r){console.warn("Could not removeColLeft",r.message)}}),this.vDomPadLeft+=s.getWidth(),this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.leftCol++,this.removeColLeft())}fitDataColActualWidthCheck(s){var e,t;s.modules.vdomHoz.fitDataCheck&&(s.reinitializeWidth(),(t=(e=s.getWidth())-s.modules.vdomHoz.width)&&(s.modules.vdomHoz.rightPos+=t,s.modules.vdomHoz.width=e,this.colPositionAdjust(this.rightCol+2,this.columns.length,t)),s.modules.vdomHoz.fitDataCheck=!1)}initializeRow(s){if("group"!==s.type){s.modules.vdomHoz={leftCol:this.leftCol,rightCol:this.rightCol};for(let e=this.leftCol;e<=this.rightCol;e++){let t=this.columns[e];if(t&&t.visible){let n=s.getCell(t);s.getElement().appendChild(n.getElement()),n.cellRendered()}}}}reinitializeRow(s,e){if("group"!==s.type&&(e||!s.modules.vdomHoz||s.modules.vdomHoz.leftCol!==this.leftCol||s.modules.vdomHoz.rightCol!==this.rightCol)){for(var t=s.getElement();t.firstChild;)t.removeChild(t.firstChild);this.initializeRow(s)}}}class Ii extends l{constructor(s){super(s),this.blockHozScrollEvent=!1,this.headersElement=null,this.element=null,this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.scrollLeft=0,this.optionsList=new yi(this.table,"column definition",Ze),this.renderer=null}initialize(){this.initializeRenderer(),this.headersElement=this.createHeadersElement(),this.element=this.createHeaderElement(),this.element.insertBefore(this.headersElement,this.element.firstChild),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this))}initializeRenderer(){var s;(s="string"==typeof this.table.options.renderHorizontal?{virtual:Hi,basic:Ai}[this.table.options.renderHorizontal]:this.table.options.renderHorizontal)?(this.renderer=new s(this.table,this.element,this.tableElement),this.renderer.initialize()):console.error("Unable to find matching renderer:",table.options.renderHorizontal)}createHeadersElement(){var s=document.createElement("div");return s.classList.add("tabulator-headers"),s.setAttribute("role","row"),s}createHeaderElement(){var s=document.createElement("div");return s.classList.add("tabulator-header"),s.setAttribute("role","rowgroup"),this.table.options.headerVisible||s.classList.add("tabulator-header-hidden"),s}getElement(){return this.element}getHeadersElement(){return this.headersElement}scrollHorizontal(s){var t=this.element.scrollWidth-this.table.element.clientWidth;this.element.scrollLeft=s,this.element.style.marginLeft=s>t?-(s-t)+"px":0,this.scrollLeft=s,this.renderer.scrollColumns(s)}generateColumnsFromRowData(s){var n,o,e=[],t=this.table.options.autoColumnsDefinitions;if(s&&s.length){for(var r in n=s[0]){let a={field:r,title:r},f=n[r];switch(typeof f){case"undefined":o="string";break;case"boolean":o="boolean";break;case"object":o=Array.isArray(f)?"array":"string";break;default:o=isNaN(f)||""===f?f.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)?"alphanum":"string":"number"}a.sorter=o,e.push(a)}if(t)switch(typeof t){case"function":this.table.options.columns=t.call(this.table,e);break;case"object":Array.isArray(t)?e.forEach(a=>{var f=t.find(y=>y.field===a.field);f&&Object.assign(a,f)}):e.forEach(a=>{t[a.field]&&Object.assign(a,t[a.field])}),this.table.options.columns=e}else this.table.options.columns=e;this.setColumns(this.table.options.columns)}}setColumns(s,e){for(;this.headersElement.firstChild;)this.headersElement.removeChild(this.headersElement.firstChild);this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.dispatch("columns-loading"),s.forEach((t,n)=>{this._addColumn(t)}),this._reIndexColumns(),this.dispatch("columns-loaded"),this.renderer.rerenderColumns(!1,!0),this.redraw(!0)}_addColumn(s,e,t){var n=new ye(s,this),o=n.getElement(),r=t&&this.findColumnIndex(t);if(t&&r>-1){var a=t.getTopColumn(),f=this.columns.indexOf(a),y=a.getElement();e?(this.columns.splice(f,0,n),y.parentNode.insertBefore(o,y)):(this.columns.splice(f+1,0,n),y.parentNode.insertBefore(o,y.nextSibling))}else e?(this.columns.unshift(n),this.headersElement.insertBefore(n.getElement(),this.headersElement.firstChild)):(this.columns.push(n),this.headersElement.appendChild(n.getElement()));return n.columnRendered(),n}registerColumnField(s){s.definition.field&&(this.columnsByField[s.definition.field]=s)}registerColumnPosition(s){this.columnsByIndex.push(s)}_reIndexColumns(){this.columnsByIndex=[],this.columns.forEach(function(s){s.reRegisterPosition()})}verticalAlignHeaders(){var s=0;this.columns.forEach(e=>{var t;e.clearVerticalAlign(),(t=e.getHeight())>s&&(s=t)}),this.columns.forEach(e=>{e.verticalAlign(this.table.options.columnHeaderVertAlign,s)}),this.table.rowManager.adjustTableSize()}findColumn(s){return"object"!=typeof s?this.columnsByField[s]||!1:s instanceof ye?s:s instanceof Xe?s._getSelf()||!1:"undefined"!=typeof HTMLElement&&s instanceof HTMLElement&&this.columns.find(t=>t.element===s)||!1}getColumnByField(s){return this.columnsByField[s]}getColumnsByFieldRoot(s){var e=[];return Object.keys(this.columnsByField).forEach(t=>{t.split(".")[0]===s&&e.push(this.columnsByField[t])}),e}getColumnByIndex(s){return this.columnsByIndex[s]}getFirstVisibleColumn(e){return(e=this.columnsByIndex.findIndex(t=>t.visible))>-1&&this.columnsByIndex[e]}getColumns(){return this.columns}findColumnIndex(s){return this.columnsByIndex.findIndex(e=>s===e)}getRealColumns(){return this.columnsByIndex}traverse(s){this.columnsByIndex.forEach((e,t)=>{s(e,t)})}getDefinitions(s){var e=[];return this.columnsByIndex.forEach(t=>{(!s||s&&t.visible)&&e.push(t.getDefinition())}),e}getDefinitionTree(){var s=[];return this.columns.forEach(e=>{s.push(e.getDefinition(!0))}),s}getComponents(s){var e=[];return(s?this.columns:this.columnsByIndex).forEach(n=>{e.push(n.getComponent())}),e}getWidth(){var s=0;return this.columnsByIndex.forEach(e=>{e.visible&&(s+=e.getWidth())}),s}moveColumn(s,e,t){this.moveColumnActual(s,e,t),e.element.parentNode.insertBefore(s.element,e.element),t&&e.element.parentNode.insertBefore(e.element,s.element),this.verticalAlignHeaders(),this.table.rowManager.reinitialize()}moveColumnActual(s,e,t){this._moveColumnInArray(s.parent.isGroup?s.parent.columns:this.columns,s,e,t),this._moveColumnInArray(this.columnsByIndex,s,e,t,!0),this.renderer.rerenderColumns(!0),this.dispatch("column-moved",s,e,t),this.subscribedExternal("columnMoved")&&this.dispatchExternal("columnMoved",s.getComponent(),this.table.columnManager.getComponents())}_moveColumnInArray(s,e,t,n,o){var a,r=s.indexOf(e);r>-1&&(s.splice(r,1),(a=s.indexOf(t))>-1?n&&(a+=1):a=r,s.splice(a,0,e),o&&(this.chain("column-moving-rows",[e,t,n],null,[])||[]).concat(this.table.rowManager.rows).forEach(function(y){if(y.cells.length){var x=y.cells.splice(r,1)[0];y.cells.splice(a,0,x)}}))}scrollToColumn(s,e,t){var n=0,o=0,r=0,a=s.getElement();return new Promise((f,y)=>{if(void 0===e&&(e=this.table.options.scrollToColumnPosition),void 0===t&&(t=this.table.options.scrollToColumnIfVisible),s.visible){switch(e){case"middle":case"center":r=-this.element.clientWidth/2;break;case"right":r=a.clientWidth-this.headersElement.clientWidth}if(!t&&(o=a.offsetLeft)>0&&o+a.offsetWidth<this.element.clientWidth)return!1;n=a.offsetLeft+r,n=Math.max(Math.min(n,this.table.rowManager.element.scrollWidth-this.table.rowManager.element.clientWidth),0),this.table.rowManager.scrollHorizontal(n),this.scrollHorizontal(n),f()}else console.warn("Scroll Error - Column not visible"),y("Scroll Error - Column not visible")})}generateCells(s){var e=[];return this.columnsByIndex.forEach(t=>{e.push(t.generateCell(s))}),e}getFlexBaseWidth(){var s=this.table.element.clientWidth,e=0;return this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(s-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),this.columnsByIndex.forEach(function(t){var n,o,r;t.visible&&(n=t.definition.width||0,o=parseInt(t.minWidth),r="string"==typeof n?n.indexOf("%")>-1?s/100*parseInt(n):parseInt(n):n,e+=r>o?r:o)}),e}addColumn(s,e,t){return new Promise((n,o)=>{var r=this._addColumn(s,e,t);this._reIndexColumns(),this.dispatch("column-add",s,e,t),"fitColumns"!=this.layoutMode()&&r.reinitializeWidth(),this.redraw(!0),this.table.rowManager.reinitialize(),this.renderer.rerenderColumns(),n(r)})}deregisterColumn(s){var t,e=s.getField();e&&delete this.columnsByField[e],(t=this.columnsByIndex.indexOf(s))>-1&&this.columnsByIndex.splice(t,1),(t=this.columns.indexOf(s))>-1&&this.columns.splice(t,1),this.verticalAlignHeaders(),this.redraw()}redraw(s){F.elVisible(this.element)&&this.verticalAlignHeaders(),s&&(this.table.rowManager.resetScroll(),this.table.rowManager.reinitialize()),this.confirm("table-redrawing",s)||this.layoutRefresh(),this.dispatch("table-redraw",s),this.table.footerManager.redraw()}}class Pi extends Wt{constructor(s){super(s),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0}clearRows(){for(var s=this.tableElement;s.firstChild;)s.removeChild(s.firstChild);s.scrollTop=0,s.scrollLeft=0,s.style.minWidth="",s.style.minHeight="",s.style.display="",s.style.visibility=""}renderRows(){var s=this.tableElement,e=!0;this.rows().forEach((t,n)=>{this.styleRow(t,n),s.appendChild(t.getElement()),t.initialize(!0),"group"!==t.type&&(e=!1)}),s.style.minWidth=e?this.table.columnManager.getWidth()+"px":""}rerenderRows(s){this.clearRows(),this.renderRows(),s&&s()}scrollToRowNearestTop(s){var e=F.elOffset(s.getElement()).top;return!(Math.abs(this.elementVertical.scrollTop-e)>Math.abs(this.elementVertical.scrollTop+this.elementVertical.clientHeight-e))}scrollToRow(s){var e=s.getElement();this.elementVertical.scrollTop=F.elOffset(e).top-F.elOffset(this.elementVertical).top+this.elementVertical.scrollTop}visibleRows(s){return this.rows()}}class Ci extends Wt{constructor(s){super(s),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.vDomRowHeight=20,this.vDomTop=0,this.vDomBottom=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomMaxRenderChain=90,this.vDomWindowBuffer=0,this.vDomWindowMinTotalRows=20,this.vDomWindowMinMarginRows=5,this.vDomTopNewRows=[],this.vDomBottomNewRows=[]}clearRows(){for(var s=this.tableElement;s.firstChild;)s.removeChild(s.firstChild);s.style.paddingTop="",s.style.paddingBottom="",s.style.minHeight="",s.style.display="",s.style.visibility="",this.elementVertical.scrollTop=0,this.elementVertical.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0,this.vDomTop=0,this.vDomBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0}renderRows(){this._virtualRenderFill()}rerenderRows(s){for(var e=this.elementVertical.scrollTop,t=!1,n=!1,o=this.table.rowManager.scrollLeft,r=this.rows(),a=this.vDomTop;a<=this.vDomBottom;a++)if(r[a]){var f=e-r[a].getElement().offsetTop;if(!(!1===n||Math.abs(f)<n))break;n=f,t=a}r.forEach(y=>{y.deinitializeHeight()}),s&&s(),this._virtualRenderFill(!1===t?this.rows.length-1:t,!0,n||0),this.scrollColumns(o)}scrollColumns(s){this.table.rowManager.scrollHorizontal(s)}scrollRows(s,e){var t=s-this.vDomScrollPosTop,n=s-this.vDomScrollPosBottom,o=2*this.vDomWindowBuffer,r=this.rows();if(this.scrollTop=s,-t>o||n>o){var a=this.table.rowManager.scrollLeft;this._virtualRenderFill(Math.floor(this.elementVertical.scrollTop/this.elementVertical.scrollHeight*r.length)),this.scrollColumns(a)}else e?(t<0&&this._addTopRow(r,-t),n<0&&(this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer?this._removeBottomRow(r,-n):this.vDomScrollPosBottom=this.scrollTop)):(n>=0&&this._addBottomRow(r,n),t>=0&&(this.scrollTop>this.vDomWindowBuffer?this._removeTopRow(r,t):this.vDomScrollPosTop=this.scrollTop))}resize(){this.vDomWindowBuffer=this.table.options.renderVerticalBuffer||this.elementVertical.clientHeight}scrollToRowNearestTop(s){var e=this.rows().indexOf(s);return!(Math.abs(this.vDomTop-e)>Math.abs(this.vDomBottom-e))}scrollToRow(s){var e=this.rows().indexOf(s);e>-1&&this._virtualRenderFill(e,!0)}visibleRows(s){var e=this.elementVertical.scrollTop,t=this.elementVertical.clientHeight+e,n=!1,o=0,r=0,a=this.rows();if(s)o=this.vDomTop,r=this.vDomBottom;else for(var f=this.vDomTop;f<=this.vDomBottom;f++)if(a[f])if(n){if(!(t-a[f].getElement().offsetTop>=0))break;r=f}else if(e-a[f].getElement().offsetTop>=0)o=f;else{if(n=!0,!(t-a[f].getElement().offsetTop>=0))break;r=f}return a.slice(o,r+1)}_virtualRenderFill(s,e,t){var n=this.tableElement,o=this.elementVertical,r=0,a=0,f=0,y=0,x=0,P=this.rows(),U=P.length,X=this.elementVertical.clientHeight;if(t=t||0,s=s||0){for(;n.firstChild;)n.removeChild(n.firstChild);(f=(U-s+1)*this.vDomRowHeight)<X&&(s-=Math.ceil((X-f)/this.vDomRowHeight))<0&&(s=0),s-=r=Math.min(Math.max(Math.floor(this.vDomWindowBuffer/this.vDomRowHeight),this.vDomWindowMinMarginRows),s)}else this.clear();if(U&&F.elVisible(this.elementVertical)){for(this.vDomTop=s,this.vDomBottom=s-1;(a<=X+this.vDomWindowBuffer||x<this.vDomWindowMinTotalRows)&&this.vDomBottom<U-1;){var be,he=this.vDomBottom+1,me=P[he];this.styleRow(me,he),n.appendChild(me.getElement()),me.initialize(),me.heightInitialized||me.normalizeHeight(!0),be=me.getHeight(),x<r?y+=be:a+=be,be>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*be),this.vDomBottom++,x++}s?(this.vDomTopPad=e?this.vDomRowHeight*this.vDomTop+t:this.scrollTop-y,this.vDomBottomPad=this.vDomBottom==U-1?0:Math.max(this.vDomScrollHeight-this.vDomTopPad-a-y,0)):(this.vDomTopPad=0,this.vDomRowHeight=Math.floor((a+y)/x),this.vDomBottomPad=this.vDomRowHeight*(U-this.vDomBottom-1),this.vDomScrollHeight=y+a+this.vDomBottomPad-X),n.style.paddingTop=this.vDomTopPad+"px",n.style.paddingBottom=this.vDomBottomPad+"px",e&&(this.scrollTop=this.vDomTopPad+y+t-(this.elementVertical.scrollWidth>this.elementVertical.clientWidth?this.elementVertical.offsetHeight-X:0)),this.scrollTop=Math.min(this.scrollTop,this.elementVertical.scrollHeight-X),this.elementVertical.scrollWidth>this.elementVertical.offsetWidth&&e&&(this.scrollTop+=this.elementVertical.offsetHeight-X),this.vDomScrollPosTop=this.scrollTop,this.vDomScrollPosBottom=this.scrollTop,o.scrollTop=this.scrollTop,this.dispatch("render-virtual-fill")}}_addTopRow(s,e){for(var t=this.tableElement,n=[],o=0,r=this.vDomTop-1,a=0;this.vDomTop;){let y,x,f=s[r];if(!(f&&a<this.vDomMaxRenderChain))break;if(y=f.getHeight()||this.vDomRowHeight,x=f.initialized,!(e>=y))break;this.styleRow(f,r),t.insertBefore(f.getElement(),t.firstChild),(!f.initialized||!f.heightInitialized)&&n.push(f),f.initialize(),x||(y=f.getElement().offsetHeight,y>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*y)),e-=y,o+=y,this.vDomTop--,r--,a++}for(let f of n)f.clearCellHeight();this._quickNormalizeRowHeight(n),o&&(this.vDomTopPad-=o,this.vDomTopPad<0&&(this.vDomTopPad=r*this.vDomRowHeight),r<1&&(this.vDomTopPad=0),t.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop-=o)}_removeTopRow(s,e){for(var t=[],n=0,o=0;;){let a,r=s[this.vDomTop];if(!(r&&o<this.vDomMaxRenderChain))break;if(a=r.getHeight()||this.vDomRowHeight,!(e>=a))break;this.vDomTop++,e-=a,n+=a,t.push(r),o++}for(let r of t){let a=r.getElement();a.parentNode&&a.parentNode.removeChild(a)}n&&(this.vDomTopPad+=n,this.tableElement.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop+=this.vDomTop?n:n+this.vDomWindowBuffer)}_addBottomRow(s,e){for(var t=this.tableElement,n=[],o=0,r=this.vDomBottom+1,a=0;;){let y,x,f=s[r];if(!(f&&a<this.vDomMaxRenderChain))break;if(y=f.getHeight()||this.vDomRowHeight,x=f.initialized,!(e>=y))break;this.styleRow(f,r),t.appendChild(f.getElement()),(!f.initialized||!f.heightInitialized)&&n.push(f),f.initialize(),x||(y=f.getElement().offsetHeight,y>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*y)),e-=y,o+=y,this.vDomBottom++,r++,a++}for(let f of n)f.clearCellHeight();this._quickNormalizeRowHeight(n),o&&(this.vDomBottomPad-=o,(this.vDomBottomPad<0||r==s.length-1)&&(this.vDomBottomPad=0),t.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom+=o)}_removeBottomRow(s,e){for(var t=[],n=0,o=0;;){let a,r=s[this.vDomBottom];if(!(r&&o<this.vDomMaxRenderChain))break;if(a=r.getHeight()||this.vDomRowHeight,!(e>=a))break;this.vDomBottom--,e-=a,n+=a,t.push(r),o++}for(let r of t){let a=r.getElement();a.parentNode&&a.parentNode.removeChild(a)}n&&(this.vDomBottomPad+=n,this.vDomBottomPad<0&&(this.vDomBottomPad=0),this.tableElement.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom-=n)}_quickNormalizeRowHeight(s){for(let e of s)e.calcHeight();for(let e of s)e.setCellHeight()}}class Li extends l{constructor(s){super(s),this.element=this.createHolderElement(),this.tableElement=this.createTableElement(),this.heightFixer=this.createTableElement(),this.placeholder=null,this.placeholderContents=null,this.firstRender=!1,this.renderMode="virtual",this.fixedHeight=!1,this.rows=[],this.activeRowsPipeline=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.scrollTop=0,this.scrollLeft=0,this.rowNumColumn=!1,this.redrawBlock=!1,this.redrawBlockRestoreConfig=!1,this.redrawBlockRenderInPosition=!1,this.dataPipeline=[],this.displayPipeline=[],this.renderer=null}createHolderElement(){var s=document.createElement("div");return s.classList.add("tabulator-tableholder"),s.setAttribute("tabindex",0),s.setAttribute("role","rowgroup"),s}createTableElement(){var s=document.createElement("div");return s.classList.add("tabulator-table"),s.setAttribute("role","rowgroup"),s}initializePlaceholder(){if("string"==typeof this.table.options.placeholder){let s=document.createElement("div");s.classList.add("tabulator-placeholder");let e=document.createElement("div");e.classList.add("tabulator-placeholder-contents"),e.innerHTML=this.table.options.placeholder,s.appendChild(e),this.placeholderContents=e,this.placeholder=s}}getElement(){return this.element}getTableElement(){return this.tableElement}getRowPosition(s,e){return e?this.activeRows.indexOf(s):this.rows.indexOf(s)}initialize(){this.initializePlaceholder(),this.initializeRenderer(),this.element.appendChild(this.tableElement),this.firstRender=!0,this.element.addEventListener("scroll",()=>{var s=this.element.scrollLeft,e=this.scrollLeft>s,t=this.element.scrollTop,n=this.scrollTop>t;this.scrollLeft!=s&&(this.scrollLeft=s,this.dispatch("scroll-horizontal",s,e),this.dispatchExternal("scrollHorizontal",s,e),this._positionPlaceholder()),this.scrollTop!=t&&(this.scrollTop=t,this.renderer.scrollRows(t,n),this.dispatch("scroll-vertical",t,n),this.dispatchExternal("scrollVertical",t,n))})}findRow(s){return"object"!=typeof s?null!=s&&(this.rows.find(t=>t.data[this.table.options.index]==s)||!1):s instanceof $e?s:s instanceof Ge?s._getSelf()||!1:"undefined"!=typeof HTMLElement&&s instanceof HTMLElement&&this.rows.find(t=>t.getElement()===s)||!1}getRowFromDataObject(s){return this.rows.find(t=>t.data===s)||!1}getRowFromPosition(s,e){return e?this.activeRows[s]:this.rows[s]}scrollToRow(s,e,t){return this.renderer.scrollToRowPosition(s,e,t)}setData(s,e,t){return new Promise((n,o)=>{e&&this.getDisplayRows().length?this.table.options.pagination?this._setDataActual(s,!0):this.reRenderInPosition(()=>{this._setDataActual(s)}):(this.table.options.autoColumns&&t&&this.table.initialized&&this.table.columnManager.generateColumnsFromRowData(s),this.resetScroll(),this._setDataActual(s)),n()})}_setDataActual(s,e){this.dispatchExternal("dataProcessing",s),this._wipeElements(),Array.isArray(s)?(this.dispatch("data-processing",s),s.forEach((t,n)=>{if(t&&"object"==typeof t){var o=new $e(t,this);this.rows.push(o)}else console.warn("Data Loading Warning - Invalid row data detected and ignored, expecting object but received:",t)}),this.refreshActiveData(!1,!1,e),this.dispatch("data-processed",s),this.dispatchExternal("dataProcessed",s)):console.error("Data Loading Error - Unable to process data due to invalid data type \nExpecting: array \nReceived: ",typeof s,"\nData:     ",s)}_wipeElements(){this.dispatch("rows-wipe"),this.rows.forEach(s=>{s.wipe()}),this.rows=[],this.activeRows=[],this.activeRowsPipeline=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.adjustTableSize()}deleteRow(s,e){var t=this.rows.indexOf(s),n=this.activeRows.indexOf(s);n>-1&&this.activeRows.splice(n,1),t>-1&&this.rows.splice(t,1),this.setActiveRows(this.activeRows),this.displayRowIterator(o=>{var r=o.indexOf(s);r>-1&&o.splice(r,1)}),e||this.reRenderInPosition(),this.regenerateRowNumbers(),this.dispatchExternal("rowDeleted",s.getComponent()),this.displayRowsCount||this._showPlaceholder(),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.getData())}addRow(s,e,t,n){return this.addRowActual(s,e,t,n)}addRows(s,e,t){var n=[];return new Promise((o,r)=>{e=this.findAddRowPos(e),Array.isArray(s)||(s=[s]),(void 0===t&&e||void 0!==t&&!e)&&s.reverse(),s.forEach((a,f)=>{var y=this.addRow(a,e,t,!0);n.push(y),this.dispatch("row-added",y,s,e,t)}),this.refreshActiveData(!1,!1,!0),this.regenerateRowNumbers(),n.length&&this._clearPlaceholder(),o(n)})}findAddRowPos(s){return void 0===s&&(s=this.table.options.addRowPos),"pos"===s&&(s=!0),"bottom"===s&&(s=!1),s}addRowActual(s,e,t,n){var f,y,o=s instanceof $e?s:new $e(s||{},this),r=this.findAddRowPos(e),a=-1;return t||(y=this.chain("row-adding-position",[o,r],null,{index:t,top:r}),t=y.index,r=y.top),void 0!==t&&(t=this.findRow(t)),(t=this.chain("row-adding-index",[o,t,r],null,t))&&(a=this.rows.indexOf(t)),t&&a>-1?(f=this.activeRows.indexOf(t),this.displayRowIterator(function(x){var P=x.indexOf(t);P>-1&&x.splice(r?P:P+1,0,o)}),f>-1&&this.activeRows.splice(r?f:f+1,0,o),this.rows.splice(r?a:a+1,0,o)):r?(this.displayRowIterator(function(x){x.unshift(o)}),this.activeRows.unshift(o),this.rows.unshift(o)):(this.displayRowIterator(function(x){x.push(o)}),this.activeRows.push(o),this.rows.push(o)),this.setActiveRows(this.activeRows),this.dispatchExternal("rowAdded",o.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),n||this.reRenderInPosition(),o}moveRow(s,e,t){this.dispatch("row-move",s,e,t),this.moveRowActual(s,e,t),this.regenerateRowNumbers(),this.dispatch("row-moved",s,e,t),this.dispatchExternal("rowMoved",s.getComponent())}moveRowActual(s,e,t){this.moveRowInArray(this.rows,s,e,t),this.moveRowInArray(this.activeRows,s,e,t),this.displayRowIterator(n=>{this.moveRowInArray(n,s,e,t)}),this.dispatch("row-moving",s,e,t)}moveRowInArray(s,e,t,n){var o,r,f;if(e!==t&&((o=s.indexOf(e))>-1&&(s.splice(o,1),r=s.indexOf(t),s.splice(r>-1?n?r+1:r:o,0,e)),s===this.getDisplayRows())){f=r>o?r:o+1;for(let y=o<r?o:r;y<=f;y++)s[y]&&this.styleRow(s[y],y)}}clearData(){this.setData([])}getRowIndex(s){return this.findRowIndex(s,this.rows)}getDisplayRowIndex(s){var e=this.getDisplayRows().indexOf(s);return e>-1&&e}nextDisplayRow(s,e){var t=this.getDisplayRowIndex(s),n=!1;return!1!==t&&t<this.displayRowsCount-1&&(n=this.getDisplayRows()[t+1]),!n||n instanceof $e&&"row"==n.type?n:this.nextDisplayRow(n,e)}prevDisplayRow(s,e){var t=this.getDisplayRowIndex(s),n=!1;return t&&(n=this.getDisplayRows()[t-1]),!e||!n||n instanceof $e&&"row"==n.type?n:this.prevDisplayRow(n,e)}findRowIndex(s,e){var t;return!!((s=this.findRow(s))&&(t=e.indexOf(s),t>-1))&&t}getData(s,e){var t=[];return this.getRows(s).forEach(function(o){"row"==o.type&&t.push(o.getData(e||"data"))}),t}getComponents(s){var e=[];return this.getRows(s).forEach(function(n){e.push(n.getComponent())}),e}getDataCount(s){return this.getRows(s).length}scrollHorizontal(s){this.scrollLeft=s,this.element.scrollLeft=s,this.dispatch("scroll-horizontal",s)}registerDataPipelineHandler(s,e){void 0!==e?(this.dataPipeline.push({handler:s,priority:e}),this.dataPipeline.sort((t,n)=>t.priority-n.priority)):console.error("Data pipeline handlers must have a priority in order to be registered")}registerDisplayPipelineHandler(s,e){void 0!==e?(this.displayPipeline.push({handler:s,priority:e}),this.displayPipeline.sort((t,n)=>t.priority-n.priority)):console.error("Display pipeline handlers must have a priority in order to be registered")}refreshActiveData(s,e,t){var n=this.table,o="",r=0,a=["all","dataPipeline","display","displayPipeline","end"];if("function"==typeof s)if((r=this.dataPipeline.findIndex(f=>f.handler===s))>-1)o="dataPipeline",e&&(r==this.dataPipeline.length-1?o="display":r++);else{if(!((r=this.displayPipeline.findIndex(f=>f.handler===s))>-1))return void console.error("Unable to refresh data, invalid handler provided",s);o="displayPipeline",e&&(r==this.displayPipeline.length-1?o="end":r++)}else o=s||"all",r=0;this.redrawBlock?(!this.redrawBlockRestoreConfig||this.redrawBlockRestoreConfig&&(this.redrawBlockRestoreConfig.stage===o&&r<this.redrawBlockRestoreConfig.index||a.indexOf(o)<a.indexOf(this.redrawBlockRestoreConfig.stage)))&&(this.redrawBlockRestoreConfig={handler:s,skipStage:e,renderInPosition:t,stage:o,index:r}):(F.elVisible(this.element)?t?this.reRenderInPosition(this.refreshPipelines.bind(this,s,o,r,t)):(this.refreshPipelines(s,o,r,t),s||this.table.columnManager.renderer.renderColumns(),this.renderTable(),n.options.layoutColumnsOnNewData&&this.table.columnManager.redraw(!0)):this.refreshPipelines(s,o,r,t),this.dispatch("data-refreshed"))}refreshPipelines(s,e,t,n){switch(this.dispatch("data-refreshing"),s||(this.activeRowsPipeline[0]=this.rows.slice(0)),e){case"all":case"dataPipeline":for(let o=t;o<this.dataPipeline.length;o++){let r=this.dataPipeline[o].handler(this.activeRowsPipeline[o].slice(0));this.activeRowsPipeline[o+1]=r||this.activeRowsPipeline[o].slice(0)}this.setActiveRows(this.activeRowsPipeline[this.dataPipeline.length]),this.regenerateRowNumbers();case"display":t=0,this.resetDisplayRows();case"displayPipeline":for(let o=t;o<this.displayPipeline.length;o++){let r=this.displayPipeline[o].handler((o?this.getDisplayRows(o-1):this.activeRows).slice(0),n);this.setDisplayRows(r||this.getDisplayRows(o-1).slice(0),o)}}}regenerateRowNumbers(){this.rowNumColumn&&this.activeRows.forEach(s=>{var e=s.getCell(this.rowNumColumn);e&&e._generateContents()})}setActiveRows(s){this.activeRows=s,this.activeRowsCount=this.activeRows.length}resetDisplayRows(){this.displayRows=[],this.displayRows.push(this.activeRows.slice(0)),this.displayRowsCount=this.displayRows[0].length}getNextDisplayIndex(){return this.displayRows.length}setDisplayRows(s,e){var t=!0;return e&&void 0!==this.displayRows[e]?(this.displayRows[e]=s,t=!0):(this.displayRows.push(s),t=e=this.displayRows.length-1),e==this.displayRows.length-1&&(this.displayRowsCount=this.displayRows[this.displayRows.length-1].length),t}getDisplayRows(s){return void 0===s?this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]:this.displayRows[s]||[]}getVisibleRows(s,e){var t=Object.assign([],this.renderer.visibleRows(!e));return s&&(t=this.chain("rows-visible",[e],t,t)),t}displayRowIterator(s){this.activeRowsPipeline.forEach(s),this.displayRows.forEach(s),this.displayRowsCount=this.displayRows[this.displayRows.length-1].length}getRows(s){var e;switch(s){case"active":e=this.activeRows;break;case"display":e=this.table.rowManager.getDisplayRows();break;case"visible":e=this.getVisibleRows(!1,!0);break;default:e=this.chain("rows-retrieve",s,null,this.rows)||this.rows}return e}reRenderInPosition(s){this.redrawBlock?s?s():this.redrawBlockRenderInPosition=!0:this.renderer.rerenderRows(s)}initializeRenderer(){var s;(s="string"==typeof this.table.options.renderVertical?{virtual:Ci,basic:Pi}[this.table.options.renderVertical]:this.table.options.renderVertical)?(this.renderer=new s(this.table,this.element,this.tableElement),this.renderer.initialize(),this.fixedHeight=!(!this.table.element.clientHeight&&!this.table.options.height)):console.error("Unable to find matching renderer:",table.options.renderVertical)}getRenderMode(){return this.renderMode}renderTable(){this.dispatchExternal("renderStarted"),this.element.scrollTop=0,this._clearTable(),this.displayRowsCount?(this.renderer.renderRows(),this.firstRender&&(this.firstRender=!1,this.layoutRefresh())):this.renderEmptyScroll(),this.fixedHeight||this.adjustTableSize(),this.dispatch("table-layout"),this.displayRowsCount||this._showPlaceholder(),this.dispatchExternal("renderComplete")}renderEmptyScroll(){this.placeholder?this.tableElement.style.display="none":this.tableElement.style.minWidth=this.table.columnManager.getWidth()+"px"}_clearTable(){this._clearPlaceholder(),this.scrollTop=0,this.scrollLeft=0,this.renderer.clearRows()}_showPlaceholder(){this.placeholder&&(this.placeholder.setAttribute("tabulator-render-mode",this.renderMode),this.getElement().appendChild(this.placeholder),this._positionPlaceholder())}_clearPlaceholder(){this.placeholder&&this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder)}_positionPlaceholder(){this.placeholder&&this.placeholder.parentNode&&(this.placeholder.style.width=this.table.columnManager.getWidth()+"px",this.placeholderContents.style.width=this.table.rowManager.element.clientWidth+"px",this.placeholderContents.style.marginLeft=this.scrollLeft+"px")}styleRow(s,e){var t=s.getElement();e%2?(t.classList.add("tabulator-row-even"),t.classList.remove("tabulator-row-odd")):(t.classList.add("tabulator-row-odd"),t.classList.remove("tabulator-row-even"))}normalizeHeight(){this.activeRows.forEach(function(s){s.normalizeHeight()})}adjustTableSize(){var s=this.element.clientHeight;if("fill"===this.renderer.verticalFillMode){let e=Math.floor(this.table.columnManager.getElement().getBoundingClientRect().height+(this.table.footerManager&&this.table.footerManager.active&&!this.table.footerManager.external?this.table.footerManager.getElement().getBoundingClientRect().height:0));this.fixedHeight?(this.element.style.minHeight="calc(100% - "+e+"px)",this.element.style.height="calc(100% - "+e+"px)",this.element.style.maxHeight="calc(100% - "+e+"px)"):(this.element.style.height="",this.element.style.height=this.table.element.clientHeight-e+"px",this.element.scrollTop=this.scrollTop),this.renderer.resize(),!this.fixedHeight&&s!=this.element.clientHeight&&(this.subscribed("table-resize")?this.dispatch("table-resize"):this.redraw())}this._positionPlaceholder()}reinitialize(){this.rows.forEach(function(s){s.reinitialize(!0)})}blockRedraw(){this.redrawBlock=!0,this.redrawBlockRestoreConfig=!1}restoreRedraw(){this.redrawBlock=!1,this.redrawBlockRestoreConfig?(this.refreshActiveData(this.redrawBlockRestoreConfig.handler,this.redrawBlockRestoreConfig.skipStage,this.redrawBlockRestoreConfig.renderInPosition),this.redrawBlockRestoreConfig=!1):this.redrawBlockRenderInPosition&&this.reRenderInPosition(),this.redrawBlockRenderInPosition=!1}redraw(s){var e=this.scrollLeft;this.adjustTableSize(),this.table.tableWidth=this.table.element.clientWidth,s?this.renderTable():(this.reRenderInPosition(),this.scrollHorizontal(e))}resetScroll(){if(this.element.scrollLeft=0,this.element.scrollTop=0,"ie"===this.table.browser){var s=document.createEvent("Event");s.initEvent("scroll",!1,!0),this.element.dispatchEvent(s)}else this.element.dispatchEvent(new Event("scroll"))}}class Ei extends l{constructor(s){super(s),this.active=!1,this.element=this.createElement(),this.containerElement=this.createContainerElement(),this.external=!1,this.links=[]}initialize(){this.initializeElement()}createElement(){var s=document.createElement("div");return s.classList.add("tabulator-footer"),s}createContainerElement(){var s=document.createElement("div");return s.classList.add("tabulator-footer-contents"),this.element.appendChild(s),s}initializeElement(){this.table.options.footerElement&&("string"==typeof this.table.options.footerElement?"<"===this.table.options.footerElement[0]?this.containerElement.innerHTML=this.table.options.footerElement:(this.external=!0,this.element=document.querySelector(this.table.options.footerElement)):this.element=this.table.options.footerElement)}getElement(){return this.element}append(s,e){this.activate(e),this.containerElement.appendChild(s),this.table.rowManager.adjustTableSize()}prepend(s,e){this.activate(e),this.element.insertBefore(s,this.element.firstChild),this.table.rowManager.adjustTableSize()}remove(s){s.parentNode.removeChild(s),this.deactivate()}deactivate(s){(!this.element.firstChild||s)&&(this.external||this.element.parentNode.removeChild(this.element),this.active=!1)}activate(s){this.active||(this.active=!0,this.external||(this.table.element.appendChild(this.getElement()),this.table.element.style.display="")),s&&this.links.push(s)}redraw(){this.links.forEach(function(s){s.footerRedraw()})}}class wi extends l{constructor(s){super(s),this.el=null,this.abortClasses=["tabulator-headers","tabulator-table"],this.previousTargets={},this.listeners=["click","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","touchstart","touchend"],this.componentMap={"tabulator-cell":"cell","tabulator-row":"row","tabulator-group":"group","tabulator-col":"column"},this.pseudoTrackers={row:{subscriber:null,target:null},cell:{subscriber:null,target:null},group:{subscriber:null,target:null},column:{subscriber:null,target:null}},this.pseudoTracking=!1}initialize(){this.el=this.table.element,this.buildListenerMap(),this.bindSubscriptionWatchers()}buildListenerMap(){var s={};this.listeners.forEach(e=>{s[e]={handler:null,components:[]}}),this.listeners=s}bindPseudoEvents(){Object.keys(this.pseudoTrackers).forEach(s=>{this.pseudoTrackers[s].subscriber=this.pseudoMouseEnter.bind(this,s),this.subscribe(s+"-mouseover",this.pseudoTrackers[s].subscriber)}),this.pseudoTracking=!0}pseudoMouseEnter(s,e,t){this.pseudoTrackers[s].target!==t&&(this.pseudoTrackers[s].target&&this.dispatch(s+"-mouseleave",e,t),this.pseudoMouseLeave(s,e),this.pseudoTrackers[s].target=t,this.dispatch(s+"-mouseenter",e,t))}pseudoMouseLeave(s,e){var t=Object.keys(this.pseudoTrackers),n={row:["cell"],cell:["row"]};(t=t.filter(o=>{var r=n[s];return o!==s&&(!r||r&&!r.includes(o))})).forEach(o=>{this.pseudoTrackers[o].target&&(this.dispatch(o+"-mouseleave",e,this.pseudoTrackers[o].target),this.pseudoTrackers[o].target=null)})}bindSubscriptionWatchers(){var s=Object.keys(this.listeners),e=Object.values(this.componentMap);for(let t of e)for(let n of s)this.subscriptionChange(t+"-"+n,this.subscriptionChanged.bind(this,t,n));this.subscribe("table-destroy",this.clearWatchers.bind(this))}subscriptionChanged(s,e,t){var n=this.listeners[e].components,o=n.indexOf(s),r=!1;t?-1===o&&(n.push(s),r=!0):this.subscribed(s+"-"+e)||o>-1&&(n.splice(o,1),r=!0),("mouseenter"===e||"mouseleave"===e)&&!this.pseudoTracking&&this.bindPseudoEvents(),r&&this.updateEventListeners()}updateEventListeners(){for(let s in this.listeners){let e=this.listeners[s];e.components.length?e.handler||(e.handler=this.track.bind(this,s),this.el.addEventListener(s,e.handler)):e.handler&&(this.el.removeEventListener(s,e.handler),e.handler=null)}}track(s,e){var t=e.composedPath&&e.composedPath()||e.path,n=this.findTargets(t);n=this.bindComponents(s,n),this.triggerEvents(s,e,n),this.pseudoTracking&&("mouseover"==s||"mouseleave"==s)&&!Object.keys(n).length&&this.pseudoMouseLeave("none",e)}findTargets(s){var e={};let t=Object.keys(this.componentMap);for(let n of s){let o=n.classList?[...n.classList]:[];if(o.filter(f=>this.abortClasses.includes(f)).length)break;let a=o.filter(f=>t.includes(f));for(let f of a)e[this.componentMap[f]]=n}return e.group&&e.group===e.row&&delete e.row,e}bindComponents(s,e){var t=Object.keys(e).reverse(),n=this.listeners[s],o={};for(let r of t){let a,f=e[r],y=this.previousTargets[r];if(y&&y.target===f)a=y.component;else switch(r){case"row":case"group":(n.components.includes("row")||n.components.includes("cell")||n.components.includes("group"))&&(a=this.table.rowManager.getVisibleRows(!0).find(P=>P.getElement()===f),e.row.parentNode&&e.row.parentNode.closest(".tabulator-row")&&(e[r]=!1));break;case"column":n.components.includes("column")&&(a=this.table.columnManager.findColumn(f));break;case"cell":n.components.includes("cell")&&(e.row instanceof $e?a=e.row.findCell(f):e.row&&console.warn("Event Target Lookup Error - The row this cell is attached to cannot be found, has the table been reinitialized without being destroyed first?"))}a&&(e[r]=a,o[r]={target:f,component:a})}return this.previousTargets=o,e}triggerEvents(s,e,t){var n=this.listeners[s];for(let o in t)t[o]&&n.components.includes(o)&&this.dispatch(o+"-"+s,e,t[o])}clearWatchers(){for(let s in this.listeners){let e=this.listeners[s];e.handler&&(this.el.removeEventListener(s,e.handler),e.handler=null)}}}class Fi{constructor(s){this.table=s,this.bindings={}}bind(s,e,t){this.bindings[s]||(this.bindings[s]={}),this.bindings[s][e]?console.warn("Unable to bind component handler, a matching function name is already bound",s,e,hanlder):this.bindings[s][e]=t}handle(s,e,t){if(this.bindings[s]&&this.bindings[s][t])return this.bindings[s][t].bind(null,e);"then"!==t&&"string"==typeof t&&!t.startsWith("_")&&console.error("The "+s+" component does not have a "+t+" function, have you checked that you have the correct Tabulator module installed?")}}class Mi extends l{constructor(s){super(s),this.loaderElement=this.createLoaderElement(),this.msgElement=this.createMsgElement(),this.loadingElement=null,this.errorElement=null,this.requestOrder=0,this.loading=!1}initialize(){var s;this.loaderElement.appendChild(this.msgElement),this.table.options.dataLoaderLoading&&("string"==typeof this.table.options.dataLoaderLoading?((s=document.createElement("template")).innerHTML=this.table.options.dataLoaderLoading.trim(),this.loadingElement=s.firstElementChild):this.loadingElement=this.table.options.dataLoaderLoading),this.table.options.dataLoaderError&&("string"==typeof this.table.options.dataLoaderError?((s=document.createElement("template")).innerHTML=this.table.options.dataLoaderError.trim(),this.errorElement=s.firstElementChild):this.errorElement=this.table.options.dataLoaderError)}createLoaderElement(){var s=document.createElement("div");return s.classList.add("tabulator-loader"),s}createMsgElement(){var s=document.createElement("div");return s.classList.add("tabulator-loader-msg"),s.setAttribute("role","alert"),s}load(s,e,t,n,o){var r=++this.requestOrder;return this.dispatchExternal("dataLoading",s),s&&(0==s.indexOf("{")||0==s.indexOf("["))&&(s=JSON.parse(s)),this.confirm("data-loading",[s,e,t,o])?(this.loading=!0,o||this.showLoader(),e=this.chain("data-params",[s,t,o],e||{},e||{}),e=this.mapParams(e,this.table.options.dataSendParams),this.chain("data-load",[s,e,t,o],!1,Promise.resolve([])).then(f=>{!Array.isArray(f)&&"object"==typeof f&&(f=this.mapParams(f,this.objectInvert(this.table.options.dataReceiveParams)));var y=this.chain("data-loaded",f,null,f);r==this.requestOrder?(this.hideLoader(),!1!==y&&(this.dispatchExternal("dataLoaded",y),this.table.rowManager.setData(y,n,!n))):console.warn("Data Load Response Blocked - An active data load request was blocked by an attempt to change table data while the request was being made")}).catch(f=>{console.error("Data Load Error: ",f),this.dispatchExternal("dataLoadError",f),o||this.showError(),setTimeout(()=>{this.hideLoader()},this.table.options.dataLoaderErrorTimeout)}).finally(()=>{this.loading=!1})):(this.dispatchExternal("dataLoaded",s),s||(s=[]),this.table.rowManager.setData(s,n,!n),Promise.resolve())}mapParams(s,e){var t={};for(let n in s)t[e.hasOwnProperty(n)?e[n]:n]=s[n];return t}objectInvert(s){var e={};for(let t in s)e[s[t]]=t;return e}blockActiveLoad(){this.requestOrder++}showLoader(){if("function"==typeof this.table.options.dataLoader?this.table.options.dataLoader():this.table.options.dataLoader){for(this.hideLoader();this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.remove("tabulator-error"),this.msgElement.classList.add("tabulator-loading"),this.loadingElement?this.msgElement.appendChild(this.loadingElement):this.msgElement.innerHTML=this.langText("data|loading"),this.table.element.appendChild(this.loaderElement)}}showError(){for(this.hideLoader();this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.remove("tabulator-loading"),this.msgElement.classList.add("tabulator-error"),this.errorElement?this.msgElement.appendChild(this.errorElement):this.msgElement.innerHTML=this.langText("data|error"),this.table.element.appendChild(this.loaderElement)}hideLoader(){this.loaderElement.parentNode&&this.loaderElement.parentNode.removeChild(this.loaderElement)}}class zi{constructor(s,e,t){this.table=s,this.events={},this.optionsList=e||{},this.subscriptionNotifiers={},this.dispatch=t?this._debugDispatch.bind(this):this._dispatch.bind(this),this.debug=t}subscriptionChange(s,e){this.subscriptionNotifiers[s]||(this.subscriptionNotifiers[s]=[]),this.subscriptionNotifiers[s].push(e),this.subscribed(s)&&this._notifiySubscriptionChange(s,!0)}subscribe(s,e){this.events[s]||(this.events[s]=[]),this.events[s].push(e),this._notifiySubscriptionChange(s,!0)}unsubscribe(s,e){var t;if(this.events[s]){if(e){if(!((t=this.events[s].findIndex(n=>n===e))>-1))return void console.warn("Cannot remove event, no matching event found:",s,e);this.events[s].splice(t,1)}else delete this.events[s];this._notifiySubscriptionChange(s,!1)}else console.warn("Cannot remove event, no events set on:",s)}subscribed(s){return this.events[s]&&this.events[s].length}_notifiySubscriptionChange(s,e){var t=this.subscriptionNotifiers[s];t&&t.forEach(n=>{n(e)})}_dispatch(){var t,s=Array.from(arguments),e=s.shift();return this.events[e]&&this.events[e].forEach((n,o)=>{let r=n.apply(this.table,s);o||(t=r)}),t}_debugDispatch(){var s=Array.from(arguments),e=s[0];return s[0]="ExternalEvent:"+s[0],(!0===this.debug||this.debug.includes(e))&&console.log(...s),this._dispatch(...arguments)}}class Jt{constructor(s){this.events={},this.subscriptionNotifiers={},this.dispatch=s?this._debugDispatch.bind(this):this._dispatch.bind(this),this.chain=s?this._debugChain.bind(this):this._chain.bind(this),this.confirm=s?this._debugConfirm.bind(this):this._confirm.bind(this),this.debug=s}subscriptionChange(s,e){this.subscriptionNotifiers[s]||(this.subscriptionNotifiers[s]=[]),this.subscriptionNotifiers[s].push(e),this.subscribed(s)&&this._notifiySubscriptionChange(s,!0)}subscribe(s,e,t=1e4){this.events[s]||(this.events[s]=[]),this.events[s].push({callback:e,priority:t}),this.events[s].sort((n,o)=>n.priority-o.priority),this._notifiySubscriptionChange(s,!0)}unsubscribe(s,e){var t;if(this.events[s]){if(e){if(!((t=this.events[s].findIndex(n=>n.callback===e))>-1))return void console.warn("Cannot remove event, no matching event found:",s,e);this.events[s].splice(t,1)}this._notifiySubscriptionChange(s,!1)}else console.warn("Cannot remove event, no events set on:",s)}subscribed(s){return this.events[s]&&this.events[s].length}_chain(s,e,t,n){var o=t;return Array.isArray(e)||(e=[e]),this.subscribed(s)?(this.events[s].forEach((r,a)=>{o=r.callback.apply(this,e.concat([o]))}),o):"function"==typeof n?n():n}_confirm(s,e){var t=!1;return Array.isArray(e)||(e=[e]),this.subscribed(s)&&this.events[s].forEach((n,o)=>{n.callback.apply(this,e)&&(t=!0)}),t}_notifiySubscriptionChange(s,e){var t=this.subscriptionNotifiers[s];t&&t.forEach(n=>{n(e)})}_dispatch(){var s=Array.from(arguments),e=s.shift();this.events[e]&&this.events[e].forEach(t=>{t.callback.apply(this,s)})}_debugDispatch(){var s=Array.from(arguments),e=s[0];return s[0]="InternalEvent:"+e,(!0===this.debug||this.debug.includes(e))&&console.log(...s),this._dispatch(...arguments)}_debugChain(){var s=Array.from(arguments),e=s[0];return s[0]="InternalEvent:"+e,(!0===this.debug||this.debug.includes(e))&&console.log(...s),this._chain(...arguments)}_debugConfirm(){var s=Array.from(arguments),e=s[0];return s[0]="InternalEvent:"+e,(!0===this.debug||this.debug.includes(e))&&console.log(...s),this._confirm(...arguments)}}let Qt=(()=>{class c{static register(e){c.tables.push(e)}static deregister(e){var t=c.tables.indexOf(e);t>-1&&c.tables.splice(t,1)}static lookupTable(e,t){var o,r,n=[];if("string"==typeof e){if((o=document.querySelectorAll(e)).length)for(var a=0;a<o.length;a++)(r=c.matchElement(o[a]))&&n.push(r)}else"undefined"!=typeof HTMLElement&&e instanceof HTMLElement||e instanceof ei?(r=c.matchElement(e))&&n.push(r):Array.isArray(e)?e.forEach(function(f){n=n.concat(c.lookupTable(f))}):t||console.warn("Table Connection Error - Invalid Selector",e);return n}static matchElement(e){return c.tables.find(function(t){return e instanceof ei?t===e:t.element===e})}}return c.tables=[],c})();function Di(c){c.forEach(function(s){s.reinitializeWidth()}),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}var Bi={fitData:function li(c){this.table.columnManager.renderer.reinitializeColumnWidths(c),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataFill:Di,fitDataTable:Di,fitDataStretch:function ci(c){var s=0,e=this.table.rowManager.element.clientWidth,t=0,n=!1;c.forEach((o,r)=>{o.widthFixed||o.reinitializeWidth(),(this.table.options.responsiveLayout?o.modules.responsive.visible:o.visible)&&(n=o),o.visible&&(s+=o.getWidth())}),n?(t=e-s+n.getWidth(),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&(n.setWidth(0),this.table.modules.responsiveLayout.update()),t>0?n.setWidth(t):n.reinitializeWidth()):this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitColumns:function Ti(c){var o,y,s=this.table.element.clientWidth,e=0,t=0,n=0,r=[],a=[],f=0,U=0;function x(X){return"string"==typeof X?X.indexOf("%")>-1?s/100*parseInt(X):parseInt(X):X}function P(X,he,me,be){var Ie=[],Ue=0,mt=0,vt=0,At=n,kt=0,It=0,xt=[];function Bt(et){return me*(et.column.definition.widthGrow||1)}function St(et){return x(et.width)-me*(et.column.definition.widthShrink||0)}return X.forEach(function(et,Vt){var Nt=be?St(et):Bt(et);et.column.minWidth>=Nt?Ie.push(et):et.column.maxWidth&&et.column.maxWidth<Nt?(et.width=et.column.maxWidth,he-=et.column.maxWidth,(At-=be?et.column.definition.widthShrink||1:et.column.definition.widthGrow||1)&&(me=Math.floor(he/At))):(xt.push(et),It+=be?et.column.definition.widthShrink||1:et.column.definition.widthGrow||1)}),Ie.length?(Ie.forEach(function(et){Ue+=be?et.width-et.column.minWidth:et.column.minWidth,et.width=et.column.minWidth}),kt=(mt=he-Ue)-(vt=It?Math.floor(mt/It):mt)*It,kt+=P(xt,mt,vt,be)):(kt=It?he-Math.floor(he/It)*It:he,xt.forEach(function(et){et.width=be?St(et):Bt(et)})),kt}this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(s-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),c.forEach(function(X){var he,me,be;X.visible&&(he=X.definition.width,me=parseInt(X.minWidth),he?(be=x(he),e+=be>me?be:me,X.definition.widthShrink&&(a.push({column:X,width:be>me?be:me}),f+=X.definition.widthShrink)):(r.push({column:X,width:0}),n+=X.definition.widthGrow||1))}),t=s-e,o=Math.floor(t/n),U=P(r,t,o,!1),r.length&&U>0&&(r[r.length-1].width+=+U),r.forEach(function(X){t-=X.width}),(y=Math.abs(U)+t)>0&&f&&(U=P(a,y,Math.floor(y/f),!0)),a.length&&(a[a.length-1].width-=U),r.forEach(function(X){X.column.setWidth(X.width)}),a.forEach(function(X){X.column.setWidth(X.width)})}},Ni={default:{groups:{item:"item",items:"items"},columns:{},data:{loading:"Loading",error:"Error"},pagination:{page_size:"Page Size",page_title:"Show Page",first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page",all:"All",counter:{showing:"Showing",of:"of",rows:"rows",pages:"pages"}},headerFilters:{default:"filter column...",columns:{}}}},qt=Object.freeze({__proto__:null,LayoutModule:(()=>{class c extends d{constructor(e){super(e,"layout"),this.mode=null,this.registerTableOption("layout","fitData"),this.registerTableOption("layoutColumnsOnNewData",!1),this.registerColumnOption("widthGrow"),this.registerColumnOption("widthShrink")}initialize(){var e=this.table.options.layout;c.modes[e]?this.mode=e:(console.warn("Layout Error - invalid mode set, defaulting to 'fitData' : "+e),this.mode="fitData"),this.table.element.setAttribute("tabulator-layout",this.mode)}getMode(){return this.mode}layout(){this.dispatch("layout-refreshing"),c.modes[this.mode].call(this,this.table.columnManager.columnsByIndex),this.dispatch("layout-refreshed")}}return c.moduleName="layout",c.modes=Bi,c})(),LocalizeModule:(()=>{class c extends d{constructor(e){super(e),this.locale="default",this.lang=!1,this.bindings={},this.langList={},this.registerTableOption("locale",!1),this.registerTableOption("langs",{})}initialize(){this.langList=F.deepClone(c.langs),!1!==this.table.options.columnDefaults.headerFilterPlaceholder&&this.setHeaderFilterPlaceholder(this.table.options.columnDefaults.headerFilterPlaceholder);for(let e in this.table.options.langs)this.installLang(e,this.table.options.langs[e]);this.setLocale(this.table.options.locale),this.registerTableFunction("setLocale",this.setLocale.bind(this)),this.registerTableFunction("getLocale",this.getLocale.bind(this)),this.registerTableFunction("getLang",this.getLang.bind(this))}setHeaderFilterPlaceholder(e){this.langList.default.headerFilters.default=e}setHeaderFilterColumnPlaceholder(e,t){this.langList.default.headerFilters.columns[e]=t,this.lang&&!this.lang.headerFilters.columns[e]&&(this.lang.headerFilters.columns[e]=t)}installLang(e,t){this.langList[e]?this._setLangProp(this.langList[e],t):this.langList[e]=t}_setLangProp(e,t){for(let n in t)e[n]&&"object"==typeof e[n]?this._setLangProp(e[n],t[n]):e[n]=t[n]}setLocale(e){if(!0===(e=e||"default")&&navigator.language&&(e=navigator.language.toLowerCase()),e&&!this.langList[e]){let n=e.split("-")[0];this.langList[n]?(console.warn("Localization Error - Exact matching locale not found, using closest match: ",e,n),e=n):(console.warn("Localization Error - Matching locale not found, using default: ",e),e="default")}this.locale=e,this.lang=F.deepClone(this.langList.default||{}),"default"!=e&&function t(n,o){for(var r in n)"object"==typeof n[r]?(o[r]||(o[r]={}),t(n[r],o[r])):o[r]=n[r]}(this.langList[e],this.lang),this.dispatchExternal("localized",this.locale,this.lang),this._executeBindings()}getLocale(e){return this.locale}getLang(e){return e?this.langList[e]:this.lang}getText(n,t){var o=(n=t?n+"|"+t:n).split("|");return this._getLangElement(o,this.locale)||""}_getLangElement(e,t){var n=this.lang;return e.forEach(function(o){var r;n&&(n=void 0!==(r=n[o])&&r)}),n}bind(e,t){this.bindings[e]||(this.bindings[e]=[]),this.bindings[e].push(t),t(this.getText(e),this.lang)}_executeBindings(){for(let e in this.bindings)this.bindings[e].forEach(t=>{t(this.getText(e),this.lang)})}}return c.moduleName="localize",c.langs=Ni,c})(),CommsModule:(()=>{class c extends d{constructor(e){super(e)}initialize(){this.registerTableFunction("tableComms",this.receive.bind(this))}getConnections(e){var t=[];return Qt.lookupTable(e).forEach(o=>{this.table!==o&&t.push(o)}),t}send(e,t,n,o){var r=this.getConnections(e);r.forEach(a=>{a.tableComms(this.table.element,t,n,o)}),!r.length&&e&&console.warn("Table Connection Error - No tables matching selector found",e)}receive(e,t,n,o){if(this.table.modExists(t))return this.table.modules[t].commsReceived(e,n,o);console.warn("Inter-table Comms Error - no such module:",t)}}return c.moduleName="comms",c})()});class di{constructor(s,e){this.bindStaticFuctionality(s),this.bindModules(s,qt,!0),e&&this.bindModules(s,e)}bindStaticFuctionality(s){s.moduleBindings={},s.extendModule=function(e,t,n){if(s.moduleBindings[e]){var o=s.moduleBindings[e][t];if(o)if("object"==typeof n)for(let r in n)o[r]=n[r];else console.warn("Module Error - Invalid value type, it must be an object");else console.warn("Module Error - property does not exist:",t)}else console.warn("Module Error - module does not exist:",e)},s.registerModule=function(e){Array.isArray(e)||(e=[e]),e.forEach(t=>{s.registerModuleBinding(t)})},s.registerModuleBinding=function(e){s.moduleBindings[e.moduleName]=e},s.findTable=function(e){var t=Qt.lookupTable(e,!0);return!(Array.isArray(t)&&!t.length)&&t},s.prototype.bindModules=function(){var e=[],t=[];for(var n in this.modules={},s.moduleBindings){let o=s.moduleBindings[n],r=new o(this);this.modules[n]=r,o.prototype.moduleCore?this.modulesCore.push(r):o.moduleInitOrder?e.push(r):t.push(r)}e.sort((o,r)=>o.moduleInitOrder>r.moduleInitOrder?1:-1),this.modulesRegular=e.concat(t)}}bindModules(s,e,t){var n=Object.values(e);t&&n.forEach(o=>{o.prototype.moduleCore=!0}),s.registerModule(n)}}let ei=(()=>{class c{constructor(e,t){this.options={},this.columnManager=null,this.rowManager=null,this.footerManager=null,this.vdomHoz=null,this.externalEvents=null,this.eventBus=null,this.interactionMonitor=!1,this.browser="",this.browserSlow=!1,this.browserMobile=!1,this.rtl=!1,this.originalElement=null,this.componentFunctionBinder=new Fi(this),this.dataLoader=!1,this.modules={},this.modulesCore=[],this.modulesRegular=[],this.optionsList=new yi(this,"table constructor"),this.initialized=!1,this.initializeElement(e)&&(this.initializeCoreSystems(t),setTimeout(()=>{this._create()})),Qt.register(this)}initializeElement(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement?(this.element=e,!0):"string"==typeof e?(this.element=document.querySelector(e),!!this.element||(console.error("Tabulator Creation Error - no element found matching selector: ",e),!1)):(console.error("Tabulator Creation Error - Invalid element provided:",e),!1)}initializeCoreSystems(e){this.columnManager=new Ii(this),this.rowManager=new Li(this),this.footerManager=new Ei(this),this.dataLoader=new Mi(this),this.bindModules(),this.options=this.optionsList.generate(c.defaultOptions,e),this._clearObjectPointers(),this._mapDeprecatedFunctionality(),this.externalEvents=new zi(this,this.options,this.options.debugEventsExternal),this.eventBus=new Jt(this.options.debugEventsInternal),this.interactionMonitor=new wi(this),this.dataLoader.initialize(),this.footerManager.initialize()}_mapDeprecatedFunctionality(){}_clearSelection(){this.element.classList.add("tabulator-block-select"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.element.classList.remove("tabulator-block-select")}_create(){this.externalEvents.dispatch("tableBuilding"),this.eventBus.dispatch("table-building"),this._rtlCheck(),this._buildElement(),this._initializeTable(),this._loadInitialData(),this.initialized=!0,this.externalEvents.dispatch("tableBuilt")}_rtlCheck(){var e=window.getComputedStyle(this.element);switch(this.options.textDirection){case"auto":if("rtl"!==e.direction)break;case"rtl":this.element.classList.add("tabulator-rtl"),this.rtl=!0;break;case"ltr":this.element.classList.add("tabulator-ltr");default:this.rtl=!1}}_clearObjectPointers(){this.options.columns=this.options.columns.slice(0),this.options.data&&!this.options.reactiveData&&(this.options.data=this.options.data.slice(0))}_buildElement(){var n,e=this.element,t=this.options;if("TABLE"===e.tagName){this.originalElement=this.element,n=document.createElement("div");var o=e.attributes;for(var r in o)"object"==typeof o[r]&&n.setAttribute(o[r].name,o[r].value);e.parentNode.replaceChild(n,e),this.element=e=n}for(e.classList.add("tabulator"),e.setAttribute("role","grid");e.firstChild;)e.removeChild(e.firstChild);t.height&&(t.height=isNaN(t.height)?t.height:t.height+"px",e.style.height=t.height),!1!==t.minHeight&&(t.minHeight=isNaN(t.minHeight)?t.minHeight:t.minHeight+"px",e.style.minHeight=t.minHeight),!1!==t.maxHeight&&(t.maxHeight=isNaN(t.maxHeight)?t.maxHeight:t.maxHeight+"px",e.style.maxHeight=t.maxHeight)}_initializeTable(){var e=this.element,t=this.options;this.interactionMonitor.initialize(),this.columnManager.initialize(),this.rowManager.initialize(),this._detectBrowser(),this.modulesCore.forEach(n=>{n.initialize()}),e.appendChild(this.columnManager.getElement()),e.appendChild(this.rowManager.getElement()),t.footerElement&&this.footerManager.activate(),t.autoColumns&&t.data&&this.columnManager.generateColumnsFromRowData(this.options.data),this.modulesRegular.forEach(n=>{n.initialize()}),this.columnManager.setColumns(t.columns),this.eventBus.dispatch("table-built")}_loadInitialData(){this.dataLoader.load(this.options.data)}destroy(){var e=this.element;for(Qt.deregister(this),this.eventBus.dispatch("table-destroy"),this.rowManager.rows.forEach(function(t){t.wipe()}),this.rowManager.rows=[],this.rowManager.activeRows=[],this.rowManager.displayRows=[];e.firstChild;)e.removeChild(e.firstChild);e.classList.remove("tabulator")}_detectBrowser(){var e=navigator.userAgent||navigator.vendor||window.opera;e.indexOf("Trident")>-1?(this.browser="ie",this.browserSlow=!0):e.indexOf("Edge")>-1?(this.browser="edge",this.browserSlow=!0):e.indexOf("Firefox")>-1?(this.browser="firefox",this.browserSlow=!1):(this.browser="other",this.browserSlow=!1),this.browserMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.slice(0,4))}blockRedraw(){return this.rowManager.blockRedraw()}restoreRedraw(){return this.rowManager.restoreRedraw()}setData(e,t,n){if(this.initialized)return this.dataLoader.load(e,t,n,!1);console.warn("setData failed - table not yet initialized. To set initial data please use the 'data' property in the table constructor.")}clearData(){this.dataLoader.blockActiveLoad(),this.rowManager.clearData()}getData(e){return this.rowManager.getData(e)}getDataCount(e){return this.rowManager.getDataCount(e)}replaceData(e,t,n){if(this.initialized)return this.dataLoader.load(e,t,n,!0,!0);console.warn("replaceData failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}updateData(e){var t=0;if(this.initialized)return new Promise((n,o)=>{this.dataLoader.blockActiveLoad(),"string"==typeof e&&(e=JSON.parse(e)),e?e.forEach(r=>{var a=this.rowManager.findRow(r[this.options.index]);a&&(t++,a.updateData(r).then(()=>{--t||n()}))}):(console.warn("Update Error - No data provided"),o("Update Error - No data provided"))});console.warn("updateData failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}addData(e,t,n){if(this.initialized)return new Promise((o,r)=>{this.dataLoader.blockActiveLoad(),"string"==typeof e&&(e=JSON.parse(e)),e?this.rowManager.addRows(e,t,n).then(a=>{var f=[];a.forEach(function(y){f.push(y.getComponent())}),o(f)}):(console.warn("Update Error - No data provided"),r("Update Error - No data provided"))});console.warn("addData failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}updateOrAddData(e){var t=[],n=0;if(this.initialized)return new Promise((o,r)=>{this.dataLoader.blockActiveLoad(),"string"==typeof e&&(e=JSON.parse(e)),e?e.forEach(a=>{var f=this.rowManager.findRow(a[this.options.index]);n++,f?f.updateData(a).then(()=>{n--,t.push(f.getComponent()),n||o(t)}):this.rowManager.addRows(a).then(y=>{n--,t.push(y[0].getComponent()),n||o(t)})}):(console.warn("Update Error - No data provided"),r("Update Error - No data provided"))});console.warn("updateOrAddData failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}getRow(e){var t=this.rowManager.findRow(e);return t?t.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}getRowFromPosition(e,t){var n=this.rowManager.getRowFromPosition(e,t);return n?n.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}deleteRow(e){var t=[];Array.isArray(e)||(e=[e]);for(let n of e){let o=this.rowManager.findRow(n,!0);if(!o)return console.error("Delete Error - No matching row found:",n),Promise.reject("Delete Error - No matching row found");t.push(o)}return t.sort((n,o)=>this.rowManager.rows.indexOf(n)>this.rowManager.rows.indexOf(o)?1:-1),t.forEach(n=>{n.delete()}),this.rowManager.reRenderInPosition(),Promise.resolve()}addRow(e,t,n){if(this.initialized)return"string"==typeof e&&(e=JSON.parse(e)),this.rowManager.addRows(e,t,n).then(o=>o[0].getComponent());console.warn("addRow failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}updateOrAddRow(e,t){var n=this.rowManager.findRow(e);return"string"==typeof t&&(t=JSON.parse(t)),n?n.updateData(t).then(()=>n.getComponent()):this.rowManager.addRows(t).then(o=>o[0].getComponent())}updateRow(e,t){var n=this.rowManager.findRow(e);return"string"==typeof t&&(t=JSON.parse(t)),n?n.updateData(t).then(()=>Promise.resolve(n.getComponent())):(console.warn("Update Error - No matching row found:",e),Promise.reject("Update Error - No matching row found"))}scrollToRow(e,t,n){var o=this.rowManager.findRow(e);return o?this.rowManager.scrollToRow(o,t,n):(console.warn("Scroll Error - No matching row found:",e),Promise.reject("Scroll Error - No matching row found"))}moveRow(e,t,n){var o=this.rowManager.findRow(e);o?o.moveToRow(t,n):console.warn("Move Error - No matching row found:",e)}getRows(e){return this.rowManager.getComponents(e)}getRowPosition(e,t){var n=this.rowManager.findRow(e);return n?this.rowManager.getRowPosition(n,t):(console.warn("Position Error - No matching row found:",e),!1)}setColumns(e){this.initialized?this.columnManager.setColumns(e):console.warn("setColumns failed - table not yet initialized. To set initial data please use the 'columns' property in the table constructor.")}getColumns(e){return this.columnManager.getComponents(e)}getColumn(e){var t=this.columnManager.findColumn(e);return t?t.getComponent():(console.warn("Find Error - No matching column found:",e),!1)}getColumnDefinitions(){return this.columnManager.getDefinitionTree()}showColumn(e){var t=this.columnManager.findColumn(e);if(!t)return console.warn("Column Show Error - No matching column found:",e),!1;t.show()}hideColumn(e){var t=this.columnManager.findColumn(e);if(!t)return console.warn("Column Hide Error - No matching column found:",e),!1;t.hide()}toggleColumn(e){var t=this.columnManager.findColumn(e);if(!t)return console.warn("Column Visibility Toggle Error - No matching column found:",e),!1;t.visible?t.hide():t.show()}addColumn(e,t,n){var o=this.columnManager.findColumn(n);return this.columnManager.addColumn(e,t,o).then(r=>r.getComponent())}deleteColumn(e){var t=this.columnManager.findColumn(e);return t?t.delete():(console.warn("Column Delete Error - No matching column found:",e),Promise.reject())}updateColumnDefinition(e,t){var n=this.columnManager.findColumn(e);return n?n.updateDefinition(t):(console.warn("Column Update Error - No matching column found:",e),Promise.reject())}moveColumn(e,t,n){var o=this.columnManager.findColumn(e),r=this.columnManager.findColumn(t);o?r?this.columnManager.moveColumn(o,r,n):console.warn("Move Error - No matching column found:",r):console.warn("Move Error - No matching column found:",e)}scrollToColumn(e,t,n){return new Promise((o,r)=>{var a=this.columnManager.findColumn(e);return a?this.columnManager.scrollToColumn(a,t,n):(console.warn("Scroll Error - No matching column found:",e),Promise.reject("Scroll Error - No matching column found"))})}redraw(e){this.initialized?(this.columnManager.redraw(e),this.rowManager.redraw(e)):console.warn("redraw failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}setHeight(e){this.options.height=isNaN(e)?e:e+"px",this.element.style.height=this.options.height,this.rowManager.initializeRenderer(),this.rowManager.redraw()}on(e,t){this.externalEvents.subscribe(e,t)}off(e,t){this.externalEvents.unsubscribe(e,t)}dispatchEvent(){Array.from(arguments).shift(),this.externalEvents.dispatch(...arguments)}modExists(e,t){return!!this.modules[e]||(t&&console.error("Tabulator Module Not Installed: "+e),!1)}module(e){var t=this.modules[e];return t||console.error("Tabulator module not installed: "+e),t}}return c.defaultOptions=vi,c})();new di(ei);class ui extends ei{}new di(ui,bi)},5391:fe=>{var H,ie="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),l={},d=0,F=0;function I(le){var Y="";do{Y=ie[le%64]+Y,le=Math.floor(le/64)}while(le>0);return Y}function $(){var le=I(+new Date);return le!==H?(d=0,H=le):le+"."+I(d++)}for(;F<64;F++)l[ie[F]]=F;$.encode=I,$.decode=function G(le){var Y=0;for(F=0;F<le.length;F++)Y=64*Y+l[le.charAt(F)];return Y},fe.exports=$},6811:(fe,ie,w)=>{w.d(ie,{m:()=>oe});var l=w(92),d=w(7451),H=w(325),I=w(3192),$=w(8213);function le(ae,N){1&ae&&(d.\u0275\u0275elementContainerStart(0),d.\u0275\u0275elementStart(1,"section",2),d.\u0275\u0275element(2,"spiner-atom"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementContainerEnd())}function Y(ae,N){if(1&ae&&(d.\u0275\u0275elementContainerStart(0),d.\u0275\u0275text(1),d.\u0275\u0275elementContainerEnd()),2&ae){const R=d.\u0275\u0275nextContext();d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(R.title)}}let oe=(()=>{class ae{constructor(R){this.dynamicFormBuilderService=R,this.title="",this.eventType="",this.fetching={},this.disabled=!1,this.formGroup=new l.cw({}),this.style={},this.loading=!1}onEventTriggered(){this.eventType&&this.dynamicFormBuilderService.emmitButtonTriggerEventType({eventType:this.eventType??"",key:this.key,fetching:this.fetching??{}})}}return ae.\u0275fac=function(R){return new(R||ae)(d.\u0275\u0275directiveInject(H.D))},ae.\u0275cmp=d.\u0275\u0275defineComponent({type:ae,selectors:[["button-atom"]],inputs:{key:"key",title:"title",eventType:"eventType",fetching:"fetching",disabled:"disabled",formGroup:"formGroup",style:"style",loading:"loading"},decls:3,vars:6,consts:[[1,"mobilform-button-atom",3,"disabled","id","name","ngStyle","click"],[4,"ngIf"],[1,"mobilform-button-atom__loading"]],template:function(R,C){1&R&&(d.\u0275\u0275elementStart(0,"button",0),d.\u0275\u0275listener("click",function(){return C.onEventTriggered()}),d.\u0275\u0275template(1,le,3,0,"ng-container",1),d.\u0275\u0275template(2,Y,2,1,"ng-container",1),d.\u0275\u0275elementEnd()),2&R&&(d.\u0275\u0275property("disabled",C.disabled||C.loading)("id",C.key)("name",C.key)("ngStyle",C.style),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",C.loading),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",!C.loading))},directives:[I.NgStyle,I.NgIf,$.J],styles:[".mobilform-button-atom[_ngcontent-%COMP%]{font-size:10px;font-weight:700;padding:.5rem 1rem;border-radius:.25rem;background-color:#1d4ed8;color:#fff;width:100%}.mobilform-button-atom[_ngcontent-%COMP%]:hover{background-color:#1e40af}.mobilform-button-atom__loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.mobilform-button-atom__loading[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-left:.5rem}"]}),ae})()},8367:(fe,ie,w)=>{w.d(ie,{A:()=>G});var l=w(92),d=w(7451),H=w(3192);let G=(()=>{class ${constructor(){this.key="",this.label="",this.formGroup=new l.cw({}),this.style={}}ngOnInit(){}getFormGroupGroup(){return this.formGroup.get(this.key)}}return $.\u0275fac=function(Y){return new(Y||$)},$.\u0275cmp=d.\u0275\u0275defineComponent({type:$,selectors:[["checkbox-atom"]],inputs:{key:"key",label:"label",formGroup:"formGroup",style:"style"},decls:2,vars:5,consts:[[1,"mobilform-checkbox",3,"formGroup"],["type","checkbox",3,"id","formControlName","name","ngStyle"]],template:function(Y,oe){1&Y&&(d.\u0275\u0275elementStart(0,"section",0),d.\u0275\u0275element(1,"input",1),d.\u0275\u0275elementEnd()),2&Y&&(d.\u0275\u0275property("formGroup",oe.formGroup),d.\u0275\u0275advance(1),d.\u0275\u0275property("id",oe.key)("formControlName",oe.key)("name",oe.key)("ngStyle",oe.style))},directives:[l.JL,l.sg,l.Wl,l.JJ,l.u,H.NgStyle],styles:[".mobilform-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;height:100%;font-size:.625rem}"]}),$})()},7288:(fe,ie,w)=>{w.d(ie,{$:()=>N});var l=w(92),d=w(824),H=w(5033),G=w(7451),le=w(325),Y=w(3192);function ae(R,C){if(1&R&&(G.\u0275\u0275elementStart(0,"option",4),G.\u0275\u0275text(1),G.\u0275\u0275elementEnd()),2&R){const O=C.$implicit;G.\u0275\u0275property("ngValue",O.key),G.\u0275\u0275advance(1),G.\u0275\u0275textInterpolate1(" ",O.label," ")}}let N=(()=>{class R{constructor(O){this.dynamicFormBuilderService=O,this.key="",this.id="",this.options=[],this.placeholder="",this.formGroup=new l.cw({}),this.fetching={},this.style={}}ngOnInit(){switch(this.fetching?.typEvent){case"onInit":this.onInitMethod();break;case"onChange":this.listenChangesField()}}ngOnDestroy(){this.changesFieldSubscription$?.unsubscribe(),this.responseFetchingElement$?.unsubscribe()}onInitMethod(){this.dynamicFormBuilderService.emmitFetchingElement({...this.fetching,identifierElement:this.key})}listenChangesResponseFetchingElement(){this.responseFetchingElement$=this.dynamicFormBuilderService.onChangesResponseFetchingElement().subscribe(O=>{O.identifierElement===this.key&&this.dynamicFormBuilderService.assignValueVariableWithKey(this.fetching?.variable??"",O.response)})}listenChangesField(){this.changesFieldSubscription$=this.formGroup.get(this.key)?.valueChanges.pipe((0,H.delay)(1e3)).subscribe(()=>{this.dynamicFormBuilderService.emmitFetchingElement({...this.fetching,identifierElement:this.key})})??new d.Subscription,this.listenChangesResponseFetchingElement()}}return R.\u0275fac=function(O){return new(O||R)(G.\u0275\u0275directiveInject(le.D))},R.\u0275cmp=G.\u0275\u0275defineComponent({type:R,selectors:[["dropdown-atom"]],inputs:{key:"key",id:"id",options:"options",placeholder:"placeholder",formGroup:"formGroup",fetching:"fetching",style:"style"},decls:5,vars:9,consts:[[3,"formGroup"],["aria-label","Default select example",1,"mobilform-select",3,"ngStyle","name","id","formControlName"],[3,"ngValue","disabled"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(O,z){1&O&&(G.\u0275\u0275elementStart(0,"section",0),G.\u0275\u0275elementStart(1,"select",1),G.\u0275\u0275elementStart(2,"option",2),G.\u0275\u0275text(3),G.\u0275\u0275elementEnd(),G.\u0275\u0275template(4,ae,2,2,"option",3),G.\u0275\u0275elementEnd(),G.\u0275\u0275elementEnd()),2&O&&(G.\u0275\u0275property("formGroup",z.formGroup),G.\u0275\u0275advance(1),G.\u0275\u0275property("ngStyle",z.style)("name",z.key)("id",z.id)("formControlName",z.key),G.\u0275\u0275advance(1),G.\u0275\u0275property("ngValue","")("disabled",!0),G.\u0275\u0275advance(1),G.\u0275\u0275textInterpolate(z.placeholder),G.\u0275\u0275advance(1),G.\u0275\u0275property("ngForOf",z.options))},directives:[l.JL,l.sg,l.EJ,Y.NgStyle,l.JJ,l.u,l.YN,l.Kr,Y.NgForOf],styles:[".mobilform-select[_ngcontent-%COMP%]{background-color:#fff;line-height:1.25;padding:.5rem .75rem;border-radius:.25rem;-webkit-appearance:none;-moz-appearance:none;width:100%;border-width:1px;font-size:12px;height:30px;background-repeat:no-repeat;appearance:none;background-clip:padding-box;display:block;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e\");background-position:right .75rem center;background-size:16px 12px;transition-property:color,background-color,border-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-text-decoration-color,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-text-decoration-color,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.mobilform-select[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px}"]}),R})()},716:(fe,ie,w)=>{w.d(ie,{J:()=>G});var l=w(7451),F=w(3192);function I($,le){1&$&&(l.\u0275\u0275elementStart(0,"strong",2),l.\u0275\u0275text(1,"*"),l.\u0275\u0275elementEnd())}let G=(()=>{class ${constructor(){this.required=!1,this.style={fontSize:"0.625rem",lineHeight:"1.25rem"}}ngOnInit(){}}return $.\u0275fac=function(Y){return new(Y||$)},$.\u0275cmp=l.\u0275\u0275defineComponent({type:$,selectors:[["label-atom"]],inputs:{key:"key",required:"required",title:"title",formGroup:"formGroup",style:"style"},decls:3,vars:5,consts:[[1,"block","text-gray-700","font-bold",3,"id","ngStyle"],["class","text-red-500",4,"ngIf"],[1,"text-red-500"]],template:function(Y,oe){1&Y&&(l.\u0275\u0275elementStart(0,"label",0),l.\u0275\u0275text(1),l.\u0275\u0275template(2,I,2,0,"strong",1),l.\u0275\u0275elementEnd()),2&Y&&(l.\u0275\u0275property("id",oe.key)("ngStyle",oe.style),l.\u0275\u0275attribute("for",oe.key),l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate1(" ",oe.title," "),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",oe.required))},directives:[F.NgStyle,F.NgIf],styles:[".label__sm[_ngcontent-%COMP%]{font-size:.75rem;line-height:1rem}.label__md[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem}.label__xl[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.75rem}"]}),$})()},3818:(fe,ie,w)=>{w.d(ie,{t:()=>le});var l=w(92),d=w(7451),H=w(3192),G=w(716);function $(Y,oe){if(1&Y){const ae=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"section",2),d.\u0275\u0275elementStart(1,"input",3),d.\u0275\u0275listener("change",function(R){return d.\u0275\u0275restoreView(ae),d.\u0275\u0275nextContext().changeValue(R)}),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(2,"label-atom",4),d.\u0275\u0275elementEnd()}if(2&Y){const ae=oe.$implicit,N=d.\u0275\u0275nextContext();d.\u0275\u0275advance(1),d.\u0275\u0275property("value",ae.key)("checked",ae.key===N.valueField),d.\u0275\u0275advance(1),d.\u0275\u0275property("title",ae.label)("key",ae.label)}}let le=(()=>{class Y{constructor(){this.key="",this.options=[],this.formGroup=new l.cw({})}get valueField(){return this.formGroup.get(this.key)?.value}changeValue({target:{value:ae}}){this.formGroup.get(this.key)?.setValue(ae)}ngOnInit(){}}return Y.\u0275fac=function(ae){return new(ae||Y)},Y.\u0275cmp=d.\u0275\u0275defineComponent({type:Y,selectors:[["radio-atom"]],inputs:{key:"key",options:"options",formGroup:"formGroup"},decls:2,vars:2,consts:[[1,"form-check",3,"formGroup"],["class","mobilform-radio__wrapper",4,"ngFor","ngForOf"],[1,"mobilform-radio__wrapper"],["type","radio",1,"mobilform-radio__wrapper__input",3,"value","checked","change"],[3,"title","key"]],template:function(ae,N){1&ae&&(d.\u0275\u0275elementStart(0,"div",0),d.\u0275\u0275template(1,$,3,4,"section",1),d.\u0275\u0275elementEnd()),2&ae&&(d.\u0275\u0275property("formGroup",N.formGroup),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",N.options))},directives:[l.JL,l.sg,H.NgForOf,G.J],styles:[".mobilform-radio__wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}.mobilform-radio__wrapper__input[_ngcontent-%COMP%]{margin-right:.5rem}"]}),Y})()},8213:(fe,ie,w)=>{w.d(ie,{J:()=>F});var l=w(7451);let F=(()=>{class H{constructor(){this.dimension=18}ngOnInit(){}}return H.\u0275fac=function(G){return new(G||H)},H.\u0275cmp=l.\u0275\u0275defineComponent({type:H,selectors:[["spiner-atom"]],inputs:{dimension:"dimension"},decls:1,vars:4,consts:[[1,"mobilform-spinner"]],template:function(G,$){1&G&&l.\u0275\u0275element(0,"div",0),2&G&&l.\u0275\u0275styleProp("width",$.dimension,"px")("height",$.dimension,"px")},styles:[".mobilform-spinner[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.1);border-radius:50%;border-image:linear-gradient(180deg,#04bfad 6.33%,#0476d9 52.12%,#e1c532 105.1%) 1;animation:spin 1s ease infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),H})()},4565:(fe,ie,w)=>{w.d(ie,{n:()=>R});var l=w(7451),F=w(325),H=w(3192),G=w(92);function $(C,O){if(1&C&&l.\u0275\u0275element(0,"input",5),2&C){const z=l.\u0275\u0275nextContext(2);l.\u0275\u0275property("id",z.key)("name",z.key)("formControlName",z.key)("placeholder",z.placeholder)("ngStyle",z.style)("value",z.value),l.\u0275\u0275attribute("type",z.type)("disabled",z.disabled?"":null)}}function le(C,O){if(1&C&&l.\u0275\u0275element(0,"textarea",6),2&C){const z=l.\u0275\u0275nextContext(2);l.\u0275\u0275classProp("is-invalid",z.isDirty&&!z.isValid),l.\u0275\u0275property("id",z.key)("name",z.key)("ngStyle",z.style)("value",z.value)("formControlName",z.key)("placeholder",z.placeholder),l.\u0275\u0275attribute("disabled",z.disabled?"":null)}}function Y(C,O){if(1&C&&(l.\u0275\u0275elementStart(0,"section",2),l.\u0275\u0275template(1,$,1,8,"input",3),l.\u0275\u0275template(2,le,1,9,"textarea",4),l.\u0275\u0275elementEnd()),2&C){const z=l.\u0275\u0275nextContext();l.\u0275\u0275property("formGroup",z.formGroup),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",!z.multiline),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",z.multiline)}}function oe(C,O){if(1&C&&l.\u0275\u0275element(0,"input",5),2&C){const z=l.\u0275\u0275nextContext(2);l.\u0275\u0275property("id",z.key)("name",z.key)("formControlName",z.key)("placeholder",z.placeholder)("ngStyle",z.style)("value",z.value),l.\u0275\u0275attribute("disabled",z.disabled?"":null)("type",z.type)}}function ae(C,O){if(1&C&&l.\u0275\u0275element(0,"textarea",6),2&C){const z=l.\u0275\u0275nextContext(2);l.\u0275\u0275classProp("is-invalid",z.isDirty&&!z.isValid),l.\u0275\u0275property("id",z.key)("name",z.key)("ngStyle",z.style)("value",z.value)("formControlName",z.key)("placeholder",z.placeholder),l.\u0275\u0275attribute("disabled",z.disabled?"":null)}}function N(C,O){if(1&C&&(l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275template(1,oe,1,8,"input",3),l.\u0275\u0275template(2,ae,1,9,"textarea",4),l.\u0275\u0275elementContainerEnd()),2&C){const z=l.\u0275\u0275nextContext();l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",!z.multiline),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",z.multiline)}}let R=(()=>{class C{constructor(z){this.dynamicFormBuilderService=z,this.key="",this.type="",this.mask="",this.specialCharacters=[],this.patterns={},this.placeholder="",this.style={}}get isValid(){return this.formGroup.controls[this.key].valid}get isDirty(){return this.formGroup.controls[this.key].dirty}ngOnInit(){this.listenChangesVariablesGlobales()}ngOnDestroy(){this.variablesChanges$?.unsubscribe()}listenChangesVariablesGlobales(){this.variablesChanges$=this.dynamicFormBuilderService.onChangesVariablesChanges().subscribe(()=>{this.value&&this.formGroup.get(this.key)?.setValue(this.dynamicFormBuilderService.getValueInterpolated(this.value))})}}return C.\u0275fac=function(z){return new(z||C)(l.\u0275\u0275directiveInject(F.D))},C.\u0275cmp=l.\u0275\u0275defineComponent({type:C,selectors:[["atom-text-field"]],inputs:{key:"key",type:"type",mask:"mask",disabled:"disabled",specialCharacters:"specialCharacters",value:"value",patterns:"patterns",multiline:"multiline",placeholder:"placeholder",formGroup:"formGroup",style:"style"},decls:2,vars:2,consts:[[3,"formGroup",4,"ngIf"],[4,"ngIf"],[3,"formGroup"],["class","mobilform-input","autocomplete","off",3,"id","name","formControlName","placeholder","ngStyle","value",4,"ngIf"],["rows","4","class","mobilform-textarea","autocomplete","off",3,"is-invalid","id","name","ngStyle","value","formControlName","placeholder",4,"ngIf"],["autocomplete","off",1,"mobilform-input",3,"id","name","formControlName","placeholder","ngStyle","value"],["rows","4","autocomplete","off",1,"mobilform-textarea",3,"id","name","ngStyle","value","formControlName","placeholder"]],template:function(z,ge){1&z&&(l.\u0275\u0275template(0,Y,3,3,"section",0),l.\u0275\u0275template(1,N,3,2,"ng-container",1)),2&z&&(l.\u0275\u0275property("ngIf",ge.formGroup),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",!ge.formGroup))},directives:[H.NgIf,G.JL,G.sg,G.Fj,G.JJ,G.u,H.NgStyle],styles:[".mobilform-input[_ngcontent-%COMP%]{line-height:1.25;padding:.5rem .75rem;border-radius:.25rem;-webkit-appearance:none;-moz-appearance:none;appearance:none;width:100%;border-width:1px;font-size:12px;height:30px}.mobilform-input[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px}.mobilform-textarea[_ngcontent-%COMP%]{line-height:1.25;padding:.5rem .75rem;border-radius:.25rem;-webkit-appearance:none;-moz-appearance:none;appearance:none;width:100%;border-width:1px;font-size:12px}.mobilform-textarea[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px}"]}),C})()},2515:(fe,ie,w)=>{w(7451)},6640:(fe,ie,w)=>{w(7451),w(3192)},9282:(fe,ie,w)=>{w.d(ie,{D:()=>$});var l=w(7451),F=w(3192);const I=function(le){return["shadow-lg rounded-lg",le]},G=["*"];let $=(()=>{class le{constructor(){this.extendedClass="bg-white"}ngOnInit(){}}return le.\u0275fac=function(oe){return new(oe||le)},le.\u0275cmp=l.\u0275\u0275defineComponent({type:le,selectors:[["card-molecule"]],inputs:{extendedClass:"extendedClass"},ngContentSelectors:G,decls:2,vars:3,consts:[[3,"ngClass"]],template:function(oe,ae){1&oe&&(l.\u0275\u0275projectionDef(),l.\u0275\u0275elementStart(0,"section",0),l.\u0275\u0275projection(1),l.\u0275\u0275elementEnd()),2&oe&&l.\u0275\u0275property("ngClass",l.\u0275\u0275pureFunction1(1,I,ae.extendedClass))},directives:[F.NgClass],styles:[".backgroud-red[_ngcontent-%COMP%]{background:red!important}"]}),le})()},290:(fe,ie,w)=>{w.d(ie,{n:()=>le});var l=w(92),d=w(9153),F=w(6483),H=w(7451),G=w(716),$=w(8367);let le=(()=>{class Y{constructor(){this.key="",this.title="",this.formGroup=new l.cw({}),this.elementTheming={},this.schemeComponent=d.s.EnumToObject(F.y)}ngOnInit(){}}return Y.\u0275fac=function(ae){return new(ae||Y)},Y.\u0275cmp=H.\u0275\u0275defineComponent({type:Y,selectors:[["label-checkbox-molecule"]],inputs:{key:"key",title:"title",formGroup:"formGroup",elementTheming:"elementTheming"},decls:3,vars:9,consts:[[1,"mobilform-label-checkbox"],[3,"title","key"],[3,"key","formGroup","label"]],template:function(ae,N){1&ae&&(H.\u0275\u0275elementStart(0,"section",0),H.\u0275\u0275element(1,"label-atom",1),H.\u0275\u0275element(2,"checkbox-atom",2),H.\u0275\u0275elementEnd()),2&ae&&(H.\u0275\u0275advance(1),H.\u0275\u0275styleMap(N.elementTheming[N.schemeComponent.ELEMENT_LABEL]),H.\u0275\u0275property("title",N.title)("key",N.key),H.\u0275\u0275advance(1),H.\u0275\u0275styleMap(N.elementTheming[N.schemeComponent.ELEMENT_CHECKBOX]),H.\u0275\u0275property("key",N.key)("formGroup",N.formGroup)("label",N.title))},directives:[G.J,$.A,l.JL,l.sg],styles:[".mobilform-label-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;height:100%;font-size:.625rem}"]}),Y})()},4206:(fe,ie,w)=>{w.d(ie,{I:()=>ae});var l=w(92),d=w(9153),F=w(6483),H=w(7451),G=w(3192),le=w(7288),Y=w(716);function oe(N,R){if(1&N&&H.\u0275\u0275element(0,"label-atom",2),2&N){const C=H.\u0275\u0275nextContext();H.\u0275\u0275styleMap(C.elementTheming[C.schemeComponent.ELEMENT_LABEL]),H.\u0275\u0275property("title",C.label)("required",C.required)("formGroup",C.formGroup)}}let ae=(()=>{class N{constructor(){this.label="",this.required=!1,this.key="",this.id="",this.options=[],this.formGroup=new l.cw({}),this.fetching={},this.elementTheming={},this.schemeComponent=d.s.EnumToObject(F.y)}ngOnInit(){}}return N.\u0275fac=function(C){return new(C||N)},N.\u0275cmp=H.\u0275\u0275defineComponent({type:N,selectors:[["label-dropdown-molecule"]],inputs:{label:"label",required:"required",key:"key",id:"id",placeholder:"placeholder",options:"options",formGroup:"formGroup",fetching:"fetching",elementTheming:"elementTheming"},decls:2,vars:9,consts:[[3,"title","required","formGroup","style",4,"ngIf"],[3,"key","id","options","placeholder","formGroup","fetching"],[3,"title","required","formGroup"]],template:function(C,O){1&C&&(H.\u0275\u0275template(0,oe,1,5,"label-atom",0),H.\u0275\u0275element(1,"dropdown-atom",1)),2&C&&(H.\u0275\u0275property("ngIf",O.label),H.\u0275\u0275advance(1),H.\u0275\u0275styleMap(O.elementTheming[O.schemeComponent.ELEMENT_DROPDOWN]),H.\u0275\u0275property("key",O.key)("id",O.id)("options",O.options)("placeholder",O.placeholder)("formGroup",O.formGroup)("fetching",O.fetching))},directives:[G.NgIf,le.$,l.JL,l.sg,Y.J],encapsulation:2}),N})()},8307:(fe,ie,w)=>{w.d(ie,{q:()=>G});var l=w(92),d=w(7451),H=w(716),I=w(3818);let G=(()=>{class ${constructor(){this.label="",this.required=!1,this.key="",this.options=[],this.formGroup=new l.cw({})}ngOnInit(){}}return $.\u0275fac=function(Y){return new(Y||$)},$.\u0275cmp=d.\u0275\u0275defineComponent({type:$,selectors:[["label-radio-molecule"]],inputs:{label:"label",required:"required",key:"key",options:"options",formGroup:"formGroup"},decls:2,vars:6,consts:[[3,"title","required","formGroup"],[3,"key","options","formGroup"]],template:function(Y,oe){if(1&Y&&(d.\u0275\u0275element(0,"label-atom",0),d.\u0275\u0275element(1,"radio-atom",1)),2&Y){let ae;d.\u0275\u0275property("title",null!==(ae=oe.label)&&void 0!==ae?ae:"")("required",oe.required)("formGroup",oe.formGroup),d.\u0275\u0275advance(1),d.\u0275\u0275property("key",oe.key)("options",oe.options)("formGroup",oe.formGroup)}},directives:[H.J,l.JL,l.sg,I.t],encapsulation:2}),$})()},8945:(fe,ie,w)=>{w.d(ie,{z:()=>ae});var l=w(9153),d=w(6483),F=w(7451),I=w(3192),$=w(4565),le=w(92),Y=w(716);function oe(N,R){if(1&N&&F.\u0275\u0275element(0,"label-atom",2),2&N){const C=F.\u0275\u0275nextContext();F.\u0275\u0275styleMap(C.elementTheming[C.schemeComponent.ELEMENT_LABEL]),F.\u0275\u0275property("title",C.label)("required",C.required)("formGroup",C.formGroup)}}let ae=(()=>{class N{constructor(){this.label="",this.required=!1,this.disabled=!1,this.multiline=!1,this.placeholder="",this.elementTheming={},this.schemeComponent=l.s.EnumToObject(d.y)}ngOnInit(){}}return N.\u0275fac=function(C){return new(C||N)},N.\u0275cmp=F.\u0275\u0275defineComponent({type:N,selectors:[["label-text-field-moelcule"]],inputs:{label:"label",required:"required",disabled:"disabled",key:"key",type:"type",multiline:"multiline",mask:"mask",specialCharacters:"specialCharacters",patterns:"patterns",placeholder:"placeholder",formGroup:"formGroup",formGroupName:"formGroupName",value:"value",elementTheming:"elementTheming"},decls:2,vars:13,consts:[[3,"title","required","formGroup","style",4,"ngIf"],[3,"key","type","multiline","mask","value","disabled","specialCharacters","patterns","placeholder","formGroup"],[3,"title","required","formGroup"]],template:function(C,O){1&C&&(F.\u0275\u0275template(0,oe,1,5,"label-atom",0),F.\u0275\u0275element(1,"atom-text-field",1)),2&C&&(F.\u0275\u0275property("ngIf",O.label),F.\u0275\u0275advance(1),F.\u0275\u0275styleMap(O.elementTheming[O.schemeComponent.ELEMENT_TEXT]),F.\u0275\u0275property("key",O.key)("type",O.type)("multiline",O.multiline)("mask",O.mask)("value",O.value)("disabled",O.disabled)("specialCharacters",O.specialCharacters)("patterns",O.patterns)("placeholder",O.placeholder)("formGroup",O.formGroup))},directives:[I.NgIf,$.n,le.JL,le.sg,Y.J],encapsulation:2}),N})()},3028:(fe,ie,w)=>{w.d(ie,{c:()=>Y});var l=w(7451),F=w(3965),H=w(3928),I=w(3192);const $=function(oe){return{width:oe}},le=["*"];let Y=(()=>{class oe{constructor(){this.typeElement="",this.bounds={},this.position={x:0,y:0},this.onEmitDimensionPosition=new l.EventEmitter,this.style={},this.dimension={width:F.a[this.typeElement]?.width??0,height:F.a[this.typeElement]?.height??0},this.validate=N=>R=>!(R.rectangle.width&&R.rectangle.height&&R.rectangle.width<F.a[N].width)}get minWidth(){return F.a[this.typeElement].width}ngOnInit(){}emmitResize(N){this.dimension={width:N.size?.width,height:N.size?.height},this.onEmitDimensionPosition.emit({...this.position,width:N.size?.width??0,height:N.size?.height??0})}emmitPosition(N){this.onEmitDimensionPosition.emit({...this.dimension,x:N.x,y:N.y})}}return oe.\u0275fac=function(N){return new(N||oe)},oe.\u0275cmp=l.\u0275\u0275defineComponent({type:oe,selectors:[["resize-wrapper-molecule"]],inputs:{typeElement:"typeElement",bounds:"bounds",position:"position",dimension:"dimension"},outputs:{onEmitDimensionPosition:"onEmitDimensionPosition"},ngContentSelectors:le,decls:10,vars:14,consts:[["ngDraggable","","ngResizable","",1,"wrapper-element",3,"bounds","inBounds","handle","gridSize","zIndex","position","preventDefaultEvent","rzGrid","rzHandles","rzContainment","rzMinWidth","ngStyle","endOffset","rzStop"],[1,"wrapper-element__content"],[1,"drag-grid"],["handle",""],[1,"box-resize_wrapper"],[1,"box-resize","box-resize--border-top"],[1,"box-resize","box-resize--border-bottom"],[1,"box-resize","box-resize--border-left"],[1,"box-resize","box-resize--border-right"]],template:function(N,R){if(1&N&&(l.\u0275\u0275projectionDef(),l.\u0275\u0275elementStart(0,"section",0),l.\u0275\u0275listener("endOffset",function(O){return R.emmitPosition(O)})("rzStop",function(O){return R.emmitResize(O)}),l.\u0275\u0275elementStart(1,"div",1),l.\u0275\u0275elementStart(2,"div",2,3),l.\u0275\u0275projection(4),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(5,"div",4),l.\u0275\u0275element(6,"div",5),l.\u0275\u0275element(7,"div",6),l.\u0275\u0275element(8,"div",7),l.\u0275\u0275element(9,"div",8),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&N){const C=l.\u0275\u0275reference(3);l.\u0275\u0275property("bounds",R.bounds)("inBounds",!0)("handle",C)("gridSize",10)("zIndex","100")("position",R.position)("preventDefaultEvent",!0)("rzGrid",10)("rzHandles","w,e")("rzContainment",R.bounds)("rzMinWidth",R.minWidth)("ngStyle",l.\u0275\u0275pureFunction1(12,$,R.dimension.width+"px"))}},directives:[H.Zc,H.OI,I.NgStyle],styles:[".rectangle[_ngcontent-%COMP%]{position:relative;width:max-content;height:max-content;border:2px dashed gray;outline-offset:5px}.resize-handle-top[_ngcontent-%COMP%], .resize-handle-bottom[_ngcontent-%COMP%], .resize-handle-left[_ngcontent-%COMP%], .resize-handle-right[_ngcontent-%COMP%]{position:absolute;height:12px;width:12px;background-color:#00f;border-radius:50rem}.resize-handle-top[_ngcontent-%COMP%]{top:-6px;left:50%;cursor:row-resize}.resize-handle-bottom[_ngcontent-%COMP%]{bottom:-6px;left:50%;cursor:row-resize}.resize-handle-left[_ngcontent-%COMP%]{left:-6px;top:50%;cursor:col-resize}.resize-handle-right[_ngcontent-%COMP%]{right:-6px;top:50%;cursor:col-resize}.content[_ngcontent-%COMP%]{height:-webkit-fill-available}.drag-grid[_ngcontent-%COMP%]{width:100%;height:100%}.wrapper-element[_ngcontent-%COMP%]{position:absolute}.box-resize_wrapper[_ngcontent-%COMP%]{width:100px}.box-resize[_ngcontent-%COMP%]{border:0 #0372d2 solid;position:absolute}.wrapper-element__content[_ngcontent-%COMP%]{padding:10px;position:relative}.box-resize--border-top[_ngcontent-%COMP%]{border-top-width:1px;left:0;top:0;transform:translate(-.5px,-.5px) scaleY(1.1);width:calc(100% + 1px)}.box-resize--border-bottom[_ngcontent-%COMP%]{border-bottom-width:1px;left:0;bottom:0;transform:translate(-.5px,.5px) scaleY(1.1);width:calc(100% + 1px)}.box-resize--border-right[_ngcontent-%COMP%]{border-right-width:1px;height:calc(100% + 1px);right:0;top:0;transform:translate(.5px,-.5px) scaleX(1.1)}.box-resize--border-left[_ngcontent-%COMP%]{border-left-width:1px;height:calc(100% + 1px);left:0;top:0;transform:translate(-.5px,-.5px) scaleX(1.1)}.box-resize_point-resize[_ngcontent-%COMP%]{background-color:#fff;border:1px solid blue;border-radius:4px;box-shadow:0 2px 6px #0000000a;height:8px;width:8px;margin:-4px;pointer-events:auto;position:absolute;z-index:2}.box-resize_point-resize-widget[_ngcontent-%COMP%]{cursor:ew-resize;width:7px;height:30px;margin:0;max-height:80%;min-height:7px;top:50%}.box-resize_point-resize--rigth[_ngcontent-%COMP%]{right:0;transform:translate(50%,-50%)}.box-resize_point-resize--left[_ngcontent-%COMP%]{left:0;transform:translate(-50%,-50%)}"]}),oe})()},3965:(fe,ie,w)=>{w.d(ie,{a:()=>F});var l=w(6483);const d={width:200,height:100},F={[l.y.ELEMENT_TEXT]:{...d},[l.y.ELEMENT_DATE]:{...d},[l.y.ELEMENT_DROPDOWN]:{...d},[l.y.ELEMENT_RADIO]:{...d},[l.y.ELEMENT_CHECKBOX]:{...d},[l.y.ELEMENT_FILE]:{...d},[l.y.ELEMENT_LABEL]:{...d},[l.y.ELEMENT_BUTTON]:{...d},[l.y.ELEMENT_TABLE]:{width:400,height:200}}},7617:(fe,ie,w)=>{w(7451),w(3192)},1593:(fe,ie,w)=>{w.d(ie,{_:()=>le});var l=w(7451),F=w(3192),I=w(8213),G=w(2042);function $(Y,oe){1&Y&&l.\u0275\u0275element(0,"icon-mobilform-svg",3),2&Y&&l.\u0275\u0275property("dimension",328)}let le=(()=>{class Y{constructor(){this.description="Cargando informaci\xf3n.",this.showSvg=!0}ngOnInit(){}}return Y.\u0275fac=function(ae){return new(ae||Y)},Y.\u0275cmp=l.\u0275\u0275defineComponent({type:Y,selectors:[["splash-view-organism"]],inputs:{description:"description",showSvg:"showSvg"},decls:6,vars:2,consts:[[1,"mobilform-splash-view"],[3,"dimension",4,"ngIf"],[1,"mobilform-splash-view__description"],[3,"dimension"]],template:function(ae,N){1&ae&&(l.\u0275\u0275elementStart(0,"section",0),l.\u0275\u0275template(1,$,1,1,"icon-mobilform-svg",1),l.\u0275\u0275elementStart(2,"section",2),l.\u0275\u0275element(3,"spiner-atom"),l.\u0275\u0275elementStart(4,"span"),l.\u0275\u0275text(5),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&ae&&(l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",N.showSvg),l.\u0275\u0275advance(4),l.\u0275\u0275textInterpolate(N.description))},directives:[F.NgIf,I.J,G.q],styles:[".mobilform-splash-view[_ngcontent-%COMP%]{height:100vh;width:100%;display:flex;justify-content:center;align-items:center;flex-flow:column;background-color:#363636}.mobilform-splash-view__description[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-flow:column}.mobilform-splash-view__description[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-weight:700;font-size:18px;color:#fff;margin-top:1rem}"]}),Y})()},4877:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{f:()=>TableOrganism});var tabulator_tables__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2885),_angular_forms__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(92),projects_mf_components_src_utils_string_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(754),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7451),_angular_core__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_angular_core__WEBPACK_IMPORTED_MODULE_0__),_dynamic_form_builder_dynamic_form_builder_model_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(325);const _c0=["idTableTabulator"];let TableOrganism=(()=>{class TableOrganism{constructor(fe){this.dynamicFormBuilderService=fe,this.header=[],this.records=[],this.value="",this.style={},this.fetching={},this.tableSettingFormDynamic=new _angular_forms__WEBPACK_IMPORTED_MODULE_2__.cw({groupBy:new _angular_forms__WEBPACK_IMPORTED_MODULE_2__.NI("")}),this.groupByOption=[]}ngOnInit(){this.tableSettingFormDynamicSubscription$=this.tableSettingFormDynamic.valueChanges.subscribe(fe=>{this.tableReference.setGroupBy(fe.groupBy)}),this.listenChangesResponseFetchingElement(),"onInit"===this.fetching?.typEvent&&this.onInitMethod()}ngOnDestroy(){this.tableSettingFormDynamicSubscription$.unsubscribe(),this.responseFetchingElement$.unsubscribe()}ngOnChanges(fe){this.drawTable()}getDataRow(fe,ie){return ie.find(w=>w.key===fe)}listenChangesResponseFetchingElement(){this.responseFetchingElement$=this.dynamicFormBuilderService.onChangesResponseFetchingElement().subscribe(fe=>{fe.identifierElement===this.key&&(this.dynamicFormBuilderService.assignValueVariableWithKey(this.fetching?.variable??"",fe.response),this.assignValue())})}onInitMethod(){this.dynamicFormBuilderService.emmitFetchingElement({...this.fetching,identifierElement:this.key})}drawTable(){this.tableReference=new tabulator_tables__WEBPACK_IMPORTED_MODULE_3__.Ae(this.idTableTabulator.nativeElement,{data:this.records??[],reactiveData:!0,columns:this.header?.map(fe=>({title:fe.label,field:fe.key}))??[],groupBy:void 0,layout:"fitColumns",height:"300px",paginationMode:"local",pagination:!0,paginationSize:6,paginationSizeSelector:[3,6,8,10],movableColumns:!0,debugInvalidOptions:!1}),document?.getElementById("my-tabular-table")?.appendChild(this.idTableTabulator.nativeElement)}assignValue(){this.tableReference.setData(eval(`this.dynamicFormBuilderService.variables?.${projects_mf_components_src_utils_string_utils__WEBPACK_IMPORTED_MODULE_4__.r.getValueBetweenTwoCharacters(this.value??"","{{","}}")}`))}}return TableOrganism.\u0275fac=function fe(ie){return new(ie||TableOrganism)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(_dynamic_form_builder_dynamic_form_builder_model_service__WEBPACK_IMPORTED_MODULE_1__.D))},TableOrganism.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineComponent({type:TableOrganism,selectors:[["table-organism"]],viewQuery:function fe(ie,w){if(1&ie&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275viewQuery(_c0,7),2&ie){let l;_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275queryRefresh(l=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275loadQuery())&&(w.idTableTabulator=l.first)}},inputs:{key:"key",header:"header",records:"records",value:"value",style:"style",fetching:"fetching"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275NgOnChangesFeature],decls:2,vars:1,consts:[[3,"id"],["idTableTabulator",""]],template:function fe(ie,w){1&ie&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275element(0,"div",0,1),2&ie&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275property("id",w.key)},encapsulation:2}),TableOrganism})()},82:(fe,ie,w)=>{var l=w(6483),d=w(6132);const F=[{key:l.y.ELEMENT_LABEL,title:"Label",icon:"title",type:d.ae.BASIC,visible:!0},{key:l.y.ELEMENT_TEXT,title:"Text Field",icon:"text_fields",type:d.ae.BASIC,visible:!0},{key:l.y.ELEMENT_BUTTON,title:"Button",icon:"smart_button",type:d.ae.BASIC,visible:!0},{key:l.y.ELEMENT_DROPDOWN,title:"Dropdown",icon:"list_alt",type:d.ae.BASIC,visible:!0},{key:l.y.ELEMENT_TABLE,title:"Table",icon:"table_view",type:d.ae.BASIC,visible:!0},{key:l.y.ELEMENT_CHECKBOX,title:"Checkbox",icon:"check_box",type:d.ae.BASIC,visible:!0},{key:l.y.ELEMENT_RADIO,title:"Radio",icon:"radio_button_checked",type:d.ae.BASIC,visible:!0},{key:l.y.ELEMENT_DATE,title:"Date Input",icon:"event",type:d.ae.BASIC,visible:!0},{key:l.y.ELEMENT_ROW,title:"Row",icon:"table_rows",type:d.ae.LAYOUT,visible:!0}];F.filter(I=>I.type===d.ae.BASIC).map(I=>I.key),F.filter(I=>I.type===d.ae.LAYOUT).map(I=>I.key)},6893:(fe,ie,w)=>{w.d(ie,{s:()=>yt}),w(7451),w(82),w(2186),w(5387),w(8433),w(7617),w(3192),w(2515),w(6640),w(6322),w(4565),w(8797),w(3638),w(2263),w(8945),w(6811),w(716),w(9435),w(846);const yt="tools-elements-list"},6132:(fe,ie,w)=>{w.d(ie,{ae:()=>l});var l=(()=>{return(I=l||(l={})).BASIC="basic",I.LAYOUT="layout",I.CUSTOM="custom",l;var I})()},6846:(fe,ie,w)=>{w.r(ie),w.d(ie,{DynamicFormBuilderComponent:()=>Rt});var l=w(4350),d=w(7451),H=w(92),I=w(824),$=w(6893),le=w(2019),Y=w(6483),oe=w(952),ae=w(5033),R=w(3965),C=w(2898),O=w(5387),z=w(325),ge=w(3192),Ye=w(1593),Xe=w(3028),Ze=w(3331),ye=w(9282),Ge=w(8824);function $e(de,We){1&de&&d.\u0275\u0275element(0,"splash-view-organism",10),2&de&&d.\u0275\u0275property("showSvg",!1)("description","building form")}function ze(de,We){if(1&de&&d.\u0275\u0275elementContainer(0,11),2&de){const W=d.\u0275\u0275nextContext(),pe=d.\u0275\u0275reference(6),ve=d.\u0275\u0275reference(10);d.\u0275\u0275property("ngTemplateOutlet",W.modeGridPosition?pe:ve)}}function Pe(de,We){if(1&de){const W=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"section",15),d.\u0275\u0275listener("cdkDropListDropped",function(ve){return d.\u0275\u0275restoreView(W),d.\u0275\u0275nextContext(2).drop(ve)}),d.\u0275\u0275text(1,"Drop zone"),d.\u0275\u0275elementEnd()}if(2&de){const W=d.\u0275\u0275nextContext(2);d.\u0275\u0275property("id","gridZone")("cdkDropListData",W.getKeyFields())}}function ee(de,We){if(1&de){const W=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"pan-zoom",16),d.\u0275\u0275listener("modelChanged",function(ve){return d.\u0275\u0275restoreView(W),d.\u0275\u0275nextContext(2).modelChanged(ve)}),d.\u0275\u0275elementContainer(1,11),d.\u0275\u0275elementEnd()}if(2&de){const W=d.\u0275\u0275nextContext(2),pe=d.\u0275\u0275reference(8);d.\u0275\u0275property("config",W.panZoomConfig),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngTemplateOutlet",pe)}}function se(de,We){if(1&de&&d.\u0275\u0275elementContainer(0,11),2&de){d.\u0275\u0275nextContext(2);const W=d.\u0275\u0275reference(8);d.\u0275\u0275property("ngTemplateOutlet",W)}}const we=function(de){return[de]};function ce(de,We){if(1&de&&(d.\u0275\u0275template(0,Pe,2,2,"section",12),d.\u0275\u0275elementStart(1,"section",13),d.\u0275\u0275template(2,ee,2,2,"pan-zoom",14),d.\u0275\u0275template(3,se,1,1,"ng-container",4),d.\u0275\u0275elementEnd()),2&de){const W=d.\u0275\u0275nextContext();d.\u0275\u0275property("ngIf",W.modeGridPosition&&!W.modeBuildProduction),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngClass",d.\u0275\u0275pureFunction1(4,we,W.modeBuildProduction?"":"wrapper-grid")),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",!W.modeBuildProduction),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",W.modeBuildProduction)}}function Ne(de,We){1&de&&d.\u0275\u0275element(0,"section",21)}const Me=function(){return{x:0,y:0}},Ve=function(){return{width:0,height:0}},j=function(de,We,W){return{fieldString:de,keyRow:null,columKey:null,elemenType:We,propertiesStyle:W}};function q(de,We){if(1&de){const W=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"section"),d.\u0275\u0275elementStart(1,"resize-wrapper-molecule",25),d.\u0275\u0275listener("onEmitDimensionPosition",function(ve){d.\u0275\u0275restoreView(W);const Le=d.\u0275\u0275nextContext().$implicit;return d.\u0275\u0275nextContext(2).onSaveDimensionElement(ve,Le.key)}),d.\u0275\u0275elementStart(2,"section",26),d.\u0275\u0275elementContainer(3,27),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}if(2&de){const W=d.\u0275\u0275nextContext().$implicit;d.\u0275\u0275nextContext();const pe=d.\u0275\u0275reference(1);d.\u0275\u0275nextContext();const ve=d.\u0275\u0275reference(14);let Le,qe;d.\u0275\u0275advance(1),d.\u0275\u0275property("bounds",pe)("position",null!==(Le=null==W||null==W.propertiesStyle?null:W.propertiesStyle.position)&&void 0!==Le?Le:d.\u0275\u0275pureFunction0(6,Me))("dimension",null!==(qe=null==W||null==W.propertiesStyle?null:W.propertiesStyle.dimensions)&&void 0!==qe?qe:d.\u0275\u0275pureFunction0(7,Ve))("typeElement",W.type),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngTemplateOutlet",ve)("ngTemplateOutletContext",d.\u0275\u0275pureFunction3(8,j,W.key,W.type,W.propertiesStyle))}}const _e=function(de,We,W){return{fieldString:de,elemenType:We,propertiesStyle:W}};function Ee(de,We){if(1&de&&d.\u0275\u0275elementContainer(0,27),2&de){const W=d.\u0275\u0275nextContext().$implicit;d.\u0275\u0275nextContext(2);const pe=d.\u0275\u0275reference(14);d.\u0275\u0275property("ngTemplateOutlet",pe)("ngTemplateOutletContext",d.\u0275\u0275pureFunction3(2,_e,W.key,W.type,W.propertiesStyle))}}const Oe=function(de,We){return{position:"absolute",padding:"10px",top:de,left:We}};function Je(de,We){if(1&de&&(d.\u0275\u0275elementStart(0,"section"),d.\u0275\u0275template(1,q,4,12,"section",22),d.\u0275\u0275elementStart(2,"section",23),d.\u0275\u0275template(3,Ee,1,6,"ng-container",24),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()),2&de){const W=We.$implicit,pe=d.\u0275\u0275nextContext(2);d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",!pe.modeBuildProduction),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngStyle",d.\u0275\u0275pureFunction2(3,Oe,(null==W.propertiesStyle.position?null:W.propertiesStyle.position.y)+"px",(null==W.propertiesStyle.position?null:W.propertiesStyle.position.x)+"px")),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",pe.modeBuildProduction)}}function rt(de,We){if(1&de&&(d.\u0275\u0275elementStart(0,"section",17,18),d.\u0275\u0275template(2,Ne,1,0,"section",19),d.\u0275\u0275template(3,Je,4,6,"section",20),d.\u0275\u0275elementEnd()),2&de){const W=d.\u0275\u0275nextContext();d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",!W.modeBuildProduction),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",W.fields)}}function at(de,We){if(1&de){const W=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"section",33),d.\u0275\u0275elementStart(1,"mat-icon",34),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(W);const ve=d.\u0275\u0275nextContext().$implicit;return d.\u0275\u0275nextContext(2).removeColumn(ve.key)}),d.\u0275\u0275text(2,"remove"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(3,"mat-icon",34),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(W);const ve=d.\u0275\u0275nextContext().$implicit;return d.\u0275\u0275nextContext(2).addColumn(ve.key)}),d.\u0275\u0275text(4,"add"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(5,"mat-icon",35),d.\u0275\u0275text(6,"drag_indicator"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}}const ht=function(de){return{"border border-red-400 hover:border-dotted hover:border-2 p-2 m":de}},Ct=function(de,We,W){return{keyRow:de,schemaLayout:We,numberColumns:W}};function yt(de,We){if(1&de&&(d.\u0275\u0275elementStart(0,"div",31),d.\u0275\u0275elementStart(1,"section",13),d.\u0275\u0275elementContainer(2,27),d.\u0275\u0275template(3,at,7,0,"section",32),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()),2&de){const W=We.$implicit,pe=d.\u0275\u0275nextContext(2),ve=d.\u0275\u0275reference(12);d.\u0275\u0275property("cdkDragDisabled",pe.modeBuildProduction)("cdkDragData",W)("id",W.key),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngClass",d.\u0275\u0275pureFunction1(7,ht,!pe.modeBuildProduction)),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngTemplateOutlet",ve)("ngTemplateOutletContext",d.\u0275\u0275pureFunction3(9,Ct,W.key,W.schemaLayout,W.numberColumns)),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",!pe.modeBuildProduction)}}function pt(de,We){if(1&de){const W=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"form",28),d.\u0275\u0275elementStart(1,"section",29),d.\u0275\u0275listener("cdkDropListDropped",function(ve){return d.\u0275\u0275restoreView(W),d.\u0275\u0275nextContext().dropLayout(ve)}),d.\u0275\u0275template(2,yt,4,13,"div",30),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}if(2&de){const W=d.\u0275\u0275nextContext();d.\u0275\u0275property("formGroup",W.formGroup),d.\u0275\u0275advance(1),d.\u0275\u0275property("cdkDropListData",W.schemeColumns),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",W.schemeColumns)}}const Te=function(de,We,W){return{fieldString:de,keyRow:We,columKey:W}};function ke(de,We){if(1&de&&(d.\u0275\u0275elementStart(0,"card-molecule",42),d.\u0275\u0275elementContainer(1,27),d.\u0275\u0275elementEnd()),2&de){const W=d.\u0275\u0275nextContext().$implicit,pe=d.\u0275\u0275nextContext().$implicit,ve=d.\u0275\u0275nextContext().keyRow,Le=d.\u0275\u0275nextContext(),qe=d.\u0275\u0275reference(14);d.\u0275\u0275property("extendedClass","bg-white m-2"+((null==Le.selectedFieldProperties?null:Le.selectedFieldProperties.selectedFieldKey)===W?" border-2 border-black border-dotted ":"")),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngTemplateOutlet",qe)("ngTemplateOutletContext",d.\u0275\u0275pureFunction3(3,Te,W,ve,pe.key))}}const te=function(de){return{fieldString:de}};function Se(de,We){if(1&de&&d.\u0275\u0275elementContainer(0,27),2&de){const W=d.\u0275\u0275nextContext().$implicit;d.\u0275\u0275nextContext(3);const pe=d.\u0275\u0275reference(14);d.\u0275\u0275property("ngTemplateOutlet",pe)("ngTemplateOutletContext",d.\u0275\u0275pureFunction1(2,te,W))}}function He(de,We){if(1&de&&(d.\u0275\u0275elementStart(0,"div",40),d.\u0275\u0275template(1,ke,2,7,"card-molecule",41),d.\u0275\u0275template(2,Se,1,4,"ng-container",24),d.\u0275\u0275elementEnd()),2&de){const W=We.$implicit,pe=d.\u0275\u0275nextContext(3);d.\u0275\u0275property("cdkDragData",W)("cdkDragDisabled",pe.modeBuildProduction),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",!pe.modeBuildProduction),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",pe.modeBuildProduction)}}function Qe(de,We){if(1&de){const W=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"section",38),d.\u0275\u0275listener("cdkDropListDropped",function(ve){return d.\u0275\u0275restoreView(W),d.\u0275\u0275nextContext(2).drop(ve)}),d.\u0275\u0275template(1,He,3,4,"div",39),d.\u0275\u0275elementEnd()}if(2&de){const W=We.$implicit,pe=d.\u0275\u0275nextContext(2);d.\u0275\u0275property("id",W.key)("cdkDropListData",W.schemaColums)("cdkDropListConnectedTo",pe.connectColumnList),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",W.schemaColums)}}function nt(de,We){if(1&de&&(d.\u0275\u0275elementStart(0,"div",36),d.\u0275\u0275template(1,Qe,2,4,"section",37),d.\u0275\u0275elementEnd()),2&de){const W=We.schemaLayout;d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",W)}}function dt(de,We){if(1&de){const W=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",46),d.\u0275\u0275elementStart(1,"section",47),d.\u0275\u0275elementStart(2,"mat-icon",48),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(W);const ve=d.\u0275\u0275nextContext(),Le=ve.fieldString,qe=ve.keyRow,_t=ve.columKey;return d.\u0275\u0275nextContext().openSettings(Le,qe,_t)}),d.\u0275\u0275text(3,"settings"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(4,"mat-icon",48),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(W);const ve=d.\u0275\u0275nextContext().fieldString;return d.\u0275\u0275nextContext().removeElement(ve)}),d.\u0275\u0275text(5,"delete"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}}const gt=function(de){return{minHeight:"auto",width:de,height:"auto",maxWidth:"-webkit-fill-available",maxHeight:"-webkit-fill-available"}};function Mt(de,We){if(1&de&&(d.\u0275\u0275elementStart(0,"section",43),d.\u0275\u0275template(1,dt,6,0,"div",44),d.\u0275\u0275elementStart(2,"section",23),d.\u0275\u0275element(3,"field-builder",45),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()),2&de){const W=We.fieldString,pe=We.propertiesStyle,ve=d.\u0275\u0275nextContext();d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",!ve.modeBuildProduction),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngStyle",d.\u0275\u0275pureFunction1(4,gt,ve.modeGridPosition?pe.dimensions.width+"px":"auto")),d.\u0275\u0275advance(1),d.\u0275\u0275property("field",ve.getField(W))("formGroup",ve.formGroup)}}let Rt=(()=>{class de{constructor(W,pe){this.FormBuilderService=W,this.dynamicFormBuilderService=pe,this.fields=[],this.schemeColumns=[],this.generalSetting=new oe.gk,this.modeBuildProduction=!1,this.modeGridPosition=!0,this.onSubmit=new d.EventEmitter,this.onShareConnectColumnList=new d.EventEmitter,this.formGroup=new H.cw({}),this.connectColumnList=[],this.formIsReady=!1,this.selectedFieldKey="",this._idListToolElement=$.s,this.minDimenssionAllowed=R.a,this.panZoomConfig=new C.ke({zoomLevels:5,initialZoomLevel:.9,neutralZoomLevel:1,scalePerZoomLevel:2,zoomStepDuration:.2,freeMouseWheelFactor:.001,zoomToFitZoomLevelFactor:.9,dragMouseButton:"left"})}modelChanged(W){console.log(W)}ngOnInit(){this.formIsReady=!1,this.initializeSubscriptions(),this.initializeFormBuilder()}ngOnDestroy(){this.formBuilderSubscription$?.unsubscribe(),this.formToggleSubscription$?.unsubscribe(),this.buttonButtonTriggerEventTypeSubscription$?.unsubscribe(),this.fetchingSubscription$?.unsubscribe(),this.fetchingElement$.unsubscribe(),this.formBuilderValuesSubscription$.unsubscribe()}ngOnChanges(W){W?.fields?.isFirstChange()||(this.formIsReady=!1,this.initializeFormBuilder()),this.dynamicFormBuilderService.generalSetting=W.generalSetting?.currentValue}initializeSubscriptions(){this.listenChangesFormBuilder(),this.listenChangesButtonTriggerEventType(),this.listenChangesFetchingElement(),this.listenChangesFormBuilderValues()}listenChangesFormBuilder(){this.formBuilderSubscription$=this.FormBuilderService.onChangesField().pipe((0,ae.debounceTime)(1e3)).subscribe(({keyModified:W,field:pe,newKey:ve})=>{const Le=this.fields.findIndex(ct=>ct.key===W);this.fields[Le]={...pe};const{keyRow:qe,columKey:_t}=this.selectedFieldProperties;if(qe&&_t){const ct=this.schemeColumns.findIndex(S=>S.key===qe),ue=this.schemeColumns[ct].schemaLayout.findIndex(S=>S.key===_t),V=this.schemeColumns[ct].schemaLayout[ue].schemaColums.indexOf(W??"");this.schemeColumns[ct].schemaLayout[ue].schemaColums[V]=ve}this.openSettings(ve,qe,_t),this.initializeFormBuilder()})}listenChangesButtonTriggerEventType(){this.buttonButtonTriggerEventTypeSubscription$=this.dynamicFormBuilderService.onChangesButtonButtonTriggerEventType().subscribe(({eventType:W,key:pe,fetching:ve})=>{this.onButtonEventTypeInvoke({eventType:W,key:pe,fetching:ve})})}listenChangesFetchingElement(){this.fetchingElement$=this.dynamicFormBuilderService.onChangesFetchingElement().subscribe(({urlFetching:W,method:pe,identifierElement:ve})=>{W&&ve&&this.onFetching({url:W,method:pe??"GET",identifierElement:ve})})}listenChangesFormBuilderValues(){this.formBuilderValuesSubscription$=this.formGroup.valueChanges.subscribe(W=>{const pe=Object.keys(W).reduce((ve,Le)=>({...ve,["form_"+Le]:W[Le]}),{});this.dynamicFormBuilderService.loadVariables(pe)})}initializeFormBuilder(){this.buildForm().pipe((0,ae.delay)(0)).subscribe({complete:()=>{this.sharedConnectList(),this.formIsReady=!0}})}sharedConnectList(){this.connectColumnList=this.getListConnectColums(),this.FormBuilderService.emmitSharedConnectList(this.connectColumnList)}getKeyFields(){return this.fields.map(W=>W.key)}noElementsForm(){return[Y.y.ELEMENT_LABEL,Y.y.ELEMENT_BUTTON]}buildForm(W){return new I.Observable(pe=>{this.formGroup=new H.cw({});const ve=[...this.fields];W&&ve.push(W);const Le=new H.cw({});for(const qe of ve)this.noElementsForm().includes(qe.type)||Le.addControl(qe.key,new H.NI(qe?.value,qe.required?H.kI.required:null));this.formGroup=Le,this.listenChangesFormBuilderValues(),pe.complete()})}removeElement(W){const pe=this.fields.findIndex(ve=>ve.key===W);this.fields.splice(pe,1),this.buildForm().pipe((0,ae.delay)(1e3)).subscribe({complete:()=>{this.sharedConnectList()}})}drop(W){if(this.comeFromToolElements(W.previousContainer.id)){const pe=W.item.data,ve=`${pe}${Date.now()}`,Le=(0,le.f)(ve,pe);this.buildForm(Le).subscribe({complete:()=>{this.fields.push(Le),W.container.data.push(ve)}})}else if(W.previousContainer===W.container?(0,l.bA)(W.previousContainer.data,W.previousIndex,W.currentIndex):(0,l.EA)(W.previousContainer.data,W.container.data,W.previousIndex,W.currentIndex),this.modeGridPosition){const pe=this.fields?.findIndex(ve=>ve.key===W.item.data);this.fields[pe].propertiesStyle.position=W.distance}}dropLayout(W){this.comeFromToolElements(W.previousContainer.id)?this.addNewRow():(0,l.bA)(W.container.data,W.previousIndex,W.currentIndex)}addNewRow(){this.schemeColumns.push({key:`row${this.schemeColumns.length+2}`,numberColumns:1,schemaLayout:[{key:`row${this.schemeColumns.length+2}Column`,schemaColums:[]}]}),this.sharedConnectList()}addColumn(W){const pe=this.schemeColumns?.find(ve=>ve.key===W)??new oe.bn;pe.numberColumns=(pe?.numberColumns??0)+1,pe.schemaLayout.push({key:`${pe.key}Column${Date.now()}`,schemaColums:[]}),this.sharedConnectList()}removeColumn(W){const pe=this.schemeColumns?.find(ve=>ve.key===W)??new oe.bn;pe.numberColumns=(pe?.numberColumns??0)-1,pe.schemaLayout.pop(),this.sharedConnectList()}getField(W){return this.fields.find(pe=>pe.key===W)??new oe.K7}getListConnectColums(){return this.schemeColumns.reduce((pe,ve)=>[...pe,...ve?.schemaLayout.map(Le=>Le.key)],[])}openSettings(W,pe,ve){this.selectedFieldKey=W,this.selectedFieldProperties={selectedFieldKey:W,keyRow:pe,columKey:ve},this.FormBuilderService.emmitFieldKey(W)}comeFromToolElements(W){return W===$.s}onButtonEventTypeInvoke({eventType:W,key:pe,fetching:ve}){switch(W){case oe.Ku.SUBMIT:console.log(oe.Ku.SUBMIT,this.formGroup.value,this.fields);break;case oe.Ku.FETCHING:const Le=Object.keys(ve.keys??{}).filter(v=>ve.keys?.[v]),qe=Le.reduce((v,m)=>({...v,[m]:this.formGroup.value[m]}),{});this.onFetching({url:ve?.urlFetching??"",data:qe,method:"POST"});for(const v of Le)this.formGroup.get(v)?.reset();break;case oe.Ku.FILL_DATATABLE:const _t=this.fields.find(v=>v.key===pe),ct=_t?.data?.fieldReference.keyTable,V=_t?.data?.fieldReference.reference?.reduce((v,m)=>({...v,[m.columnReference]:this.formGroup.value[m.fieldReference]}),{}),S=this.fields.findIndex(v=>v.key===ct);"records"in this.fields[S]||(this.fields[S]={...this.fields[S],records:[]}),this.fields[S].records?.push(V)}}onFetching({url:W,data:pe,method:ve,identifierElement:Le}){const qe=this.dynamicFormBuilderService.getValueInterpolated(W);this.fetchingSubscription$=this.dynamicFormBuilderService.onFetchingMethod({baseUrl:this.generalSetting.endpointUrlBase,endpoint:qe,method:ve,data:pe??{},headers:{}}).subscribe(_t=>{this.dynamicFormBuilderService.emmitResponseFetchingElement({response:_t,identifierElement:Le})})}computeDragRenderPos(W,pe){return{x:1*Math.floor(W.x/1),y:1*Math.floor(W.y/1)}}getPosition(W){if(W.source.data){const pe=this.fields.findIndex(ve=>ve.key===W.source.data);this.fields[pe].propertiesStyle.position=W.source.getFreeDragPosition()}}onSaveDimensionElement(W,pe){const ve=this.fields.findIndex(Le=>Le.key===pe);this.fields[ve].propertiesStyle.position={x:W.x,y:W.y},this.fields[ve].propertiesStyle.dimensions={width:W.width,height:W.height}}}return de.\u0275fac=function(W){return new(W||de)(d.\u0275\u0275directiveInject(O.c),d.\u0275\u0275directiveInject(z.D))},de.\u0275cmp=d.\u0275\u0275defineComponent({type:de,selectors:[["dynamic-form-builder"]],inputs:{fields:"fields",schemeColumns:"schemeColumns",generalSetting:"generalSetting",modeBuildProduction:"modeBuildProduction",modeGridPosition:"modeGridPosition"},outputs:{onSubmit:"onSubmit",onShareConnectColumnList:"onShareConnectColumnList"},features:[d.\u0275\u0275NgOnChangesFeature],decls:15,vars:2,consts:[[1,"dynamic-form-builder-general"],[3,"showSvg","description",4,"ngIf"],[2,"position","relative","width","100%","height","100%"],[2,"position","absolute","top","0","bottom","0","left","0","right","0"],[3,"ngTemplateOutlet",4,"ngIf"],["formFreeLayout",""],["contentCanvas",""],["formGridLayout",""],["columContainerElements",""],["formElementComponent",""],[3,"showSvg","description"],[3,"ngTemplateOutlet"],["class","border-2 border-black border-dotted w-full","cdkDropList","",3,"id","cdkDropListData","cdkDropListDropped",4,"ngIf"],[3,"ngClass"],[3,"config","modelChanged",4,"ngIf"],["cdkDropList","",1,"border-2","border-black","border-dotted","w-full",3,"id","cdkDropListData","cdkDropListDropped"],[3,"config","modelChanged"],["id","boundary",1,"grid-container"],["boundary",""],["class","grid-container__grid-figure--horizontal",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"grid-container__grid-figure--horizontal"],[4,"ngIf"],[3,"ngStyle"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"bounds","position","dimension","typeElement","onEmitDimensionPosition"],[1,"handler-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["cdkDropListGroup","",3,"formGroup"],["id","layout-builder-section","cdkDropList","",1,"p-4",3,"cdkDropListData","cdkDropListDropped"],["cdkDrag","","class","mb-2",3,"cdkDragDisabled","cdkDragData","id",4,"ngFor","ngForOf"],["cdkDrag","",1,"mb-2",3,"cdkDragDisabled","cdkDragData","id"],["class","border-t py flex justify-end",4,"ngIf"],[1,"border-t","py","flex","justify-end"],[1,"text-slate-400","cursor-pointer",3,"click"],["cdkDragHandle","",1,"text-slate-400","cursor-move"],["cdkDropListGroup","",1,"grid","grid-cols-auto-fit"],["class","border w-full","cdkDropList","",3,"id","cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped",4,"ngFor","ngForOf"],["cdkDropList","",1,"border","w-full",3,"id","cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["cdkDrag","","class","grid gap-4",3,"cdkDragData","cdkDragDisabled",4,"ngFor","ngForOf"],["cdkDrag","",1,"grid","gap-4",3,"cdkDragData","cdkDragDisabled"],[3,"extendedClass",4,"ngIf"],[3,"extendedClass"],[1,"relative","element-card-parent"],["class","element-card-child bg-black absolute h-full w-full opacity-25 cursor-move","style","z-index: 100;",4,"ngIf"],[3,"field","formGroup"],[1,"element-card-child","bg-black","absolute","h-full","w-full","opacity-25","cursor-move",2,"z-index","100"],[1,"flex","justify-center","items-center","h-full","w-full"],[1,"text-white","cursor-pointer",3,"click"]],template:function(W,pe){1&W&&(d.\u0275\u0275elementStart(0,"section",0),d.\u0275\u0275template(1,$e,1,2,"splash-view-organism",1),d.\u0275\u0275elementStart(2,"section",2),d.\u0275\u0275elementStart(3,"section",3),d.\u0275\u0275template(4,ze,1,1,"ng-container",4),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(5,ce,4,6,"ng-template",null,5,d.\u0275\u0275templateRefExtractor),d.\u0275\u0275template(7,rt,4,2,"ng-template",null,6,d.\u0275\u0275templateRefExtractor),d.\u0275\u0275template(9,pt,3,3,"ng-template",null,7,d.\u0275\u0275templateRefExtractor),d.\u0275\u0275template(11,nt,2,1,"ng-template",null,8,d.\u0275\u0275templateRefExtractor),d.\u0275\u0275template(13,Mt,4,6,"ng-template",null,9,d.\u0275\u0275templateRefExtractor)),2&W&&(d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",!pe.formIsReady),d.\u0275\u0275advance(3),d.\u0275\u0275property("ngIf",pe.formIsReady))},directives:[ge.NgIf,Ye._,ge.NgTemplateOutlet,ge.NgClass,l.Wj,C.A0,ge.NgForOf,ge.NgStyle,Xe.c,H._Y,H.JL,l.Fd,H.sg,l.Zt,Ze.Hw,l.Bh,ye.D,Ge.w],styles:[".dynamic-form-builder-general[_ngcontent-%COMP%]{-moz-tab-size:4;tab-size:4;font-family:Inter,sans-serif;height:calc(100vh - 116px)}.example-custom-placeholder[_ngcontent-%COMP%]{background:#ccc;border:dotted 3px #999;min-height:60px;width:100%;transition:transform .25s cubic-bezier(0,0,.2,1)}.element-card-parent[_ngcontent-%COMP%]:hover > .element-card-child[_ngcontent-%COMP%]{display:block}.element-card-child[_ngcontent-%COMP%]{display:none}.element-card-child[_ngcontent-%COMP%]:active{display:block}.element-card-parent[_ngcontent-%COMP%]{max-height:-webkit-fill-available}.handler-content[_ngcontent-%COMP%]{height:-webkit-fill-available}.mobilform-dynamic-formbuilder-freelayout[_ngcontent-%COMP%]{height:calc(100vh - 60px);position:relative;z-index:10;width:100%;overflow-x:auto}.fade-in[_ngcontent-%COMP%]{animation:fade-in 1.2s cubic-bezier(.39,.575,.565,1) both}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.wrapper-grid[_ngcontent-%COMP%]{height:calc(100vh - 100px);background-color:#363636}.grid-container[_ngcontent-%COMP%]{position:relative;height:1024px;width:1280px;background:white}.grid-container__grid-figure--horizontal[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;background-image:repeating-linear-gradient(rgba(0,0,0,.05) 0 1px,transparent 1px 100%),repeating-linear-gradient(90deg,rgba(0,0,0,.05) 0 1px,transparent 1px 100%);background-size:10px 10px}.grid2[_ngcontent-%COMP%]{position:absolute;width:100px;height:50px;background-color:#20c997;color:#fff;text-align:center;line-height:50px;border:1px dashed #067002}.drag-grid[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#f8cb00;color:#fff;line-height:50px;text-align:center}.wrapper-element[_ngcontent-%COMP%]{position:absolute}.box-resize_wrapper[_ngcontent-%COMP%]{width:100px}.box-resize[_ngcontent-%COMP%]{border:0 #0372d2 solid;position:absolute}.wrapper-element__content[_ngcontent-%COMP%]{padding:10px;position:relative}.box-resize--border-top[_ngcontent-%COMP%]{border-top-width:2px;left:0;top:0;transform:translate(-.5px,-.5px) scaleY(1.1);width:calc(100% + 1px)}.box-resize--border-bottom[_ngcontent-%COMP%]{border-bottom-width:2px;left:0;bottom:0;transform:translate(-.5px,.5px) scaleY(1.1);width:calc(100% + 1px)}.box-resize--border-right[_ngcontent-%COMP%]{border-right-width:2px;height:calc(100% + 1px);right:0;top:0;transform:translate(.5px,-.5px) scaleX(1.1)}.box-resize--border-left[_ngcontent-%COMP%]{border-left-width:2px;height:calc(100% + 1px);left:0;top:0;transform:translate(-.5px,-.5px) scaleX(1.1)}.box-resize_point-resize[_ngcontent-%COMP%]{background-color:#fff;border:1px solid blue;border-radius:4px;box-shadow:0 2px 6px #0000000a;height:8px;width:8px;margin:-4px;pointer-events:auto;position:absolute;z-index:2}.box-resize_point-resize-widget[_ngcontent-%COMP%]{cursor:ew-resize;width:7px;height:30px;margin:0;max-height:80%;min-height:7px;top:50%}.box-resize_point-resize--rigth[_ngcontent-%COMP%]{right:0;transform:translate(50%,-50%)}.box-resize_point-resize--left[_ngcontent-%COMP%]{left:0;transform:translate(-50%,-50%)}"]}),de})()},325:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>DynamicFormBuilderService});var rxjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(824),rxjs__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(rxjs__WEBPACK_IMPORTED_MODULE_0__),_utils_string_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(754),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7451),_angular_core__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_angular_core__WEBPACK_IMPORTED_MODULE_1__),_angular_common_http__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6152),_angular_common_http__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__);let DynamicFormBuilderService=(()=>{class DynamicFormBuilderService{constructor(fe){this.http=fe,this._buttonTriggerEventType$=new rxjs__WEBPACK_IMPORTED_MODULE_0__.Subject,this.buttonTriggerEventType$=this._buttonTriggerEventType$.asObservable(),this._tableDataAssign$=new rxjs__WEBPACK_IMPORTED_MODULE_0__.Subject,this.tableDataAssignObservable$=this._tableDataAssign$.asObservable(),this._variablesChanges$=new rxjs__WEBPACK_IMPORTED_MODULE_0__.Subject,this.variablesChangesObservable$=this._variablesChanges$.asObservable(),this._fetchingElement$=new rxjs__WEBPACK_IMPORTED_MODULE_0__.Subject,this.fetchingElementObservable$=this._fetchingElement$.asObservable(),this._responseFetchingElement$=new rxjs__WEBPACK_IMPORTED_MODULE_0__.Subject,this.responseFetchingElement$=this._responseFetchingElement$.asObservable(),this.variables={}}emmitButtonTriggerEventType(fe){return this._buttonTriggerEventType$.next(fe)}onChangesButtonButtonTriggerEventType(){return this.buttonTriggerEventType$}emmitFetchingElement(fe){return this._fetchingElement$.next(fe)}onChangesFetchingElement(){return this.fetchingElementObservable$}emmitResponseFetchingElement(fe){return this._responseFetchingElement$.next(fe)}onChangesResponseFetchingElement(){return this.responseFetchingElement$}emmitVariablesChanges(fe){return this._variablesChanges$.next(fe)}onChangesVariablesChanges(){return this.variablesChangesObservable$}onFetchingMethod({baseUrl:fe,endpoint:ie,method:w,headers:l,data:d}){const H=`${fe}/${ie}`,I={headers:l};switch(w){case"GET":return this.http.get(H,I);case"POST":return this.http.post(H,d,I);case"PUT":return this.http.put(H,d,I);case"DELETE":return this.http.delete(H,I)}}loadVariables(fe){this.variables=Array.isArray(fe)?fe.reduce((ie,w)=>({...ie,[w]:null}),{}):{...this.variables,...fe}}assignValueVariableWithKey(fe,ie){`${fe}`in this.variables&&(this.variables[fe]=ie),this.emmitVariablesChanges(!0)}getValueInterpolated(str){let _str=str??"";const getParamsInserted=_utils_string_utils__WEBPACK_IMPORTED_MODULE_3__.r.getAllValueBetweenCharacters("{{","}}")(str),withParameters=getParamsInserted?.reduce((value,key)=>(value=_str?.replace(`{{${key}}}`,eval(`this.variables?.${key}`)??""),value),""),stringParsed=getParamsInserted?.length?withParameters:_str;return stringParsed??""}}return DynamicFormBuilderService.\u0275fac=function fe(ie){return new(ie||DynamicFormBuilderService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275inject(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.HttpClient))},DynamicFormBuilderService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275defineInjectable({token:DynamicFormBuilderService,factory:DynamicFormBuilderService.\u0275fac,providedIn:"root"}),DynamicFormBuilderService})()},6483:(fe,ie,w)=>{w.d(ie,{y:()=>l});var l=(()=>{return(F=l||(l={})).ELEMENT_TEXT="text",F.ELEMENT_DATE="date",F.ELEMENT_DROPDOWN="dropdown",F.ELEMENT_RADIO="radio",F.ELEMENT_CHECKBOX="checkbox",F.ELEMENT_BUTTON="button",F.ELEMENT_FILE="file",F.ELEMENT_LABEL="label",F.ELEMENT_TABLE="table",F.ELEMENT_HR="hr",F.ELEMENT_ROW="row",l;var F})()},2019:(fe,ie,w)=>{w.d(ie,{f:()=>d});var l=w(6483);const d=(F,H)=>{[l.y.ELEMENT_TEXT]:{key:F,type:l.y.ELEMENT_TEXT,label:F,value:"",required:!0,propertiesStyle:{position:{x:0,y:0},dimensions:{width:400,height:100}}},[l.y.ELEMENT_BUTTON]:{key:F,type:l.y.ELEMENT_BUTTON,title:F,data:{fieldReference:{keyTable:"",reference:[]}},propertiesStyle:{position:{x:0,y:0},dimensions:{width:400,height:100}},fetching:{urlFetching:"",keys:{}}},[l.y.ELEMENT_TABLE]:{key:F,type:l.y.ELEMENT_TABLE,title:F,header:[],propertiesStyle:{position:{x:0,y:0},dimensions:{width:400,height:100}},fetching:{typEvent:"onInit",urlFetching:"",method:"GET"}},[l.y.ELEMENT_DROPDOWN]:{key:F,type:l.y.ELEMENT_DROPDOWN,label:F,options:[],propertiesStyle:{position:{x:0,y:0},dimensions:{width:400,height:100}}},[l.y.ELEMENT_CHECKBOX]:{key:F,type:l.y.ELEMENT_CHECKBOX,title:F,propertiesStyle:{position:{x:0,y:0},dimensions:{width:400,height:100}}},[l.y.ELEMENT_RADIO]:{key:F,type:l.y.ELEMENT_RADIO,label:F,options:[{key:"option1",label:"Option 1"}],propertiesStyle:{position:{x:0,y:0},dimensions:{width:400,height:100}}},[l.y.ELEMENT_LABEL]:{key:F,type:l.y.ELEMENT_LABEL,title:F,propertiesStyle:{position:{x:0,y:0},dimensions:{width:400,height:100}}},[l.y.ELEMENT_DATE]:{key:F,type:l.y.ELEMENT_DATE,label:F,propertiesStyle:{position:{x:0,y:0},dimensions:{width:400,height:100}}}}?.[H]},8824:(fe,ie,w)=>{w.d(ie,{w:()=>ee});var l=w(92),d=w(952),F=w(9153),H=w(6483),I=w(7451),$=w(3192),Y=w(716),oe=w(6811),ae=w(8945),N=w(4206),R=w(290),C=w(8307),O=w(4877);function z(se,we){if(1&se&&I.\u0275\u0275element(0,"label-atom",12),2&se){const ce=I.\u0275\u0275nextContext();I.\u0275\u0275property("key",ce.field.key)("title",ce.field.label)("required",ce.field.required)}}function ge(se,we){if(1&se&&I.\u0275\u0275element(0,"label-atom",13),2&se){const ce=I.\u0275\u0275nextContext();I.\u0275\u0275property("key",ce.field.key)("title",ce.field.title)}}function xe(se,we){if(1&se&&I.\u0275\u0275element(0,"button-atom",14),2&se){const ce=I.\u0275\u0275nextContext();I.\u0275\u0275property("key",ce.field.key)("title",ce.field.title)("eventType",ce.field.eventType)("fetching",ce.field.fetching)}}function Ye(se,we){if(1&se&&I.\u0275\u0275element(0,"label-text-field-moelcule",15),2&se){const ce=I.\u0275\u0275nextContext();I.\u0275\u0275property("key",ce.field.key)("multiline",ce.field.multiline)("type",ce.field.type)("disabled",ce.field.disabled)("value",ce.field.value)("formGroup",ce.formGroup)}}function Xe(se,we){if(1&se&&I.\u0275\u0275element(0,"label-text-field-moelcule",16),2&se){const ce=I.\u0275\u0275nextContext();I.\u0275\u0275property("key",ce.field.key)("type",ce.field.type)("formGroup",ce.formGroup)}}function Ze(se,we){if(1&se&&I.\u0275\u0275element(0,"label-dropdown-molecule",17),2&se){const ce=I.\u0275\u0275nextContext();I.\u0275\u0275property("key",ce.field.key)("options",ce.field.options)("formGroup",ce.formGroup)("fetching",ce.field.fetching)}}function ye(se,we){if(1&se&&I.\u0275\u0275element(0,"label-checkbox-molecule",18),2&se){const ce=I.\u0275\u0275nextContext();I.\u0275\u0275property("key",ce.field.key)("title",ce.field.title)("formGroup",ce.formGroup)}}function Ge(se,we){if(1&se&&I.\u0275\u0275element(0,"label-radio-molecule",19),2&se){const ce=I.\u0275\u0275nextContext();I.\u0275\u0275property("key",ce.field.key)("options",ce.field.options)("formGroup",ce.formGroup)}}function $e(se,we){if(1&se&&I.\u0275\u0275element(0,"table-organism",20),2&se){const ce=I.\u0275\u0275nextContext();I.\u0275\u0275property("key",ce.field.key)("header",ce.field.header)("records",ce.field.records)("fetching",ce.field.fetching)("value",ce.field.value)}}function ze(se,we){if(1&se&&(I.\u0275\u0275elementStart(0,"div",21),I.\u0275\u0275text(1),I.\u0275\u0275elementEnd()),2&se){const ce=I.\u0275\u0275nextContext();I.\u0275\u0275advance(1),I.\u0275\u0275textInterpolate1(" ",ce.field.label," is required ")}}const Pe=function(){return{height:"-webkit-fill-available"}};let ee=(()=>{class se{constructor(){this.field=new d.K7,this.formGroup=new l.cw({})}get isValid(){return this.formGroup.controls?.[this.field.key]?.valid}get isDirty(){return this.formGroup.controls?.[this.field.key]?.dirty}getType(ce){return F.s.EnumToObject(H.y)[ce]}}return se.\u0275fac=function(ce){return new(ce||se)},se.\u0275cmp=I.\u0275\u0275defineComponent({type:se,selectors:[["field-builder"]],inputs:{field:"field",formGroup:"formGroup"},decls:12,vars:14,consts:[[1,"form-group","row",3,"formGroup"],[3,"key","title","required",4,"ngIf"],[3,"ngStyle","ngSwitch"],[3,"key","title",4,"ngSwitchCase"],[3,"key","title","eventType","fetching",4,"ngSwitchCase"],[3,"key","multiline","type","disabled","value","formGroup",4,"ngSwitchCase"],[3,"key","type","formGroup",4,"ngSwitchCase"],[3,"key","options","formGroup","fetching",4,"ngSwitchCase"],[3,"key","title","formGroup",4,"ngSwitchCase"],[3,"key","options","formGroup",4,"ngSwitchCase"],[3,"key","header","records","fetching","value",4,"ngSwitchCase"],["class","alert alert-danger my-1 p-2 fadeInDown animated",4,"ngIf"],[3,"key","title","required"],[3,"key","title"],[3,"key","title","eventType","fetching"],[3,"key","multiline","type","disabled","value","formGroup"],[3,"key","type","formGroup"],[3,"key","options","formGroup","fetching"],[3,"key","title","formGroup"],[3,"key","options","formGroup"],[3,"key","header","records","fetching","value"],[1,"alert","alert-danger","my-1","p-2","fadeInDown","animated"]],template:function(ce,Ne){1&ce&&(I.\u0275\u0275elementStart(0,"div",0),I.\u0275\u0275template(1,z,1,3,"label-atom",1),I.\u0275\u0275elementStart(2,"div",2),I.\u0275\u0275template(3,ge,1,2,"label-atom",3),I.\u0275\u0275template(4,xe,1,4,"button-atom",4),I.\u0275\u0275template(5,Ye,1,6,"label-text-field-moelcule",5),I.\u0275\u0275template(6,Xe,1,3,"label-text-field-moelcule",6),I.\u0275\u0275template(7,Ze,1,4,"label-dropdown-molecule",7),I.\u0275\u0275template(8,ye,1,3,"label-checkbox-molecule",8),I.\u0275\u0275template(9,Ge,1,3,"label-radio-molecule",9),I.\u0275\u0275template(10,$e,1,5,"table-organism",10),I.\u0275\u0275template(11,ze,2,1,"div",11),I.\u0275\u0275elementEnd(),I.\u0275\u0275elementEnd()),2&ce&&(I.\u0275\u0275property("formGroup",Ne.formGroup),I.\u0275\u0275advance(1),I.\u0275\u0275property("ngIf",Ne.field.label),I.\u0275\u0275advance(1),I.\u0275\u0275property("ngStyle",I.\u0275\u0275pureFunction0(13,Pe))("ngSwitch",Ne.field.type),I.\u0275\u0275advance(1),I.\u0275\u0275property("ngSwitchCase",Ne.getType("ELEMENT_LABEL")),I.\u0275\u0275advance(1),I.\u0275\u0275property("ngSwitchCase",Ne.getType("ELEMENT_BUTTON")),I.\u0275\u0275advance(1),I.\u0275\u0275property("ngSwitchCase",Ne.getType("ELEMENT_TEXT")),I.\u0275\u0275advance(1),I.\u0275\u0275property("ngSwitchCase",Ne.getType("ELEMENT_DATE")),I.\u0275\u0275advance(1),I.\u0275\u0275property("ngSwitchCase",Ne.getType("ELEMENT_DROPDOWN")),I.\u0275\u0275advance(1),I.\u0275\u0275property("ngSwitchCase",Ne.getType("ELEMENT_CHECKBOX")),I.\u0275\u0275advance(1),I.\u0275\u0275property("ngSwitchCase",Ne.getType("ELEMENT_RADIO")),I.\u0275\u0275advance(1),I.\u0275\u0275property("ngSwitchCase",Ne.getType("ELEMENT_TABLE")),I.\u0275\u0275advance(1),I.\u0275\u0275property("ngIf",!Ne.isValid&&Ne.isDirty))},directives:[l.JL,l.sg,$.NgIf,$.NgStyle,$.NgSwitch,$.NgSwitchCase,Y.J,oe.m,ae.z,N.I,R.n,C.q,O.f],encapsulation:2}),se})()},2263:(fe,ie,w)=>{w(7451)},2042:(fe,ie,w)=>{w.d(ie,{q:()=>F});var l=w(7451);let F=(()=>{class H{constructor(){this.dimension=37,this.animated=!1}}return H.\u0275fac=function(G){return new(G||H)},H.\u0275cmp=l.\u0275\u0275defineComponent({type:H,selectors:[["icon-mobilform-svg"]],inputs:{dimension:"dimension",animated:"animated"},decls:10,vars:5,consts:[["id","elEkoYVmvDp1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 37 38","shape-rendering","geometricPrecision","text-rendering","geometricPrecision"],["transform","translate(25.5,22.5) scale(1,1)"],["transform","translate(-25.5,-22.5)"],["r","7.5","transform","translate(25.5 22.5)","fill","#f2d335"],["transform","translate(18,15) scale(1,1)"],["width","15","height","15","rx","0","ry","0","transform","translate(-7.5,-7.5)","fill","#0476d9"],["transform","translate(10.500004,5.625) scale(1,1)"],["d","M10.5,0l6.4952,11.25h-12.99039L10.5,0Z","transform","translate(-10.500004,-5.625)","fill","#04bfad"]],template:function(G,$){1&G&&(l.\u0275\u0275namespaceSVG(),l.\u0275\u0275elementStart(0,"svg",0),l.\u0275\u0275elementStart(1,"g",1),l.\u0275\u0275elementStart(2,"g",2),l.\u0275\u0275element(3,"circle",3),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(4,"g"),l.\u0275\u0275elementStart(5,"g",4),l.\u0275\u0275element(6,"rect",5),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(7,"g"),l.\u0275\u0275elementStart(8,"g",6),l.\u0275\u0275element(9,"path",7),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&G&&(l.\u0275\u0275attribute("width",$.dimension)("height",$.dimension),l.\u0275\u0275advance(1),l.\u0275\u0275attribute("id",$.animated?"elEkoYVmvDp2_ts":""),l.\u0275\u0275advance(4),l.\u0275\u0275attribute("id",$.animated?"elEkoYVmvDp5_ts":""),l.\u0275\u0275advance(3),l.\u0275\u0275attribute("id",$.animated?"elEkoYVmvDp7_ts":""))},styles:["#elEkoYVmvDp2_ts[_ngcontent-%COMP%]{animation:elEkoYVmvDp2_ts__ts 3s linear infinite normal forwards}@keyframes elEkoYVmvDp2_ts__ts{0%{transform:translate(25.5px,22.5px) scale(1)}66.666667%{transform:translate(25.5px,22.5px) scale(1);animation-timing-function:cubic-bezier(.39,.575,.565,1)}86.666667%{transform:translate(25.5px,22.5px) scale(.744092);animation-timing-function:cubic-bezier(.39,.575,.565,1)}to{transform:translate(25.5px,22.5px) scale(.979763)}}#elEkoYVmvDp5_ts[_ngcontent-%COMP%]{animation:elEkoYVmvDp5_ts__ts 3s linear infinite normal forwards}@keyframes elEkoYVmvDp5_ts__ts{0%{transform:translate(18px,15px) scale(1)}33.333333%{transform:translate(18px,15px) scale(1);animation-timing-function:cubic-bezier(.39,.575,.565,1)}50%{transform:translate(18px,15px) scale(.744092);animation-timing-function:cubic-bezier(.39,.575,.565,1)}66.666667%{transform:translate(18px,15px) scale(.979763)}to{transform:translate(18px,15px) scale(.979763)}}#elEkoYVmvDp7_ts[_ngcontent-%COMP%]{animation:elEkoYVmvDp7_ts__ts 3s linear infinite normal forwards}@keyframes elEkoYVmvDp7_ts__ts{0%{transform:translate(10.500004px,5.625px) scale(1);animation-timing-function:cubic-bezier(.39,.575,.565,1)}16.666667%{transform:translate(10.500004px,5.625px) scale(.744092);animation-timing-function:cubic-bezier(.39,.575,.565,1)}33.333333%{transform:translate(10.500004px,5.625px) scale(.979763)}to{transform:translate(10.500004px,5.625px) scale(.979763)}}"]}),H})()},846:(fe,ie,w)=>{w(7451)},9435:(fe,ie,w)=>{w(7451)},6322:(fe,ie,w)=>{w(7451)},8797:(fe,ie,w)=>{w(7451)},3638:(fe,ie,w)=>{w(7451)},5387:(fe,ie,w)=>{w.d(ie,{c:()=>bt});var l={};w.r(l),w.d(l,{Decoder:()=>_,Encoder:()=>m,PacketType:()=>v,protocol:()=>S});var d=w(824),F=w(747),H=w(952),I=w(4171),$=w(4966);const le="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function Y(B){const T=B.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!T||$))return new XMLHttpRequest}catch{}if(!T)try{return new(le[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch{}}function oe(B,...T){return T.reduce((g,b)=>(B.hasOwnProperty(b)&&(g[b]=B[b]),g),{})}const ae=setTimeout,N=clearTimeout;function R(B,T){T.useNativeTimers?(B.setTimeoutFn=ae.bind(le),B.clearTimeoutFn=N.bind(le)):(B.setTimeoutFn=setTimeout.bind(le),B.clearTimeoutFn=clearTimeout.bind(le))}var C=w(8573);const O=Object.create(null);O.open="0",O.close="1",O.ping="2",O.pong="3",O.message="4",O.upgrade="5",O.noop="6";const z=Object.create(null);Object.keys(O).forEach(B=>{z[O[B]]=B});const ge={type:"error",data:"parser error"},xe="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Ye="function"==typeof ArrayBuffer,ye=(B,T)=>{const g=new FileReader;return g.onload=function(){const b=g.result.split(",")[1];T("b"+b)},g.readAsDataURL(B)},Ge=({type:B,data:T},g,b)=>xe&&T instanceof Blob?g?b(T):ye(T,b):Ye&&(T instanceof ArrayBuffer||(B=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(B):B&&B.buffer instanceof ArrayBuffer)(T))?g?b(T):ye(new Blob([T]),b):b(O[B]+(T||""));for(var $e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ze="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Pe=0;Pe<$e.length;Pe++)ze[$e.charCodeAt(Pe)]=Pe;const we="function"==typeof ArrayBuffer,Ne=(B,T)=>{if(we){const g=function(B){var b,L,J,De,je,T=.75*B.length,g=B.length,M=0;"="===B[B.length-1]&&(T--,"="===B[B.length-2]&&T--);var it=new ArrayBuffer(T),ot=new Uint8Array(it);for(b=0;b<g;b+=4)L=ze[B.charCodeAt(b)],J=ze[B.charCodeAt(b+1)],De=ze[B.charCodeAt(b+2)],je=ze[B.charCodeAt(b+3)],ot[M++]=L<<2|J>>4,ot[M++]=(15&J)<<4|De>>2,ot[M++]=(3&De)<<6|63&je;return it}(B);return Me(g,T)}return{base64:!0,data:B}},Me=(B,T)=>"blob"===T&&B instanceof ArrayBuffer?new Blob([B]):B,Ve=(B,T)=>{if("string"!=typeof B)return{type:"message",data:Me(B,T)};const g=B.charAt(0);return"b"===g?{type:"message",data:Ne(B.substring(1),T)}:z[g]?B.length>1?{type:z[g],data:B.substring(1)}:{type:z[g]}:ge},j=String.fromCharCode(30);class Oe extends C.Q{constructor(T){super(),this.writable=!1,R(this,T),this.opts=T,this.query=T.query,this.readyState="",this.socket=T.socket}onError(T,g){const b=new Error(T);return b.type="TransportError",b.description=g,super.emit("error",b),this}open(){return("closed"===this.readyState||""===this.readyState)&&(this.readyState="opening",this.doOpen()),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(T){"open"===this.readyState&&this.write(T)}onOpen(){this.readyState="open",this.writable=!0,super.emit("open")}onData(T){const g=Ve(T,this.socket.binaryType);this.onPacket(g)}onPacket(T){super.emit("packet",T)}onClose(){this.readyState="closed",super.emit("close")}}var Je=w(5391),rt=w(9603);class at extends Oe{constructor(){super(...arguments),this.polling=!1}get name(){return"polling"}doOpen(){this.poll()}pause(T){this.readyState="pausing";const g=()=>{this.readyState="paused",T()};if(this.polling||!this.writable){let b=0;this.polling&&(b++,this.once("pollComplete",function(){--b||g()})),this.writable||(b++,this.once("drain",function(){--b||g()}))}else g()}poll(){this.polling=!0,this.doPoll(),this.emit("poll")}onData(T){((B,T)=>{const g=B.split(j),b=[];for(let M=0;M<g.length;M++){const L=Ve(g[M],T);if(b.push(L),"error"===L.type)break}return b})(T,this.socket.binaryType).forEach(b=>{if("opening"===this.readyState&&"open"===b.type&&this.onOpen(),"close"===b.type)return this.onClose(),!1;this.onPacket(b)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const T=()=>{this.write([{type:"close"}])};"open"===this.readyState?T():this.once("open",T)}write(T){this.writable=!1,((B,T)=>{const g=B.length,b=new Array(g);let M=0;B.forEach((L,J)=>{Ge(L,!1,De=>{b[J]=De,++M===g&&T(b.join(j))})})})(T,g=>{this.doWrite(g,()=>{this.writable=!0,this.emit("drain")})})}uri(){let T=this.query||{};const g=this.opts.secure?"https":"http";let b="";!1!==this.opts.timestampRequests&&(T[this.opts.timestampParam]=Je()),!this.supportsBinary&&!T.sid&&(T.b64=1),this.opts.port&&("https"===g&&443!==Number(this.opts.port)||"http"===g&&80!==Number(this.opts.port))&&(b=":"+this.opts.port);const M=rt.encode(T);return g+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+b+this.opts.path+(M.length?"?"+M:"")}}function ht(){}const Ct=null!=new Y({xdomain:!1}).responseType;let pt=(()=>{class B extends C.Q{constructor(g,b){super(),R(this,b),this.opts=b,this.method=b.method||"GET",this.uri=g,this.async=!1!==b.async,this.data=void 0!==b.data?b.data:null,this.create()}create(){const g=oe(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");g.xdomain=!!this.opts.xd,g.xscheme=!!this.opts.xs;const b=this.xhr=new Y(g);try{b.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){b.setDisableHeaderCheck&&b.setDisableHeaderCheck(!0);for(let M in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(M)&&b.setRequestHeader(M,this.opts.extraHeaders[M])}}catch{}if("POST"===this.method)try{b.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{b.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in b&&(b.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(b.timeout=this.opts.requestTimeout),b.onreadystatechange=()=>{4===b.readyState&&(200===b.status||1223===b.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof b.status?b.status:0)},0))},b.send(this.data)}catch(M){return void this.setTimeoutFn(()=>{this.onError(M)},0)}"undefined"!=typeof document&&(this.index=B.requestsCount++,B.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(g){this.emit("data",g),this.onSuccess()}onError(g){this.emit("error",g),this.cleanup(!0)}cleanup(g){if(null!=this.xhr){if(this.xhr.onreadystatechange=ht,g)try{this.xhr.abort()}catch{}"undefined"!=typeof document&&delete B.requests[this.index],this.xhr=null}}onLoad(){const g=this.xhr.responseText;null!==g&&this.onData(g)}abort(){this.cleanup()}}return B.requestsCount=0,B.requests={},B})();function Te(){for(let B in pt.requests)pt.requests.hasOwnProperty(B)&&pt.requests[B].abort()}"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",Te):"function"==typeof addEventListener&&addEventListener("onpagehide"in le?"pagehide":"unload",Te,!1));const ke="function"==typeof Promise&&"function"==typeof Promise.resolve?T=>Promise.resolve().then(T):(T,g)=>g(T,0),te=le.WebSocket||le.MozWebSocket,Qe="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class nt extends Oe{constructor(T){super(T),this.supportsBinary=!T.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const T=this.uri(),g=this.opts.protocols,b=Qe?{}:oe(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(b.headers=this.opts.extraHeaders);try{this.ws=Qe?new te(T,g,b):g?new te(T,g):new te(T)}catch(M){return this.emit("error",M)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=T=>this.onData(T.data),this.ws.onerror=T=>this.onError("websocket error",T)}write(T){this.writable=!1;for(let g=0;g<T.length;g++){const M=g===T.length-1;Ge(T[g],this.supportsBinary,L=>{try{this.ws.send(L)}catch{}M&&ke(()=>{this.writable=!0,this.emit("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let T=this.query||{};const g=this.opts.secure?"wss":"ws";let b="";this.opts.port&&("wss"===g&&443!==Number(this.opts.port)||"ws"===g&&80!==Number(this.opts.port))&&(b=":"+this.opts.port),this.opts.timestampRequests&&(T[this.opts.timestampParam]=Je()),this.supportsBinary||(T.b64=1);const M=rt.encode(T);return g+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+b+this.opts.path+(M.length?"?"+M:"")}check(){return!(!te||"__initialize"in te&&this.name===nt.prototype.name)}}const dt={websocket:nt,polling:class yt extends at{constructor(T){if(super(T),"undefined"!=typeof location){const b="https:"===location.protocol;let M=location.port;M||(M=b?"443":"80"),this.xd="undefined"!=typeof location&&T.hostname!==location.hostname||M!==T.port,this.xs=T.secure!==b}this.supportsBinary=Ct&&!(T&&T.forceBase64)}request(T={}){return Object.assign(T,{xd:this.xd,xs:this.xs},this.opts),new pt(this.uri(),T)}doWrite(T,g){const b=this.request({method:"POST",data:T});b.on("success",g),b.on("error",M=>{this.onError("xhr post error",M)})}doPoll(){const T=this.request();T.on("data",this.onData.bind(this)),T.on("error",g=>{this.onError("xhr poll error",g)}),this.pollXhr=T}}};let gt=(()=>{class B extends C.Q{constructor(g,b={}){super(),g&&"object"==typeof g&&(b=g,g=null),g?(g=I(g),b.hostname=g.host,b.secure="https"===g.protocol||"wss"===g.protocol,b.port=g.port,g.query&&(b.query=g.query)):b.host&&(b.hostname=I(b.host).host),R(this,b),this.secure=null!=b.secure?b.secure:"undefined"!=typeof location&&"https:"===location.protocol,b.hostname&&!b.port&&(b.port=this.secure?"443":"80"),this.hostname=b.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=b.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=b.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},b),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=rt.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close")},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(g){const b=function Mt(B){const T={};for(let g in B)B.hasOwnProperty(g)&&(T[g]=B[g]);return T}(this.opts.query);b.EIO=4,b.transport=g,this.id&&(b.sid=this.id);const M=Object.assign({},this.opts.transportOptions[g],this.opts,{query:b,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new dt[g](M)}open(){let g;if(this.opts.rememberUpgrade&&B.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))g="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);g=this.transports[0]}this.readyState="opening";try{g=this.createTransport(g)}catch{return this.transports.shift(),void this.open()}g.open(),this.setTransport(g)}setTransport(g){this.transport&&this.transport.removeAllListeners(),this.transport=g,g.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",()=>{this.onClose("transport close")})}probe(g){let b=this.createTransport(g),M=!1;B.priorWebsocketSuccess=!1;const L=()=>{M||(b.send([{type:"ping",data:"probe"}]),b.once("packet",Ot=>{if(!M)if("pong"===Ot.type&&"probe"===Ot.data){if(this.upgrading=!0,this.emitReserved("upgrading",b),!b)return;B.priorWebsocketSuccess="websocket"===b.name,this.transport.pause(()=>{M||"closed"!==this.readyState&&(Lt(),this.setTransport(b),b.send([{type:"upgrade"}]),this.emitReserved("upgrade",b),b=null,this.upgrading=!1,this.flush())})}else{const Pt=new Error("probe error");Pt.transport=b.name,this.emitReserved("upgradeError",Pt)}}))};function J(){M||(M=!0,Lt(),b.close(),b=null)}const De=Ot=>{const Pt=new Error("probe error: "+Ot);Pt.transport=b.name,J(),this.emitReserved("upgradeError",Pt)};function je(){De("transport closed")}function it(){De("socket closed")}function ot(Ot){b&&Ot.name!==b.name&&J()}const Lt=()=>{b.removeListener("open",L),b.removeListener("error",De),b.removeListener("close",je),this.off("close",it),this.off("upgrading",ot)};b.once("open",L),b.once("error",De),b.once("close",je),this.once("close",it),this.once("upgrading",ot),b.open()}onOpen(){if(this.readyState="open",B.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let g=0;const b=this.upgrades.length;for(;g<b;g++)this.probe(this.upgrades[g])}}onPacket(g){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",g),this.emitReserved("heartbeat"),g.type){case"open":this.onHandshake(JSON.parse(g.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const b=new Error("server error");b.code=g.data,this.onError(b);break;case"message":this.emitReserved("data",g.data),this.emitReserved("message",g.data)}}onHandshake(g){this.emitReserved("handshake",g),this.id=g.sid,this.transport.query.sid=g.sid,this.upgrades=this.filterUpgrades(g.upgrades),this.pingInterval=g.pingInterval,this.pingTimeout=g.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emitReserved("flush"))}write(g,b,M){return this.sendPacket("message",g,b,M),this}send(g,b,M){return this.sendPacket("message",g,b,M),this}sendPacket(g,b,M,L){if("function"==typeof b&&(L=b,b=void 0),"function"==typeof M&&(L=M,M=null),"closing"===this.readyState||"closed"===this.readyState)return;(M=M||{}).compress=!1!==M.compress;const J={type:g,data:b,options:M};this.emitReserved("packetCreate",J),this.writeBuffer.push(J),L&&this.once("flush",L),this.flush()}close(){const g=()=>{this.onClose("forced close"),this.transport.close()},b=()=>{this.off("upgrade",b),this.off("upgradeError",b),g()},M=()=>{this.once("upgrade",b),this.once("upgradeError",b)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?M():g()}):this.upgrading?M():g()),this}onError(g){B.priorWebsocketSuccess=!1,this.emitReserved("error",g),this.onClose("transport error",g)}onClose(g,b){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",g,b),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(g){const b=[];let M=0;const L=g.length;for(;M<L;M++)~this.transports.indexOf(g[M])&&b.push(g[M]);return b}}return B.protocol=4,B})();const de="function"==typeof ArrayBuffer,W=Object.prototype.toString,pe="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===W.call(Blob),ve="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===W.call(File);function Le(B){return de&&(B instanceof ArrayBuffer||(B=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(B):B.buffer instanceof ArrayBuffer)(B))||pe&&B instanceof Blob||ve&&B instanceof File}function qe(B,T){if(!B||"object"!=typeof B)return!1;if(Array.isArray(B)){for(let g=0,b=B.length;g<b;g++)if(qe(B[g]))return!0;return!1}if(Le(B))return!0;if(B.toJSON&&"function"==typeof B.toJSON&&1===arguments.length)return qe(B.toJSON(),!0);for(const g in B)if(Object.prototype.hasOwnProperty.call(B,g)&&qe(B[g]))return!0;return!1}function _t(B){const T=[],b=B;return b.data=ct(B.data,T),b.attachments=T.length,{packet:b,buffers:T}}function ct(B,T){if(!B)return B;if(Le(B)){const g={_placeholder:!0,num:T.length};return T.push(B),g}if(Array.isArray(B)){const g=new Array(B.length);for(let b=0;b<B.length;b++)g[b]=ct(B[b],T);return g}if("object"==typeof B&&!(B instanceof Date)){const g={};for(const b in B)Object.prototype.hasOwnProperty.call(B,b)&&(g[b]=ct(B[b],T));return g}return B}function ue(B,T){return B.data=V(B.data,T),B.attachments=void 0,B}function V(B,T){if(!B)return B;if(B&&B._placeholder)return T[B.num];if(Array.isArray(B))for(let g=0;g<B.length;g++)B[g]=V(B[g],T);else if("object"==typeof B)for(const g in B)Object.prototype.hasOwnProperty.call(B,g)&&(B[g]=V(B[g],T));return B}const S=5;var v=(()=>{return(B=v||(v={}))[B.CONNECT=0]="CONNECT",B[B.DISCONNECT=1]="DISCONNECT",B[B.EVENT=2]="EVENT",B[B.ACK=3]="ACK",B[B.CONNECT_ERROR=4]="CONNECT_ERROR",B[B.BINARY_EVENT=5]="BINARY_EVENT",B[B.BINARY_ACK=6]="BINARY_ACK",v;var B})();class m{encode(T){return T.type!==v.EVENT&&T.type!==v.ACK||!qe(T)?[this.encodeAsString(T)]:(T.type=T.type===v.EVENT?v.BINARY_EVENT:v.BINARY_ACK,this.encodeAsBinary(T))}encodeAsString(T){let g=""+T.type;return(T.type===v.BINARY_EVENT||T.type===v.BINARY_ACK)&&(g+=T.attachments+"-"),T.nsp&&"/"!==T.nsp&&(g+=T.nsp+","),null!=T.id&&(g+=T.id),null!=T.data&&(g+=JSON.stringify(T.data)),g}encodeAsBinary(T){const g=_t(T),b=this.encodeAsString(g.packet),M=g.buffers;return M.unshift(b),M}}class _ extends C.Q{constructor(){super()}add(T){let g;if("string"==typeof T)g=this.decodeString(T),g.type===v.BINARY_EVENT||g.type===v.BINARY_ACK?(this.reconstructor=new k(g),0===g.attachments&&super.emitReserved("decoded",g)):super.emitReserved("decoded",g);else{if(!Le(T)&&!T.base64)throw new Error("Unknown type: "+T);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");g=this.reconstructor.takeBinaryData(T),g&&(this.reconstructor=null,super.emitReserved("decoded",g))}}decodeString(T){let g=0;const b={type:Number(T.charAt(0))};if(void 0===v[b.type])throw new Error("unknown packet type "+b.type);if(b.type===v.BINARY_EVENT||b.type===v.BINARY_ACK){const L=g+1;for(;"-"!==T.charAt(++g)&&g!=T.length;);const J=T.substring(L,g);if(J!=Number(J)||"-"!==T.charAt(g))throw new Error("Illegal attachments");b.attachments=Number(J)}if("/"===T.charAt(g+1)){const L=g+1;for(;++g&&","!==T.charAt(g)&&g!==T.length;);b.nsp=T.substring(L,g)}else b.nsp="/";const M=T.charAt(g+1);if(""!==M&&Number(M)==M){const L=g+1;for(;++g;){const J=T.charAt(g);if(null==J||Number(J)!=J){--g;break}if(g===T.length)break}b.id=Number(T.substring(L,g+1))}if(T.charAt(++g)){const L=function E(B){try{return JSON.parse(B)}catch{return!1}}(T.substr(g));if(!_.isPayloadValid(b.type,L))throw new Error("invalid payload");b.data=L}return b}static isPayloadValid(T,g){switch(T){case v.CONNECT:return"object"==typeof g;case v.DISCONNECT:return void 0===g;case v.CONNECT_ERROR:return"string"==typeof g||"object"==typeof g;case v.EVENT:case v.BINARY_EVENT:return Array.isArray(g)&&g.length>0;case v.ACK:case v.BINARY_ACK:return Array.isArray(g)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class k{constructor(T){this.packet=T,this.buffers=[],this.reconPack=T}takeBinaryData(T){if(this.buffers.push(T),this.buffers.length===this.reconPack.attachments){const g=ue(this.reconPack,this.buffers);return this.finishedReconstruction(),g}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function K(B,T,g){return B.on(T,g),function(){B.off(T,g)}}const ne=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Ce extends C.Q{constructor(T,g,b){super(),this.connected=!1,this.disconnected=!0,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=T,this.nsp=g,b&&b.auth&&(this.auth=b.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;const T=this.io;this.subs=[K(T,"open",this.onopen.bind(this)),K(T,"packet",this.onpacket.bind(this)),K(T,"error",this.onerror.bind(this)),K(T,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...T){return T.unshift("message"),this.emit.apply(this,T),this}emit(T,...g){if(ne.hasOwnProperty(T))throw new Error('"'+T+'" is a reserved event name');g.unshift(T);const b={type:v.EVENT,data:g,options:{}};if(b.options.compress=!1!==this.flags.compress,"function"==typeof g[g.length-1]){const J=this.ids++,De=g.pop();this._registerAckCallback(J,De),b.id=J}return this.flags.volatile&&(!(this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable)||!this.connected)||(this.connected?this.packet(b):this.sendBuffer.push(b)),this.flags={},this}_registerAckCallback(T,g){const b=this.flags.timeout;if(void 0===b)return void(this.acks[T]=g);const M=this.io.setTimeoutFn(()=>{delete this.acks[T];for(let L=0;L<this.sendBuffer.length;L++)this.sendBuffer[L].id===T&&this.sendBuffer.splice(L,1);g.call(this,new Error("operation has timed out"))},b);this.acks[T]=(...L)=>{this.io.clearTimeoutFn(M),g.apply(this,[null,...L])}}packet(T){T.nsp=this.nsp,this.io._packet(T)}onopen(){"function"==typeof this.auth?this.auth(T=>{this.packet({type:v.CONNECT,data:T})}):this.packet({type:v.CONNECT,data:this.auth})}onerror(T){this.connected||this.emitReserved("connect_error",T)}onclose(T){this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",T)}onpacket(T){if(T.nsp===this.nsp)switch(T.type){case v.CONNECT:T.data&&T.data.sid?this.onconnect(T.data.sid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case v.EVENT:case v.BINARY_EVENT:this.onevent(T);break;case v.ACK:case v.BINARY_ACK:this.onack(T);break;case v.DISCONNECT:this.ondisconnect();break;case v.CONNECT_ERROR:this.destroy();const b=new Error(T.data.message);b.data=T.data.data,this.emitReserved("connect_error",b)}}onevent(T){const g=T.data||[];null!=T.id&&g.push(this.ack(T.id)),this.connected?this.emitEvent(g):this.receiveBuffer.push(Object.freeze(g))}emitEvent(T){if(this._anyListeners&&this._anyListeners.length){const g=this._anyListeners.slice();for(const b of g)b.apply(this,T)}super.emit.apply(this,T)}ack(T){const g=this;let b=!1;return function(...M){b||(b=!0,g.packet({type:v.ACK,id:T,data:M}))}}onack(T){const g=this.acks[T.id];"function"==typeof g&&(g.apply(this,T.data),delete this.acks[T.id])}onconnect(T){this.id=T,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(T=>this.emitEvent(T)),this.receiveBuffer=[],this.sendBuffer.forEach(T=>this.packet(T)),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(T=>T()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:v.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(T){return this.flags.compress=T,this}get volatile(){return this.flags.volatile=!0,this}timeout(T){return this.flags.timeout=T,this}onAny(T){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(T),this}prependAny(T){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(T),this}offAny(T){if(!this._anyListeners)return this;if(T){const g=this._anyListeners;for(let b=0;b<g.length;b++)if(T===g[b])return g.splice(b,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}var Fe=w(7591);class Ke extends C.Q{constructor(T,g){var b;super(),this.nsps={},this.subs=[],T&&"object"==typeof T&&(g=T,T=void 0),(g=g||{}).path=g.path||"/socket.io",this.opts=g,R(this,g),this.reconnection(!1!==g.reconnection),this.reconnectionAttempts(g.reconnectionAttempts||1/0),this.reconnectionDelay(g.reconnectionDelay||1e3),this.reconnectionDelayMax(g.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(b=g.randomizationFactor)&&void 0!==b?b:.5),this.backoff=new Fe({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(g.timeout??2e4),this._readyState="closed",this.uri=T;const M=g.parser||l;this.encoder=new M.Encoder,this.decoder=new M.Decoder,this._autoConnect=!1!==g.autoConnect,this._autoConnect&&this.open()}reconnection(T){return arguments.length?(this._reconnection=!!T,this):this._reconnection}reconnectionAttempts(T){return void 0===T?this._reconnectionAttempts:(this._reconnectionAttempts=T,this)}reconnectionDelay(T){var g;return void 0===T?this._reconnectionDelay:(this._reconnectionDelay=T,null===(g=this.backoff)||void 0===g||g.setMin(T),this)}randomizationFactor(T){var g;return void 0===T?this._randomizationFactor:(this._randomizationFactor=T,null===(g=this.backoff)||void 0===g||g.setJitter(T),this)}reconnectionDelayMax(T){var g;return void 0===T?this._reconnectionDelayMax:(this._reconnectionDelayMax=T,null===(g=this.backoff)||void 0===g||g.setMax(T),this)}timeout(T){return arguments.length?(this._timeout=T,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(T){if(~this._readyState.indexOf("open"))return this;this.engine=new gt(this.uri,this.opts);const g=this.engine,b=this;this._readyState="opening",this.skipReconnect=!1;const M=K(g,"open",function(){b.onopen(),T&&T()}),L=K(g,"error",J=>{b.cleanup(),b._readyState="closed",this.emitReserved("error",J),T?T(J):b.maybeReconnectOnOpen()});if(!1!==this._timeout){const J=this._timeout;0===J&&M();const De=this.setTimeoutFn(()=>{M(),g.close(),g.emit("error",new Error("timeout"))},J);this.opts.autoUnref&&De.unref(),this.subs.push(function(){clearTimeout(De)})}return this.subs.push(M),this.subs.push(L),this}connect(T){return this.open(T)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const T=this.engine;this.subs.push(K(T,"ping",this.onping.bind(this)),K(T,"data",this.ondata.bind(this)),K(T,"error",this.onerror.bind(this)),K(T,"close",this.onclose.bind(this)),K(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(T){this.decoder.add(T)}ondecoded(T){this.emitReserved("packet",T)}onerror(T){this.emitReserved("error",T)}socket(T,g){let b=this.nsps[T];return b||(b=new Ce(this,T,g),this.nsps[T]=b),b}_destroy(T){const g=Object.keys(this.nsps);for(const b of g)if(this.nsps[b].active)return;this._close()}_packet(T){const g=this.encoder.encode(T);for(let b=0;b<g.length;b++)this.engine.write(g[b],T.options)}cleanup(){this.subs.forEach(T=>T()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(T){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",T),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const T=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const g=this.backoff.duration();this._reconnecting=!0;const b=this.setTimeoutFn(()=>{T.skipReconnect||(this.emitReserved("reconnect_attempt",T.backoff.attempts),!T.skipReconnect&&T.open(M=>{M?(T._reconnecting=!1,T.reconnect(),this.emitReserved("reconnect_error",M)):T.onreconnect()}))},g);this.opts.autoUnref&&b.unref(),this.subs.push(function(){clearTimeout(b)})}}onreconnect(){const T=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",T)}}const st={};function tt(B,T){"object"==typeof B&&(T=B,B=void 0);const g=function G(B,T="",g){let b=B;g=g||"undefined"!=typeof location&&location,null==B&&(B=g.protocol+"//"+g.host),"string"==typeof B&&("/"===B.charAt(0)&&(B="/"===B.charAt(1)?g.protocol+B:g.host+B),/^(https?|wss?):\/\//.test(B)||(B=void 0!==g?g.protocol+"//"+B:"https://"+B),b=I(B)),b.port||(/^(http|ws)$/.test(b.protocol)?b.port="80":/^(http|ws)s$/.test(b.protocol)&&(b.port="443")),b.path=b.path||"/";const L=-1!==b.host.indexOf(":")?"["+b.host+"]":b.host;return b.id=b.protocol+"://"+L+":"+b.port+T,b.href=b.protocol+"://"+L+(g&&g.port===b.port?"":":"+b.port),b}(B,(T=T||{}).path||"/socket.io"),b=g.source,M=g.id;let je;return T.forceNew||T["force new connection"]||!1===T.multiplex||st[M]&&g.path in st[M].nsps?je=new Ke(b,T):(st[M]||(st[M]=new Ke(b,T)),je=st[M]),g.query&&!T.query&&(T.query=g.queryKey),je.socket(g.path,T)}Object.assign(tt,{Manager:Ke,Socket:Ce,io:tt,connect:tt});var ft=w(7451),wt=w(6152);let bt=(()=>{class B{constructor(g){this.http=g,this.baseUrl=F.N.baseUrl,this._fieldSchemaObservable$=new d.Subject,this.fieldSchemaSubject$=this._fieldSchemaObservable$.asObservable(),this._selectedFieldKeySubject$=new d.Subject,this.selectedFieldKeyObservable$=this._selectedFieldKeySubject$.asObservable(),this._sharedConnectListSubject$=new d.Subject,this.sharedConnectListObservable$=this._sharedConnectListSubject$.asObservable(),this._showSectionToolbarSubject$=new d.Subject,this.showSectionToolbarObservable$=this._showSectionToolbarSubject$.asObservable(),this._selectedFormSubject$=new d.Subject,this.selectedFormObservable$=this._selectedFormSubject$.asObservable(),this.forms=[],this.onSnapshotSuccess=b=>{this.forms=b,tt(this.baseUrl).on("forms",L=>{switch(L.operationType){case"update":const J=this.forms.findIndex(ot=>ot._id===L.documentKey._id);this.forms[J]={...this.forms[J],...L.updateDescription?.updatedFields},this.selectedForm._id&&this.getFormById(this.selectedForm._id);break;case"insert":const De=L.fullDocument;this.forms.push(De),this.getFormById(De._id);break;case"delete":const je=L.documentKey._id,it=this.forms.findIndex(ot=>ot._id===je);this.forms.splice(it,1),this.selectedForm._id===je&&this.getFormById(this.forms[this.forms.length-1]._id)}})},this.onSnapshotError=b=>{console.log(b)}}get selectedForm(){return this._selectedForm}set selectedForm(g){this._selectedForm=g}emmitChangesFields(g){this._fieldSchemaObservable$.next(g)}onChangesField(){return this.fieldSchemaSubject$}emmitFieldKey(g){this._selectedFieldKeySubject$.next(g)}onChangedFieldKey(){return this.selectedFieldKeyObservable$}emmitSharedConnectList(g){this._sharedConnectListSubject$.next(g)}onChangesSharedConnectList(){return this.sharedConnectListObservable$}emmitShowSectionToolbar(g){this._showSectionToolbarSubject$.next(g)}onChangesShowSectionToolbar(){return this.showSectionToolbarObservable$}emmitSelectedForm(g){this._selectedFormSubject$.next(g)}onChangesSelectedForm(){return this.selectedFormObservable$}getFormById(g){const b=this.forms.find(M=>M._id===g)??this.forms[this.forms.length-1];this.selectedForm=b??new H.l0,this.emmitSelectedForm(b)}formBuilderCreateForm(g){return this.http.post(`${this.baseUrl}/forms`,g)}formBuilderUpdateForm(g,b){return this.http.put(`${this.baseUrl}/forms/${g}`,b)}formBuilderGetAll(){return this.http.get(`${this.baseUrl}/forms`)}formBuilderGetOne(g){return this.http.get(`${this.baseUrl}/forms/${g}`)}formBuilderRemoveOne(g){return this.http.delete(`${this.baseUrl}/forms/${g}`)}}return B.\u0275fac=function(g){return new(g||B)(ft.\u0275\u0275inject(wt.HttpClient))},B.\u0275prov=ft.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac,providedIn:"root"}),B})()},747:(fe,ie,w)=>{w.d(ie,{N:()=>l});const l={production:!0,baseUrl:"http://localhost:3000"}},952:(fe,ie,w)=>{w.d(ie,{Ku:()=>l,UZ:()=>H,bn:()=>G,K7:()=>$,gk:()=>Y,l0:()=>ae});var l=(()=>{return(N=l||(l={})).SUBMIT="submit",N.FETCHING="fetching",N.FILL_DATATABLE="fillDataTable",l;var N})();class H{constructor(R){this.fields=R?.fields??[],this.schemeColumns=R?.schemeColumns??[],this.generalSetting=R?.generalSetting??new Y,this.variables=R?.variables??[]}}class G{constructor(R){this.key=R?.key??"",this.numberColumns=R?.numberColumns??0,this.schemaLayout=R?.schemaLayout??[]}}class ${constructor(R){this.key=R?.key??"",this.isArray=R?.isArray??!1,this.type=R?.type??"",this.label=R?.label??"",this.title=R?.title??"",this.value=R?.value??"",this.mask=R?.mask??"",this.specialCharacters=R?.specialCharacters??[],this.patterns=R?.patterns??{},this.required=R?.required??!1,this.disabled=R?.disabled??!1,this.placeholder=R?.placeholder??"",this.options=R?.options??[],this.multiline=R?.multiline??!1,this.eventType=R?.eventType??"",this.propertiesStyle=R?.propertiesStyle??{},this.typeReference=R?.typeReference??"",this.header=R?.header??[],this.fetching=R?.fetching??{}}}class Y{constructor(R){this.endpointUrlBase=R?.endpointUrlBase??"",this.token=R?.token??"",this.typeForm=R?.typeForm??""}}class ae extends class oe{constructor(R){this._id=R?._id??"",this.active=R?.active??0,this.createdAt=R?.createdAt??0,this.updatedAt=R?.updatedAt??0}}{constructor(R){super(R),this.name=R?.name??"",this.description=R?.description??"",this.settings=R?.settings??new H}}},9153:(fe,ie,w)=>{w.d(ie,{s:()=>l});class l{static EnumToObject(F){return Object.keys(F).reduce((H,I)=>({...H,[I]:F[I]}),{})}}},2186:(fe,ie,w)=>{w(6483)},754:(fe,ie,w)=>{w.d(ie,{r:()=>l});class l{static getValueBetweenTwoCharacters(F,H,I){return F.substring(F.indexOf(H)+H.length,F.lastIndexOf(I))}static getAllValueBetweenCharacters(F,H){const I=new RegExp(`${F}(.*?)${H}`,"gm"),G=$=>$.slice(F.length,-1*H.length);return function($){return $.match(I)?.map(G)}}}},8954:(fe,ie,w)=>{function pt(ue){return 0===ue.offsetX&&0===ue.offsetY}function Te(ue){const V=ue.touches&&ue.touches[0]||ue.changedTouches&&ue.changedTouches[0];return!(!V||-1!==V.identifier||null!=V.radiusX&&1!==V.radiusX||null!=V.radiusY&&1!==V.radiusY)}w.d(ie,{X6:()=>pt,yG:()=>Te}),w(3192),w(7451),w(824),w(5436),w(5033),w(6321)},5875:(fe,ie,w)=>{w.d(ie,{Is:()=>$});var l=w(7451),d=w(3192);const F=new l.InjectionToken("cdk-dir-doc",{providedIn:"root",factory:function H(){return(0,l.inject)(d.DOCUMENT)}}),I=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let $=(()=>{class oe{constructor(N){if(this.value="ltr",this.change=new l.EventEmitter,N){const C=N.documentElement?N.documentElement.dir:null;this.value=function G(oe){const ae=oe?.toLowerCase()||"";return"auto"===ae&&"undefined"!=typeof navigator&&navigator?.language?I.test(navigator.language)?"rtl":"ltr":"rtl"===ae?"rtl":"ltr"}((N.body?N.body.dir:null)||C||"ltr")}}ngOnDestroy(){this.change.complete()}}return oe.\u0275fac=function(N){return new(N||oe)(l.\u0275\u0275inject(F,8))},oe.\u0275prov=l.\u0275\u0275defineInjectable({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})()},4929:(fe,ie,w)=>{w.d(ie,{Eq:()=>I,Ig:()=>d,fI:()=>$,su:()=>F});var l=w(7451);function d(Y){return null!=Y&&"false"!=`${Y}`}function F(Y,oe=0){return function H(Y){return!isNaN(parseFloat(Y))&&!isNaN(Number(Y))}(Y)?Number(Y):oe}function I(Y){return Array.isArray(Y)?Y:[Y]}function $(Y){return Y instanceof l.ElementRef?Y.nativeElement:Y}},4350:(fe,ie,w)=>{w.d(ie,{Zt:()=>ue,Bh:()=>pe,Wj:()=>We,Fd:()=>dt,bA:()=>Ee,EA:()=>Oe});var l=w(7451),d=w(3192),F=w(5531),H=w(6321),I=w(4929),G=w(8954),$=w(824),le=w(5033),Y=w(5875);function oe(S,v,m){for(let _ in v)if(v.hasOwnProperty(_)){const E=v[_];E?S.setProperty(_,E,m?.has(_)?"important":""):S.removeProperty(_)}return S}function ae(S,v){const m=v?"":"none";oe(S.style,{"touch-action":v?"":"none","-webkit-user-drag":v?"":"none","-webkit-tap-highlight-color":v?"":"transparent","user-select":m,"-ms-user-select":m,"-webkit-user-select":m,"-moz-user-select":m})}function N(S,v,m){oe(S.style,{position:v?"":"fixed",top:v?"":"0",opacity:v?"":"0",left:v?"":"-999em"},m)}function R(S,v){return v&&"none"!=v?S+" "+v:S}function C(S){const v=S.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(S)*v}function z(S,v){return S.getPropertyValue(v).split(",").map(_=>_.trim())}function ge(S){const v=S.getBoundingClientRect();return{top:v.top,right:v.right,bottom:v.bottom,left:v.left,width:v.width,height:v.height,x:v.x,y:v.y}}function xe(S,v,m){const{top:_,bottom:E,left:k,right:K}=S;return m>=_&&m<=E&&v>=k&&v<=K}function Ye(S,v,m){S.top+=v,S.bottom=S.top+S.height,S.left+=m,S.right=S.left+S.width}function Xe(S,v,m,_){const{top:E,right:k,bottom:K,left:ne,width:Ce,height:Fe}=S,Ke=Ce*v,st=Fe*v;return _>E-st&&_<K+st&&m>ne-Ke&&m<k+Ke}class Ze{constructor(v,m){this._document=v,this._viewportRuler=m,this.positions=new Map}clear(){this.positions.clear()}cache(v){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),v.forEach(m=>{this.positions.set(m,{scrollPosition:{top:m.scrollTop,left:m.scrollLeft},clientRect:ge(m)})})}handleScroll(v){const m=(0,H.sA)(v),_=this.positions.get(m);if(!_)return null;const E=_.scrollPosition;let k,K;if(m===this._document){const Fe=this._viewportRuler.getViewportScrollPosition();k=Fe.top,K=Fe.left}else k=m.scrollTop,K=m.scrollLeft;const ne=E.top-k,Ce=E.left-K;return this.positions.forEach((Fe,Ke)=>{Fe.clientRect&&m!==Ke&&m.contains(Ke)&&Ye(Fe.clientRect,ne,Ce)}),E.top=k,E.left=K,{top:ne,left:Ce}}}function ye(S){const v=S.cloneNode(!0),m=v.querySelectorAll("[id]"),_=S.nodeName.toLowerCase();v.removeAttribute("id");for(let E=0;E<m.length;E++)m[E].removeAttribute("id");return"canvas"===_?Pe(S,v):("input"===_||"select"===_||"textarea"===_)&&ze(S,v),Ge("canvas",S,v,Pe),Ge("input, textarea, select",S,v,ze),v}function Ge(S,v,m,_){const E=v.querySelectorAll(S);if(E.length){const k=m.querySelectorAll(S);for(let K=0;K<E.length;K++)_(E[K],k[K])}}let $e=0;function ze(S,v){"file"!==v.type&&(v.value=S.value),"radio"===v.type&&v.name&&(v.name=`mat-clone-${v.name}-${$e++}`)}function Pe(S,v){const m=v.getContext("2d");if(m)try{m.drawImage(S,0,0)}catch{}}const ee=(0,H.i$)({passive:!0}),se=(0,H.i$)({passive:!1}),ce=new Set(["position"]);class Ne{constructor(v,m,_,E,k,K){this._config=m,this._document=_,this._ngZone=E,this._viewportRuler=k,this._dragDropRegistry=K,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new $.Subject,this._pointerMoveSubscription=$.Subscription.EMPTY,this._pointerUpSubscription=$.Subscription.EMPTY,this._scrollSubscription=$.Subscription.EMPTY,this._resizeSubscription=$.Subscription.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new $.Subject,this.started=new $.Subject,this.released=new $.Subject,this.ended=new $.Subject,this.entered=new $.Subject,this.exited=new $.Subject,this.dropped=new $.Subject,this.moved=this._moveEvents,this._pointerDown=ne=>{if(this.beforeStarted.next(),this._handles.length){const Ce=this._handles.find(Fe=>ne.target&&(ne.target===Fe||Fe.contains(ne.target)));Ce&&!this._disabledHandles.has(Ce)&&!this.disabled&&this._initializeDragSequence(Ce,ne)}else this.disabled||this._initializeDragSequence(this._rootElement,ne)},this._pointerMove=ne=>{const Ce=this._getPointerPositionOnPage(ne);if(!this._hasStartedDragging){if(Math.abs(Ce.x-this._pickupPositionOnPage.x)+Math.abs(Ce.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const ft=Date.now()>=this._dragStartTime+this._getDragStartDelay(ne),wt=this._dropContainer;if(!ft)return void this._endDragSequence(ne);(!wt||!wt.isDragging()&&!wt.isReceiving())&&(ne.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(ne)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),ne.preventDefault();const Fe=this._getConstrainedPointerPosition(Ce);if(this._hasMoved=!0,this._lastKnownPointerPosition=Ce,this._updatePointerDirectionDelta(Fe),this._dropContainer)this._updateActiveDropContainer(Fe,Ce);else{const Ke=this._activeTransform;Ke.x=Fe.x-this._pickupPositionOnPage.x+this._passiveTransform.x,Ke.y=Fe.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(Ke.x,Ke.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:Fe,event:ne,distance:this._getDragDistance(Fe),delta:this._pointerDirectionDelta})})},this._pointerUp=ne=>{this._endDragSequence(ne)},this.withRootElement(v).withParent(m.parentDragRef||null),this._parentPositions=new Ze(_,k),K.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(v){const m=(0,I.Ig)(v);m!==this._disabled&&(this._disabled=m,this._toggleNativeDragInteractions(),this._handles.forEach(_=>ae(_,m)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(v){this._handles=v.map(_=>(0,I.fI)(_)),this._handles.forEach(_=>ae(_,this.disabled)),this._toggleNativeDragInteractions();const m=new Set;return this._disabledHandles.forEach(_=>{this._handles.indexOf(_)>-1&&m.add(_)}),this._disabledHandles=m,this}withPreviewTemplate(v){return this._previewTemplate=v,this}withPlaceholderTemplate(v){return this._placeholderTemplate=v,this}withRootElement(v){const m=(0,I.fI)(v);return m!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{m.addEventListener("mousedown",this._pointerDown,se),m.addEventListener("touchstart",this._pointerDown,ee)}),this._initialTransform=void 0,this._rootElement=m),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(v){return this._boundaryElement=v?(0,I.fI)(v):null,this._resizeSubscription.unsubscribe(),v&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(v){return this._parentDragRef=v,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(v){!this._disabledHandles.has(v)&&this._handles.indexOf(v)>-1&&(this._disabledHandles.add(v),ae(v,!0))}enableHandle(v){this._disabledHandles.has(v)&&(this._disabledHandles.delete(v),ae(v,this.disabled))}withDirection(v){return this._direction=v,this}_withDropContainer(v){this._dropContainer=v}getFreeDragPosition(){const v=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:v.x,y:v.y}}setFreeDragPosition(v){return this._activeTransform={x:0,y:0},this._passiveTransform.x=v.x,this._passiveTransform.y=v.y,this._dropContainer||this._applyRootElementTransform(v.x,v.y),this}withPreviewContainer(v){return this._previewContainer=v,this}_sortFromLastPointerPosition(){const v=this._lastKnownPointerPosition;v&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(v),v)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(v){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(v),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const m=this._getPointerPositionOnPage(v);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(m),dropPoint:m})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(v){j(v)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const m=this._dropContainer;if(m){const _=this._rootElement,E=_.parentNode,k=this._placeholder=this._createPlaceholderElement(),K=this._anchor=this._anchor||this._document.createComment(""),ne=this._getShadowRoot();E.insertBefore(K,_),this._initialTransform=_.style.transform||"",this._preview=this._createPreviewElement(),N(_,!1,ce),this._document.body.appendChild(E.replaceChild(k,_)),this._getPreviewInsertionPoint(E,ne).appendChild(this._preview),this.started.next({source:this}),m.start(),this._initialContainer=m,this._initialIndex=m.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(m?m.getScrollableParents():[])}_initializeDragSequence(v,m){this._parentDragRef&&m.stopPropagation();const _=this.isDragging(),E=j(m),k=!E&&0!==m.button,K=this._rootElement,ne=(0,H.sA)(m),Ce=!E&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),Fe=E?(0,G.yG)(m):(0,G.X6)(m);if(ne&&ne.draggable&&"mousedown"===m.type&&m.preventDefault(),_||k||Ce||Fe)return;if(this._handles.length){const tt=K.style;this._rootElementTapHighlight=tt.webkitTapHighlightColor||"",tt.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(tt=>this._updateOnScroll(tt)),this._boundaryElement&&(this._boundaryRect=ge(this._boundaryElement));const Ke=this._previewTemplate;this._pickupPositionInElement=Ke&&Ke.template&&!Ke.matchSize?{x:0,y:0}:this._getPointerPositionInElement(v,m);const st=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(m);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:st.x,y:st.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,m)}_cleanupDragArtifacts(v){N(this._rootElement,!0,ce),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const m=this._dropContainer,_=m.getItemIndex(this),E=this._getPointerPositionOnPage(v),k=this._getDragDistance(E),K=m._isOverContainer(E.x,E.y);this.ended.next({source:this,distance:k,dropPoint:E}),this.dropped.next({item:this,currentIndex:_,previousIndex:this._initialIndex,container:m,previousContainer:this._initialContainer,isPointerOverContainer:K,distance:k,dropPoint:E}),m.drop(this,_,this._initialIndex,this._initialContainer,K,k,E),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:v,y:m},{x:_,y:E}){let k=this._initialContainer._getSiblingContainerFromPosition(this,v,m);!k&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(v,m)&&(k=this._initialContainer),k&&k!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=k,this._dropContainer.enter(this,v,m,k===this._initialContainer&&k.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:k,currentIndex:k.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(_,E),this._dropContainer._sortItem(this,v,m,this._pointerDirectionDelta),this._applyPreviewTransform(v-this._pickupPositionInElement.x,m-this._pickupPositionInElement.y))}_createPreviewElement(){const v=this._previewTemplate,m=this.previewClass,_=v?v.template:null;let E;if(_&&v){const k=v.matchSize?this._rootElement.getBoundingClientRect():null,K=v.viewContainer.createEmbeddedView(_,v.context);K.detectChanges(),E=q(K,this._document),this._previewRef=K,v.matchSize?_e(E,k):E.style.transform=Me(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const k=this._rootElement;E=ye(k),_e(E,k.getBoundingClientRect()),this._initialTransform&&(E.style.transform=this._initialTransform)}return oe(E.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},ce),ae(E,!1),E.classList.add("cdk-drag-preview"),E.setAttribute("dir",this._direction),m&&(Array.isArray(m)?m.forEach(k=>E.classList.add(k)):E.classList.add(m)),E}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const v=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(v.left,v.top);const m=function O(S){const v=getComputedStyle(S),m=z(v,"transition-property"),_=m.find(ne=>"transform"===ne||"all"===ne);if(!_)return 0;const E=m.indexOf(_),k=z(v,"transition-duration"),K=z(v,"transition-delay");return C(k[E])+C(K[E])}(this._preview);return 0===m?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(_=>{const E=K=>{(!K||(0,H.sA)(K)===this._preview&&"transform"===K.propertyName)&&(this._preview?.removeEventListener("transitionend",E),_(),clearTimeout(k))},k=setTimeout(E,1.5*m);this._preview.addEventListener("transitionend",E)}))}_createPlaceholderElement(){const v=this._placeholderTemplate,m=v?v.template:null;let _;return m?(this._placeholderRef=v.viewContainer.createEmbeddedView(m,v.context),this._placeholderRef.detectChanges(),_=q(this._placeholderRef,this._document)):_=ye(this._rootElement),_.classList.add("cdk-drag-placeholder"),_}_getPointerPositionInElement(v,m){const _=this._rootElement.getBoundingClientRect(),E=v===this._rootElement?null:v,k=E?E.getBoundingClientRect():_,K=j(m)?m.targetTouches[0]:m,ne=this._getViewportScrollPosition();return{x:k.left-_.left+(K.pageX-k.left-ne.left),y:k.top-_.top+(K.pageY-k.top-ne.top)}}_getPointerPositionOnPage(v){const m=this._getViewportScrollPosition(),_=j(v)?v.touches[0]||v.changedTouches[0]||{pageX:0,pageY:0}:v,E=_.pageX-m.left,k=_.pageY-m.top;if(this._ownerSVGElement){const K=this._ownerSVGElement.getScreenCTM();if(K){const ne=this._ownerSVGElement.createSVGPoint();return ne.x=E,ne.y=k,ne.matrixTransform(K.inverse())}}return{x:E,y:k}}_getConstrainedPointerPosition(v){const m=this._dropContainer?this._dropContainer.lockAxis:null;let{x:_,y:E}=this.constrainPosition?this.constrainPosition(v,this):v;if("x"===this.lockAxis||"x"===m?E=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===m)&&(_=this._pickupPositionOnPage.x),this._boundaryRect){const{x:k,y:K}=this._pickupPositionInElement,ne=this._boundaryRect,Ce=this._previewRect,Fe=ne.top+K,Ke=ne.bottom-(Ce.height-K);_=Ve(_,ne.left+k,ne.right-(Ce.width-k)),E=Ve(E,Fe,Ke)}return{x:_,y:E}}_updatePointerDirectionDelta(v){const{x:m,y:_}=v,E=this._pointerDirectionDelta,k=this._pointerPositionAtLastDirectionChange,K=Math.abs(m-k.x),ne=Math.abs(_-k.y);return K>this._config.pointerDirectionChangeThreshold&&(E.x=m>k.x?1:-1,k.x=m),ne>this._config.pointerDirectionChangeThreshold&&(E.y=_>k.y?1:-1,k.y=_),E}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const v=this._handles.length>0||!this.isDragging();v!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=v,ae(this._rootElement,v))}_removeRootElementListeners(v){v.removeEventListener("mousedown",this._pointerDown,se),v.removeEventListener("touchstart",this._pointerDown,ee)}_applyRootElementTransform(v,m){const _=Me(v,m),E=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=E.transform&&"none"!=E.transform?E.transform:""),E.transform=R(_,this._initialTransform)}_applyPreviewTransform(v,m){const _=this._previewTemplate?.template?void 0:this._initialTransform,E=Me(v,m);this._preview.style.transform=R(E,_)}_getDragDistance(v){const m=this._pickupPositionOnPage;return m?{x:v.x-m.x,y:v.y-m.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:v,y:m}=this._passiveTransform;if(0===v&&0===m||this.isDragging()||!this._boundaryElement)return;const _=this._boundaryElement.getBoundingClientRect(),E=this._rootElement.getBoundingClientRect();if(0===_.width&&0===_.height||0===E.width&&0===E.height)return;const k=_.left-E.left,K=E.right-_.right,ne=_.top-E.top,Ce=E.bottom-_.bottom;_.width>E.width?(k>0&&(v+=k),K>0&&(v-=K)):v=0,_.height>E.height?(ne>0&&(m+=ne),Ce>0&&(m-=Ce)):m=0,(v!==this._passiveTransform.x||m!==this._passiveTransform.y)&&this.setFreeDragPosition({y:m,x:v})}_getDragStartDelay(v){const m=this.dragStartDelay;return"number"==typeof m?m:j(v)?m.touch:m?m.mouse:0}_updateOnScroll(v){const m=this._parentPositions.handleScroll(v);if(m){const _=(0,H.sA)(v);this._boundaryRect&&_!==this._boundaryElement&&_.contains(this._boundaryElement)&&Ye(this._boundaryRect,m.top,m.left),this._pickupPositionOnPage.x+=m.left,this._pickupPositionOnPage.y+=m.top,this._dropContainer||(this._activeTransform.x-=m.left,this._activeTransform.y-=m.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const v=this._parentPositions.positions.get(this._document);return v?v.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,H.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(v,m){const _=this._previewContainer||"global";if("parent"===_)return v;if("global"===_){const E=this._document;return m||E.fullscreenElement||E.webkitFullscreenElement||E.mozFullScreenElement||E.msFullscreenElement||E.body}return(0,I.fI)(_)}}function Me(S,v){return`translate3d(${Math.round(S)}px, ${Math.round(v)}px, 0)`}function Ve(S,v,m){return Math.max(v,Math.min(m,S))}function j(S){return"t"===S.type[0]}function q(S,v){const m=S.rootNodes;if(1===m.length&&m[0].nodeType===v.ELEMENT_NODE)return m[0];const _=v.createElement("div");return m.forEach(E=>_.appendChild(E)),_}function _e(S,v){S.style.width=`${v.width}px`,S.style.height=`${v.height}px`,S.style.transform=Me(v.left,v.top)}function Ee(S,v,m){const _=rt(v,S.length-1),E=rt(m,S.length-1);if(_===E)return;const k=S[_],K=E<_?-1:1;for(let ne=_;ne!==E;ne+=K)S[ne]=S[ne+K];S[E]=k}function Oe(S,v,m,_){const E=rt(m,S.length-1),k=rt(_,v.length);S.length&&v.splice(k,0,S.splice(E,1)[0])}function rt(S,v){return Math.max(0,Math.min(v,S))}class Ct{constructor(v,m,_,E,k){this._dragDropRegistry=m,this._ngZone=E,this._viewportRuler=k,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new $.Subject,this.entered=new $.Subject,this.exited=new $.Subject,this.dropped=new $.Subject,this.sorted=new $.Subject,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=$.Subscription.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new $.Subject,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,$.interval)(0,$.animationFrameScheduler).pipe((0,le.takeUntil)(this._stopScrollTimers)).subscribe(()=>{const K=this._scrollNode,ne=this.autoScrollStep;1===this._verticalScrollDirection?K.scrollBy(0,-ne):2===this._verticalScrollDirection&&K.scrollBy(0,ne),1===this._horizontalScrollDirection?K.scrollBy(-ne,0):2===this._horizontalScrollDirection&&K.scrollBy(ne,0)})},this.element=(0,I.fI)(v),this._document=_,this.withScrollableParents([this.element]),m.registerDropContainer(this),this._parentPositions=new Ze(_,k)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(v,m,_,E){let k;this._draggingStarted(),null==E?(k=this.sortingDisabled?this._draggables.indexOf(v):-1,-1===k&&(k=this._getItemIndexFromPointerPosition(v,m,_))):k=E;const K=this._activeDraggables,ne=K.indexOf(v),Ce=v.getPlaceholderElement();let Fe=K[k];if(Fe===v&&(Fe=K[k+1]),!Fe&&(null==k||-1===k||k<K.length-1)&&this._shouldEnterAsFirstChild(m,_)&&(Fe=K[0]),ne>-1&&K.splice(ne,1),Fe&&!this._dragDropRegistry.isDragging(Fe)){const Ke=Fe.getRootElement();Ke.parentElement.insertBefore(Ce,Ke),K.splice(k,0,v)}else(0,I.fI)(this.element).appendChild(Ce),K.push(v);Ce.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:v,container:this,currentIndex:this.getItemIndex(v)})}exit(v){this._reset(),this.exited.next({item:v,container:this})}drop(v,m,_,E,k,K,ne){this._reset(),this.dropped.next({item:v,currentIndex:m,previousIndex:_,container:this,previousContainer:E,isPointerOverContainer:k,distance:K,dropPoint:ne})}withItems(v){const m=this._draggables;return this._draggables=v,v.forEach(_=>_._withDropContainer(this)),this.isDragging()&&(m.filter(E=>E.isDragging()).every(E=>-1===v.indexOf(E))?this._reset():this._cacheItems()),this}withDirection(v){return this._direction=v,this}connectedTo(v){return this._siblings=v.slice(),this}withOrientation(v){return this._orientation=v,this}withScrollableParents(v){const m=(0,I.fI)(this.element);return this._scrollableElements=-1===v.indexOf(m)?[m,...v]:v.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(v){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(_=>_.drag===v):this._draggables.indexOf(v)}isReceiving(){return this._activeSiblings.size>0}_sortItem(v,m,_,E){if(this.sortingDisabled||!this._clientRect||!Xe(this._clientRect,.05,m,_))return;const k=this._itemPositions,K=this._getItemIndexFromPointerPosition(v,m,_,E);if(-1===K&&k.length>0)return;const ne="horizontal"===this._orientation,Ce=k.findIndex(bt=>bt.drag===v),Fe=k[K],st=Fe.clientRect,tt=Ce>K?1:-1,ft=this._getItemOffsetPx(k[Ce].clientRect,st,tt),wt=this._getSiblingOffsetPx(Ce,k,tt),Dt=k.slice();Ee(k,Ce,K),this.sorted.next({previousIndex:Ce,currentIndex:K,container:this,item:v}),k.forEach((bt,B)=>{if(Dt[B]===bt)return;const T=bt.drag===v,g=T?ft:wt,b=T?v.getPlaceholderElement():bt.drag.getRootElement();bt.offset+=g,ne?(b.style.transform=R(`translate3d(${Math.round(bt.offset)}px, 0, 0)`,bt.initialTransform),Ye(bt.clientRect,0,g)):(b.style.transform=R(`translate3d(0, ${Math.round(bt.offset)}px, 0)`,bt.initialTransform),Ye(bt.clientRect,g,0))}),this._previousSwap.overlaps=xe(st,m,_),this._previousSwap.drag=Fe.drag,this._previousSwap.delta=ne?E.x:E.y}_startScrollingIfNecessary(v,m){if(this.autoScrollDisabled)return;let _,E=0,k=0;if(this._parentPositions.positions.forEach((K,ne)=>{ne===this._document||!K.clientRect||_||Xe(K.clientRect,.05,v,m)&&([E,k]=function Te(S,v,m,_){const E=yt(v,_),k=pt(v,m);let K=0,ne=0;if(E){const Ce=S.scrollTop;1===E?Ce>0&&(K=1):S.scrollHeight-Ce>S.clientHeight&&(K=2)}if(k){const Ce=S.scrollLeft;1===k?Ce>0&&(ne=1):S.scrollWidth-Ce>S.clientWidth&&(ne=2)}return[K,ne]}(ne,K.clientRect,v,m),(E||k)&&(_=ne))}),!E&&!k){const{width:K,height:ne}=this._viewportRuler.getViewportSize(),Ce={width:K,height:ne,top:0,right:K,bottom:ne,left:0};E=yt(Ce,m),k=pt(Ce,v),_=window}_&&(E!==this._verticalScrollDirection||k!==this._horizontalScrollDirection||_!==this._scrollNode)&&(this._verticalScrollDirection=E,this._horizontalScrollDirection=k,this._scrollNode=_,(E||k)&&_?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const v=(0,I.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=v.msScrollSnapType||v.scrollSnapType||"",v.scrollSnapType=v.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const v=(0,I.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(v).clientRect}_cacheItemPositions(){const v="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(m=>{const _=m.getVisibleElement();return{drag:m,offset:0,initialTransform:_.style.transform||"",clientRect:ge(_)}}).sort((m,_)=>v?m.clientRect.left-_.clientRect.left:m.clientRect.top-_.clientRect.top)}_reset(){this._isDragging=!1;const v=(0,I.fI)(this.element).style;v.scrollSnapType=v.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(m=>{const _=m.getRootElement();if(_){const E=this._itemPositions.find(k=>k.drag===m)?.initialTransform;_.style.transform=E||""}}),this._siblings.forEach(m=>m._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(v,m,_){const E="horizontal"===this._orientation,k=m[v].clientRect,K=m[v+-1*_];let ne=k[E?"width":"height"]*_;if(K){const Ce=E?"left":"top",Fe=E?"right":"bottom";-1===_?ne-=K.clientRect[Ce]-k[Fe]:ne+=k[Ce]-K.clientRect[Fe]}return ne}_getItemOffsetPx(v,m,_){const E="horizontal"===this._orientation;let k=E?m.left-v.left:m.top-v.top;return-1===_&&(k+=E?m.width-v.width:m.height-v.height),k}_shouldEnterAsFirstChild(v,m){if(!this._activeDraggables.length)return!1;const _=this._itemPositions,E="horizontal"===this._orientation;if(_[0].drag!==this._activeDraggables[0]){const K=_[_.length-1].clientRect;return E?v>=K.right:m>=K.bottom}{const K=_[0].clientRect;return E?v<=K.left:m<=K.top}}_getItemIndexFromPointerPosition(v,m,_,E){const k="horizontal"===this._orientation,K=this._itemPositions.findIndex(({drag:ne,clientRect:Ce})=>{if(ne===v)return!1;if(E){const Fe=k?E.x:E.y;if(ne===this._previousSwap.drag&&this._previousSwap.overlaps&&Fe===this._previousSwap.delta)return!1}return k?m>=Math.floor(Ce.left)&&m<Math.floor(Ce.right):_>=Math.floor(Ce.top)&&_<Math.floor(Ce.bottom)});return-1!==K&&this.sortPredicate(K,v,this)?K:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(v,m){return null!=this._clientRect&&xe(this._clientRect,v,m)}_getSiblingContainerFromPosition(v,m,_){return this._siblings.find(E=>E._canReceive(v,m,_))}_canReceive(v,m,_){if(!this._clientRect||!xe(this._clientRect,m,_)||!this.enterPredicate(v,this))return!1;const E=this._getShadowRoot().elementFromPoint(m,_);if(!E)return!1;const k=(0,I.fI)(this.element);return E===k||k.contains(E)}_startReceiving(v,m){const _=this._activeSiblings;!_.has(v)&&m.every(E=>this.enterPredicate(E,this)||this._draggables.indexOf(E)>-1)&&(_.add(v),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(v){this._activeSiblings.delete(v),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(v=>{if(this.isDragging()){const m=this._parentPositions.handleScroll(v);m&&(this._itemPositions.forEach(({clientRect:_})=>{Ye(_,m.top,m.left)}),this._itemPositions.forEach(({drag:_})=>{this._dragDropRegistry.isDragging(_)&&_._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const v=(0,H.kV)((0,I.fI)(this.element));this._cachedShadowRoot=v||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const v=this._activeDraggables.filter(m=>m.isDragging());this._siblings.forEach(m=>m._startReceiving(this,v))}}function yt(S,v){const{top:m,bottom:_,height:E}=S,k=.05*E;return v>=m-k&&v<=m+k?1:v>=_-k&&v<=_+k?2:0}function pt(S,v){const{left:m,right:_,width:E}=S,k=.05*E;return v>=m-k&&v<=m+k?1:v>=_-k&&v<=_+k?2:0}const ke=(0,H.i$)({passive:!1,capture:!0});let te=(()=>{class S{constructor(m,_){this._ngZone=m,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=E=>E.isDragging(),this.pointerMove=new $.Subject,this.pointerUp=new $.Subject,this.scroll=new $.Subject,this._preventDefaultWhileDragging=E=>{this._activeDragInstances.length>0&&E.preventDefault()},this._persistentTouchmoveListener=E=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&E.preventDefault(),this.pointerMove.next(E))},this._document=_}registerDropContainer(m){this._dropInstances.has(m)||this._dropInstances.add(m)}registerDragItem(m){this._dragInstances.add(m),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,ke)})}removeDropContainer(m){this._dropInstances.delete(m)}removeDragItem(m){this._dragInstances.delete(m),this.stopDragging(m),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,ke)}startDragging(m,_){if(!(this._activeDragInstances.indexOf(m)>-1)&&(this._activeDragInstances.push(m),1===this._activeDragInstances.length)){const E=_.type.startsWith("touch");this._globalListeners.set(E?"touchend":"mouseup",{handler:k=>this.pointerUp.next(k),options:!0}).set("scroll",{handler:k=>this.scroll.next(k),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:ke}),E||this._globalListeners.set("mousemove",{handler:k=>this.pointerMove.next(k),options:ke}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((k,K)=>{this._document.addEventListener(K,k.handler,k.options)})})}}stopDragging(m){const _=this._activeDragInstances.indexOf(m);_>-1&&(this._activeDragInstances.splice(_,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(m){return this._activeDragInstances.indexOf(m)>-1}scrolled(m){const _=[this.scroll];return m&&m!==this._document&&_.push(new $.Observable(E=>this._ngZone.runOutsideAngular(()=>{const K=ne=>{this._activeDragInstances.length&&E.next(ne)};return m.addEventListener("scroll",K,!0),()=>{m.removeEventListener("scroll",K,!0)}}))),(0,$.merge)(..._)}ngOnDestroy(){this._dragInstances.forEach(m=>this.removeDragItem(m)),this._dropInstances.forEach(m=>this.removeDropContainer(m)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((m,_)=>{this._document.removeEventListener(_,m.handler,m.options)}),this._globalListeners.clear()}}return S.\u0275fac=function(m){return new(m||S)(l.\u0275\u0275inject(l.NgZone),l.\u0275\u0275inject(d.DOCUMENT))},S.\u0275prov=l.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const Se={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let He=(()=>{class S{constructor(m,_,E,k){this._document=m,this._ngZone=_,this._viewportRuler=E,this._dragDropRegistry=k}createDrag(m,_=Se){return new Ne(m,_,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(m){return new Ct(m,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return S.\u0275fac=function(m){return new(m||S)(l.\u0275\u0275inject(d.DOCUMENT),l.\u0275\u0275inject(l.NgZone),l.\u0275\u0275inject(F.rL),l.\u0275\u0275inject(te))},S.\u0275prov=l.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const Qe=new l.InjectionToken("CDK_DRAG_PARENT"),nt=new l.InjectionToken("CdkDropListGroup");let dt=(()=>{class S{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(m){this._disabled=(0,I.Ig)(m)}ngOnDestroy(){this._items.clear()}}return S.\u0275fac=function(m){return new(m||S)},S.\u0275dir=l.\u0275\u0275defineDirective({type:S,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],features:[l.\u0275\u0275ProvidersFeature([{provide:nt,useExisting:S}])]}),S})();const gt=new l.InjectionToken("CDK_DRAG_CONFIG");let Rt=0;const de=new l.InjectionToken("CdkDropList");let We=(()=>{class S{constructor(m,_,E,k,K,ne,Ce){this.element=m,this._changeDetectorRef=E,this._scrollDispatcher=k,this._dir=K,this._group=ne,this._destroyed=new $.Subject,this.connectedTo=[],this.id="cdk-drop-list-"+Rt++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new l.EventEmitter,this.entered=new l.EventEmitter,this.exited=new l.EventEmitter,this.sorted=new l.EventEmitter,this._unsortedItems=new Set,this._dropListRef=_.createDropList(m),this._dropListRef.data=this,Ce&&this._assignDefaults(Ce),this._dropListRef.enterPredicate=(Fe,Ke)=>this.enterPredicate(Fe.data,Ke.data),this._dropListRef.sortPredicate=(Fe,Ke,st)=>this.sortPredicate(Fe,Ke.data,st.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),S._dropLists.push(this),ne&&ne._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(m){this._dropListRef.disabled=this._disabled=(0,I.Ig)(m)}addItem(m){this._unsortedItems.add(m),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(m){this._unsortedItems.delete(m),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((m,_)=>m._dragRef.getVisibleElement().compareDocumentPosition(_._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const m=S._dropLists.indexOf(this);m>-1&&S._dropLists.splice(m,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(m){this._dir&&this._dir.change.pipe((0,le.startWith)(this._dir.value),(0,le.takeUntil)(this._destroyed)).subscribe(_=>m.withDirection(_)),m.beforeStarted.subscribe(()=>{const _=(0,I.Eq)(this.connectedTo).map(E=>"string"==typeof E?S._dropLists.find(K=>K.id===E):E);if(this._group&&this._group._items.forEach(E=>{-1===_.indexOf(E)&&_.push(E)}),!this._scrollableParentsResolved){const E=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(k=>k.getElementRef().nativeElement);this._dropListRef.withScrollableParents(E),this._scrollableParentsResolved=!0}m.disabled=this.disabled,m.lockAxis=this.lockAxis,m.sortingDisabled=(0,I.Ig)(this.sortingDisabled),m.autoScrollDisabled=(0,I.Ig)(this.autoScrollDisabled),m.autoScrollStep=(0,I.su)(this.autoScrollStep,2),m.connectedTo(_.filter(E=>E&&E!==this).map(E=>E._dropListRef)).withOrientation(this.orientation)})}_handleEvents(m){m.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),m.entered.subscribe(_=>{this.entered.emit({container:this,item:_.item.data,currentIndex:_.currentIndex})}),m.exited.subscribe(_=>{this.exited.emit({container:this,item:_.item.data}),this._changeDetectorRef.markForCheck()}),m.sorted.subscribe(_=>{this.sorted.emit({previousIndex:_.previousIndex,currentIndex:_.currentIndex,container:this,item:_.item.data})}),m.dropped.subscribe(_=>{this.dropped.emit({previousIndex:_.previousIndex,currentIndex:_.currentIndex,previousContainer:_.previousContainer.data,container:_.container.data,item:_.item.data,isPointerOverContainer:_.isPointerOverContainer,distance:_.distance,dropPoint:_.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(m){const{lockAxis:_,draggingDisabled:E,sortingDisabled:k,listAutoScrollDisabled:K,listOrientation:ne}=m;this.disabled=E??!1,this.sortingDisabled=k??!1,this.autoScrollDisabled=K??!1,this.orientation=ne||"vertical",_&&(this.lockAxis=_)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(m=>m._dragRef))}}return S._dropLists=[],S.\u0275fac=function(m){return new(m||S)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(He),l.\u0275\u0275directiveInject(l.ChangeDetectorRef),l.\u0275\u0275directiveInject(F.mF),l.\u0275\u0275directiveInject(Y.Is,8),l.\u0275\u0275directiveInject(nt,12),l.\u0275\u0275directiveInject(gt,8))},S.\u0275dir=l.\u0275\u0275defineDirective({type:S,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(m,_){2&m&&(l.\u0275\u0275attribute("id",_.id),l.\u0275\u0275classProp("cdk-drop-list-disabled",_.disabled)("cdk-drop-list-dragging",_._dropListRef.isDragging())("cdk-drop-list-receiving",_._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[l.\u0275\u0275ProvidersFeature([{provide:nt,useValue:void 0},{provide:de,useExisting:S}])]}),S})();const W=new l.InjectionToken("CdkDragHandle");let pe=(()=>{class S{constructor(m,_){this.element=m,this._stateChanges=new $.Subject,this._disabled=!1,this._parentDrag=_}get disabled(){return this._disabled}set disabled(m){this._disabled=(0,I.Ig)(m),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return S.\u0275fac=function(m){return new(m||S)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(Qe,12))},S.\u0275dir=l.\u0275\u0275defineDirective({type:S,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[l.\u0275\u0275ProvidersFeature([{provide:W,useExisting:S}])]}),S})();const ve=new l.InjectionToken("CdkDragPlaceholder"),qe=new l.InjectionToken("CdkDragPreview");let ue=(()=>{class S{constructor(m,_,E,k,K,ne,Ce,Fe,Ke,st,tt){this.element=m,this.dropContainer=_,this._ngZone=k,this._viewContainerRef=K,this._dir=Ce,this._changeDetectorRef=Ke,this._selfHandle=st,this._parentDrag=tt,this._destroyed=new $.Subject,this.started=new l.EventEmitter,this.released=new l.EventEmitter,this.ended=new l.EventEmitter,this.entered=new l.EventEmitter,this.exited=new l.EventEmitter,this.dropped=new l.EventEmitter,this.moved=new $.Observable(ft=>{const wt=this._dragRef.moved.pipe((0,le.map)(Dt=>({source:this,pointerPosition:Dt.pointerPosition,event:Dt.event,delta:Dt.delta,distance:Dt.distance}))).subscribe(ft);return()=>{wt.unsubscribe()}}),this._dragRef=Fe.createDrag(m,{dragStartThreshold:ne&&null!=ne.dragStartThreshold?ne.dragStartThreshold:5,pointerDirectionChangeThreshold:ne&&null!=ne.pointerDirectionChangeThreshold?ne.pointerDirectionChangeThreshold:5,zIndex:ne?.zIndex}),this._dragRef.data=this,S._dragInstances.push(this),ne&&this._assignDefaults(ne),_&&(this._dragRef._withDropContainer(_._dropListRef),_.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(m){this._disabled=(0,I.Ig)(m),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,le.take)(1),(0,le.takeUntil)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(m){const _=m.rootElementSelector,E=m.freeDragPosition;_&&!_.firstChange&&this._updateRootElement(),E&&!E.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const m=S._dragInstances.indexOf(this);m>-1&&S._dragInstances.splice(m,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const m=this.element.nativeElement;let _=m;this.rootElementSelector&&(_=void 0!==m.closest?m.closest(this.rootElementSelector):m.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(_||m)}_getBoundaryElement(){const m=this.boundaryElement;return m?"string"==typeof m?this.element.nativeElement.closest(m):(0,I.fI)(m):null}_syncInputs(m){m.beforeStarted.subscribe(()=>{if(!m.isDragging()){const _=this._dir,E=this.dragStartDelay,k=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,K=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;m.disabled=this.disabled,m.lockAxis=this.lockAxis,m.dragStartDelay="object"==typeof E&&E?E:(0,I.su)(E),m.constrainPosition=this.constrainPosition,m.previewClass=this.previewClass,m.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(k).withPreviewTemplate(K).withPreviewContainer(this.previewContainer||"global"),_&&m.withDirection(_.value)}}),m.beforeStarted.pipe((0,le.take)(1)).subscribe(()=>{if(this._parentDrag)return void m.withParent(this._parentDrag._dragRef);let _=this.element.nativeElement.parentElement;for(;_;){if(_.classList.contains("cdk-drag")){m.withParent(S._dragInstances.find(E=>E.element.nativeElement===_)?._dragRef||null);break}_=_.parentElement}})}_handleEvents(m){m.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),m.released.subscribe(()=>{this.released.emit({source:this})}),m.ended.subscribe(_=>{this.ended.emit({source:this,distance:_.distance,dropPoint:_.dropPoint}),this._changeDetectorRef.markForCheck()}),m.entered.subscribe(_=>{this.entered.emit({container:_.container.data,item:this,currentIndex:_.currentIndex})}),m.exited.subscribe(_=>{this.exited.emit({container:_.container.data,item:this})}),m.dropped.subscribe(_=>{this.dropped.emit({previousIndex:_.previousIndex,currentIndex:_.currentIndex,previousContainer:_.previousContainer.data,container:_.container.data,isPointerOverContainer:_.isPointerOverContainer,item:this,distance:_.distance,dropPoint:_.dropPoint})})}_assignDefaults(m){const{lockAxis:_,dragStartDelay:E,constrainPosition:k,previewClass:K,boundaryElement:ne,draggingDisabled:Ce,rootElementSelector:Fe,previewContainer:Ke}=m;this.disabled=Ce??!1,this.dragStartDelay=E||0,_&&(this.lockAxis=_),k&&(this.constrainPosition=k),K&&(this.previewClass=K),ne&&(this.boundaryElement=ne),Fe&&(this.rootElementSelector=Fe),Ke&&(this.previewContainer=Ke)}_setupHandlesListener(){this._handles.changes.pipe((0,le.startWith)(this._handles),(0,le.tap)(m=>{const _=m.filter(E=>E._parentDrag===this).map(E=>E.element);this._selfHandle&&this.rootElementSelector&&_.push(this.element),this._dragRef.withHandles(_)}),(0,le.switchMap)(m=>(0,$.merge)(...m.map(_=>_._stateChanges.pipe((0,le.startWith)(_))))),(0,le.takeUntil)(this._destroyed)).subscribe(m=>{const _=this._dragRef,E=m.element.nativeElement;m.disabled?_.disableHandle(E):_.enableHandle(E)})}}return S._dragInstances=[],S.\u0275fac=function(m){return new(m||S)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(de,12),l.\u0275\u0275directiveInject(d.DOCUMENT),l.\u0275\u0275directiveInject(l.NgZone),l.\u0275\u0275directiveInject(l.ViewContainerRef),l.\u0275\u0275directiveInject(gt,8),l.\u0275\u0275directiveInject(Y.Is,8),l.\u0275\u0275directiveInject(He),l.\u0275\u0275directiveInject(l.ChangeDetectorRef),l.\u0275\u0275directiveInject(W,10),l.\u0275\u0275directiveInject(Qe,12))},S.\u0275dir=l.\u0275\u0275defineDirective({type:S,selectors:[["","cdkDrag",""]],contentQueries:function(m,_,E){if(1&m&&(l.\u0275\u0275contentQuery(E,qe,5),l.\u0275\u0275contentQuery(E,ve,5),l.\u0275\u0275contentQuery(E,W,5)),2&m){let k;l.\u0275\u0275queryRefresh(k=l.\u0275\u0275loadQuery())&&(_._previewTemplate=k.first),l.\u0275\u0275queryRefresh(k=l.\u0275\u0275loadQuery())&&(_._placeholderTemplate=k.first),l.\u0275\u0275queryRefresh(k=l.\u0275\u0275loadQuery())&&(_._handles=k)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(m,_){2&m&&l.\u0275\u0275classProp("cdk-drag-disabled",_.disabled)("cdk-drag-dragging",_._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[l.\u0275\u0275ProvidersFeature([{provide:Qe,useExisting:S}]),l.\u0275\u0275NgOnChangesFeature]}),S})()},5436:(fe,ie,w)=>{w.d(ie,{zL:()=>le,jx:()=>$,b2:()=>gi,MW:()=>ct,JU:()=>G});const G=16,$=17,le=18,ct=91,gi=224},6321:(fe,ie,w)=>{w.d(ie,{t4:()=>H,sA:()=>Xe,kV:()=>xe,i$:()=>ae});var l=w(7451),d=w(3192);let F;try{F="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch{F=!1}let Y,z,H=(()=>{class ye{constructor($e){this._platformId=$e,this.isBrowser=this._platformId?(0,d.isPlatformBrowser)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!F)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return ye.\u0275fac=function($e){return new($e||ye)(l.\u0275\u0275inject(l.PLATFORM_ID))},ye.\u0275prov=l.\u0275\u0275defineInjectable({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})();function ae(ye){return function oe(){if(null==Y&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Y=!0}))}finally{Y=Y||!1}return Y}()?ye:!!ye.capture}function xe(ye){if(function ge(){if(null==z){const ye="undefined"!=typeof document?document.head:null;z=!(!ye||!ye.createShadowRoot&&!ye.attachShadow)}return z}()){const Ge=ye.getRootNode?ye.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&Ge instanceof ShadowRoot)return Ge}return null}function Xe(ye){return ye.composedPath?ye.composedPath()[0]:ye.target}},5531:(fe,ie,w)=>{w.d(ie,{mF:()=>C,rL:()=>ge});var l=w(4929),d=w(7451),F=w(824),H=w(5033),I=w(6321),G=w(3192);let C=(()=>{class ze{constructor(ee,se,we){this._ngZone=ee,this._platform=se,this._scrolled=new F.Subject,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=we}register(ee){this.scrollContainers.has(ee)||this.scrollContainers.set(ee,ee.elementScrolled().subscribe(()=>this._scrolled.next(ee)))}deregister(ee){const se=this.scrollContainers.get(ee);se&&(se.unsubscribe(),this.scrollContainers.delete(ee))}scrolled(ee=20){return this._platform.isBrowser?new F.Observable(se=>{this._globalSubscription||this._addGlobalListener();const we=ee>0?this._scrolled.pipe((0,H.auditTime)(ee)).subscribe(se):this._scrolled.subscribe(se);return this._scrolledCount++,()=>{we.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,F.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((ee,se)=>this.deregister(se)),this._scrolled.complete()}ancestorScrolled(ee,se){const we=this.getAncestorScrollContainers(ee);return this.scrolled(se).pipe((0,H.filter)(ce=>!ce||we.indexOf(ce)>-1))}getAncestorScrollContainers(ee){const se=[];return this.scrollContainers.forEach((we,ce)=>{this._scrollableContainsElement(ce,ee)&&se.push(ce)}),se}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(ee,se){let we=(0,l.fI)(se),ce=ee.getElementRef().nativeElement;do{if(we==ce)return!0}while(we=we.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const ee=this._getWindow();return(0,F.fromEvent)(ee.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return ze.\u0275fac=function(ee){return new(ee||ze)(d.\u0275\u0275inject(d.NgZone),d.\u0275\u0275inject(I.t4),d.\u0275\u0275inject(G.DOCUMENT,8))},ze.\u0275prov=d.\u0275\u0275defineInjectable({token:ze,factory:ze.\u0275fac,providedIn:"root"}),ze})(),ge=(()=>{class ze{constructor(ee,se,we){this._platform=ee,this._change=new F.Subject,this._changeListener=ce=>{this._change.next(ce)},this._document=we,se.runOutsideAngular(()=>{if(ee.isBrowser){const ce=this._getWindow();ce.addEventListener("resize",this._changeListener),ce.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const ee=this._getWindow();ee.removeEventListener("resize",this._changeListener),ee.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const ee={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),ee}getViewportRect(){const ee=this.getViewportScrollPosition(),{width:se,height:we}=this.getViewportSize();return{top:ee.top,left:ee.left,bottom:ee.top+we,right:ee.left+se,height:we,width:se}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const ee=this._document,se=this._getWindow(),we=ee.documentElement,ce=we.getBoundingClientRect();return{top:-ce.top||ee.body.scrollTop||se.scrollY||we.scrollTop||0,left:-ce.left||ee.body.scrollLeft||se.scrollX||we.scrollLeft||0}}change(ee=20){return ee>0?this._change.pipe((0,H.auditTime)(ee)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const ee=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:ee.innerWidth,height:ee.innerHeight}:{width:0,height:0}}}return ze.\u0275fac=function(ee){return new(ee||ze)(d.\u0275\u0275inject(I.t4),d.\u0275\u0275inject(d.NgZone),d.\u0275\u0275inject(G.DOCUMENT,8))},ze.\u0275prov=d.\u0275\u0275defineInjectable({token:ze,factory:ze.\u0275fac,providedIn:"root"}),ze})()},92:(fe,ie,w)=>{w.d(ie,{Wl:()=>Y,Fj:()=>R,NI:()=>Zt,u:()=>hi,cw:()=>Ht,sg:()=>Jt,Cf:()=>z,JU:()=>$,JJ:()=>nt,JL:()=>dt,YN:()=>di,EJ:()=>qt,kI:()=>Ye,_Y:()=>vi,Kr:()=>e});var l=w(7451),d=w(3192),F=w(824),H=w(5033);let I=(()=>{class p{constructor(h,D){this._renderer=h,this._elementRef=D,this.onChange=Q=>{},this.onTouched=()=>{}}setProperty(h,D){this._renderer.setProperty(this._elementRef.nativeElement,h,D)}registerOnTouched(h){this.onTouched=h}registerOnChange(h){this.onChange=h}setDisabledState(h){this.setProperty("disabled",h)}}return p.\u0275fac=function(h){return new(h||p)(l.\u0275\u0275directiveInject(l.Renderer2),l.\u0275\u0275directiveInject(l.ElementRef))},p.\u0275dir=l.\u0275\u0275defineDirective({type:p}),p})(),G=(()=>{class p extends I{}return p.\u0275fac=function(){let u;return function(D){return(u||(u=l.\u0275\u0275getInheritedFactory(p)))(D||p)}}(),p.\u0275dir=l.\u0275\u0275defineDirective({type:p,features:[l.\u0275\u0275InheritDefinitionFeature]}),p})();const $=new l.InjectionToken("NgValueAccessor"),le={provide:$,useExisting:(0,l.forwardRef)(()=>Y),multi:!0};let Y=(()=>{class p extends G{writeValue(h){this.setProperty("checked",h)}}return p.\u0275fac=function(){let u;return function(D){return(u||(u=l.\u0275\u0275getInheritedFactory(p)))(D||p)}}(),p.\u0275dir=l.\u0275\u0275defineDirective({type:p,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(h,D){1&h&&l.\u0275\u0275listener("change",function(Be){return D.onChange(Be.target.checked)})("blur",function(){return D.onTouched()})},features:[l.\u0275\u0275ProvidersFeature([le]),l.\u0275\u0275InheritDefinitionFeature]}),p})();const oe={provide:$,useExisting:(0,l.forwardRef)(()=>R),multi:!0},N=new l.InjectionToken("CompositionEventMode");let R=(()=>{class p extends I{constructor(h,D,Q){super(h,D),this._compositionMode=Q,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ae(){const p=(0,d.\u0275getDOM)()?(0,d.\u0275getDOM)().getUserAgent():"";return/android (\d+)/.test(p.toLowerCase())}())}writeValue(h){this.setProperty("value",h??"")}_handleInput(h){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(h)}_compositionStart(){this._composing=!0}_compositionEnd(h){this._composing=!1,this._compositionMode&&this.onChange(h)}}return p.\u0275fac=function(h){return new(h||p)(l.\u0275\u0275directiveInject(l.Renderer2),l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(N,8))},p.\u0275dir=l.\u0275\u0275defineDirective({type:p,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(h,D){1&h&&l.\u0275\u0275listener("input",function(Be){return D._handleInput(Be.target.value)})("blur",function(){return D.onTouched()})("compositionstart",function(){return D._compositionStart()})("compositionend",function(Be){return D._compositionEnd(Be.target.value)})},features:[l.\u0275\u0275ProvidersFeature([oe]),l.\u0275\u0275InheritDefinitionFeature]}),p})();function C(p){return null==p||0===p.length}function O(p){return null!=p&&"number"==typeof p.length}const z=new l.InjectionToken("NgValidators"),ge=new l.InjectionToken("NgAsyncValidators"),xe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ye{static min(u){return function Xe(p){return u=>{if(C(u.value)||C(p))return null;const h=parseFloat(u.value);return!isNaN(h)&&h<p?{min:{min:p,actual:u.value}}:null}}(u)}static max(u){return function Ze(p){return u=>{if(C(u.value)||C(p))return null;const h=parseFloat(u.value);return!isNaN(h)&&h>p?{max:{max:p,actual:u.value}}:null}}(u)}static required(u){return function ye(p){return C(p.value)?{required:!0}:null}(u)}static requiredTrue(u){return function Ge(p){return!0===p.value?null:{required:!0}}(u)}static email(u){return function $e(p){return C(p.value)||xe.test(p.value)?null:{email:!0}}(u)}static minLength(u){return function ze(p){return u=>C(u.value)||!O(u.value)?null:u.value.length<p?{minlength:{requiredLength:p,actualLength:u.value.length}}:null}(u)}static maxLength(u){return function Pe(p){return u=>O(u.value)&&u.value.length>p?{maxlength:{requiredLength:p,actualLength:u.value.length}}:null}(u)}static pattern(u){return function ee(p){if(!p)return se;let u,h;return"string"==typeof p?(h="","^"!==p.charAt(0)&&(h+="^"),h+=p,"$"!==p.charAt(p.length-1)&&(h+="$"),u=new RegExp(h)):(h=p.toString(),u=p),D=>{if(C(D.value))return null;const Q=D.value;return u.test(Q)?null:{pattern:{requiredPattern:h,actualValue:Q}}}}(u)}static nullValidator(u){return null}static compose(u){return q(u)}static composeAsync(u){return Ee(u)}}function se(p){return null}function we(p){return null!=p}function ce(p){const u=(0,l.\u0275isPromise)(p)?(0,F.from)(p):p;return(0,l.\u0275isObservable)(u),u}function Ne(p){let u={};return p.forEach(h=>{u=null!=h?{...u,...h}:u}),0===Object.keys(u).length?null:u}function Me(p,u){return u.map(h=>h(p))}function j(p){return p.map(u=>function Ve(p){return!p.validate}(u)?u:h=>u.validate(h))}function q(p){if(!p)return null;const u=p.filter(we);return 0==u.length?null:function(h){return Ne(Me(h,u))}}function _e(p){return null!=p?q(j(p)):null}function Ee(p){if(!p)return null;const u=p.filter(we);return 0==u.length?null:function(h){const D=Me(h,u).map(ce);return(0,F.forkJoin)(D).pipe((0,H.map)(Ne))}}function Oe(p){return null!=p?Ee(j(p)):null}function Je(p,u){return null===p?[u]:Array.isArray(p)?[...p,u]:[p,u]}function rt(p){return p._rawValidators}function at(p){return p._rawAsyncValidators}function ht(p){return p?Array.isArray(p)?p:[p]:[]}function Ct(p,u){return Array.isArray(p)?p.includes(u):p===u}function yt(p,u){const h=ht(u);return ht(p).forEach(Q=>{Ct(h,Q)||h.push(Q)}),h}function pt(p,u){return ht(u).filter(h=>!Ct(p,h))}class Te{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(u){this._rawValidators=u||[],this._composedValidatorFn=_e(this._rawValidators)}_setAsyncValidators(u){this._rawAsyncValidators=u||[],this._composedAsyncValidatorFn=Oe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(u){this._onDestroyCallbacks.push(u)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(u=>u()),this._onDestroyCallbacks=[]}reset(u){this.control&&this.control.reset(u)}hasError(u,h){return!!this.control&&this.control.hasError(u,h)}getError(u,h){return this.control?this.control.getError(u,h):null}}class ke extends Te{get formDirective(){return null}get path(){return null}}class te extends Te{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Se{constructor(u){this._cd=u}is(u){return"submitted"===u?!!this._cd?.submitted:!!this._cd?.control?.[u]}}let nt=(()=>{class p extends Se{constructor(h){super(h)}}return p.\u0275fac=function(h){return new(h||p)(l.\u0275\u0275directiveInject(te,2))},p.\u0275dir=l.\u0275\u0275defineDirective({type:p,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(h,D){2&h&&l.\u0275\u0275classProp("ng-untouched",D.is("untouched"))("ng-touched",D.is("touched"))("ng-pristine",D.is("pristine"))("ng-dirty",D.is("dirty"))("ng-valid",D.is("valid"))("ng-invalid",D.is("invalid"))("ng-pending",D.is("pending"))},features:[l.\u0275\u0275InheritDefinitionFeature]}),p})(),dt=(()=>{class p extends Se{constructor(h){super(h)}}return p.\u0275fac=function(h){return new(h||p)(l.\u0275\u0275directiveInject(ke,10))},p.\u0275dir=l.\u0275\u0275defineDirective({type:p,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(h,D){2&h&&l.\u0275\u0275classProp("ng-untouched",D.is("untouched"))("ng-touched",D.is("touched"))("ng-pristine",D.is("pristine"))("ng-dirty",D.is("dirty"))("ng-valid",D.is("valid"))("ng-invalid",D.is("invalid"))("ng-pending",D.is("pending"))("ng-submitted",D.is("submitted"))},features:[l.\u0275\u0275InheritDefinitionFeature]}),p})();function _(p,u){ne(p,u),u.valueAccessor.writeValue(p.value),function Fe(p,u){u.valueAccessor.registerOnChange(h=>{p._pendingValue=h,p._pendingChange=!0,p._pendingDirty=!0,"change"===p.updateOn&&st(p,u)})}(p,u),function tt(p,u){const h=(D,Q)=>{u.valueAccessor.writeValue(D),Q&&u.viewToModelUpdate(D)};p.registerOnChange(h),u._registerOnDestroy(()=>{p._unregisterOnChange(h)})}(p,u),function Ke(p,u){u.valueAccessor.registerOnTouched(()=>{p._pendingTouched=!0,"blur"===p.updateOn&&p._pendingChange&&st(p,u),"submit"!==p.updateOn&&p.markAsTouched()})}(p,u),function K(p,u){if(u.valueAccessor.setDisabledState){const h=D=>{u.valueAccessor.setDisabledState(D)};p.registerOnDisabledChange(h),u._registerOnDestroy(()=>{p._unregisterOnDisabledChange(h)})}}(p,u)}function E(p,u,h=!0){const D=()=>{};u.valueAccessor&&(u.valueAccessor.registerOnChange(D),u.valueAccessor.registerOnTouched(D)),Ce(p,u),p&&(u._invokeOnDestroyCallbacks(),p._registerOnCollectionChange(()=>{}))}function k(p,u){p.forEach(h=>{h.registerOnValidatorChange&&h.registerOnValidatorChange(u)})}function ne(p,u){const h=rt(p);null!==u.validator?p.setValidators(Je(h,u.validator)):"function"==typeof h&&p.setValidators([h]);const D=at(p);null!==u.asyncValidator?p.setAsyncValidators(Je(D,u.asyncValidator)):"function"==typeof D&&p.setAsyncValidators([D]);const Q=()=>p.updateValueAndValidity();k(u._rawValidators,Q),k(u._rawAsyncValidators,Q)}function Ce(p,u){let h=!1;if(null!==p){if(null!==u.validator){const Q=rt(p);if(Array.isArray(Q)&&Q.length>0){const Be=Q.filter(re=>re!==u.validator);Be.length!==Q.length&&(h=!0,p.setValidators(Be))}}if(null!==u.asyncValidator){const Q=at(p);if(Array.isArray(Q)&&Q.length>0){const Be=Q.filter(re=>re!==u.asyncValidator);Be.length!==Q.length&&(h=!0,p.setAsyncValidators(Be))}}}const D=()=>{};return k(u._rawValidators,D),k(u._rawAsyncValidators,D),h}function st(p,u){p._pendingDirty&&p.markAsDirty(),p.setValue(p._pendingValue,{emitModelToViewChange:!1}),u.viewToModelUpdate(p._pendingValue),p._pendingChange=!1}function M(p,u){const h=p.indexOf(u);h>-1&&p.splice(h,1)}const De="VALID",je="INVALID",it="PENDING",ot="DISABLED";function Ot(p){return(Gt(p)?p.validators:p)||null}function Pt(p){return Array.isArray(p)?_e(p):p||null}function Ut(p,u){return(Gt(u)?u.asyncValidators:p)||null}function ti(p){return Array.isArray(p)?Oe(p):p||null}function Gt(p){return null!=p&&!Array.isArray(p)&&"object"==typeof p}const ii=p=>p instanceof Zt,Kt=p=>p instanceof Ht;function ni(p){return ii(p)?p.value:p.getRawValue()}function si(p,u){const h=Kt(p),D=p.controls;if(!(h?Object.keys(D):D).length)throw new l.\u0275RuntimeError(1e3,"");if(!D[u])throw new l.\u0275RuntimeError(1001,"")}function oi(p,u){Kt(p),p._forEachChild((D,Q)=>{if(void 0===u[Q])throw new l.\u0275RuntimeError(1002,"")})}class $t{constructor(u,h){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=u,this._rawAsyncValidators=h,this._composedValidatorFn=Pt(this._rawValidators),this._composedAsyncValidatorFn=ti(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(u){this._rawValidators=this._composedValidatorFn=u}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(u){this._rawAsyncValidators=this._composedAsyncValidatorFn=u}get parent(){return this._parent}get valid(){return this.status===De}get invalid(){return this.status===je}get pending(){return this.status==it}get disabled(){return this.status===ot}get enabled(){return this.status!==ot}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(u){this._rawValidators=u,this._composedValidatorFn=Pt(u)}setAsyncValidators(u){this._rawAsyncValidators=u,this._composedAsyncValidatorFn=ti(u)}addValidators(u){this.setValidators(yt(u,this._rawValidators))}addAsyncValidators(u){this.setAsyncValidators(yt(u,this._rawAsyncValidators))}removeValidators(u){this.setValidators(pt(u,this._rawValidators))}removeAsyncValidators(u){this.setAsyncValidators(pt(u,this._rawAsyncValidators))}hasValidator(u){return Ct(this._rawValidators,u)}hasAsyncValidator(u){return Ct(this._rawAsyncValidators,u)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(u={}){this.touched=!0,this._parent&&!u.onlySelf&&this._parent.markAsTouched(u)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(u=>u.markAllAsTouched())}markAsUntouched(u={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(h=>{h.markAsUntouched({onlySelf:!0})}),this._parent&&!u.onlySelf&&this._parent._updateTouched(u)}markAsDirty(u={}){this.pristine=!1,this._parent&&!u.onlySelf&&this._parent.markAsDirty(u)}markAsPristine(u={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(h=>{h.markAsPristine({onlySelf:!0})}),this._parent&&!u.onlySelf&&this._parent._updatePristine(u)}markAsPending(u={}){this.status=it,!1!==u.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!u.onlySelf&&this._parent.markAsPending(u)}disable(u={}){const h=this._parentMarkedDirty(u.onlySelf);this.status=ot,this.errors=null,this._forEachChild(D=>{D.disable({...u,onlySelf:!0})}),this._updateValue(),!1!==u.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...u,skipPristineCheck:h}),this._onDisabledChange.forEach(D=>D(!0))}enable(u={}){const h=this._parentMarkedDirty(u.onlySelf);this.status=De,this._forEachChild(D=>{D.enable({...u,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:u.emitEvent}),this._updateAncestors({...u,skipPristineCheck:h}),this._onDisabledChange.forEach(D=>D(!1))}_updateAncestors(u){this._parent&&!u.onlySelf&&(this._parent.updateValueAndValidity(u),u.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(u){this._parent=u}updateValueAndValidity(u={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===De||this.status===it)&&this._runAsyncValidator(u.emitEvent)),!1!==u.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!u.onlySelf&&this._parent.updateValueAndValidity(u)}_updateTreeValidity(u={emitEvent:!0}){this._forEachChild(h=>h._updateTreeValidity(u)),this.updateValueAndValidity({onlySelf:!0,emitEvent:u.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ot:De}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(u){if(this.asyncValidator){this.status=it,this._hasOwnPendingAsyncValidator=!0;const h=ce(this.asyncValidator(this));this._asyncValidationSubscription=h.subscribe(D=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(D,{emitEvent:u})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(u,h={}){this.errors=u,this._updateControlsErrors(!1!==h.emitEvent)}get(u){return function Lt(p,u,h){if(null==u||(Array.isArray(u)||(u=u.split(h)),Array.isArray(u)&&0===u.length))return null;let D=p;return u.forEach(Q=>{D=Kt(D)?D.controls.hasOwnProperty(Q)?D.controls[Q]:null:(p=>p instanceof mi)(D)&&D.at(Q)||null}),D}(this,u,".")}getError(u,h){const D=h?this.get(h):this;return D&&D.errors?D.errors[u]:null}hasError(u,h){return!!this.getError(u,h)}get root(){let u=this;for(;u._parent;)u=u._parent;return u}_updateControlsErrors(u){this.status=this._calculateStatus(),u&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(u)}_initObservables(){this.valueChanges=new l.EventEmitter,this.statusChanges=new l.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?ot:this.errors?je:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(it)?it:this._anyControlsHaveStatus(je)?je:De}_anyControlsHaveStatus(u){return this._anyControls(h=>h.status===u)}_anyControlsDirty(){return this._anyControls(u=>u.dirty)}_anyControlsTouched(){return this._anyControls(u=>u.touched)}_updatePristine(u={}){this.pristine=!this._anyControlsDirty(),this._parent&&!u.onlySelf&&this._parent._updatePristine(u)}_updateTouched(u={}){this.touched=this._anyControlsTouched(),this._parent&&!u.onlySelf&&this._parent._updateTouched(u)}_isBoxedValue(u){return"object"==typeof u&&null!==u&&2===Object.keys(u).length&&"value"in u&&"disabled"in u}_registerOnCollectionChange(u){this._onCollectionChange=u}_setUpdateStrategy(u){Gt(u)&&null!=u.updateOn&&(this._updateOn=u.updateOn)}_parentMarkedDirty(u){return!u&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Zt extends $t{constructor(u=null,h,D){super(Ot(h),Ut(D,h)),this._onChange=[],this._pendingChange=!1,this._applyFormState(u),this._setUpdateStrategy(h),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(u,h={}){this.value=this._pendingValue=u,this._onChange.length&&!1!==h.emitModelToViewChange&&this._onChange.forEach(D=>D(this.value,!1!==h.emitViewToModelChange)),this.updateValueAndValidity(h)}patchValue(u,h={}){this.setValue(u,h)}reset(u=null,h={}){this._applyFormState(u),this.markAsPristine(h),this.markAsUntouched(h),this.setValue(this.value,h),this._pendingChange=!1}_updateValue(){}_anyControls(u){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(u){this._onChange.push(u)}_unregisterOnChange(u){M(this._onChange,u)}registerOnDisabledChange(u){this._onDisabledChange.push(u)}_unregisterOnDisabledChange(u){M(this._onDisabledChange,u)}_forEachChild(u){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(u){this._isBoxedValue(u)?(this.value=this._pendingValue=u.value,u.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=u}}class Ht extends $t{constructor(u,h,D){super(Ot(h),Ut(D,h)),this.controls=u,this._initObservables(),this._setUpdateStrategy(h),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(u,h){return this.controls[u]?this.controls[u]:(this.controls[u]=h,h.setParent(this),h._registerOnCollectionChange(this._onCollectionChange),h)}addControl(u,h,D={}){this.registerControl(u,h),this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}removeControl(u,h={}){this.controls[u]&&this.controls[u]._registerOnCollectionChange(()=>{}),delete this.controls[u],this.updateValueAndValidity({emitEvent:h.emitEvent}),this._onCollectionChange()}setControl(u,h,D={}){this.controls[u]&&this.controls[u]._registerOnCollectionChange(()=>{}),delete this.controls[u],h&&this.registerControl(u,h),this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}contains(u){return this.controls.hasOwnProperty(u)&&this.controls[u].enabled}setValue(u,h={}){oi(this,u),Object.keys(u).forEach(D=>{si(this,D),this.controls[D].setValue(u[D],{onlySelf:!0,emitEvent:h.emitEvent})}),this.updateValueAndValidity(h)}patchValue(u,h={}){null!=u&&(Object.keys(u).forEach(D=>{this.controls[D]&&this.controls[D].patchValue(u[D],{onlySelf:!0,emitEvent:h.emitEvent})}),this.updateValueAndValidity(h))}reset(u={},h={}){this._forEachChild((D,Q)=>{D.reset(u[Q],{onlySelf:!0,emitEvent:h.emitEvent})}),this._updatePristine(h),this._updateTouched(h),this.updateValueAndValidity(h)}getRawValue(){return this._reduceChildren({},(u,h,D)=>(u[D]=ni(h),u))}_syncPendingControls(){let u=this._reduceChildren(!1,(h,D)=>!!D._syncPendingControls()||h);return u&&this.updateValueAndValidity({onlySelf:!0}),u}_forEachChild(u){Object.keys(this.controls).forEach(h=>{const D=this.controls[h];D&&u(D,h)})}_setUpControls(){this._forEachChild(u=>{u.setParent(this),u._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(u){for(const h of Object.keys(this.controls)){const D=this.controls[h];if(this.contains(h)&&u(D))return!0}return!1}_reduceValue(){return this._reduceChildren({},(u,h,D)=>((h.enabled||this.disabled)&&(u[D]=h.value),u))}_reduceChildren(u,h){let D=u;return this._forEachChild((Q,Be)=>{D=h(D,Q,Be)}),D}_allControlsDisabled(){for(const u of Object.keys(this.controls))if(this.controls[u].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class mi extends $t{constructor(u,h,D){super(Ot(h),Ut(D,h)),this.controls=u,this._initObservables(),this._setUpdateStrategy(h),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(u){return this.controls[u]}push(u,h={}){this.controls.push(u),this._registerControl(u),this.updateValueAndValidity({emitEvent:h.emitEvent}),this._onCollectionChange()}insert(u,h,D={}){this.controls.splice(u,0,h),this._registerControl(h),this.updateValueAndValidity({emitEvent:D.emitEvent})}removeAt(u,h={}){this.controls[u]&&this.controls[u]._registerOnCollectionChange(()=>{}),this.controls.splice(u,1),this.updateValueAndValidity({emitEvent:h.emitEvent})}setControl(u,h,D={}){this.controls[u]&&this.controls[u]._registerOnCollectionChange(()=>{}),this.controls.splice(u,1),h&&(this.controls.splice(u,0,h),this._registerControl(h)),this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(u,h={}){oi(this,u),u.forEach((D,Q)=>{si(this,Q),this.at(Q).setValue(D,{onlySelf:!0,emitEvent:h.emitEvent})}),this.updateValueAndValidity(h)}patchValue(u,h={}){null!=u&&(u.forEach((D,Q)=>{this.at(Q)&&this.at(Q).patchValue(D,{onlySelf:!0,emitEvent:h.emitEvent})}),this.updateValueAndValidity(h))}reset(u=[],h={}){this._forEachChild((D,Q)=>{D.reset(u[Q],{onlySelf:!0,emitEvent:h.emitEvent})}),this._updatePristine(h),this._updateTouched(h),this.updateValueAndValidity(h)}getRawValue(){return this.controls.map(u=>ni(u))}clear(u={}){this.controls.length<1||(this._forEachChild(h=>h._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:u.emitEvent}))}_syncPendingControls(){let u=this.controls.reduce((h,D)=>!!D._syncPendingControls()||h,!1);return u&&this.updateValueAndValidity({onlySelf:!0}),u}_forEachChild(u){this.controls.forEach((h,D)=>{u(h,D)})}_updateValue(){this.value=this.controls.filter(u=>u.enabled||this.disabled).map(u=>u.value)}_anyControls(u){return this.controls.some(h=>h.enabled&&u(h))}_setUpControls(){this._forEachChild(u=>this._registerControl(u))}_allControlsDisabled(){for(const u of this.controls)if(u.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(u){u.setParent(this),u._registerOnCollectionChange(this._onCollectionChange)}}let vi=(()=>{class p{}return p.\u0275fac=function(h){return new(h||p)},p.\u0275dir=l.\u0275\u0275defineDirective({type:p,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),p})();const wi=new l.InjectionToken("NgModelWithFormControlWarning"),zi={provide:ke,useExisting:(0,l.forwardRef)(()=>Jt)};let Jt=(()=>{class p extends ke{constructor(h,D){super(),this.validators=h,this.asyncValidators=D,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.EventEmitter,this._setValidators(h),this._setAsyncValidators(D)}ngOnChanges(h){this._checkFormPresent(),h.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ce(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(h){const D=this.form.get(h.path);return _(D,h),D.updateValueAndValidity({emitEvent:!1}),this.directives.push(h),D}getControl(h){return this.form.get(h.path)}removeControl(h){E(h.control||null,h,!1),M(this.directives,h)}addFormGroup(h){this._setUpFormContainer(h)}removeFormGroup(h){this._cleanUpFormContainer(h)}getFormGroup(h){return this.form.get(h.path)}addFormArray(h){this._setUpFormContainer(h)}removeFormArray(h){this._cleanUpFormContainer(h)}getFormArray(h){return this.form.get(h.path)}updateModel(h,D){this.form.get(h.path).setValue(D)}onSubmit(h){return this.submitted=!0,function g(p,u){p._syncPendingControls(),u.forEach(h=>{const D=h.control;"submit"===D.updateOn&&D._pendingChange&&(h.viewToModelUpdate(D._pendingValue),D._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(h),!1}onReset(){this.resetForm()}resetForm(h){this.form.reset(h),this.submitted=!1}_updateDomValue(){this.directives.forEach(h=>{const D=h.control,Q=this.form.get(h.path);D!==Q&&(E(D||null,h),ii(Q)&&(_(Q,h),h.control=Q))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(h){const D=this.form.get(h.path);(function ft(p,u){ne(p,u)})(D,h),D.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(h){if(this.form){const D=this.form.get(h.path);D&&function wt(p,u){return Ce(p,u)}(D,h)&&D.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ne(this.form,this),this._oldForm&&Ce(this._oldForm,this)}_checkFormPresent(){}}return p.\u0275fac=function(h){return new(h||p)(l.\u0275\u0275directiveInject(z,10),l.\u0275\u0275directiveInject(ge,10))},p.\u0275dir=l.\u0275\u0275defineDirective({type:p,selectors:[["","formGroup",""]],hostBindings:function(h,D){1&h&&l.\u0275\u0275listener("submit",function(Be){return D.onSubmit(Be)})("reset",function(){return D.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l.\u0275\u0275ProvidersFeature([zi]),l.\u0275\u0275InheritDefinitionFeature,l.\u0275\u0275NgOnChangesFeature]}),p})();const Bi={provide:te,useExisting:(0,l.forwardRef)(()=>hi)};let hi=(()=>{class p extends te{constructor(h,D,Q,Be,re){super(),this._ngModelWarningConfig=re,this._added=!1,this.update=new l.EventEmitter,this._ngModelWarningSent=!1,this._parent=h,this._setValidators(D),this._setAsyncValidators(Q),this.valueAccessor=function b(p,u){if(!u)return null;let h,D,Q;return Array.isArray(u),u.forEach(Be=>{Be.constructor===R?h=Be:function T(p){return Object.getPrototypeOf(p.constructor)===G}(Be)?D=Be:Q=Be}),Q||D||h||null}(0,Be)}set isDisabled(h){}ngOnChanges(h){this._added||this._setUpControl(),function B(p,u){if(!p.hasOwnProperty("model"))return!1;const h=p.model;return!!h.isFirstChange()||!Object.is(u,h.currentValue)}(h,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(h){this.viewModel=h,this.update.emit(h)}get path(){return function m(p,u){return[...u.path,p]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return p._ngModelWarningSentOnce=!1,p.\u0275fac=function(h){return new(h||p)(l.\u0275\u0275directiveInject(ke,13),l.\u0275\u0275directiveInject(z,10),l.\u0275\u0275directiveInject(ge,10),l.\u0275\u0275directiveInject($,10),l.\u0275\u0275directiveInject(wi,8))},p.\u0275dir=l.\u0275\u0275defineDirective({type:p,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l.\u0275\u0275ProvidersFeature([Bi]),l.\u0275\u0275InheritDefinitionFeature,l.\u0275\u0275NgOnChangesFeature]}),p})();const Ni={provide:$,useExisting:(0,l.forwardRef)(()=>qt),multi:!0};function Vi(p,u){return null==p?`${u}`:(u&&"object"==typeof u&&(u="Object"),`${p}: ${u}`.slice(0,50))}let qt=(()=>{class p extends G{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(h){this._compareWith=h}writeValue(h){this.value=h;const D=this._getOptionId(h);null==D&&this.setProperty("selectedIndex",-1);const Q=Vi(D,h);this.setProperty("value",Q)}registerOnChange(h){this.onChange=D=>{this.value=this._getOptionValue(D),h(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(h){for(const D of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(D),h))return D;return null}_getOptionValue(h){const D=function Wi(p){return p.split(":")[0]}(h);return this._optionMap.has(D)?this._optionMap.get(D):h}}return p.\u0275fac=function(){let u;return function(D){return(u||(u=l.\u0275\u0275getInheritedFactory(p)))(D||p)}}(),p.\u0275dir=l.\u0275\u0275defineDirective({type:p,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(h,D){1&h&&l.\u0275\u0275listener("change",function(Be){return D.onChange(Be.target.value)})("blur",function(){return D.onTouched()})},inputs:{compareWith:"compareWith"},features:[l.\u0275\u0275ProvidersFeature([Ni]),l.\u0275\u0275InheritDefinitionFeature]}),p})(),di=(()=>{class p{constructor(h,D,Q){this._element=h,this._renderer=D,this._select=Q,this._select&&(this.id=this._select._registerOption())}set ngValue(h){null!=this._select&&(this._select._optionMap.set(this.id,h),this._setElementValue(Vi(this.id,h)),this._select.writeValue(this._select.value))}set value(h){this._setElementValue(h),this._select&&this._select.writeValue(this._select.value)}_setElementValue(h){this._renderer.setProperty(this._element.nativeElement,"value",h)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return p.\u0275fac=function(h){return new(h||p)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(l.Renderer2),l.\u0275\u0275directiveInject(qt,9))},p.\u0275dir=l.\u0275\u0275defineDirective({type:p,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),p})();const ei={provide:$,useExisting:(0,l.forwardRef)(()=>s),multi:!0};function ui(p,u){return null==p?`${u}`:("string"==typeof u&&(u=`'${u}'`),u&&"object"==typeof u&&(u="Object"),`${p}: ${u}`.slice(0,50))}let s=(()=>{class p extends G{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(h){this._compareWith=h}writeValue(h){let D;if(this.value=h,Array.isArray(h)){const Q=h.map(Be=>this._getOptionId(Be));D=(Be,re)=>{Be._setSelected(Q.indexOf(re.toString())>-1)}}else D=(Q,Be)=>{Q._setSelected(!1)};this._optionMap.forEach(D)}registerOnChange(h){this.onChange=D=>{const Q=[],Be=D.selectedOptions;if(void 0!==Be){const re=Be;for(let Ae=0;Ae<re.length;Ae++){const Et=this._getOptionValue(re[Ae].value);Q.push(Et)}}else{const re=D.options;for(let Ae=0;Ae<re.length;Ae++){const lt=re[Ae];if(lt.selected){const Et=this._getOptionValue(lt.value);Q.push(Et)}}}this.value=Q,h(Q)}}_registerOption(h){const D=(this._idCounter++).toString();return this._optionMap.set(D,h),D}_getOptionId(h){for(const D of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(D)._value,h))return D;return null}_getOptionValue(h){const D=function ji(p){return p.split(":")[0]}(h);return this._optionMap.has(D)?this._optionMap.get(D)._value:h}}return p.\u0275fac=function(){let u;return function(D){return(u||(u=l.\u0275\u0275getInheritedFactory(p)))(D||p)}}(),p.\u0275dir=l.\u0275\u0275defineDirective({type:p,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(h,D){1&h&&l.\u0275\u0275listener("change",function(Be){return D.onChange(Be.target)})("blur",function(){return D.onTouched()})},inputs:{compareWith:"compareWith"},features:[l.\u0275\u0275ProvidersFeature([ei]),l.\u0275\u0275InheritDefinitionFeature]}),p})(),e=(()=>{class p{constructor(h,D,Q){this._element=h,this._renderer=D,this._select=Q,this._select&&(this.id=this._select._registerOption(this))}set ngValue(h){null!=this._select&&(this._value=h,this._setElementValue(ui(this.id,h)),this._select.writeValue(this._select.value))}set value(h){this._select?(this._value=h,this._setElementValue(ui(this.id,h)),this._select.writeValue(this._select.value)):this._setElementValue(h)}_setElementValue(h){this._renderer.setProperty(this._element.nativeElement,"value",h)}_setSelected(h){this._renderer.setProperty(this._element.nativeElement,"selected",h)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return p.\u0275fac=function(h){return new(h||p)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(l.Renderer2),l.\u0275\u0275directiveInject(s,9))},p.\u0275dir=l.\u0275\u0275defineDirective({type:p,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),p})()},2612:(fe,ie,w)=>{function ye(m,_){return class extends m{constructor(...E){super(...E),this.defaultColor=_,this.color=_}get color(){return this._color}set color(E){const k=E||this.defaultColor;k!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),k&&this._elementRef.nativeElement.classList.add(`mat-${k}`),this._color=k)}}}w.d(ie,{pj:()=>ye}),w(7451),w(3192),w(6321),w(824),w(5033)},3331:(fe,ie,w)=>{w.d(ie,{Hw:()=>ce});var l=w(7451),d=w(2612),F=w(4929),H=w(3192),I=w(824),G=w(5033),$=w(6152),le=w(5998);const Y=["*"];let oe;function N(Me){return function ae(){if(void 0===oe&&(oe=null,"undefined"!=typeof window)){const Me=window;void 0!==Me.trustedTypes&&(oe=Me.trustedTypes.createPolicy("angular#components",{createHTML:Ve=>Ve}))}return oe}()?.createHTML(Me)||Me}function R(Me){return Error(`Unable to find icon with the name "${Me}"`)}function O(Me){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${Me}".`)}function z(Me){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${Me}".`)}class ge{constructor(Ve,j,q){this.url=Ve,this.svgText=j,this.options=q}}let xe=(()=>{class Me{constructor(j,q,_e,Ee){this._httpClient=j,this._sanitizer=q,this._errorHandler=Ee,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=_e}addSvgIcon(j,q,_e){return this.addSvgIconInNamespace("",j,q,_e)}addSvgIconLiteral(j,q,_e){return this.addSvgIconLiteralInNamespace("",j,q,_e)}addSvgIconInNamespace(j,q,_e,Ee){return this._addSvgIconConfig(j,q,new ge(_e,null,Ee))}addSvgIconResolver(j){return this._resolvers.push(j),this}addSvgIconLiteralInNamespace(j,q,_e,Ee){const Oe=this._sanitizer.sanitize(l.SecurityContext.HTML,_e);if(!Oe)throw z(_e);const Je=N(Oe);return this._addSvgIconConfig(j,q,new ge("",Je,Ee))}addSvgIconSet(j,q){return this.addSvgIconSetInNamespace("",j,q)}addSvgIconSetLiteral(j,q){return this.addSvgIconSetLiteralInNamespace("",j,q)}addSvgIconSetInNamespace(j,q,_e){return this._addSvgIconSetConfig(j,new ge(q,null,_e))}addSvgIconSetLiteralInNamespace(j,q,_e){const Ee=this._sanitizer.sanitize(l.SecurityContext.HTML,q);if(!Ee)throw z(q);const Oe=N(Ee);return this._addSvgIconSetConfig(j,new ge("",Oe,_e))}registerFontClassAlias(j,q=j){return this._fontCssClassesByAlias.set(j,q),this}classNameForFontAlias(j){return this._fontCssClassesByAlias.get(j)||j}setDefaultFontSetClass(j){return this._defaultFontSetClass=j,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(j){const q=this._sanitizer.sanitize(l.SecurityContext.RESOURCE_URL,j);if(!q)throw O(j);const _e=this._cachedIconsByUrl.get(q);return _e?(0,I.of)(Ze(_e)):this._loadSvgIconFromConfig(new ge(j,null)).pipe((0,G.tap)(Ee=>this._cachedIconsByUrl.set(q,Ee)),(0,G.map)(Ee=>Ze(Ee)))}getNamedSvgIcon(j,q=""){const _e=ye(q,j);let Ee=this._svgIconConfigs.get(_e);if(Ee)return this._getSvgFromConfig(Ee);if(Ee=this._getIconConfigFromResolvers(q,j),Ee)return this._svgIconConfigs.set(_e,Ee),this._getSvgFromConfig(Ee);const Oe=this._iconSetConfigs.get(q);return Oe?this._getSvgFromIconSetConfigs(j,Oe):(0,I.throwError)(R(_e))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(j){return j.svgText?(0,I.of)(Ze(this._svgElementFromConfig(j))):this._loadSvgIconFromConfig(j).pipe((0,G.map)(q=>Ze(q)))}_getSvgFromIconSetConfigs(j,q){const _e=this._extractIconWithNameFromAnySet(j,q);if(_e)return(0,I.of)(_e);const Ee=q.filter(Oe=>!Oe.svgText).map(Oe=>this._loadSvgIconSetFromConfig(Oe).pipe((0,G.catchError)(Je=>{const at=`Loading icon set URL: ${this._sanitizer.sanitize(l.SecurityContext.RESOURCE_URL,Oe.url)} failed: ${Je.message}`;return this._errorHandler.handleError(new Error(at)),(0,I.of)(null)})));return(0,I.forkJoin)(Ee).pipe((0,G.map)(()=>{const Oe=this._extractIconWithNameFromAnySet(j,q);if(!Oe)throw R(j);return Oe}))}_extractIconWithNameFromAnySet(j,q){for(let _e=q.length-1;_e>=0;_e--){const Ee=q[_e];if(Ee.svgText&&Ee.svgText.toString().indexOf(j)>-1){const Oe=this._svgElementFromConfig(Ee),Je=this._extractSvgIconFromSet(Oe,j,Ee.options);if(Je)return Je}}return null}_loadSvgIconFromConfig(j){return this._fetchIcon(j).pipe((0,G.tap)(q=>j.svgText=q),(0,G.map)(()=>this._svgElementFromConfig(j)))}_loadSvgIconSetFromConfig(j){return j.svgText?(0,I.of)(null):this._fetchIcon(j).pipe((0,G.tap)(q=>j.svgText=q))}_extractSvgIconFromSet(j,q,_e){const Ee=j.querySelector(`[id="${q}"]`);if(!Ee)return null;const Oe=Ee.cloneNode(!0);if(Oe.removeAttribute("id"),"svg"===Oe.nodeName.toLowerCase())return this._setSvgAttributes(Oe,_e);if("symbol"===Oe.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Oe),_e);const Je=this._svgElementFromString(N("<svg></svg>"));return Je.appendChild(Oe),this._setSvgAttributes(Je,_e)}_svgElementFromString(j){const q=this._document.createElement("DIV");q.innerHTML=j;const _e=q.querySelector("svg");if(!_e)throw Error("<svg> tag not found");return _e}_toSvgElement(j){const q=this._svgElementFromString(N("<svg></svg>")),_e=j.attributes;for(let Ee=0;Ee<_e.length;Ee++){const{name:Oe,value:Je}=_e[Ee];"id"!==Oe&&q.setAttribute(Oe,Je)}for(let Ee=0;Ee<j.childNodes.length;Ee++)j.childNodes[Ee].nodeType===this._document.ELEMENT_NODE&&q.appendChild(j.childNodes[Ee].cloneNode(!0));return q}_setSvgAttributes(j,q){return j.setAttribute("fit",""),j.setAttribute("height","100%"),j.setAttribute("width","100%"),j.setAttribute("preserveAspectRatio","xMidYMid meet"),j.setAttribute("focusable","false"),q&&q.viewBox&&j.setAttribute("viewBox",q.viewBox),j}_fetchIcon(j){const{url:q,options:_e}=j,Ee=_e?.withCredentials??!1;if(!this._httpClient)throw function C(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==q)throw Error(`Cannot fetch icon from URL "${q}".`);const Oe=this._sanitizer.sanitize(l.SecurityContext.RESOURCE_URL,q);if(!Oe)throw O(q);const Je=this._inProgressUrlFetches.get(Oe);if(Je)return Je;const rt=this._httpClient.get(Oe,{responseType:"text",withCredentials:Ee}).pipe((0,G.map)(at=>N(at)),(0,G.finalize)(()=>this._inProgressUrlFetches.delete(Oe)),(0,G.share)());return this._inProgressUrlFetches.set(Oe,rt),rt}_addSvgIconConfig(j,q,_e){return this._svgIconConfigs.set(ye(j,q),_e),this}_addSvgIconSetConfig(j,q){const _e=this._iconSetConfigs.get(j);return _e?_e.push(q):this._iconSetConfigs.set(j,[q]),this}_svgElementFromConfig(j){if(!j.svgElement){const q=this._svgElementFromString(j.svgText);this._setSvgAttributes(q,j.options),j.svgElement=q}return j.svgElement}_getIconConfigFromResolvers(j,q){for(let _e=0;_e<this._resolvers.length;_e++){const Ee=this._resolvers[_e](q,j);if(Ee)return Ge(Ee)?new ge(Ee.url,null,Ee.options):new ge(Ee,null)}}}return Me.\u0275fac=function(j){return new(j||Me)(l.\u0275\u0275inject($.HttpClient,8),l.\u0275\u0275inject(le.H7),l.\u0275\u0275inject(H.DOCUMENT,8),l.\u0275\u0275inject(l.ErrorHandler))},Me.\u0275prov=l.\u0275\u0275defineInjectable({token:Me,factory:Me.\u0275fac,providedIn:"root"}),Me})();function Ze(Me){return Me.cloneNode(!0)}function ye(Me,Ve){return Me+":"+Ve}function Ge(Me){return!(!Me.url||!Me.options)}const $e=(0,d.pj)(class{constructor(Me){this._elementRef=Me}}),ze=new l.InjectionToken("mat-icon-location",{providedIn:"root",factory:function Pe(){const Me=(0,l.inject)(H.DOCUMENT),Ve=Me?Me.location:null;return{getPathname:()=>Ve?Ve.pathname+Ve.search:""}}}),ee=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],se=ee.map(Me=>`[${Me}]`).join(", "),we=/^url\(['"]?#(.*?)['"]?\)$/;let ce=(()=>{class Me extends $e{constructor(j,q,_e,Ee,Oe){super(j),this._iconRegistry=q,this._location=Ee,this._errorHandler=Oe,this._inline=!1,this._currentIconFetch=I.Subscription.EMPTY,_e||j.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(j){this._inline=(0,F.Ig)(j)}get svgIcon(){return this._svgIcon}set svgIcon(j){j!==this._svgIcon&&(j?this._updateSvgIcon(j):this._svgIcon&&this._clearSvgElement(),this._svgIcon=j)}get fontSet(){return this._fontSet}set fontSet(j){const q=this._cleanupFontValue(j);q!==this._fontSet&&(this._fontSet=q,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(j){const q=this._cleanupFontValue(j);q!==this._fontIcon&&(this._fontIcon=q,this._updateFontIconClasses())}_splitIconName(j){if(!j)return["",""];const q=j.split(":");switch(q.length){case 1:return["",q[0]];case 2:return q;default:throw Error(`Invalid icon name: "${j}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const j=this._elementsWithExternalReferences;if(j&&j.size){const q=this._location.getPathname();q!==this._previousPath&&(this._previousPath=q,this._prependPathToReferences(q))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(j){this._clearSvgElement();const q=j.querySelectorAll("style");for(let Ee=0;Ee<q.length;Ee++)q[Ee].textContent+=" ";const _e=this._location.getPathname();this._previousPath=_e,this._cacheChildrenWithExternalReferences(j),this._prependPathToReferences(_e),this._elementRef.nativeElement.appendChild(j)}_clearSvgElement(){const j=this._elementRef.nativeElement;let q=j.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();q--;){const _e=j.childNodes[q];(1!==_e.nodeType||"svg"===_e.nodeName.toLowerCase())&&_e.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const j=this._elementRef.nativeElement,q=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();q!=this._previousFontSetClass&&(this._previousFontSetClass&&j.classList.remove(this._previousFontSetClass),q&&j.classList.add(q),this._previousFontSetClass=q),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&j.classList.remove(this._previousFontIconClass),this.fontIcon&&j.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(j){return"string"==typeof j?j.trim().split(" ")[0]:j}_prependPathToReferences(j){const q=this._elementsWithExternalReferences;q&&q.forEach((_e,Ee)=>{_e.forEach(Oe=>{Ee.setAttribute(Oe.name,`url('${j}#${Oe.value}')`)})})}_cacheChildrenWithExternalReferences(j){const q=j.querySelectorAll(se),_e=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Ee=0;Ee<q.length;Ee++)ee.forEach(Oe=>{const Je=q[Ee],rt=Je.getAttribute(Oe),at=rt?rt.match(we):null;if(at){let ht=_e.get(Je);ht||(ht=[],_e.set(Je,ht)),ht.push({name:Oe,value:at[1]})}})}_updateSvgIcon(j){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),j){const[q,_e]=this._splitIconName(j);q&&(this._svgNamespace=q),_e&&(this._svgName=_e),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(_e,q).pipe((0,G.take)(1)).subscribe(Ee=>this._setSvgElement(Ee),Ee=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${q}:${_e}! ${Ee.message}`))})}}}return Me.\u0275fac=function(j){return new(j||Me)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(xe),l.\u0275\u0275injectAttribute("aria-hidden"),l.\u0275\u0275directiveInject(ze),l.\u0275\u0275directiveInject(l.ErrorHandler))},Me.\u0275cmp=l.\u0275\u0275defineComponent({type:Me,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(j,q){2&j&&(l.\u0275\u0275attribute("data-mat-icon-type",q._usingFontIcon()?"font":"svg")("data-mat-icon-name",q._svgName||q.fontIcon)("data-mat-icon-namespace",q._svgNamespace||q.fontSet),l.\u0275\u0275classProp("mat-icon-inline",q.inline)("mat-icon-no-color","primary"!==q.color&&"accent"!==q.color&&"warn"!==q.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:Y,decls:1,vars:0,template:function(j,q){1&j&&(l.\u0275\u0275projectionDef(),l.\u0275\u0275projection(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),Me})()},5998:(fe,ie,w)=>{w.d(ie,{H7:()=>Dt});var l=w(3192),d=w(7451);"undefined"!=typeof window&&window;let Dt=(()=>{class g{}return g.\u0275fac=function(M){return new(M||g)},g.\u0275prov=d.\u0275\u0275defineInjectable({token:g,factory:function(M){let L=null;return L=M?new(M||g):d.\u0275\u0275inject(B),L},providedIn:"root"}),g})(),B=(()=>{class g extends Dt{constructor(M){super(),this._doc=M}sanitize(M,L){if(null==L)return null;switch(M){case d.SecurityContext.NONE:return L;case d.SecurityContext.HTML:return(0,d.\u0275allowSanitizationBypassAndThrow)(L,"HTML")?(0,d.\u0275unwrapSafeValue)(L):(0,d.\u0275_sanitizeHtml)(this._doc,String(L)).toString();case d.SecurityContext.STYLE:return(0,d.\u0275allowSanitizationBypassAndThrow)(L,"Style")?(0,d.\u0275unwrapSafeValue)(L):L;case d.SecurityContext.SCRIPT:if((0,d.\u0275allowSanitizationBypassAndThrow)(L,"Script"))return(0,d.\u0275unwrapSafeValue)(L);throw new Error("unsafe value used in a script context");case d.SecurityContext.URL:return(0,d.\u0275getSanitizationBypassType)(L),(0,d.\u0275allowSanitizationBypassAndThrow)(L,"URL")?(0,d.\u0275unwrapSafeValue)(L):(0,d.\u0275_sanitizeUrl)(String(L));case d.SecurityContext.RESOURCE_URL:if((0,d.\u0275allowSanitizationBypassAndThrow)(L,"ResourceURL"))return(0,d.\u0275unwrapSafeValue)(L);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${M} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(M){return(0,d.\u0275bypassSanitizationTrustHtml)(M)}bypassSecurityTrustStyle(M){return(0,d.\u0275bypassSanitizationTrustStyle)(M)}bypassSecurityTrustScript(M){return(0,d.\u0275bypassSanitizationTrustScript)(M)}bypassSecurityTrustUrl(M){return(0,d.\u0275bypassSanitizationTrustUrl)(M)}bypassSecurityTrustResourceUrl(M){return(0,d.\u0275bypassSanitizationTrustResourceUrl)(M)}}return g.\u0275fac=function(M){return new(M||g)(d.\u0275\u0275inject(l.DOCUMENT))},g.\u0275prov=d.\u0275\u0275defineInjectable({token:g,factory:function(M){let L=null;return L=M?new M:function bt(g){return new B(g.get(l.DOCUMENT))}(d.\u0275\u0275inject(d.Injector)),L},providedIn:"root"}),g})()},2898:(fe,ie,w)=>{w.d(ie,{A0:()=>le,ke:()=>oe});var l=w(7451),d=w(824);const F=["frameElement"],H=["panElement"],I=["zoomElement"],G=["panzoomOverlay"],$=["*"];let le=(()=>{class ae{constructor(R){this.zone=R,this.isDragging=!1,this.lastTick=0,this.isChrome=!1,this.willChangeNextFrame=!0,this.isMobile=!1,this.isFirstSync=!0,this.zoomLevelIsChanging=!1,this.dragFinishing=!1,this.onMouseWheel=C=>{if(!(C&&C.pageX&&C.pageY))return;let O=C.deltaY;if(this.config.zoomOnMouseWheel){if(this.animationParams)return;this.config.invertMouseWheel||(O=-O);const z=this.getFrameElementOffset(),ge={x:C.pageX-z.left,y:C.pageY-z.top};this.lastClickPoint=ge,this.config.freeMouseWheel?this.freeZoom(ge,O):O<0?this.zoomInToPoint(ge):O>0&&this.zoomOutFromPoint(ge)}},this.onMousedown=C=>{if(!(this.config.noDragFromElementClass&&this.isParentElement(this.config.noDragFromElementClass,C.srcElement)||C.button!==this.dragMouseButton&&"touchstart"!==C.type))return"touchstart"!==C.type&&C.preventDefault(),this.dragFinishing=!1,this.panVelocity=void 0,this.config.panOnClickDrag&&(this.previousPosition={x:C.pageX,y:C.pageY},this.lastMouseEventTime=C.timeStamp,this.isDragging=!0,this.model.isPanning=!1,this.isMobile?(this.zone.runOutsideAngular(()=>document.addEventListener("touchend",this.onTouchEnd,!1)),this.zone.runOutsideAngular(()=>document.addEventListener("touchmove",this.onTouchMove,{passive:!0,capture:!1}))):(this.zone.runOutsideAngular(()=>document.addEventListener("mousemove",this.onMouseMove,{passive:!0,capture:!1})),this.zone.runOutsideAngular(()=>document.addEventListener("mouseup",this.onMouseUp)))),!1},this.onTouchStart=C=>{if(1!==C.touches.length){const O=C.touches[0].pageX-C.touches[1].pageX,z=C.touches[0].pageY-C.touches[1].pageY;this.previousPosition={length:O*O+z*z}}this.onMousedown(C)},this.onMouseMove=C=>{let O;if(C&&C.pageX&&C.pageY)O=C;else{if("touchmove"!==C.type||!C.touches[0].pageX||!C.touches[0].pageY)return;O={pageX:C.touches[0].pageX,pageY:C.touches[0].pageY}}const z=C.timeStamp,ge=(z-this.lastMouseEventTime)/1e3;this.lastMouseEventTime=z;const xe={x:O.pageX-this.previousPosition.x,y:O.pageY-this.previousPosition.y};if(this.config.keepInBounds){const ye=this.getViewPosition({x:0,y:0}),Ge=this.getViewPosition({x:this.contentWidth,y:this.contentHeight});ye.x>0&&xe.x>0&&(xe.x*=Math.min(1,Math.pow(ye.x,-this.config.keepInBoundsDragPullback))),ye.y>0&&xe.y>0&&(xe.y*=Math.min(1,Math.pow(ye.y,-this.config.keepInBoundsDragPullback))),Ge.x<this.contentWidth&&xe.x<0&&(xe.x*=Math.min(1,Math.pow(this.contentWidth-Ge.x,-this.config.keepInBoundsDragPullback))),Ge.y<this.contentHeight&&xe.y<0&&(xe.y*=Math.min(1,Math.pow(this.contentHeight-Ge.y,-this.config.keepInBoundsDragPullback)))}const Ye_y=xe.y||0;this.model.pan.x+=xe.x||0,this.model.pan.y+=Ye_y,this.syncBaseToModel(),this.animationTick(),this.model.isPanning||(this.panzoomOverlayRef.nativeElement.style.display="block"),this.model.isPanning=!0;const Xe=xe.x/ge,Ze=xe.y/ge;this.panVelocity={x:Number.isFinite(Xe)?Xe:0,y:Number.isFinite(Ze)?Ze:0},this.previousPosition={x:O.pageX,y:O.pageY}},this.onTouchMove=C=>{if(1===C.touches.length)this.onMouseMove(C);else{const O=C.touches[0].pageX-C.touches[1].pageX,z=C.touches[0].pageY-C.touches[1].pageY,ge=O*O+z*z,xe=ge-this.previousPosition.length;if(Math.abs(xe)<100)return;const Ye=C.touches[1].pageX+O/2,Xe=C.touches[1].pageY+z/2,Ze=this.getFrameElementOffset(),ye={x:Ye-Ze.left,y:Xe-Ze.top};this.lastClickPoint=ye,this.changeZoomLevel(this.base.zoomLevel+1e-4*xe,ye),this.previousPosition={length:ge}}},this.onMouseUp=C=>{if(C.button!==this.dragMouseButton&&"touchend"!==C.type)return;"touchend"!==C.type&&C.preventDefault();const z=(C.timeStamp-this.lastMouseEventTime)/1e3;if(!this.panVelocity||0===this.panVelocity.x&&0===this.panVelocity.y)this.panVelocity=void 0,this.dragFinishing=!1,this.model.isPanning=!1,this.config.modelChanged.next(this.model),this.syncBaseToModel();else{const ge=Math.max(0,-.2+Math.pow(z+1,-4));this.panVelocity.x*=ge,this.panVelocity.y*=ge,this.dragFinishing=!0,this.zone.runOutsideAngular(()=>this.animationId=this.animationFrameFunc(this.animationTick))}this.isDragging=!1,this.isMobile?(this.zone.runOutsideAngular(()=>document.removeEventListener("touchend",this.onTouchEnd)),this.zone.runOutsideAngular(()=>document.removeEventListener("touchmove",this.onTouchMove,{passive:!0,capture:!1}))):(this.zone.runOutsideAngular(()=>document.removeEventListener("mousemove",this.onMouseMove,{passive:!0,capture:!1})),this.zone.runOutsideAngular(()=>document.removeEventListener("mouseup",this.onMouseUp,{passive:!0}))),this.panzoomOverlayRef.nativeElement.style.display="none"},this.onTouchEnd=C=>{this.onMouseUp(C)},this.onDblClick=C=>{if(C.preventDefault(),!this.config.zoomOnDoubleClick)return;const O=this.getFrameElementOffset(),z={x:C.pageX-O.left,y:C.pageY-O.top};this.lastClickPoint=z,this.zoomInToPoint(z)},this.preventDefault=C=>{C.preventDefault()},this.animationTick=(C=performance.now())=>{let O=0;if(0!==this.lastTick&&(O=C-this.lastTick),this.lastTick=C,this.animationParams&&(this.animationParams.progress+=Math.abs(O/this.animationParams.duration),this.animationParams.progress>=1&&(this.animationParams.progress=1,this.updateDOM(),this.animationParams=void 0)),this.panVelocity&&this.dragFinishing)for(O>0&&(O/=1e3);O>0;){const z=Math.min(.02,O);if(O-=z,this.model.pan.x=this.model.pan.x+this.panVelocity.x*z,this.panVelocity.x=this.panVelocity.x*(1-this.config.friction*z),this.model.pan.y=this.model.pan.y+this.panVelocity.y*z,this.panVelocity.y=this.panVelocity.y*(1-this.config.friction*z),this.length(this.panVelocity)<=this.config.haltSpeed){this.panVelocity=void 0,this.dragFinishing=!1;break}}if(this.config.keepInBounds||this.dragFinishing){const z=this.getViewPosition({x:0,y:0}),ge=this.getViewPosition({x:this.contentWidth,y:this.contentHeight});z.x>0&&(this.base.pan.x-=this.config.keepInBoundsRestoreForce*z.x),z.y>0&&(this.base.pan.y-=this.config.keepInBoundsRestoreForce*z.y),ge.x<this.contentWidth&&(this.base.pan.x-=this.config.keepInBoundsRestoreForce*(ge.x-this.contentWidth)),ge.y<this.contentHeight&&(this.base.pan.y-=this.config.keepInBoundsRestoreForce*(ge.y-this.contentHeight))}if(this.updateDOM(),this.config.modelChanged.next(this.model),this.animationParams||this.panVelocity&&this.dragFinishing)this.isChrome&&this.zoomLevelIsChanging&&(this.zoomElementRef.nativeElement.style.willChange=this.willChangeNextFrame?"auto":"transform",this.willChangeNextFrame=!this.willChangeNextFrame),this.animationFrameFunc(this.animationTick);else{if(this.panVelocity&&!this.dragFinishing)return;this.model.isPanning&&(this.model.isPanning=!1),this.syncBaseToModel(),this.config.modelChanged.next(this.model),this.scale=this.getCssScale(this.base.zoomLevel),this.willChangeNextFrame=!0,this.zoomElementRef.nativeElement.style.willChange="transform",this.zoomLevelIsChanging=!1,this.lastTick=0}}}ngOnInit(){switch(this.base=this.config.initialZoomToFit?this.calcZoomToFit(this.config.initialZoomToFit):{zoomLevel:this.config.initialZoomLevel,pan:{x:this.config.initialPanX,y:this.config.initialPanY}},this.model={zoomLevel:this.base.zoomLevel,isPanning:!1,pan:{x:this.base.pan.x,y:this.base.pan.y}},this.config.modelChanged.next(this.model),this.api={model:this.model,config:this.config,changeZoomLevel:this.zoomToLevelAndPoint.bind(this),zoomIn:this.zoomIn.bind(this),zoomOut:this.zoomOut.bind(this),zoomToFit:this.zoomToFit.bind(this),resetView:this.resetView.bind(this),getViewPosition:this.getViewPosition.bind(this),getModelPosition:this.getModelPosition.bind(this),panToPoint:this.panToPoint.bind(this),panDelta:this.panDelta.bind(this),panDeltaPercent:this.panDeltaPercent.bind(this),panDeltaAbsolute:this.panDeltaAbsolute.bind(this),centerContent:this.centerContent.bind(this),centerX:this.centerX.bind(this),centerY:this.centerY.bind(this),centerTopLeft:this.centerTopLeftCorner.bind(this),centerBottomLeft:this.centerBottomLeftCorner.bind(this),centerTopRight:this.centerTopRightCorner.bind(this),centerBottomRight:this.centerBottomRightCorner.bind(this),updateContentDimensions:this.updateContentDimensions.bind(this),detectContentDimensions:this.detectContentDimensions.bind(this)},this.config.api.next(this.api),this.config.freeMouseWheel&&(this.scale=this.getCssScale(this.config.initialZoomLevel),this.maxScale=this.getCssScale(this.config.zoomLevels-1),this.minScale=this.getCssScale(0)),this.minimumAllowedZoomLevel=0,this.config.keepInBounds&&(this.minimumAllowedZoomLevel=this.config.neutralZoomLevel,this.minScale=this.getCssScale(this.config.neutralZoomLevel)),this.zoomElementRef.nativeElement.style.willChange="transform",navigator.userAgent.search("Chrome")>=0&&(this.isChrome=!0,this.zoomElementRef.nativeElement.style.transform="translateZ(0)"),this.config.acceleratePan&&(this.panElementRef.nativeElement.style.willChange="transform",navigator.userAgent.search("Chrome")>=0&&(this.isChrome=!0,this.panElementRef.nativeElement.style.transform="translateZ(0)")),this.animationTick(),this.scale=this.getCssScale(this.base.zoomLevel),this.isFirstSync=!1,this.config.dragMouseButton){case"left":default:this.dragMouseButton=0;break;case"middle":this.dragMouseButton=1,this.zone.runOutsideAngular(()=>this.frameElementRef.nativeElement.addEventListener("auxclick",this.preventDefault));break;case"right":this.zone.runOutsideAngular(()=>document.addEventListener("contextmenu",this.preventDefault)),this.dragMouseButton=2}}ngAfterViewInit(){this.detectContentDimensions();const R=getComputedStyle(this.frameElementRef.nativeElement);this.frameHeight=parseInt(R.getPropertyValue("height").split("px")[0]),this.frameWidth=parseInt(R.getPropertyValue("width").split("px")[0]),this.zone.runOutsideAngular(()=>this.animationFrameFunc=window.requestAnimationFrame),this.config.dynamicContentDimensions&&(window.ResizeObserver?(this.resizeObserver=new window.ResizeObserver(C=>this.onContentDimensionsChangeDetected(C)),this.zone.runOutsideAngular(()=>this.resizeObserver.observe(this.zoomElementRef.nativeElement))):console.error("ResizeObserver API is not supported by this browser.  See https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver for info on browser compatibility.")),this.isMobileDevice()?(this.isMobile=!0,this.zone.runOutsideAngular(()=>this.frameElementRef.nativeElement.addEventListener("touchstart",this.onTouchStart))):this.zone.runOutsideAngular(()=>{this.frameElementRef.nativeElement.addEventListener("mousedown",this.onMousedown),this.frameElementRef.nativeElement.addEventListener("dblclick",this.onDblClick),this.frameElementRef.nativeElement.addEventListener("wheel",C=>this.animationFrameFunc(()=>this.onMouseWheel(C)),{passive:!0})})}ngOnDestroy(){switch(this.isMobile?this.frameElementRef.nativeElement.removeEventListener("touchstart",this.onTouchStart):(this.frameElementRef.nativeElement.removeEventListener("mousedown",this.onMousedown),this.frameElementRef.nativeElement.removeEventListener("wheel",R=>this.animationFrameFunc(()=>this.onMouseWheel(R)),{passive:!0}),this.frameElementRef.nativeElement.removeEventListener("dblclick",this.onDblClick)),this.animationFrameFunc&&this.animationId&&window.cancelAnimationFrame(this.animationId),this.resizeObserver&&this.resizeObserver.disconnect(),this.config.dragMouseButton){case"middle":this.dragMouseButton=1,this.zone.runOutsideAngular(()=>this.frameElementRef.nativeElement.removeEventListener("auxclick",this.preventDefault));break;case"right":this.zone.runOutsideAngular(()=>document.removeEventListener("contextmenu",this.preventDefault)),this.dragMouseButton=2}}isParentElement(R,C){let O=C.parentNode;for(;null!==O;){if(O.classList&&O.classList.contains(R))return!0;O=O.parentNode}return!1}updateDOM(){if(this.animationParams){this.model.zoomLevel=this.base.zoomLevel+this.animationParams.deltaZoomLevel*this.animationParams.progress;const C=this.animationParams.panStepFunc(this.model.zoomLevel);if(this.model.pan.x=this.base.pan.x+C.x,this.model.pan.y=this.base.pan.y+C.y,this.config.keepInBounds){const O=this.getViewPosition({x:0,y:0}),z=this.getViewPosition({x:this.contentWidth,y:this.contentHeight});O.x>0&&(this.model.pan.x=0),O.y>0&&(this.model.pan.y=0),z.x<this.contentWidth&&(this.model.pan.x-=z.x-this.contentWidth),z.y<this.contentHeight&&(this.model.pan.y-=z.y-this.contentHeight)}}if(this.animationParams||this.isFirstSync){const z=`transform-origin: 0 0; transform: scale(${this.getCssScale(this.model.zoomLevel)});`;this.zoomElementRef.nativeElement.setAttribute("style",z)}this.panElementRef.nativeElement.style.transform=`translate3d(${this.model.pan.x}px, ${this.model.pan.y}px, 0)`}freeZoom(R,C){if(this.isDragging)return;this.animationParams&&(this.animationParams=void 0),this.panVelocity&&(this.dragFinishing=!1,this.panVelocity=void 0);const O_x=this.model.pan.x,O_y=this.model.pan.y,z=this.scale;let ge=this.scale+C*this.config.freeMouseWheelFactor*this.scale;ge=Math.max(this.minScale,Math.min(this.maxScale,ge)),this.scale=ge;const xe={x:R.x-ge/z*(R.x-O_x),y:R.y-ge/z*(R.y-O_y)};this.panElementRef.nativeElement.style.transform=`translate3d(${xe.x}px, ${xe.y}px, 0)`;let Ze=`transform-origin: 0 0; transform: scale(${this.scale});`;this.isChrome&&(Ze+=this.willChangeNextFrame?" will-change: auto;":" will-change: transform;",this.willChangeNextFrame=!this.willChangeNextFrame),this.zoomElementRef.nativeElement.setAttribute("style",Ze),this.model.pan.x=xe.x,this.model.pan.y=xe.y,this.model.zoomLevel=this.getZoomLevel(this.scale),this.config.modelChanged.next(this.model),this.syncBaseToModel()}isMobileDevice(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")}syncBaseToModel(){this.base.pan.x=this.model.pan.x,this.base.pan.y=this.model.pan.y,this.base.zoomLevel=this.model.zoomLevel}length(R){return Math.sqrt(R.x*R.x+R.y*R.y)}getCentrePoint(){return{x:this.frameElementRef.nativeElement.offsetWidth/2,y:this.frameElementRef.nativeElement.offsetHeight/2}}getCssScale(R){return Math.pow(this.config.scalePerZoomLevel,R-this.config.neutralZoomLevel)}getZoomLevel(R){return Math.log10(R)/Math.log10(this.config.scalePerZoomLevel)+this.config.neutralZoomLevel}calcZoomToFit(R){const C=this.frameElementRef.nativeElement.offsetWidth,O=this.frameElementRef.nativeElement.offsetHeight,z=R.width,ge=R.height,xe=Math.min(C/z,O/ge),Xe=this.getZoomLevel(xe)*this.config.zoomToFitZoomLevelFactor,Ze=this.getCssScale(Xe);return{zoomLevel:Xe,pan:{x:-R.x*Ze+(C-z*Ze)/2,y:-R.y*Ze+(O-ge*Ze)/2}}}zoomToFitModel(R,C){this.model.isPanning=!0,this.animateToTarget(R,C)}zoomToLevelAndPoint(R,C){this.changeZoomLevel(R,C)}zoomIn(R="lastPoint"){"lastPoint"===R?this.changeZoomLevel(this.base.zoomLevel+this.config.zoomButtonIncrement,this.lastClickPoint):"viewCenter"===R&&this.changeZoomLevel(this.base.zoomLevel+this.config.zoomButtonIncrement,this.getCentrePoint())}zoomOut(R="lastPoint"){"lastPoint"===R?this.changeZoomLevel(this.base.zoomLevel-this.config.zoomButtonIncrement,this.lastClickPoint):"viewCenter"===R&&this.changeZoomLevel(this.base.zoomLevel-this.config.zoomButtonIncrement,this.getCentrePoint())}startAnimation(){this.lastTick=performance.now(),this.zone.runOutsideAngular(()=>this.animationId=this.animationFrameFunc(this.animationTick))}getFrameElementOffset(){const R=this.frameElementRef.nativeElement.getBoundingClientRect();return{top:R.top+window.scrollY,left:R.left+window.scrollX}}onContentDimensionsChangeDetected(R){this.contentHeight=R[0].contentRect.height,this.contentWidth=R[0].contentRect.width}getViewPosition(R){let C,O;if(this.animationParams){C=this.getCssScale(this.base.zoomLevel+this.animationParams.deltaZoomLevel*this.animationParams.progress);let z=this.animationParams.panStepFunc(this.model.zoomLevel);O={x:this.base.pan.x+z.x,y:this.base.pan.y+z.y}}else C=this.getCssScale(this.base.zoomLevel),O=this.base.pan;return{x:R.x*C+O.x,y:R.y*C+O.y}}getModelPosition(R){const C=R,O=this.getCssScale(this.base.zoomLevel),z=this.base.pan;return{x:1/O*(C.x-z.x),y:1/O*(C.y-z.y)}}resetView(){this.config.initialZoomToFit?this.zoomToFit(this.config.initialZoomToFit):void 0!==this.config.initialPanX&&void 0!==this.config.initialPanY&&void 0!==this.config.initialZoomLevel?this.zoomToFitModel({zoomLevel:this.config.initialZoomLevel,pan:{x:this.config.initialPanX,y:this.config.initialPanY}}):(console.error("PanZoomComponent: resetView() could not reset view as some vars were not set.  The culprits are either config.initialZoomLevel, config.initialPanX, or config.initialPanY.  Or just set panzoomConfig.initialZoomToFit"),console.log("config.initialZoomLevel: "+this.config.initialZoomLevel),console.log("config.initialPanX: "+this.config.initialPanX),console.log("config.initialPanY: "+this.config.initialPanY))}zoomToFit(R,C){const O=this.calcZoomToFit(R);this.model.isPanning=!0,this.animateToTarget(O,C)}zoomInToPoint(R){this.changeZoomLevel(this.base.zoomLevel+this.config.zoomButtonIncrement,R)}zoomOutFromPoint(R){this.changeZoomLevel(this.base.zoomLevel-this.config.zoomButtonIncrement,R)}panToPoint(R,C){const O={pan:{x:this.frameWidth/2-R.x*this.scale,y:this.frameHeight/2-R.y*this.scale},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(O,C)}panToPointCurrentScale(R,C){const O={pan:{x:this.frameWidth/2-R.x,y:this.frameHeight/2-R.y},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(O,C)}panDelta(R,C){const O={pan:{x:this.base.pan.x-this.scale*R.x,y:this.base.pan.y-this.scale*R.y},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(O,C)}panDeltaAbsolute(R,C){const O={pan:{x:this.base.pan.x-R.x,y:this.base.pan.y-R.y},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(O,C)}panDeltaPercent(R,C){let O=0,z=0;0!==R.x&&(O=this.contentWidth*(R.x/100)*this.scale),0!==R.y&&(z=this.contentHeight*(R.y/100)*this.scale);const ge={pan:{x:this.base.pan.x-O,y:this.base.pan.y-z},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(ge,C)}centerContent(R){this.panToPoint({x:this.contentWidth/2,y:this.contentHeight/2},R)}centerX(R){const C={pan:{x:this.frameWidth/2-this.contentWidth/2*this.scale,y:this.base.pan.y},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(C,R)}centerY(R){const C={pan:{x:this.base.pan.x,y:this.frameHeight/2-this.contentHeight/2*this.scale},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(C,R)}centerTopLeftCorner(R){this.panToPoint({x:0,y:0},R)}centerBottomLeftCorner(R){this.panToPoint({x:0,y:this.contentHeight},R)}centerTopRightCorner(R){this.panToPoint({x:this.contentWidth,y:0},R)}centerBottomRightCorner(R){this.panToPoint({x:this.contentWidth,y:this.contentHeight},R)}updateContentDimensions(R,C){void 0!==C&&(this.contentHeight=C),void 0!==R&&(this.contentWidth=R)}detectContentDimensions(){const R=getComputedStyle(this.zoomElementRef.nativeElement);this.contentHeight=parseInt(R.getPropertyValue("height").split("px")[0]),this.contentWidth=parseInt(R.getPropertyValue("width").split("px")[0])}animateToTarget(R,C){if(this.animationParams)return;this.zoomLevelIsChanging=!1,this.base.zoomLevel!==R.zoomLevel&&(this.zoomLevelIsChanging=!0);const O=R.zoomLevel-this.base.zoomLevel,z_x=this.base.pan.x,z_y=this.base.pan.y;this.model.pan.x=this.base.pan.x,this.model.pan.y=this.base.pan.y,this.animationParams={deltaZoomLevel:O,panStepFunc:xe=>({x:-(z_x-R.pan.x)*this.animationParams.progress,y:-(z_y-R.pan.y)*this.animationParams.progress}),duration:C=C?1e3*C:1e3*this.config.zoomStepDuration,progress:0},this.startAnimation()}changeZoomLevel(R,C){if(this.animationParams)return;this.zoomLevelIsChanging=!0,R=Math.max(this.minimumAllowedZoomLevel,R);const O=(R=Math.min(this.config.zoomLevels-1,R))-this.base.zoomLevel;if(!O)return;const z_x=this.base.pan.x,z_y=this.base.pan.y,ge=this.scale,xe=C||this.getCentrePoint();this.animationParams={deltaZoomLevel:O,panStepFunc:Xe=>{const Ze=this.getCssScale(Xe);return{x:xe.x-Ze/ge*(xe.x-z_x)-z_x,y:xe.y-Ze/ge*(xe.y-z_y)-z_y}},duration:1e3*this.config.zoomStepDuration,progress:0},this.startAnimation()}}return ae.\u0275fac=function(R){return new(R||ae)(l.\u0275\u0275directiveInject(l.NgZone))},ae.\u0275cmp=l.\u0275\u0275defineComponent({type:ae,selectors:[["pan-zoom"]],viewQuery:function(R,C){if(1&R&&(l.\u0275\u0275viewQuery(F,7),l.\u0275\u0275viewQuery(H,7),l.\u0275\u0275viewQuery(I,7),l.\u0275\u0275viewQuery(G,7)),2&R){let O;l.\u0275\u0275queryRefresh(O=l.\u0275\u0275loadQuery())&&(C.frameElementRef=O.first),l.\u0275\u0275queryRefresh(O=l.\u0275\u0275loadQuery())&&(C.panElementRef=O.first),l.\u0275\u0275queryRefresh(O=l.\u0275\u0275loadQuery())&&(C.zoomElementRef=O.first),l.\u0275\u0275queryRefresh(O=l.\u0275\u0275loadQuery())&&(C.panzoomOverlayRef=O.first)}},inputs:{config:"config"},ngContentSelectors:$,decls:9,vars:0,consts:[[1,"pan-zoom-frame"],["frameElement",""],[1,"pan-element"],["panElement",""],[1,"zoom-element"],["zoomElement",""],[1,"pan-zoom-overlay"],["panzoomOverlay",""]],template:function(R,C){1&R&&(l.\u0275\u0275projectionDef(),l.\u0275\u0275elementStart(0,"div",0,1),l.\u0275\u0275elementStart(2,"div",2,3),l.\u0275\u0275elementStart(4,"div",4,5),l.\u0275\u0275projection(6),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(7,"div",6,7))},styles:[".pan-zoom-frame[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;overflow:hidden}.pan-element[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px}.pan-zoom-overlay[_ngcontent-%COMP%]{position:absolute;display:none;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none}"]}),ae})();class oe{constructor(N){this.zoomLevels=5,this.neutralZoomLevel=2,this.scalePerZoomLevel=2,this.initialZoomLevel=this.neutralZoomLevel,this.friction=10,this.haltSpeed=100,this.initialPanX=0,this.initialPanY=0,this.keepInBounds=!1,this.keepInBoundsDragPullback=.7,this.keepInBoundsRestoreForce=.5,this.panOnClickDrag=!0,this.dragMouseButton="left",this.zoomButtonIncrement=1,this.zoomOnDoubleClick=!0,this.zoomOnMouseWheel=!0,this.invertMouseWheel=!1,this.zoomStepDuration=.2,this.zoomToFitZoomLevelFactor=.95,this.freeMouseWheel=!0,this.freeMouseWheelFactor=.08,this.modelChanged=new d.BehaviorSubject({isPanning:null,zoomLevel:null,pan:{x:null,y:null}}),this.api=new d.BehaviorSubject({model:null,config:null,changeZoomLevel:null,zoomIn:null,zoomOut:null,zoomToFit:null,getViewPosition:null,getModelPosition:null,resetView:null,panToPoint:null,panDelta:null,panDeltaPercent:null,panDeltaAbsolute:null,centerContent:null,centerX:null,centerY:null,centerTopLeft:null,centerTopRight:null,centerBottomLeft:null,centerBottomRight:null,updateContentDimensions:null,detectContentDimensions:null}),this.acceleratePan=!0,this.dynamicContentDimensions=!1,void 0!==N&&("zoomLevels"in N&&(this.zoomLevels=N.zoomLevels),"neutralZoomLevel"in N&&(this.neutralZoomLevel=N.neutralZoomLevel),"scalePerZoomLevel"in N&&(this.scalePerZoomLevel=N.scalePerZoomLevel),"initialZoomLevel"in N&&(this.initialZoomLevel=N.initialZoomLevel),"friction"in N&&(this.friction=N.friction),"haltSpeed"in N&&(this.haltSpeed=N.haltSpeed),"initialPanX"in N&&(this.initialPanX=N.initialPanX),"initialPanY"in N&&(this.initialPanY=N.initialPanY),"initialZoomToFit"in N&&(this.initialZoomToFit=N.initialZoomToFit),"keepInBounds"in N&&(this.keepInBounds=N.keepInBounds),"keepInBoundsDragPullback"in N&&(this.keepInBoundsDragPullback=N.keepInBoundsDragPullback),"keepInBoundsRestoreForce"in N&&(this.keepInBoundsRestoreForce=N.keepInBoundsRestoreForce),"panOnClickDrag"in N&&(this.panOnClickDrag=N.panOnClickDrag),"dragMouseButton"in N&&(this.dragMouseButton=N.dragMouseButton),"zoomButtonIncrement"in N&&(this.zoomButtonIncrement=N.zoomButtonIncrement),"zoomOnDoubleClick"in N&&(this.zoomOnDoubleClick=N.zoomOnDoubleClick),"zoomOnMouseWheel"in N&&(this.zoomOnMouseWheel=N.zoomOnMouseWheel),"invertMouseWheel"in N&&(this.invertMouseWheel=N.invertMouseWheel),"zoomStepDuration"in N&&(this.zoomStepDuration=N.zoomStepDuration),"zoomToFitZoomLevelFactor"in N&&(this.zoomToFitZoomLevelFactor=N.zoomToFitZoomLevelFactor),"freeMouseWheel"in N&&(this.freeMouseWheel=N.freeMouseWheel),"freeMouseWheelFactor"in N&&(this.freeMouseWheelFactor=N.freeMouseWheelFactor),this.keepInBounds&&0!==this.neutralZoomLevel&&console.warn("You have set keepInBounds to true and neutralZoomLevel to "+this.neutralZoomLevel+". Be aware that the zoom level cannot go below "+this.neutralZoomLevel),"noDragFromElementClass"in N&&(this.noDragFromElementClass=N.noDragFromElementClass),"acceleratePan"in N&&(this.acceleratePan=N.acceleratePan),"dynamicContentDimensions"in N&&(this.dynamicContentDimensions=N.dynamicContentDimensions))}}}}]);
(self.webpackChunkmfComponents=self.webpackChunkmfComponents||[]).push([[976],{7976:(Hn,Gt,j)=>{j.r(Gt),j.d(Gt,{ActivatedRoute:()=>L,ActivatedRouteSnapshot:()=>B,ActivationEnd:()=>ae,ActivationStart:()=>oe,BaseRouteReuseStrategy:()=>We,ChildActivationEnd:()=>se,ChildActivationStart:()=>ie,ChildrenOutletContexts:()=>F,DefaultUrlSerializer:()=>At,GuardsCheckEnd:()=>ee,GuardsCheckStart:()=>te,NavigationCancel:()=>Ct,NavigationEnd:()=>D,NavigationError:()=>Jt,NavigationStart:()=>X,NoPreloading:()=>Wt,OutletContext:()=>Pe,PRIMARY_OUTLET:()=>p,PreloadAllModules:()=>Ye,PreloadingStrategy:()=>Ht,ROUTER_CONFIGURATION:()=>x,ROUTER_INITIALIZER:()=>Yt,ROUTES:()=>ft,ResolveEnd:()=>ne,ResolveStart:()=>re,RouteConfigLoadEnd:()=>St,RouteConfigLoadStart:()=>Rt,RouteReuseStrategy:()=>He,Router:()=>S,RouterEvent:()=>U,RouterLink:()=>gt,RouterLinkActive:()=>Ze,RouterLinkWithHref:()=>vt,RouterModule:()=>_n,RouterOutlet:()=>jt,RouterPreloader:()=>Bt,RouterState:()=>Ot,RouterStateSnapshot:()=>It,RoutesRecognized:()=>Xt,Scroll:()=>yt,UrlHandlingStrategy:()=>Ve,UrlSegment:()=>z,UrlSegmentGroup:()=>g,UrlSerializer:()=>Ut,UrlTree:()=>O,VERSION:()=>qn,convertToParamMap:()=>k,provideRoutes:()=>Qt,\u0275EmptyOutletComponent:()=>Dt,\u0275ROUTER_PROVIDERS:()=>Ge,\u0275assignExtraOptionsToRouter:()=>Je,\u0275flatten:()=>Et});var E=j(3192),c=j(7451),h=j(824),u=j(5033);class U{constructor(e,t){this.id=e,this.url=t}}class X extends U{constructor(e,t,n="imperative",i=null){super(e,t),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class D extends U{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ct extends U{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jt extends U{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Xt extends U{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class te extends U{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ee extends U{constructor(e,t,n,i,s){super(e,t),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class re extends U{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ne extends U{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rt{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class St{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ie{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class se{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oe{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ae{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yt{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const p="primary";class Xe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function k(r){return new Xe(r)}const le="ngNavigationCancelingError";function wt(r){const e=Error("NavigationCancelingError: "+r);return e[le]=!0,e}function er(r,e,t){const n=t.path.split("/");if(n.length>r.length||"full"===t.pathMatch&&(e.hasChildren()||n.length<r.length))return null;const i={};for(let s=0;s<n.length;s++){const o=n[s],a=r[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:r.slice(0,n.length),posParams:i}}function A(r,e){const t=r?Object.keys(r):void 0,n=e?Object.keys(e):void 0;if(!t||!n||t.length!=n.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!ce(r[i],e[i]))return!1;return!0}function ce(r,e){if(Array.isArray(r)&&Array.isArray(e)){if(r.length!==e.length)return!1;const t=[...r].sort(),n=[...e].sort();return t.every((i,s)=>n[s]===i)}return r===e}function Et(r){return Array.prototype.concat.apply([],r)}function ue(r){return r.length>0?r[r.length-1]:null}function R(r,e){for(const t in r)r.hasOwnProperty(t)&&e(r[t],t)}function b(r){return(0,c.\u0275isObservable)(r)?r:(0,c.\u0275isPromise)(r)?(0,h.from)(Promise.resolve(r)):(0,h.of)(r)}const ir={exact:function fe(r,e,t){if(!M(r.segments,e.segments)||!tt(r.segments,e.segments,t)||r.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children)if(!r.children[n]||!fe(r.children[n],e.children[n],t))return!1;return!0},subset:pe},he={exact:function sr(r,e){return A(r,e)},subset:function or(r,e){return Object.keys(e).length<=Object.keys(r).length&&Object.keys(e).every(t=>ce(r[t],e[t]))},ignored:()=>!0};function de(r,e,t){return ir[t.paths](r.root,e.root,t.matrixParams)&&he[t.queryParams](r.queryParams,e.queryParams)&&!("exact"===t.fragment&&r.fragment!==e.fragment)}function pe(r,e,t){return ge(r,e,e.segments,t)}function ge(r,e,t,n){if(r.segments.length>t.length){const i=r.segments.slice(0,t.length);return!(!M(i,t)||e.hasChildren()||!tt(i,t,n))}if(r.segments.length===t.length){if(!M(r.segments,t)||!tt(r.segments,t,n))return!1;for(const i in e.children)if(!r.children[i]||!pe(r.children[i],e.children[i],n))return!1;return!0}{const i=t.slice(0,r.segments.length),s=t.slice(r.segments.length);return!!(M(r.segments,i)&&tt(r.segments,i,n)&&r.children[p])&&ge(r.children[p],e,s,n)}}function tt(r,e,t){return e.every((n,i)=>he[t](r[i].parameters,n.parameters))}class O{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=k(this.queryParams)),this._queryParamMap}toString(){return cr.serialize(this)}}class g{constructor(e,t){this.segments=e,this.children=t,this.parent=null,R(t,(n,i)=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return et(this)}}class z{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=k(this.parameters)),this._parameterMap}toString(){return Ce(this)}}function M(r,e){return r.length===e.length&&r.every((t,n)=>t.path===e[n].path)}class Ut{}class At{parse(e){const t=new Cr(e);return new O(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${W(e.root,!0)}`,n=function dr(r){const e=Object.keys(r).map(t=>{const n=r[t];return Array.isArray(n)?n.map(i=>`${rt(t)}=${rt(i)}`).join("&"):`${rt(t)}=${rt(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${n}${"string"==typeof e.fragment?`#${function ur(r){return encodeURI(r)}(e.fragment)}`:""}`}}const cr=new At;function et(r){return r.segments.map(e=>Ce(e)).join("/")}function W(r,e){if(!r.hasChildren())return et(r);if(e){const t=r.children[p]?W(r.children[p],!1):"",n=[];return R(r.children,(i,s)=>{s!==p&&n.push(`${s}:${W(i,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function lr(r,e){let t=[];return R(r.children,(n,i)=>{i===p&&(t=t.concat(e(n,i)))}),R(r.children,(n,i)=>{i!==p&&(t=t.concat(e(n,i)))}),t}(r,(n,i)=>i===p?[W(r.children[p],!1)]:[`${i}:${W(n,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[p]?`${et(r)}/${t[0]}`:`${et(r)}/(${t.join("//")})`}}function ve(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rt(r){return ve(r).replace(/%3B/gi,";")}function bt(r){return ve(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nt(r){return decodeURIComponent(r)}function me(r){return nt(r.replace(/\+/g,"%20"))}function Ce(r){return`${bt(r.path)}${function hr(r){return Object.keys(r).map(e=>`;${bt(e)}=${bt(r[e])}`).join("")}(r.parameters)}`}const fr=/^[^\/()?;=#]+/;function it(r){const e=r.match(fr);return e?e[0]:""}const pr=/^[^=?&#]+/,vr=/^[^&#]+/;class Cr{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new g([],{}):new g([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[p]=new g(e,t)),n}parseSegment(){const e=it(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new z(nt(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=it(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const i=it(this.remaining);i&&(n=i,this.capture(n))}e[nt(t)]=nt(n)}parseQueryParam(e){const t=function gr(r){const e=r.match(pr);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const o=function mr(r){const e=r.match(vr);return e?e[0]:""}(this.remaining);o&&(n=o,this.capture(n))}const i=me(t),s=me(n);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=it(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;n.indexOf(":")>-1?(s=n.substr(0,n.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=p);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[p]:new g([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Re{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Tt(e,this._root);return t?t.children.map(n=>n.value):[]}firstChild(e){const t=Tt(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Pt(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Pt(e,this._root).map(t=>t.value)}}function Tt(r,e){if(r===e.value)return e;for(const t of e.children){const n=Tt(r,t);if(n)return n}return null}function Pt(r,e){if(r===e.value)return[e];for(const t of e.children){const n=Pt(r,t);if(n.length)return n.unshift(e),n}return[]}class T{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function q(r){const e={};return r&&r.children.forEach(t=>e[t.value.outlet]=t),e}class Ot extends Re{constructor(e,t){super(e),this.snapshot=t,xt(this,e)}toString(){return this.snapshot.toString()}}function Se(r,e){const t=function Rr(r,e){const o=new B([],{},{},"",{},p,e,null,r.root,-1,{});return new It("",new T(o,[]))}(r,e),n=new h.BehaviorSubject([new z("",{})]),i=new h.BehaviorSubject({}),s=new h.BehaviorSubject({}),o=new h.BehaviorSubject({}),a=new h.BehaviorSubject(""),l=new L(n,i,o,a,s,p,e,t.root);return l.snapshot=t.root,new Ot(new T(l,[]),t)}class L{constructor(e,t,n,i,s,o,a,l){this.url=e,this.params=t,this.queryParams=n,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,u.map)(e=>k(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,u.map)(e=>k(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ye(r,e="emptyOnly"){const t=r.pathFromRoot;let n=0;if("always"!==e)for(n=t.length-1;n>=1;){const i=t[n],s=t[n-1];if(i.routeConfig&&""===i.routeConfig.path)n--;else{if(s.component)break;n--}}return function Sr(r){return r.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...e.resolve,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(n))}class B{constructor(e,t,n,i,s,o,a,l,d,m,f){this.url=e,this.params=t,this.queryParams=n,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=d,this._lastPathIndex=m,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=k(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=k(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class It extends Re{constructor(e,t){super(t),this.url=e,xt(this,t)}toString(){return we(this._root)}}function xt(r,e){e.value._routerState=r,e.children.forEach(t=>xt(r,t))}function we(r){const e=r.children.length>0?` { ${r.children.map(we).join(", ")} } `:"";return`${r.value}${e}`}function _t(r){if(r.snapshot){const e=r.snapshot,t=r._futureSnapshot;r.snapshot=t,A(e.queryParams,t.queryParams)||r.queryParams.next(t.queryParams),e.fragment!==t.fragment&&r.fragment.next(t.fragment),A(e.params,t.params)||r.params.next(t.params),function rr(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;++t)if(!A(r[t],e[t]))return!1;return!0}(e.url,t.url)||r.url.next(t.url),A(e.data,t.data)||r.data.next(t.data)}else r.snapshot=r._futureSnapshot,r.data.next(r._futureSnapshot.data)}function kt(r,e){const t=A(r.params,e.params)&&function ar(r,e){return M(r,e)&&r.every((t,n)=>A(t.parameters,e[n].parameters))}(r.url,e.url);return t&&!(!r.parent!=!e.parent)&&(!r.parent||kt(r.parent,e.parent))}function V(r,e,t){if(t&&r.shouldReuseRoute(e.value,t.value.snapshot)){const n=t.value;n._futureSnapshot=e.value;const i=function wr(r,e,t){return e.children.map(n=>{for(const i of t.children)if(r.shouldReuseRoute(n.value,i.value.snapshot))return V(r,n,i);return V(r,n)})}(r,e,t);return new T(n,i)}{if(r.shouldAttach(e.value)){const s=r.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>V(r,a)),o}}const n=function Er(r){return new L(new h.BehaviorSubject(r.url),new h.BehaviorSubject(r.params),new h.BehaviorSubject(r.queryParams),new h.BehaviorSubject(r.fragment),new h.BehaviorSubject(r.data),r.outlet,r.component,r)}(e.value),i=e.children.map(s=>V(r,s));return new T(n,i)}}function st(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function Q(r){return"object"==typeof r&&null!=r&&r.outlets}function Mt(r,e,t,n,i){let s={};return n&&R(n,(o,a)=>{s[a]=Array.isArray(o)?o.map(l=>`${l}`):`${o}`}),new O(t.root===r?e:Ee(t.root,r,e),s,i)}function Ee(r,e,t){const n={};return R(r.children,(i,s)=>{n[s]=i===e?t:Ee(i,e,t)}),new g(r.segments,n)}class Ue{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&st(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(Q);if(i&&i!==ue(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Lt{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Ae(r,e,t){if(r||(r=new g([],{})),0===r.segments.length&&r.hasChildren())return ot(r,e,t);const n=function Or(r,e,t){let n=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<r.segments.length;){if(n>=t.length)return s;const o=r.segments[i],a=t[n];if(Q(a))break;const l=`${a}`,d=n<t.length-1?t[n+1]:null;if(i>0&&void 0===l)break;if(l&&d&&"object"==typeof d&&void 0===d.outlets){if(!Te(l,d,o))return s;n+=2}else{if(!Te(l,{},o))return s;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}(r,e,t),i=t.slice(n.commandIndex);if(n.match&&n.pathIndex<r.segments.length){const s=new g(r.segments.slice(0,n.pathIndex),{});return s.children[p]=new g(r.segments.slice(n.pathIndex),r.children),ot(s,0,i)}return n.match&&0===i.length?new g(r.segments,{}):n.match&&!r.hasChildren()?$t(r,e,t):n.match?ot(r,0,i):$t(r,e,t)}function ot(r,e,t){if(0===t.length)return new g(r.segments,{});{const n=function Pr(r){return Q(r[0])?r[0].outlets:{[p]:r}}(t),i={};return R(n,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Ae(r.children[o],e,s))}),R(r.children,(s,o)=>{void 0===n[o]&&(i[o]=s)}),new g(r.segments,i)}}function $t(r,e,t){const n=r.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Q(s)){const l=Ir(s.outlets);return new g(n,l)}if(0===i&&st(t[0])){n.push(new z(r.segments[e].path,be(t[0]))),i++;continue}const o=Q(s)?s.outlets[p]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&st(a)?(n.push(new z(o,be(a))),i+=2):(n.push(new z(o,{})),i++)}return new g(n,{})}function Ir(r){const e={};return R(r,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=$t(new g([],{}),0,t))}),e}function be(r){const e={};return R(r,(t,n)=>e[n]=`${t}`),e}function Te(r,e,t){return r==t.path&&A(e,t.parameters)}class _r{constructor(e,t,n,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=i}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),_t(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const i=q(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],n),delete i[o]}),R(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(e,t,n){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=n.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else s&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet),i=n&&e.value.component?n.children:t,s=q(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(n&&n.outlet){const o=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),i=n&&e.value.component?n.children:t,s=q(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(e,t,n){const i=q(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],n),this.forwardEvent(new ae(s.value.snapshot))}),e.children.length&&this.forwardEvent(new se(e.value.snapshot))}activateRoutes(e,t,n){const i=e.value,s=t?t.value:null;if(_t(i),i===s)if(i.component){const o=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(i.component){const o=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),_t(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function kr(r){for(let e=r.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=l,o.outlet&&o.outlet.activateWith(i,l),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,n)}}class Nt{constructor(e,t){this.routes=e,this.module=t}}function I(r){return"function"==typeof r}function $(r){return r instanceof O}const Z=Symbol("INITIAL_VALUE");function Y(){return(0,u.switchMap)(r=>(0,h.combineLatest)(r.map(e=>e.pipe((0,u.take)(1),(0,u.startWith)(Z)))).pipe((0,u.scan)((e,t)=>{let n=!1;return t.reduce((i,s,o)=>i!==Z?i:(s===Z&&(n=!0),n||!1!==s&&o!==t.length-1&&!$(s)?i:s),e)},Z),(0,u.filter)(e=>e!==Z),(0,u.map)(e=>$(e)?e:!0===e),(0,u.take)(1)))}class Pe{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new F,this.attachRef=null}}class F{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Pe,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let jt=(()=>{class r{constructor(t,n,i,s,o){this.parentContexts=t,this.location=n,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.EventEmitter,this.deactivateEvents=new c.EventEmitter,this.attachEvents=new c.EventEmitter,this.detachEvents=new c.EventEmitter,this.name=s||p,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,n){this.activated=t,this._activatedRoute=n,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,n){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(n=n||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new Dr(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return r.\u0275fac=function(t){return new(t||r)(c.\u0275\u0275directiveInject(F),c.\u0275\u0275directiveInject(c.ViewContainerRef),c.\u0275\u0275directiveInject(c.ComponentFactoryResolver),c.\u0275\u0275injectAttribute("name"),c.\u0275\u0275directiveInject(c.ChangeDetectorRef))},r.\u0275dir=c.\u0275\u0275defineDirective({type:r,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),r})();class Dr{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===L?this.route:e===F?this.childContexts:this.parent.get(e,t)}}let Dt=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=c.\u0275\u0275defineComponent({type:r,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,n){1&t&&c.\u0275\u0275element(0,"router-outlet")},directives:[jt],encapsulation:2}),r})();function Oe(r,e=""){for(let t=0;t<r.length;t++){const n=r[t];zr(n,qr(e,n))}}function zr(r,e){r.children&&Oe(r.children,e)}function qr(r,e){return e?r||e.path?r&&!e.path?`${r}/`:!r&&e.path?e.path:`${r}/${e.path}`:"":r}function zt(r){const e=r.children&&r.children.map(zt),t=e?{...r,children:e}:{...r};return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==p&&(t.component=Dt),t}function y(r){return r.outlet||p}function Ie(r,e){const t=r.filter(n=>y(n)===e);return t.push(...r.filter(n=>y(n)!==e)),t}const xe={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function at(r,e,t){if(""===e.path)return"full"===e.pathMatch&&(r.hasChildren()||t.length>0)?{...xe}:{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||er)(t,r,e);if(!i)return{...xe};const s={};R(i.posParams,(a,l)=>{s[l]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:i.posParams??{}}}function lt(r,e,t,n,i="corrected"){if(t.length>0&&function Wr(r,e,t){return t.some(n=>ct(r,e,n)&&y(n)!==p)}(r,t,n)){const o=new g(e,function Hr(r,e,t,n){const i={};i[p]=n,n._sourceSegment=r,n._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&y(s)!==p){const o=new g([],{});o._sourceSegment=r,o._segmentIndexShift=e.length,i[y(s)]=o}return i}(r,e,n,new g(t,r.children)));return o._sourceSegment=r,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function Br(r,e,t){return t.some(n=>ct(r,e,n))}(r,t,n)){const o=new g(r.segments,function Fr(r,e,t,n,i,s){const o={};for(const a of n)if(ct(r,t,a)&&!i[y(a)]){const l=new g([],{});l._sourceSegment=r,l._segmentIndexShift="legacy"===s?r.segments.length:e.length,o[y(a)]=l}return{...i,...o}}(r,e,t,n,r.children,i));return o._sourceSegment=r,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new g(r.segments,r.children);return s._sourceSegment=r,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function ct(r,e,t){return(!(r.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function _e(r,e,t,n){return!!(y(r)===n||n!==p&&ct(e,t,r))&&("**"===r.path||at(e,r,t).matched)}function ke(r,e,t){return 0===e.length&&!r.children[t]}class K{constructor(e){this.segmentGroup=e||null}}class Me{constructor(e){this.urlTree=e}}function ut(r){return new h.Observable(e=>e.error(new K(r)))}function Le(r){return new h.Observable(e=>e.error(new Me(r)))}function Vr(r){return new h.Observable(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${r}'`)))}class Yr{constructor(e,t,n,i,s){this.configLoader=t,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(c.NgModuleRef)}apply(){const e=lt(this.urlTree.root,[],[],this.config).segmentGroup,t=new g(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,p).pipe((0,u.map)(s=>this.createUrlTree(qt(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,u.catchError)(s=>{if(s instanceof Me)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof K?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,p).pipe((0,u.map)(i=>this.createUrlTree(qt(i),e.queryParams,e.fragment))).pipe((0,u.catchError)(i=>{throw i instanceof K?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const i=e.segments.length>0?new g([],{[p]:e}):e;return new O(i,t,n)}expandSegmentGroup(e,t,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe((0,u.map)(s=>new g([],s))):this.expandSegment(e,n,t,n.segments,i,!0)}expandChildren(e,t,n){const i=[];for(const s of Object.keys(n.children))"primary"===s?i.unshift(s):i.push(s);return(0,h.from)(i).pipe((0,u.concatMap)(s=>{const o=n.children[s],a=Ie(t,s);return this.expandSegmentGroup(e,a,o,s).pipe((0,u.map)(l=>({segment:l,outlet:s})))}),(0,u.scan)((s,o)=>(s[o.outlet]=o.segment,s),{}),(0,u.last)())}expandSegment(e,t,n,i,s,o){return(0,h.from)(n).pipe((0,u.concatMap)(a=>this.expandSegmentAgainstRoute(e,t,n,a,i,s,o).pipe((0,u.catchError)(d=>{if(d instanceof K)return(0,h.of)(null);throw d}))),(0,u.first)(a=>!!a),(0,u.catchError)((a,l)=>{if(a instanceof h.EmptyError||"EmptyError"===a.name){if(ke(t,i,s))return(0,h.of)(new g([],{}));throw new K(t)}throw a}))}expandSegmentAgainstRoute(e,t,n,i,s,o,a){return _e(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,i,s,o):ut(t):ut(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,i){const s=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Le(s):this.lineralizeSegments(n,s).pipe((0,u.mergeMap)(o=>{const a=new g(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,s,o){const{matched:a,consumedSegments:l,lastChild:d,positionalParamSegments:m}=at(t,i,s);if(!a)return ut(t);const f=this.applyRedirectCommands(l,i.redirectTo,m);return i.redirectTo.startsWith("/")?Le(f):this.lineralizeSegments(i,f).pipe((0,u.mergeMap)(C=>this.expandSegment(e,t,n,C.concat(s.slice(d)),o,!1)))}matchSegmentAgainstRoute(e,t,n,i,s){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,h.of)(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe((0,u.map)(C=>(n._loadedConfig=C,new g(i,{})))):(0,h.of)(new g(i,{}));const{matched:o,consumedSegments:a,lastChild:l}=at(t,n,i);if(!o)return ut(t);const d=i.slice(l);return this.getChildConfig(e,n,i).pipe((0,u.mergeMap)(f=>{const C=f.module,v=f.routes,{segmentGroup:P,slicedSegments:N}=lt(t,a,d,v),w=new g(P.segments,P.children);if(0===N.length&&w.hasChildren())return this.expandChildren(C,v,w).pipe((0,u.map)(Fn=>new g(a,Fn)));if(0===v.length&&0===N.length)return(0,h.of)(new g(a,{}));const _=y(n)===s;return this.expandSegment(C,w,v,N,_?p:s,!0).pipe((0,u.map)(Kt=>new g(a.concat(Kt.segments),Kt.children)))}))}getChildConfig(e,t,n){return t.children?(0,h.of)(new Nt(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,h.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe((0,u.mergeMap)(i=>i?this.configLoader.load(e.injector,t).pipe((0,u.map)(s=>(t._loadedConfig=s,s))):function Qr(r){return new h.Observable(e=>e.error(wt(`Cannot load children because the guard of the route "path: '${r.path}'" returned false`)))}(t))):(0,h.of)(new Nt([],e))}runCanLoadGuards(e,t,n){const i=t.canLoad;if(!i||0===i.length)return(0,h.of)(!0);const s=i.map(o=>{const a=e.get(o);let l;if(function Lr(r){return r&&I(r.canLoad)}(a))l=a.canLoad(t,n);else{if(!I(a))throw new Error("Invalid CanLoad guard");l=a(t,n)}return b(l)});return(0,h.of)(s).pipe(Y(),(0,u.tap)(o=>{if(!$(o))return;const a=wt(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),(0,u.map)(o=>!0===o))}lineralizeSegments(e,t){let n=[],i=t.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return(0,h.of)(n);if(i.numberOfChildren>1||!i.children[p])return Vr(e.redirectTo);i=i.children[p]}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,i){const s=this.createSegmentGroup(e,t.root,n,i);return new O(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return R(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);n[s]=t[a]}else n[s]=i}),n}createSegmentGroup(e,t,n,i){const s=this.createSegments(e,t.segments,n,i);let o={};return R(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,n,i)}),new g(s,o)}createSegments(e,t,n,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,n))}findPosParam(e,t,n){const i=n[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let n=0;for(const i of t){if(i.path===e.path)return t.splice(n),i;n++}return e}}function qt(r){const e={};for(const n of Object.keys(r.children)){const s=qt(r.children[n]);(s.segments.length>0||s.hasChildren())&&(e[n]=s)}return function Kr(r){if(1===r.numberOfChildren&&r.children[p]){const e=r.children[p];return new g(r.segments.concat(e.segments),e.children)}return r}(new g(r.segments,e))}class $e{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ht{constructor(e,t){this.component=e,this.route=t}}function Jr(r,e,t){const n=r._root;return G(n,e?e._root:null,t,[n.value])}function dt(r,e,t){const n=function tn(r){if(!r)return null;for(let e=r.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(n?n.module.injector:t).get(r)}function G(r,e,t,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=q(e);return r.children.forEach(o=>{(function en(r,e,t,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=r.value,o=e?e.value:null,a=t?t.getContext(r.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function rn(r,e,t){if("function"==typeof t)return t(r,e);switch(t){case"pathParamsChange":return!M(r.url,e.url);case"pathParamsOrQueryParamsChange":return!M(r.url,e.url)||!A(r.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kt(r,e)||!A(r.queryParams,e.queryParams);default:return!kt(r,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new $e(n)):(s.data=o.data,s._resolvedData=o._resolvedData),G(r,e,s.component?a?a.children:null:t,n,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ht(a.outlet.component,o))}else o&&J(e,a,i),i.canActivateChecks.push(new $e(n)),G(r,null,s.component?a?a.children:null:t,n,i)})(o,s[o.value.outlet],t,n.concat([o.value]),i),delete s[o.value.outlet]}),R(s,(o,a)=>J(o,t.getContext(a),i)),i}function J(r,e,t){const n=q(r),i=r.value;R(n,(s,o)=>{J(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new ht(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class dn{}function Ne(r){return new h.Observable(e=>e.error(r))}class pn{constructor(e,t,n,i,s,o){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=lt(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,p);if(null===t)return null;const n=new B([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},p,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new T(n,t),s=new It(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,n=ye(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=Ie(e,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;n.push(...l)}const i=je(n);return function gn(r){r.sort((e,t)=>e.value.outlet===p?-1:t.value.outlet===p?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,n,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,n,i);if(null!==o)return o}return ke(t,n,i)?[]:null}processSegmentAgainstRoute(e,t,n,i){if(e.redirectTo||!_e(e,t,n,i))return null;let s,o=[],a=[];if("**"===e.path){const v=n.length>0?ue(n).parameters:{};s=new B(n,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qe(e),y(e),e.component,e,De(t),ze(t)+n.length,Fe(e))}else{const v=at(t,e,n);if(!v.matched)return null;o=v.consumedSegments,a=n.slice(v.lastChild),s=new B(o,v.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qe(e),y(e),e.component,e,De(t),ze(t)+o.length,Fe(e))}const l=function vn(r){return r.children?r.children:r.loadChildren?r._loadedConfig.routes:[]}(e),{segmentGroup:d,slicedSegments:m}=lt(t,o,a,l.filter(v=>void 0===v.redirectTo),this.relativeLinkResolution);if(0===m.length&&d.hasChildren()){const v=this.processChildren(l,d);return null===v?null:[new T(s,v)]}if(0===l.length&&0===m.length)return[new T(s,[])];const f=y(e)===i,C=this.processSegment(l,d,m,f?p:i);return null===C?null:[new T(s,C)]}}function mn(r){const e=r.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function je(r){const e=[],t=new Set;for(const n of r){if(!mn(n)){e.push(n);continue}const i=e.find(s=>n.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...n.children),t.add(i)):e.push(n)}for(const n of t){const i=je(n.children);e.push(new T(n.value,i))}return e.filter(n=>!t.has(n))}function De(r){let e=r;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ze(r){let e=r,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function qe(r){return r.data||{}}function Fe(r){return r.resolve||{}}function Ft(r){return(0,u.switchMap)(e=>{const t=r(e);return t?(0,h.from)(t).pipe((0,u.map)(()=>e)):(0,h.of)(e)})}class He{}class We{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}class En extends We{}const ft=new c.InjectionToken("ROUTES");class Be{constructor(e,t,n,i){this.injector=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,u.map)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new Nt(Et(o.injector.get(ft,void 0,c.InjectFlags.Self|c.InjectFlags.Optional)).map(zt),o)}),(0,u.catchError)(s=>{throw t._loader$=void 0,s}));return t._loader$=new h.ConnectableObservable(i,()=>new h.Subject).pipe((0,u.refCount)()),t._loader$}loadModuleFactory(e){return b(e()).pipe((0,u.mergeMap)(t=>t instanceof c.NgModuleFactory?(0,h.of)(t):(0,h.from)(this.compiler.compileModuleAsync(t))))}}class Ve{}class Un{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function An(r){throw r}function bn(r,e,t){return e.parse("/")}function Qe(r,e){return(0,h.of)(null)}const Tn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Pn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let S=(()=>{class r{constructor(t,n,i,s,o,a,l){this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=i,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new h.Subject,this.errorHandler=An,this.malformedUriErrorHandler=bn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Qe,afterPreactivation:Qe},this.urlHandlingStrategy=new Un,this.routeReuseStrategy=new En,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(c.NgModuleRef),this.console=o.get(c.\u0275Console);const f=o.get(c.NgZone);this.isNgZoneEnabled=f instanceof c.NgZone&&c.NgZone.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function nr(){return new O(new g([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Be(o,a,C=>this.triggerEvent(new Rt(C)),C=>this.triggerEvent(new St(C))),this.routerState=Se(this.currentUrlTree,this.rootComponentType),this.transitions=new h.BehaviorSubject({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const n=this.events;return t.pipe((0,u.filter)(i=>0!==i.id),(0,u.map)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),(0,u.switchMap)(i=>{let s=!1,o=!1;return(0,h.of)(i).pipe((0,u.tap)(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,u.switchMap)(a=>{const l=this.browserUrlTree.toString(),d=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||d)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return pt(a.source)&&(this.browserUrlTree=a.extractedUrl),(0,h.of)(a).pipe((0,u.switchMap)(f=>{const C=this.transitions.getValue();return n.next(new X(f.id,this.serializeUrl(f.extractedUrl),f.source,f.restoredState)),C!==this.transitions.getValue()?h.EMPTY:Promise.resolve(f)}),function Gr(r,e,t,n){return(0,u.switchMap)(i=>function Zr(r,e,t,n,i){return new Yr(r,e,t,n,i).apply()}(r,e,t,i.extractedUrl,n).pipe((0,u.map)(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,u.tap)(f=>{this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects}}),function Cn(r,e,t,n,i){return(0,u.mergeMap)(s=>function fn(r,e,t,n,i="emptyOnly",s="legacy"){try{const o=new pn(r,e,t,n,i,s).recognize();return null===o?Ne(new dn):(0,h.of)(o)}catch(o){return Ne(o)}}(r,e,s.urlAfterRedirects,t(s.urlAfterRedirects),n,i).pipe((0,u.map)(o=>({...s,targetSnapshot:o}))))}(this.rootComponentType,this.config,f=>this.serializeUrl(f),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,u.tap)(f=>{if("eager"===this.urlUpdateStrategy){if(!f.extras.skipLocationChange){const v=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl);this.setBrowserUrl(v,f)}this.browserUrlTree=f.urlAfterRedirects}const C=new Xt(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);n.next(C)}));if(d&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:C,extractedUrl:v,source:P,restoredState:N,extras:w}=a,_=new X(C,this.serializeUrl(v),P,N);n.next(_);const mt=Se(v,this.rootComponentType).snapshot;return(0,h.of)({...a,targetSnapshot:mt,urlAfterRedirects:v,extras:{...w,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),h.EMPTY}),Ft(a=>{const{targetSnapshot:l,id:d,extractedUrl:m,rawUrl:f,extras:{skipLocationChange:C,replaceUrl:v}}=a;return this.hooks.beforePreactivation(l,{navigationId:d,appliedUrlTree:m,rawUrlTree:f,skipLocationChange:!!C,replaceUrl:!!v})}),(0,u.tap)(a=>{const l=new te(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),(0,u.map)(a=>({...a,guards:Jr(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function nn(r,e){return(0,u.mergeMap)(t=>{const{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?(0,h.of)({...t,guardsResult:!0}):function sn(r,e,t,n){return(0,h.from)(r).pipe((0,u.mergeMap)(i=>function hn(r,e,t,n,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,h.of)(!0);const o=s.map(a=>{const l=dt(a,e,i);let d;if(function jr(r){return r&&I(r.canDeactivate)}(l))d=b(l.canDeactivate(r,e,t,n));else{if(!I(l))throw new Error("Invalid CanDeactivate guard");d=b(l(r,e,t,n))}return d.pipe((0,u.first)())});return(0,h.of)(o).pipe(Y())}(i.component,i.route,t,e,n)),(0,u.first)(i=>!0!==i,!0))}(o,n,i,r).pipe((0,u.mergeMap)(a=>a&&function Mr(r){return"boolean"==typeof r}(a)?function on(r,e,t,n){return(0,h.from)(e).pipe((0,u.concatMap)(i=>(0,h.concat)(function ln(r,e){return null!==r&&e&&e(new ie(r)),(0,h.of)(!0)}(i.route.parent,n),function an(r,e){return null!==r&&e&&e(new oe(r)),(0,h.of)(!0)}(i.route,n),function un(r,e,t){const n=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function Xr(r){const e=r.routeConfig?r.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:r,guards:e}:null}(o)).filter(o=>null!==o).map(o=>(0,h.defer)(()=>{const a=o.guards.map(l=>{const d=dt(l,o.node,t);let m;if(function Nr(r){return r&&I(r.canActivateChild)}(d))m=b(d.canActivateChild(n,r));else{if(!I(d))throw new Error("Invalid CanActivateChild guard");m=b(d(n,r))}return m.pipe((0,u.first)())});return(0,h.of)(a).pipe(Y())}));return(0,h.of)(s).pipe(Y())}(r,i.path,t),function cn(r,e,t){const n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||0===n.length)return(0,h.of)(!0);const i=n.map(s=>(0,h.defer)(()=>{const o=dt(s,e,t);let a;if(function $r(r){return r&&I(r.canActivate)}(o))a=b(o.canActivate(e,r));else{if(!I(o))throw new Error("Invalid CanActivate guard");a=b(o(e,r))}return a.pipe((0,u.first)())}));return(0,h.of)(i).pipe(Y())}(r,i.route,t))),(0,u.first)(i=>!0!==i,!0))}(n,s,r,e):(0,h.of)(a)),(0,u.map)(a=>({...t,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),(0,u.tap)(a=>{if($(a.guardsResult)){const d=wt(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw d.url=a.guardsResult,d}const l=new ee(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),(0,u.filter)(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Ft(a=>{if(a.guards.canActivateChecks.length)return(0,h.of)(a).pipe((0,u.tap)(l=>{const d=new re(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(d)}),(0,u.switchMap)(l=>{let d=!1;return(0,h.of)(l).pipe(function Rn(r,e){return(0,u.mergeMap)(t=>{const{targetSnapshot:n,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,h.of)(t);let s=0;return(0,h.from)(i).pipe((0,u.concatMap)(o=>function Sn(r,e,t,n){return function yn(r,e,t,n){const i=Object.keys(r);if(0===i.length)return(0,h.of)({});const s={};return(0,h.from)(i).pipe((0,u.mergeMap)(o=>function wn(r,e,t,n){const i=dt(r,e,n);return b(i.resolve?i.resolve(e,t):i(e,t))}(r[o],e,t,n).pipe((0,u.tap)(a=>{s[o]=a}))),(0,u.takeLast)(1),(0,u.mergeMap)(()=>Object.keys(s).length===i.length?(0,h.of)(s):h.EMPTY))}(r._resolve,r,e,n).pipe((0,u.map)(s=>(r._resolvedData=s,r.data={...r.data,...ye(r,t).resolve},null)))}(o.route,n,r,e)),(0,u.tap)(()=>s++),(0,u.takeLast)(1),(0,u.mergeMap)(o=>s===i.length?(0,h.of)(t):h.EMPTY))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,u.tap)({next:()=>d=!0,complete:()=>{d||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),(0,u.tap)(l=>{const d=new ne(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(d)}))}),Ft(a=>{const{targetSnapshot:l,id:d,extractedUrl:m,rawUrl:f,extras:{skipLocationChange:C,replaceUrl:v}}=a;return this.hooks.afterPreactivation(l,{navigationId:d,appliedUrlTree:m,rawUrlTree:f,skipLocationChange:!!C,replaceUrl:!!v})}),(0,u.map)(a=>{const l=function yr(r,e,t){const n=V(r,e._root,t?t._root:void 0);return new Ot(n,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return{...a,targetRouterState:l}}),(0,u.tap)(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((r,e,t)=>(0,u.map)(n=>(new _r(e,n.targetRouterState,n.currentRouterState,t).activate(r),n)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),(0,u.tap)({next(){s=!0},complete(){s=!0}}),(0,u.finalize)(()=>{s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),(0,u.catchError)(a=>{if(o=!0,function tr(r){return r&&r[le]}(a)){const l=$(a.url);l||(this.navigated=!0,this.restoreHistory(i,!0));const d=new Ct(i.id,this.serializeUrl(i.extractedUrl),a.message);n.next(d),l?setTimeout(()=>{const m=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),f={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||pt(i.source)};this.scheduleNavigation(m,"imperative",null,f,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new Jt(i.id,this.serializeUrl(i.extractedUrl),a);n.next(l);try{i.resolve(this.errorHandler(a))}catch(d){i.reject(d)}}return h.EMPTY}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const n="popstate"===t.type?"popstate":"hashchange";"popstate"===n&&setTimeout(()=>{const i={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const a={...s};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(t.url);this.scheduleNavigation(o,n,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Oe(t),this.config=t.map(zt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,n={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=n,d=i||this.routerState.root,m=l?this.currentUrlTree.fragment:o;let f=null;switch(a){case"merge":f={...this.currentUrlTree.queryParams,...s};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}return null!==f&&(f=this.removeEmptyProps(f)),function Ur(r,e,t,n,i){if(0===t.length)return Mt(e.root,e.root,e,n,i);const s=function Ar(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new Ue(!0,0,r);let e=0,t=!1;const n=r.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return R(s.outlets,(l,d)=>{a[d]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new Ue(t,e,n)}(t);if(s.toRoot())return Mt(e.root,new g([],{}),e,n,i);const o=function br(r,e,t){if(r.isAbsolute)return new Lt(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new Lt(s,s===e.root,0)}const n=st(r.commands[0])?0:1;return function Tr(r,e,t){let n=r,i=e,s=t;for(;s>i;){if(s-=i,n=n.parent,!n)throw new Error("Invalid number of '../'");i=n.segments.length}return new Lt(n,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+n,r.numberOfDoubleDots)}(s,e,r),a=o.processChildren?ot(o.segmentGroup,o.index,s.commands):Ae(o.segmentGroup,o.index,s.commands);return Mt(o.segmentGroup,a,e,n,i)}(d,this.currentUrlTree,t,f,m??null)}navigateByUrl(t,n={skipLocationChange:!1}){const i=$(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,n)}navigate(t,n={skipLocationChange:!1}){return function On(r){for(let e=0;e<r.length;e++){const t=r[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,n),n)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let n;try{n=this.urlSerializer.parse(t)}catch(i){n=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return n}isActive(t,n){let i;if(i=!0===n?{...Tn}:!1===n?{...Pn}:n,$(t))return de(this.currentUrlTree,t,i);const s=this.parseUrl(t);return de(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((n,i)=>{const s=t[i];return null!=s&&(n[i]=s),n},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new D(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,n,i,s,o){if(this.disposed)return Promise.resolve(!1);const a=this.transitions.value,l=pt(n)&&a&&!pt(a.source),d=a.rawUrl.toString()===t.toString();if(l&&d&&a.id===this.currentNavigation?.id)return Promise.resolve(!0);let C,v,P;o?(C=o.resolve,v=o.reject,P=o.promise):P=new Promise((_,mt)=>{C=_,v=mt});const N=++this.navigationId;let w;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),w=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):w=0,this.setTransition({id:N,targetPageId:w,source:n,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:C,reject:v,promise:P,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),P.catch(_=>Promise.reject(_))}setBrowserUrl(t,n){const i=this.urlSerializer.serialize(t),s={...n.extras.state,...this.generateNgRouterState(n.id,n.targetPageId)};this.location.isCurrentPathEqualTo(i)||n.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,n=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,n){const i=new Ct(t.id,this.serializeUrl(t.extractedUrl),n);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,n){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:n}:{navigationId:t}}}return r.\u0275fac=function(t){c.\u0275\u0275invalidFactory()},r.\u0275prov=c.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})();function pt(r){return"imperative"!==r}let gt=(()=>{class r{constructor(t,n,i,s,o){this.router=t,this.route=n,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new h.Subject,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const n=this.renderer,i=this.el.nativeElement;null!==t?n.setAttribute(i,"tabindex",t):n.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:H(this.skipLocationChange),replaceUrl:H(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:H(this.preserveFragment)})}}return r.\u0275fac=function(t){return new(t||r)(c.\u0275\u0275directiveInject(S),c.\u0275\u0275directiveInject(L),c.\u0275\u0275injectAttribute("tabindex"),c.\u0275\u0275directiveInject(c.Renderer2),c.\u0275\u0275directiveInject(c.ElementRef))},r.\u0275dir=c.\u0275\u0275defineDirective({type:r,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,n){1&t&&c.\u0275\u0275listener("click",function(){return n.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.\u0275\u0275NgOnChangesFeature]}),r})(),vt=(()=>{class r{constructor(t,n,i){this.router=t,this.route=n,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new h.Subject,this.subscription=t.events.subscribe(s=>{s instanceof D&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,n,i,s,o){if(0!==t||n||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:H(this.skipLocationChange),replaceUrl:H(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:H(this.preserveFragment)})}}return r.\u0275fac=function(t){return new(t||r)(c.\u0275\u0275directiveInject(S),c.\u0275\u0275directiveInject(L),c.\u0275\u0275directiveInject(E.LocationStrategy))},r.\u0275dir=c.\u0275\u0275defineDirective({type:r,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,n){1&t&&c.\u0275\u0275listener("click",function(s){return n.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&c.\u0275\u0275attribute("target",n.target)("href",n.href,c.\u0275\u0275sanitizeUrl)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.\u0275\u0275NgOnChangesFeature]}),r})();function H(r){return""===r||!!r}let Ze=(()=>{class r{constructor(t,n,i,s,o,a){this.router=t,this.element=n,this.renderer=i,this.cdr=s,this.link=o,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new c.EventEmitter,this.routerEventsSubscription=t.events.subscribe(l=>{l instanceof D&&this.update()})}ngAfterContentInit(){(0,h.of)(this.links.changes,this.linksWithHrefs.changes,(0,h.of)(null)).pipe((0,u.mergeAll)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=(0,h.from)(t).pipe((0,u.mergeAll)()).subscribe(n=>{this.isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(t){const n=Array.isArray(t)?t:t.split(" ");this.classes=n.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(n=>{t?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),this.isActiveChange.emit(t))})}isLinkActive(t){const n=function In(r){return!!r.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,n)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return r.\u0275fac=function(t){return new(t||r)(c.\u0275\u0275directiveInject(S),c.\u0275\u0275directiveInject(c.ElementRef),c.\u0275\u0275directiveInject(c.Renderer2),c.\u0275\u0275directiveInject(c.ChangeDetectorRef),c.\u0275\u0275directiveInject(gt,8),c.\u0275\u0275directiveInject(vt,8))},r.\u0275dir=c.\u0275\u0275defineDirective({type:r,selectors:[["","routerLinkActive",""]],contentQueries:function(t,n,i){if(1&t&&(c.\u0275\u0275contentQuery(i,gt,5),c.\u0275\u0275contentQuery(i,vt,5)),2&t){let s;c.\u0275\u0275queryRefresh(s=c.\u0275\u0275loadQuery())&&(n.links=s),c.\u0275\u0275queryRefresh(s=c.\u0275\u0275loadQuery())&&(n.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[c.\u0275\u0275NgOnChangesFeature]}),r})();class Ht{}class Ye{preload(e,t){return t().pipe((0,u.catchError)(()=>(0,h.of)(null)))}}class Wt{preload(e,t){return(0,h.of)(null)}}let Bt=(()=>{class r{constructor(t,n,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new Be(i,n,l=>t.triggerEvent(new Rt(l)),l=>t.triggerEvent(new St(l)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,u.filter)(t=>t instanceof D),(0,u.concatMap)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.NgModuleRef);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,n){const i=[];for(const s of n)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return(0,h.from)(i).pipe((0,u.mergeAll)(),(0,u.map)(s=>{}))}preloadConfig(t,n){return this.preloadingStrategy.preload(n,()=>(n._loadedConfig?(0,h.of)(n._loadedConfig):this.loader.load(t.injector,n)).pipe((0,u.mergeMap)(s=>(n._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return r.\u0275fac=function(t){return new(t||r)(c.\u0275\u0275inject(S),c.\u0275\u0275inject(c.Compiler),c.\u0275\u0275inject(c.Injector),c.\u0275\u0275inject(Ht))},r.\u0275prov=c.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})(),Vt=(()=>{class r{constructor(t,n,i={}){this.router=t,this.viewportScroller=n,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof X?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof D&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof yt&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,n){this.router.triggerEvent(new yt(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return r.\u0275fac=function(t){c.\u0275\u0275invalidFactory()},r.\u0275prov=c.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})();const x=new c.InjectionToken("ROUTER_CONFIGURATION"),Ke=new c.InjectionToken("ROUTER_FORROOT_GUARD"),Ge=[E.Location,{provide:Ut,useClass:At},{provide:S,useFactory:function $n(r,e,t,n,i,s,o={},a,l){const d=new S(null,r,e,t,n,i,Et(s));return a&&(d.urlHandlingStrategy=a),l&&(d.routeReuseStrategy=l),Je(o,d),o.enableTracing&&d.events.subscribe(m=>{console.group?.(`Router Event: ${m.constructor.name}`),console.log(m.toString()),console.log(m),console.groupEnd?.()}),d},deps:[Ut,F,E.Location,c.Injector,c.Compiler,ft,x,[Ve,new c.Optional],[He,new c.Optional]]},F,{provide:L,useFactory:function Nn(r){return r.routerState.root},deps:[S]},Bt,Wt,Ye,{provide:x,useValue:{enableTracing:!1}}];function xn(){return new c.NgProbeToken("Router",S)}let _n=(()=>{class r{constructor(t,n){}static forRoot(t,n){return{ngModule:r,providers:[Ge,Qt(t),{provide:Ke,useFactory:Ln,deps:[[S,new c.Optional,new c.SkipSelf]]},{provide:x,useValue:n||{}},{provide:E.LocationStrategy,useFactory:Mn,deps:[E.PlatformLocation,[new c.Inject(E.APP_BASE_HREF),new c.Optional],x]},{provide:Vt,useFactory:kn,deps:[S,E.ViewportScroller,x]},{provide:Ht,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Wt},{provide:c.NgProbeToken,multi:!0,useFactory:xn},[Zt,{provide:c.APP_INITIALIZER,multi:!0,useFactory:jn,deps:[Zt]},{provide:Yt,useFactory:Dn,deps:[Zt]},{provide:c.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:Yt}]]}}static forChild(t){return{ngModule:r,providers:[Qt(t)]}}}return r.\u0275fac=function(t){return new(t||r)(c.\u0275\u0275inject(Ke,8),c.\u0275\u0275inject(S,8))},r.\u0275mod=c.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=c.\u0275\u0275defineInjector({}),r})();function kn(r,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Vt(r,e,t)}function Mn(r,e,t={}){return t.useHash?new E.HashLocationStrategy(r,e):new E.PathLocationStrategy(r,e)}function Ln(r){return"guarded"}function Qt(r){return[{provide:c.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:r},{provide:ft,multi:!0,useValue:r}]}function Je(r,e){r.errorHandler&&(e.errorHandler=r.errorHandler),r.malformedUriErrorHandler&&(e.malformedUriErrorHandler=r.malformedUriErrorHandler),r.onSameUrlNavigation&&(e.onSameUrlNavigation=r.onSameUrlNavigation),r.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=r.paramsInheritanceStrategy),r.relativeLinkResolution&&(e.relativeLinkResolution=r.relativeLinkResolution),r.urlUpdateStrategy&&(e.urlUpdateStrategy=r.urlUpdateStrategy),r.canceledNavigationResolution&&(e.canceledNavigationResolution=r.canceledNavigationResolution)}let Zt=(()=>{class r{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new h.Subject}appInitializer(){return this.injector.get(E.LOCATION_INITIALIZED,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let n=null;const i=new Promise(a=>n=a),s=this.injector.get(S),o=this.injector.get(x);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),n(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?(0,h.of)(null):(this.initNavigation=!0,n(!0),this.resultOfPreactivationDone),s.initialNavigation()):n(!0),i})}bootstrapListener(t){const n=this.injector.get(x),i=this.injector.get(Bt),s=this.injector.get(Vt),o=this.injector.get(S),a=this.injector.get(c.ApplicationRef);t===a.components[0]&&(("enabledNonBlocking"===n.initialNavigation||void 0===n.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return r.\u0275fac=function(t){return new(t||r)(c.\u0275\u0275inject(c.Injector))},r.\u0275prov=c.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})();function jn(r){return r.appInitializer.bind(r)}function Dn(r){return r.bootstrapListener.bind(r)}const Yt=new c.InjectionToken("Router Initializer"),qn=new c.Version("13.1.2")}}]);
.mat-badge-content{font-weight:600;font-size:12px;font-family:Roboto,Helvetica Neue,sans-serif}.mat-badge-small .mat-badge-content{font-size:9px}.mat-badge-large .mat-badge-content{font-size:24px}.mat-h1,.mat-headline,.mat-typography h1{font:400 24px/32px Roboto,Helvetica Neue,sans-serif;letter-spacing:normal;margin:0 0 16px}.mat-h2,.mat-title,.mat-typography h2{font:500 20px/32px Roboto,Helvetica Neue,sans-serif;letter-spacing:normal;margin:0 0 16px}.mat-h3,.mat-subheading-2,.mat-typography h3{font:400 16px/28px Roboto,Helvetica Neue,sans-serif;letter-spacing:normal;margin:0 0 16px}.mat-h4,.mat-subheading-1,.mat-typography h4{font:400 15px/24px Roboto,Helvetica Neue,sans-serif;letter-spacing:normal;margin:0 0 16px}.mat-h5,.mat-typography h5{font:400 11.62px/20px Roboto,Helvetica Neue,sans-serif;margin:0 0 12px}.mat-h6,.mat-typography h6{font:400 9.38px/20px Roboto,Helvetica Neue,sans-serif;margin:0 0 12px}.mat-body-strong,.mat-body-2{font:500 14px/24px Roboto,Helvetica Neue,sans-serif;letter-spacing:normal}.mat-body,.mat-body-1,.mat-typography{font:400 14px/20px Roboto,Helvetica Neue,sans-serif;letter-spacing:normal}.mat-body p,.mat-body-1 p,.mat-typography p{margin:0 0 12px}.mat-small,.mat-caption{font:400 12px/20px Roboto,Helvetica Neue,sans-serif;letter-spacing:normal}.mat-display-4,.mat-typography .mat-display-4{font:300 112px/112px Roboto,Helvetica Neue,sans-serif;letter-spacing:-.05em;margin:0 0 56px}.mat-display-3,.mat-typography .mat-display-3{font:400 56px/56px Roboto,Helvetica Neue,sans-serif;letter-spacing:-.02em;margin:0 0 64px}.mat-display-2,.mat-typography .mat-display-2{font:400 45px/48px Roboto,Helvetica Neue,sans-serif;letter-spacing:-.005em;margin:0 0 64px}.mat-display-1,.mat-typography .mat-display-1{font:400 34px/40px Roboto,Helvetica Neue,sans-serif;letter-spacing:normal;margin:0 0 64px}.mat-bottom-sheet-container{font:400 14px/20px Roboto,Helvetica Neue,sans-serif;letter-spacing:normal}.mat-button,.mat-raised-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button,.mat-fab,.mat-mini-fab{font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;font-weight:500}.mat-button-toggle,.mat-card{font-family:Roboto,Helvetica Neue,sans-serif}.mat-card-title{font-size:24px;font-weight:500}.mat-card-header .mat-card-title{font-size:20px}.mat-card-subtitle,.mat-card-content{font-size:14px}.mat-checkbox{font-family:Roboto,Helvetica Neue,sans-serif}.mat-checkbox-layout .mat-checkbox-label{line-height:24px}.mat-chip{font-size:14px;font-weight:500}.mat-chip .mat-chip-trailing-icon.mat-icon,.mat-chip .mat-chip-remove.mat-icon{font-size:18px}.mat-table{font-family:Roboto,Helvetica Neue,sans-serif}.mat-header-cell{font-size:12px;font-weight:500}.mat-cell,.mat-footer-cell{font-size:14px}.mat-calendar{font-family:Roboto,Helvetica Neue,sans-serif}.mat-calendar-body{font-size:13px}.mat-calendar-body-label,.mat-calendar-period-button{font-size:14px;font-weight:500}.mat-calendar-table-header th{font-size:11px;font-weight:400}.mat-dialog-title{font:500 20px/32px Roboto,Helvetica Neue,sans-serif;letter-spacing:normal}.mat-expansion-panel-header{font-family:Roboto,Helvetica Neue,sans-serif;font-size:15px;font-weight:400}.mat-expansion-panel-content{font:400 14px/20px Roboto,Helvetica Neue,sans-serif;letter-spacing:normal}.mat-form-field{font-size:inherit;font-weight:400;line-height:1.125;font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:normal}.mat-form-field-wrapper{padding-bottom:1.34375em}.mat-form-field-prefix .mat-icon,.mat-form-field-suffix .mat-icon{font-size:150%;line-height:1.125}.mat-form-field-prefix .mat-icon-button,.mat-form-field-suffix .mat-icon-button{height:1.5em;width:1.5em}.mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-suffix .mat-icon-button .mat-icon{height:1.125em;line-height:1.125}.mat-form-field-infix{padding:.5em 0;border-top:.84375em solid transparent}.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.34375em) scale(.75);width:133.3333333333%}.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.34374em) scale(.75);width:133.3333433333%}.mat-form-field-label-wrapper{top:-.84375em;padding-top:.84375em}.mat-form-field-label{top:1.34375em}.mat-form-field-underline{bottom:1.34375em}.mat-form-field-subscript-wrapper{font-size:75%;margin-top:.6666666667em;top:calc(100% - 1.7916666667em)}.mat-form-field-appearance-legacy .mat-form-field-wrapper{padding-bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-infix{padding:.4375em 0}.mat-form-field-appearance-legacy.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.001px);width:133.3333333333%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00101px);width:133.3333433333%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00102px);width:133.3333533333%}.mat-form-field-appearance-legacy .mat-form-field-label{top:1.28125em}.mat-form-field-appearance-legacy .mat-form-field-underline{bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-subscript-wrapper{margin-top:.5416666667em;top:calc(100% - 1.6666666667em)}@media print{.mat-form-field-appearance-legacy.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.28122em) scale(.75)}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.28121em) scale(.75)}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.2812em) scale(.75)}}.mat-form-field-appearance-fill .mat-form-field-infix{padding:.25em 0 .75em}.mat-form-field-appearance-fill .mat-form-field-label{top:1.09375em;margin-top:-.5em}.mat-form-field-appearance-fill.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-.59375em) scale(.75);width:133.3333333333%}.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-.59374em) scale(.75);width:133.3333433333%}.mat-form-field-appearance-outline .mat-form-field-infix{padding:1em 0}.mat-form-field-appearance-outline .mat-form-field-label{top:1.84375em;margin-top:-.25em}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.59375em) scale(.75);width:133.3333333333%}.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.59374em) scale(.75);width:133.3333433333%}.mat-grid-tile-header,.mat-grid-tile-footer{font-size:14px}.mat-grid-tile-header .mat-line,.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2),.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:12px}input.mat-input-element{margin-top:-.0625em}.mat-menu-item{font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;font-weight:400}.mat-paginator,.mat-paginator-page-size .mat-select-trigger{font-family:Roboto,Helvetica Neue,sans-serif;font-size:12px}.mat-radio-button,.mat-select{font-family:Roboto,Helvetica Neue,sans-serif}.mat-select-trigger{height:1.125em}.mat-slide-toggle-content{font-family:Roboto,Helvetica Neue,sans-serif}.mat-slider-thumb-label-text{font-family:Roboto,Helvetica Neue,sans-serif;font-size:12px;font-weight:500}.mat-stepper-vertical,.mat-stepper-horizontal{font-family:Roboto,Helvetica Neue,sans-serif}.mat-step-label{font-size:14px;font-weight:400}.mat-step-sub-label-error{font-weight:400}.mat-step-label-error{font-size:14px}.mat-step-label-selected{font-size:14px;font-weight:500}.mat-tab-group{font-family:Roboto,Helvetica Neue,sans-serif}.mat-tab-label,.mat-tab-link{font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;font-weight:500}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font:500 20px/32px Roboto,Helvetica Neue,sans-serif;letter-spacing:normal;margin:0}.mat-tooltip{font-family:Roboto,Helvetica Neue,sans-serif;font-size:10px;padding-top:6px;padding-bottom:6px}.mat-tooltip-handset{font-size:14px;padding-top:8px;padding-bottom:8px}.mat-list-item,.mat-list-option{font-family:Roboto,Helvetica Neue,sans-serif}.mat-list-base .mat-list-item{font-size:16px}.mat-list-base .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list-base .mat-list-item .mat-line:nth-child(n+2){font-size:14px}.mat-list-base .mat-list-option{font-size:16px}.mat-list-base .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list-base .mat-list-option .mat-line:nth-child(n+2){font-size:14px}.mat-list-base .mat-subheader{font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;font-weight:500}.mat-list-base[dense] .mat-list-item{font-size:12px}.mat-list-base[dense] .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list-base[dense] .mat-list-item .mat-line:nth-child(n+2){font-size:12px}.mat-list-base[dense] .mat-list-option{font-size:12px}.mat-list-base[dense] .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list-base[dense] .mat-list-option .mat-line:nth-child(n+2){font-size:12px}.mat-list-base[dense] .mat-subheader{font-family:Roboto,Helvetica Neue,sans-serif;font-size:12px;font-weight:500}.mat-option{font-family:Roboto,Helvetica Neue,sans-serif;font-size:16px}.mat-optgroup-label{font:500 14px/24px Roboto,Helvetica Neue,sans-serif;letter-spacing:normal}.mat-simple-snackbar{font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px}.mat-simple-snackbar-action{line-height:1;font-family:inherit;font-size:inherit;font-weight:500}.mat-tree{font-family:Roboto,Helvetica Neue,sans-serif}.mat-tree-node,.mat-nested-tree-node{font-weight:400;font-size:14px}.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0,0,.2,1);transform:scale(0)}.cdk-high-contrast-active .mat-ripple-element{display:none}.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none}.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed;z-index:1000}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute;z-index:1000}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;z-index:1000;display:flex;max-width:100%;max-height:100%}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1000;pointer-events:auto;-webkit-tap-highlight-color:transparent;transition:opacity .4s cubic-bezier(.25,.8,.25,1);opacity:0}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:1}.cdk-high-contrast-active .cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:.6}.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}.cdk-overlay-transparent-backdrop,.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing{opacity:0}.cdk-overlay-connected-position-bounding-box{position:absolute;z-index:1000;display:flex;flex-direction:column;min-width:1px;min-height:1px}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0!important;box-sizing:content-box!important;height:auto!important;overflow:hidden!important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0!important;box-sizing:content-box!important;height:0!important}@keyframes cdk-text-field-autofill-start{}@keyframes cdk-text-field-autofill-end{}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}.mat-focus-indicator,.mat-mdc-focus-indicator{position:relative}.mat-ripple-element{background-color:#0000001a}.mat-option{color:#000000de}.mat-option:hover:not(.mat-option-disabled),.mat-option:focus:not(.mat-option-disabled){background:rgba(0,0,0,.04)}.mat-option.mat-selected:not(.mat-option-multiple):not(.mat-option-disabled){background:rgba(0,0,0,.04)}.mat-option.mat-active{background:rgba(0,0,0,.04);color:#000000de}.mat-option.mat-option-disabled{color:#00000061}.mat-primary .mat-option.mat-selected:not(.mat-option-disabled){color:#673ab7}.mat-accent .mat-option.mat-selected:not(.mat-option-disabled){color:#ffd740}.mat-warn .mat-option.mat-selected:not(.mat-option-disabled){color:#f44336}.mat-optgroup-label{color:#0000008a}.mat-optgroup-disabled .mat-optgroup-label{color:#00000061}.mat-pseudo-checkbox{color:#0000008a}.mat-pseudo-checkbox:after{color:#fafafa}.mat-pseudo-checkbox-disabled{color:#b0b0b0}.mat-primary .mat-pseudo-checkbox-checked,.mat-primary .mat-pseudo-checkbox-indeterminate{background:#673ab7}.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-indeterminate,.mat-accent .mat-pseudo-checkbox-checked,.mat-accent .mat-pseudo-checkbox-indeterminate{background:#ffd740}.mat-warn .mat-pseudo-checkbox-checked,.mat-warn .mat-pseudo-checkbox-indeterminate{background:#f44336}.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background:#b0b0b0}.mat-app-background{background-color:#fafafa;color:#000000de}.mat-elevation-z0{box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.mat-elevation-z1{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f}.mat-elevation-z2{box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.mat-elevation-z3{box-shadow:0 3px 3px -2px #0003,0 3px 4px #00000024,0 1px 8px #0000001f}.mat-elevation-z4{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f}.mat-elevation-z5{box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f}.mat-elevation-z6{box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.mat-elevation-z7{box-shadow:0 4px 5px -2px #0003,0 7px 10px 1px #00000024,0 2px 16px 1px #0000001f}.mat-elevation-z8{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.mat-elevation-z9{box-shadow:0 5px 6px -3px #0003,0 9px 12px 1px #00000024,0 3px 16px 2px #0000001f}.mat-elevation-z10{box-shadow:0 6px 6px -3px #0003,0 10px 14px 1px #00000024,0 4px 18px 3px #0000001f}.mat-elevation-z11{box-shadow:0 6px 7px -4px #0003,0 11px 15px 1px #00000024,0 4px 20px 3px #0000001f}.mat-elevation-z12{box-shadow:0 7px 8px -4px #0003,0 12px 17px 2px #00000024,0 5px 22px 4px #0000001f}.mat-elevation-z13{box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f}.mat-elevation-z14{box-shadow:0 7px 9px -4px #0003,0 14px 21px 2px #00000024,0 5px 26px 4px #0000001f}.mat-elevation-z15{box-shadow:0 8px 9px -5px #0003,0 15px 22px 2px #00000024,0 6px 28px 5px #0000001f}.mat-elevation-z16{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f}.mat-elevation-z17{box-shadow:0 8px 11px -5px #0003,0 17px 26px 2px #00000024,0 6px 32px 5px #0000001f}.mat-elevation-z18{box-shadow:0 9px 11px -5px #0003,0 18px 28px 2px #00000024,0 7px 34px 6px #0000001f}.mat-elevation-z19{box-shadow:0 9px 12px -6px #0003,0 19px 29px 2px #00000024,0 7px 36px 6px #0000001f}.mat-elevation-z20{box-shadow:0 10px 13px -6px #0003,0 20px 31px 3px #00000024,0 8px 38px 7px #0000001f}.mat-elevation-z21{box-shadow:0 10px 13px -6px #0003,0 21px 33px 3px #00000024,0 8px 40px 7px #0000001f}.mat-elevation-z22{box-shadow:0 10px 14px -6px #0003,0 22px 35px 3px #00000024,0 8px 42px 7px #0000001f}.mat-elevation-z23{box-shadow:0 11px 14px -7px #0003,0 23px 36px 3px #00000024,0 9px 44px 8px #0000001f}.mat-elevation-z24{box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f}.mat-theme-loaded-marker{display:none}.mat-autocomplete-panel{background:#fff;color:#000000de}.mat-autocomplete-panel:not([class*=mat-elevation-z]){box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f}.mat-autocomplete-panel .mat-option.mat-selected:not(.mat-active):not(:hover){background:#fff}.mat-autocomplete-panel .mat-option.mat-selected:not(.mat-active):not(:hover):not(.mat-option-disabled){color:#000000de}.mat-badge{position:relative}.mat-badge-hidden .mat-badge-content{display:none}.mat-badge-content{position:absolute;text-align:center;display:inline-block;border-radius:50%;transition:transform .2s ease-in-out;transform:scale(.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;pointer-events:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:16px;height:16px;line-height:16px}.mat-badge-small.mat-badge-above .mat-badge-content{top:-8px}.mat-badge-small.mat-badge-below .mat-badge-content{bottom:-8px}.mat-badge-small.mat-badge-before .mat-badge-content{left:-16px}[dir=rtl] .mat-badge-small.mat-badge-before .mat-badge-content{left:auto;right:-16px}.mat-badge-small.mat-badge-after .mat-badge-content{right:-16px}[dir=rtl] .mat-badge-small.mat-badge-after .mat-badge-content{right:auto;left:-16px}.mat-badge-small.mat-badge-overlap.mat-badge-before .mat-badge-content{left:-8px}[dir=rtl] .mat-badge-small.mat-badge-overlap.mat-badge-before .mat-badge-content{left:auto;right:-8px}.mat-badge-small.mat-badge-overlap.mat-badge-after .mat-badge-content{right:-8px}[dir=rtl] .mat-badge-small.mat-badge-overlap.mat-badge-after .mat-badge-content{right:auto;left:-8px}.mat-badge-medium .mat-badge-content{width:22px;height:22px;line-height:22px}.mat-badge-medium.mat-badge-above .mat-badge-content{top:-11px}.mat-badge-medium.mat-badge-below .mat-badge-content{bottom:-11px}.mat-badge-medium.mat-badge-before .mat-badge-content{left:-22px}[dir=rtl] .mat-badge-medium.mat-badge-before .mat-badge-content{left:auto;right:-22px}.mat-badge-medium.mat-badge-after .mat-badge-content{right:-22px}[dir=rtl] .mat-badge-medium.mat-badge-after .mat-badge-content{right:auto;left:-22px}.mat-badge-medium.mat-badge-overlap.mat-badge-before .mat-badge-content{left:-11px}[dir=rtl] .mat-badge-medium.mat-badge-overlap.mat-badge-before .mat-badge-content{left:auto;right:-11px}.mat-badge-medium.mat-badge-overlap.mat-badge-after .mat-badge-content{right:-11px}[dir=rtl] .mat-badge-medium.mat-badge-overlap.mat-badge-after .mat-badge-content{right:auto;left:-11px}.mat-badge-large .mat-badge-content{width:28px;height:28px;line-height:28px}.mat-badge-large.mat-badge-above .mat-badge-content{top:-14px}.mat-badge-large.mat-badge-below .mat-badge-content{bottom:-14px}.mat-badge-large.mat-badge-before .mat-badge-content{left:-28px}[dir=rtl] .mat-badge-large.mat-badge-before .mat-badge-content{left:auto;right:-28px}.mat-badge-large.mat-badge-after .mat-badge-content{right:-28px}[dir=rtl] .mat-badge-large.mat-badge-after .mat-badge-content{right:auto;left:-28px}.mat-badge-large.mat-badge-overlap.mat-badge-before .mat-badge-content{left:-14px}[dir=rtl] .mat-badge-large.mat-badge-overlap.mat-badge-before .mat-badge-content{left:auto;right:-14px}.mat-badge-large.mat-badge-overlap.mat-badge-after .mat-badge-content{right:-14px}[dir=rtl] .mat-badge-large.mat-badge-overlap.mat-badge-after .mat-badge-content{right:auto;left:-14px}.mat-badge-content{color:#fff;background:#673ab7}.cdk-high-contrast-active .mat-badge-content{outline:solid 1px;border-radius:0}.mat-badge-accent .mat-badge-content{background:#ffd740;color:#000000de}.mat-badge-warn .mat-badge-content{color:#fff;background:#f44336}.mat-badge-disabled .mat-badge-content{background:#b9b9b9;color:#00000061}.mat-bottom-sheet-container{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f;background:#fff;color:#000000de}.mat-button,.mat-icon-button,.mat-stroked-button{color:inherit;background:transparent}.mat-button.mat-primary,.mat-icon-button.mat-primary,.mat-stroked-button.mat-primary{color:#673ab7}.mat-button.mat-accent,.mat-icon-button.mat-accent,.mat-stroked-button.mat-accent{color:#ffd740}.mat-button.mat-warn,.mat-icon-button.mat-warn,.mat-stroked-button.mat-warn{color:#f44336}.mat-button.mat-primary.mat-button-disabled,.mat-button.mat-accent.mat-button-disabled,.mat-button.mat-warn.mat-button-disabled,.mat-button.mat-button-disabled.mat-button-disabled,.mat-icon-button.mat-primary.mat-button-disabled,.mat-icon-button.mat-accent.mat-button-disabled,.mat-icon-button.mat-warn.mat-button-disabled,.mat-icon-button.mat-button-disabled.mat-button-disabled,.mat-stroked-button.mat-primary.mat-button-disabled,.mat-stroked-button.mat-accent.mat-button-disabled,.mat-stroked-button.mat-warn.mat-button-disabled,.mat-stroked-button.mat-button-disabled.mat-button-disabled{color:#00000042}.mat-button.mat-primary .mat-button-focus-overlay,.mat-icon-button.mat-primary .mat-button-focus-overlay,.mat-stroked-button.mat-primary .mat-button-focus-overlay{background-color:#673ab7}.mat-button.mat-accent .mat-button-focus-overlay,.mat-icon-button.mat-accent .mat-button-focus-overlay,.mat-stroked-button.mat-accent .mat-button-focus-overlay{background-color:#ffd740}.mat-button.mat-warn .mat-button-focus-overlay,.mat-icon-button.mat-warn .mat-button-focus-overlay,.mat-stroked-button.mat-warn .mat-button-focus-overlay{background-color:#f44336}.mat-button.mat-button-disabled .mat-button-focus-overlay,.mat-icon-button.mat-button-disabled .mat-button-focus-overlay,.mat-stroked-button.mat-button-disabled .mat-button-focus-overlay{background-color:transparent}.mat-button .mat-ripple-element,.mat-icon-button .mat-ripple-element,.mat-stroked-button .mat-ripple-element{opacity:.1;background-color:currentColor}.mat-button-focus-overlay{background:#000}.mat-stroked-button:not(.mat-button-disabled){border-color:#0000001f}.mat-flat-button,.mat-raised-button,.mat-fab,.mat-mini-fab{color:#000000de;background-color:#fff}.mat-flat-button.mat-primary,.mat-raised-button.mat-primary,.mat-fab.mat-primary,.mat-mini-fab.mat-primary{color:#fff}.mat-flat-button.mat-accent,.mat-raised-button.mat-accent,.mat-fab.mat-accent,.mat-mini-fab.mat-accent{color:#000000de}.mat-flat-button.mat-warn,.mat-raised-button.mat-warn,.mat-fab.mat-warn,.mat-mini-fab.mat-warn{color:#fff}.mat-flat-button.mat-primary.mat-button-disabled,.mat-flat-button.mat-accent.mat-button-disabled,.mat-flat-button.mat-warn.mat-button-disabled,.mat-flat-button.mat-button-disabled.mat-button-disabled,.mat-raised-button.mat-primary.mat-button-disabled,.mat-raised-button.mat-accent.mat-button-disabled,.mat-raised-button.mat-warn.mat-button-disabled,.mat-raised-button.mat-button-disabled.mat-button-disabled,.mat-fab.mat-primary.mat-button-disabled,.mat-fab.mat-accent.mat-button-disabled,.mat-fab.mat-warn.mat-button-disabled,.mat-fab.mat-button-disabled.mat-button-disabled,.mat-mini-fab.mat-primary.mat-button-disabled,.mat-mini-fab.mat-accent.mat-button-disabled,.mat-mini-fab.mat-warn.mat-button-disabled,.mat-mini-fab.mat-button-disabled.mat-button-disabled{color:#00000042}.mat-flat-button.mat-primary,.mat-raised-button.mat-primary,.mat-fab.mat-primary,.mat-mini-fab.mat-primary{background-color:#673ab7}.mat-flat-button.mat-accent,.mat-raised-button.mat-accent,.mat-fab.mat-accent,.mat-mini-fab.mat-accent{background-color:#ffd740}.mat-flat-button.mat-warn,.mat-raised-button.mat-warn,.mat-fab.mat-warn,.mat-mini-fab.mat-warn{background-color:#f44336}.mat-flat-button.mat-primary.mat-button-disabled,.mat-flat-button.mat-accent.mat-button-disabled,.mat-flat-button.mat-warn.mat-button-disabled,.mat-flat-button.mat-button-disabled.mat-button-disabled,.mat-raised-button.mat-primary.mat-button-disabled,.mat-raised-button.mat-accent.mat-button-disabled,.mat-raised-button.mat-warn.mat-button-disabled,.mat-raised-button.mat-button-disabled.mat-button-disabled,.mat-fab.mat-primary.mat-button-disabled,.mat-fab.mat-accent.mat-button-disabled,.mat-fab.mat-warn.mat-button-disabled,.mat-fab.mat-button-disabled.mat-button-disabled,.mat-mini-fab.mat-primary.mat-button-disabled,.mat-mini-fab.mat-accent.mat-button-disabled,.mat-mini-fab.mat-warn.mat-button-disabled,.mat-mini-fab.mat-button-disabled.mat-button-disabled{background-color:#0000001f}.mat-flat-button.mat-primary .mat-ripple-element,.mat-raised-button.mat-primary .mat-ripple-element,.mat-fab.mat-primary .mat-ripple-element,.mat-mini-fab.mat-primary .mat-ripple-element{background-color:#ffffff1a}.mat-flat-button.mat-accent .mat-ripple-element,.mat-raised-button.mat-accent .mat-ripple-element,.mat-fab.mat-accent .mat-ripple-element,.mat-mini-fab.mat-accent .mat-ripple-element{background-color:#0000001a}.mat-flat-button.mat-warn .mat-ripple-element,.mat-raised-button.mat-warn .mat-ripple-element,.mat-fab.mat-warn .mat-ripple-element,.mat-mini-fab.mat-warn .mat-ripple-element{background-color:#ffffff1a}.mat-stroked-button:not([class*=mat-elevation-z]),.mat-flat-button:not([class*=mat-elevation-z]){box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.mat-raised-button:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.mat-raised-button:not(.mat-button-disabled):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.mat-raised-button.mat-button-disabled:not([class*=mat-elevation-z]){box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.mat-fab:not([class*=mat-elevation-z]),.mat-mini-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.mat-fab:not(.mat-button-disabled):active:not([class*=mat-elevation-z]),.mat-mini-fab:not(.mat-button-disabled):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px #0003,0 12px 17px 2px #00000024,0 5px 22px 4px #0000001f}.mat-fab.mat-button-disabled:not([class*=mat-elevation-z]),.mat-mini-fab.mat-button-disabled:not([class*=mat-elevation-z]){box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.mat-button-toggle-standalone,.mat-button-toggle-group{box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{box-shadow:none}.mat-button-toggle{color:#00000061}.mat-button-toggle .mat-button-toggle-focus-overlay{background-color:#0000001f}.mat-button-toggle-appearance-standard{color:#000000de;background:#fff}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:#000}.mat-button-toggle-group-appearance-standard .mat-button-toggle+.mat-button-toggle{border-left:solid 1px rgba(0,0,0,.12)}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle+.mat-button-toggle{border-left:none;border-right:solid 1px rgba(0,0,0,.12)}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle+.mat-button-toggle{border-left:none;border-right:none;border-top:solid 1px rgba(0,0,0,.12)}.mat-button-toggle-checked{background-color:#e0e0e0;color:#0000008a}.mat-button-toggle-checked.mat-button-toggle-appearance-standard{color:#000000de}.mat-button-toggle-disabled{color:#00000042;background-color:#eee}.mat-button-toggle-disabled.mat-button-toggle-appearance-standard{background:#fff}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:#bdbdbd}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border:solid 1px rgba(0,0,0,.12)}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{line-height:48px}.mat-card{background:#fff;color:#000000de}.mat-card:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f}.mat-card.mat-card-flat:not([class*=mat-elevation-z]){box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.mat-card-subtitle{color:#0000008a}.mat-checkbox-frame{border-color:#0000008a}.mat-checkbox-checkmark{fill:#fafafa}.mat-checkbox-checkmark-path{stroke:#fafafa!important}.mat-checkbox-mixedmark{background-color:#fafafa}.mat-checkbox-indeterminate.mat-primary .mat-checkbox-background,.mat-checkbox-checked.mat-primary .mat-checkbox-background{background-color:#673ab7}.mat-checkbox-indeterminate.mat-accent .mat-checkbox-background,.mat-checkbox-checked.mat-accent .mat-checkbox-background{background-color:#ffd740}.mat-checkbox-indeterminate.mat-warn .mat-checkbox-background,.mat-checkbox-checked.mat-warn .mat-checkbox-background{background-color:#f44336}.mat-checkbox-disabled.mat-checkbox-checked .mat-checkbox-background,.mat-checkbox-disabled.mat-checkbox-indeterminate .mat-checkbox-background{background-color:#b0b0b0}.mat-checkbox-disabled:not(.mat-checkbox-checked) .mat-checkbox-frame{border-color:#b0b0b0}.mat-checkbox-disabled .mat-checkbox-label{color:#0000008a}.mat-checkbox .mat-ripple-element{background-color:#000}.mat-checkbox-checked:not(.mat-checkbox-disabled).mat-primary .mat-ripple-element,.mat-checkbox:active:not(.mat-checkbox-disabled).mat-primary .mat-ripple-element{background:#673ab7}.mat-checkbox-checked:not(.mat-checkbox-disabled).mat-accent .mat-ripple-element,.mat-checkbox:active:not(.mat-checkbox-disabled).mat-accent .mat-ripple-element{background:#ffd740}.mat-checkbox-checked:not(.mat-checkbox-disabled).mat-warn .mat-ripple-element,.mat-checkbox:active:not(.mat-checkbox-disabled).mat-warn .mat-ripple-element{background:#f44336}.mat-chip.mat-standard-chip{background-color:#e0e0e0;color:#000000de}.mat-chip.mat-standard-chip .mat-chip-remove{color:#000000de;opacity:.4}.mat-chip.mat-standard-chip:not(.mat-chip-disabled):active{box-shadow:0 3px 3px -2px #0003,0 3px 4px #00000024,0 1px 8px #0000001f}.mat-chip.mat-standard-chip:not(.mat-chip-disabled) .mat-chip-remove:hover{opacity:.54}.mat-chip.mat-standard-chip.mat-chip-disabled{opacity:.4}.mat-chip.mat-standard-chip:after{background:#000}.mat-chip.mat-standard-chip.mat-chip-selected.mat-primary{background-color:#673ab7;color:#fff}.mat-chip.mat-standard-chip.mat-chip-selected.mat-primary .mat-chip-remove{color:#fff;opacity:.4}.mat-chip.mat-standard-chip.mat-chip-selected.mat-primary .mat-ripple-element{background-color:#ffffff1a}.mat-chip.mat-standard-chip.mat-chip-selected.mat-warn{background-color:#f44336;color:#fff}.mat-chip.mat-standard-chip.mat-chip-selected.mat-warn .mat-chip-remove{color:#fff;opacity:.4}.mat-chip.mat-standard-chip.mat-chip-selected.mat-warn .mat-ripple-element{background-color:#ffffff1a}.mat-chip.mat-standard-chip.mat-chip-selected.mat-accent{background-color:#ffd740;color:#000000de}.mat-chip.mat-standard-chip.mat-chip-selected.mat-accent .mat-chip-remove{color:#000000de;opacity:.4}.mat-chip.mat-standard-chip.mat-chip-selected.mat-accent .mat-ripple-element{background-color:#0000001a}.mat-table{background:#fff}.mat-table thead,.mat-table tbody,.mat-table tfoot,mat-header-row,mat-row,mat-footer-row,[mat-header-row],[mat-row],[mat-footer-row],.mat-table-sticky{background:inherit}mat-row,mat-header-row,mat-footer-row,th.mat-header-cell,td.mat-cell,td.mat-footer-cell{border-bottom-color:#0000001f}.mat-header-cell{color:#0000008a}.mat-cell,.mat-footer-cell{color:#000000de}.mat-calendar-arrow{fill:#0000008a}.mat-datepicker-toggle,.mat-datepicker-content .mat-calendar-next-button,.mat-datepicker-content .mat-calendar-previous-button{color:#0000008a}.mat-calendar-table-header-divider:after{background:rgba(0,0,0,.12)}.mat-calendar-table-header,.mat-calendar-body-label{color:#0000008a}.mat-calendar-body-cell-content,.mat-date-range-input-separator{color:#000000de;border-color:transparent}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:#00000061}.mat-form-field-disabled .mat-date-range-input-separator{color:#00000061}.mat-calendar-body-in-preview{color:#0000003d}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:#00000061}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:#0000002e}.mat-calendar-body-in-range:before{background:rgba(103,58,183,.2)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range:before{background:rgba(249,171,0,.2)}.mat-calendar-body-comparison-bridge-start:before,[dir=rtl] .mat-calendar-body-comparison-bridge-end:before{background:linear-gradient(to right,rgba(103,58,183,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-calendar-body-comparison-bridge-end:before,[dir=rtl] .mat-calendar-body-comparison-bridge-start:before{background:linear-gradient(to left,rgba(103,58,183,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range:after{background:#a8dab5}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:#46a35e}.mat-calendar-body-selected{background-color:#673ab7;color:#fff}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:#673ab766}.mat-calendar-body-today.mat-calendar-body-selected{box-shadow:inset 0 0 0 1px #fff}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#673ab74d}@media (hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#673ab74d}}.mat-datepicker-content{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;background-color:#fff;color:#000000de}.mat-datepicker-content.mat-accent .mat-calendar-body-in-range:before{background:rgba(255,215,64,.2)}.mat-datepicker-content.mat-accent .mat-calendar-body-comparison-identical,.mat-datepicker-content.mat-accent .mat-calendar-body-in-comparison-range:before{background:rgba(249,171,0,.2)}.mat-datepicker-content.mat-accent .mat-calendar-body-comparison-bridge-start:before,.mat-datepicker-content.mat-accent [dir=rtl] .mat-calendar-body-comparison-bridge-end:before{background:linear-gradient(to right,rgba(255,215,64,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-datepicker-content.mat-accent .mat-calendar-body-comparison-bridge-end:before,.mat-datepicker-content.mat-accent [dir=rtl] .mat-calendar-body-comparison-bridge-start:before{background:linear-gradient(to left,rgba(255,215,64,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-datepicker-content.mat-accent .mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-datepicker-content.mat-accent .mat-calendar-body-in-comparison-range.mat-calendar-body-in-range:after{background:#a8dab5}.mat-datepicker-content.mat-accent .mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-datepicker-content.mat-accent .mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:#46a35e}.mat-datepicker-content.mat-accent .mat-calendar-body-selected{background-color:#ffd740;color:#000000de}.mat-datepicker-content.mat-accent .mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:#ffd74066}.mat-datepicker-content.mat-accent .mat-calendar-body-today.mat-calendar-body-selected{box-shadow:inset 0 0 0 1px #000000de}.mat-datepicker-content.mat-accent .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.mat-datepicker-content.mat-accent .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#ffd7404d}@media (hover: hover){.mat-datepicker-content.mat-accent .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#ffd7404d}}.mat-datepicker-content.mat-warn .mat-calendar-body-in-range:before{background:rgba(244,67,54,.2)}.mat-datepicker-content.mat-warn .mat-calendar-body-comparison-identical,.mat-datepicker-content.mat-warn .mat-calendar-body-in-comparison-range:before{background:rgba(249,171,0,.2)}.mat-datepicker-content.mat-warn .mat-calendar-body-comparison-bridge-start:before,.mat-datepicker-content.mat-warn [dir=rtl] .mat-calendar-body-comparison-bridge-end:before{background:linear-gradient(to right,rgba(244,67,54,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-datepicker-content.mat-warn .mat-calendar-body-comparison-bridge-end:before,.mat-datepicker-content.mat-warn [dir=rtl] .mat-calendar-body-comparison-bridge-start:before{background:linear-gradient(to left,rgba(244,67,54,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-datepicker-content.mat-warn .mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-datepicker-content.mat-warn .mat-calendar-body-in-comparison-range.mat-calendar-body-in-range:after{background:#a8dab5}.mat-datepicker-content.mat-warn .mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-datepicker-content.mat-warn .mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:#46a35e}.mat-datepicker-content.mat-warn .mat-calendar-body-selected{background-color:#f44336;color:#fff}.mat-datepicker-content.mat-warn .mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:#f4433666}.mat-datepicker-content.mat-warn .mat-calendar-body-today.mat-calendar-body-selected{box-shadow:inset 0 0 0 1px #fff}.mat-datepicker-content.mat-warn .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.mat-datepicker-content.mat-warn .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#f443364d}@media (hover: hover){.mat-datepicker-content.mat-warn .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#f443364d}}.mat-datepicker-content-touch{box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f}.mat-datepicker-toggle-active{color:#673ab7}.mat-datepicker-toggle-active.mat-accent{color:#ffd740}.mat-datepicker-toggle-active.mat-warn{color:#f44336}.mat-date-range-input-inner[disabled]{color:#00000061}.mat-dialog-container{box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f;background:#fff;color:#000000de}.mat-divider{border-top-color:#0000001f}.mat-divider-vertical{border-right-color:#0000001f}.mat-expansion-panel{background:#fff;color:#000000de}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.mat-action-row{border-top-color:#0000001f}.mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true]),.mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true]),.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true]){background:rgba(0,0,0,.04)}@media (hover: none){.mat-expansion-panel:not(.mat-expanded):not([aria-disabled=true]) .mat-expansion-panel-header:hover{background:#fff}}.mat-expansion-panel-header-title{color:#000000de}.mat-expansion-panel-header-description,.mat-expansion-indicator:after{color:#0000008a}.mat-expansion-panel-header[aria-disabled=true]{color:#00000042}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header{height:48px}.mat-expansion-panel-header.mat-expanded{height:64px}.mat-form-field-label,.mat-hint{color:#0009}.mat-form-field.mat-focused .mat-form-field-label{color:#673ab7}.mat-form-field.mat-focused .mat-form-field-label.mat-accent{color:#ffd740}.mat-form-field.mat-focused .mat-form-field-label.mat-warn{color:#f44336}.mat-focused .mat-form-field-required-marker{color:#ffd740}.mat-form-field-ripple{background-color:#000000de}.mat-form-field.mat-focused .mat-form-field-ripple{background-color:#673ab7}.mat-form-field.mat-focused .mat-form-field-ripple.mat-accent{background-color:#ffd740}.mat-form-field.mat-focused .mat-form-field-ripple.mat-warn{background-color:#f44336}.mat-form-field-type-mat-native-select.mat-focused:not(.mat-form-field-invalid) .mat-form-field-infix:after{color:#673ab7}.mat-form-field-type-mat-native-select.mat-focused:not(.mat-form-field-invalid).mat-accent .mat-form-field-infix:after{color:#ffd740}.mat-form-field-type-mat-native-select.mat-focused:not(.mat-form-field-invalid).mat-warn .mat-form-field-infix:after{color:#f44336}.mat-form-field.mat-form-field-invalid .mat-form-field-label,.mat-form-field.mat-form-field-invalid .mat-form-field-label.mat-accent,.mat-form-field.mat-form-field-invalid .mat-form-field-label .mat-form-field-required-marker{color:#f44336}.mat-form-field.mat-form-field-invalid .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple.mat-accent{background-color:#f44336}.mat-error{color:#f44336}.mat-form-field-appearance-legacy .mat-form-field-label,.mat-form-field-appearance-legacy .mat-hint{color:#0000008a}.mat-form-field-appearance-legacy .mat-form-field-underline{background-color:#0000006b}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-image:linear-gradient(to right,rgba(0,0,0,.42) 0%,rgba(0,0,0,.42) 33%,transparent 0%);background-size:4px 100%;background-repeat:repeat-x}.mat-form-field-appearance-standard .mat-form-field-underline{background-color:#0000006b}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-image:linear-gradient(to right,rgba(0,0,0,.42) 0%,rgba(0,0,0,.42) 33%,transparent 0%);background-size:4px 100%;background-repeat:repeat-x}.mat-form-field-appearance-fill .mat-form-field-flex{background-color:#0000000a}.mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{background-color:#00000005}.mat-form-field-appearance-fill .mat-form-field-underline:before{background-color:#0000006b}.mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-label{color:#00000061}.mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-underline:before{background-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline{color:#0000001f}.mat-form-field-appearance-outline .mat-form-field-outline-thick{color:#000000de}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{color:#673ab7}.mat-form-field-appearance-outline.mat-focused.mat-accent .mat-form-field-outline-thick{color:#ffd740}.mat-form-field-appearance-outline.mat-focused.mat-warn .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{color:#f44336}.mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-label{color:#00000061}.mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:#0000000f}.mat-icon.mat-primary{color:#673ab7}.mat-icon.mat-accent{color:#ffd740}.mat-icon.mat-warn{color:#f44336}.mat-form-field-type-mat-native-select .mat-form-field-infix:after{color:#0000008a}.mat-input-element:disabled,.mat-form-field-type-mat-native-select.mat-form-field-disabled .mat-form-field-infix:after{color:#00000061}.mat-input-element{caret-color:#673ab7}.mat-input-element::placeholder{color:#0000006b}.mat-input-element::-moz-placeholder{color:#0000006b}.mat-input-element::-webkit-input-placeholder{color:#0000006b}.mat-input-element:-ms-input-placeholder{color:#0000006b}.mat-form-field.mat-accent .mat-input-element{caret-color:#ffd740}.mat-form-field.mat-warn .mat-input-element,.mat-form-field-invalid .mat-input-element{caret-color:#f44336}.mat-form-field-type-mat-native-select.mat-form-field-invalid .mat-form-field-infix:after{color:#f44336}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{color:#000000de}.mat-list-base .mat-subheader{color:#0000008a}.mat-list-item-disabled{background-color:#eee}.mat-list-option:hover,.mat-list-option:focus,.mat-nav-list .mat-list-item:hover,.mat-nav-list .mat-list-item:focus,.mat-action-list .mat-list-item:hover,.mat-action-list .mat-list-item:focus{background:rgba(0,0,0,.04)}.mat-list-single-selected-option,.mat-list-single-selected-option:hover,.mat-list-single-selected-option:focus{background:rgba(0,0,0,.12)}.mat-menu-panel{background:#fff}.mat-menu-panel:not([class*=mat-elevation-z]){box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f}.mat-menu-item{background:transparent;color:#000000de}.mat-menu-item[disabled],.mat-menu-item[disabled] .mat-menu-submenu-icon,.mat-menu-item[disabled] .mat-icon-no-color{color:#00000061}.mat-menu-item .mat-icon-no-color,.mat-menu-submenu-icon{color:#0000008a}.mat-menu-item:hover:not([disabled]),.mat-menu-item.cdk-program-focused:not([disabled]),.mat-menu-item.cdk-keyboard-focused:not([disabled]),.mat-menu-item-highlighted:not([disabled]){background:rgba(0,0,0,.04)}.mat-paginator{background:#fff}.mat-paginator,.mat-paginator-page-size .mat-select-trigger{color:#0000008a}.mat-paginator-decrement,.mat-paginator-increment{border-top:2px solid rgba(0,0,0,.54);border-right:2px solid rgba(0,0,0,.54)}.mat-paginator-first,.mat-paginator-last{border-top:2px solid rgba(0,0,0,.54)}.mat-icon-button[disabled] .mat-paginator-decrement,.mat-icon-button[disabled] .mat-paginator-increment,.mat-icon-button[disabled] .mat-paginator-first,.mat-icon-button[disabled] .mat-paginator-last{border-color:#00000061}.mat-paginator-container{min-height:56px}.mat-progress-bar-background{fill:#d5cae9}.mat-progress-bar-buffer{background-color:#d5cae9}.mat-progress-bar-fill:after{background-color:#673ab7}.mat-progress-bar.mat-accent .mat-progress-bar-background{fill:#fbf1cc}.mat-progress-bar.mat-accent .mat-progress-bar-buffer{background-color:#fbf1cc}.mat-progress-bar.mat-accent .mat-progress-bar-fill:after{background-color:#ffd740}.mat-progress-bar.mat-warn .mat-progress-bar-background{fill:#f9ccc9}.mat-progress-bar.mat-warn .mat-progress-bar-buffer{background-color:#f9ccc9}.mat-progress-bar.mat-warn .mat-progress-bar-fill:after{background-color:#f44336}.mat-progress-spinner circle,.mat-spinner circle{stroke:#673ab7}.mat-progress-spinner.mat-accent circle,.mat-spinner.mat-accent circle{stroke:#ffd740}.mat-progress-spinner.mat-warn circle,.mat-spinner.mat-warn circle{stroke:#f44336}.mat-radio-outer-circle{border-color:#0000008a}.mat-radio-button.mat-primary.mat-radio-checked .mat-radio-outer-circle{border-color:#673ab7}.mat-radio-button.mat-primary .mat-radio-inner-circle,.mat-radio-button.mat-primary .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple),.mat-radio-button.mat-primary.mat-radio-checked .mat-radio-persistent-ripple,.mat-radio-button.mat-primary:active .mat-radio-persistent-ripple{background-color:#673ab7}.mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle{border-color:#ffd740}.mat-radio-button.mat-accent .mat-radio-inner-circle,.mat-radio-button.mat-accent .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple),.mat-radio-button.mat-accent.mat-radio-checked .mat-radio-persistent-ripple,.mat-radio-button.mat-accent:active .mat-radio-persistent-ripple{background-color:#ffd740}.mat-radio-button.mat-warn.mat-radio-checked .mat-radio-outer-circle{border-color:#f44336}.mat-radio-button.mat-warn .mat-radio-inner-circle,.mat-radio-button.mat-warn .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple),.mat-radio-button.mat-warn.mat-radio-checked .mat-radio-persistent-ripple,.mat-radio-button.mat-warn:active .mat-radio-persistent-ripple{background-color:#f44336}.mat-radio-button.mat-radio-disabled.mat-radio-checked .mat-radio-outer-circle,.mat-radio-button.mat-radio-disabled .mat-radio-outer-circle{border-color:#00000061}.mat-radio-button.mat-radio-disabled .mat-radio-ripple .mat-ripple-element,.mat-radio-button.mat-radio-disabled .mat-radio-inner-circle{background-color:#00000061}.mat-radio-button.mat-radio-disabled .mat-radio-label-content{color:#00000061}.mat-radio-button .mat-ripple-element{background-color:#000}.mat-select-value{color:#000000de}.mat-select-placeholder{color:#0000006b}.mat-select-disabled .mat-select-value{color:#00000061}.mat-select-arrow{color:#0000008a}.mat-select-panel{background:#fff}.mat-select-panel:not([class*=mat-elevation-z]){box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f}.mat-select-panel .mat-option.mat-selected:not(.mat-option-multiple){background:rgba(0,0,0,.12)}.mat-form-field.mat-focused.mat-primary .mat-select-arrow{color:#673ab7}.mat-form-field.mat-focused.mat-accent .mat-select-arrow{color:#ffd740}.mat-form-field.mat-focused.mat-warn .mat-select-arrow,.mat-form-field .mat-select.mat-select-invalid .mat-select-arrow{color:#f44336}.mat-form-field .mat-select.mat-select-disabled .mat-select-arrow{color:#00000061}.mat-drawer-container{background-color:#fafafa;color:#000000de}.mat-drawer{background-color:#fff;color:#000000de}.mat-drawer.mat-drawer-push{background-color:#fff}.mat-drawer:not(.mat-drawer-side){box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f}.mat-drawer-side{border-right:solid 1px rgba(0,0,0,.12)}.mat-drawer-side.mat-drawer-end,[dir=rtl] .mat-drawer-side{border-left:solid 1px rgba(0,0,0,.12);border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-left:none;border-right:solid 1px rgba(0,0,0,.12)}.mat-drawer-backdrop.mat-drawer-shown{background-color:#0009}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb{background-color:#ffd740}.mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#ffd7408a}.mat-slide-toggle.mat-checked .mat-ripple-element{background-color:#ffd740}.mat-slide-toggle.mat-primary.mat-checked .mat-slide-toggle-thumb{background-color:#673ab7}.mat-slide-toggle.mat-primary.mat-checked .mat-slide-toggle-bar{background-color:#673ab78a}.mat-slide-toggle.mat-primary.mat-checked .mat-ripple-element{background-color:#673ab7}.mat-slide-toggle.mat-warn.mat-checked .mat-slide-toggle-thumb{background-color:#f44336}.mat-slide-toggle.mat-warn.mat-checked .mat-slide-toggle-bar{background-color:#f443368a}.mat-slide-toggle.mat-warn.mat-checked .mat-ripple-element{background-color:#f44336}.mat-slide-toggle:not(.mat-checked) .mat-ripple-element{background-color:#000}.mat-slide-toggle-thumb{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;background-color:#fafafa}.mat-slide-toggle-bar{background-color:#00000061}.mat-slider-track-background{background-color:#00000042}.mat-primary .mat-slider-track-fill,.mat-primary .mat-slider-thumb,.mat-primary .mat-slider-thumb-label{background-color:#673ab7}.mat-primary .mat-slider-thumb-label-text{color:#fff}.mat-primary .mat-slider-focus-ring{background-color:#673ab733}.mat-accent .mat-slider-track-fill,.mat-accent .mat-slider-thumb,.mat-accent .mat-slider-thumb-label{background-color:#ffd740}.mat-accent .mat-slider-thumb-label-text{color:#000000de}.mat-accent .mat-slider-focus-ring{background-color:#ffd74033}.mat-warn .mat-slider-track-fill,.mat-warn .mat-slider-thumb,.mat-warn .mat-slider-thumb-label{background-color:#f44336}.mat-warn .mat-slider-thumb-label-text{color:#fff}.mat-warn .mat-slider-focus-ring{background-color:#f4433633}.mat-slider:hover .mat-slider-track-background,.mat-slider.cdk-focused .mat-slider-track-background{background-color:#00000061}.mat-slider-disabled .mat-slider-track-background,.mat-slider-disabled .mat-slider-track-fill,.mat-slider-disabled .mat-slider-thumb,.mat-slider-disabled:hover .mat-slider-track-background{background-color:#00000042}.mat-slider-min-value .mat-slider-focus-ring{background-color:#0000001f}.mat-slider-min-value.mat-slider-thumb-label-showing .mat-slider-thumb,.mat-slider-min-value.mat-slider-thumb-label-showing .mat-slider-thumb-label{background-color:#000000de}.mat-slider-min-value.mat-slider-thumb-label-showing.cdk-focused .mat-slider-thumb,.mat-slider-min-value.mat-slider-thumb-label-showing.cdk-focused .mat-slider-thumb-label{background-color:#00000042}.mat-slider-min-value:not(.mat-slider-thumb-label-showing) .mat-slider-thumb{border-color:#00000042;background-color:transparent}.mat-slider-min-value:not(.mat-slider-thumb-label-showing):hover .mat-slider-thumb,.mat-slider-min-value:not(.mat-slider-thumb-label-showing).cdk-focused .mat-slider-thumb{border-color:#00000061}.mat-slider-min-value:not(.mat-slider-thumb-label-showing):hover.mat-slider-disabled .mat-slider-thumb,.mat-slider-min-value:not(.mat-slider-thumb-label-showing).cdk-focused.mat-slider-disabled .mat-slider-thumb{border-color:#00000042}.mat-slider-has-ticks .mat-slider-wrapper:after{border-color:#000000b3}.mat-slider-horizontal .mat-slider-ticks{background-image:repeating-linear-gradient(to right,rgba(0,0,0,.7),rgba(0,0,0,.7) 2px,transparent 0,transparent);background-image:-moz-repeating-linear-gradient(.0001deg,rgba(0,0,0,.7),rgba(0,0,0,.7) 2px,transparent 0,transparent)}.mat-slider-vertical .mat-slider-ticks{background-image:repeating-linear-gradient(to bottom,rgba(0,0,0,.7),rgba(0,0,0,.7) 2px,transparent 0,transparent)}.mat-step-header.cdk-keyboard-focused,.mat-step-header.cdk-program-focused,.mat-step-header:hover:not([aria-disabled]),.mat-step-header:hover[aria-disabled=false]{background-color:#0000000a}.mat-step-header:hover[aria-disabled=true]{cursor:default}@media (hover: none){.mat-step-header:hover{background:none}}.mat-step-header .mat-step-label,.mat-step-header .mat-step-optional{color:#0000008a}.mat-step-header .mat-step-icon{background-color:#0000008a;color:#fff}.mat-step-header .mat-step-icon-selected,.mat-step-header .mat-step-icon-state-done,.mat-step-header .mat-step-icon-state-edit{background-color:#673ab7;color:#fff}.mat-step-header.mat-accent .mat-step-icon{color:#000000de}.mat-step-header.mat-accent .mat-step-icon-selected,.mat-step-header.mat-accent .mat-step-icon-state-done,.mat-step-header.mat-accent .mat-step-icon-state-edit{background-color:#ffd740;color:#000000de}.mat-step-header.mat-warn .mat-step-icon{color:#fff}.mat-step-header.mat-warn .mat-step-icon-selected,.mat-step-header.mat-warn .mat-step-icon-state-done,.mat-step-header.mat-warn .mat-step-icon-state-edit{background-color:#f44336;color:#fff}.mat-step-header .mat-step-icon-state-error{background-color:transparent;color:#f44336}.mat-step-header .mat-step-label.mat-step-label-active{color:#000000de}.mat-step-header .mat-step-label.mat-step-label-error{color:#f44336}.mat-stepper-horizontal,.mat-stepper-vertical{background-color:#fff}.mat-stepper-vertical-line:before{border-left-color:#0000001f}.mat-horizontal-stepper-header:before,.mat-horizontal-stepper-header:after,.mat-stepper-horizontal-line{border-top-color:#0000001f}.mat-horizontal-stepper-header{height:72px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header,.mat-vertical-stepper-header{padding:24px}.mat-stepper-vertical-line:before{top:-16px;bottom:-16px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:after,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:before{top:36px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{top:36px}.mat-sort-header-arrow{color:#757575}.mat-tab-nav-bar,.mat-tab-header{border-bottom:1px solid rgba(0,0,0,.12)}.mat-tab-group-inverted-header .mat-tab-nav-bar,.mat-tab-group-inverted-header .mat-tab-header{border-top:1px solid rgba(0,0,0,.12);border-bottom:none}.mat-tab-label,.mat-tab-link{color:#000000de}.mat-tab-label.mat-tab-disabled,.mat-tab-link.mat-tab-disabled{color:#00000061}.mat-tab-header-pagination-chevron{border-color:#000000de}.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron{border-color:#00000061}.mat-tab-group[class*=mat-background-]>.mat-tab-header,.mat-tab-nav-bar[class*=mat-background-]{border-bottom:none;border-top:none}.mat-tab-group.mat-primary .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-primary .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-primary .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-primary .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-primary .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-primary .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-primary .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-primary .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#d1c4e94d}.mat-tab-group.mat-primary .mat-ink-bar,.mat-tab-nav-bar.mat-primary .mat-ink-bar{background-color:#673ab7}.mat-tab-group.mat-primary.mat-background-primary>.mat-tab-header .mat-ink-bar,.mat-tab-group.mat-primary.mat-background-primary>.mat-tab-link-container .mat-ink-bar,.mat-tab-nav-bar.mat-primary.mat-background-primary>.mat-tab-header .mat-ink-bar,.mat-tab-nav-bar.mat-primary.mat-background-primary>.mat-tab-link-container .mat-ink-bar{background-color:#fff}.mat-tab-group.mat-accent .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-accent .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-accent .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-accent .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-accent .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-accent .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-accent .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-accent .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#ffe57f4d}.mat-tab-group.mat-accent .mat-ink-bar,.mat-tab-nav-bar.mat-accent .mat-ink-bar{background-color:#ffd740}.mat-tab-group.mat-accent.mat-background-accent>.mat-tab-header .mat-ink-bar,.mat-tab-group.mat-accent.mat-background-accent>.mat-tab-link-container .mat-ink-bar,.mat-tab-nav-bar.mat-accent.mat-background-accent>.mat-tab-header .mat-ink-bar,.mat-tab-nav-bar.mat-accent.mat-background-accent>.mat-tab-link-container .mat-ink-bar{background-color:#000000de}.mat-tab-group.mat-warn .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-warn .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-warn .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-warn .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-warn .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-warn .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-warn .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-warn .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#ffcdd24d}.mat-tab-group.mat-warn .mat-ink-bar,.mat-tab-nav-bar.mat-warn .mat-ink-bar{background-color:#f44336}.mat-tab-group.mat-warn.mat-background-warn>.mat-tab-header .mat-ink-bar,.mat-tab-group.mat-warn.mat-background-warn>.mat-tab-link-container .mat-ink-bar,.mat-tab-nav-bar.mat-warn.mat-background-warn>.mat-tab-header .mat-ink-bar,.mat-tab-nav-bar.mat-warn.mat-background-warn>.mat-tab-link-container .mat-ink-bar{background-color:#fff}.mat-tab-group.mat-background-primary .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-primary .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-primary .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-primary .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-primary .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-primary .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-primary .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-primary .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#d1c4e94d}.mat-tab-group.mat-background-primary>.mat-tab-header,.mat-tab-group.mat-background-primary>.mat-tab-link-container,.mat-tab-group.mat-background-primary>.mat-tab-header-pagination,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header,.mat-tab-nav-bar.mat-background-primary>.mat-tab-link-container,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header-pagination{background-color:#673ab7}.mat-tab-group.mat-background-primary>.mat-tab-header .mat-tab-label,.mat-tab-group.mat-background-primary>.mat-tab-link-container .mat-tab-link,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-tab-label,.mat-tab-nav-bar.mat-background-primary>.mat-tab-link-container .mat-tab-link{color:#fff}.mat-tab-group.mat-background-primary>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-group.mat-background-primary>.mat-tab-link-container .mat-tab-link.mat-tab-disabled,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-nav-bar.mat-background-primary>.mat-tab-link-container .mat-tab-link.mat-tab-disabled{color:#fff6}.mat-tab-group.mat-background-primary>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-primary>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-primary>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-group.mat-background-primary>.mat-tab-header .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-primary>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-focus-indicator:before{border-color:#fff}.mat-tab-group.mat-background-primary>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-primary>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron{border-color:#fff;opacity:.4}.mat-tab-group.mat-background-primary>.mat-tab-header .mat-ripple-element,.mat-tab-group.mat-background-primary>.mat-tab-link-container .mat-ripple-element,.mat-tab-group.mat-background-primary>.mat-tab-header-pagination .mat-ripple-element,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-ripple-element,.mat-tab-nav-bar.mat-background-primary>.mat-tab-link-container .mat-ripple-element,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header-pagination .mat-ripple-element{background-color:#fff;opacity:.12}.mat-tab-group.mat-background-accent .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-accent .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-accent .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-accent .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-accent .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-accent .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-accent .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-accent .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#ffe57f4d}.mat-tab-group.mat-background-accent>.mat-tab-header,.mat-tab-group.mat-background-accent>.mat-tab-link-container,.mat-tab-group.mat-background-accent>.mat-tab-header-pagination,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header,.mat-tab-nav-bar.mat-background-accent>.mat-tab-link-container,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header-pagination{background-color:#ffd740}.mat-tab-group.mat-background-accent>.mat-tab-header .mat-tab-label,.mat-tab-group.mat-background-accent>.mat-tab-link-container .mat-tab-link,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-tab-label,.mat-tab-nav-bar.mat-background-accent>.mat-tab-link-container .mat-tab-link{color:#000000de}.mat-tab-group.mat-background-accent>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-group.mat-background-accent>.mat-tab-link-container .mat-tab-link.mat-tab-disabled,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-nav-bar.mat-background-accent>.mat-tab-link-container .mat-tab-link.mat-tab-disabled{color:#0006}.mat-tab-group.mat-background-accent>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-accent>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-accent>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-group.mat-background-accent>.mat-tab-header .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-accent>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-focus-indicator:before{border-color:#000000de}.mat-tab-group.mat-background-accent>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-accent>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron{border-color:#000;opacity:.4}.mat-tab-group.mat-background-accent>.mat-tab-header .mat-ripple-element,.mat-tab-group.mat-background-accent>.mat-tab-link-container .mat-ripple-element,.mat-tab-group.mat-background-accent>.mat-tab-header-pagination .mat-ripple-element,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-ripple-element,.mat-tab-nav-bar.mat-background-accent>.mat-tab-link-container .mat-ripple-element,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header-pagination .mat-ripple-element{background-color:#000;opacity:.12}.mat-tab-group.mat-background-warn .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-warn .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-warn .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-warn .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-warn .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-warn .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-warn .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-warn .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#ffcdd24d}.mat-tab-group.mat-background-warn>.mat-tab-header,.mat-tab-group.mat-background-warn>.mat-tab-link-container,.mat-tab-group.mat-background-warn>.mat-tab-header-pagination,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header,.mat-tab-nav-bar.mat-background-warn>.mat-tab-link-container,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header-pagination{background-color:#f44336}.mat-tab-group.mat-background-warn>.mat-tab-header .mat-tab-label,.mat-tab-group.mat-background-warn>.mat-tab-link-container .mat-tab-link,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-tab-label,.mat-tab-nav-bar.mat-background-warn>.mat-tab-link-container .mat-tab-link{color:#fff}.mat-tab-group.mat-background-warn>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-group.mat-background-warn>.mat-tab-link-container .mat-tab-link.mat-tab-disabled,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-nav-bar.mat-background-warn>.mat-tab-link-container .mat-tab-link.mat-tab-disabled{color:#fff6}.mat-tab-group.mat-background-warn>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-warn>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-warn>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-group.mat-background-warn>.mat-tab-header .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-warn>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-focus-indicator:before{border-color:#fff}.mat-tab-group.mat-background-warn>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-warn>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron{border-color:#fff;opacity:.4}.mat-tab-group.mat-background-warn>.mat-tab-header .mat-ripple-element,.mat-tab-group.mat-background-warn>.mat-tab-link-container .mat-ripple-element,.mat-tab-group.mat-background-warn>.mat-tab-header-pagination .mat-ripple-element,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-ripple-element,.mat-tab-nav-bar.mat-background-warn>.mat-tab-link-container .mat-ripple-element,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header-pagination .mat-ripple-element{background-color:#fff;opacity:.12}.mat-toolbar{background:#f5f5f5;color:#000000de}.mat-toolbar.mat-primary{background:#673ab7;color:#fff}.mat-toolbar.mat-accent{background:#ffd740;color:#000000de}.mat-toolbar.mat-warn{background:#f44336;color:#fff}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media (max-width: 599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}.mat-tooltip{background:rgba(97,97,97,.9)}.mat-tree{background:#fff}.mat-tree-node,.mat-nested-tree-node{color:#000000de}.mat-tree-node{min-height:48px}.mat-snack-bar-container{color:#ffffffb3;background:#323232;box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.mat-simple-snackbar-action{color:#ffd740}.tabulator{position:relative;border:1px solid #999;background-color:#fff;font-size:16px;text-align:left;overflow:hidden;transform:translatez(0)}.tabulator .tabulator-header{position:relative;box-sizing:border-box;width:100%;border-bottom:1px solid #999;background-color:transparent;color:#363636;font-weight:700;white-space:nowrap;overflow:hidden;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none}.tabulator .tabulator-header .tabulator-col{display:inline-block;position:relative;box-sizing:border-box;border-right:1px solid #aaa;background:transparent;text-align:left;vertical-align:bottom;overflow:hidden}.tabulator .tabulator-header .tabulator-col.tabulator-moving{position:absolute;border:1px solid #999;background:rgba(0,0,0,0);pointer-events:none}.tabulator .tabulator-header .tabulator-col.tabulator-sortable:hover{cursor:pointer;background-color:#0000}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=asc] .tabulator-col-content .tabulator-col-sorter{color:#363636}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=asc] .tabulator-col-content .tabulator-col-sorter .tabulator-arrow{border-top:none;border-bottom:6px solid #363636}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=desc] .tabulator-col-content .tabulator-col-sorter{color:#363636}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=desc] .tabulator-col-content .tabulator-col-sorter .tabulator-arrow{border-bottom:none;border-top:6px solid #363636;color:#363636}.tabulator .tabulator-header .tabulator-calcs-holder{box-sizing:border-box;min-width:600%;background:rgba(13,13,13,0)!important;border-top:1px solid #aaa;border-bottom:1px solid #aaa;overflow:hidden}.tabulator .tabulator-header .tabulator-calcs-holder .tabulator-row{background:rgba(13,13,13,0)!important}.tabulator .tabulator-tableholder .tabulator-table{position:relative;display:inline-block;background-color:transparent;white-space:nowrap;overflow:visible;color:#363636}.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-calcs{font-weight:700;background:#ededed!important}.tabulator .tabulator-footer{border-top:1px solid #999;background-color:transparent;color:#363636;font-weight:700;white-space:nowrap;user-select:none;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none}.tabulator .tabulator-footer .tabulator-calcs-holder{box-sizing:border-box;width:calc(100% + 20px);text-align:left;background:rgba(13,13,13,0)!important;border-bottom:1px solid #aaa;border-top:1px solid #aaa;overflow:hidden}.tabulator .tabulator-footer .tabulator-calcs-holder .tabulator-row{background:rgba(13,13,13,0)!important}.tabulator .tabulator-footer .tabulator-paginator{flex:1;text-align:right;color:#363636;font-family:inherit;font-weight:inherit;font-size:inherit}.tabulator .tabulator-footer .tabulator-page-size{display:inline-block;margin:0 5px;padding:2px 5px;border:1px solid #dbdbdb;border-radius:3px}.tabulator .tabulator-footer .tabulator-page{display:inline-block;margin:0 2px;padding:2px 5px;border:1px solid #dbdbdb;border-radius:3px;background:rgba(255,255,255,.2)}.tabulator .tabulator-loader .tabulator-loader-msg.tabulator-error{border:4px solid #D00;color:#590000}.tabulator-row{position:relative;box-sizing:border-box;min-height:24px;background-color:transparent}.tabulator-row.tabulator-row-even{background-color:#fafafa}.tabulator-row.tabulator-selectable:hover{background-color:#fafafa;cursor:pointer}.tabulator-row.tabulator-selected{background-color:#00d1b2}.tabulator-row .tabulator-responsive-collapse table{font-size:16px}.tabulator-row .tabulator-cell.tabulator-editing{border:1px solid #1D68CD;outline:none;padding:0}.tabulator-row .tabulator-cell.tabulator-validation-fail{border:1px solid #dd0000}.tabulator-row .tabulator-cell .tabulator-data-tree-control{display:inline-flex;justify-content:center;align-items:center;vertical-align:middle;height:11px;width:11px;margin-right:5px;border:1px solid #363636;border-radius:2px;background:rgba(0,0,0,.1);overflow:hidden}.tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-collapse:after{position:absolute;content:"";left:-3px;top:3px;height:1px;width:7px;background:#363636}.tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-expand{display:inline-block;position:relative;height:7px;width:1px;background:#363636}.tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-expand:after{position:absolute;content:"";left:-3px;top:3px;height:1px;width:7px;background:#363636}.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle{display:inline-flex;align-items:center;justify-content:center;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none;height:15px;width:15px;border-radius:20px;background:#666;color:transparent;font-weight:700;font-size:1.1em}.tabulator-row.tabulator-group.tabulator-group-visible .tabulator-arrow{margin-right:10px;border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid #363636;border-bottom:0}.tabulator-row.tabulator-group .tabulator-arrow{display:inline-block;width:0;height:0;margin-right:16px;border-top:6px solid transparent;border-bottom:6px solid transparent;border-right:0;border-left:6px solid #363636;vertical-align:middle}.tabulator-menu{position:absolute;display:inline-block;box-sizing:border-box;background:transparent;border:1px solid #aaa;box-shadow:0 0 5px #0003;font-size:16px;overflow-y:auto;-webkit-overflow-scrolling:touch;z-index:10000}.tabulator-menu .tabulator-menu-item:not(.tabulator-menu-item-disabled):hover{cursor:pointer;background:#fafafa}.tabulator-menu .tabulator-menu-item.tabulator-menu-item-submenu:after{display:inline-block;position:absolute;top:calc(5px + .4em);right:10px;height:7px;width:7px;content:"";border-width:1px 1px 0 0;border-style:solid;border-color:#aaa;vertical-align:top;transform:rotate(45deg)}.tabulator-edit-select-list{position:absolute;display:inline-block;box-sizing:border-box;max-height:200px;background:transparent;border:1px solid #aaa;font-size:16px;overflow-y:auto;-webkit-overflow-scrolling:touch;z-index:10000}.tabulator-edit-select-list .tabulator-edit-select-list-item{padding:4px;color:#363636}.tabulator-edit-select-list .tabulator-edit-select-list-item.active{color:transparent;background:#1D68CD}.tabulator-edit-select-list .tabulator-edit-select-list-item.active.focused{outline:1px solid rgba(0,0,0,.5)}.tabulator-edit-select-list .tabulator-edit-select-list-item.focused{outline:1px solid #1D68CD}.tabulator-edit-select-list .tabulator-edit-select-list-item:hover{cursor:pointer;color:transparent;background:#1D68CD}.tabulator-edit-select-list .tabulator-edit-select-list-notice{padding:4px;color:#363636;text-align:center}.tabulator-edit-select-list .tabulator-edit-select-list-group{border-bottom:1px solid #aaa;padding:6px 4px 4px;color:#363636;font-weight:700}.tabulator.tabulator-rtl .tabulator-header .tabulator-col.tabulator-col-group .tabulator-col-group-cols{margin-right:initial;margin-left:-1px}.tabulator.tabulator-rtl .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-sorter{left:8px;right:initial}.tabulator.tabulator-rtl .tabulator-row .tabulator-cell .tabulator-data-tree-branch{margin-right:initial;margin-left:5px;border-bottom-left-radius:initial;border-bottom-right-radius:1px;border-left:initial;border-right:2px solid #aaa}.tabulator.tabulator-rtl .tabulator-row .tabulator-cell .tabulator-data-tree-control{margin-right:initial;margin-left:5px}body.tabulator-print-fullscreen-hide>*:not(.tabulator-print-fullscreen){display:none!important}.tabulator-print-table .tabulator-print-table-group.tabulator-group-visible .tabulator-arrow{margin-right:10px;border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid #363636;border-bottom:0}.tabulator-print-table .tabulator-print-table-group .tabulator-arrow{display:inline-block;width:0;height:0;margin-right:16px;border-top:6px solid transparent;border-bottom:6px solid transparent;border-right:0;border-left:6px solid #363636;vertical-align:middle}.tabulator-print-table .tabulator-data-tree-control{display:inline-flex;justify-content:center;align-items:center;vertical-align:middle;height:11px;width:11px;margin-right:5px;border:1px solid #363636;border-radius:2px;background:rgba(0,0,0,.1);overflow:hidden}.tabulator-print-table .tabulator-data-tree-control .tabulator-data-tree-control-collapse:after{position:absolute;content:"";left:-3px;top:3px;height:1px;width:7px;background:#363636}.tabulator-print-table .tabulator-data-tree-control .tabulator-data-tree-control-expand{display:inline-block;position:relative;height:7px;width:1px;background:#363636}.tabulator-print-table .tabulator-data-tree-control .tabulator-data-tree-control-expand:after{position:absolute;content:"";left:-3px;top:3px;height:1px;width:7px;background:#363636}.tabulator{border:none}.tabulator .tabulator-header{border:1px solid #dbdbdb;border-width:0 0 2px}.tabulator .tabulator-header .tabulator-col{border-right:none}.tabulator .tabulator-header .tabulator-col.tabulator-moving{border:none}.tabulator .tabulator-header .tabulator-col .tabulator-col-content{padding:.5em .75em}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-sorter{right:0px}.tabulator .tabulator-header .tabulator-col .tabulator-header-filter input{border:1px solid #dbdbdb}.tabulator .tabulator-header .tabulator-calcs-holder{border:1px solid #dbdbdb;border-width:2px 0 0}.tabulator .tabulator-header .tabulator-calcs-holder .tabulator-row .tabulator-cell{border-bottom-width:0}.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-calcs.tabulator-calcs-top{border:1px solid #dbdbdb;border-width:0 0 2px}.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-calcs.tabulator-calcs-bottom{border:1px solid #dbdbdb;border-width:2px 0 0}.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-calcs .tabulator-cell{border-bottom-width:0}.tabulator .tabulator-footer{padding:.5em .75em;border:1px solid #dbdbdb;border-width:2px 0 0}.tabulator .tabulator-footer .tabulator-calcs-holder{margin:-5px -10px 10px;border:1px solid #dbdbdb;border-width:0 0 2px}.tabulator .tabulator-footer .tabulator-calcs-holder .tabulator-row .tabulator-cell{border-bottom-width:0}.tabulator .tabulator-footer .tabulator-page{margin:0 .1875em;padding:calc(.375em - 1px) .75em;border:1px solid #dbdbdb;font-size:16px}.tabulator .tabulator-footer .tabulator-page.active{border-color:#4a4a4a;color:#363636;font-weight:700}.tabulator .tabulator-footer .tabulator-page:not(.disabled):hover{cursor:pointer;border-color:#b5b5b5;background:inherit;color:inherit}.tabulator.is-striped .tabulator-row:nth-child(even){background-color:#fafafa}.tabulator.is-bordered{border:1px solid #dbdbdb}.tabulator.is-bordered .tabulator-header .tabulator-col,.tabulator.is-bordered .tabulator-tableholder .tabulator-table .tabulator-row .tabulator-cell{border-right:1px solid #dbdbdb}.tabulator.is-narrow .tabulator-header .tabulator-col .tabulator-col-content,.tabulator.is-narrow .tabulator-tableholder .tabulator-table .tabulator-row .tabulator-cell{padding:.25em .5em}.tabulator-row{min-height:22px}.tabulator-row.tabulator-row-even{background-color:inherit}.tabulator-row.tabulator-selected{background-color:#00d1b2!important}.tabulator-row.tabulator-selected:hover{background-color:#009e86!important}.tabulator-row .tabulator-cell{padding:.5em .75em;border:1px solid #dbdbdb;border-width:0 0 1px}.tabulator-row.tabulator-group{border-bottom:1px solid #999;border-right:none;border-top:1px solid #999;color:#363636}.tabulator-print-table .tabulator-print-table-group{box-sizing:border-box;border-bottom:1px solid #999;border-right:none;border-top:1px solid #999;color:#363636}*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:Inter,sans-serif}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / .5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}:root{--bs-blue:#0d6efd;--bs-indigo:#6610f2;--bs-purple:#6f42c1;--bs-pink:#d63384;--bs-red:#dc3545;--bs-orange:#fd7e14;--bs-yellow:#ffc107;--bs-green:#198754;--bs-teal:#20c997;--bs-cyan:#0dcaf0;--bs-white:#fff;--bs-gray:#6c757d;--bs-gray-dark:#343a40;--bs-gray-100:#f8f9fa;--bs-gray-200:#e9ecef;--bs-gray-300:#dee2e6;--bs-gray-400:#ced4da;--bs-gray-500:#adb5bd;--bs-gray-600:#6c757d;--bs-gray-700:#495057;--bs-gray-800:#343a40;--bs-gray-900:#212529;--bs-primary:#0d6efd;--bs-secondary:#6c757d;--bs-success:#198754;--bs-info:#0dcaf0;--bs-warning:#ffc107;--bs-danger:#dc3545;--bs-light:#f8f9fa;--bs-dark:#212529;--bs-primary-rgb:13, 110, 253;--bs-secondary-rgb:108, 117, 125;--bs-success-rgb:25, 135, 84;--bs-info-rgb:13, 202, 240;--bs-warning-rgb:255, 193, 7;--bs-danger-rgb:220, 53, 69;--bs-light-rgb:248, 249, 250;--bs-dark-rgb:33, 37, 41;--bs-white-rgb:255, 255, 255;--bs-black-rgb:0, 0, 0;--bs-body-color-rgb:33, 37, 41;--bs-body-bg-rgb:255, 255, 255;--bs-font-sans-serif:system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";--bs-font-monospace:SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;--bs-gradient:linear-gradient(180deg, rgba(255, 255, 255, .15), rgba(255, 255, 255, 0));--bs-body-font-family:var(--bs-font-sans-serif);--bs-body-font-size:1rem;--bs-body-font-weight:400;--bs-body-line-height:1.5;--bs-body-color:#212529;--bs-body-bg:#fff}.form-check-input:checked{background-color:#0d6efd;border-color:#0d6efd}.form-check-input:checked[type=checkbox]{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M6 10l3 3l6-6'/%3e%3c/svg%3e")}.form-check-input:checked[type=radio]{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='2' fill='%23fff'/%3e%3c/svg%3e")}.form-check-input[type=checkbox]:indeterminate{background-color:#0d6efd;border-color:#0d6efd;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M6 10h8'/%3e%3c/svg%3e")}.form-check-input:disabled{pointer-events:none;filter:none;opacity:.5}.form-switch{padding-left:2.5em}.form-switch .form-check-input{margin-top:.1rem;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e");background-position:left center;transition:background-position .15s ease-in-out}.form-switch .form-check-input:focus{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e")}.form-switch .form-check-input:checked{background-position:right center;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e")}.was-validated .form-check-input:valid{border-color:#198754}.form-check-input.is-valid{border-color:#198754}.was-validated .form-check-input:valid:checked{background-color:#198754}.form-check-input.is-valid:checked{background-color:#198754}.was-validated .form-check-input:valid:focus{box-shadow:0 0 0 .25rem #19875440}.form-check-input.is-valid:focus{box-shadow:0 0 0 .25rem #19875440}.was-validated .form-check-input:valid~.form-check-label{color:#198754}.form-check-input.is-valid~.form-check-label{color:#198754}.form-check-inline .form-check-input~.valid-feedback{margin-left:.5em}.is-invalid~.invalid-feedback{display:block}.is-invalid~.invalid-tooltip{display:block}.form-control.is-invalid{border-color:#dc3545;padding-right:calc(1.5em + .75rem);background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.form-control.is-invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .25rem #dc354540}textarea.form-control.is-invalid{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.form-select.is-invalid{border-color:#dc3545}.form-select.is-invalid:not([multiple]):not([size]){padding-right:4.125rem;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e"),url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e");background-position:right .75rem center,center right 2.25rem;background-size:16px 12px,calc(.75em + .375rem) calc(.75em + .375rem)}.form-select.is-invalid:not([multiple])[size="1"]{padding-right:4.125rem;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e"),url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e");background-position:right .75rem center,center right 2.25rem;background-size:16px 12px,calc(.75em + .375rem) calc(.75em + .375rem)}.form-select.is-invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .25rem #dc354540}.was-validated .form-check-input:invalid{border-color:#dc3545}.form-check-input.is-invalid{border-color:#dc3545}.was-validated .form-check-input:invalid:checked{background-color:#dc3545}.form-check-input.is-invalid:checked{background-color:#dc3545}.was-validated .form-check-input:invalid:focus{box-shadow:0 0 0 .25rem #dc354540}.form-check-input.is-invalid:focus{box-shadow:0 0 0 .25rem #dc354540}.was-validated .form-check-input:invalid~.form-check-label{color:#dc3545}.form-check-input.is-invalid~.form-check-label{color:#dc3545}.form-check-inline .form-check-input~.invalid-feedback{margin-left:.5em}.input-group .form-control.is-invalid,.input-group .form-select.is-invalid{z-index:2}.input-group .form-control.is-invalid:focus{z-index:3}.input-group .form-select.is-invalid:focus{z-index:3}.btn.active{box-shadow:none}.btn.active:focus{box-shadow:none}.dropdown-item.active{color:#1f2937;-webkit-text-decoration:none;text-decoration:none;background-color:#0d6efd}.dropdown-menu-dark .dropdown-item.active{color:#fff;background-color:#0d6efd}.dropdown-menu-dark .dropdown-item.disabled{color:#adb5bd}.nav-tabs .nav-link.disabled{color:#9ca3af;background-color:transparent;border-color:transparent}.nav-tabs .nav-link.active{color:#2563eb;border-color:#2563eb}.nav-pills .nav-link.active{background:#2563eb;color:#fff;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.nav-pills .disabled{color:#9ca3af;background-color:#f3f4f680}.nav-pills.menu-sidebar .nav-link.active{color:#1266f1;font-weight:600;border-left:.125rem solid #1266f1}.tab-content>.active{display:block}.navbar-light .navbar-nav .nav-link.disabled{color:#0000004d}.navbar-light .navbar-nav .nav-link.active{color:#000000e6}.navbar-dark .navbar-nav .nav-link.disabled{color:#ffffff40}.navbar-dark .navbar-nav .nav-link.active{color:#fff}.accordion-button:not(.collapsed){color:#2563eb;background-color:#fff;box-shadow:inset 0 -1px #e5e7eb}.accordion-button:not(.collapsed):after{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%232563eb'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e");transform:rotate(-180deg)}.accordion-item:last-of-type .accordion-button.collapsed{border-bottom-right-radius:calc(.5rem - 1px);border-bottom-left-radius:calc(.5rem - 1px)}.btn-close.disabled{pointer-events:none;-webkit-user-select:none;user-select:none;opacity:.25}.carousel-item.active{display:block}.active.carousel-item-end{transform:translate(100%)}.active.carousel-item-start{transform:translate(-100%)}.carousel-fade .carousel-item.active{z-index:1;opacity:1}.carousel-fade .active.carousel-item-start,.carousel-fade .active.carousel-item-end{z-index:0;opacity:0;transition:opacity 0s .6s}.carousel-indicators .active{opacity:1}.animation{animation-duration:1s;animation-fill-mode:both;padding:auto}.animation.infinite{animation-iteration-count:infinite}.animation.delay-1s{animation-delay:1s}.animation.delay-2s{animation-delay:2s}.animation.delay-3s{animation-delay:3s}.animation.delay-4s{animation-delay:4s}.animation.delay-5s{animation-delay:5s}.animation.fast{animation-duration:.8s}.animation.faster{animation-duration:.5s}.animation.slow{animation-duration:2s}.animation.slower{animation-duration:3s}.ripple-wave.active{transform:scale(1);opacity:0}.datepicker-cell.disabled{color:#ccc;cursor:default;pointer-events:none}.datepicker-cell.disabled:hover{cursor:default}.datepicker-cell:not(.disabled):not(.selected):hover .datepicker-cell-content{background-color:#d3d3d3}.datepicker-cell.current .datepicker-cell-content{border:1px solid #000}.timepicker-current.active,.timepicker-mode-wrapper.active{opacity:1}.timepicker-time-tips-minutes.active,.timepicker-time-tips-inner.active,.timepicker-time-tips-hours.active{color:#fff;background-color:#2979ff;font-weight:400}.timepicker-time-tips-minutes.disabled,.timepicker-time-tips-inner.disabled,.timepicker-time-tips-hours.disabled{color:#b3afaf;pointer-events:none;background-color:transparent}.timepicker-time-tips.active{color:#fff}.timepicker-hour-mode.active,.timepicker-hour.active,.timepicker-minute.active{color:#fff;opacity:1}.timepicker-icon-up.active,.timepicker-icon-down.active{opacity:1}@media (prefers-reduced-motion: reduce){.form-control::file-selector-button{transition:none}.form-control::-webkit-file-upload-button{-webkit-transition:none;transition:none}.form-switch .form-check-input{transition:none}.form-range::-webkit-slider-thumb{-webkit-transition:none;transition:none}.form-range::-moz-range-thumb{-moz-transition:none;transition:none}.form-floating>label{transition:none}.fade,.collapsing,.collapsing.collapse-horizontal{transition:none}.accordion-button:after{transition:none}.modal.fade .modal-dialog,.carousel-item,.carousel-fade .active.carousel-item-start,.carousel-fade .active.carousel-item-end,.carousel-control-prev,.carousel-control-next,.carousel-indicators [data-bs-target]{transition:none}.spinner-border,.spinner-grow{animation-duration:1.5s}}@media (prefers-reduced-motion){.animation{transition:none!important;animation:unset!important}}@keyframes _spinner-grow{0%{transform:scale(0)}50%{opacity:1;transform:none}}@keyframes _fade-in{0%{opacity:0}to{opacity:1}}@keyframes _fade-out{0%{opacity:1}to{opacity:0}}@keyframes _fade-in-down{0%{opacity:0;transform:translateY(-100%)}to{opacity:1;transform:translate(0)}}@keyframes _fade-in-left{0%{opacity:0;transform:translate(-100%)}to{opacity:1;transform:translate(0)}}@keyframes _fade-in-right{0%{opacity:0;transform:translate(100%)}to{opacity:1;transform:translate(0)}}@keyframes _fade-in-up{0%{opacity:0;transform:translateY(100%)}to{opacity:1;transform:translate(0)}}@keyframes _fade-out-down{0%{opacity:1}to{opacity:0;transform:translateY(100%)}}@keyframes _fade-out-left{0%{opacity:1}to{opacity:0;transform:translate(-100%)}}@keyframes _fade-out-right{0%{opacity:1}to{opacity:0;transform:translate(100%)}}@keyframes _fade-out-up{0%{opacity:1}to{opacity:0;transform:translateY(-100%)}}@keyframes _slide-in-down{0%{visibility:visible;transform:translateY(-100%)}to{transform:translate(0)}}@keyframes _slide-in-left{0%{visibility:visible;transform:translate(-100%)}to{transform:translate(0)}}@keyframes _slide-in-right{0%{visibility:visible;transform:translate(100%)}to{transform:translate(0)}}@keyframes _slide-in-up{0%{visibility:visible;transform:translateY(100%)}to{transform:translate(0)}}@keyframes _slide-out-down{0%{transform:translate(0)}to{visibility:hidden;transform:translateY(100%)}}@keyframes _slide-out-left{0%{transform:translate(0)}to{visibility:hidden;transform:translate(-100%)}}@keyframes _slide-out-right{0%{transform:translate(0)}to{visibility:hidden;transform:translate(100%)}}@keyframes _slide-out-up{0%{transform:translate(0)}to{visibility:hidden;transform:translateY(-100%)}}@keyframes _slide-down{0%{transform:translate(0)}to{transform:translateY(100%)}}@keyframes _slide-left{0%{transform:translate(0)}to{transform:translate(-100%)}}@keyframes _slide-right{0%{transform:translate(0)}to{transform:translate(100%)}}@keyframes _slide-up{0%{transform:translate(0)}to{transform:translateY(-100%)}}@keyframes _zoom-in{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes _zoom-out{0%{opacity:1}50%{opacity:0;transform:scale3d(.3,.3,.3)}to{opacity:0}}@keyframes _tada{0%{transform:scale(1)}10%{transform:scale3d(.9,.9,.9) rotate(-3deg)}20%{transform:scale3d(.9,.9,.9) rotate(-3deg)}30%{transform:scale3d(1.1,1.1,1.1) rotate(3deg)}50%{transform:scale3d(1.1,1.1,1.1) rotate(3deg)}70%{transform:scale3d(1.1,1.1,1.1) rotate(3deg)}90%{transform:scale3d(1.1,1.1,1.1) rotate(3deg)}40%{transform:scale3d(1.1,1.1,1.1) rotate(-3deg)}60%{transform:scale3d(1.1,1.1,1.1) rotate(-3deg)}80%{transform:scale3d(1.1,1.1,1.1) rotate(-3deg)}to{transform:scale(1)}}@keyframes _pulse{0%{transform:scale(1)}50%{transform:scale3d(1.05,1.05,1.05)}to{transform:scale(1)}}@keyframes _show-up-clock{0%{opacity:0;transform:scale(.7)}to{opacity:1;transform:scale(1)}}.visible{visibility:visible}.static{position:static}.absolute{position:absolute}.relative{position:relative}.float-left{float:left}.m-2{margin:.5rem}.my-1{margin-top:.25rem;margin-bottom:.25rem}.mr-2{margin-right:.5rem}.mb-2{margin-bottom:.5rem}.-ml-10{margin-left:-2.5rem}.mt-4{margin-top:1rem}.mt-2{margin-top:.5rem}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.table{display:table}.grid{display:grid}.h-full{height:100%}.h-5{height:1.25rem}.min-h-screen{min-height:100vh}.w-1\/4{width:25%}.w-full{width:100%}.w-9{width:2.25rem}.min-w-full{min-width:100%}.grow{flex-grow:1}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-pointer{cursor:pointer}.cursor-move{cursor:move}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.grid-cols-auto-fit{grid-template-columns:repeat(auto-fit,minmax(0,1fr))}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.gap-4{grid-gap:1rem;gap:1rem}.overflow-x-auto{overflow-x:auto}.whitespace-nowrap{white-space:nowrap}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5rem}.border-2{border-width:2px}.border{border-width:1px}.border-t{border-top-width:1px}.border-b{border-bottom-width:1px}.border-dotted{border-style:dotted}.border-black{--tw-border-opacity:1;border-color:rgb(0 0 0 / var(--tw-border-opacity))}.border-red-400{--tw-border-opacity:1;border-color:rgb(248 113 113 / var(--tw-border-opacity))}.bg-slate-400{--tw-bg-opacity:1;background-color:rgb(148 163 184 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-black{--tw-bg-opacity:1;background-color:rgb(0 0 0 / var(--tw-bg-opacity))}.bg-gray-300{--tw-bg-opacity:1;background-color:rgb(209 213 219 / var(--tw-bg-opacity))}.bg-contain{background-size:contain}.bg-no-repeat{background-repeat:no-repeat}.p-2{padding:.5rem}.p-4{padding:1rem}.px-2{padding-left:.5rem;padding-right:.5rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-4{padding-top:1rem;padding-bottom:1rem}.text-left{text-align:left}.text-center{text-align:center}.align-top{vertical-align:top}.text-sm{font-size:.875rem;line-height:1.25rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.text-slate-400{--tw-text-opacity:1;color:rgb(148 163 184 / var(--tw-text-opacity))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity))}.text-gray-700{--tw-text-opacity:1;color:rgb(55 65 81 / var(--tw-text-opacity))}.text-red-500{--tw-text-opacity:1;color:rgb(239 68 68 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity:1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-gray-900{--tw-text-opacity:1;color:rgb(17 24 39 / var(--tw-text-opacity))}.opacity-25{opacity:.25}.shadow-sm{--tw-shadow:0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-text-decoration-color,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-text-decoration-color,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.cdk-drop-list-dragging .cdk-drag{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-animating{transition:transform .3s cubic-bezier(0,0,.2,1)}.hover\:border-2:hover{border-width:2px}.hover\:border-dotted:hover{border-style:dotted}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}@media (min-width: 640px){.sm\:-mx-6{margin-left:-1.5rem;margin-right:-1.5rem}.sm\:px-6{padding-left:1.5rem;padding-right:1.5rem}}@media (min-width: 1024px){.lg\:-mx-8{margin-left:-2rem;margin-right:-2rem}.lg\:px-8{padding-left:2rem;padding-right:2rem}}.ng-resizable{position:relative}.ng-resizable-handle{position:absolute;font-size:.1px;display:block;touch-action:none}.ng-resizable-handle.ng-resizable-e{cursor:e-resize;width:7px;right:-5px;height:100%;top:0}.ng-resizable-handle.ng-resizable-w{cursor:w-resize;width:7px;left:-5px;height:100%;top:0}.ng-resizable-handle.ng-resizable-s{cursor:s-resize;height:7px;bottom:-5px;width:100%;left:0}.ng-resizable-handle.ng-resizable-n{cursor:n-resize;height:7px;top:-5px;width:100%;left:0}.ng-resizable-handle.ng-resizable-se{cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.ng-resizable-handle.ng-resizable-sw{cursor:sw-resize;width:12px;height:12px;left:1px;bottom:1px}.ng-resizable-handle.ng-resizable-ne{cursor:ne-resize;width:12px;height:12px;right:1px;top:1px}.ng-resizable-handle.ng-resizable-nw{cursor:nw-resize;width:12px;height:12px;left:1px;top:1px}.ng-resizable-diagonal{box-sizing:border-box;width:0;height:0;border-bottom:12px solid #aaa;border-left:12px solid transparent}.tabulator{position:relative;border:1px solid #999;background-color:#888;font-size:14px;text-align:left;overflow:hidden;transform:translatez(0)}.tabulator[tabulator-layout=fitDataFill] .tabulator-tableholder .tabulator-table{min-width:100%}.tabulator[tabulator-layout=fitDataTable]{display:inline-block}.tabulator.tabulator-block-select{-webkit-user-select:none;user-select:none}.tabulator .tabulator-header{position:relative;box-sizing:border-box;width:100%;border-bottom:1px solid #999;background-color:#e6e6e6;color:#555;font-weight:700;white-space:nowrap;overflow:hidden;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none}.tabulator .tabulator-header.tabulator-header-hidden{display:none}.tabulator .tabulator-header .tabulator-col{display:inline-block;position:relative;box-sizing:border-box;border-right:1px solid #aaa;background:#e6e6e6;text-align:left;vertical-align:bottom;overflow:hidden}.tabulator .tabulator-header .tabulator-col.tabulator-moving{position:absolute;border:1px solid #999;background:#cdcdcd;pointer-events:none}.tabulator .tabulator-header .tabulator-col .tabulator-col-content{box-sizing:border-box;position:relative;padding:4px}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-header-menu-button{padding:0 8px}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-header-menu-button:hover{cursor:pointer;opacity:.6}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title-holder{position:relative}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title{box-sizing:border-box;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;vertical-align:bottom}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title .tabulator-title-editor{box-sizing:border-box;width:100%;border:1px solid #999;padding:1px;background:#fff}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title .tabulator-header-menu-button+.tabulator-title-editor{width:calc(100% - 22px)}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-sorter{display:flex;align-items:center;position:absolute;top:0;bottom:0;right:4px}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-sorter .tabulator-arrow{width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid #bbb}.tabulator .tabulator-header .tabulator-col.tabulator-col-group .tabulator-col-group-cols{position:relative;display:flex;border-top:1px solid #aaa;overflow:hidden;margin-right:-1px}.tabulator .tabulator-header .tabulator-col:first-child .tabulator-col-resize-handle.prev{display:none}.tabulator .tabulator-header .tabulator-col .tabulator-header-filter{position:relative;box-sizing:border-box;margin-top:2px;width:100%;text-align:center}.tabulator .tabulator-header .tabulator-col .tabulator-header-filter textarea{height:auto!important}.tabulator .tabulator-header .tabulator-col .tabulator-header-filter svg{margin-top:3px}.tabulator .tabulator-header .tabulator-col .tabulator-header-filter input::-ms-clear{width:0;height:0}.tabulator .tabulator-header .tabulator-col.tabulator-sortable .tabulator-col-title{padding-right:25px}.tabulator .tabulator-header .tabulator-col.tabulator-sortable:hover{cursor:pointer;background-color:#cdcdcd}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=none] .tabulator-col-content .tabulator-col-sorter{color:#bbb}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=none] .tabulator-col-content .tabulator-col-sorter .tabulator-arrow{border-top:none;border-bottom:6px solid #bbb}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=asc] .tabulator-col-content .tabulator-col-sorter{color:#666}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=asc] .tabulator-col-content .tabulator-col-sorter .tabulator-arrow{border-top:none;border-bottom:6px solid #666}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=desc] .tabulator-col-content .tabulator-col-sorter{color:#666}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=desc] .tabulator-col-content .tabulator-col-sorter .tabulator-arrow{border-bottom:none;border-top:6px solid #666;color:#666}.tabulator .tabulator-header .tabulator-col.tabulator-col-vertical .tabulator-col-content .tabulator-col-title{writing-mode:vertical-rl;text-orientation:mixed;display:flex;align-items:center;justify-content:center}.tabulator .tabulator-header .tabulator-col.tabulator-col-vertical.tabulator-col-vertical-flip .tabulator-col-title{transform:rotate(180deg)}.tabulator .tabulator-header .tabulator-col.tabulator-col-vertical.tabulator-sortable .tabulator-col-title{padding-right:0;padding-top:20px}.tabulator .tabulator-header .tabulator-col.tabulator-col-vertical.tabulator-sortable.tabulator-col-vertical-flip .tabulator-col-title{padding-right:0;padding-bottom:20px}.tabulator .tabulator-header .tabulator-col.tabulator-col-vertical.tabulator-sortable .tabulator-col-sorter{justify-content:center;left:0;right:0;top:4px;bottom:auto}.tabulator .tabulator-header .tabulator-frozen{display:inline-block;position:absolute;z-index:10}.tabulator .tabulator-header .tabulator-frozen.tabulator-frozen-left{border-right:2px solid #aaa}.tabulator .tabulator-header .tabulator-frozen.tabulator-frozen-right{border-left:2px solid #aaa}.tabulator .tabulator-header .tabulator-calcs-holder{box-sizing:border-box;min-width:600%;background:#f3f3f3!important;border-top:1px solid #aaa;border-bottom:1px solid #aaa;overflow:hidden}.tabulator .tabulator-header .tabulator-calcs-holder .tabulator-row{background:#f3f3f3!important}.tabulator .tabulator-header .tabulator-calcs-holder .tabulator-row .tabulator-col-resize-handle{display:none}.tabulator .tabulator-header .tabulator-frozen-rows-holder{min-width:600%}.tabulator .tabulator-header .tabulator-frozen-rows-holder:empty{display:none}.tabulator .tabulator-tableholder{position:relative;width:100%;white-space:nowrap;overflow:auto;-webkit-overflow-scrolling:touch}.tabulator .tabulator-tableholder:focus{outline:none}.tabulator .tabulator-tableholder .tabulator-placeholder{box-sizing:border-box;display:flex;align-items:center;width:100%}.tabulator .tabulator-tableholder .tabulator-placeholder[tabulator-render-mode=virtual]{min-height:100%;min-width:100%}.tabulator .tabulator-tableholder .tabulator-placeholder .tabulator-placeholder-contents{display:inline-block;text-align:center;padding:10px;color:#ccc;font-weight:700;font-size:20px;white-space:normal}.tabulator .tabulator-tableholder .tabulator-table{position:relative;display:inline-block;background-color:#fff;white-space:nowrap;overflow:visible;color:#333}.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-calcs{font-weight:700;background:#e2e2e2!important}.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-calcs.tabulator-calcs-top{border-bottom:2px solid #aaa}.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-calcs.tabulator-calcs-bottom{border-top:2px solid #aaa}.tabulator .tabulator-footer{border-top:1px solid #999;background-color:#e6e6e6;color:#555;font-weight:700;white-space:nowrap;user-select:none;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none}.tabulator .tabulator-footer .tabulator-footer-contents{display:flex;flex-direction:row;align-items:center;justify-content:space-between;padding:5px 10px}.tabulator .tabulator-footer .tabulator-footer-contents:empty{display:none}.tabulator .tabulator-footer .tabulator-calcs-holder{box-sizing:border-box;width:calc(100% + 20px);text-align:left;background:#f3f3f3!important;border-bottom:1px solid #aaa;border-top:1px solid #aaa;overflow:hidden}.tabulator .tabulator-footer .tabulator-calcs-holder .tabulator-row{background:#f3f3f3!important}.tabulator .tabulator-footer .tabulator-calcs-holder .tabulator-row .tabulator-col-resize-handle{display:none}.tabulator .tabulator-footer .tabulator-calcs-holder:only-child{margin-bottom:-5px;border-bottom:none}.tabulator .tabulator-footer>*+.tabulator-page-counter{margin-left:10px}.tabulator .tabulator-footer .tabulator-page-counter{font-weight:400}.tabulator .tabulator-footer .tabulator-paginator{flex:1;text-align:right;color:#555;font-family:inherit;font-weight:inherit;font-size:inherit}.tabulator .tabulator-footer .tabulator-page-size{display:inline-block;margin:0 5px;padding:2px 5px;border:1px solid #aaa;border-radius:3px}.tabulator .tabulator-footer .tabulator-pages{margin:0 7px}.tabulator .tabulator-footer .tabulator-page{display:inline-block;margin:0 2px;padding:2px 5px;border:1px solid #aaa;border-radius:3px;background:hsla(0,0%,100%,.2)}.tabulator .tabulator-footer .tabulator-page.active{color:#d00}.tabulator .tabulator-footer .tabulator-page:disabled{opacity:.5}.tabulator .tabulator-footer .tabulator-page:not(.disabled):hover{cursor:pointer;background:rgba(0,0,0,.2);color:#fff}.tabulator .tabulator-col-resize-handle{position:absolute;right:0;top:0;bottom:0;width:5px}.tabulator .tabulator-col-resize-handle.prev{left:0;right:auto}.tabulator .tabulator-col-resize-handle:hover{cursor:ew-resize}.tabulator .tabulator-loader{position:absolute;display:flex;align-items:center;top:0;left:0;z-index:100;height:100%;width:100%;background:rgba(0,0,0,.4);text-align:center}.tabulator .tabulator-loader .tabulator-loader-msg{display:inline-block;margin:0 auto;padding:10px 20px;border-radius:10px;background:#fff;font-weight:700;font-size:16px}.tabulator .tabulator-loader .tabulator-loader-msg.tabulator-loading{border:4px solid #333;color:#000}.tabulator .tabulator-loader .tabulator-loader-msg.tabulator-error{border:4px solid #d00;color:#590000}.tabulator-row{position:relative;box-sizing:border-box;min-height:22px;background-color:#fff}.tabulator-row.tabulator-row-even{background-color:#efefef}.tabulator-row.tabulator-selectable:hover{background-color:#bbb;cursor:pointer}.tabulator-row.tabulator-selected{background-color:#9abcea}.tabulator-row.tabulator-selected:hover{background-color:#769bcc;cursor:pointer}.tabulator-row.tabulator-row-moving{border:1px solid #000;background:#fff}.tabulator-row.tabulator-moving{position:absolute;border-top:1px solid #aaa;border-bottom:1px solid #aaa;pointer-events:none;z-index:15}.tabulator-row .tabulator-row-resize-handle{position:absolute;right:0;bottom:0;left:0;height:5px}.tabulator-row .tabulator-row-resize-handle.prev{top:0;bottom:auto}.tabulator-row .tabulator-row-resize-handle:hover{cursor:ns-resize}.tabulator-row .tabulator-frozen{display:inline-block;position:absolute;background-color:inherit;z-index:10}.tabulator-row .tabulator-frozen.tabulator-frozen-left{border-right:2px solid #aaa}.tabulator-row .tabulator-frozen.tabulator-frozen-right{border-left:2px solid #aaa}.tabulator-row .tabulator-responsive-collapse{box-sizing:border-box;padding:5px;border-top:1px solid #aaa;border-bottom:1px solid #aaa}.tabulator-row .tabulator-responsive-collapse:empty{display:none}.tabulator-row .tabulator-responsive-collapse table{font-size:14px}.tabulator-row .tabulator-responsive-collapse table tr td{position:relative}.tabulator-row .tabulator-responsive-collapse table tr td:first-of-type{padding-right:10px}.tabulator-row .tabulator-cell{display:inline-block;position:relative;box-sizing:border-box;padding:4px;border-right:1px solid #aaa;vertical-align:middle;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.tabulator-row .tabulator-cell.tabulator-editing{border:1px solid #1d68cd;outline:none;padding:0}.tabulator-row .tabulator-cell.tabulator-editing input,.tabulator-row .tabulator-cell.tabulator-editing select{border:1px;background:transparent}.tabulator-row .tabulator-cell.tabulator-validation-fail{border:1px solid #d00}.tabulator-row .tabulator-cell.tabulator-validation-fail input,.tabulator-row .tabulator-cell.tabulator-validation-fail select{border:1px;background:transparent;color:#d00}.tabulator-row .tabulator-cell:first-child .tabulator-col-resize-handle.prev{display:none}.tabulator-row .tabulator-cell.tabulator-row-handle{display:inline-flex;align-items:center;justify-content:center;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none}.tabulator-row .tabulator-cell.tabulator-row-handle .tabulator-row-handle-box{width:80%}.tabulator-row .tabulator-cell.tabulator-row-handle .tabulator-row-handle-box .tabulator-row-handle-bar{width:100%;height:3px;margin-top:2px;background:#666}.tabulator-row .tabulator-cell .tabulator-data-tree-branch{display:inline-block;vertical-align:middle;height:9px;width:7px;margin-top:-9px;margin-right:5px;border-bottom-left-radius:1px;border-left:2px solid #aaa;border-bottom:2px solid #aaa}.tabulator-row .tabulator-cell .tabulator-data-tree-control{display:inline-flex;justify-content:center;align-items:center;vertical-align:middle;height:11px;width:11px;margin-right:5px;border:1px solid #333;border-radius:2px;background:rgba(0,0,0,.1);overflow:hidden}.tabulator-row .tabulator-cell .tabulator-data-tree-control:hover{cursor:pointer;background:rgba(0,0,0,.2)}.tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-collapse{display:inline-block;position:relative;height:7px;width:1px;background:transparent}.tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-collapse:after{position:absolute;content:"";left:-3px;top:3px;height:1px;width:7px;background:#333}.tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-expand{display:inline-block;position:relative;height:7px;width:1px;background:#333}.tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-expand:after{position:absolute;content:"";left:-3px;top:3px;height:1px;width:7px;background:#333}.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle{display:inline-flex;align-items:center;justify-content:center;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none;height:15px;width:15px;border-radius:20px;background:#666;color:#fff;font-weight:700;font-size:1.1em}.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle:hover{opacity:.7}.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle.open .tabulator-responsive-collapse-toggle-close{display:initial}.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle.open .tabulator-responsive-collapse-toggle-open,.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle .tabulator-responsive-collapse-toggle-close{display:none}.tabulator-row .tabulator-cell .tabulator-traffic-light{display:inline-block;height:14px;width:14px;border-radius:14px}.tabulator-row.tabulator-group{box-sizing:border-box;border-bottom:1px solid #999;border-right:1px solid #aaa;border-top:1px solid #999;padding:5px 5px 5px 10px;background:#ccc;font-weight:700;min-width:100%}.tabulator-row.tabulator-group:hover{cursor:pointer;background-color:#0000001a}.tabulator-row.tabulator-group.tabulator-group-visible .tabulator-arrow{margin-right:10px;border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid #666;border-bottom:0}.tabulator-row.tabulator-group.tabulator-group-level-1{padding-left:30px}.tabulator-row.tabulator-group.tabulator-group-level-2{padding-left:50px}.tabulator-row.tabulator-group.tabulator-group-level-3{padding-left:70px}.tabulator-row.tabulator-group.tabulator-group-level-4{padding-left:90px}.tabulator-row.tabulator-group.tabulator-group-level-5{padding-left:110px}.tabulator-row.tabulator-group .tabulator-group-toggle{display:inline-block}.tabulator-row.tabulator-group .tabulator-arrow{display:inline-block;width:0;height:0;margin-right:16px;border-top:6px solid transparent;border-bottom:6px solid transparent;border-right:0;border-left:6px solid #666;vertical-align:middle}.tabulator-row.tabulator-group span{margin-left:10px;color:#d00}.tabulator-menu{position:absolute;display:inline-block;box-sizing:border-box;background:#fff;border:1px solid #aaa;box-shadow:0 0 5px #0003;font-size:14px;overflow-y:auto;-webkit-overflow-scrolling:touch;z-index:10000}.tabulator-menu .tabulator-menu-item{position:relative;box-sizing:border-box;padding:5px 10px;-webkit-user-select:none;user-select:none}.tabulator-menu .tabulator-menu-item.tabulator-menu-item-disabled{opacity:.5}.tabulator-menu .tabulator-menu-item:not(.tabulator-menu-item-disabled):hover{cursor:pointer;background:#efefef}.tabulator-menu .tabulator-menu-item.tabulator-menu-item-submenu{padding-right:25px}.tabulator-menu .tabulator-menu-item.tabulator-menu-item-submenu:after{display:inline-block;position:absolute;top:calc(5px + .4em);right:10px;height:7px;width:7px;content:"";border-color:#aaa;border-style:solid;border-width:1px 1px 0 0;vertical-align:top;transform:rotate(45deg)}.tabulator-menu .tabulator-menu-separator{border-top:1px solid #aaa}.tabulator-edit-select-list{position:absolute;display:inline-block;box-sizing:border-box;max-height:200px;background:#fff;border:1px solid #aaa;font-size:14px;overflow-y:auto;-webkit-overflow-scrolling:touch;z-index:10000}.tabulator-edit-select-list .tabulator-edit-select-list-item{padding:4px;color:#333}.tabulator-edit-select-list .tabulator-edit-select-list-item.active{color:#fff;background:#1d68cd}.tabulator-edit-select-list .tabulator-edit-select-list-item.active.focused{outline:1px solid hsla(0,0%,100%,.5)}.tabulator-edit-select-list .tabulator-edit-select-list-item.focused{outline:1px solid #1d68cd}.tabulator-edit-select-list .tabulator-edit-select-list-item:hover{cursor:pointer;color:#fff;background:#1d68cd}.tabulator-edit-select-list .tabulator-edit-select-list-notice{padding:4px;color:#333;text-align:center}.tabulator-edit-select-list .tabulator-edit-select-list-group{border-bottom:1px solid #aaa;padding:6px 4px 4px;color:#333;font-weight:700}.tabulator.tabulator-ltr{direction:ltr}.tabulator.tabulator-rtl{text-align:initial;direction:rtl}.tabulator.tabulator-rtl .tabulator-header .tabulator-col{text-align:initial;border-left:1px solid #aaa;border-right:initial}.tabulator.tabulator-rtl .tabulator-header .tabulator-col.tabulator-col-group .tabulator-col-group-cols{margin-right:0;margin-left:-1px}.tabulator.tabulator-rtl .tabulator-header .tabulator-col.tabulator-sortable .tabulator-col-title{padding-right:0;padding-left:25px}.tabulator.tabulator-rtl .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-sorter{left:8px;right:auto}.tabulator.tabulator-rtl .tabulator-row .tabulator-cell{border-right:initial;border-left:1px solid #aaa}.tabulator.tabulator-rtl .tabulator-row .tabulator-cell .tabulator-data-tree-branch{margin-right:0;margin-left:5px;border-bottom-left-radius:0;border-bottom-right-radius:1px;border-left:initial;border-right:2px solid #aaa}.tabulator.tabulator-rtl .tabulator-row .tabulator-cell .tabulator-data-tree-control{margin-right:0;margin-left:5px}.tabulator.tabulator-rtl .tabulator-col-resize-handle{position:absolute;left:0;right:auto}.tabulator.tabulator-rtl .tabulator-col-resize-handle.prev{right:0;left:auto}.tabulator-print-fullscreen{position:absolute;top:0;bottom:0;left:0;right:0;z-index:10000}body.tabulator-print-fullscreen-hide>:not(.tabulator-print-fullscreen){display:none!important}.tabulator-print-table{border-collapse:collapse}.tabulator-print-table .tabulator-data-tree-branch{display:inline-block;vertical-align:middle;height:9px;width:7px;margin-top:-9px;margin-right:5px;border-bottom-left-radius:1px;border-left:2px solid #aaa;border-bottom:2px solid #aaa}.tabulator-print-table .tabulator-print-table-group{box-sizing:border-box;border-bottom:1px solid #999;border-right:1px solid #aaa;border-top:1px solid #999;padding:5px 5px 5px 10px;background:#ccc;font-weight:700;min-width:100%}.tabulator-print-table .tabulator-print-table-group:hover{cursor:pointer;background-color:#0000001a}.tabulator-print-table .tabulator-print-table-group.tabulator-group-visible .tabulator-arrow{margin-right:10px;border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid #666;border-bottom:0}.tabulator-print-table .tabulator-print-table-group.tabulator-group-level-1 td{padding-left:30px!important}.tabulator-print-table .tabulator-print-table-group.tabulator-group-level-2 td{padding-left:50px!important}.tabulator-print-table .tabulator-print-table-group.tabulator-group-level-3 td{padding-left:70px!important}.tabulator-print-table .tabulator-print-table-group.tabulator-group-level-4 td{padding-left:90px!important}.tabulator-print-table .tabulator-print-table-group.tabulator-group-level-5 td{padding-left:110px!important}.tabulator-print-table .tabulator-print-table-group .tabulator-group-toggle{display:inline-block}.tabulator-print-table .tabulator-print-table-group .tabulator-arrow{display:inline-block;width:0;height:0;margin-right:16px;border-top:6px solid transparent;border-bottom:6px solid transparent;border-right:0;border-left:6px solid #666;vertical-align:middle}.tabulator-print-table .tabulator-print-table-group span{margin-left:10px;color:#d00}.tabulator-print-table .tabulator-data-tree-control{display:inline-flex;justify-content:center;align-items:center;vertical-align:middle;height:11px;width:11px;margin-right:5px;border:1px solid #333;border-radius:2px;background:rgba(0,0,0,.1);overflow:hidden}.tabulator-print-table .tabulator-data-tree-control:hover{cursor:pointer;background:rgba(0,0,0,.2)}.tabulator-print-table .tabulator-data-tree-control .tabulator-data-tree-control-collapse{display:inline-block;position:relative;height:7px;width:1px;background:transparent}.tabulator-print-table .tabulator-data-tree-control .tabulator-data-tree-control-collapse:after{position:absolute;content:"";left:-3px;top:3px;height:1px;width:7px;background:#333}.tabulator-print-table .tabulator-data-tree-control .tabulator-data-tree-control-expand{display:inline-block;position:relative;height:7px;width:1px;background:#333}.tabulator-print-table .tabulator-data-tree-control .tabulator-data-tree-control-expand:after{position:absolute;content:"";left:-3px;top:3px;height:1px;width:7px;background:#333}
